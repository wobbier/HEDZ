#include "Main.h"



// I'm pretty sure this is just setting all the audio stream's volumes

void ApplyStreamVolumes(void)

{
  int iVar1;
  char cVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  uint uVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_005e4a48;
  if (DAT_005e4a48 != 0) {
    uVar3 = __ftol();
    _AIL_set_stream_volume_8(iVar1,uVar3);
  }
  iVar1 = DAT_005e4a4c;
  if (DAT_005e4a4c != 0) {
    uVar3 = __ftol();
    _AIL_set_stream_volume_8(iVar1,uVar3);
  }
  cVar2 = __ftol();
  DAT_005e4eec = cVar2;
  DAT_00598700 = __ftol();
  if (cVar2 == '\0') {
    DAT_005e4eec = '\x01';
  }
  uVar6 = 0;
  if (DAT_005e4a54 != 0) {
    puVar5 = &DAT_005e49c8;
    do {
      uVar3 = *puVar5;
      uVar4 = __ftol();
      _AIL_set_sample_volume_8(uVar3,uVar4);
      uVar6 = uVar6 + 1;
      puVar5 = puVar5 + 1;
    } while (uVar6 < DAT_005e4a54);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004010f0(void)

{
  CallMysteryFunction(_DAT_005df2f0,DAT_005b938c);
  DAT_00598704 = DAT_005df2f0;
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void PauseAudioStreams(void)

{
  uint uVar1;
  undefined4 *puVar2;
  
  DAT_005e4a5f = 1;
  _AIL_pause_stream_8(DAT_005e4a48,1);
  _AIL_pause_stream_8(DAT_005e4a4c,1);
  uVar1 = 0;
  if (DAT_005e4a54 != 0) {
    puVar2 = &DAT_005e49c8;
    do {
      _AIL_stop_sample_4(*puVar2);
      uVar1 = uVar1 + 1;
      puVar2 = puVar2 + 1;
    } while (uVar1 < DAT_005e4a54);
  }
  return;
}



// /*
//  * Function: ResumeAudioStreamsAndSamples
//  * Description:
//  *   This function pauses the current audio stream and resumes any samples that were paused. 
//  *   It iterates through an array of audio samples and resumes any that are in a paused state
// (status 8).
//  */

void ResumeAudioStreamsAndSamples(void)

{
  int iVar1;
  undefined4 *puVar2;
  uint uVar3;
  undefined4 uVar4;
  
  DAT_005e4a5f = 0;
  uVar4 = DAT_005e4a4c;
  if (DAT_004d7a70 != '\0') {
    uVar4 = DAT_005e4a48;
  }
  _AIL_pause_stream_8(uVar4,0);
  uVar3 = 0;
  if (DAT_005e4a54 != 0) {
    puVar2 = &DAT_005e49c8;
    do {
      iVar1 = _AIL_sample_status_4(*puVar2);
      if (iVar1 == 8) {
        _AIL_resume_sample_4(*puVar2);
      }
      uVar3 = uVar3 + 1;
      puVar2 = puVar2 + 1;
    } while (uVar3 < DAT_005e4a54);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00401230(void)

{
  char cVar1;
  int iVar2;
  int *piVar3;
  bool bVar4;
  ushort uVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int unaff_ESI;
  undefined4 *puVar10;
  undefined4 *puVar11;
  float10 fVar12;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  _DAT_005f7d60 = 1.0 / (float)unaff_ESI;
  iVar2 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  iVar9 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
  if (((((iVar9 == 4) || (iVar9 == 5)) ||
       ((iVar9 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
        (*(char *)(iVar2 + 4) == '\x03')))) ||
      ((*(int *)(iVar9 + 0x7b) == 8 &&
       ((*(char *)(iVar2 + 4) == '\x05' || (*(char *)(iVar2 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar2 + 0x8a) & 0x100000) != 0)) {
    MultiplyMatrices(&DAT_005f76e0,iVar2 + 0x46,iVar2 + 6);
  }
  else {
    puVar10 = (undefined4 *)(iVar2 + 6);
    puVar11 = &DAT_005f76e0;
    for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
  }
  iVar2 = *(int *)(*(int *)(DAT_005df318 + 4) + 0x16);
  do {
    if (iVar2 == 0) {
      return;
    }
    iVar9 = *(int *)(iVar2 + 4);
    uVar5 = *(ushort *)(iVar9 + 0x8e);
    piVar3 = *(int **)(iVar9 + 0x100);
    if ((uVar5 & 1) == 0) {
      uVar5 = uVar5 | 1;
    }
    else {
      uVar5 = uVar5 & 0xfffe;
    }
    *(ushort *)(iVar9 + 0x8e) = uVar5;
    if (*(char *)((int)piVar3 + 0x43) != '\0') {
      *(char *)((int)piVar3 + 0x43) = *(char *)((int)piVar3 + 0x43) + -1;
    }
    if ((DAT_00598d6c == 0) || (iVar2 != DAT_005e45e8)) {
      *(undefined4 *)(iVar9 + 0xc9) = 0;
      if ((*(uint *)(*(int *)(iVar2 + 4) + 0x8a) & 0x400000) == 0) {
        if (*(char *)(piVar3 + 0xc) != '\0') {
          FUN_00404e50(iVar2);
        }
      }
      else {
        if ((DAT_004ca030 == 1) && (DAT_004d814c == 0)) {
          DAT_004d040c = 0;
        }
        if ((DAT_00598d6c == 0) && (DAT_004d040c != 0)) {
          if ((*(char *)((int)piVar3 + 0x2a) == '\0') &&
             (((*(char *)(piVar3 + 0xc) == '\0' &&
               ((*(byte *)(*(int *)(iVar2 + 4) + 0x8a) & 8) == 0)) &&
              (*(char *)(*(int *)(iVar2 + 4) + 0x189) != '\0')))) {
            uVar6 = 0;
            do {
              if ((&DAT_005f76d0)[uVar6] == '\0') {
                *(undefined *)(piVar3 + 0xc) = 0x14;
                *(undefined **)((int)piVar3 + 0xae) = &DAT_005f7720 + uVar6 * 0x140;
                (&DAT_005f76d0)[uVar6] = 1;
                break;
              }
              uVar6 = uVar6 + 1;
            } while (uVar6 < 5);
          }
          if ((DAT_00598e18 == 0) ||
             (*(char *)(*(int *)(*(int *)(iVar2 + 4) + 0x100) + 0x2a) != '\0')) {
            iVar7 = __ftol();
            iVar8 = __ftol();
            iVar9 = *(int *)((int)piVar3 + 0x59);
            if (iVar7 * DAT_005d4964 + iVar8 == iVar9) {
              uVar6 = *(int *)((int)piVar3 + 0x65) + 1;
              *(uint *)((int)piVar3 + 0x65) = uVar6;
              if (*piVar3 == 4) {
                if (100 < uVar6) {
                  *(undefined4 *)((int)piVar3 + 0x65) = 0;
                  *(byte *)(piVar3 + 0x16) = *(byte *)(piVar3 + 0x16) | 8;
                }
              }
              else if (((uVar6 < 0x32) || (*(char *)((int)piVar3 + 0x2a) == '\0')) ||
                      ((*(int *)((int)piVar3 + 0x2b) != 0 || ((*(byte *)(piVar3 + 0x16) & 2) == 0)))
                      ) {
                if ((*(char *)((int)piVar3 + 0x2a) == '\0') &&
                   ((fVar12 = (float10)FUN_004ad3c0((double)(float)piVar3[0x11]),
                    (float10)0.009999999776482582 < fVar12 || (piVar3[0x12] == 1)))) {
                  *(undefined4 *)((int)piVar3 + 0x65) = 0;
                }
              }
              else {
                cVar1 = *(char *)(piVar3 + 10);
                *(undefined4 *)((int)piVar3 + 0x65) = 0;
                if (*(char *)((int)piVar3 + 0x29) == cVar1) {
                  if (cVar1 == '\0') {
                    *(char *)(piVar3 + 10) = *(char *)((int)piVar3 + 0x2a) + -1;
                  }
                  else {
                    *(char *)(piVar3 + 10) = cVar1 + -1;
                  }
                  iVar9 = *(int *)((int)piVar3 + 0xae) + (uint)*(byte *)(piVar3 + 10) * 0x10;
                  piVar3[1] = *(int *)(*(int *)((int)piVar3 + 0xae) +
                                      (uint)*(byte *)(piVar3 + 10) * 0x10);
                  piVar3[2] = *(int *)(iVar9 + 4);
                  piVar3[3] = *(int *)(iVar9 + 8);
                }
                else {
                  *(int *)((int)piVar3 + 0x5d) = iVar9;
                  *(byte *)(piVar3 + 0x16) = *(byte *)(piVar3 + 0x16) & 0xdf;
                  bVar4 = true;
                  piVar3[1] = piVar3[0x13];
                  *piVar3 = 1;
                  piVar3[2] = piVar3[0x14];
                  piVar3[3] = piVar3[0x15];
                  if ((*(char *)((int)piVar3 + 0x2f) != '\0') && (*(int *)((int)piVar3 + 0xb2) != 0)
                     ) {
                    FreeMemory(*(int *)((int)piVar3 + 0xb2));
                    *(undefined4 *)((int)piVar3 + 0xb2) = 0;
                  }
                  *(undefined *)((int)piVar3 + 0x2f) = 0;
                  if (*(int *)((int)piVar3 + 0xae) != 0) {
                    FreeMemory(*(int *)((int)piVar3 + 0xae));
                    *(undefined4 *)((int)piVar3 + 0xae) = 0;
                  }
                  *(undefined *)((int)piVar3 + 0x2a) = 0;
                  *(byte *)(piVar3 + 0x16) = *(byte *)(piVar3 + 0x16) & 0xfd;
                  piVar3[0x13] = *(int *)(*(int *)(iVar2 + 4) + 0x36);
                  piVar3[0x14] = *(int *)(*(int *)(iVar2 + 4) + 0x3a);
                  iVar9 = *(int *)(*(int *)(iVar2 + 4) + 0x3e);
                  piVar3[0x11] = 0x42c80000;
                  piVar3[0x15] = iVar9;
                }
              }
            }
            else {
              *(undefined4 *)((int)piVar3 + 0x65) = 0;
              *(int *)((int)piVar3 + 0x61) = iVar9;
              *(int *)((int)piVar3 + 0x59) = iVar7 * DAT_005d4964 + iVar8;
            }
            if (((!bVar4) && (FUN_00401660(iVar2), *(int *)((int)piVar3 + 0x3f) == 0x19)) &&
               (DAT_004d77ac != (FILE *)0x0)) {
              FID_conflict__fwprintf
                        (DAT_004d77ac,(wchar_t *)s_AI__d__AI_Goal____d__goal_positi_004c50f0,
                         DAT_004d8328,(uint)*(byte *)((int)piVar3 + 0x6d),*piVar3,
                         (double)(float)piVar3[1],(double)(float)piVar3[2],
                         SUB84((double)(float)piVar3[3],0),
                         (int)((ulonglong)(double)(float)piVar3[3] >> 0x20),piVar3[0x12]);
            }
            FUN_00402a50(iVar2);
            FUN_00498da0(iVar2);
          }
        }
      }
    }
    iVar2 = *(int *)(iVar2 + 0x16);
  } while( true );
}



void FUN_00401660(float ****param_1)

{
  float ***pppfVar1;
  float ****ppppfVar2;
  float *pfVar3;
  bool bVar4;
  undefined4 uVar5;
  float **ppfVar6;
  byte bVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  undefined4 *puVar11;
  float ****ppppfVar12;
  float10 fVar13;
  float local_9c;
  undefined4 local_98;
  float local_94;
  float local_90;
  int local_8c;
  float ***local_88 [8];
  float local_68;
  float local_64;
  float local_60;
  float ****local_58;
  float ***local_54;
  float ***local_50;
  undefined8 local_48;
  int local_40;
  float local_3c;
  float ****local_38;
  float local_34;
  float ***local_30;
  float ****local_2c;
  float ****local_28;
  float ****local_24;
  float ****local_20;
  float *****local_1c;
  undefined8 local_18;
  float fVar14;
  float fVar15;
  
  AdjustStackForLargeAllocations();
  local_3c = 0.0;
  local_28 = (float ****)0x0;
  if (param_1 == (float ****)0x0) {
    return;
  }
  pppfVar1 = param_1[1];
  ppppfVar2 = (float ****)pppfVar1[0x40];
  fVar14 = *(float *)((int)pppfVar1 + 0x36) - (float)ppppfVar2[1];
  fVar15 = *(float *)((int)pppfVar1 + 0x3e) - (float)ppppfVar2[3];
  local_24 = *(float *****)(*(int *)((int)pppfVar1 + 0x86) + 0x13);
  if ((fVar15 * fVar15 + fVar14 * fVar14 < 5.0) &&
     (((*(char *)((int)ppppfVar2 + 0x2a) != '\0' && (*(int *)((int)ppppfVar2 + 0x2b) == 0)) ||
      (*ppppfVar2 == (float ***)0x3)))) {
    *(undefined4 *)((int)ppppfVar2 + 0x3f) = 0;
  }
  if (*(int *)((int)ppppfVar2 + 0x3f) != 0) {
    *(int *)((int)ppppfVar2 + 0x3f) = *(int *)((int)ppppfVar2 + 0x3f) + -1;
    return;
  }
  pppfVar1 = param_1[1];
  if (((((pppfVar1[0x26][4] == (float *)0x4) || (pppfVar1[0x26][4] == (float *)0x5)) ||
       ((iVar10 = *(int *)(*(int *)((int)pppfVar1 + 0x86) + 0x13), *(int *)(iVar10 + 0x114) == 6 &&
        (*(char *)(pppfVar1 + 1) == '\x03')))) ||
      ((*(int *)(iVar10 + 0x7b) == 8 &&
       ((*(char *)(pppfVar1 + 1) == '\x05' || (*(char *)(pppfVar1 + 1) == '\x06')))))) ||
     ((*(uint *)((int)pppfVar1 + 0x8a) & 0x100000) != 0)) {
    local_1c = (float *****)local_88;
    local_18 = (double)CONCAT44((int)pppfVar1 + 6,(int)pppfVar1 + 0x46);
    local_20 = (float ****)0x401769;
    MultiplyMatrices();
  }
  else {
    puVar11 = (undefined4 *)((int)pppfVar1 + 6);
    ppppfVar12 = local_88;
    for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
      *ppppfVar12 = (float ***)*puVar11;
      puVar11 = puVar11 + 1;
      ppppfVar12 = ppppfVar12 + 1;
    }
  }
  pppfVar1 = (float ***)local_24;
  local_18 = (double)(ulonglong)((int)local_24 + 0x8d);
  local_1c = (float *****)param_1;
  local_20 = (float ****)0x401781;
  local_8c = FUN_00409bd0();
  local_40 = 1;
  if ((*(short *)((int)pppfVar1 + 0xa1) != 0) &&
     ((((local_8c != 0 && (*(char *)((int)ppppfVar2 + 0x43) == '\0')) ||
       (*(char *)(param_1[1] + 1) == '\x05')) || (*(char *)(param_1[1] + 1) == '\x06')))) {
    local_40 = 0;
  }
  iVar10 = *(int *)((int)pppfVar1 + 0x7f);
  if ((((iVar10 == 0x1b) || (iVar10 == 0x13)) ||
      ((iVar10 == 0x15 || ((iVar10 == 0x1a || (iVar10 == 0x1f)))))) || (iVar10 == 0xd)) {
    local_40 = 1;
  }
  if ((DAT_005a4b88 == param_1) && (iVar10 == 0x19)) {
    local_40 = 1;
  }
  local_1c = (float *****)DAT_00598ff0;
  local_20 = (float ****)0x40180b;
  local_20 = (float ****)FUN_0045cbc0();
  local_38 = (float ****)((float)DAT_005f7710 - (float)local_58);
  local_30 = (float ***)((float)DAT_005f7718 - (float)local_50);
  local_34 = 0.0;
  local_18 = (double)CONCAT44(&local_38,&local_38);
  local_1c = (float *****)0x401855;
  fVar13 = (float10)FUN_0045fc20();
  fVar15 = (float)fVar13;
  if (((*(byte *)(ppppfVar2 + 0x16) & 2) == 0) &&
     ((fVar15 < (float)local_1c || (DAT_005a4b88 == param_1)))) {
    local_18 = (double)CONCAT44(ppppfVar2,0x40187d);
    FUN_00404620();
  }
  bVar7 = *(byte *)(ppppfVar2 + 0x16);
  bVar4 = false;
  *(byte *)(ppppfVar2 + 0x16) = bVar7 & 0xfb;
  if (param_1 == DAT_005a4b88) {
    iVar10 = 1;
    *(byte *)(ppppfVar2 + 0x16) = bVar7 & 0xfb | 4;
    local_18 = (double)CONCAT44(ppppfVar2,0x4018a9);
    FUN_00404620();
  }
  else {
    iVar10 = 0;
  }
  if ((*(byte *)(ppppfVar2 + 0x16) & 2) == 0) {
    local_28 = (float ****)((float)DAT_005f7714 - -1.28);
    local_1c = &local_28;
    local_18 = 0.0;
    local_20 = (float ****)0x3f800000;
    local_24 = (float ****)DAT_005f7718;
    local_34 = (float)local_54 - -1.28;
    local_2c = (float ****)DAT_005f7710;
    local_30 = local_50;
    local_38 = local_58;
    local_3c = 5.886439e-39;
    fVar13 = (float10)FUN_00421a70();
    if (fVar13 == (float10)-10000.0) {
      local_18 = (double)ZEXT48(&local_28);
      local_1c = (float *****)0x1;
      local_20 = param_1;
      iVar10 = 1;
      local_24 = (float ****)0x401928;
      iVar8 = FUN_0047db60();
      if (iVar8 != 0) {
        *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) | 0x10;
      }
      local_18 = (double)CONCAT44(ppppfVar2,0x401939);
      FUN_00404620();
      bVar7 = *(byte *)(ppppfVar2 + 0x16);
      *(byte *)(ppppfVar2 + 0x16) = bVar7 | 0x84;
      if (local_28 == (float ****)0x0) {
        *(byte *)(ppppfVar2 + 0x16) = bVar7 & 0xbf | 0xa4;
        ppppfVar2[4] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36);
        ppppfVar2[5] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a);
        ppppfVar2[6] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e);
      }
      else {
        *(byte *)(ppppfVar2 + 0x16) = bVar7 | 0xc4;
      }
      if (*(char *)((int)ppppfVar2 + 0x2a) == '\0') {
        *(undefined *)(ppppfVar2 + 10) = 0;
        *(undefined *)((int)ppppfVar2 + 0x29) = 0;
        *(undefined *)((int)ppppfVar2 + 0x31) = 0;
      }
      bVar4 = true;
    }
    if (((*(byte *)(ppppfVar2 + 0x16) & 2) == 0) && (*(char *)((int)ppppfVar2 + 0x2a) == '\0')) {
      *(undefined4 *)((int)ppppfVar2 + 0x3f) = 0x19;
      *local_18._4_4_ = (float *)ppppfVar2[0x13];
      ((int *)local_18._4_4_)[1] = (int)ppppfVar2[0x14];
      ((int *)local_18._4_4_)[2] = (int)ppppfVar2[0x15];
      return;
    }
  }
  local_48 = (double)fVar15;
  local_1c = (float *****)0x4019ed;
  local_18 = local_48;
  fVar13 = (float10)FUN_004ad534();
  local_18 = (double)CONCAT44(&local_9c,&local_9c);
  local_38 = (float ****)(float)(((float10)1.0 / fVar13) * (float10)(float)local_38);
  local_30 = (float ***)(float)(((float10)1.0 / fVar13) * (float10)(float)local_30);
  local_9c = (float)local_58 - (float)ppppfVar2[0x13];
  local_98 = 0;
  local_94 = (float)local_50 - (float)ppppfVar2[0x15];
  local_2c = (float ****)(local_60 * (float)local_30 + local_68 * (float)local_38);
  local_1c = (float *****)0x401a60;
  fVar13 = (float10)FUN_0045fc20();
  local_90 = (float)fVar13;
  if (!bVar4) {
    if (iVar10 == 0) {
      local_28 = (float ****)((float)DAT_005f7714 - -1.28);
      local_1c = &local_28;
      local_18 = 0.0;
      local_20 = (float ****)0x3f800000;
      local_24 = (float ****)DAT_005f7718;
      local_34 = (float)local_54 - -1.28;
      local_2c = (float ****)DAT_005f7710;
      local_30 = local_50;
      local_38 = local_58;
      local_3c = 5.887062e-39;
      fVar13 = (float10)FUN_00421a70();
      if (fVar13 != (float10)-10000.0) {
        *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) & 0x2f;
        goto LAB_00401b6e;
      }
    }
    local_18 = 0.0;
    local_1c = (float *****)0x1;
    local_20 = param_1;
    local_24 = (float ****)0x401ae1;
    iVar10 = FUN_0047db60();
    if (iVar10 == 0) {
      bVar7 = *(byte *)(ppppfVar2 + 0x16) & 0xef;
    }
    else {
      bVar7 = *(byte *)(ppppfVar2 + 0x16) | 0x10;
    }
    *(byte *)(ppppfVar2 + 0x16) = bVar7;
    if (local_28 == (float ****)0x0) {
      *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) & 0xbf | 0x20;
      ppppfVar2[4] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36);
      ppppfVar2[5] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a);
      ppppfVar2[6] = *(float ****)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e);
    }
    else {
      *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) | 0x40;
    }
    local_18 = (double)CONCAT44(ppppfVar2,0x401b47);
    FUN_00404620();
    *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) | 0x84;
    if (*(char *)((int)ppppfVar2 + 0x2a) == '\0') {
      *(undefined4 *)((int)ppppfVar2 + 0x65) = 0;
      *(undefined *)(ppppfVar2 + 10) = 0;
      *(undefined *)((int)ppppfVar2 + 0x29) = 0;
      *(undefined *)((int)ppppfVar2 + 0x31) = 0;
    }
  }
LAB_00401b6e:
  pfVar3 = param_1[1][0x40][0x12];
  if ((3 < (int)pfVar3) && ((int)pfVar3 < 4)) {
    *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
    return;
  }
  ppfVar6 = local_18._4_4_;
  if ((((float)local_1c < 0.1) && (*(char *)((int)ppppfVar2 + 0x2a) == '\0')) &&
     (ppppfVar2[0x12] != (float ***)0x1)) {
    local_18 = 4.940656458412465e-324;
    *ppfVar6 = (float *)local_58;
    pfVar3 = *ppfVar6;
    ppppfVar2[2] = local_54;
    *ppppfVar2 = (float ***)0x2;
    *(undefined4 *)((int)ppppfVar2 + 0x3f) = 0x19;
    ppppfVar2[3] = local_50;
    if (((float)ppppfVar2[3] - (float)local_50) * ((float)ppppfVar2[3] - (float)local_50) +
        ((float)pfVar3 - (float)local_58) * ((float)pfVar3 - (float)local_58) < 5.0) {
      return;
    }
    if (*(uint *)((int)ppppfVar2 + 0x65) < 0x33) {
      return;
    }
    ppppfVar2[0x11] = (float ***)0x41200000;
  }
  if (ppppfVar2[0x12] == (float ***)0x4) {
    if ((*(uint *)((int)param_1[1] + 0x8a) & 0x2000) == 0) {
      *ppppfVar2 = (float ***)0x2;
      *ppfVar6 = (float *)ppppfVar2[7];
      ppfVar6[1] = (float *)ppppfVar2[8];
      ppfVar6[2] = (float *)ppppfVar2[9];
      *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
      return;
    }
  }
  else {
    pppfVar1 = param_1[1];
    if (((((*(uint *)((int)pppfVar1 + 0x8a) & 0x2000) != 0) && (pppfVar1[0x26][4] != (float *)0x4))
        && ((pppfVar1[0x26][4] != (float *)0x5 &&
            ((iVar10 = *(int *)(*(int *)((int)pppfVar1 + 0x86) + 0x13),
             *(int *)(iVar10 + 0x114) != 6 || (*(char *)(pppfVar1 + 1) != '\x03')))))) &&
       (((*(int *)(iVar10 + 0x7b) != 8 ||
         ((*(char *)(pppfVar1 + 1) != '\x05' && (*(char *)(pppfVar1 + 1) != '\x06')))) &&
        ((*(uint *)((int)pppfVar1 + 0x8a) & 0x100000) == 0)))) {
      *ppppfVar2 = (float ***)0x2;
      *ppfVar6 = (float *)ppppfVar2[7];
      ppfVar6[1] = (float *)ppppfVar2[8];
      ppfVar6[2] = (float *)ppppfVar2[9];
      *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
      return;
    }
  }
  if ((*(byte *)((int)param_1[1] + 0x8a) & 0xc0) != 0) {
    ppppfVar2[7] = *(float ****)((int)param_1[1] + 0x36);
    ppppfVar2[8] = *(float ****)((int)param_1[1] + 0x3a);
    ppppfVar2[9] = *(float ****)((int)param_1[1] + 0x3e);
  }
  if ((float)local_18 != 0.0) {
    return;
  }
  local_1c = (float *****)local_88;
  local_18 = (double)CONCAT44(local_40,local_20);
  local_24 = param_1;
  local_28 = (float ****)0x401d37;
  local_20 = ppppfVar2;
  uVar9 = FUN_004025e0();
  local_18 = (double)(ulonglong)uVar9;
  if (uVar9 != 0) {
    return;
  }
  if (fVar15 < (float)local_1c) {
    local_18 = (double)CONCAT44(ppppfVar2,0x401d58);
    FUN_00404620();
  }
  if (*(char *)((int)param_1[1][0x40] + 0x2a) != '\0') {
    local_18 = (double)CONCAT44(local_88,local_2c);
    local_1c = (float *****)
               (local_60 * (float)local_30 + local_64 * local_34 + local_68 * (float)local_38);
    local_24 = (float ****)local_8c;
    local_2c = param_1;
    local_30 = (float ***)0x401da2;
    local_28 = ppppfVar2;
    local_20 = (float ****)fVar15;
    FUN_004048b0();
    return;
  }
  uVar9 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
  if (((uVar9 & 0x200) != 0) &&
     ((local_18._4_4_ = ppfVar6, (uVar9 & 0x10) == 0 || ((*(byte *)(ppppfVar2 + 0x16) & 0x80) == 0))
     )) goto LAB_00402580;
  local_18 = (double)CONCAT44(&local_38,0x401dde);
  FUN_0045eab0();
  pppfVar1 = param_1[1];
  iVar10 = *(int *)(*(int *)((int)pppfVar1 + 0x86) + 0x13);
  fVar14 = local_60 * (float)local_30 + local_64 * local_34 + local_68 * (float)local_38;
  iVar8 = *(int *)(iVar10 + 0x7b);
  if (((*(byte *)(ppppfVar2 + 0x16) & 0x80) == 0) &&
     (((*(byte *)(ppppfVar2 + 0x16) & 0x20) != 0 && (ppppfVar2[0x12] != (float ***)0x2)))) {
    *(undefined4 *)((int)ppppfVar2 + 0x65) = 0;
    if (*(byte *)((int)ppppfVar2 + 0x31) < *(byte *)(ppppfVar2 + 0xc)) {
      *(undefined4 *)
       ((uint)*(byte *)((int)ppppfVar2 + 0x31) * 0x10 + *(int *)((int)ppppfVar2 + 0xae)) =
           *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36);
      *(undefined4 *)
       ((uint)*(byte *)((int)ppppfVar2 + 0x31) * 0x10 + 4 + *(int *)((int)ppppfVar2 + 0xae)) =
           *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a);
      *(undefined4 *)
       ((uint)*(byte *)((int)ppppfVar2 + 0x31) * 0x10 + 8 + *(int *)((int)ppppfVar2 + 0xae)) =
           *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e);
      *(char *)((int)ppppfVar2 + 0x31) = *(char *)((int)ppppfVar2 + 0x31) + '\x01';
    }
    bVar7 = *(byte *)(ppppfVar2 + 10);
    ppfVar6 = local_18._4_4_;
    if (bVar7 == 0) {
      *local_18._4_4_ = (float *)ppppfVar2[4];
      local_18._4_4_[1] = (float *)ppppfVar2[5];
      local_18._4_4_[2] = (float *)ppppfVar2[6];
      *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) | 4;
    }
    else if (bVar7 < *(byte *)((int)ppppfVar2 + 0x31) || bVar7 == *(byte *)((int)ppppfVar2 + 0x31))
    {
      iVar10 = (uint)bVar7 * 0x10 + *(int *)((int)ppppfVar2 + 0xae);
      *local_18._4_4_ = *(float **)(iVar10 + -0x10);
      ppppfVar2[2] = *(float ****)(iVar10 + -0xc);
      ppppfVar2[3] = *(float ****)(iVar10 + -8);
    }
    if (((float)ppppfVar2[3] - (float)local_50) * ((float)ppppfVar2[3] - (float)local_50) +
        ((float)*local_18._4_4_ - (float)local_58) * ((float)*local_18._4_4_ - (float)local_58) <
        5.0) {
      bVar7 = bVar7 + 1;
      *(undefined4 *)((int)ppppfVar2 + 0x65) = 0;
      *(byte *)(ppppfVar2 + 10) = bVar7;
      if (*(byte *)((int)ppppfVar2 + 0x31) < bVar7) {
        *(byte *)(ppppfVar2 + 0x16) = *(byte *)(ppppfVar2 + 0x16) & 0xdf;
        *local_18._4_4_ = (float *)DAT_005f7710;
        ppppfVar2[2] = DAT_005f7714;
        ppppfVar2[3] = DAT_005f7718;
      }
      else {
        iVar10 = (uint)bVar7 * 0x10 + *(int *)((int)ppppfVar2 + 0xae);
        *local_18._4_4_ = *(float **)(iVar10 + -0x10);
        ppppfVar2[2] = *(float ****)(iVar10 + -0xc);
        ppppfVar2[3] = *(float ****)(iVar10 + -8);
      }
    }
    if (ppppfVar2[0x12] == (float ***)0x0) {
      local_18 = (double)ZEXT48(local_18._4_4_);
      local_1c = (float *****)param_1;
      local_20 = (float ****)0x401f9a;
      iVar10 = FUN_00404ec0();
      if (iVar10 == 0) {
        *ppfVar6 = (float *)local_58;
        ppppfVar2[2] = local_54;
        ppppfVar2[3] = local_50;
        *ppppfVar2 = (float ***)0x1;
        goto LAB_00401fc0;
      }
    }
    *ppppfVar2 = (float ***)0x3;
LAB_00401fc0:
    puVar11 = local_18._4_4_;
    local_24 = (float ****)ppppfVar2[3];
    local_28 = (float ****)((float)ppppfVar2[2] - -1.28);
    local_1c = &local_28;
    local_18 = 0.0;
    local_20 = (float ****)0x3f800000;
    local_2c = (float ****)*puVar11;
    local_34 = (float)local_54 - -1.28;
    local_30 = local_50;
    local_38 = local_58;
    local_3c = 5.888958e-39;
    fVar13 = (float10)FUN_00421a70();
    ppfVar6 = (float **)local_2c;
    if ((fVar13 != (float10)-10000.0) || (local_28 != (float ****)0x0)) {
      local_1c = &local_38;
      local_18._4_4_ = (float **)local_2c;
      local_20 = local_88;
      local_28 = param_1;
      local_2c = (float ****)0x402039;
      local_24 = ppppfVar2;
      local_18._0_4_ = fVar14;
      fVar13 = (float10)FUN_004050a0();
      if (fVar13 == (float10)-999.0) {
        return;
      }
      *local_18._4_4_ = (float *)DAT_005f7710;
      ppppfVar2[2] = DAT_005f7714;
      ppppfVar2[3] = DAT_005f7718;
    }
    local_18 = (double)CONCAT44(ppppfVar2,0x40206f);
    FUN_00404620();
    local_18 = (double)CONCAT44(ppfVar6,fVar14);
    *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
    fVar15 = (float)*ppfVar6 - (float)local_58;
    local_1c = (float *****)
               (((float)ppppfVar2[3] - (float)local_50) * ((float)ppppfVar2[3] - (float)local_50) +
               fVar15 * fVar15);
    local_24 = param_1;
    local_28 = (float ****)0x4020b6;
    local_20 = ppppfVar2;
    FUN_00405b40();
    return;
  }
  if (((((((iVar8 == 2) || (iVar8 == 3)) || (iVar8 == 7)) ||
        (((*(int *)(iVar10 + 0x7f) == 0x16 || (pppfVar1[0x26][4] == (float *)0x4)) ||
         ((pppfVar1[0x26][4] == (float *)0x5 ||
          ((*(int *)(iVar10 + 0x114) == 6 && (*(char *)(pppfVar1 + 1) == '\x03')))))))) ||
       ((iVar8 == 8 && ((*(char *)(pppfVar1 + 1) == '\x05' || (*(char *)(pppfVar1 + 1) == '\x06'))))
       )) || ((*(uint *)((int)pppfVar1 + 0x8a) & 0x100000) != 0)) &&
     (ppppfVar2[0x12] != (float ***)0x2)) {
    if (*(int *)(iVar10 + 0x7f) == 0x16) {
      if (local_40 == 0) {
LAB_00402190:
        local_18._4_4_ = (float **)((ulonglong)local_48 >> 0x20);
        local_18._0_4_ = (float)(undefined4)local_48;
        local_1c = (float *****)0x40219d;
        fVar13 = (float10)FUN_004ad534();
        fVar13 = fVar13 - (float10)-5.0;
        *ppppfVar2 = (float ***)0x2;
        local_18 = (double)CONCAT44(local_18._4_4_,1);
        goto LAB_004021b8;
      }
    }
    else if ((400.0 <= fVar15) || (fVar14 <= 0.0)) goto LAB_00402190;
    local_1c = &local_38;
    local_18._4_4_ = (float **)local_2c;
    local_20 = local_88;
    local_28 = param_1;
    local_2c = (float ****)0x40216d;
    local_24 = ppppfVar2;
    local_18._0_4_ = fVar14;
    fVar13 = (float10)FUN_004050a0();
    if (fVar13 == (float10)-999.0) {
      return;
    }
    *ppppfVar2 = (float ***)0x2;
    local_18 = (double)CONCAT44(local_18._4_4_,1);
  }
  else {
    fVar13 = (float10)local_3c;
  }
LAB_004021b8:
  iVar10 = (int)(float)local_18;
  if (((float)local_18 == 0.0) &&
     ((((pppfVar1 = ppppfVar2[0x12], pppfVar1 == (float ***)0x3 || (pppfVar1 == (float ***)0x4)) &&
       (*(byte *)(*(int *)((int)param_1[1] + 0x86) + 4) < 0x32)) ||
      (((local_40 != 0 || (pppfVar1 == (float ***)0x2)) &&
       ((*(byte *)(ppppfVar2 + 0x16) & 0x80) != 0)))))) {
    local_1c = &local_38;
    local_18 = (double)CONCAT44(local_2c,fVar14);
    local_20 = local_88;
    local_28 = param_1;
    local_2c = (float ****)0x40220f;
    local_24 = ppppfVar2;
    fVar13 = (float10)FUN_004050a0();
    if (fVar13 == (float10)-999.0) {
      return;
    }
    iVar10 = 1;
  }
  ppppfVar12 = local_24;
  if ((local_40 != 0) && (iVar10 == 0)) {
    if ((*(byte *)(ppppfVar2 + 0x16) & 0x80) == 0) {
      local_1c = &local_38;
      local_18 = (double)CONCAT44(local_2c,fVar14);
      local_20 = local_88;
      local_28 = param_1;
      local_2c = (float ****)0x402265;
      local_24 = ppppfVar2;
      fVar13 = (float10)FUN_004050a0();
      if (fVar13 == (float10)-999.0) {
        return;
      }
      *ppppfVar2 = (float ***)0x3;
      iVar10 = 1;
      ppppfVar12 = local_24;
    }
    else if (*(float *)((int)local_24 + 0xb9) <= fVar15) {
      local_1c = &local_38;
      local_18 = (double)CONCAT44(local_2c,fVar14);
      local_20 = local_88;
      local_28 = param_1;
      local_2c = (float ****)0x4022fa;
      local_24 = ppppfVar2;
      fVar13 = (float10)FUN_004050a0();
      if (fVar13 == (float10)-999.0) {
        return;
      }
      *ppppfVar2 = (float ***)0x2;
      iVar10 = 1;
    }
    else {
      local_1c = &local_38;
      local_18 = (double)CONCAT44(local_2c,fVar14);
      local_20 = local_88;
      local_28 = param_1;
      local_2c = (float ****)0x4022bc;
      local_24 = ppppfVar2;
      fVar13 = (float10)FUN_004050a0();
      if (fVar13 == (float10)-999.0) {
        return;
      }
      *ppppfVar2 = (float ***)0x1;
      iVar10 = 1;
    }
  }
  uVar5 = local_48._4_4_;
  if ((iVar10 == 0) && ((*(byte *)(ppppfVar2 + 0x16) & 0x10) != 0)) {
    *ppppfVar2 = (float ***)0x2;
    local_24 = *(float *****)((int)ppppfVar12 + 0xbd);
    local_18 = local_48;
    local_1c = (float *****)0x402357;
    fVar13 = (float10)FUN_004ad534();
    fVar15 = (float)fVar13;
    *ppppfVar2 = (float ***)0x2;
    local_18 = (double)(float)local_1c;
    local_1c = (float *****)0x402373;
    fVar13 = (float10)FUN_004ad534();
    local_20 = (float ****)(float)fVar13;
    local_18 = (double)(float)local_24;
    local_1c = (float *****)0x402389;
    fVar13 = (float10)FUN_004ad534();
    local_3c = (float)((fVar13 + (float10)(float)local_20) * (float10)-0.5);
    if (*(int *)((int)ppppfVar12 + 0x7f) == 0x16) {
      local_18 = (double)CONCAT44(uVar5,(undefined4)local_48);
      local_1c = (float *****)0x4023aa;
      fVar13 = (float10)FUN_004ad534();
      iVar10 = 1;
    }
    else if (-local_3c <= fVar15) {
      fVar13 = (float10)local_3c + (float10)fVar15;
      iVar10 = 1;
    }
    else {
      fVar13 = (float10)0.0;
      iVar10 = 1;
    }
  }
  if (iVar10 == 0) {
    bVar4 = false;
    if ((*(byte *)(ppppfVar2 + 0x16) & 0x80) != 0) {
      local_24 = *(float *****)((int)ppppfVar12 + 0xbd);
      local_18 = (double)CONCAT44(uVar5,(undefined4)local_48);
      local_1c = (float *****)0x402410;
      fVar13 = (float10)FUN_004ad534();
      fVar15 = (float)fVar13;
      *ppppfVar2 = (float ***)0x2;
      local_18 = (double)(float)local_1c;
      local_1c = (float *****)0x40242c;
      fVar13 = (float10)FUN_004ad534();
      local_20 = (float ****)(float)fVar13;
      local_18 = (double)(float)local_24;
      local_1c = (float *****)0x402442;
      fVar13 = (float10)FUN_004ad534();
      local_3c = (float)((fVar13 + (float10)(float)local_20) * (float10)-0.5);
      if (*(int *)((int)ppppfVar12 + 0x7f) == 0x16) {
        local_18 = (double)CONCAT44(uVar5,(undefined4)local_48);
        local_1c = (float *****)0x402463;
        fVar13 = (float10)FUN_004ad534();
      }
      else if (-local_3c <= fVar15) {
        fVar13 = (float10)local_3c + (float10)fVar15;
      }
      else {
        fVar13 = (float10)0.0;
      }
      bVar4 = true;
    }
    if (!bVar4) {
      local_18 = (double)CONCAT44(uVar5,(undefined4)local_48);
      local_1c = (float *****)0x40249a;
      fVar13 = (float10)FUN_004ad534();
      *ppppfVar2 = (float ***)0x2;
    }
  }
  if ((param_1[1][0x26][4] == (float *)0x4) || (param_1[1][0x26][4] == (float *)0x5)) {
    local_18 = (double)CONCAT44(uVar5,(undefined4)local_48);
    local_1c = (float *****)0x4024c8;
    fVar13 = (float10)FUN_004ad534();
  }
  ppfVar6 = local_18._4_4_;
  pppfVar1 = ppppfVar2[0x12];
  *local_18._4_4_ = (float *)(float)(fVar13 * (float10)(float)local_38 + (float10)(float)local_58);
  ppppfVar2[2] = (float ***)((float)DAT_005f7714 - -2.0);
  ppppfVar2[3] = (float ***)(float)(fVar13 * (float10)(float)local_30 + (float10)(float)local_50);
  if (pppfVar1 == (float ***)0x0) {
    local_18 = (double)ZEXT48(local_18._4_4_);
    local_1c = (float *****)param_1;
    local_20 = (float ****)0x402503;
    iVar10 = FUN_00404ec0();
    if (iVar10 == 0) {
      *ppfVar6 = (float *)local_58;
      ppppfVar2[2] = local_54;
      ppppfVar2[3] = local_50;
      *ppppfVar2 = (float ***)0x2;
    }
  }
  local_18 = (double)CONCAT44(ppppfVar2,0x40252c);
  FUN_00404620();
  local_18._4_4_ = (float **)local_2c;
  *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
  fVar15 = (float)*ppfVar6 - (float)local_58;
  local_1c = (float *****)
             (((float)ppppfVar2[3] - (float)local_50) * ((float)ppppfVar2[3] - (float)local_50) +
             fVar15 * fVar15);
  local_24 = param_1;
  local_28 = (float ****)0x402573;
  local_20 = ppppfVar2;
  local_18._0_4_ = fVar14;
  FUN_00405b40();
  local_18._0_4_ = 1.401298e-45;
LAB_00402580:
  if ((float)local_18 != 0.0) {
    return;
  }
  pppfVar1 = ppppfVar2[0x15];
  ppppfVar2[2] = ppppfVar2[0x14];
  *local_18._4_4_ = (float *)ppppfVar2[0x13];
  ppppfVar2[3] = pppfVar1;
  if (5.0 < local_90) {
    *ppppfVar2 = (float ***)0x1;
    *(undefined4 *)((int)ppppfVar2 + 0x3f) = 0x19;
    return;
  }
  *ppppfVar2 = (float ***)0x0;
  *(undefined4 *)((int)ppppfVar2 + 0x3f) = 0x19;
  return;
}



undefined4
FUN_004025e0(undefined4 *******param_1,int *param_2,float param_3,int param_4,int param_5)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  int *piVar8;
  int *piVar9;
  float10 fVar10;
  int local_6c [12];
  float local_3c;
  float local_38;
  float local_34;
  undefined4 uStack_30;
  float local_2c;
  float local_28;
  undefined4 *******local_24;
  int *local_20;
  undefined4 *******local_1c;
  int *local_18;
  float *local_14;
  undefined4 ******ppppppuVar11;
  undefined4 ******ppppppuVar12;
  float fVar13;
  float fVar14;
  
  fVar3 = param_3;
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  local_20 = (int *)0x0;
  piVar4 = (int *)((int)param_1[1] + 0x109);
  iVar5 = 5;
  do {
    if (*piVar4 != 0) {
      iVar6 = iVar6 + 1;
    }
    piVar4 = piVar4 + 1;
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  ppppppuVar11 = (undefined4 ******)0x501502f9;
  local_14 = (float *)0xffffffff;
  local_18 = (int *)0x0;
  fVar13 = -NAN;
  if ((iVar6 < 5) && (*(char *)((int)param_2 + 0x2a) == '\0')) {
    fVar13 = 0.0;
    pbVar7 = &DAT_005dfe80;
    ppppppuVar12 = ppppppuVar11;
    do {
      if ((*(int *)(pbVar7 + 0xab) != 0) && ((*pbVar7 & 8) == 0)) {
        piVar4 = (int *)(pbVar7 + 0x1b);
        piVar8 = local_6c;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar8 = *piVar4;
          piVar4 = piVar4 + 1;
          piVar8 = piVar8 + 1;
        }
        local_14 = (float *)local_34;
        local_18 = (int *)local_3c;
        local_1c = (undefined4 *******)DAT_00598ff0;
        local_20 = (int *)0x402673;
        iVar5 = FUN_0045cbc0();
        if ((param_4 == iVar5) &&
           (fVar2 = *(float *)((int)param_3 + 0x30) - local_3c,
           fVar14 = *(float *)((int)param_3 + 0x34) - local_38,
           fVar1 = *(float *)((int)param_3 + 0x38) - local_34,
           ppppppuVar11 = (undefined4 ******)(fVar1 * fVar1 + fVar14 * fVar14 + fVar2 * fVar2),
           (float)ppppppuVar11 < 1e+10)) {
          local_18 = (int *)0x1;
          local_14 = (float *)fVar13;
          break;
        }
      }
      ppppppuVar11 = ppppppuVar12;
      pbVar7 = pbVar7 + 0xe0;
      fVar13 = (float)((int)fVar13 + 1);
      ppppppuVar12 = ppppppuVar11;
    } while ((int)pbVar7 < 0x5e2180);
    fVar14 = 0.0;
    piVar4 = &DAT_005cf317;
    do {
      if (((*piVar4 != 4) && (*piVar4 != 0)) && ((undefined4 *******)piVar4[3] != param_1)) {
        piVar8 = piVar4 + -0x24;
        piVar9 = local_6c;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar9 = *piVar8;
          piVar8 = piVar8 + 1;
          piVar9 = piVar9 + 1;
        }
        local_14 = (float *)local_34;
        local_18 = (int *)local_3c;
        local_1c = (undefined4 *******)DAT_00598ff0;
        local_20 = (int *)0x40273b;
        iVar5 = FUN_0045cbc0();
        if ((param_4 == iVar5) &&
           (fVar2 = *(float *)((int)param_3 + 0x30) - local_3c,
           fVar13 = *(float *)((int)param_3 + 0x34) - local_38,
           fVar1 = *(float *)((int)param_3 + 0x38) - local_34,
           ppppppuVar12 = (undefined4 ******)(fVar1 * fVar1 + fVar13 * fVar13 + fVar2 * fVar2),
           (float)ppppppuVar12 < (float)ppppppuVar11)) {
          local_18 = (int *)0x2;
          fVar13 = fVar14;
          ppppppuVar11 = ppppppuVar12;
          break;
        }
      }
      piVar4 = piVar4 + 0x33;
      fVar14 = (float)((int)fVar14 + 1);
      fVar13 = (float)local_14;
    } while ((int)piVar4 < 0x5cffd7);
  }
  if (fVar13 == -NAN) {
    *(byte *)(param_2 + 0x16) = *(byte *)(param_2 + 0x16) & 0xf7;
  }
  else if (((*(char *)((int)param_1[1][0x40] + 0x2a) == '\0') &&
           ((*(byte *)(param_2 + 0x16) & 8) == 0)) &&
          ((fVar14 = (float)param_2[0x11] * (float)param_2[0x11], param_2[0x12] == 2 ||
           ((((*param_2 != 0 || ((float)ppppppuVar11 < fVar14)) || (param_5 != 0)) ||
            ((*(byte *)((int)param_1[1] + 0x8a) & 8) != 0)))))) {
    if (local_18 == (int *)0x1) {
      piVar4 = &DAT_005dfe9b + (int)fVar13 * 0x38;
    }
    else {
      piVar4 = &DAT_005cf287 + (int)fVar13 * 0x33;
    }
    piVar8 = local_6c;
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *piVar8 = *piVar4;
      piVar4 = piVar4 + 1;
      piVar8 = piVar8 + 1;
    }
    local_28 = local_38 - -1.28;
    local_14 = (float *)0x0;
    local_1c = &local_1c;
    local_18 = (int *)0x0;
    local_20 = (int *)0x3f800000;
    local_24 = (undefined4 *******)local_34;
    uStack_30 = *(undefined4 *)((int)param_3 + 0x38);
    local_34 = *(float *)((int)param_3 + 0x34) - -1.28;
    local_38 = *(float *)((int)param_3 + 0x30);
    local_2c = local_3c;
    local_3c = 5.892042e-39;
    fVar10 = (float10)FUN_00421a70();
    if ((fVar10 == (float10)-10000.0) && (local_1c == (undefined4 *******)0x0)) {
      *param_2 = 4;
      *(byte *)(param_2 + 0x16) = *(byte *)(param_2 + 0x16) | 4;
      *(undefined4 *)((int)param_2 + 0x65) = 0;
      if ((param_1[1][0x26][4] == (undefined4 ****)0x4) ||
         (param_1[1][0x26][4] == (undefined4 ****)0x5)) {
        local_14 = &local_2c;
        local_2c = local_3c - *(float *)((int)param_3 + 0x30);
        local_24 = (undefined4 *******)(local_34 - *(float *)((int)param_3 + 0x38));
        fVar1 = local_2c * local_2c;
        fVar13 = (float)local_24 * (float)local_24;
        local_18 = (int *)0x402937;
        FUN_0045eab0();
        param_3 = *(float *)((int)param_3 + 0x20) * local_2c +
                  *(float *)((int)param_3 + 0x28) * (float)local_24;
        if ((fVar14 <= fVar13 + fVar1) || (param_3 <= 0.0)) {
          param_2[2] = (int)local_38;
          param_2[1] = (int)local_3c;
          param_2[3] = (int)local_34;
        }
        else {
          param_2[1] = (int)(local_2c * fVar14 + local_3c);
          param_2[2] = (int)(local_38 - -30.0);
          param_2[3] = (int)((float)local_24 * fVar14 + local_34);
        }
      }
      else {
        param_2[2] = (int)local_38;
        param_2[1] = (int)local_3c;
        param_2[3] = (int)local_34;
      }
      local_18 = param_2 + 1;
      if (param_2[0x12] == 0) {
        local_14 = (float *)0x1;
        local_1c = param_1;
        local_20 = (int *)0x4029c3;
        iVar5 = FUN_00404ec0();
        if (iVar5 == 0) {
          return local_20;
        }
      }
      *(undefined4 *)((int)param_1[1][0x40] + 0x3f) = 0x19;
      local_28 = 0.0;
      local_14 = &local_2c;
      local_2c = *(float *)((int)fVar3 + 0x38) -
                 *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e);
      local_18 = (int *)0x402a0d;
      FUN_0045eab0();
      local_1c = (undefined4 *******)ppppppuVar11;
      local_14 = (float *)(*(float *)((int)fVar3 + 0x20) * local_2c +
                          *(float *)((int)fVar3 + 0x28) * (float)local_24);
      local_18 = (int *)param_3;
      local_24 = param_1;
      local_28 = 5.892607e-39;
      local_20 = param_2;
      FUN_00405b40();
      local_20 = (int *)0x1;
    }
  }
  return local_20;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00402a50(float param_1)

{
  uint *puVar1;
  float fVar2;
  byte bVar3;
  undefined4 *puVar4;
  int *piVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  float *pfVar14;
  float10 fVar15;
  undefined4 local_2b0;
  float local_2aa [8];
  float local_28a;
  float local_282;
  undefined4 local_27a;
  undefined4 local_272;
  float local_117;
  undefined local_100 [12];
  undefined local_f4 [12];
  undefined local_e8 [4];
  undefined local_e4 [4];
  undefined local_e0 [4];
  float local_dc [12];
  float *local_ac;
  undefined *local_a8;
  undefined4 local_a4;
  float local_9c;
  float local_98;
  float local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  float *local_84;
  undefined *local_80;
  undefined4 local_7c;
  float local_78;
  undefined4 local_74;
  float local_70;
  undefined4 local_6c;
  int local_68;
  float local_64;
  undefined4 *local_60;
  int local_5c;
  float local_58;
  float local_54;
  undefined4 local_50;
  float local_4c;
  uint local_48;
  float local_44;
  int local_40;
  float local_3c;
  float **local_38;
  int *local_34;
  int *local_30;
  undefined *local_2c;
  float local_28;
  float *local_24;
  undefined4 *local_20;
  undefined4 *local_1c;
  undefined8 local_18;
  float *pfVar16;
  float fVar17;
  
  AdjustStackForLargeAllocations();
  puVar4 = *(undefined4 **)((int)param_1 + 4);
  local_3c = 0.0;
  local_48 = 0;
  piVar5 = (int *)puVar4[0x40];
  local_90 = *(undefined4 *)((int)puVar4 + 0x36);
  local_34 = *(int **)(*(int *)((int)puVar4 + 0x86) + 0x13);
  local_40 = 0;
  local_8c = *(undefined4 *)((int)puVar4 + 0x3a);
  local_88 = *(undefined4 *)((int)puVar4 + 0x3e);
  local_5c = (int)local_34 + 0x6b;
  local_2c = (undefined *)((float)piVar5[1] - *(float *)((int)puVar4 + 0x36));
  local_24 = (float *)((float)piVar5[3] - *(float *)((int)puVar4 + 0x3e));
  local_28 = (float)piVar5[2] - *(float *)((int)puVar4 + 0x3a);
  local_60 = local_34 + 0x41;
  local_38 = (float **)((float)local_24 * (float)local_24 + (float)local_2c * (float)local_2c);
  local_18._0_4_ = 0.0;
  pfVar16 = (float *)0x0;
  iVar11 = piVar5[0x12];
  if (((((3 < iVar11) && (iVar11 < 4)) || (*piVar5 == 0)) ||
      ((*piVar5 == 1 || ((float)local_38 < 1.0)))) || (((float)piVar5[0x11] < 0.1 && (iVar11 != 1)))
     ) {
    local_3c = 1.401298e-45;
  }
  local_74 = *(undefined4 *)((int)puVar4 + 0xe7);
  local_70 = *(float *)((int)puVar4 + 0xeb);
  local_6c = *(undefined4 *)((int)puVar4 + 0xef);
  local_44 = *(float *)((int)puVar4 + 0xe3);
  local_1c = (undefined4 *)(*(uint *)((int)puVar4 + 0x8a) & 0x2000);
  iVar11 = (*(int *)((int)local_34 + 0x7f) != 0) - 1;
  if (piVar5[0x12] == 4) {
    local_1c = (undefined4 *)(uint)(local_1c == (undefined4 *)0x0);
  }
  local_68 = iVar11;
  local_30 = piVar5;
  if (local_3c == 0.0) {
    local_18 = 1.799031426773623e-307;
    iVar8 = __ftol();
    local_18 = (double)CONCAT44(0x402bb9,(float)local_18);
    local_20 = (undefined4 *)__ftol();
    if ((((*(char *)(iVar8 * DAT_005d4964 + (int)local_20 + DAT_00598dec) == -1) &&
         (*(float *)(*(int *)((int)param_1 + 4) + 0x36) -
          *(float *)(*(int *)((int)param_1 + 4) + 0xe3) < 10.0)) ||
        ((iVar11 == -1 && ((float)local_38 < 200.0)))) ||
       ((*(char *)((int)piVar5 + 0x2a) != '\0' || ((*(byte *)(piVar5 + 0x16) & 4) != 0)))) {
LAB_00402cc5:
      local_18 = 2.077940799213469e-317;
      pfVar16 = local_24;
      FUN_0045eab0();
      iVar11 = 0;
    }
    else {
      iVar11 = *(int *)((int)param_1 + 4);
      iVar9 = *(int *)(*(int *)(iVar11 + 0x98) + 0x10);
      if ((((iVar9 == 4) ||
           ((iVar9 == 5 ||
            ((iVar9 = *(int *)(*(int *)(iVar11 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
             (*(char *)(iVar11 + 4) == '\x03')))))) ||
          ((*(int *)(iVar9 + 0x7b) == 8 &&
           ((*(char *)(iVar11 + 4) == '\x05' || (*(char *)(iVar11 + 4) == '\x06')))))) ||
         ((*(uint *)(iVar11 + 0x8a) & 0x100000) != 0)) goto LAB_00402cc5;
      local_18 = (double)CONCAT44(&local_18,local_44);
      local_1c = (undefined4 *)param_1;
      local_20 = (undefined4 *)0x402c8a;
      iVar11 = FUN_004740f0();
      if ((float)local_18 <= 0.0) {
        iVar8 = iVar8 + -1;
      }
      else {
        iVar8 = iVar8 + 1;
      }
      if ((float)pfVar16 <= 0.0) {
        local_20 = (undefined4 *)((int)local_20 + -1);
      }
      else {
        local_20 = (undefined4 *)((int)local_20 + 1);
      }
    }
    *(int *)((int)piVar5 + 0x5d) = iVar8 * DAT_005d4964 + (int)local_20;
    *(undefined1 *)((int)piVar5 + 0x69) = (&DAT_004c50b8)[iVar11];
  }
  else {
    iVar11 = -1;
  }
  if (iVar11 == -1) {
    iVar11 = *(int *)((int)param_1 + 4);
    iVar8 = *(int *)(*(int *)(iVar11 + 0x98) + 0x10);
    if ((((iVar8 == 4) || (iVar8 == 5)) ||
        (*(int *)(*(int *)(*(int *)(iVar11 + 0x86) + 0x13) + 0x7b) == 6)) ||
       ((*(int *)((int)local_34 + 0x7f) == 0x1e && (*(char *)(*(int *)(iVar11 + 0x86) + 10) == '\0')
        ))) {
      if ((float)local_38 < 0.1) {
        iVar11 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        local_2c = (undefined *)(*(float *)(iVar11 + 0x36) - *(float *)((int)puVar4 + 0x36));
        local_28 = *(float *)(iVar11 + 0x3a) - *(float *)((int)puVar4 + 0x3a);
        local_24 = (float *)(*(float *)(iVar11 + 0x3e) - *(float *)((int)puVar4 + 0x3e));
      }
      fVar17 = (float)local_24 * (float)local_24 + (float)local_2c * (float)local_2c;
    }
    else {
      iVar8 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar8 + 0x8a) & 0x200) == 0) ||
         (((*(uint *)(iVar8 + 0x8a) & 0x10) != 0 && ((*(byte *)(piVar5 + 0x16) & 0x80) != 0)))) {
        local_2c = (undefined *)(*(float *)(iVar8 + 0x36) - *(float *)((int)puVar4 + 0x36));
        local_28 = *(float *)(iVar8 + 0x3a) - *(float *)((int)puVar4 + 0x3a);
        local_24 = (float *)(*(float *)(iVar8 + 0x3e) - *(float *)((int)puVar4 + 0x3e));
      }
      else {
        local_2c = (undefined *)
                   (*(float *)(*(int *)(iVar11 + 0x100) + 0xc) - *(float *)(iVar11 + 0x3e));
      }
      fVar17 = (float)local_24 * (float)local_24 + (float)local_2c * (float)local_2c;
    }
    local_18 = (double)fVar17;
    local_1c = (undefined4 *)0x402e4d;
    pfVar16 = local_24;
    fVar15 = (float10)FUN_004ad534();
    local_18._0_4_ = (1.0 / (float)fVar15) * (float)local_18;
    pfVar16 = (float *)((1.0 / (float)fVar15) * (float)pfVar16);
  }
  if (*(char *)((int)piVar5 + 0x6b) != -1) {
    local_18 = (double)CONCAT44(param_1,0x402e7f);
    uVar6 = FUN_0048b5d0();
    local_18 = (double)(ulonglong)
                       CONCAT31((int3)((uint)uVar6 >> 8),*(undefined *)((int)piVar5 + 0x6b));
    local_1c = (undefined4 *)param_1;
    local_20 = (undefined4 *)0x402e8e;
    FUN_00442d10();
    *(undefined *)((int)piVar5 + 0x6b) = 0xff;
    *(undefined *)((int)piVar5 + 0x43) = 0x19;
    DAT_005de380 = 1;
    return;
  }
  iVar11 = *(int *)((int)param_1 + 4);
  iVar8 = *(int *)(*(int *)(iVar11 + 0x98) + 0x10);
  if (((iVar8 == 4) || (iVar8 == 5)) ||
     ((*(int *)((int)local_34 + 0x7f) == 0x1e &&
      ((*(char *)(*(int *)(iVar11 + 0x86) + 10) == '\0' && (local_3c == 0.0)))))) {
    local_18._4_4_ = 0x403ab3;
    AdjustStackForLargeAllocations();
    local_18 = (double)CONCAT44(param_1,0x403acf);
    FUN_00405600();
    return;
  }
  iVar8 = *(int *)(*(int *)(*(int *)(iVar11 + 0x86) + 0x13) + 0x7b);
  if ((((iVar8 == 6) && (*(char *)(iVar11 + 4) == '\x03')) || (iVar8 == 8)) &&
     ((160.0 < (float)local_24 * (float)local_24 + (float)local_2c * (float)local_2c ||
      (10.0 < (float)piVar5[2] - *(float *)((int)puVar4 + 0x3a))))) {
    iVar11 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    iVar8 = *(int *)(*(int *)(iVar11 + 0x98) + 0x10);
    if ((((((iVar8 != 4) && (iVar8 != 5)) &&
          ((iVar8 = *(int *)(*(int *)(iVar11 + 0x86) + 0x13), *(int *)(iVar8 + 0x114) != 6 ||
           (*(char *)(iVar11 + 4) != '\x03')))) &&
         ((*(int *)(iVar8 + 0x7b) != 8 ||
          ((*(char *)(iVar11 + 4) != '\x05' && (*(char *)(iVar11 + 4) != '\x06')))))) &&
        ((*(uint *)(iVar11 + 0x8a) & 0x100000) == 0)) || (*piVar5 != 2)) {
      local_18._4_4_ = 0x402fa4;
      AdjustStackForLargeAllocations();
      local_18 = (double)CONCAT44(param_1,0x402fc0);
      FUN_00405600();
      return;
    }
  }
  local_54 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) -
             *(float *)((int)puVar4 + 0x36);
  local_58 = (float)pfVar16 * *(float *)((int)puVar4 + 0x2e) +
             (float)local_18 * *(float *)((int)puVar4 + 0x26);
  local_50 = 0;
  fVar17 = *(float *)((int)puVar4 + 0xe) * (float)pfVar16 +
           *(float *)((int)puVar4 + 6) * (float)local_18;
  local_4c = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) -
             *(float *)((int)puVar4 + 0x3e);
  local_78 = local_4c * local_4c + local_54 * local_54;
  local_18 = (double)CONCAT44(&local_54,0x40303d);
  FUN_0045eab0();
  fVar2 = local_54 * *(float *)((int)puVar4 + 0x26);
  local_44 = local_4c * *(float *)((int)puVar4 + 0x2e);
  puVar12 = puVar4;
  puVar13 = &local_2b0;
  for (iVar11 = 0x6b; iVar11 != 0; iVar11 = iVar11 + -1) {
    *puVar13 = *puVar12;
    puVar12 = puVar12 + 1;
    puVar13 = puVar13 + 1;
  }
  local_44 = local_44 + fVar2;
  iVar11 = *(int *)((int)param_1 + 4);
  *(undefined *)puVar13 = *(undefined *)puVar12;
  local_18 = (double)CONCAT44(iVar11 + 0xa4,param_1);
  local_64 = local_117;
  local_1c = (undefined4 *)0x40307f;
  fVar15 = (float10)FUN_0040c180();
  fVar2 = (float)fVar15;
  if (0.0 < fVar17) {
    if (local_117 < 0.0) {
      local_117 = 0.0;
    }
    fVar17 = local_117 - -0.02;
    local_117 = fVar2;
    if (fVar17 < fVar2) {
      local_117 = fVar17;
    }
    local_18 = (double)CONCAT44(1,&local_2b0);
    local_1c = (undefined4 *)0x403194;
    FUN_004081f0();
    local_20 = (undefined4 *)(local_282 * (float)pfVar16 + local_28a * (float)local_18);
    if (local_58 <= (float)local_20) {
      local_18 = (double)CONCAT44(0xffffffff,&local_2b0);
      local_1c = (undefined4 *)0x4031d8;
      FUN_004081f0();
      local_117 = local_64;
    }
    else {
      *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 4;
    }
  }
  else {
    if (local_117 >= 0.0 && local_117 != 0.0) {
      local_117 = 0.0;
    }
    fVar17 = local_117 - 0.02;
    local_117 = -fVar2;
    if (local_117 < fVar17) {
      local_117 = fVar17;
    }
    local_18 = (double)CONCAT44(1,&local_2b0);
    local_1c = (undefined4 *)0x4030f6;
    FUN_004081f0();
    local_20 = (undefined4 *)(local_282 * (float)pfVar16 + local_28a * (float)local_18);
    if (local_58 <= (float)local_20) {
      local_18 = (double)CONCAT44(0xffffffff,&local_2b0);
      local_1c = (undefined4 *)0x40313d;
      FUN_004081f0();
      local_117 = local_64;
    }
    else {
      *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 8;
    }
  }
  if (((*(uint *)((int)puVar4 + 0xc9) & 0xc) != 0) &&
     ((((iVar11 = *(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10), iVar11 == 2 ||
        (iVar11 == 7)) || (iVar11 == 3)) && (0.0 < local_58)))) {
    *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 0x40;
  }
  uVar7 = local_48;
  if (((float)local_20 <= -0.8) && (local_3c == 0.0)) {
    local_1c = &local_2b0;
    local_18 = (double)(ulonglong)(uint)-*(float *)((int)local_34 + 0x73);
    local_20 = (undefined4 *)0x40325f;
    FUN_004083b0();
    local_18 = (double)CONCAT44(&local_2b0,0x40326e);
    FUN_00407900();
    pfVar16 = local_2aa;
    pfVar14 = local_dc;
    for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
      *pfVar14 = *pfVar16;
      pfVar16 = pfVar16 + 1;
      pfVar14 = pfVar14 + 1;
    }
    local_18 = (double)(ZEXT48(local_e0) << 0x20);
    local_20 = &local_74;
    local_24 = (float *)local_272;
    local_28 = (float)local_27a;
    local_1c = (undefined4 *)0x0;
    local_2c = (undefined *)0x4032af;
    fVar15 = (float10)FUN_0041c650();
    fVar17 = (float)fVar15;
    local_7c = local_a4;
    local_84 = local_ac;
    if (fVar17 <= (float)local_a8 - 1.4) {
      local_80 = local_a8;
    }
    else {
      local_80 = (undefined *)(fVar17 - -1.4);
    }
    local_1c = (undefined4 *)local_f4;
    local_18 = (double)ZEXT48(local_e4);
    local_20 = (undefined4 *)local_e8;
    local_24 = &local_9c;
    local_2c = local_100;
    local_28 = param_1;
    local_30 = *(int **)((int)local_60 + 0x1d);
    local_34 = &local_90;
    local_38 = &local_84;
    local_3c = 5.89584e-39;
    uVar7 = FUN_0041d230();
    piVar5 = local_30;
    if (local_30[0x12] == 4) {
      if (((uVar7 == 0) || (*(int *)(uVar7 + 0x9d) == 0)) ||
         (*(int *)(*(int *)(uVar7 + 0x9d) + 7) != 3)) {
        iVar11 = *(int *)(*(int *)((int)param_1 + 4) + 0xb0);
        if (((iVar11 == 0) || (iVar11 = *(int *)(iVar11 + 0x9d), iVar11 == 0)) ||
           (*(int *)(iVar11 + 7) != 3)) {
          if (local_1c == (undefined4 *)0x0) {
            if ((*(uint *)(*(int *)((int)param_1 + 4) + 0x8a) & 0x2000) == 0) {
              *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 1;
            }
          }
          else {
            *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 1;
          }
        }
        else {
          *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 1;
        }
      }
      else {
        *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 1;
      }
    }
    else {
      iVar11 = *(int *)(*(int *)((int)param_1 + 4) + 0xb0);
      if (((iVar11 == 0) || (*(int *)(iVar11 + 0x9d) == 0)) ||
         ((*(int *)(*(int *)(iVar11 + 0x9d) + 7) != 3 || (*(float *)(iVar11 + 0x89) <= fVar17)))) {
        if (uVar7 == 0) {
LAB_0040346b:
          if ((iVar11 == 0) || (*(float *)(iVar11 + 0x89) <= fVar17)) {
            if ((uVar7 == 0) || (*(float *)(uVar7 + 0x89) <= fVar17)) {
              fVar17 = fVar17 - -1.4;
              if (*(char *)((int)local_30 + 0x2a) == '\0') goto LAB_0040356a;
            }
            else if ((*(int *)(uVar7 + 0x5b) != 0) || ((float)local_a8 <= *(float *)(uVar7 + 0x89)))
            {
              local_20 = (undefined4 *)(*(float *)(uVar7 + 0x89) - -1.0);
              local_18 = (double)CONCAT44(&stack0xfffffff8,uVar7);
              local_1c = (undefined4 *)local_a4;
              local_24 = local_ac;
              local_28 = 5.89658e-39;
              FUN_00403ae0();
              local_70 = 1.0;
            }
            else {
              fVar17 = *(float *)(uVar7 + 0x89);
              local_70 = 1.0;
            }
          }
          else if ((*(int *)(iVar11 + 0x5b) != 0) || ((float)local_a8 <= *(float *)(iVar11 + 0x89)))
          {
            local_18 = (double)CONCAT44(&stack0xfffffff8,iVar11);
            local_1c = (undefined4 *)local_a4;
            local_20 = (undefined4 *)local_a8;
            local_24 = local_ac;
            local_28 = 5.896413e-39;
            FUN_00403ae0();
            local_70 = 1.0;
          }
          else {
            fVar17 = *(float *)(iVar11 + 0x89);
            local_70 = 1.0;
          }
          local_1c = (undefined4 *)0x0;
        }
        else if (((*(int *)(uVar7 + 0x9d) == 0) || (*(int *)(*(int *)(uVar7 + 0x9d) + 7) != 3)) ||
                (*(float *)(uVar7 + 0x89) <= fVar17)) {
          if (((uVar7 == 0) || (*(int *)(uVar7 + 0x9d) == 0)) ||
             (*(int *)(*(int *)(uVar7 + 0x9d) + 0xf) != 0x105)) goto LAB_0040346b;
          local_1c = (undefined4 *)0x1;
        }
        else {
          local_1c = (undefined4 *)0x1;
        }
      }
      else {
        local_1c = (undefined4 *)0x1;
      }
LAB_0040356a:
      if (((10.0 <= (float)local_a8 - fVar17) || (local_1c != (undefined4 *)0x0)) ||
         ((local_70 < 0.8 && (0.8 <= *(float *)(*(int *)((int)param_1 + 4) + 0xeb))))) {
        local_40 = 1;
      }
      else {
        if (((puVar4[0x2c] != 0) && (puVar4[0x2c] != uVar7)) &&
           (local_34 = (int *)(fVar17 - (float)local_a8), 0.5 < (float)local_34)) {
          local_18 = (double)CONCAT44(param_1,0x4035ec);
          fVar15 = (float10)FUN_00404df0();
          if ((float10)(float)local_34 < fVar15) {
            *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 0x10;
          }
        }
        if (uVar7 == 0) {
LAB_004036ab:
          if (((puVar4[0x2c] == 0) && (*(float *)((int)puVar4 + 0x3a) < fVar17)) && (local_70 < 0.8)
             ) {
LAB_004036d2:
            uVar10 = *(uint *)((int)puVar4 + 0xc9) | 0x10;
            goto LAB_004036da;
          }
        }
        else {
          local_34 = (int *)(fVar17 - (float)local_a8);
          if (0.5 < (float)local_34) {
            local_18 = (double)CONCAT44(param_1,0x403631);
            fVar15 = (float10)FUN_00404df0();
            if (fVar15 <= (float10)(float)local_34) goto LAB_00403642;
            goto LAB_004036d2;
          }
LAB_00403642:
          if (uVar7 == 0) goto LAB_004036ab;
          if (1.4 <= *(float *)(uVar7 + 0x7d) - (float)local_a8) {
            if (uVar7 == 0) goto LAB_004036ab;
            goto LAB_004036e0;
          }
          if (local_dc[2] * local_94 + local_dc[1] * local_98 + local_dc[0] * local_9c <= 0.0) {
            uVar10 = *(uint *)((int)puVar4 + 0xc9) | 8;
          }
          else {
            uVar10 = *(uint *)((int)puVar4 + 0xc9) | 4;
          }
LAB_004036da:
          *(uint *)((int)puVar4 + 0xc9) = uVar10;
        }
LAB_004036e0:
        if ((local_1c == (undefined4 *)0x0) ||
           ((*(uint *)(*(int *)((int)param_1 + 4) + 0x8a) & 0x2000) != 0)) {
          iVar11 = *(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10);
          if ((((iVar11 != 2) && ((iVar11 != 7 && (iVar11 != 3)))) || (50.0 <= (float)local_38)) ||
             (*(char *)((int)piVar5 + 0x2a) == '\0')) {
            *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 1;
          }
          local_40 = 0;
        }
        else {
          local_40 = 1;
        }
      }
    }
  }
  if (local_3c != 0.0) {
    if ((DAT_005a4b88 == param_1) &&
       (*(char *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 4) == '\x05')) {
      iVar11 = *(int *)((int)param_1 + 4);
      iVar8 = *(int *)(*(int *)(iVar11 + 0x98) + 0x10);
      if ((iVar8 != 2) &&
         (((iVar8 != 7 && (iVar8 != 3)) && ((*(byte *)((int)puVar4 + 0xc9) & 0xc) == 0)))) {
        *(uint *)(iVar11 + 0xc9) = *(uint *)(iVar11 + 0xc9) | 0x40;
        puVar1 = (uint *)(*(int *)((int)param_1 + 4) + 0xc9);
        *puVar1 = *puVar1 | 4;
      }
    }
    if (local_3c != 0.0) goto LAB_004038d5;
  }
  if (((local_30[0x12] != 4) &&
      ((((iVar11 = *(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10), iVar11 != 2 &&
         (iVar11 != 7)) && (iVar11 != 3)) ||
       ((50.0 <= (float)local_38 || (*(char *)((int)local_30 + 0x2a) == '\0')))))) &&
     ((uVar7 == 0 &&
      ((local_40 == 0 && (local_48 = *(uint *)((int)puVar4 + 0xc9), (local_48 & 1) == 0)))))) {
    if (0.0 <= local_28a) {
      if (0.0 <= local_282) {
        iVar11 = 5;
      }
      else {
        iVar11 = 0;
      }
    }
    else if (0.0 <= local_282) {
      iVar11 = 7;
    }
    else {
      iVar11 = 2;
    }
    local_18 = (double)CONCAT44(0x403883,(float)local_18);
    iVar8 = __ftol();
    local_18 = (double)CONCAT44(0x403896,(float)local_18);
    iVar9 = __ftol();
    bVar3 = *(byte *)(iVar8 * DAT_005d4964 + iVar9 + DAT_00598dec);
    if (((((bVar3 & *(byte *)(iVar11 + 0x4c50c0)) != 0) && (((&DAT_004c50b8)[iVar11] & bVar3) != 0))
        && ((*(byte *)(iVar11 + 0x4c50c8) & bVar3) != 0)) && (*local_30 != 4)) {
      *(uint *)((int)puVar4 + 0xc9) = local_48 | 1;
    }
  }
LAB_004038d5:
  iVar11 = local_5c;
  if (((*local_30 == 4) &&
      ((float)local_24 * (float)local_24 + (float)local_2c * (float)local_2c < 100.0)) &&
     (4.0 < local_28)) {
    *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 0x11;
  }
  uVar7 = *(uint *)(*(int *)((int)param_1 + 4) + 0x8a);
  if ((((uVar7 & 8) != 0) && (*(int *)((int)param_1 + 0x1e) != 0)) &&
     (*(int *)(*(int *)((int)param_1 + 0x1e) + 0x44) != 3)) {
    return;
  }
  if (local_30[0x12] < 3) {
    if (*(int *)(local_5c + 0x14) == 0x1f) {
      if (-0.8 < (float)local_20) {
        return;
      }
      if ((float)local_38 <= 100.0) {
        return;
      }
      if ((*(uint *)((int)puVar4 + 0xc9) & 3) == 0) {
        return;
      }
      *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 0x20;
      return;
    }
    if ((((uVar7 & 0x800) != 0) && (*(int *)(local_5c + 0x14) == 1)) &&
       (4 < *(byte *)(puVar4 + 0x32))) {
      return;
    }
    local_18 = (double)CONCAT44(local_68,local_38);
    local_1c = *(undefined4 **)(*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86) + 0x13);
    local_20 = (undefined4 *)local_78;
    local_24 = (float *)local_60;
    local_28 = (float)local_5c;
    local_2c = (undefined *)local_44;
    local_34 = local_30;
    local_3c = param_1;
    local_40 = 0x4039fc;
    local_38 = (float **)puVar4;
    local_30 = (int *)(-(local_54 * _DAT_005f7700) - local_4c * _DAT_005f7708);
    iVar8 = FUN_00403de0();
    if (iVar8 != 0) {
      return;
    }
  }
  if (local_68 != -1) {
    uVar7 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
    uVar10 = uVar7 & 0x200;
    if ((((uVar10 == 0) || (((uVar7 & 0x10) != 0 && ((*(byte *)(local_30 + 0x16) & 0x80) != 0)))) &&
        (*(char *)((int)local_30 + 0x43) == '\0')) &&
       (((*(byte *)(local_30 + 0x16) & 0x10) != 0 || ((uVar10 != 0 && (local_44 < -0.9)))))) {
      *(uint *)((int)puVar4 + 0xc9) = *(uint *)((int)puVar4 + 0xc9) | 0x20;
      if (*(int *)(iVar11 + 0x14) == 1) {
        *(undefined *)((int)local_30 + 0x43) = 0;
        return;
      }
      if (*(char *)(*(int *)(*(int *)((int)puVar4 + 0x86) + 0x13) + 0x46) == '\0') {
        *(undefined *)(puVar4[0x40] + 0x43) = 0x32;
        return;
      }
    }
  }
  return;
}



undefined4 FUN_00403ae0(float param_1,float param_2,uint param_3,float param_4,float *param_5)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  ushort *puVar7;
  float10 fVar8;
  undefined local_c0 [64];
  undefined4 *local_80 [3];
  undefined local_74 [12];
  undefined4 *local_68 [3];
  undefined local_5c [4];
  float local_58;
  undefined4 *local_50;
  float local_4c;
  float local_48;
  undefined4 *local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 *local_38 [2];
  float local_30;
  float local_2c;
  undefined4 local_28;
  float local_24;
  undefined4 *local_20;
  float *local_1c;
  float *local_18;
  undefined4 ***local_14;
  float fVar9;
  
  iVar6 = (int)param_4;
  AdjustStackForLargeAllocations();
  fVar9 = -99999.0;
  iVar3 = *(int *)(*(int *)((int)param_4 + 0x56) + 0x3c);
  iVar4 = *(int *)(*(int *)((int)param_4 + 0x56) + 0xc);
  if ((*(byte *)((int)param_4 + 0xa2) & 2) != 0) {
    *param_5 = *(float *)((int)param_4 + 0x89);
    return 1;
  }
  local_40 = param_2;
  local_44 = (undefined4 *)param_1;
  local_14 = (undefined4 ***)((int)param_4 + 6);
  local_18 = (float *)local_c0;
  local_3c = param_3;
  local_1c = (float *)0x403b45;
  FUN_0045f140();
  local_14 = (undefined4 ***)&local_44;
  local_18 = (float *)local_c0;
  local_1c = (float *)local_38;
  local_20 = (undefined4 *)0x403b5c;
  FUN_0045f760();
  param_3 = 0;
  if (*(int *)(*(int *)((int)param_4 + 0x56) + 8) != 0) {
    puVar7 = (ushort *)(iVar4 + 4);
    do {
      param_4 = *(float *)((uint)puVar7[-2] * 0x20 + iVar3);
      param_2 = *(float *)((uint)puVar7[-2] * 0x20 + 8 + iVar3);
      fVar1 = *(float *)((uint)puVar7[-1] * 0x20 + iVar3);
      fVar2 = *(float *)((uint)puVar7[-1] * 0x20 + 8 + iVar3);
      local_2c = *(float *)((uint)*puVar7 * 0x20 + iVar3);
      local_28 = *(undefined4 *)((uint)*puVar7 * 0x20 + 4 + iVar3);
      local_24 = *(float *)((uint)*puVar7 * 0x20 + 8 + iVar3);
      fVar5 = param_4;
      if (fVar1 < param_4) {
        fVar5 = fVar1;
      }
      if (param_4 < fVar1) {
        param_4 = fVar1;
      }
      param_1 = param_2;
      if (fVar2 < param_2) {
        param_1 = fVar2;
      }
      if (param_2 < fVar2) {
        param_2 = fVar2;
      }
      if (local_2c < fVar5) {
        fVar5 = local_2c;
      }
      if (param_4 < local_2c) {
        param_4 = local_2c;
      }
      if (local_24 < param_1) {
        param_1 = local_24;
      }
      if (param_2 < local_24) {
        param_2 = local_24;
      }
      if ((((fVar5 < (float)local_38[0]) && ((float)local_38[0] < param_4)) && (param_1 < local_30))
         && (local_30 < param_2)) {
        local_14 = &local_14;
        local_18 = (float *)&local_20;
        local_1c = (float *)local_80;
        local_20 = (undefined4 *)0x403cfc;
        FUN_0045ec80();
        local_14 = &local_14;
        local_18 = &local_2c;
        local_1c = (float *)local_74;
        local_20 = (undefined4 *)0x403d10;
        FUN_0045ec80();
        local_14 = (undefined4 ***)local_80;
        local_18 = (float *)local_74;
        local_1c = (float *)local_68;
        local_20 = (undefined4 *)0x403d24;
        FUN_0045eb50();
        local_14 = (undefined4 ***)local_68;
        local_18 = (float *)0x403d30;
        FUN_0045eab0();
        local_14 = &local_14;
        local_50 = local_38[0];
        local_18 = (float *)local_68;
        local_1c = (float *)local_30;
        local_20 = local_38[0];
        local_24 = 5.899464e-39;
        fVar8 = (float10)FUN_0041cd40();
        local_4c = (float)fVar8;
        local_14 = (undefined4 ***)&local_50;
        local_18 = (float *)(iVar6 + 6);
        local_1c = (float *)local_5c;
        local_48 = local_30;
        local_20 = (undefined4 *)0x403d6b;
        FUN_0045f6b0();
        if ((fVar9 < local_58) && (local_58 <= *(float *)(iVar6 + 0x89))) {
          fVar9 = local_58;
        }
      }
      param_3 = param_3 + 1;
      puVar7 = puVar7 + 6;
    } while (param_3 < *(uint *)(*(int *)(iVar6 + 0x56) + 8));
  }
  if (*(float *)(iVar6 + 0x7d) <= fVar9) {
    *param_5 = fVar9;
    return 1;
  }
  *param_5 = *(float *)(iVar6 + 0x89);
  return 0;
}



undefined4
FUN_00403de0(int param_1,int param_2,int *param_3,float param_4,float param_5,int param_6,
            int param_7,float param_8,int param_9,float param_10,int param_11)

{
  byte bVar1;
  uint uVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  uint uVar9;
  int iVar10;
  float10 fVar11;
  float fVar12;
  
  AdjustStackForLargeAllocations();
  uVar9 = 0;
  if ((*(byte *)(param_3 + 0x16) & 2) == 0) {
    return 1;
  }
  if (*(int *)(param_6 + 0x14) != 0x19) {
    if (param_11 == -1) {
      iVar6 = *(int *)(param_6 + 0x10);
      if (iVar6 != 7) {
        if ((param_10 <= 2500.0) && (*param_3 != 2)) {
          if (param_3[0x12] != 2) {
            return 1;
          }
          if (*param_3 == 1) {
            return 1;
          }
        }
        if (iVar6 == *(int *)(param_7 + 0x10)) {
          return 1;
        }
        if ((iVar6 != 3) && (iVar6 != 2)) {
          return 1;
        }
        goto LAB_004045fc;
      }
      bVar1 = *(byte *)(param_2 + 0x8a);
    }
    else {
      iVar6 = FUN_00409bd0(param_1,param_6 + 0x22,0);
      if (iVar6 == 0) {
        return 1;
      }
      iVar6 = *(int *)(param_6 + 0x14);
      if ((iVar6 == 0x15) || (iVar6 == 0x16)) {
        if ((param_1 != DAT_005a4b88) &&
           (((iVar6 != 0x16 || (100.0 <= param_8)) &&
            ((*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x2000) == 0)))) {
          return 1;
        }
        goto LAB_004045fc;
      }
      if (iVar6 == 0x1b) {
        return 1;
      }
      if (iVar6 == 0x17) {
        *(undefined4 *)(param_2 + 0xc9) = 0;
        if ((*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x400) == 0) {
          fVar12 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) -
                   *(float *)(param_2 + 0x36);
          fVar3 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) -
                  *(float *)(param_2 + 0x3e);
          if (40000.0 < fVar3 * fVar3 + fVar12 * fVar12) {
            return 1;
          }
          FUN_0045eab0();
          if (-0.95 < *(float *)(param_2 + 0x26) * fVar12 + *(float *)(param_2 + 0x2e) * fVar3) {
            return 1;
          }
          *(float *)(param_2 + 0xf3) = *(float *)(param_2 + 0x36);
          *(undefined4 *)(param_2 + 0xc9) = 0x20;
          *(undefined4 *)(param_2 + 0xf7) = *(undefined4 *)(param_2 + 0x3a);
          *(undefined4 *)(param_2 + 0xfb) = *(undefined4 *)(param_2 + 0x3e);
          *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x400;
          return 1;
        }
        fVar12 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) -
                 *(float *)(param_2 + 0xf3);
        fVar3 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) -
                *(float *)(param_2 + 0xfb);
        if (fVar3 * fVar3 + fVar12 * fVar12 < 16.0) {
          *(undefined4 *)(param_2 + 0xc9) = 0;
          return 1;
        }
        *(undefined4 *)(param_2 + 0xc9) = 0x20;
        FUN_0045eab0();
        if (0.0 <= fVar12) {
          if (fVar12 <= 0.0) goto LAB_0040428e;
          uVar9 = *(uint *)(param_2 + 0xc9) | 8;
        }
        else {
          uVar9 = *(uint *)(param_2 + 0xc9) | 4;
        }
        *(uint *)(param_2 + 0xc9) = uVar9;
LAB_0040428e:
        if (fVar3 < 0.0) {
          *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 2;
          return 1;
        }
        if (fVar3 <= 0.0) {
          return 1;
        }
        *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 1;
        return 1;
      }
      if (iVar6 == 0x18) {
        if ((*(byte *)(param_3 + 0x16) & 0x10) == 0) {
          return 1;
        }
        fVar12 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) -
                 *(float *)(param_2 + 0x36);
        fVar4 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a) -
                *(float *)(param_2 + 0x3a);
        fVar3 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) -
                *(float *)(param_2 + 0x3e);
        fVar12 = SUB84((double)(fVar3 * fVar3 + fVar4 * fVar4 + fVar12 * fVar12),0);
        fVar11 = (float10)FUN_004ad534();
        uVar2 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
        if ((uVar2 & 0x40000) == 0) {
          fVar12 = 0.0;
          *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar2 | 0x40000;
          *(undefined4 *)(param_2 + 0xf7) = 0;
          *(undefined *)(param_2 + 0xff) = 0;
        }
        if ((*(byte *)(param_2 + 0xc9) & 4) != 0) {
          uVar9 = 4;
        }
        if ((*(byte *)(param_2 + 0xc9) & 8) != 0) {
          uVar9 = uVar9 | 8;
        }
        if ((*(byte *)(param_2 + 0xc9) & 0x10) != 0) {
          uVar9 = uVar9 | 0x10;
        }
        fVar3 = -((1.0 / (float)fVar11) * fVar4);
        *(uint *)(param_2 + 0xc9) = uVar9 | 0x20;
        if (fVar3 <= fVar12) {
          if (fVar12 <= fVar3) {
            return 1;
          }
          *(uint *)(param_2 + 0xc9) = uVar9 | 0x22;
          return 1;
        }
        *(uint *)(param_2 + 0xc9) = uVar9 | 0x21;
        return 1;
      }
      if ((((param_4 < 0.0) && (0.0 < param_5)) &&
          (((iVar6 == 0xd && (*(char *)((int)param_3 + 0x2a) == '\0')) || (iVar6 == 0x10)))) &&
         ((iVar6 == 0xd || (param_8 < *(float *)(param_9 + 0xb9))))) {
        *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 0x20;
        if (*(char *)(*(int *)(*(int *)(param_2 + 0x86) + 0x13) + 0x46) != '\0') {
          return 1;
        }
        *(undefined *)(*(int *)(param_2 + 0x100) + 0x43) = 0x32;
        return 1;
      }
      if (iVar6 == 0x13) {
        iVar10 = 0;
        uVar9 = 0;
        piVar8 = (int *)(param_2 + 0x175);
        do {
          if ((uVar9 != *(byte *)(param_2 + 0x18a)) &&
             (*(int *)(*(int *)(param_1 + 4) + 0x175 + uVar9 * 4) != 0)) {
            iVar10 = iVar10 + (uint)*(byte *)(*piVar8 + 4);
          }
          uVar9 = uVar9 + 1;
          piVar8 = piVar8 + 1;
        } while ((int)uVar9 < 5);
        iVar7 = __ftol();
        if (iVar10 < iVar7) goto LAB_004045fc;
      }
      if (iVar6 == 0x1a) {
        if (DAT_005a4b88 != param_1) {
          return 1;
        }
        goto LAB_004045fc;
      }
      if (iVar6 == 10) {
        if ((float)param_3[2] <= *(float *)(param_2 + 0x3a) - -10.0) {
          return 1;
        }
        if (100.0 <= (float)param_3[3] * (float)param_3[3] + (float)param_3[1] * (float)param_3[1])
        {
          return 1;
        }
        goto LAB_004045fc;
      }
      iVar6 = *(int *)(param_6 + 0x10);
      if (iVar6 != 7) {
        if (((param_10 <= 2500.0) || (iVar6 == *(int *)(param_7 + 0x10))) ||
           ((iVar6 != 3 && (iVar6 != 2)))) {
          return 0;
        }
        goto LAB_004045fc;
      }
      bVar1 = *(byte *)(param_2 + 0x8a);
    }
    if ((bVar1 & 0x10) == 0) {
      return 1;
    }
LAB_004045fc:
    *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 0x20;
    return 1;
  }
  iVar6 = *(int *)(param_1 + 4);
  uVar9 = *(uint *)(iVar6 + 0x8a) & 0x200000;
  if ((uVar9 == 0) && ((*(byte *)(iVar6 + 0x8e) & 1) != 0)) {
    fVar12 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) -
             *(float *)(param_2 + 0x36);
    fVar4 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a) - *(float *)(param_2 + 0x3a)
    ;
    fVar3 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) - *(float *)(param_2 + 0x3e)
    ;
    if (40000.0 < fVar3 * fVar3 + fVar4 * fVar4 + fVar12 * fVar12) {
      return 1;
    }
    FUN_0045eab0();
    if (-0.95 < *(float *)(param_2 + 0x26) * fVar12 + *(float *)(param_2 + 0x2e) * fVar3) {
      return 1;
    }
    *(undefined4 *)(param_2 + 0xc9) = 0x20;
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x200000;
    return 1;
  }
  if (uVar9 == 0) {
    return 1;
  }
  iVar10 = *(int *)(param_2 + 0x104);
  if (iVar10 == 0) {
    *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xffdfffff;
    return 1;
  }
  *(undefined4 *)(param_2 + 0xc9) = 0;
  fVar12 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) - *(float *)(iVar10 + 0x37);
  fVar4 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a) - *(float *)(iVar10 + 0x3b);
  fVar3 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) - *(float *)(iVar10 + 0x3f);
  fVar11 = (float10)FUN_004ad534((double)(fVar3 * fVar3 + fVar4 * fVar4 + fVar12 * fVar12));
  fVar5 = 1.0 / (float)fVar11;
  fVar12 = *(float *)(*(int *)(param_2 + 0x104) + 0xf) * fVar5 * fVar3 +
           *(float *)(*(int *)(param_2 + 0x104) + 7) * fVar5 * fVar12;
  if (fVar12 <= 0.0) {
    if (0.0 <= fVar12) goto LAB_00403ffb;
    uVar9 = *(uint *)(param_2 + 0xc9) | 4;
  }
  else {
    uVar9 = *(uint *)(param_2 + 0xc9) | 8;
  }
  *(uint *)(param_2 + 0xc9) = uVar9;
LAB_00403ffb:
  if (fVar5 * fVar4 < 0.0) {
    *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 1;
    return 1;
  }
  if (fVar5 * fVar4 <= 0.0) {
    return 1;
  }
  *(uint *)(param_2 + 0xc9) = *(uint *)(param_2 + 0xc9) | 2;
  return 1;
}



void FUN_00404620(int param_1)

{
  if ((*(byte *)(param_1 + 0x58) & 2) == 0) {
    *(undefined4 *)(param_1 + 0x65) = 0;
  }
  *(byte *)(param_1 + 0x58) = *(byte *)(param_1 + 0x58) | 2;
  return;
}



void FUN_00404640(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  byte *pbVar8;
  
  AdjustStackForLargeAllocations();
  puVar2 = *(undefined4 **)(*(int *)(param_1 + 4) + 0x100);
  if (*(char *)(*(int *)(param_1 + 4) + 0x189) == '\0') {
    *puVar2 = 2;
    puVar1 = puVar2 + 0x13;
    *puVar1 = *(undefined4 *)(*(int *)(param_1 + 4) + 0x36);
    puVar2[0x14] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
    puVar2[0x15] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3e);
    puVar2[0x11] = 0x42c80000;
    puVar2[7] = *puVar1;
    puVar2[8] = puVar2[0x14];
    puVar2[9] = puVar2[0x15];
    puVar2[4] = *puVar1;
    puVar2[5] = puVar2[0x14];
    *(undefined4 *)((int)puVar2 + 0x3f) = 0;
    puVar2[6] = puVar2[0x15];
    puVar2[1] = *puVar1;
    puVar2[2] = puVar2[0x14];
    puVar2[3] = puVar2[0x15];
    FUN_00404620(puVar2);
  }
  if (*(char *)((int)puVar2 + 0x2a) != '\0') {
    if (*(char *)(*(int *)(param_1 + 4) + 0x189) == '\0') {
      if ((*(char *)((int)puVar2 + 0x2f) != '\0') && (*(int *)((int)puVar2 + 0xb2) != 0)) {
        FreeMemory(*(int *)((int)puVar2 + 0xb2));
        *(undefined4 *)((int)puVar2 + 0xb2) = 0;
      }
      *(undefined *)((int)puVar2 + 0x2f) = 0;
      if ((*(char *)((int)puVar2 + 0x2a) != '\0') && (*(int *)((int)puVar2 + 0xae) != 0)) {
        FreeMemory(*(int *)((int)puVar2 + 0xae));
        *(undefined4 *)((int)puVar2 + 0xae) = 0;
      }
      *(undefined *)((int)puVar2 + 0x2a) = 0;
      *(undefined *)(puVar2 + 0xc) = 0;
      return;
    }
    FUN_00404620(puVar2);
    if (*(byte *)((int)puVar2 + 0x2f) != 0) {
      uVar3 = (uint)*(byte *)((int)puVar2 + 0x2f);
      uVar6 = (uint)*(byte *)((int)puVar2 + 0x2a);
      uVar4 = uVar6;
      uVar7 = uVar6;
      if (uVar3 != 0) {
        pbVar8 = *(byte **)((int)puVar2 + 0xb2);
        do {
          if ((*(byte *)(puVar2 + 10) <= pbVar8[1]) && (*pbVar8 <= *(byte *)(puVar2 + 10))) {
            uVar4 = (uint)*pbVar8;
            uVar7 = (uint)pbVar8[1];
          }
          pbVar8 = pbVar8 + 6;
          uVar3 = uVar3 - 1;
        } while (uVar3 != 0);
      }
      if (((uVar4 != uVar6) && (uVar7 == uVar6 - 1)) &&
         (iVar5 = __ftol(),
         0x32 - iVar5 < (int)(uint)*(byte *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 4))) {
        *puVar2 = 2;
        if (*(int *)((int)puVar2 + 0xb2) != 0) {
          FreeMemory(*(int *)((int)puVar2 + 0xb2));
          *(undefined4 *)((int)puVar2 + 0xb2) = 0;
        }
        *(undefined *)((int)puVar2 + 0x2f) = 0;
        if (*(int *)((int)puVar2 + 0xae) != 0) {
          FreeMemory(*(int *)((int)puVar2 + 0xae));
          *(undefined4 *)((int)puVar2 + 0xae) = 0;
        }
        *(undefined *)((int)puVar2 + 0x2a) = 0;
        puVar1 = puVar2 + 0x13;
        *puVar1 = *(undefined4 *)(*(int *)(param_1 + 4) + 0x36);
        puVar2[0x14] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
        puVar2[0x15] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3e);
        puVar2[0x11] = 0x42c80000;
        *(undefined4 *)((int)puVar2 + 0x3f) = 0;
        puVar2[7] = *puVar1;
        puVar2[8] = puVar2[0x14];
        puVar2[9] = puVar2[0x15];
        puVar2[4] = *puVar1;
        puVar2[5] = puVar2[0x14];
        puVar2[6] = puVar2[0x15];
        puVar2[1] = *puVar1;
        puVar2[2] = puVar2[0x14];
        puVar2[3] = puVar2[0x15];
        FUN_00404620(puVar2);
      }
    }
  }
  return;
}



void FUN_004048b0(int param_1,undefined4 *param_2,int param_3,float param_4,undefined4 param_5,
                 undefined4 param_6,int param_7)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  undefined4 uVar7;
  float fVar8;
  bool bVar9;
  undefined4 *puVar10;
  byte bVar11;
  char cVar12;
  int iVar13;
  undefined4 *puVar14;
  uint uVar15;
  uint uVar16;
  byte *pbVar17;
  undefined uVar18;
  uint uVar19;
  float10 fVar20;
  
  puVar10 = param_2;
  AdjustStackForLargeAllocations();
  iVar13 = FUN_00404da0();
  bVar11 = *(byte *)(param_2 + 0x16);
  if ((bVar11 & 2) == 0) goto LAB_00404995;
  if (iVar13 == 0) {
    if ((*(int *)((int)param_2 + 0x2b) != 0x18e7) || ((bVar11 & 0x80) == 0)) goto LAB_00404995;
  }
  else {
    if (((bVar11 & 0x80) != 0) && (param_3 != 0)) {
      iVar6 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x98) + 0x10);
      if ((((iVar6 != 2) && (iVar6 != 7)) && (iVar6 != 3)) &&
         (param_4 < *(float *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0xb9))) {
        *(undefined4 *)((int)param_2 + 0x2b) = 0x18e7;
        goto LAB_00404995;
      }
    }
    if ((((bVar11 & 0x80) == 0) && (param_3 == 0)) &&
       ((iVar6 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x98) + 0x10), iVar6 != 2 &&
        ((iVar6 != 7 && (iVar6 != 3)))))) {
      *(undefined4 *)((int)param_2 + 0x2b) = 0x18ce;
      goto LAB_00404995;
    }
    if (*(int *)((int)param_2 + 0x2b) != 0x18e7) {
      if (*(int *)((int)param_2 + 0x2b) == 0x18ce) {
        *(undefined4 *)((int)param_2 + 0x2b) = 0;
        *(undefined4 *)((int)param_2 + 0x65) = 0;
      }
      goto LAB_00404995;
    }
  }
  *(undefined4 *)((int)param_2 + 0x2b) = 0;
  *(undefined4 *)((int)param_2 + 0x65) = 0;
LAB_00404995:
  iVar6 = *(int *)((int)param_2 + 0x2b);
  if (iVar6 != 0) {
    bVar9 = false;
    if (iVar6 == 0x18e7) {
      if ((iVar13 != 0) && (param_3 == 0)) {
        *(undefined4 *)((int)param_2 + 0x2b) = 0;
        bVar9 = true;
      }
    }
    else if (iVar6 == 0x18ce) {
      if ((iVar13 != 0) && (param_3 != 0)) {
        *(undefined4 *)((int)param_2 + 0x2b) = 0;
        bVar9 = true;
      }
    }
    else {
      *(int *)((int)param_2 + 0x2b) = iVar6 + -1;
    }
    if (*(int *)((int)param_2 + 0x2b) == 0) {
      *(undefined4 *)((int)param_2 + 0x65) = 0;
    }
    param_2[1] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x36);
    param_2[2] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
    uVar7 = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3e);
    *param_2 = 1;
    param_2[3] = uVar7;
    if (!bVar9) {
      FUN_00405b40(param_1,param_2,0,param_5,param_6);
      *(undefined4 *)((int)param_2 + 0x3f) = 0x19;
      return;
    }
  }
  if (((bVar11 & 2) == 0) && (iVar13 == 0)) {
    *(undefined4 *)((int)param_2 + 0x3f) = 0x19;
    return;
  }
  puVar14 = (undefined4 *)((uint)*(byte *)(param_2 + 10) * 0x10 + *(int *)((int)param_2 + 0xae));
  param_2[1] = *puVar14;
  fVar1 = (float)param_2[1];
  param_2[2] = puVar14[1];
  param_2[3] = puVar14[2];
  fVar2 = *(float *)(param_7 + 0x30);
  fVar3 = (float)param_2[3];
  fVar4 = *(float *)(param_7 + 0x38);
  fVar20 = (float10)FUN_0045fc20(&stack0xfffffff0,&stack0xfffffff0);
  fVar5 = (float)fVar20;
  iVar13 = *(int *)(param_1 + 4);
  iVar6 = *(int *)(*(int *)(iVar13 + 0x98) + 0x10);
  if (((((iVar6 == 4) || (iVar6 == 5)) ||
       ((iVar6 = *(int *)(*(int *)(iVar13 + 0x86) + 0x13), *(int *)(iVar6 + 0x114) == 6 &&
        (*(char *)(iVar13 + 4) == '\x03')))) ||
      ((*(int *)(iVar6 + 0x7b) == 8 &&
       ((*(char *)(iVar13 + 4) == '\x05' || (*(char *)(iVar13 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar13 + 0x8a) & 0x100000) != 0)) {
    fVar8 = 100.0;
  }
  else {
    fVar8 = 5.0;
  }
  if (fVar5 < fVar8) {
    if (*(int *)(*(int *)(*(int *)(iVar13 + 0x86) + 0x13) + 0x7f) == 0xd) {
      *(uint *)(iVar13 + 0xc9) = *(uint *)(iVar13 + 0xc9) | 0x20;
    }
    uVar15 = (uint)*(byte *)((int)param_2 + 0x2a);
    uVar19 = uVar15;
    uVar16 = uVar15;
    if (*(byte *)((int)param_2 + 0x2f) != 0) {
      puVar14 = param_2 + 10;
      pbVar17 = *(byte **)((int)param_2 + 0xb2);
      param_2 = (undefined4 *)(uint)*(byte *)((int)param_2 + 0x2f);
      do {
        if ((pbVar17[1] == *(byte *)puVar14) || (*pbVar17 == *(byte *)puVar14)) {
          uVar16 = (uint)pbVar17[1];
          uVar19 = (uint)*pbVar17;
        }
        pbVar17 = pbVar17 + 6;
        param_2 = (undefined4 *)((int)param_2 - 1);
      } while (param_2 != (undefined4 *)0x0);
    }
    bVar11 = *(byte *)(puVar10 + 10);
    if (uVar19 == uVar15) {
      if ((uint)bVar11 == uVar15 - 1) {
        if ((*(char *)((int)puVar10 + 0x2f) != '\0') && (*(int *)((int)puVar10 + 0xb2) != 0)) {
          FreeMemory();
          *(undefined4 *)((int)puVar10 + 0xb2) = 0;
        }
        *(undefined *)((int)puVar10 + 0x2f) = 0;
        if (*(int *)((int)puVar10 + 0xae) != 0) {
          FreeMemory();
          *(undefined4 *)((int)puVar10 + 0xae) = 0;
        }
        *(undefined *)((int)puVar10 + 0x2a) = 0;
        *(byte *)(puVar10 + 0x16) = *(byte *)(puVar10 + 0x16) & 0xfd;
        puVar10[0x13] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x36);
        puVar10[0x14] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
        puVar10[0x15] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3e);
      }
      else {
        bVar11 = bVar11 + 1;
        *(byte *)(puVar10 + 10) = bVar11;
        *(byte *)((int)puVar10 + 0x29) = bVar11;
        *(undefined4 *)((int)puVar10 + 0x65) = 0;
        puVar14 = (undefined4 *)((uint)bVar11 * 0x10 + *(int *)((int)puVar10 + 0xae));
        puVar10[1] = *puVar14;
        puVar10[2] = puVar14[1];
        puVar10[3] = puVar14[2];
        if ((puVar10[0x12] == 2) && ((*(byte *)(puVar10 + 0x16) & 0x80) == 0)) {
          *(undefined4 *)((int)puVar10 + 0x2b) = 0x18e7;
        }
        else {
          *(int *)((int)puVar10 + 0x2b) = puVar14[3] * 0x19;
        }
      }
    }
    else {
      if (uVar16 == bVar11) {
        uVar18 = (undefined)uVar19;
        if ((*(byte *)(puVar10 + 0x16) & 2) == 0) {
          *(undefined *)((int)puVar10 + 0x29) = uVar18;
          *(undefined *)(puVar10 + 10) = uVar18;
        }
        else {
          cVar12 = bVar11 + 1;
          *(char *)(puVar10 + 10) = cVar12;
          *(undefined4 *)((int)puVar10 + 0x65) = 0;
          *(char *)((int)puVar10 + 0x29) = cVar12;
          if (cVar12 == *(char *)((int)puVar10 + 0x2a)) {
            *(undefined *)((int)puVar10 + 0x29) = uVar18;
            *(undefined *)(puVar10 + 10) = uVar18;
          }
        }
      }
      else {
        *(undefined4 *)((int)puVar10 + 0x65) = 0;
        *(byte *)(puVar10 + 10) = bVar11 + 1;
        *(byte *)((int)puVar10 + 0x29) = bVar11 + 1;
        *(byte *)(puVar10 + 0x16) = *(byte *)(puVar10 + 0x16) & 0xfd;
        puVar10[0x13] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x36);
        puVar10[0x14] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
        puVar10[0x15] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3e);
      }
      iVar13 = (uint)*(byte *)(puVar10 + 10) * 0x10 + *(int *)((int)puVar10 + 0xae);
      puVar10[1] = *(undefined4 *)
                    ((uint)*(byte *)(puVar10 + 10) * 0x10 + *(int *)((int)puVar10 + 0xae));
      puVar10[2] = *(undefined4 *)(iVar13 + 4);
      puVar10[3] = *(undefined4 *)(iVar13 + 8);
      iVar13 = *(int *)(iVar13 + 0xc) * 0x19;
      *(int *)((int)puVar10 + 0x2b) = iVar13;
      if (((*(byte *)(puVar10 + 0x16) & 0x80) == 0) || (param_3 == 0)) {
        if (((*(byte *)(puVar10 + 0x16) & 0x80) == 0) && (param_3 == 0)) {
          *(undefined4 *)((int)puVar10 + 0x2b) = 0x18ce;
        }
        else if ((iVar13 == 0x18e7) || (iVar13 == 0x18ce)) {
          *(undefined4 *)((int)puVar10 + 0x2b) = 0;
          *(undefined4 *)((int)puVar10 + 0x65) = 0;
        }
      }
      else {
        *(undefined4 *)((int)puVar10 + 0x2b) = 0x18e7;
      }
    }
  }
  *(undefined4 *)((int)puVar10 + 0x3f) = 0x19;
  *puVar10 = 3;
  fVar20 = (float10)FUN_004ad534((double)fVar5);
  FUN_00405b40(param_1,puVar10,fVar5,
               *(float *)(param_7 + 0x28) *
               (float)(((float10)1.0 / fVar20) * (float10)(fVar3 - fVar4)) +
               *(float *)(param_7 + 0x20) *
               (float)(((float10)1.0 / fVar20) * (float10)(fVar1 - fVar2)),param_6);
  return;
}



bool FUN_00404da0(int param_1)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  char cVar4;
  
  uVar3 = (uint)*(byte *)(param_1 + 0x2f);
  cVar1 = *(char *)(param_1 + 0x2a);
  cVar4 = cVar1;
  if (uVar3 != 0) {
    pcVar2 = *(char **)(param_1 + 0xb2);
    do {
      if ((pcVar2[1] == *(char *)(param_1 + 0x28)) || (*pcVar2 == *(char *)(param_1 + 0x28))) {
        cVar4 = *pcVar2;
      }
      pcVar2 = pcVar2 + 6;
      uVar3 = uVar3 - 1;
    } while (uVar3 != 0);
  }
  return cVar4 != cVar1;
}



float10 FUN_00404df0(int param_1)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)0.0;
  fVar2 = (float10)*(float *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x6f);
  if ((float10)0.0 < fVar2) {
    do {
      fVar2 = fVar2 - (float10)0.2;
      if ((float10)0.0 < fVar2) {
        fVar1 = fVar1 + fVar2;
      }
    } while ((float10)0.0 < fVar2);
  }
  return fVar1;
}



void FUN_00404e50(uint param_1)

{
  int iVar1;
  int iVar2;
  byte bVar3;
  
  iVar2 = param_1;
  iVar1 = *(int *)(*(int *)(param_1 + 4) + 0x100);
  if (*(char *)(iVar1 + 0x30) != '\0') {
    bVar3 = 0;
    param_1 = 0;
    while (&DAT_005f7720 + param_1 * 0x140 != *(undefined **)(iVar1 + 0xae)) {
      bVar3 = bVar3 + 1;
      param_1 = (uint)bVar3;
      if (4 < bVar3) {
        return;
      }
    }
    (&DAT_005f76d0)[param_1] = 0;
    *(undefined *)(*(int *)(*(int *)(iVar2 + 4) + 0x100) + 0x30) = 0;
  }
  return;
}



undefined4 FUN_00404ec0(int param_1,float *param_2,int param_3)

{
  float fVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float10 fVar7;
  double dVar8;
  float fVar9;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 4);
  if (*(char *)(iVar2 + 0x189) == '\0') {
    return 1;
  }
  iVar3 = *(int *)(iVar2 + 0x100);
  fVar9 = *(float *)(iVar3 + 0x54) - param_2[2];
  fVar1 = *(float *)(iVar3 + 0x4c) - *param_2;
  fVar5 = *(float *)(iVar3 + 0x44) * *(float *)(iVar3 + 0x44);
  fVar1 = fVar1 * fVar1 + fVar9 * fVar9;
  if (fVar5 <= fVar1) {
    fVar9 = *(float *)(iVar3 + 0x4c) - *(float *)(iVar2 + 0x36);
    fVar4 = *(float *)(iVar3 + 0x54) - *(float *)(iVar2 + 0x3e);
    fVar9 = fVar4 * fVar4 + fVar9 * fVar9;
    if (fVar1 < fVar9) {
      return 1;
    }
    if ((param_3 == 0) && (fVar9 < fVar5)) {
      fVar9 = *param_2 - *(float *)(iVar2 + 0x36);
      fVar1 = param_2[2] - *(float *)(iVar2 + 0x3e);
      dVar8 = (double)(fVar1 * fVar1 + fVar9 * fVar9);
      fVar7 = (float10)FUN_004ad534(dVar8);
      iVar2 = *(int *)(param_1 + 4);
      fVar9 = *(float *)(iVar2 + 0x36) - *(float *)(*(int *)(iVar2 + 0x100) + 0x4c);
      fVar6 = *(float *)(iVar2 + 0x3e) - *(float *)(*(int *)(iVar2 + 0x100) + 0x54);
      fVar1 = (float)((float10)fVar1 * ((float10)1.0 / fVar7));
      fVar4 = fVar6 * fVar1 +
              fVar9 * (float)((float10)(float)((ulonglong)dVar8 >> 0x20) * ((float10)1.0 / fVar7));
      fVar4 = fVar4 + fVar4;
      fVar9 = (float)((ulonglong)
                      (double)(fVar4 * fVar4 - ((fVar6 * fVar6 + fVar9 * fVar9) - fVar5) * 4.0) >>
                     0x20);
      fVar7 = (float10)FUN_004ad534();
      fVar7 = (fVar7 - (float10)fVar4) * (float10)0.5;
      if ((float10)5.0 <= fVar7) {
        *param_2 = (float)((float10)fVar9 * fVar7 +
                          (float10)*(float *)(*(int *)(param_1 + 4) + 0x36));
        param_2[2] = (float)((float10)fVar1 * fVar7 +
                            (float10)*(float *)(*(int *)(param_1 + 4) + 0x3e));
        return 1;
      }
    }
    return 0;
  }
  return 1;
}



float10 FUN_004050a0(undefined4 *param_1,undefined4 *param_2,float *param_3,float *param_4,
                    undefined4 param_5,float param_6)

{
  float fVar1;
  float fVar2;
  float *pfVar3;
  int iVar4;
  int *piVar5;
  float10 fVar6;
  float local_78 [4];
  undefined4 local_68;
  float local_64;
  float local_60;
  undefined4 local_5c;
  float local_58;
  float local_54;
  undefined4 local_50;
  float local_4c;
  float local_48;
  undefined4 local_44;
  float local_40;
  int local_3c;
  float local_38;
  float local_34;
  float local_30;
  undefined4 *local_2c;
  undefined4 *local_28;
  undefined4 *puStack_24;
  undefined4 **ppuStack_20;
  undefined4 *local_1c;
  undefined8 local_18;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  pfVar3 = param_3;
  local_78[1] = 0.0;
  local_68 = 0;
  local_54 = *param_3;
  local_4c = param_3[2];
  local_48 = -*param_3;
  local_40 = -param_3[2];
  local_60 = -param_3[8];
  local_58 = -param_3[10];
  param_3 = (float *)(local_58 * 100.0);
  local_78[0] = local_60 * 100.0 - local_54 * -80.0;
  local_78[3] = local_60 * 100.0 - local_48 * -80.0;
  local_78[2] = (float)param_3 - local_4c * -80.0;
  local_64 = (float)param_3 - local_40 * -80.0;
  local_50 = 0;
  local_5c = 0;
  local_44 = 0;
  local_18 = (double)CONCAT44(local_78,0x405187);
  FUN_0045eab0();
  local_18 = (double)CONCAT44(local_78 + 3,0x405193);
  FUN_0045eab0();
  local_30 = 4.203895e-45;
  local_2c = (undefined4 *)0x4;
  if (0.0 < local_60 * *param_4 + local_58 * param_4[2]) {
    local_34 = 2.802597e-45;
    if (0.0 < local_78[0] * *param_4 + local_78[2] * param_4[2]) {
      local_3c = 1;
      local_38 = 0.0;
    }
    else {
      local_3c = 0;
      local_38 = 1.401298e-45;
    }
  }
  else {
    local_3c = 2;
    if (0.0 < local_78[0] * *param_4 + local_78[2] * param_4[2]) {
      local_38 = 1.401298e-45;
      local_34 = 0.0;
    }
    else {
      local_38 = 0.0;
      local_34 = 1.401298e-45;
    }
  }
  iVar7 = 0;
  piVar5 = &local_3c;
  do {
    ppuStack_20 = &local_28;
    local_1c = (undefined4 *)(pfVar3[0xc] - local_78[*piVar5 * 3] * -15.0);
    local_28 = (undefined4 *)&stack0xfffffff8;
    puStack_24 = (undefined4 *)(pfVar3[0xe] - local_78[*piVar5 * 3 + 2] * -15.0);
    local_18 = (double)(ZEXT48(puStack_24) << 0x20);
    local_2c = (undefined4 *)0x405294;
    local_1c = local_28;
    fVar6 = (float10)FUN_0041c650();
    if ((float10)(float)local_18 - (float10)1.4 < fVar6 - (float10)-1.4) {
      local_18 = (double)(ulonglong)(uint)(float)((fVar6 - (float10)-1.4) - (float10)-1.4);
    }
    param_3 = (float *)0x0;
    local_18 = (double)((float)local_18 - pfVar3[0xd]);
    local_1c = (undefined4 *)0x4052e9;
    fVar6 = (float10)FUN_004ad3c0();
    if (fVar6 < (float10)10.0) {
      puStack_24 = (undefined4 *)local_18._4_4_;
      local_28 = (undefined4 *)((float)local_18 - -1.28);
      local_2c = &param_3;
      local_18 = 0.0;
      ppuStack_20 = (undefined4 **)0x3f800000;
      local_30 = pfVar3[0xe];
      local_38 = pfVar3[0xc];
      local_34 = pfVar3[0xd] - -1.28;
      local_3c = 0x405335;
      local_1c = local_2c;
      fVar6 = (float10)FUN_00421a70();
      if ((fVar6 == (float10)-10000.0) && (param_3 == (float *)0x0)) {
        if (param_2[0x12] != 0) {
LAB_00405568:
          param_2[1] = local_1c;
          *param_2 = 3;
          param_2[2] = (float)local_18;
          param_2[3] = local_18._4_4_;
          local_18 = (double)CONCAT44(param_2,0x405588);
          FUN_00404620();
          local_18 = (double)CONCAT44(param_6,param_5);
          fVar1 = *(float *)(param_1[1] + 0x100);
          *(undefined4 *)((int)fVar1 + 0x3f) = 0x19;
          fVar1 = fVar1 - pfVar3[0xc];
          local_1c = (undefined4 *)
                     ((param_6 - pfVar3[0xe]) * (param_6 - pfVar3[0xe]) + fVar1 * fVar1);
          ppuStack_20 = (undefined4 **)param_2;
          puStack_24 = param_1;
          local_28 = (undefined4 *)0x4055d3;
          FUN_00405b40();
          return (float10)-999.0;
        }
        local_18 = (double)ZEXT48(&local_1c);
        local_1c = param_1;
        ppuStack_20 = (undefined4 **)0x405366;
        iVar4 = FUN_00404ec0();
        if (iVar4 != 0) goto LAB_00405568;
      }
    }
    piVar5 = piVar5 + 1;
    iVar7 = iVar7 + 1;
  } while (iVar7 < 5);
  local_1c = (undefined4 *)&stack0xfffffff8;
  puStack_24 = (undefined4 *)(pfVar3[0xe] - *param_4 * 15.0);
  local_28 = (undefined4 *)(pfVar3[0xc] - *param_4 * 15.0);
  ppuStack_20 = &local_28;
  local_18 = (double)CONCAT44(puStack_24,pfVar3[0xd]);
  local_2c = (undefined4 *)0x4053c8;
  fVar6 = (float10)FUN_0041c650();
  param_4 = (float *)(float)(fVar6 - (float10)-1.4);
  if ((float10)(float)local_18 - (float10)1.4 < fVar6 - (float10)-1.4) {
    local_18 = (double)(ulonglong)(uint)((float)param_4 - -1.4);
  }
  param_3 = (float *)0x0;
  local_18 = (double)((float)local_18 - pfVar3[0xd]);
  local_1c = (undefined4 *)0x40540c;
  fVar6 = (float10)FUN_004ad3c0();
  if (fVar6 < (float10)10.0) {
    puStack_24 = (undefined4 *)local_18._4_4_;
    local_28 = (undefined4 *)((float)local_18 - -1.28);
    local_2c = &param_3;
    local_18 = 0.0;
    ppuStack_20 = (undefined4 **)0x3f800000;
    local_30 = pfVar3[0xe];
    local_38 = pfVar3[0xc];
    local_34 = pfVar3[0xd] - -1.28;
    local_3c = 0x40545c;
    local_1c = local_2c;
    fVar6 = (float10)FUN_00421a70();
    if ((fVar6 == (float10)-10000.0) && (param_3 == (float *)0x0)) {
      if (param_2[0x12] == 0) {
        local_18 = (double)ZEXT48(&local_1c);
        local_1c = param_1;
        ppuStack_20 = (undefined4 **)0x405491;
        iVar7 = FUN_00404ec0();
        if (iVar7 == 0) goto LAB_00405515;
      }
      param_2[1] = local_1c;
      *param_2 = 3;
      param_2[2] = (float)local_18;
      param_2[3] = local_18._4_4_;
      local_18 = (double)CONCAT44(param_2,0x4054bd);
      FUN_00404620();
      fVar1 = *(float *)(param_1[1] + 0x100);
      local_18 = (double)CONCAT44(param_6,param_5);
      *(undefined4 *)((int)fVar1 + 0x3f) = 0x19;
      fVar1 = fVar1 - pfVar3[0xc];
      local_1c = (undefined4 *)((param_6 - pfVar3[0xe]) * (param_6 - pfVar3[0xe]) + fVar1 * fVar1);
      ppuStack_20 = (undefined4 **)param_2;
      puStack_24 = param_1;
      local_28 = (undefined4 *)0x405505;
      FUN_00405b40();
      return (float10)-999.0;
    }
  }
LAB_00405515:
  iVar7 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  fVar1 = pfVar3[0xc] - *(float *)(iVar7 + 0x36);
  fVar2 = pfVar3[0xe] - *(float *)(iVar7 + 0x3e);
  local_18 = (double)(fVar2 * fVar2 + fVar1 * fVar1);
  local_1c = (undefined4 *)0x405550;
  FUN_004ad534();
  *param_2 = 3;
  return (float10)-999.0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004055f0(void)

{
  _DAT_005f76d0 = 0;
  DAT_005f76d4 = 0;
  return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00405600(int *param_1,float param_2,float param_3,float param_4)

{
  undefined4 *puVar1;
  int *piVar2;
  char cVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  float10 fVar9;
  undefined4 local_260 [9];
  float local_23a;
  float local_232;
  float local_c7;
  undefined local_b0 [24];
  undefined local_98 [12];
  undefined local_8c [12];
  float local_80 [2];
  float local_78;
  float local_60;
  float local_5c;
  float local_58;
  float local_4c;
  undefined local_40 [4];
  undefined4 local_3c;
  undefined **local_38;
  undefined4 *******local_34;
  undefined4 local_30;
  undefined *local_2c;
  int *local_28;
  undefined *local_24;
  undefined ***local_20;
  float *local_1c;
  undefined8 local_18;
  float fVar10;
  float fVar11;
  float fVar12;
  
  AdjustStackForLargeAllocations();
  puVar1 = (undefined4 *)param_1[1];
  local_1c = local_80;
  local_18 = (double)CONCAT44((undefined *)((int)puVar1 + 6),(undefined *)((int)puVar1 + 0x46));
  local_20 = (undefined ***)0x405627;
  MultiplyMatrices();
  piVar2 = (int *)puVar1[0x40];
  local_34 = *(undefined4 ********)((int)puVar1 + 0x36);
  iVar6 = *(int *)(*(int *)((int)puVar1 + 0x86) + 0x13);
  local_30 = *(undefined4 *)((int)puVar1 + 0x3a);
  local_2c = *(undefined **)((int)puVar1 + 0x3e);
  fVar12 = (float)piVar2[1] - *(float *)((int)puVar1 + 0x36);
  fVar10 = (float)piVar2[3] - *(float *)((int)puVar1 + 0x3e);
  fVar10 = fVar10 * fVar10 + fVar12 * fVar12;
  if ((fVar10 < 400.0) && (*piVar2 != 2)) {
    fVar12 = (float)piVar2[2] - *(float *)((int)puVar1 + 0x3a);
    local_18 = (double)(fVar12 * fVar12 + fVar10);
    local_1c = (float *)0x4056a8;
    local_28 = piVar2;
    fVar9 = (float10)FUN_004ad534();
    param_4 = 1.0 / (float)fVar9;
    iVar4 = param_1[1];
    param_2 = ((float)piVar2[1] - *(float *)(iVar4 + 0x36)) * param_4;
    param_3 = ((float)piVar2[2] - *(float *)(iVar4 + 0x3a)) * param_4;
    param_4 = ((float)piVar2[3] - *(float *)(iVar4 + 0x3e)) * param_4;
  }
  local_18 = (double)(ulonglong)(uint)(local_58 * param_4 + local_60 * param_2);
  fVar12 = local_78 * param_4 + local_80[0] * param_2;
  local_28 = (int *)(*(float *)((int)puVar1 + 0x36) - local_60 * 8.0);
  local_20 = (undefined ***)(*(float *)((int)puVar1 + 0x3a) - local_5c * 8.0);
  local_24 = (undefined *)(*(float *)((int)puVar1 + 0x3e) - local_58 * 8.0);
  local_2c = (undefined *)0x405761;
  local_1c = (float *)local_24;
  fVar9 = (float10)FUN_0041c650();
  local_1c = (float *)local_8c;
  local_18 = (double)ZEXT48(local_40);
  local_20 = &local_38;
  fVar10 = (float)fVar9;
  local_24 = local_b0;
  local_30 = *(undefined4 *)(iVar6 + 0x88);
  local_2c = local_98;
  local_28 = param_1;
  local_34 = &local_34;
  local_38 = &local_24;
  local_3c = 0x40579b;
  iVar4 = FUN_0041d230();
  if (((iVar4 != 0) || ((*(byte *)(param_1[1] + 0x8a) & 0xc0) != 0)) ||
     ((float)local_20 - *(float *)(iVar6 + 0x88) < fVar10)) {
    if (0.0 <= fVar12) {
      *(undefined4 *)((int)puVar1 + 0xc9) = 6;
    }
    else {
      *(undefined4 *)((int)puVar1 + 0xc9) = 10;
    }
    if ((*(int *)(iVar6 + 0x7b) != 8) && (*(int *)(iVar6 + 0x7f) != 0x1e)) {
      return;
    }
    goto LAB_00405b23;
  }
  local_18._4_4_ = param_1[1] + 0xa4;
  puVar7 = puVar1;
  puVar8 = local_260;
  for (iVar6 = 0x6b; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  *(undefined *)puVar8 = *(undefined *)puVar7;
  local_18 = (double)CONCAT44(local_18._4_4_,param_1);
  local_1c = (float *)0x4057f3;
  fVar11 = local_c7;
  fVar9 = (float10)FUN_0040c180();
  fVar10 = (float)fVar9;
  if (0.0 < fVar12) {
    if (local_c7 < 0.0) {
      local_c7 = 0.0;
    }
    fVar12 = local_c7 - -0.02;
    local_c7 = fVar10;
    if (fVar12 < fVar10) {
      local_c7 = fVar12;
    }
    local_18 = (double)CONCAT44(1,local_260);
    local_1c = (float *)0x40590b;
    FUN_004081f0();
    if ((float)local_18 <= local_232 * param_4 + local_23a * param_2) {
      local_18 = (double)CONCAT44(0xffffffff,local_260);
      local_1c = (float *)0x40594a;
      FUN_004081f0();
      local_c7 = fVar11;
    }
    else {
      *(uint *)((int)puVar1 + 0xc9) = *(uint *)((int)puVar1 + 0xc9) | 4;
    }
  }
  else {
    if (local_c7 >= 0.0 && local_c7 != 0.0) {
      local_c7 = 0.0;
    }
    fVar12 = local_c7 - 0.02;
    local_c7 = -fVar10;
    if (local_c7 < fVar12) {
      local_c7 = fVar12;
    }
    local_18 = (double)CONCAT44(1,local_260);
    local_1c = (float *)0x40586e;
    FUN_004081f0();
    if ((float)local_18 <= local_232 * param_4 + local_23a * param_2) {
      local_18 = (double)CONCAT44(0xffffffff,local_260);
      local_1c = (float *)0x4058b0;
      FUN_004081f0();
      local_c7 = fVar11;
    }
    else {
      *(uint *)((int)puVar1 + 0xc9) = *(uint *)((int)puVar1 + 0xc9) | 8;
    }
  }
  if (*local_28 == 2) {
    iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    iVar4 = *(int *)(*(int *)(iVar6 + 0x98) + 0x10);
    if (((((iVar4 != 4) && (iVar4 != 5)) &&
         ((iVar4 = *(int *)(*(int *)(iVar6 + 0x86) + 0x13), *(int *)(iVar4 + 0x114) != 6 ||
          (*(char *)(iVar6 + 4) != '\x03')))) &&
        ((*(int *)(iVar4 + 0x7b) != 8 ||
         ((*(char *)(iVar6 + 4) != '\x05' && (*(char *)(iVar6 + 4) != '\x06')))))) &&
       (((*(uint *)(iVar6 + 0x8a) & 0x100000) == 0 &&
        (*(int *)(*(int *)(*(int *)(param_1[1] + 0x86) + 0x13) + 0x7f) == 9)))) goto LAB_004059e1;
    if (local_4c <= (float)local_28[2] - -10.0) {
      fVar10 = (float)local_28[2] - 10.0;
joined_r0x00405a12:
      if (fVar10 <= local_4c) goto LAB_00405a80;
LAB_00405a72:
      uVar5 = *(uint *)((int)puVar1 + 0xc9) | 2;
    }
    else {
      uVar5 = *(uint *)((int)puVar1 + 0xc9) | 1;
    }
LAB_00405a7a:
    *(uint *)((int)puVar1 + 0xc9) = uVar5;
  }
  else {
LAB_004059e1:
    if (*(int *)(local_18._4_4_ + 0x10) == 8) {
      if (local_4c <= (float)local_28[2] - -20.0) {
        fVar10 = (float)local_28[2];
        goto joined_r0x00405a12;
      }
      uVar5 = *(uint *)((int)puVar1 + 0xc9) | 1;
      goto LAB_00405a7a;
    }
    if (param_3 < 0.0) {
      uVar5 = *(uint *)((int)puVar1 + 0xc9) | 1;
      goto LAB_00405a7a;
    }
    if (0.0 < param_3) goto LAB_00405a72;
  }
LAB_00405a80:
  if ((*(int *)(local_18._4_4_ + 0x10) != 8) && (*(int *)(local_18._4_4_ + 0x14) != 0x1e)) {
    if ((*(byte *)(local_28 + 0x16) & 0x10) == 0) {
      return;
    }
    if ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x200) != 0) {
      return;
    }
    if (*(char *)(*(int *)(param_1[1] + 0x100) + 0x43) != '\0') {
      return;
    }
    if ((*(byte *)(param_1[1] + 0x8a) & 8) != 0) {
      iVar6 = puVar1[0x40];
      local_18 = (double)CONCAT44(0x405ae8,(float)local_18);
      cVar3 = __ftol();
      *(char *)(iVar6 + 0x43) = '2' - cVar3;
    }
  }
LAB_00405b23:
  *(uint *)((int)puVar1 + 0xc9) = *(uint *)((int)puVar1 + 0xc9) | 0x20;
  return;
}



void FUN_00405b40(int param_1,int *param_2,float param_3,float param_4,float param_5)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  byte bVar4;
  char cVar5;
  uint uVar6;
  float *pfVar7;
  int iVar8;
  int *piVar9;
  ushort uVar10;
  int unaff_EDI;
  int iVar11;
  float10 fVar12;
  longlong in_stack_ffffffe8;
  float fVar13;
  int iVar14;
  bool bVar15;
  uint uVar16;
  
  AdjustStackForLargeAllocations();
  uVar6 = 0;
  bVar15 = false;
  if (((param_2[0x12] < 3) && (*(char *)((int)param_2 + 0x6b) == -1)) &&
     (*(char *)(*(int *)(param_1 + 4) + 0x189) != '\x01')) {
    iVar11 = 0;
    iVar8 = 0;
    piVar9 = (int *)(*(int *)(param_1 + 4) + 0x175);
    iVar14 = 5;
    do {
      iVar2 = *piVar9;
      if (iVar2 != 0) {
        if (*(int *)(*(int *)(iVar2 + 0x13) + 0x7f) == 0x13) {
          bVar15 = true;
          in_stack_ffffffe8 = (ulonglong)uVar6 << 0x20;
        }
        else {
          iVar11 = iVar11 + 100;
          iVar8 = iVar8 + (uint)*(byte *)(iVar2 + 4);
        }
      }
      uVar6 = uVar6 + 1;
      piVar9 = piVar9 + 1;
      iVar14 = iVar14 + -1;
    } while (iVar14 != 0);
    if ((bVar15) && (iVar8 < iVar11 >> 1)) {
      *(char *)((int)param_2 + 0x6b) = (char)((ulonglong)in_stack_ffffffe8 >> 0x20);
      *(undefined *)((int)param_2 + 0x6a) = 0xfa;
      return;
    }
    iVar14 = *(int *)(param_1 + 4);
    iVar8 = *(int *)(iVar14 + 0x86);
    iVar11 = __ftol();
    if ((int)(uint)*(byte *)(iVar8 + 4) < iVar11) {
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
        if (((iVar2 != 0) && (bVar1 = *(byte *)(iVar2 + 4), *(byte *)(iVar8 + 4) < bVar1)) &&
           (iVar11 < (int)(uint)bVar1)) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    iVar2 = *(int *)(unaff_EDI + 4);
    iVar3 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
    if ((((iVar3 == 4) || (iVar3 == 5)) ||
        ((iVar3 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) == 6 &&
         (*(char *)(iVar2 + 4) == '\x03')))) ||
       (((*(int *)(iVar3 + 0x7b) == 8 &&
         ((*(char *)(iVar2 + 4) == '\x05' || (*(char *)(iVar2 + 4) == '\x06')))) ||
        (((*(uint *)(iVar2 + 0x8a) & 0x100000) != 0 ||
         (fVar12 = (float10)FUN_004ad3c0((double)((float)param_2[2] - *(float *)(iVar14 + 0x3a))),
         (float10)30.0 < fVar12)))))) {
      iVar14 = *(int *)(*(int *)(iVar8 + 0x13) + 0x7b);
      if (iVar14 == 4) {
        return;
      }
      if (iVar14 == 5) {
        return;
      }
      if (*(int *)(*(int *)(iVar8 + 0x13) + 0x7f) == 0x18) {
        return;
      }
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar14 = *(int *)(*(int *)(param_1 + 4) + 0x175 + uVar6 * 4);
        if ((iVar14 != 0) && (iVar8 = iVar14, iVar14 != *(int *)(*(int *)(param_1 + 4) + 0x86))) {
          iVar2 = *(int *)(*(int *)(iVar14 + 0x13) + 0x7b);
          if (((iVar2 == 4) || ((iVar2 == 5 || (*(int *)(*(int *)(iVar14 + 0x13) + 0x7f) == 0x18))))
             && (iVar11 <= (int)(uint)*(byte *)(iVar14 + 4))) goto LAB_004064ab;
        }
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    iVar14 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    if (((*(byte *)(iVar14 + 0x8e) & 0x80) == 0) && ((*(byte *)(iVar14 + 0x8a) & 0xc0) != 0)) {
      fVar13 = (float)param_2[2] - *(float *)(*(int *)(param_1 + 4) + 0x3a);
      fVar12 = (float10)FUN_00404df0();
      if (fVar12 < (float10)fVar13) {
        iVar14 = *(int *)(param_1 + 4);
        iVar2 = *(int *)(*(int *)(iVar14 + 0x98) + 0x10);
        if (iVar2 == 4) {
          return;
        }
        if (iVar2 == 5) {
          return;
        }
        iVar2 = *(int *)(*(int *)(iVar14 + 0x86) + 0x13);
        if ((*(int *)(iVar2 + 0x114) == 6) && (*(char *)(iVar14 + 4) == '\x03')) {
          return;
        }
        iVar3 = *(int *)(iVar2 + 0x7b);
        if (iVar3 == 8) {
          if (*(char *)(iVar14 + 4) == '\x05') {
            return;
          }
          if (*(char *)(iVar14 + 4) == '\x06') {
            return;
          }
        }
        if ((*(uint *)(iVar14 + 0x8a) & 0x100000) != 0) {
          return;
        }
        if (iVar3 == 6) {
          return;
        }
        if (iVar3 == 8) {
          return;
        }
        if (*(int *)(iVar2 + 0x7f) == 10) {
          return;
        }
        bVar4 = 0;
        uVar6 = 0;
        do {
          iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
          if (((iVar2 != 0) && (iVar8 = iVar2, iVar2 != *(int *)(iVar14 + 0x86))) &&
             ((((*(int *)(*(int *)(iVar2 + 0x13) + 0x7f) == 10 ||
                (((iVar3 = *(int *)(*(int *)(iVar2 + 0x13) + 0x7b), iVar3 == 4 || (iVar3 == 5)) ||
                 (iVar3 == 8)))) || (iVar3 == 6)) && (iVar11 <= (int)(uint)*(byte *)(iVar2 + 4)))))
          goto LAB_004064ab;
          bVar4 = bVar4 + 1;
          uVar6 = (uint)bVar4;
        } while (bVar4 < 5);
      }
    }
    if ((param_4 < 0.0) && (0.0 < param_5)) {
      iVar14 = *(int *)(param_1 + 4);
      if (*(int *)(*(int *)(iVar14 + 0x98) + 0x14) == 0xd) {
        return;
      }
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
        if (((iVar2 != 0) && (iVar8 = iVar2, iVar2 != *(int *)(iVar14 + 0x86))) &&
           ((*(int *)(*(int *)(iVar2 + 0x13) + 0x7f) == 0xd &&
            (iVar11 <= (int)(uint)*(byte *)(iVar2 + 4))))) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    if ((param_5 < 0.0) &&
       (iVar14 = *(int *)(param_1 + 4), *(int *)(*(int *)(iVar14 + 0x98) + 0x14) == 0xd)) {
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
        if ((((iVar2 != 0) && (iVar8 = iVar2, iVar2 != *(int *)(iVar14 + 0x86))) &&
            (*(short *)(*(int *)(iVar2 + 0x13) + 0xa1) != 0)) &&
           ((*(int *)(*(int *)(iVar2 + 0x13) + 0x7f) != 0xd &&
            (iVar11 <= (int)(uint)*(byte *)(iVar2 + 4))))) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    if (2500.0 < param_3) {
      iVar14 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      iVar2 = *(int *)(*(int *)(iVar14 + 0x98) + 0x10);
      if (((((iVar2 != 4) && (iVar2 != 5)) &&
           ((iVar2 = *(int *)(*(int *)(iVar14 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) != 6 ||
            (*(char *)(iVar14 + 4) != '\x03')))) &&
          ((*(int *)(iVar2 + 0x7b) != 8 ||
           ((*(char *)(iVar14 + 4) != '\x05' && (*(char *)(iVar14 + 4) != '\x06')))))) &&
         ((*(uint *)(iVar14 + 0x8a) & 0x100000) == 0)) {
        if (((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 0x10) != 0) &&
           (*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x98) + 0x10) == 7)) {
          return;
        }
        bVar4 = 0;
        iVar14 = 0;
        fVar13 = *(float *)(*(int *)(iVar8 + 0x13) + 0x6b);
        do {
          iVar8 = *(int *)(iVar14 + 0x175 + *(int *)(param_1 + 4));
          if ((iVar8 != 0) && (iVar8 != *(int *)(*(int *)(param_1 + 4) + 0x86))) {
            pfVar7 = (float *)(*(int *)(iVar8 + 0x13) + 0x6b);
            if (((fVar13 < *pfVar7) ||
                (((*(int *)(*(int *)(iVar8 + 0x13) + 0x7f) == 0x1e &&
                  ((*(byte *)(param_2 + 0x16) & 0x80) != 0)) && (*param_2 == 2)))) &&
               ((iVar11 <= (int)(uint)*(byte *)(iVar8 + 4) &&
                (*(byte *)((int)param_2 + 0x6b) = bVar4, fVar13 < *pfVar7)))) {
              fVar13 = *pfVar7;
            }
          }
          bVar4 = bVar4 + 1;
          iVar14 = iVar14 + 4;
        } while (bVar4 < 5);
        if (*(char *)((int)param_2 + 0x6b) != '\0') {
          *(byte *)((int)param_2 + 0x6a) = bVar4 * '2';
          return;
        }
      }
    }
    if (((*param_2 == 2) &&
        (iVar14 = *(int *)(param_1 + 4),
        20.0 < *(float *)(iVar14 + 0x3a) - *(float *)(*(int *)(unaff_EDI + 4) + 0x3a))) &&
       ((iVar8 = *(int *)(*(int *)(iVar14 + 0x98) + 0x10), iVar8 != 4 && (iVar8 != 5)))) {
      iVar8 = *(int *)(*(int *)(iVar14 + 0x86) + 0x13);
      if ((((*(int *)(iVar8 + 0x114) != 6) || (*(char *)(iVar14 + 4) != '\x03')) &&
          ((*(int *)(iVar8 + 0x7b) != 8 ||
           ((*(char *)(iVar14 + 4) != '\x05' && (*(char *)(iVar14 + 4) != '\x06')))))) &&
         ((*(uint *)(iVar14 + 0x8a) & 0x100000) == 0)) {
        bVar4 = 0;
        uVar6 = 0;
        do {
          iVar8 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
          if ((((iVar8 != 0) && (iVar8 != *(int *)(iVar14 + 0x86))) &&
              (*(int *)(*(int *)(iVar8 + 0x13) + 0x7f) == 5)) &&
             (iVar11 <= (int)(uint)*(byte *)(iVar8 + 4))) goto LAB_004064ab;
          bVar4 = bVar4 + 1;
          uVar6 = (uint)bVar4;
        } while (bVar4 < 5);
      }
    }
    iVar14 = *(int *)(param_1 + 4);
    uVar6 = *(uint *)(iVar14 + 0x8a) & 0x10;
    if ((uVar6 != 0) && (*(int *)(*(int *)(iVar14 + 0x98) + 0x10) != 7)) {
      bVar4 = 0;
      uVar16 = 0;
      do {
        iVar8 = *(int *)(iVar14 + 0x175 + uVar16 * 4);
        if (((iVar8 != 0) && (iVar8 != *(int *)(iVar14 + 0x86))) &&
           ((*(int *)(*(int *)(iVar8 + 0x13) + 0x7b) == 7 &&
            (iVar11 <= (int)(uint)*(byte *)(iVar8 + 4))))) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar16 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    iVar8 = *(int *)(*(int *)(iVar14 + 0x98) + 0x10);
    if ((((iVar8 == 4) || (iVar8 == 5)) && (*param_2 == 4)) && (param_3 < 900.0)) {
      bVar4 = 0;
      uVar16 = 0;
      do {
        iVar2 = *(int *)(iVar14 + 0x175 + uVar16 * 4);
        if (((iVar2 != 0) && (iVar2 != *(int *)(iVar14 + 0x86))) &&
           ((iVar2 = *(int *)(*(int *)(iVar2 + 0x13) + 0x7b), iVar2 != 4 && (iVar2 != 5))))
        goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar16 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    if ((uVar6 == 0) && (iVar8 == 7)) {
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar8 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
        if ((((iVar8 != 0) && (iVar8 != *(int *)(iVar14 + 0x86))) &&
            (*(int *)(*(int *)(iVar8 + 0x13) + 0x7b) != 7)) &&
           (iVar11 <= (int)(uint)*(byte *)(iVar8 + 4))) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    iVar8 = *(int *)(iVar14 + 0x86);
    iVar2 = *(int *)(*(int *)(iVar8 + 0x13) + 0x7f);
    if (((iVar2 == 0xe) || (iVar2 == 0xf)) || ((iVar2 == 0x11 || (iVar2 == 0x1d)))) {
      if ((*(char *)(iVar8 + 10) == '\0') && ((*(byte *)(param_2 + 0x16) & 0x80) != 0)) {
        return;
      }
    }
    else {
      bVar4 = 0;
      uVar6 = 0;
      do {
        iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
        if (((((iVar2 != 0) && (iVar2 != iVar8)) &&
             ((iVar3 = *(int *)(*(int *)(iVar2 + 0x13) + 0x7f), iVar3 == 0xe ||
              (((iVar3 == 0xf || (iVar3 == 0x11)) || (iVar3 == 0x1d)))))) &&
            ((*(char *)(iVar2 + 10) == '\0' && (iVar11 <= (int)(uint)*(byte *)(iVar2 + 4))))) &&
           ((*(byte *)(param_2 + 0x16) & 0x80) != 0)) goto LAB_004064ab;
        bVar4 = bVar4 + 1;
        uVar6 = (uint)bVar4;
      } while (bVar4 < 5);
    }
    bVar4 = 0;
    cVar5 = '\0';
    param_4 = 0.0;
    fVar13 = *(float *)(*(int *)(iVar8 + 0x13) + 0x6b);
    uVar10 = *(ushort *)(*(int *)(iVar8 + 0x13) + 0xa1);
    do {
      iVar14 = *(int *)(param_1 + 4);
      iVar8 = *(int *)((int)param_4 + 0x175 + iVar14);
      if ((iVar8 != 0) && (iVar8 != *(int *)(iVar14 + 0x86))) {
        iVar2 = *(int *)(iVar8 + 0x13);
        if (((uVar10 < *(ushort *)(iVar2 + 0xa1)) ||
            ((*(ushort *)(iVar2 + 0xa1) != 0 && (*(char *)(*(int *)(iVar14 + 0x86) + 10) != '\0'))))
           && (((fVar13 <= *(float *)(iVar2 + 0x6b) || (param_3 <= 2500.0)) &&
               ((((*(int *)(iVar2 + 0x7b) != 7 || ((*(byte *)(iVar14 + 0x8a) & 0x10) == 0)) &&
                 (iVar11 <= (int)(uint)*(byte *)(iVar8 + 4))) && (*(char *)(iVar8 + 10) == '\0')))))
           ) {
          *(byte *)((int)param_2 + 0x6b) = bVar4;
          uVar10 = *(ushort *)(iVar2 + 0xa1);
          fVar13 = *(float *)(*(int *)(iVar8 + 0x13) + 0x6b);
          *(char *)((int)param_2 + 0x6a) = cVar5;
        }
      }
      bVar4 = bVar4 + 1;
      param_4 = (float)((int)param_4 + 4);
      cVar5 = cVar5 + '2';
    } while (bVar4 < 5);
    if ((*(char *)((int)param_2 + 0x6b) == -1) &&
       ((*(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e) & 0x80) == 0)) {
      iVar14 = *(int *)(param_1 + 4);
      iVar8 = *(int *)(iVar14 + 0x86);
      if ((*(char *)(iVar8 + 10) != '\0') ||
         (((*(short *)(*(int *)(iVar8 + 0x13) + 0xa1) == 0 &&
           (iVar2 = *(int *)(*(int *)(iVar14 + 0x98) + 0x10), iVar2 != 2)) &&
          ((iVar2 != 7 && (iVar2 != 3)))))) {
        bVar4 = 0;
        uVar6 = 0;
        do {
          iVar2 = *(int *)(iVar14 + 0x175 + uVar6 * 4);
          if ((iVar2 != 0) && (iVar2 != iVar8)) {
            iVar3 = *(int *)(*(int *)(iVar2 + 0x13) + 0x7b);
            if ((((iVar3 == 7) || ((iVar3 == 2 || (iVar3 == 3)))) &&
                ((iVar3 = *(int *)(*(int *)(iVar2 + 0x13) + 0x114), iVar3 == 7 ||
                 (((iVar3 == 2 || (iVar3 == 3)) || (*(char *)(iVar2 + 10) == '\0')))))) &&
               (iVar11 <= (int)(uint)*(byte *)(iVar2 + 4))) {
LAB_004064ab:
              *(byte *)((int)param_2 + 0x6b) = bVar4;
              *(byte *)((int)param_2 + 0x6a) = bVar4 * '2';
              return;
            }
          }
          bVar4 = bVar4 + 1;
          uVar6 = (uint)bVar4;
          if (4 < bVar4) {
            return;
          }
        } while( true );
      }
    }
  }
  return;
}



void FUN_004064c0(void)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0xb6;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0xb6);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  *(undefined4 *)((int)pvVar1 + 0xaa) = 0xffffffff;
  *(undefined4 *)((int)pvVar1 + 0x7e) = 0xffffffff;
  *(undefined4 *)((int)pvVar1 + 0x92) = 0xffffffff;
  *(char *)((int)pvVar1 + 0x6d) = DAT_004d77a0;
  DAT_004d77a0 = DAT_004d77a0 + '\x01';
  return;
}



undefined4 FUN_00406510(char *param_1,int param_2)

{
  uint *puVar1;
  ushort uVar2;
  char cVar3;
  undefined uVar4;
  undefined2 uVar5;
  HANDLE hFile;
  DWORD _Size;
  void *pvVar6;
  BOOL BVar7;
  float *pfVar8;
  undefined2 *puVar9;
  void *pvVar10;
  char *pcVar11;
  undefined4 uVar12;
  float10 fVar13;
  char local_270 [256];
  float local_170 [16];
  DWORD local_130;
  char local_12c [252];
  undefined4 uStackY_30;
  int iVar14;
  DWORD _Size_00;
  size_t sVar15;
  uint uVar16;
  int iVar17;
  int iVar18;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_270,param_1);
  FID_conflict__strcat(local_270,&DAT_004c512c);
  uStackY_30 = 0x406566;
  hFile = CreateFileA(local_270,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,(HANDLE)0x0);
  if ((hFile != (HANDLE)0x0) && (hFile != (HANDLE)0xffffffff)) {
    _Size = GetFileSize(hFile,(LPDWORD)0x0);
    iVar14 = 0;
    _Size_00 = _Size;
    pvVar6 = (void *)AllocateMemoryWithCallback();
    pvVar6 = _memset(pvVar6,iVar14,_Size_00);
    if (pvVar6 != (void *)0x0) {
      _memset(pvVar6,0,_Size);
      BVar7 = ReadFile(hFile,pvVar6,_Size,&local_130,(LPOVERLAPPED)0x0);
      if (BVar7 == 0) {
        FreeMemory();
        return 0;
      }
      CloseHandle(hFile);
      ParseToken();
      ParseToken();
      FUN_004adb90();
      ParseToken();
      ParseToken();
      iVar14 = FUN_004adb80();
      if (iVar14 != 0) {
        do {
          iVar14 = FUN_00474a30();
          ParseToken();
          pfVar8 = local_170;
          iVar18 = 4;
          do {
            iVar17 = 4;
            do {
              ParseToken();
              fVar13 = (float10)FUN_004adb90();
              *pfVar8 = (float)fVar13;
              pfVar8 = pfVar8 + 1;
              iVar17 = iVar17 + -1;
            } while (iVar17 != 0);
            iVar18 = iVar18 + -1;
          } while (iVar18 != 0);
          FUN_004ad7a0();
          *(float *)(*(int *)(iVar14 + 4) + 0x3a) = *(float *)(*(int *)(iVar14 + 4) + 0x3a) - -0.2;
          ParseToken();
          ParseToken();
          cVar3 = FUN_004adb80();
          if (cVar3 != '\0') {
            do {
              ParseToken();
              uVar5 = FUN_004adb80();
              if (param_2 == 0) {
                puVar9 = (undefined2 *)FUN_00425fa0();
                sVar15 = 0x14;
                iVar18 = 0;
                *puVar9 = uVar5;
                pvVar10 = (void *)AllocateMemoryWithCallback();
                pcVar11 = (char *)_memset(pvVar10,iVar18,sVar15);
                *(char **)((int)puVar9 + 0x17) = pcVar11;
                FID_conflict___mbscpy(pcVar11,&DAT_004c5134);
                *(undefined4 *)(*(int *)((int)puVar9 + 0x17) + 0x10) = 0xffffffff;
                FUN_00442a60();
              }
              else {
                puVar9 = (undefined2 *)FUN_004429a0();
              }
              if (*(int *)((int)puVar9 + 0x17) == 0) {
                sVar15 = 0x14;
                iVar18 = 0;
                pvVar10 = (void *)AllocateMemoryWithCallback();
                pvVar10 = _memset(pvVar10,iVar18,sVar15);
                *(void **)((int)puVar9 + 0x17) = pvVar10;
              }
              *(undefined4 *)(*(int *)((int)puVar9 + 0x17) + 0x10) = 0xffffffff;
              ParseToken();
              ParseToken();
              pcVar11 = local_12c;
              FID_conflict___mbscpy(*(char **)((int)puVar9 + 0x17),pcVar11);
              uVar16 = 0;
              if (*(short *)(DAT_00598d90 + 0x245) != 0) {
                iVar18 = 0;
                do {
                  pcVar11 = (char *)(DAT_004d86b4 + iVar18);
                  iVar17 = _strcmp(local_12c,pcVar11);
                  if (iVar17 == 0) {
                    *(uint *)(*(int *)((int)puVar9 + 0x17) + 0x10) = uVar16;
                  }
                  iVar18 = iVar18 + 0x10;
                  uVar16 = uVar16 + 1;
                } while (uVar16 < *(ushort *)(DAT_00598d90 + 0x245));
              }
            } while (pcVar11 != (char *)0x1);
          }
          ParseToken();
          ParseToken();
          fVar13 = (float10)FUN_004adb90();
          *(float *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x3b) = (float)fVar13;
          ParseToken();
          ParseToken();
          fVar13 = (float10)FUN_004adb90();
          *(float *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x37) = (float)fVar13;
          ParseToken();
          ParseToken();
          FID_conflict___mbscpy((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x6e),local_12c);
          uVar16 = 0;
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x7e) = 0xffffffff;
          if (*(short *)(DAT_00598d90 + 0x245) != 0) {
            iVar18 = 0;
            do {
              iVar17 = _strcmp((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x6e),
                               (char *)(DAT_004d86b4 + iVar18));
              if (iVar17 == 0) {
                *(uint *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x7e) = uVar16;
              }
              iVar18 = iVar18 + 0x10;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(ushort *)(DAT_00598d90 + 0x245));
          }
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x92) = 0xffffffff;
          ParseToken();
          ParseToken();
          FID_conflict___mbscpy((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x82),local_12c);
          uVar16 = 0;
          if (*(short *)(DAT_00598d90 + 0x245) != 0) {
            iVar18 = 0;
            do {
              iVar17 = _strcmp((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x82),
                               (char *)(DAT_004d86b4 + iVar18));
              if (iVar17 == 0) {
                *(uint *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x92) = uVar16;
              }
              iVar18 = iVar18 + 0x10;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(ushort *)(DAT_00598d90 + 0x245));
          }
          pvVar10 = pvVar6;
          ParseToken();
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xa6) = 0xffffffff;
          FID_conflict___mbscpy
                    ((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x96),&DAT_004c513c);
          if (3.1 < (float)pvVar10) {
            ParseToken();
            ParseToken();
            FID_conflict___mbscpy((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x96),local_12c)
            ;
          }
          uVar16 = 0;
          if (*(short *)(DAT_00598d90 + 0x245) != 0) {
            iVar18 = 0;
            do {
              iVar17 = _strcmp((char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x96),
                               (char *)(DAT_004d86b4 + iVar18));
              if (iVar17 == 0) {
                *(uint *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xa6) = uVar16;
              }
              iVar18 = iVar18 + 0x10;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(ushort *)(DAT_00598d90 + 0x245));
          }
          ParseToken();
          ParseToken();
          uVar12 = FUN_004adb80();
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x48) = uVar12;
          iVar18 = *(int *)(*(int *)(iVar14 + 4) + 0x100);
          if (*(int *)(iVar18 + 0x48) < 0) {
            *(undefined4 *)(iVar18 + 0x48) = 1;
          }
          iVar18 = *(int *)(*(int *)(iVar14 + 4) + 0x100);
          uVar2 = **(ushort **)(*(int *)(iVar14 + 4) + 0x86);
          if (((*(int *)(iVar18 + 0x48) != 4) && (0xe1 < uVar2)) && (uVar2 < 0xe9)) {
            *(undefined4 *)(iVar18 + 0x48) = 3;
          }
          iVar18 = *(int *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x48);
          if ((2 < iVar18) && (iVar18 < 5)) {
            puVar1 = (uint *)(*(int *)(iVar14 + 4) + 0x8a);
            *puVar1 = *puVar1 | 10;
          }
          ParseToken();
          ParseToken();
          fVar13 = (float10)FUN_004adb90();
          *(float *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x44) = (float)fVar13;
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x4c) =
               *(undefined4 *)(*(int *)(iVar14 + 4) + 0x36);
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x50) =
               *(undefined4 *)(*(int *)(iVar14 + 4) + 0x3a);
          *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x54) =
               *(undefined4 *)(*(int *)(iVar14 + 4) + 0x3e);
          iVar18 = *(int *)(*(int *)(iVar14 + 4) + 0x100);
          *(undefined4 *)(iVar18 + 0x1c) = *(undefined4 *)(iVar18 + 0x4c);
          *(undefined4 *)(iVar18 + 0x20) = *(undefined4 *)(iVar18 + 0x50);
          *(undefined4 *)(iVar18 + 0x24) = *(undefined4 *)(iVar18 + 0x54);
          iVar18 = *(int *)(*(int *)(iVar14 + 4) + 0x100);
          *(undefined4 *)(iVar18 + 0x10) = *(undefined4 *)(iVar18 + 0x1c);
          *(undefined4 *)(iVar18 + 0x14) = *(undefined4 *)(iVar18 + 0x20);
          *(undefined4 *)(iVar18 + 0x18) = *(undefined4 *)(iVar18 + 0x24);
          FUN_0045cc90();
          ParseToken();
          ParseToken();
          uVar4 = FUN_004adb80();
          *(undefined *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a) = uVar4;
          sVar15 = (uint)*(byte *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a) << 4;
          iVar18 = 0;
          pvVar10 = (void *)AllocateMemoryWithCallback();
          pvVar10 = _memset(pvVar10,iVar18,sVar15);
          *(void **)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xae) = pvVar10;
          uVar16 = 0;
          if (*(char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a) != '\0') {
            iVar18 = 0;
            do {
              ParseToken();
              fVar13 = (float10)FUN_004adb90();
              *(float *)(*(int *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xae) + iVar18) =
                   (float)fVar13;
              ParseToken();
              fVar13 = (float10)FUN_004adb90();
              *(float *)(*(int *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xae) + 4 + iVar18) =
                   (float)fVar13;
              ParseToken();
              fVar13 = (float10)FUN_004adb90();
              iVar18 = iVar18 + 0x10;
              *(float *)(*(int *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xae) + -8 + iVar18) =
                   (float)fVar13;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(byte *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a));
          }
          ParseToken();
          uVar16 = 0;
          if (*(char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a) != '\0') {
            do {
              ParseToken();
              pcVar11 = local_12c;
              uVar12 = FUN_004adb80();
              *(undefined4 *)
               (pcVar11 + *(int *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xae) + 0xc) = uVar12;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(byte *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2a));
          }
          ParseToken();
          ParseToken();
          uVar4 = FUN_004adb80();
          uVar16 = 0;
          *(undefined *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2f) = uVar4;
          if (*(char *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2f) != '\0') {
            do {
              sVar15 = 6;
              iVar18 = 0;
              pvVar10 = (void *)AllocateMemoryWithCallback();
              pvVar10 = _memset(pvVar10,iVar18,sVar15);
              *(undefined4 *)((int)pvVar10 + 2) =
                   *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xb2);
              ParseToken();
              pcVar11 = local_12c;
              cVar3 = FUN_004adb80();
              *pcVar11 = cVar3;
              ParseToken();
              pcVar11 = local_12c;
              cVar3 = FUN_004adb80();
              pcVar11[1] = cVar3;
              *(char **)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0xb2) = pcVar11;
              uVar16 = uVar16 + 1;
            } while (uVar16 < *(byte *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x2f));
          }
          ParseToken();
          ParseToken();
          iVar18 = 0x407092;
          uVar16 = FUN_004adb80();
          if ((uVar16 & 1) != 0) {
            *(undefined4 *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x32) = 1;
          }
          if ((uVar16 & 2) != 0) {
            *(undefined *)(*(int *)(*(int *)(iVar14 + 4) + 0x100) + 0x36) = 1;
          }
        } while (iVar18 != 1);
      }
      ParseToken();
      ParseToken();
      for (iVar14 = FUN_004adb80(); iVar14 != 0; iVar14 = iVar14 + -1) {
        ParseToken();
        FUN_004adb90();
        ParseToken();
        FUN_004adb90();
        ParseToken();
        FUN_004adb90();
        ParseToken();
        FUN_004adb80();
        FUN_00407870();
      }
      FreeMemory();
      return 1;
    }
  }
  return 0;
}



void FUN_004071e0(char *param_1)

{
  uint *puVar1;
  ushort uVar2;
  size_t sVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  void *pvVar7;
  undefined *puVar8;
  undefined4 unaff_EBX;
  char acStackY_126 [258];
  undefined4 local_24;
  undefined4 *local_20;
  char cVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  undefined uVar13;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(acStackY_126 + 2,&DAT_005d5be0);
  FID_conflict__strcat(acStackY_126 + 2,param_1);
  sVar3 = _strlen(acStackY_126 + 2);
  cVar9 = acStackY_126[sVar3 + 1];
  while (cVar9 != '.') {
    cVar9 = acStackY_126[sVar3];
    sVar3 = sVar3 - 1;
  }
  acStackY_126[sVar3 + 1] = '\0';
  iVar4 = FUN_00406510();
  if (iVar4 == 0) {
    FID_conflict__strcat(acStackY_126 + 2,&DAT_004c5144);
    iVar4 = OpenFileWithFixedFlags0x40();
    if (iVar4 != 0) {
      local_20 = &local_24;
      local_24 = 0x4072a1;
      CopyDataWithLock();
      local_20 = (undefined4 *)&stack0xffffffe8;
      iVar4 = 1;
      local_24 = 0x4072b2;
      CopyDataWithLock();
      local_20 = (undefined4 *)0x0;
      if (iVar4 != 0) {
        do {
          iVar4 = FUN_00474a30();
          local_20 = (undefined4 *)(*(int *)(iVar4 + 4) + 6);
          local_24 = 0x4072e4;
          CopyDataWithLock();
          local_20 = (undefined4 *)&stack0xffffffe4;
          cVar9 = '\x01';
          *(float *)(*(int *)(iVar4 + 4) + 0x3a) = *(float *)(*(int *)(iVar4 + 4) + 0x3a) - -0.2;
          local_24 = 0x407304;
          CopyDataWithLock();
          param_1 = (char *)0x0;
          if (cVar9 != '\0') {
            do {
              local_20 = (undefined4 *)&stack0xffffffec;
              local_24 = 0x407327;
              CopyDataWithLock();
              local_20 = (undefined4 *)0x407339;
              iVar5 = FUN_004429a0();
              uVar10 = 1;
              *(undefined4 *)(*(int *)(iVar5 + 0x17) + 0x10) = 0xffffffff;
              local_20 = *(undefined4 **)(iVar5 + 0x17);
              local_24 = 0x407356;
              CopyDataWithLock();
              uVar12 = 0;
              if (*(short *)(DAT_00598d90 + 0x245) != 0) {
                iVar11 = 0;
                do {
                  uVar10 = 0x407385;
                  iVar6 = _strcmp(*(char **)(iVar5 + 0x17),(char *)(DAT_004d86b4 + iVar11));
                  if (iVar6 == 0) {
                    *(uint *)(*(int *)(iVar5 + 0x17) + 0x10) = uVar12;
                  }
                  iVar11 = iVar11 + 0x10;
                  uVar12 = uVar12 + 1;
                } while (uVar12 < *(ushort *)(DAT_00598d90 + 0x245));
              }
              param_1 = (char *)((int)param_1 + 1);
            } while (param_1 < (uVar10 & 0xff));
          }
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x3b);
          local_24 = 0x4073e7;
          CopyDataWithLock();
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x37);
          local_24 = 0x407401;
          CopyDataWithLock();
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x6e);
          local_24 = 0x40741b;
          CopyDataWithLock();
          uVar12 = 0;
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x7e) = 0xffffffff;
          if (*(short *)(DAT_00598d90 + 0x245) != 0) {
            param_1 = (char *)0x0;
            do {
              iVar5 = _strcmp((char *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x6e),
                              (char *)(DAT_004d86b4 + (int)param_1));
              if (iVar5 == 0) {
                *(uint *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x7e) = uVar12;
              }
              uVar12 = uVar12 + 1;
              param_1 = (char *)((int)param_1 + 0x10);
            } while (uVar12 < *(ushort *)(DAT_00598d90 + 0x245));
          }
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x92) = 0xffffffff;
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x82);
          local_24 = 0x4074bc;
          CopyDataWithLock();
          uVar12 = 0;
          if (*(short *)(DAT_00598d90 + 0x245) != 0) {
            param_1 = (char *)0x0;
            do {
              iVar5 = _strcmp((char *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x82),
                              (char *)(DAT_004d86b4 + (int)param_1));
              if (iVar5 == 0) {
                *(uint *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x92) = uVar12;
              }
              uVar12 = uVar12 + 1;
              param_1 = (char *)((int)param_1 + 0x10);
            } while (uVar12 < *(ushort *)(DAT_00598d90 + 0x245));
          }
          local_20 = (undefined4 *)&stack0xfffffff8;
          local_24 = 0x407533;
          CopyDataWithLock();
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x48);
          local_24 = 0x40754d;
          CopyDataWithLock();
          iVar5 = *(int *)(*(int *)(iVar4 + 4) + 0x100);
          if (*(int *)(iVar5 + 0x48) < 0) {
            *(undefined4 *)(iVar5 + 0x48) = 1;
          }
          uVar2 = **(ushort **)(*(int *)(iVar4 + 4) + 0x86);
          if ((0xe1 < uVar2) && (uVar2 < 0xe9)) {
            *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x48) = 3;
          }
          if (*(int *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x48) == 3) {
            puVar1 = (uint *)(*(int *)(iVar4 + 4) + 0x8a);
            *puVar1 = *puVar1 | 10;
          }
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x44);
          local_24 = 0x4075bf;
          CopyDataWithLock();
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x4c) =
               *(undefined4 *)(*(int *)(iVar4 + 4) + 0x36);
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x50) =
               *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3a);
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x54) =
               *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3e);
          FUN_0045cc90();
          local_20 = (undefined4 *)&stack0xfffffff8;
          local_24 = 0x40760c;
          CopyDataWithLock();
          uVar13 = (undefined)unaff_EBX;
          *(undefined *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x2a) = uVar13;
          sVar3 = (uint)*(byte *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x2a) << 4;
          iVar5 = 0;
          local_20 = (undefined4 *)0x40763a;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_20 = (undefined4 *)0x407643;
          pvVar7 = _memset(pvVar7,iVar5,sVar3);
          *(void **)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0xae) = pvVar7;
          local_20 = (undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0xae);
          local_24 = 0x407672;
          CopyDataWithLock();
          local_20 = (undefined4 *)&stack0xfffffff8;
          local_24 = 0x407683;
          CopyDataWithLock();
          param_1 = (char *)0x0;
          *(undefined *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x2f) = uVar13;
          if (*(char *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x2f) != '\0') {
            do {
              sVar3 = 6;
              iVar5 = 0;
              local_20 = (undefined4 *)0x4076bb;
              pvVar7 = (void *)AllocateMemoryWithCallback();
              local_20 = (undefined4 *)0x4076c4;
              puVar8 = (undefined *)_memset(pvVar7,iVar5,sVar3);
              local_20 = (undefined4 *)&stack0xfffffff8;
              *(undefined4 *)(puVar8 + 2) =
                   *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0xb2);
              local_24 = 0x4076e9;
              CopyDataWithLock();
              local_20 = (undefined4 *)&stack0xfffffff8;
              *puVar8 = uVar13;
              local_24 = 0x4076ff;
              CopyDataWithLock();
              puVar8[1] = uVar13;
              param_1 = (char *)((int)param_1 + 1);
              *(undefined **)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0xb2) = puVar8;
            } while (param_1 < (uint)*(byte *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x2f));
          }
          puVar8 = (undefined *)0x1;
          local_20 = (undefined4 *)&stack0xfffffff8;
          local_24 = 0x40773e;
          CopyDataWithLock();
          *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x32) = unaff_EBX;
          local_20 = (undefined4 *)((int)local_20 + 1);
        } while (local_20 < puVar8);
      }
      FUN_004adcf0();
    }
  }
  return;
}



void FUN_00407780(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(*(int *)(param_1 + 4) + 0x100);
  if (iVar1 != 0) {
    if (*(char *)(iVar1 + 0x2a) != '\0') {
      if (*(int *)(iVar1 + 0xae) != 0) {
        FreeMemory(*(int *)(iVar1 + 0xae));
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0xae) = 0;
      }
      *(undefined *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x2a) = 0;
    }
    iVar1 = *(int *)(*(int *)(param_1 + 4) + 0x100);
    if (*(char *)(iVar1 + 0x2f) != '\0') {
      iVar1 = *(int *)(iVar1 + 0xb2);
      if (iVar1 != 0) {
        FreeMemory(iVar1);
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0xb2) = 0;
      }
      *(undefined *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x2f) = 0;
    }
    iVar1 = *(int *)(*(int *)(param_1 + 4) + 0x100);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
      *(undefined4 *)(*(int *)(param_1 + 4) + 0x100) = 0;
    }
    *(undefined4 *)(*(int *)(param_1 + 4) + 0x100) = 0;
    if (DAT_004d7794 != 0) {
      FreeMemory(DAT_004d7794);
      DAT_004d7794 = 0;
    }
    if (DAT_004d7798 != 0) {
      FreeMemory(DAT_004d7798);
      DAT_004d7798 = 0;
    }
  }
  return;
}



undefined4 FUN_00407870(undefined4 *param_1,uint param_2)

{
  void *_Dst;
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  size_t _Size;
  
  _Size = 0x4c;
  DAT_004d77a4 = DAT_004d77a4 + '\x01';
  iVar5 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x4c);
  puVar1 = (undefined4 *)_memset(_Dst,iVar5,_Size);
  puVar3 = &DAT_004d1ae0;
  puVar4 = puVar1;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  puVar1[0xc] = *param_1;
  puVar1[0xd] = param_1[1];
  puVar1[0xe] = param_1[2];
  puVar1[0x10] = param_2 & 0xffff;
  puVar1[0x12] = DAT_004d77a8;
  DAT_004d77a8 = puVar1;
  uVar2 = FUN_00474bd0(param_2,param_1,100);
  DAT_004d77a8[0x11] = uVar2;
  return DAT_004d77a8[0x11];
}



void FUN_00407900(float param_1)

{
  uint uVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  ushort uVar5;
  int iVar6;
  float *pfVar7;
  float *pfVar8;
  float10 fVar9;
  float local_80 [4];
  float local_70;
  float local_6c;
  float local_68;
  float local_60;
  float local_5c;
  float local_58;
  float local_40;
  undefined4 local_3c;
  float local_38;
  float local_34;
  undefined4 local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float *local_1c;
  undefined8 local_18;
  int iVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  
  iVar4 = (int)param_1;
  AdjustStackForLargeAllocations();
  uVar5 = *(ushort *)((int)param_1 + 0x8e);
  fVar11 = 0.02;
  if ((uVar5 & 8) == 0) {
    uVar5 = uVar5 & 0xffef;
  }
  else {
    uVar5 = uVar5 | 0x10;
  }
  *(ushort *)((int)param_1 + 0x8e) = uVar5;
  *(ushort *)((int)param_1 + 0x8e) = *(ushort *)((int)param_1 + 0x8e) & 0xfff7;
  iVar6 = *(int *)(*(int *)((int)param_1 + 0x98) + 0x10);
  if (((((iVar6 == 4) || (iVar6 == 5)) ||
       ((iVar10 = *(int *)(*(int *)((int)param_1 + 0x86) + 0x13), *(int *)(iVar10 + 0x114) == 6 &&
        (*(char *)((int)param_1 + 4) == '\x03')))) ||
      ((*(int *)(iVar10 + 0x7b) == 8 &&
       ((*(char *)((int)param_1 + 4) == '\x05' || (*(char *)((int)param_1 + 4) == '\x06')))))) ||
     (uVar1 = *(uint *)((int)param_1 + 0x8a), (uVar1 & 0x100000) != 0)) {
    local_1c = local_80;
    local_18 = (double)CONCAT44((int)param_1 + 6,(int)param_1 + 0x46);
    local_20 = 5.92255e-39;
    MultiplyMatrices();
    pfVar7 = (float *)((int)param_1 + 0xa4);
    fVar11 = 0.15;
    if (*(int *)(*(int *)(*(int *)((int)param_1 + 0x86) + 0x13) + 0x114) != 6) {
      fVar11 = 0.1;
    }
    fVar12 = local_68 * *(float *)((int)param_1 + 0xac) +
             local_6c * *(float *)((int)param_1 + 0xa8) + local_70 * *pfVar7;
    local_18 = (double)fVar12;
    local_1c = (float *)0x407e13;
    fVar9 = (float10)FUN_004ad3c0();
    fVar13 = fVar12;
    if (((float10)fVar11 < fVar9) && (fVar13 = fVar11, fVar12 < 0.0)) {
      fVar13 = -fVar11;
    }
    *pfVar7 = *pfVar7 - fVar13 * local_70;
    *(float *)((int)param_1 + 0xa8) = *(float *)((int)param_1 + 0xa8) - fVar13 * local_6c;
    *(float *)((int)param_1 + 0xac) = *(float *)((int)param_1 + 0xac) - fVar13 * local_68;
    if (iVar6 == 6) {
      fVar12 = fVar12 * 0.1;
      *pfVar7 = fVar12 * local_60 + *pfVar7;
      *(float *)((int)param_1 + 0xa8) = fVar12 * local_5c + *(float *)((int)param_1 + 0xa8);
      *(float *)((int)param_1 + 0xac) = fVar12 * local_58 + *(float *)((int)param_1 + 0xac);
    }
    fVar13 = 0.05;
    fVar11 = (-(local_80[0] * (float)local_1c) - local_80[1] * (float)local_18) -
             local_80[2] * local_18._4_4_;
    local_18 = (double)fVar11;
    local_1c = (float *)0x407ef3;
    iVar10 = iVar6;
    fVar9 = (float10)FUN_004ad3c0();
    fVar12 = fVar11;
    if (((float10)0.05000000074505806 < fVar9) && (fVar12 = fVar13, fVar11 < 0.0)) {
      fVar12 = -0.05;
    }
    *pfVar7 = fVar12 * local_80[0] + *pfVar7;
    *(float *)((int)param_1 + 0xa8) = fVar12 * local_80[1] + *(float *)((int)param_1 + 0xa8);
    *(float *)((int)param_1 + 0xac) = fVar12 * local_80[2] + *(float *)((int)param_1 + 0xac);
    if (iVar6 == 6) {
      fVar11 = ((-(local_60 * (float)local_1c) - local_5c * (float)local_18) -
               local_58 * local_18._4_4_) * 0.03;
      *pfVar7 = fVar11 * local_70 + *pfVar7;
      *(float *)((int)param_1 + 0xa8) = fVar11 * local_6c + *(float *)((int)param_1 + 0xa8);
      *(float *)((int)param_1 + 0xac) = fVar11 * local_68 + *(float *)((int)param_1 + 0xac);
    }
    if ((*(byte *)((int)param_1 + 0x8f) & 1) != 0) {
      *(undefined4 *)((int)param_1 + 0xac) = 0;
      *(undefined4 *)((int)param_1 + 0xa8) = 0;
      *pfVar7 = 0.0;
    }
    goto LAB_00407fde;
  }
  iVar10 = iVar6;
  if (((((iVar6 != 3) && (iVar6 != 2)) && (iVar6 != 7)) ||
      (((uVar1 & 0xc0) == 0 && ((iVar6 != 7 || ((uVar1 & 0x10) == 0)))))) ||
     (*(float *)((int)param_1 + 0xeb) <= 0.8)) goto LAB_00407fde;
  if ((*(float *)((int)param_1 + 0xac) * *(float *)((int)param_1 + 0xac) +
       *(float *)((int)param_1 + 0xa4) * *(float *)((int)param_1 + 0xa4) <= 0.01) &&
     ((*(byte *)((int)param_1 + 0xc9) & 3) == 0)) {
    *(undefined4 *)((int)param_1 + 0xac) = 0;
    *(undefined4 *)((int)param_1 + 0xa4) = 0;
    goto LAB_00407fde;
  }
  pfVar7 = (float *)((int)param_1 + 6);
  pfVar8 = local_80;
  for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
    *pfVar8 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar8 = pfVar8 + 1;
  }
  if ((((iVar10 == 2) || (iVar10 == 3)) || (iVar10 != 7)) || ((uVar1 & 0x10) == 0)) {
    fVar12 = 0.25;
  }
  else {
    fVar12 = 0.05;
  }
  if (iVar10 == 7) {
    fVar11 = 0.0;
  }
  if ((*(byte *)((int)param_1 + 0xc9) & 0x40) != 0) {
    fVar11 = 0.05;
    fVar12 = 0.05;
    local_34 = *(float *)((int)param_1 + 0xa4);
    local_30 = 0;
    local_2c = *(float *)((int)param_1 + 0xac);
    local_40 = local_80[0];
    local_3c = 0;
    local_38 = local_80[2];
    local_18 = (double)CONCAT44(&local_34,0x407adc);
    FUN_0045eab0();
    local_18 = (double)CONCAT44(&local_40,0x407ae8);
    FUN_0045eab0();
    fVar13 = local_38 * local_2c + local_40 * local_34;
    if ((fVar13 < -0.01) || ((*(uint *)((int)param_1 + 0xc9) & 4) != 0)) {
      if (*(float *)((int)param_1 + 0x199) < 0.0) {
        *(undefined4 *)((int)param_1 + 0x199) = 0;
      }
      fVar13 = *(float *)((int)param_1 + 0x199);
      local_18 = (double)CONCAT44(1,param_1);
      *(undefined4 *)((int)param_1 + 0x199) = 0x3d4ccccd;
      local_1c = (float *)0x407bb6;
      FUN_004081f0();
      fVar13 = fVar13 - -0.05;
LAB_00407bc2:
      *(float *)((int)param_1 + 0x199) = fVar13;
    }
    else {
      if ((0.01 < fVar13) || ((*(uint *)((int)param_1 + 0xc9) & 8) != 0)) {
        if (0.0 < *(float *)((int)param_1 + 0x199)) {
          *(undefined4 *)((int)param_1 + 0x199) = 0;
        }
        fVar13 = *(float *)((int)param_1 + 0x199);
        local_18 = (double)CONCAT44(1,param_1);
        *(undefined4 *)((int)param_1 + 0x199) = 0xbd4ccccd;
        local_1c = (float *)0x407b6e;
        FUN_004081f0();
        fVar13 = fVar13 - 0.05;
        goto LAB_00407bc2;
      }
      fVar11 = *(float *)(*(int *)((int)param_1 + 0x98) + 8);
    }
    *(byte *)((int)param_1 + 0x8e) = *(byte *)((int)param_1 + 0x8e) | 8;
    pfVar7 = (float *)((int)param_1 + 6);
    pfVar8 = local_80;
    for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
      *pfVar8 = *pfVar7;
      pfVar7 = pfVar7 + 1;
      pfVar8 = pfVar8 + 1;
    }
  }
  pfVar7 = (float *)((int)param_1 + 0xa4);
  fVar13 = (-(local_60 * *(float *)((int)param_1 + 0xa4)) -
           local_5c * *(float *)((int)param_1 + 0xa8)) - local_58 * *(float *)((int)param_1 + 0xac);
  local_28 = local_60;
  local_24 = local_5c;
  local_20 = local_58;
  local_18._0_4_ = *(float *)((int)param_1 + 0xa8);
  local_18._4_4_ = *(float *)((int)param_1 + 0xac);
  local_1c = (float *)0x407c40;
  fVar9 = (float10)FUN_004ad3c0();
  fVar3 = fVar13;
  if (((float10)fVar11 < fVar9) && (fVar3 = fVar11, 0.0 < fVar13)) {
    fVar3 = -fVar11;
  }
  *pfVar7 = *pfVar7 - fVar3 * local_28;
  *(float *)((int)param_1 + 0xa8) = *(float *)((int)param_1 + 0xa8) - fVar3 * local_24;
  *(float *)((int)param_1 + 0xac) = *(float *)((int)param_1 + 0xac) - fVar3 * local_20;
  local_28 = -local_80[0];
  local_24 = -local_80[1];
  local_20 = -local_80[2];
  fVar11 = local_18._4_4_ * local_20 + (float)local_18 * local_24 + (float)local_1c * local_28;
  local_18 = (double)fVar11;
  local_1c = (float *)0x407cf3;
  fVar9 = (float10)FUN_004ad3c0();
  if (fVar9 <= (float10)fVar12) {
    *pfVar7 = *pfVar7 - fVar11 * local_28;
    *(float *)((int)param_1 + 0xa8) = *(float *)((int)param_1 + 0xa8) - fVar11 * local_24;
    *(float *)((int)param_1 + 0xac) = *(float *)((int)param_1 + 0xac) - fVar11 * local_20;
  }
  else {
    if (fVar11 < 0.0) {
      fVar12 = -fVar12;
    }
    *pfVar7 = *pfVar7 - fVar12 * local_28;
    *(byte *)((int)param_1 + 0x8e) = *(byte *)((int)param_1 + 0x8e) | 8;
    *(float *)((int)param_1 + 0xa8) = *(float *)((int)param_1 + 0xa8) - fVar12 * local_24;
    *(float *)((int)param_1 + 0xac) = *(float *)((int)param_1 + 0xac) - fVar12 * local_20;
  }
LAB_00407fde:
  fVar11 = *(float *)((int)param_1 + 0xd3) + *(float *)((int)param_1 + 0x36) +
           *(float *)((int)param_1 + 0xa4);
  fVar13 = *(float *)((int)param_1 + 0xd7) + *(float *)((int)param_1 + 0xa8) +
           *(float *)((int)param_1 + 0x3a);
  fVar12 = *(float *)((int)param_1 + 0xdb) + *(float *)((int)param_1 + 0x3e) +
           *(float *)((int)param_1 + 0xac);
  iVar6 = *(int *)((int)param_1 + 0x18b);
  *(float *)((int)param_1 + 0x36) = fVar11;
  *(float *)((int)param_1 + 0x3a) = fVar13;
  *(float *)((int)param_1 + 0x3e) = fVar12;
  if (((iVar6 != 0) && (*(int *)(iVar6 + 0x5b) != 0)) && (DAT_00598d68 != 0)) {
    iVar2 = *(int *)(*(int *)((int)param_1 + 0x98) + 0x10);
    if ((((iVar2 != 4) && (iVar2 != 5)) &&
        ((iVar2 = *(int *)(*(int *)((int)param_1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) != 6 ||
         (*(char *)((int)param_1 + 4) != '\x03')))) &&
       (((*(int *)(iVar2 + 0x7b) != 8 ||
         ((*(char *)((int)param_1 + 4) != '\x05' && (*(char *)((int)param_1 + 4) != '\x06')))) &&
        ((*(uint *)((int)param_1 + 0x8a) & 0x100000) == 0)))) {
      *(float *)((int)param_1 + 0x36) =
           (*(float *)(iVar6 + 0x36) - *(float *)(*(int *)(iVar6 + 0x5b) + 0x6f)) + fVar11;
      *(float *)((int)param_1 + 0x3e) =
           (*(float *)(iVar6 + 0x3e) - *(float *)(*(int *)(iVar6 + 0x5b) + 0x77)) + fVar12;
    }
    iVar2 = *(int *)(*(int *)((int)param_1 + 0x98) + 0x10);
    fVar11 = *(float *)(iVar6 + 0x3a) - *(float *)(*(int *)(iVar6 + 0x5b) + 0x73);
    if ((((((iVar2 != 4) && (iVar2 != 5)) &&
          ((iVar6 = *(int *)(*(int *)((int)param_1 + 0x86) + 0x13), *(int *)(iVar6 + 0x114) != 6 ||
           (*(char *)((int)param_1 + 4) != '\x03')))) &&
         ((*(int *)(iVar6 + 0x7b) != 8 ||
          ((*(char *)((int)param_1 + 4) != '\x05' && (*(char *)((int)param_1 + 4) != '\x06')))))) &&
        ((*(uint *)((int)param_1 + 0x8a) & 0x100000) == 0)) || (0.0 < fVar11)) {
      *(float *)((int)param_1 + 0x3a) = fVar11 + fVar13;
    }
  }
  iVar6 = *(int *)(*(int *)((int)param_1 + 0x98) + 0x10);
  if ((((iVar6 != 3) && (iVar6 != 2)) && (iVar6 != 7)) ||
     ((*(byte *)((int)param_1 + 0x8a) & 0xc0) != 0)) {
    if ((*(int *)(*(int *)(*(int *)((int)param_1 + 0x86) + 0x13) + 0x114) == 6) &&
       (*(char *)((int)param_1 + 4) == '\x03')) {
      param_1 = 0.99;
    }
    else if ((iVar10 == 3) || ((iVar10 == 2 || (param_1 = 0.95, iVar10 == 7)))) {
      param_1 = 0.99;
    }
    if (((((*(byte *)(iVar4 + 0x8e) & 8) != 0) && (iVar10 != 7)) &&
        (((*(uint *)(iVar4 + 0xc9) & 0x40) != 0 || ((*(uint *)(iVar4 + 0xc9) & 0x300) != 0)))) &&
       (DAT_005e4a64 != 0)) {
      local_1c = (float *)(iVar4 + 6);
      local_18 = 1.976262583364986e-323;
      local_20 = (float)(DAT_005e4a64 + 0x83a);
      local_24 = 5.924019e-39;
      FUN_00475d60();
    }
    *(float *)(iVar4 + 0xa4) = param_1 * *(float *)(iVar4 + 0xa4);
    *(float *)(iVar4 + 0xac) = param_1 * *(float *)(iVar4 + 0xac);
  }
  return;
}



void FUN_004081f0(int param_1,int param_2)

{
  float fVar1;
  float fVar2;
  int iVar3;
  float *pfVar4;
  float *pfVar5;
  float10 fVar6;
  float local_50 [4];
  float local_40;
  undefined4 local_3c;
  float local_38;
  float local_30;
  undefined4 local_2c;
  float local_28;
  undefined4 uStack_1c;
  undefined8 uStack_18;
  double dVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  dVar7 = (double)-((float)param_2 * *(float *)(param_1 + 0x199));
  uStack_1c = 0x40821e;
  uStack_18 = dVar7;
  fVar6 = (float10)FUN_004ad3c0();
  if (fVar6 < (float10)0.009999999776482582) {
    *(undefined4 *)(param_1 + 0x199) = 0;
    return;
  }
  uStack_18._4_4_ = (undefined4)((ulonglong)dVar7 >> 0x20);
  uStack_18._0_4_ = SUB84(dVar7,0);
  fVar8 = *(float *)(param_1 + 0xac) * *(float *)(param_1 + 0xac) +
          *(float *)(param_1 + 0xa4) * *(float *)(param_1 + 0xa4);
  pfVar4 = (float *)(param_1 + 6);
  pfVar5 = local_50;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *pfVar5 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar5 = pfVar5 + 1;
  }
  uStack_1c = 0x40827d;
  fVar6 = (float10)FUN_004ae0c4();
  uStack_18._4_4_ = (undefined4)((ulonglong)dVar7 >> 0x20);
  uStack_18._0_4_ = SUB84(dVar7,0);
  fVar1 = (float)fVar6;
  uStack_1c = 0x408290;
  fVar6 = (float10)FUN_004ae014();
  fVar2 = (float)fVar6;
  local_50[1] = (float)*(undefined4 *)(param_1 + 10);
  local_3c = *(undefined4 *)(param_1 + 0x1a);
  local_50[0] = (float)((float10)fVar1 * (float10)*(float *)(param_1 + 6) +
                       fVar6 * (float10)*(float *)(param_1 + 0xe));
  local_50[2] = fVar1 * *(float *)(param_1 + 0xe) - fVar2 * *(float *)(param_1 + 6);
  local_40 = fVar1 * *(float *)(param_1 + 0x16) + fVar2 * *(float *)(param_1 + 0x1e);
  local_38 = fVar1 * *(float *)(param_1 + 0x1e) - fVar2 * *(float *)(param_1 + 0x16);
  local_30 = fVar1 * *(float *)(param_1 + 0x26) + fVar2 * *(float *)(param_1 + 0x2e);
  local_2c = *(undefined4 *)(param_1 + 0x2a);
  local_28 = fVar1 * *(float *)(param_1 + 0x2e) - fVar2 * *(float *)(param_1 + 0x26);
  pfVar4 = local_50;
  pfVar5 = (float *)(param_1 + 6);
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *pfVar5 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar5 = pfVar5 + 1;
  }
  if ((((0.01 < fVar8) && (iVar3 = *(int *)(*(int *)(param_1 + 0x98) + 0x10), iVar3 != 3)) &&
      (iVar3 != 2)) && (iVar3 != 7)) {
    fVar8 = *(float *)(param_1 + 0xac);
    *(float *)(param_1 + 0xac) =
         fVar1 * *(float *)(param_1 + 0xac) - fVar2 * *(float *)(param_1 + 0xa4);
    *(float *)(param_1 + 0xa4) = fVar2 * fVar8 + fVar1 * *(float *)(param_1 + 0xa4);
  }
  return;
}



void FUN_004083b0(int param_1,float param_2,int param_3)

{
  int iVar1;
  float *pfVar2;
  float *pfVar3;
  float10 fVar4;
  float local_50 [8];
  float local_30;
  float local_2c;
  float local_28;
  undefined4 uStack_20;
  float *pfStack_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  if (((((((0.8 <= *(float *)(param_1 + 0xeb)) ||
          (iVar1 = *(int *)(*(int *)(param_1 + 0x98) + 0x10), iVar1 == 4)) || (iVar1 == 5)) ||
        ((iVar1 = *(int *)(*(int *)(param_1 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) == 6 &&
         (*(char *)(param_1 + 4) == '\x03')))) ||
       ((*(int *)(iVar1 + 0x7b) == 8 &&
        ((*(char *)(param_1 + 4) == '\x05' || (*(char *)(param_1 + 4) == '\x06')))))) ||
      ((*(uint *)(param_1 + 0x8a) & 0x100000) != 0)) || ((*(uint *)(param_1 + 0x8a) & 0x80) == 0)) {
    iVar1 = *(int *)(*(int *)(param_1 + 0x98) + 0x10);
    if (((((iVar1 == 4) || (iVar1 == 5)) ||
         ((iVar1 = *(int *)(*(int *)(param_1 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) == 6 &&
          (*(char *)(param_1 + 4) == '\x03')))) ||
        ((*(int *)(iVar1 + 0x7b) == 8 &&
         ((*(char *)(param_1 + 4) == '\x05' || (*(char *)(param_1 + 4) == '\x06')))))) ||
       ((*(uint *)(param_1 + 0x8a) & 0x100000) != 0)) {
      pfStack_1c = local_50;
      local_18 = (double)CONCAT44(param_1 + 6,param_1 + 0x46);
      uStack_20 = 0x40849b;
      MultiplyMatrices();
    }
    else {
      pfVar2 = (float *)(param_1 + 6);
      pfVar3 = local_50;
      for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pfVar3 = *pfVar2;
        pfVar2 = pfVar2 + 1;
        pfVar3 = pfVar3 + 1;
      }
    }
    if ((param_3 != 0) &&
       (local_30 = local_50[0], local_2c = local_50[1], local_28 = local_50[2], param_3 == -1)) {
      local_30 = -local_50[0];
      local_2c = -local_50[1];
      local_28 = -local_50[2];
    }
    pfVar2 = *(float **)(param_1 + 0x98);
    local_18 = (double)(local_30 * *(float *)(param_1 + 0xa4) +
                       local_2c * *(float *)(param_1 + 0xa8) + local_28 * *(float *)(param_1 + 0xac)
                       );
    pfStack_1c = (float *)0x408522;
    fVar4 = (float10)FUN_004ad3c0();
    if (fVar4 <= (float10)*pfVar2) {
      if (((*(uint *)(param_1 + 0x8a) & 0x10) == 0) && ((*(uint *)(param_1 + 0x8a) & 0x8000) == 0))
      {
        if (pfVar2[4] == 9.809089e-45) {
          param_2 = param_2 * 0.4;
        }
      }
      else if (pfVar2[4] != 9.809089e-45) {
        param_2 = param_2 * 0.4;
      }
      *(float *)(param_1 + 0xa4) = param_2 * local_30 + *(float *)(param_1 + 0xa4);
      *(float *)(param_1 + 0xa8) = param_2 * local_2c + *(float *)(param_1 + 0xa8);
      *(float *)(param_1 + 0xac) = param_2 * local_28 + *(float *)(param_1 + 0xac);
    }
  }
  return;
}



void FUN_004085b0(int param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  iVar1 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
  if ((((((iVar2 != 4) && (iVar2 != 5)) &&
        ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) != 6 ||
         (*(char *)(iVar1 + 4) != '\x03')))) &&
       ((*(int *)(iVar2 + 0x7b) != 8 ||
        ((*(char *)(iVar1 + 4) != '\x05' && (*(char *)(iVar1 + 4) != '\x06')))))) &&
      (uVar3 = *(uint *)(iVar1 + 0x8a), (uVar3 & 0x100000) == 0)) &&
     ((((uVar3 & 0x40) != 0 || (((uVar3 & 0x80) != 0 && (0.8 <= *(float *)(iVar1 + 0xeb))))) &&
      ((*(char *)(iVar1 + 4) != '\x02' && (*(char *)(iVar1 + 4) != '\x03')))))) {
    *(uint *)(iVar1 + 0x8a) = uVar3 | 0x4000000;
    iVar1 = *(int *)(param_1 + 4);
    if (((*(uint *)(iVar1 + 0x8a) & 0x10) != 0) && (*(int *)(*(int *)(iVar1 + 0x98) + 0x10) != 7)) {
      *(uint *)(iVar1 + 0x8a) = *(uint *)(iVar1 + 0x8a) | 0x8000;
    }
    *(undefined4 *)(*(int *)(param_1 + 4) + 0xa8) =
         *(undefined4 *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x6f);
    iVar1 = *(int *)(param_1 + 4);
    if ((((*(char *)(*(int *)(*(int *)(iVar1 + 0x86) + 0x13) + 0x42) != '\0') &&
         (iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10), iVar2 != 3)) && (iVar2 != 2)) &&
       (((iVar2 != 7 && (*(char *)(iVar1 + 4) != '\x05')) && (*(char *)(iVar1 + 4) != '\x06')))) {
      *(undefined *)(iVar1 + 4) = 2;
      *(undefined *)(*(int *)(param_1 + 4) + 5) = 0;
      FUN_0048b5d0(param_1);
    }
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffefff;
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffffbf;
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffff7f;
    *(undefined4 *)(*(int *)(param_1 + 4) + 0x1a1) = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
  }
  return;
}



void FUN_00408730(int param_1)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  char *pcVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 4);
  uVar3 = *(uint *)(iVar2 + 0xc9);
  puVar1 = (uint *)(iVar2 + 0x8a);
  uVar4 = *puVar1;
  *puVar1 = uVar4 & 0xfffffdff;
  iVar5 = *(int *)(param_1 + 4);
  iVar6 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
  if ((((iVar6 != 4) && (iVar6 != 5)) &&
      ((iVar6 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar6 + 0x114) != 6 ||
       (*(char *)(iVar5 + 4) != '\x03')))) &&
     (((*(int *)(iVar6 + 0x7b) != 8 ||
       ((*(char *)(iVar5 + 4) != '\x05' && (*(char *)(iVar5 + 4) != '\x06')))) &&
      ((*(uint *)(iVar5 + 0x8a) & 0x100000) == 0)))) {
    *(undefined4 *)(iVar2 + 0xdf) = 0;
  }
  FUN_00408910(param_1,uVar3);
  if (((uVar4 & 0x200) != 0) && ((*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x200) == 0)) {
    puVar8 = (undefined4 *)0x0;
    for (iVar5 = *(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x3c); iVar5 != 0;
        iVar5 = *(int *)(iVar5 + 0x14)) {
      pcVar7 = *(char **)(*(int *)(iVar5 + 0x1c) + 0x14);
      puVar10 = puVar8;
      if ((((pcVar7 != (char *)0x0) && (*pcVar7 != '\0')) && ((*(byte *)(iVar5 + 0x26) & 2) != 0))
         && (puVar9 = (undefined4 *)FUN_0048b030(), puVar9 != (undefined4 *)0x0)) {
        *(undefined4 *)((int)puVar9 + 9) = *(undefined4 *)(iVar5 + 0x20);
        puVar9[1] = *(int *)(param_1 + 4) + 6;
        puVar10 = puVar9;
        if (puVar8 != (undefined4 *)0x0) {
          *puVar9 = puVar8;
        }
      }
      puVar8 = puVar10;
    }
    if (puVar8 != (undefined4 *)0x0) {
      FUN_00475dd0(puVar8);
      while (puVar8 != (undefined4 *)0x0) {
        *(undefined *)(puVar8 + 2) = 0;
        puVar8 = (undefined4 *)*puVar8;
      }
    }
  }
  if ((((((uVar3 & 3) == 0) ||
        (uVar4 = *(uint *)(*(int *)(param_1 + 4) + 0x8a), (uVar4 & 0x800) != 0)) ||
       ((*(char *)(iVar2 + 4) == '\x05' || ((uVar4 & 0x20000000) != 0)))) &&
      (((uVar3 & 0x300) == 0 && (((uVar3 & 4) == 0 || ((uVar3 & 0x40) == 0)))))) &&
     (((((uVar3 & 8) == 0 || ((uVar3 & 0x40) == 0)) &&
       ((((*puVar1 & 0x80) != 0 || ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 0x40) != 0)) &&
        (0.8 <= *(float *)(iVar2 + 0xeb))))) &&
      ((iVar5 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10), iVar5 == 1 ||
       (((iVar5 == 6 && (*(char *)(*(int *)(param_1 + 4) + 4) != '\x03')) ||
        (((*puVar1 & 8) != 0 && (*(int *)(*(int *)(iVar2 + 0x100) + 0x48) == 3)))))))))) {
    *(undefined4 *)(iVar2 + 0xac) = 0;
    *(undefined4 *)(iVar2 + 0xa4) = 0;
  }
  return;
}



void FUN_00408910(int param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  iVar6 = *(int *)(param_1 + 4);
  puVar3 = (uint *)(iVar6 + 0x8a);
  iVar1 = *(int *)(*(int *)(iVar6 + 0x86) + 0x13);
  if (((*puVar3 & 2) != 0) && ((*puVar3 & 0x400) != 0)) {
    if ((param_2 & 1) != 0) {
      *(float *)(iVar6 + 0xfb) = *(float *)(iVar6 + 0xfb) - -1.0;
    }
    if ((param_2 & 2) != 0) {
      *(float *)(iVar6 + 0xfb) = *(float *)(iVar6 + 0xfb) - 1.0;
    }
    if ((param_2 & 8) != 0) {
      *(float *)(iVar6 + 0xf3) = *(float *)(iVar6 + 0xf3) - -1.0;
    }
    if ((param_2 & 4) != 0) {
      *(float *)(iVar6 + 0xf3) = *(float *)(iVar6 + 0xf3) - 1.0;
    }
    if ((param_2 & 0x20) != 0) {
      return;
    }
    if ((*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x100000) == 0) {
      return;
    }
    *(undefined4 *)(*(int *)(*(int *)(param_1 + 4) + 0x104) + 0x97) = 0;
    *(undefined4 *)(*(int *)(param_1 + 4) + 0x104) = 0;
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffdfffff;
    FUN_004184b0(*(undefined4 *)(param_1 + 4));
    *(float *)(*(int *)(param_1 + 4) + 0xf7) = -*(float *)(*(int *)(param_1 + 4) + 0xf7);
    *(float *)(*(int *)(param_1 + 4) + 0xf3) = -*(float *)(*(int *)(param_1 + 4) + 0xf3);
    *(float *)(*(int *)(param_1 + 4) + 0xfb) = -*(float *)(*(int *)(param_1 + 4) + 0xfb);
    FUN_0041be30(param_1,*(int *)(param_1 + 4) + 6,*(int *)(param_1 + 4) + 0xf3);
    puVar3 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
    *puVar3 = *puVar3 & 0xffefffff;
    return;
  }
  if ((*(byte *)(iVar6 + 0xc9) & 0x20) == 0) {
    if (*(int *)(iVar1 + 0x7f) == 1) {
      FUN_00410c00(param_1);
      *(undefined *)(*(int *)(param_1 + 4) + 200) = 0;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffff7ff
      ;
    }
    uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if ((uVar7 & 0x1000000) != 0) {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar7 & 0xfeffffff;
    }
    uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if ((uVar7 & 0x800000) != 0) {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar7 & 0xff7fffff;
    }
    iVar6 = *(int *)(param_1 + 4);
    if (((*(uint *)(iVar6 + 0x8a) & 0x20300400) == 0) &&
       (((*(int *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x7f) != 0x1b ||
         ((*(byte *)(iVar6 + 0xc9) & 0x20) == 0)) ||
        (*(char *)(*(int *)(iVar6 + 0x86) + 10) != '\0')))) {
      switch(*(undefined4 *)(iVar1 + 0x114)) {
      case 1:
        FUN_0040bae0(param_1,param_2);
        break;
      case 2:
        FUN_0040bae0(param_1,param_2);
        break;
      case 3:
      case 7:
        FUN_0040b7a0(param_1,param_2);
        break;
      case 4:
      case 5:
      case 8:
LAB_0040908d:
        FUN_0040afc0(param_1,param_2);
        break;
      case 6:
        if (*(char *)(iVar6 + 4) == '\x03') goto LAB_0040908d;
        FUN_0040bae0(param_1,param_2);
      }
    }
    else {
      switch(*(undefined4 *)(iVar1 + 0x114)) {
      case 4:
      case 5:
      case 8:
        goto LAB_0040908d;
      case 6:
        if (*(char *)(iVar6 + 4) == '\x03') goto LAB_0040908d;
      }
    }
    iVar6 = *(int *)(param_1 + 4);
    uVar7 = *(uint *)(iVar6 + 0x8a);
    if ((uVar7 & 0x100000) == 0) {
      iVar5 = *(int *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x7f);
      if (((iVar5 == 0x1e) && ((uVar7 & 0x200000) != 0)) ||
         ((iVar5 == 0x1b && ((uVar7 & 0x200000) != 0)))) {
        uVar7 = uVar7 & 0xffdfffff;
        goto LAB_004090d6;
      }
    }
    else {
      uVar7 = uVar7 & 0xffefffff;
LAB_004090d6:
      *(uint *)(iVar6 + 0x8a) = uVar7;
    }
    if (*(int *)(iVar1 + 0x7f) == 0x18) {
      uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
      uVar8 = uVar7 & 1;
      if ((uVar8 != 0) || ((uVar7 & 4) != 0)) {
        if (uVar8 != 0) {
          DAT_004d7a34 = 0;
        }
        *(uint *)(*(int *)(param_1 + 4) + 0x8a) =
             *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffbffff;
        *(undefined *)(*(int *)(param_1 + 4) + 0xff) = 0;
      }
    }
    goto switchD_00408abb_caseD_8;
  }
  iVar5 = iVar1 + 0x8d;
  iVar4 = FUN_00409bd0(param_1,iVar5,0);
  if (iVar4 == 0) {
    FUN_00409d50(param_1,0);
    iVar6 = *(int *)(param_1 + 4);
    if ((*(uint *)(iVar6 + 0x8a) & 0x20200000) == 0) {
      switch(*(undefined4 *)(iVar1 + 0x114)) {
      case 1:
        FUN_0040bae0(param_1,param_2);
        break;
      case 2:
switchD_00408abb_caseD_2:
        FUN_0040bae0(param_1,param_2);
        break;
      case 3:
      case 7:
        FUN_0040b7a0(param_1,param_2);
        break;
      case 4:
      case 5:
        FUN_0040afc0(param_1,param_2);
        break;
      case 6:
        if (*(char *)(iVar6 + 4) == '\x03') {
          FUN_0040afc0(param_1,param_2);
        }
        else {
          FUN_0040bae0(param_1,param_2);
        }
        break;
      case 8:
        FUN_0040bae0(param_1,param_2);
      }
    }
    else {
      switch(*(undefined4 *)(iVar1 + 0x114)) {
      case 4:
      case 5:
        FUN_0040afc0(param_1,param_2);
        break;
      case 6:
        if (*(char *)(iVar6 + 4) == '\x03') {
          FUN_0040afc0(param_1,param_2);
        }
        break;
      case 8:
        goto switchD_00408abb_caseD_2;
      }
    }
    goto switchD_00408abb_caseD_8;
  }
  iVar4 = *(int *)(param_1 + 4);
  if (((*(uint *)(iVar4 + 0x8a) & 0x20300400) != 0) ||
     (((*(int *)(*(int *)(*(int *)(iVar4 + 0x86) + 0x13) + 0x7f) == 0x1b &&
       ((*(byte *)(iVar4 + 0xc9) & 0x20) != 0)) && (*(char *)(*(int *)(iVar4 + 0x86) + 10) == '\0'))
     )) {
    iVar2 = *(int *)(iVar1 + 0x7b);
    switch(iVar2) {
    case 2:
      if ((iVar2 != *(int *)(iVar1 + 0x114)) && ((*(byte *)(iVar4 + 0x8e) & 1) != 0)) {
        FUN_00409bd0(param_1,iVar5,1);
      }
      FUN_0040bae0(param_1,param_2);
      break;
    case 3:
    case 7:
      if (((iVar2 == *(int *)(iVar1 + 0x114)) || ((*(byte *)(iVar4 + 0x8e) & 1) == 0)) ||
         (iVar4 = FUN_00409bd0(param_1,iVar5,1), iVar4 != 0)) {
        FUN_0040b7a0(param_1,param_2);
      }
      else {
        FUN_0040bae0(param_1,param_2);
      }
      break;
    case 4:
    case 5:
LAB_00408cc4:
      FUN_0040afc0(param_1,param_2);
      break;
    case 6:
      if (*(char *)(iVar4 + 4) == '\x03') goto LAB_00408cc4;
      break;
    case 8:
      if (((iVar2 == *(int *)(iVar1 + 0x114)) || ((*(byte *)(iVar4 + 0x8e) & 1) == 0)) ||
         (iVar4 = FUN_00409bd0(param_1,iVar5,1), iVar4 != 0)) goto LAB_00408cc4;
      FUN_0040bae0(param_1,param_2);
    }
    if ((((*(int *)(iVar1 + 0x7f) == 0x1b) || (*(int *)(iVar1 + 0x7f) == 0x1e)) &&
        ((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) != 0)) &&
       (FUN_00409bd0(param_1,iVar5,1), (*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x100000) != 0))
    goto LAB_00408d05;
    goto switchD_00408bd0_caseD_8;
  }
  iVar2 = *(int *)(iVar1 + 0x7b);
  switch(iVar2) {
  case 2:
    if ((iVar2 == *(int *)(iVar1 + 0x114)) || ((*(byte *)(iVar4 + 0x8e) & 1) == 0)) {
LAB_00408c93:
      FUN_0040bae0(param_1,param_2);
    }
    else {
      FUN_00409bd0(param_1,iVar5,1);
      FUN_0040bae0(param_1,param_2);
    }
    break;
  case 3:
  case 7:
    if (((iVar2 == *(int *)(iVar1 + 0x114)) || ((*(byte *)(iVar4 + 0x8e) & 1) == 0)) ||
       (iVar4 = FUN_00409bd0(param_1,iVar5,1), iVar4 != 0)) {
      FUN_0040b7a0(param_1,param_2);
    }
    else {
      FUN_0040bae0(param_1,param_2);
    }
    break;
  case 4:
  case 5:
    goto LAB_00408d05;
  case 6:
    if (*(char *)(iVar4 + 4) == '\x03') goto LAB_00408d05;
  case 1:
    FUN_0040bae0(param_1,param_2);
    break;
  case 8:
    if (((iVar2 != *(int *)(iVar1 + 0x114)) && ((*(byte *)(iVar4 + 0x8e) & 1) != 0)) &&
       (iVar4 = FUN_00409bd0(param_1,iVar5,1), iVar4 == 0)) goto LAB_00408c93;
LAB_00408d05:
    FUN_0040afc0(param_1,param_2);
  }
switchD_00408bd0_caseD_8:
  switch(*(undefined4 *)(iVar1 + 0x7f)) {
  case 10:
    if (((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) == 0) ||
       ((iVar5 = FUN_00409bd0(param_1,iVar5,1), iVar5 != 0 &&
        ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 0xc0) != 0)))) {
      *(float *)(iVar6 + 0xa8) = *(float *)(iVar6 + 0xa8) - *(float *)(iVar1 + 0x6f) * -2.0;
      *puVar3 = *puVar3 | 0x10000000;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffefff
      ;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffffbf
      ;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffff7f
      ;
      *(undefined *)(*(int *)(param_1 + 4) + 4) = 5;
      *(undefined *)(*(int *)(param_1 + 4) + 5) = 0;
    }
    break;
  case 0x13:
    if ((1 < *(byte *)(iVar6 + 0x189)) &&
       (((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) == 0 ||
        (iVar5 = FUN_00409bd0(param_1,iVar5,1), iVar5 != 0)))) {
      FUN_00474db0(param_1,*(undefined *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x19e));
    }
    break;
  case 0x15:
    if (((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) == 0) ||
       (iVar6 = FUN_00409bd0(param_1,iVar5,1), iVar6 != 0)) {
      *puVar3 = *puVar3 | 0x800000;
    }
    break;
  case 0x16:
    if (((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) == 0) ||
       (iVar6 = FUN_00409bd0(param_1,iVar5,1), iVar6 != 0)) {
      *puVar3 = *puVar3 | 0x1000000;
    }
    break;
  case 0x18:
    uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    uVar8 = uVar7 & 1;
    if ((uVar8 != 0) || ((uVar7 & 4) != 0)) {
      if (uVar8 != 0) {
        DAT_004d7a34 = 1;
        puVar3 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
        *puVar3 = *puVar3 & 0xdfffffff;
      }
      puVar3 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
      *puVar3 = *puVar3 | 0x40000;
    }
    break;
  case 0x1a:
    if (((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) == 0) ||
       (iVar6 = FUN_00409bd0(param_1,iVar5,1), iVar6 != 0)) {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x200;
    }
    break;
  case 0x1b:
    uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if ((uVar7 & 0x200000) == 0) {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar7 | 0x200000;
      FUN_00477b00(param_1);
    }
    break;
  case 0x1e:
    uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if ((uVar7 & 0x100000) == 0) {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar7 | 0x100000;
      *puVar3 = *puVar3 | 0x10000000;
      FUN_00409f10(param_1);
    }
    break;
  case 0x1f:
    if ((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 1) != 0) {
      FUN_00409bd0(param_1,iVar5,1);
    }
  }
switchD_00408abb_caseD_8:
  if ((param_2 & 0x10) != 0) {
    switch(*(undefined4 *)(iVar1 + 0x114)) {
    case 1:
    case 2:
    case 3:
    case 6:
    case 7:
      if ((*(char *)(*(int *)(param_1 + 4) + 4) != '\x03') &&
         ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 0xc0) != 0)) {
        FUN_004085b0(param_1);
      }
    }
  }
  return;
}



void FUN_00409320(void)

{
  byte *pbVar1;
  uint *puVar2;
  float fVar3;
  float fVar4;
  char cVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  ushort uVar9;
  int iVar10;
  int iVar11;
  float *pfVar12;
  undefined4 *puVar13;
  float *pfVar14;
  undefined4 *puVar15;
  undefined4 local_a0 [16];
  float local_60 [4];
  float local_50;
  float local_4c;
  float local_48;
  float local_40;
  float local_3c;
  float local_38;
  undefined4 uStackY_34;
  int iVar16;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df318 != 0) {
    if (DAT_004d77ac != (FILE *)0x0) {
      FID_conflict__fwprintf(DAT_004d77ac,(wchar_t *)s__Frame__d_004c5150);
    }
    if (DAT_005e45ec == 0) {
      FUN_00444540();
    }
    if (DAT_00598944 == 0) {
      FUN_00401230();
    }
    iVar6 = *(int *)(DAT_005df318 + 4);
    *(undefined4 *)(*(int *)(iVar6 + 4) + 0xbc) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x36);
    *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc0) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3a);
    *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc4) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3e);
    for (; iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x16)) {
      if ((*(byte *)(*(int *)(iVar6 + 4) + 0x8f) & 0x80) == 0) {
        if ((*(byte *)(*(int *)(iVar6 + 4) + 0x8a) & 2) == 0) {
          FUN_00498da0();
          iVar10 = *(int *)(iVar6 + 4);
          uVar9 = *(ushort *)(iVar10 + 0x8e);
          if ((uVar9 & 0x2000) == 0) {
            if ((uVar9 & 1) == 0) {
              uVar9 = uVar9 | 1;
            }
            else {
              uVar9 = uVar9 & 0xfffe;
            }
            *(ushort *)(iVar10 + 0x8e) = uVar9;
          }
          else {
            *(ushort *)(iVar10 + 0x8e) = uVar9 & 0xdfff;
            pbVar1 = (byte *)(*(int *)(iVar6 + 4) + 0x8e);
            *pbVar1 = *pbVar1 | 1;
          }
        }
        uVar7 = *(uint *)(*(int *)(iVar6 + 4) + 0x8a);
        if ((((uVar7 & 0x400000) != 0) || (DAT_00598944 != 0)) &&
           ((DAT_00598d6c == 0 || (iVar6 == DAT_005e45e8)))) {
          if (((uVar7 & 0x2000000) != 0) &&
             (*(short *)(iVar6 + 8) = *(short *)(iVar6 + 8) + 1, 100 < *(ushort *)(iVar6 + 8))) {
            *(uint *)(*(int *)(iVar6 + 4) + 0x8a) =
                 *(uint *)(*(int *)(iVar6 + 4) + 0x8a) & 0xfdffffff;
            *(undefined2 *)(iVar6 + 8) = 0;
          }
          iVar10 = *(int *)(iVar6 + 4);
          iVar16 = *(int *)(*(int *)(iVar10 + 0x86) + 0x13);
          if ((*(char *)(iVar10 + 4) == '\x05') || (*(char *)(iVar10 + 4) == '\x06')) {
            *(int *)(iVar10 + 0x98) = iVar16 + 0x6b;
          }
          else {
            *(int *)(iVar10 + 0x98) = iVar16 + 0x104;
          }
          FUN_0040a0b0();
          *(undefined4 *)(*(int *)(iVar6 + 4) + 0xbc) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x36);
          *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc0) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3a);
          *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc4) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3e);
          if (DAT_00598d68 == 0) {
            iVar10 = *(int *)(*(int *)(iVar6 + 4) + 0x18b);
            if ((iVar10 != 0) && (iVar11 = *(int *)(iVar10 + 0x5b), iVar11 != 0)) {
              local_38 = 1.0 / (*(float *)(iVar10 + 0x95) * *(float *)(iVar10 + 0x95));
              *(float *)(*(int *)(iVar6 + 4) + 0x36) =
                   *(float *)(*(int *)(iVar6 + 4) + 0x36) - *(float *)(iVar11 + 0x6f);
              *(float *)(*(int *)(iVar6 + 4) + 0x3a) =
                   *(float *)(*(int *)(iVar6 + 4) + 0x3a) - *(float *)(iVar11 + 0x73);
              *(float *)(*(int *)(iVar6 + 4) + 0x3e) =
                   *(float *)(*(int *)(iVar6 + 4) + 0x3e) - *(float *)(iVar11 + 0x77);
              pfVar12 = (float *)&DAT_004d1ae0;
              pfVar14 = local_60;
              for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
                *pfVar14 = *pfVar12;
                pfVar12 = pfVar12 + 1;
                pfVar14 = pfVar14 + 1;
              }
              local_60[0] = *(float *)(iVar11 + 0x3f) * local_38;
              local_50 = *(float *)(iVar11 + 0x43) * local_38;
              local_40 = *(float *)(iVar11 + 0x47) * local_38;
              local_60[1] = *(float *)(iVar11 + 0x4f) * local_38;
              local_4c = *(float *)(iVar11 + 0x53) * local_38;
              local_3c = *(float *)(iVar11 + 0x57) * local_38;
              local_60[2] = *(float *)(iVar11 + 0x5f) * local_38;
              local_48 = *(float *)(iVar11 + 99) * local_38;
              local_38 = *(float *)(iVar11 + 0x67) * local_38;
              MultiplyMatrices();
              MultiplyMatrices();
            }
          }
          FUN_00408730();
          iVar10 = *(int *)(iVar6 + 4);
          iVar11 = *(int *)(*(int *)(iVar10 + 0x98) + 0x10);
          if (((((iVar11 == 4) || (iVar11 == 5)) ||
               ((iVar8 = *(int *)(*(int *)(iVar10 + 0x86) + 0x13), *(int *)(iVar8 + 0x114) == 6 &&
                (*(char *)(iVar10 + 4) == '\x03')))) ||
              ((*(int *)(iVar8 + 0x7b) == 8 &&
               ((*(char *)(iVar10 + 4) == '\x05' || (*(char *)(iVar10 + 4) == '\x06')))))) ||
             (uVar7 = *(uint *)(iVar10 + 0x8a), (uVar7 & 0x100000) != 0)) {
            if (DAT_00598d6c != 0) {
              fVar3 = *(float *)(iVar10 + 0xa8) * 0.9;
              goto LAB_004096f2;
            }
            if ((*(int *)(*(int *)(*(int *)(iVar10 + 0x86) + 0x13) + 0x114) != 6) ||
               (*(char *)(iVar10 + 4) != '\x03')) {
              if ((iVar11 != 5) && (iVar11 != 4)) goto LAB_004096f8;
              if ((*(byte *)(iVar10 + 0x8f) & 1) == 0) {
                fVar3 = *(float *)(iVar10 + 0xa8) - 0.05;
                goto LAB_004096f2;
              }
            }
LAB_004096bd:
            if (DAT_00598d84 == 0) {
              fVar3 = 0.2;
            }
            else {
              fVar3 = 0.04;
            }
            *(float *)(iVar10 + 0xa8) = *(float *)(iVar10 + 0xa8) - fVar3;
          }
          else if ((((uVar7 & 0x40) == 0) &&
                   (((uVar7 & 0x80) == 0 || (*(float *)(iVar10 + 0xeb) < 0.8)))) ||
                  (((uVar7 & 0x40) != 0 && ((uVar7 & 0x1000) == 0)))) {
            if (DAT_004d03f0 != 0) goto LAB_004096bd;
          }
          else {
            fVar3 = *(float *)(iVar10 + 0xa8) - 0.03;
LAB_004096f2:
            *(float *)(iVar10 + 0xa8) = fVar3;
          }
LAB_004096f8:
          if ((*(uint *)(*(int *)(iVar6 + 4) + 0x8a) & 0x80000) == 0) {
            FUN_0040f4a0();
          }
          else {
            iVar10 = FUN_00442f00();
            if (iVar10 == 0) {
              FUN_0040f4a0();
            }
            puVar2 = (uint *)(*(int *)(iVar6 + 4) + 0x8a);
            *puVar2 = *puVar2 & 0xfff7ffff;
          }
          cVar5 = *(char *)(*(int *)(iVar6 + 4) + 4);
          if ((cVar5 == '\x05') || (cVar5 == '\x06')) {
            iVar10 = iVar16 + 0x6b;
          }
          else {
            iVar10 = iVar16 + 0x104;
          }
          *(int *)(*(int *)(iVar6 + 4) + 0x98) = iVar10;
          FUN_00407900();
          iVar10 = *(int *)(iVar6 + 4);
          puVar13 = (undefined4 *)(iVar10 + 6);
          puVar15 = local_a0;
          for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
            *puVar15 = *puVar13;
            puVar13 = puVar13 + 1;
            puVar15 = puVar15 + 1;
          }
          *(uint *)(iVar10 + 0x8a) = *(uint *)(iVar10 + 0x8a) & 0xffffffef;
          FUN_0041d8f0();
          if (DAT_004d77ac != (FILE *)0x0) {
            FID_conflict__fwprintf(DAT_004d77ac,(wchar_t *)s_Keypress__d_004c517c);
            uStackY_34 = 0x409807;
            FID_conflict__fwprintf(DAT_004d77ac,(wchar_t *)s_Prejoint__f__f__f_004c518c);
            uStackY_34 = 0x409835;
            FID_conflict__fwprintf(DAT_004d77ac,(wchar_t *)s_After_velocity__f__f__f_004c51a0);
            uStackY_34 = 0x409867;
            FID_conflict__fwprintf(DAT_004d77ac,(wchar_t *)s_After_collision__f__f__f_004c51bc);
          }
          iVar10 = DAT_00598ff0;
          iVar11 = FUN_0045cbc0();
          if (iVar11 == 0) {
            fVar3 = *(float *)(*(int *)(iVar6 + 4) + 0x3e);
            fVar4 = *(float *)(*(int *)(iVar6 + 4) + 0xc4);
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0x36) =
                 *(undefined4 *)(*(int *)(iVar6 + 4) + 0xbc);
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3a) =
                 *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc0);
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3e) =
                 *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc4);
            FUN_0045eab0();
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0xdb) = 0;
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0xd7) = 0;
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0xd3) = 0;
            *(undefined4 *)(*(int *)(iVar6 + 4) + 0xa4) = 0x804098e6;
            *(float *)(*(int *)(iVar6 + 4) + 0xa8) = -(float)&stack0xffffffe8;
            *(float *)(*(int *)(iVar6 + 4) + 0xac) = -(fVar3 - fVar4);
          }
          iVar11 = *(int *)(iVar6 + 4);
          if ((*(char *)(iVar11 + 4) == '\x05') || (*(char *)(iVar11 + 4) == '\x06')) {
            *(int *)(iVar11 + 0x98) = iVar16 + 0x6b;
          }
          else {
            *(int *)(iVar11 + 0x98) = iVar16 + 0x104;
          }
          if (iVar10 != *(int *)(*(int *)(*(int *)(iVar6 + 4) + 0x98) + 0x10)) {
            FUN_004109b0();
          }
          *(undefined4 *)(*(int *)(iVar6 + 4) + 0xcd) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0xc9);
        }
      }
    }
    FUN_00422db0();
    FUN_0048a480();
    FUN_004514d0();
  }
  return;
}



void FUN_004099c0(int param_1,int param_2)

{
  int *piVar1;
  short *psVar2;
  int iVar3;
  int iVar4;
  undefined local_c8 [64];
  undefined local_88 [64];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined *local_1c;
  undefined4 *local_18;
  undefined *local_14;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  local_18 = (undefined4 *)local_88;
  local_14 = (undefined *)(param_1 + 0x46);
  local_1c = (undefined *)0x4099e6;
  MultiplyMatrices();
  local_14 = local_88;
  local_18 = (undefined4 *)local_88;
  local_1c = (undefined *)0x409a07;
  FUN_0045ecb0();
  local_14 = local_88;
  local_18 = (undefined4 *)local_88;
  local_1c = (undefined *)0x409a22;
  FUN_0045ecb0();
  iVar5 = 0;
  for (psVar2 = *(short **)(param_2 + 0x57); psVar2 != (short *)0x0;
      psVar2 = *(short **)(psVar2 + 0x2c)) {
    piVar1 = (int *)(psVar2 + (uint)*(byte *)(param_1 + 4) * 2 + 10);
    iVar3 = (uint)*(byte *)(param_1 + 5) * 0x20;
    local_48 = *(undefined4 *)
                (DAT_004d77ec +
                (uint)*(ushort *)(iVar3 + *(int *)(psVar2 + (uint)*(byte *)(param_1 + 4) * 2 + 10))
                * 4);
    local_44 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 2 + *piVar1) * 4);
    local_40 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 4 + *piVar1) * 4);
    local_3c = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 6 + *piVar1) * 4);
    local_38 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 8 + *piVar1) * 4);
    local_34 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 10 + *piVar1) * 4);
    local_30 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 0xc + *piVar1) * 4);
    local_2c = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 0xe + *piVar1) * 4);
    local_28 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 0x10 + *piVar1) * 4);
    local_24 = *(undefined4 *)(DAT_004d77ec + (uint)*(ushort *)(iVar3 + 0x12 + *piVar1) * 4);
    local_18 = &local_48;
    local_1c = local_c8;
    local_14 = local_88;
    local_20 = 0x409b5f;
    FUN_0045ecb0();
    if (iVar5 < *psVar2 + iVar5) {
      iVar4 = iVar5 << 5;
      iVar3 = iVar5;
      do {
        local_14 = (undefined *)(*(int *)(param_2 + 0x14) + iVar4);
        local_18 = (undefined4 *)(*(int *)(param_2 + 0x10) + iVar4);
        local_1c = local_c8;
        local_20 = 0x409b91;
        FUN_00490c40();
        iVar3 = iVar3 + 1;
        iVar4 = iVar4 + 0x20;
      } while (iVar3 < *psVar2 + iVar5);
    }
    iVar5 = iVar5 + *psVar2;
  }
  return;
}



undefined4 FUN_00409bd0(int param_1,int param_2,int param_3)

{
  uint *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  iVar2 = *(int *)(param_1 + 4);
  uVar5 = *(uint *)(iVar2 + 0x8a);
  if ((uVar5 & 4) != 0) {
    return 1;
  }
  iVar3 = *(int *)(iVar2 + 0x86);
  if (*(char *)(iVar3 + 10) != '\0') {
    if ((uVar5 & 1) == 0) {
      return 0;
    }
    FUN_00475d60(&DAT_005e47d4,iVar2 + 6,1,0);
    FUN_0044b390(*(undefined *)(*(int *)(param_1 + 4) + 0x18a));
    return 0;
  }
  uVar4 = (uint)*(ushort *)(param_2 + 0x12);
  if ((uVar5 & 2) == 0) {
    if ((*(uint *)(iVar3 + 5) < uVar4 * 0x10) ||
       ((*(int *)(*(int *)(iVar3 + 0x13) + 0x7f) == 10 && ((uVar5 & 0xc0) == 0)))) {
      if (param_3 == 0) {
        return 0;
      }
      FUN_00475d60(&DAT_005e47d4,0,1,0);
      FUN_0044b390(*(undefined *)(*(int *)(param_1 + 4) + 0x18a));
      return 0;
    }
    if (param_3 == 0) {
      return 1;
    }
    uVar5 = *(uint *)(iVar3 + 5) + uVar4 * -0x10;
    *(uint *)(iVar3 + 5) = uVar5;
    if (uVar4 * 0x10 <= uVar5) goto LAB_00409cfb;
    *(undefined4 *)(iVar3 + 5) = 0;
    *(undefined *)(iVar3 + 10) = 1;
    if (DAT_00598944 == 0) goto LAB_00409cfb;
    uVar5 = *(uint *)(*(int *)(param_1 + 4) + 0xc9);
  }
  else {
    uVar4 = uVar4 * 0x20;
    if (0x640 < uVar4) {
      uVar4 = 0x640;
    }
    if (2 < *(int *)(*(int *)(iVar2 + 0x100) + 0x48)) {
      return 1;
    }
    if (*(uint *)(iVar3 + 5) < uVar4) {
      return 0;
    }
    if (param_3 == 0) {
      return 1;
    }
    uVar5 = *(uint *)(iVar3 + 5) - uVar4;
    *(uint *)(iVar3 + 5) = uVar5;
    if (uVar4 <= uVar5) goto LAB_00409cfb;
    *(undefined4 *)(iVar3 + 5) = 0;
    *(undefined *)(iVar3 + 10) = 1;
    if (DAT_00598944 == 0) goto LAB_00409cfb;
    uVar5 = *(uint *)(*(int *)(param_1 + 4) + 0xc9);
  }
  if ((uVar5 & 0x20) != 0) {
    FUN_00462ed0(uVar5 & 0xffffffdf);
  }
LAB_00409cfb:
  puVar1 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
  *puVar1 = *puVar1 | 0x20000;
  return 1;
}



void FUN_00409d50(int param_1,int param_2)

{
  ushort *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 4);
  uVar3 = *(uint *)(iVar2 + 0x8a);
  if (param_2 == 0) {
    if (((uVar3 & 0x200000) == 0) ||
       ((iVar4 = *(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f), iVar4 != 0x1e &&
        (iVar4 != 0x1b)))) goto LAB_00409dbd;
  }
  else if ((uVar3 & 0x200000) == 0) goto LAB_00409dbd;
  *(uint *)(iVar2 + 0x8a) = uVar3 & 0xffdfffff;
  FUN_004184b0(*(undefined4 *)(param_1 + 4));
LAB_00409dbd:
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffefffff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffbffff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffffbff;
  DAT_004d7a30 = 0;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffffdff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfeffffff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xff7fffff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xfffff7ff;
  *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffffbfff;
  puVar1 = (ushort *)(*(int *)(param_1 + 4) + 0x8e);
  *puVar1 = *puVar1 & 0xffbf;
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0) {
    DAT_004d7a34 = 0;
  }
  if (((uVar3 & 0x200) != 0) && ((*(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0x200) == 0)) {
    puVar6 = (undefined4 *)0x0;
    for (iVar2 = *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x3c);
        iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x14)) {
      pcVar5 = *(char **)(*(int *)(iVar2 + 0x1c) + 0x14);
      puVar8 = puVar6;
      if ((((pcVar5 != (char *)0x0) && (*pcVar5 != '\0')) && ((*(byte *)(iVar2 + 0x26) & 2) != 0))
         && (puVar7 = (undefined4 *)FUN_0048b030(), puVar7 != (undefined4 *)0x0)) {
        *(undefined4 *)((int)puVar7 + 9) = *(undefined4 *)(iVar2 + 0x20);
        puVar7[1] = *(int *)(param_1 + 4) + 6;
        puVar8 = puVar7;
        if (puVar6 != (undefined4 *)0x0) {
          *puVar7 = puVar6;
        }
      }
      puVar6 = puVar8;
    }
    if (puVar6 != (undefined4 *)0x0) {
      FUN_00475dd0(puVar6);
      while (puVar6 != (undefined4 *)0x0) {
        *(undefined *)(puVar6 + 2) = 0;
        puVar6 = (undefined4 *)*puVar6;
      }
    }
  }
  return;
}



void FUN_00409f10(int param_1)

{
  float fVar1;
  byte bVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 local_50 [10];
  undefined4 uStack_28;
  undefined *puStack_24;
  undefined *puStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  int iStack_14;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(param_1 + 4);
  bVar2 = *(byte *)(iVar3 + 0x8a);
  puVar8 = (undefined4 *)(iVar3 + 6);
  puVar9 = local_50;
  for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar9 = *puVar8;
    puVar8 = puVar8 + 1;
    puVar9 = puVar9 + 1;
  }
  if ((bVar2 & 2) == 0) {
    iVar6 = *(int *)(param_1 + 0x12);
  }
  else if ((*(byte *)(*(int *)(iVar3 + 0x100) + 0x58) & 0x10) == 0) {
    iVar6 = 0;
  }
  else {
    iVar6 = *(int *)(DAT_005df318 + 4);
  }
  if (iVar6 != 0) {
    puVar8 = (undefined4 *)(*(int *)(iVar6 + 4) + 6);
    puVar9 = (undefined4 *)(iVar3 + 6);
    for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar9 = *puVar8;
      puVar8 = puVar8 + 1;
      puVar9 = puVar9 + 1;
    }
    iStack_14 = 0;
    uStack_18 = 0;
    uStack_1c = 0x3fa3d70a;
    *(undefined4 *)(iVar3 + 0x36) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x36);
    *(undefined4 *)(iVar3 + 0x3a) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3a);
    *(undefined4 *)(iVar3 + 0x3e) = *(undefined4 *)(*(int *)(iVar6 + 4) + 0x3e);
    fVar1 = *(float *)(*(int *)(iVar6 + 4) + 0x26);
    *(float *)(iVar3 + 0xd3) = fVar1 + fVar1;
    fVar1 = *(float *)(*(int *)(iVar6 + 4) + 0x2e);
    *(float *)(iVar3 + 0xdb) = fVar1 + fVar1;
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) & 0xffefffff;
    *(undefined4 *)(*(int *)(iVar3 + 0x86) + 5) = 0;
    *(undefined *)(*(int *)(iVar3 + 0x86) + 10) = 1;
    puStack_20 = &stack0xfffffff0;
    puStack_24 = &stack0xfffffff0;
    uStack_28 = 0x409ffe;
    uVar4 = *(undefined4 *)(iVar3 + 0x36);
    uVar5 = *(undefined4 *)(iVar3 + 0x3e);
    iVar6 = FUN_00421c60();
    iStack_14 = uVar5;
    uStack_18 = uVar4;
    if (iVar6 != 0) {
      puVar8 = local_50;
      puVar9 = (undefined4 *)(iVar3 + 6);
      for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
        *puVar9 = *puVar8;
        puVar8 = puVar8 + 1;
        puVar9 = puVar9 + 1;
      }
    }
    uStack_1c = DAT_00598ff0;
    puStack_20 = (undefined *)0x40a026;
    iVar6 = FUN_0045cbc0();
    if (iVar6 == 0) {
      puVar8 = local_50;
      puVar9 = (undefined4 *)(iVar3 + 6);
      for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
        *puVar9 = *puVar8;
        puVar8 = puVar8 + 1;
        puVar9 = puVar9 + 1;
      }
    }
    else {
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x200;
    }
    *(undefined4 *)(iVar3 + 0xbc) = *(undefined4 *)(iVar3 + 0x36);
    *(undefined4 *)(iVar3 + 0xc0) = *(undefined4 *)(iVar3 + 0x3a);
    *(undefined4 *)(iVar3 + 0xc4) = *(undefined4 *)(iVar3 + 0x3e);
    *(undefined4 *)(iVar3 + 0xac) = 0;
    *(undefined4 *)(iVar3 + 0xa8) = 0;
    *(undefined4 *)(iVar3 + 0xa4) = 0;
    return;
  }
  iStack_14 = param_1;
  *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) | 0x100000;
  uStack_18 = 0x40a09f;
  FUN_00477b00();
  return;
}



void FUN_0040a0b0(int param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  iVar2 = param_1;
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 4) == 0) {
    param_1 = 0;
    do {
      iVar4 = *(int *)(param_1 + 0x175 + *(int *)(iVar2 + 4));
      if (iVar4 != 0) {
        uVar3 = *(uint *)(iVar4 + 5);
        if (DAT_004d041c == 0) {
          if (uVar3 < 0x640) {
            iVar1 = *(byte *)(iVar4 + 0xb) + uVar3;
            *(int *)(iVar4 + 5) = iVar1;
            if ((*(byte *)(*(int *)(iVar2 + 4) + 0x8a) & 1) != 0) {
              switch((uint)*(byte *)(iVar4 + 0xb)) {
              case 1:
                if (iVar1 == 0x5e6) {
LAB_0040a25a:
                  FUN_00475bf0(&DAT_005e47fb,*(int *)(iVar2 + 4) + 6,1,0);
                }
                break;
              case 2:
              case 3:
              case 4:
              case 5:
              case 6:
              case 10:
                if (iVar1 == 0x5dc) goto LAB_0040a25a;
                break;
              case 7:
                if (iVar1 == 0x5e1) goto LAB_0040a25a;
                break;
              case 8:
                if (iVar1 == 0x5e0) goto LAB_0040a25a;
                break;
              case 9:
                if (iVar1 == 0x5df) goto LAB_0040a25a;
              }
            }
            if (0x63f < *(uint *)(iVar4 + 5)) {
              *(undefined4 *)(iVar4 + 5) = 0x640;
              *(undefined *)(iVar4 + 10) = 0;
              if ((DAT_00598944 != 0) &&
                 (uVar3 = *(uint *)(*(int *)(iVar2 + 4) + 0xc9), (uVar3 & 0x20) != 0)) {
                FUN_00462ef0(uVar3);
              }
            }
          }
        }
        else {
          if ((uVar3 < 0x640) && (*(char *)(iVar4 + 10) != '\0')) {
            uVar3 = *(byte *)(iVar4 + 0xb) + uVar3;
            *(uint *)(iVar4 + 5) = uVar3;
            if (((*(byte *)(*(int *)(iVar2 + 4) + 0x8a) & 1) != 0) && (0x5db < uVar3)) {
              switch((uint)*(byte *)(iVar4 + 0xb)) {
              case 1:
                if (uVar3 == 0x5e6) {
LAB_0040a162:
                  FUN_00475bf0(&DAT_005e47fb,*(int *)(iVar2 + 4) + 6,1,0);
                }
                break;
              case 2:
              case 3:
              case 4:
              case 5:
              case 6:
              case 10:
                if (uVar3 == 0x5dc) goto LAB_0040a162;
                break;
              case 7:
                if (uVar3 == 0x5e1) goto LAB_0040a162;
                break;
              case 8:
                if (uVar3 == 0x5e0) goto LAB_0040a162;
                break;
              case 9:
                if (uVar3 == 0x5df) goto LAB_0040a162;
              }
            }
            if (*(uint *)(iVar4 + 5) < 0x640) goto LAB_0040a1a6;
            *(undefined4 *)(iVar4 + 5) = 0x640;
            *(undefined *)(iVar4 + 10) = 0;
            if (DAT_00598944 != 0) {
              uVar3 = *(uint *)(*(int *)(iVar2 + 4) + 0xc9);
              if ((uVar3 & 0x20) != 0) {
                FUN_00462ef0(uVar3);
              }
              goto LAB_0040a1a6;
            }
          }
          else {
LAB_0040a1a6:
            if (DAT_00598944 != 0) goto LAB_0040a29e;
          }
          iVar4 = 0;
          do {
            iVar1 = *(int *)(iVar4 + 0x109 + *(int *)(iVar2 + 4));
            if ((((iVar1 != 0) && (*(uint *)(iVar1 + 5) < 0x640)) && (*(char *)(iVar1 + 10) != '\0')
                ) && (uVar3 = *(uint *)(iVar1 + 5) + (uint)*(byte *)(iVar1 + 0xb),
                     *(uint *)(iVar1 + 5) = uVar3, 0x63f < uVar3)) {
              *(undefined4 *)(iVar1 + 5) = 0x640;
              *(undefined *)(iVar1 + 10) = 0;
            }
            iVar4 = iVar4 + 4;
          } while (iVar4 < 0x6c);
        }
      }
LAB_0040a29e:
      param_1 = param_1 + 4;
    } while (param_1 < 0x14);
  }
  return;
}



void FUN_0040a310(int param_1)

{
  int iVar1;
  ushort *puVar2;
  bool bVar3;
  int iVar4;
  int *piVar5;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined *local_1c;
  undefined4 *local_18;
  undefined *local_14;
  float fVar6;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  piVar5 = (int *)(param_1 + 0x57);
  *(undefined4 *)(param_1 + 0x67) = 0;
  iVar1 = *piVar5;
  iVar4 = DAT_004d77ec;
  while (iVar1 != 0) {
    puVar2 = *(ushort **)(iVar1 + 0x18);
    if (puVar2 != (ushort *)0x0) {
      local_5c = *(undefined4 *)(iVar4 + (uint)*puVar2 * 4);
      local_58 = *(undefined4 *)(iVar4 + (uint)puVar2[1] * 4);
      local_54 = *(undefined4 *)(iVar4 + (uint)puVar2[2] * 4);
      local_50 = *(undefined4 *)(iVar4 + (uint)puVar2[3] * 4);
      local_4c = *(undefined4 *)(iVar4 + (uint)puVar2[4] * 4);
      local_48 = *(undefined4 *)(iVar4 + (uint)puVar2[5] * 4);
      local_44 = *(undefined4 *)(iVar4 + (uint)puVar2[6] * 4);
      local_40 = *(undefined4 *)(iVar4 + (uint)puVar2[7] * 4);
      local_3c = *(undefined4 *)(iVar4 + (uint)puVar2[8] * 4);
      local_38 = *(undefined4 *)(iVar4 + (uint)puVar2[9] * 4);
      local_34 = *(undefined4 *)(iVar4 + (uint)puVar2[10] * 4);
      local_30 = *(undefined4 *)(iVar4 + (uint)puVar2[0xb] * 4);
      local_2c = *(undefined4 *)(iVar4 + (uint)puVar2[0xc] * 4);
      local_28 = *(undefined4 *)(iVar4 + (uint)puVar2[0xd] * 4);
      local_24 = *(undefined4 *)(iVar4 + (uint)puVar2[0xe] * 4);
      if (*(char *)(*piVar5 + 0x30) == '\x03') {
        local_14 = &stack0xfffffff0;
        local_18 = &local_5c;
        local_1c = &stack0xfffffff0;
        fVar6 = -1.546458;
        local_20 = 0x40a433;
        FUN_0045f6b0();
        if ((!bVar3) || (fVar6 - -1.56675 < *(float *)(param_1 + 0x67))) {
          *(float *)(param_1 + 0x67) = fVar6 - -1.546458;
        }
        bVar3 = true;
        iVar4 = DAT_004d77ec;
      }
      if (*(char *)(*piVar5 + 0x30) == '\t') {
        local_1c = (undefined *)0x3f420c4a;
        local_18 = (undefined4 *)0xbfc88b44;
        local_14 = (undefined *)0xbd9db22d;
        local_20 = 0x40a492;
        FUN_0045f6b0();
        if ((!bVar3) || ((float)local_18 - -1.56675 < *(float *)(param_1 + 0x67))) {
          *(float *)(param_1 + 0x67) = (float)local_18 - -1.56675;
        }
        bVar3 = true;
        iVar4 = DAT_004d77ec;
      }
    }
    piVar5 = (int *)(*piVar5 + 0x58);
    iVar1 = *piVar5;
  }
  if (*(float *)(param_1 + 0x67) != 0.0) {
    *(float *)(param_1 + 0x67) = *(float *)(param_1 + 0x67) - 0.3;
  }
  return;
}



void * FUN_0040a500(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  short sVar2;
  undefined2 uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  bool bVar6;
  short sVar7;
  void *pvVar8;
  int iVar9;
  size_t sVar10;
  int iVar11;
  int iVar12;
  undefined4 uVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined2 *puVar16;
  undefined2 *puVar17;
  int unaff_EDI;
  short *psVar18;
  void **ppvVar19;
  undefined8 uVar20;
  char local_15c [256];
  undefined4 local_5c [2];
  undefined4 local_54;
  int local_50;
  undefined *local_4c;
  undefined4 uStackY_3c;
  undefined *puVar21;
  int *_Val;
  int iVar22;
  int iVar23;
  
  AdjustStackForLargeAllocations();
  DAT_004d77b4 = DAT_004d77b4 + 1;
  uVar20 = FUN_0041c320();
  iVar23 = (int)((ulonglong)uVar20 >> 0x20);
  sVar10 = (size_t)uVar20;
  if (iVar23 == 0) {
    return (void *)0x0;
  }
  if (sVar10 == 1) {
    DAT_004d77b0 = DAT_004d77b0 + 1;
    piVar1 = (int *)(param_2 + 0x13);
    *piVar1 = iVar23;
    _Val = piVar1;
    pvVar8 = (void *)AllocateMemoryWithCallback();
    pvVar8 = _memset(pvVar8,(int)_Val,sVar10);
    *(void **)(*piVar1 + 8) = pvVar8;
    **(undefined **)(*piVar1 + 8) = 1;
    iVar9 = FUN_00441dd0();
    if (iVar9 == 0) {
      return (void *)0x0;
    }
    FUN_0040a310();
    FUN_004780b0();
    FUN_00478200();
    if ((*(int *)(iVar23 + 0x7f) == 0xb) || (*(int *)(iVar23 + 0x7f) == 0x12)) {
      FUN_00477d80();
    }
    iVar9 = FUN_004420e0();
    sVar10 = _strlen(local_15c);
    sVar10 = sVar10 + 1;
    iVar22 = 0;
    _strlen(local_15c);
    pvVar8 = (void *)AllocateMemoryWithCallback();
    pvVar8 = _memset(pvVar8,iVar22,sVar10);
    *(void **)(*piVar1 + 4) = pvVar8;
    FID_conflict___mbscpy(*(char **)(*piVar1 + 4),local_15c);
    if (iVar9 != 0) {
      FreeMemory();
    }
    if (param_3 != 0) {
      FUN_0048b070();
      for (puVar4 = *(undefined4 **)(iVar23 + 0x3c); puVar4 != (undefined4 *)0x0;
          puVar4 = (undefined4 *)puVar4[5]) {
        bVar6 = false;
        puVar5 = DAT_00598f50;
        while ((puVar5 != (undefined4 *)0x0 && (!bVar6))) {
          if (puVar5[4] == puVar4[4]) {
            puVar4[8] = puVar5[8];
            puVar4[1] = puVar5[1];
            *(undefined *)(puVar4 + 9) = *(undefined *)(puVar5 + 9);
            *puVar4 = *puVar5;
            puVar4[2] = puVar5[2];
            puVar4[3] = puVar5[3];
            bVar6 = true;
          }
          puVar5 = (undefined4 *)puVar5[5];
        }
      }
    }
    FUN_0040ce30();
    FUN_0040e760();
    for (iVar9 = *(int *)(iVar23 + 0x57); iVar9 != 0; iVar9 = *(int *)(iVar9 + 0x58)) {
      iVar22 = (**(code **)(*param_1 + 0x3c))();
      if (iVar22 != 0) {
        return (void *)0x0;
      }
      iVar22 = (**(code **)(*param_1 + 0x40))();
      if (iVar22 != 0) {
        return (void *)0x0;
      }
    }
    if (DAT_005e58d0 == 0) {
      iVar9 = 0;
      param_3 = 0;
      if (0 < *(int *)(iVar23 + 0x30)) {
        do {
          iVar22 = iVar9 * 0x10;
          if ((*(int *)(*(int *)(iVar23 + 0x1c) + 8 + iVar22) == -1) &&
             (param_2 = iVar9, iVar9 < *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4) + iVar9)) {
            do {
              puVar21 = &stack0xffffffec;
              iVar11 = FUN_0040acc0();
              if (iVar11 != 0) {
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + iVar22) * 0x20 + 0x18 +
                          *(int *)(iVar23 + 0x10)) = 0.0001 - (float)unaff_EDI * -0.03125;
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + iVar22) * 0x20 + 0x1c +
                          *(int *)(iVar23 + 0x10)) = 0.0001 - (float)(int)puVar21 * -0.03125;
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + 2 + iVar22) * 0x20 + 0x18 +
                          *(int *)(iVar23 + 0x10)) = -0.0001 - (float)(unaff_EDI + 1) * -0.03125;
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + 2 + iVar22) * 0x20 + 0x1c +
                          *(int *)(iVar23 + 0x10)) = 0.0001 - (float)(int)puVar21 * -0.03125;
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + 4 + iVar22) * 0x20 + 0x18 +
                          *(int *)(iVar23 + 0x10)) = -0.0001 - (float)(unaff_EDI + 1) * -0.03125;
                *(float *)((uint)*(ushort *)(*(int *)(iVar23 + 0x1c) + 4 + iVar22) * 0x20 + 0x1c +
                          *(int *)(iVar23 + 0x10)) = -0.0001 - (float)(int)(puVar21 + 1) * -0.03125;
              }
              iVar22 = iVar22 + 0x10;
              param_2 = param_2 + 1;
            } while (param_2 < *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4) + iVar9);
          }
          iVar9 = iVar9 + *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4);
          param_3 = param_3 + 1;
        } while (param_3 < *(int *)(iVar23 + 0x30));
      }
    }
    iVar9 = *(int *)(iVar23 + 0x18);
    iVar22 = *(int *)(iVar23 + 0xc);
    iVar11 = *(int *)(iVar23 + 0x20);
    *(int *)(iVar23 + 0x34) = iVar9;
    psVar18 = *(short **)(iVar23 + 0x57);
    _memset(&stack0xffffffd4,0,0x14);
    ppvVar19 = (void **)&stack0xfffffff4;
    puVar21 = &stack0xffffffd4;
    iVar12 = (**(code **)(*param_1 + 0x18))();
    if (iVar12 != 0) {
      return (void *)0x0;
    }
    iVar12 = (**(code **)(iRam00000000 + 0x10))();
    if (iVar12 != 0) {
      return (void *)0x0;
    }
    _memset(puVar21,0,iVar11 * 0x74 + 0x18 + (iVar9 + iVar22 * 4) * 8);
    if (puVar21 != *(undefined **)(iVar23 + 0x10)) {
      FUN_004ad7a0();
    }
    puVar14 = (undefined2 *)(puVar21 + *(int *)(iVar23 + 0xc) * 0x20);
    if (*(int *)(iVar23 + 0x10) != 0) {
      FreeMemory();
      *(undefined4 *)(iVar23 + 0x10) = 0;
    }
    *(undefined **)(iVar23 + 0x10) = puVar21;
    sVar7 = 0;
    iVar9 = 0;
    puVar15 = puVar14;
    puVar17 = puVar14;
    if (0 < *(int *)(iVar23 + 0x20)) {
      do {
        *(undefined *)puVar15 = 4;
        *(undefined *)((int)puVar15 + 1) = 8;
        puVar15[1] = 1;
        *(undefined4 *)(puVar15 + 4) = *(undefined4 *)(psVar18 + 0x2a);
        *(undefined4 *)(puVar15 + 2) = DAT_005b9ce0;
        *(undefined *)(puVar15 + 6) = 9;
        *(undefined *)((int)puVar15 + 0xd) = 0x10;
        puVar15[7] = 1;
        *(undefined4 *)(puVar15 + 8) = 1;
        puVar15[10] = sVar7;
        puVar15[0xb] = sVar7;
        puVar17 = puVar15 + 0x10;
        *(int *)(puVar15 + 0xc) = (int)*psVar18;
        *(undefined4 *)(puVar15 + 0xe) = 0;
        sVar2 = *psVar18;
        psVar18 = *(short **)(psVar18 + 0x2c);
        sVar7 = sVar7 + sVar2;
        iVar9 = iVar9 + 1;
        puVar15 = puVar17;
      } while (iVar9 < *(int *)(iVar23 + 0x20));
    }
    iVar9 = 0;
    param_3 = 0;
    if (0 < *(int *)(iVar23 + 0x30)) {
      do {
        iVar22 = iVar9 * 0x10;
        if (*(int *)(*(int *)(iVar23 + 0x1c) + 8 + iVar22) == -1) {
          *(undefined *)puVar17 = 8;
          *(undefined *)((int)puVar17 + 1) = 8;
          puVar17[1] = 1;
          if (DAT_005e58d0 == 0) {
            *(undefined4 *)(puVar17 + 2) = 1;
            uVar13 = DAT_004d77bc;
            goto LAB_0040aa50;
          }
          *(undefined4 *)(puVar17 + 2) = 1;
          *(undefined4 *)(puVar17 + 4) = 0;
        }
        else {
          *(undefined *)puVar17 = 8;
          *(undefined *)((int)puVar17 + 1) = 8;
          puVar17[1] = 1;
          *(undefined4 *)(puVar17 + 2) = 1;
          uVar13 = *(undefined4 *)
                    (DAT_005dca00 + 0xb + *(int *)(*(int *)(iVar23 + 0x1c) + 8 + iVar22) * 0x2e);
LAB_0040aa50:
          *(undefined4 *)(puVar17 + 4) = uVar13;
        }
        puVar15 = puVar17 + 6;
        if (((uint)puVar15 & 7) == 0) {
          *(undefined *)puVar15 = 3;
          *(undefined *)((int)puVar17 + 0xd) = 8;
          puVar17[7] = 0;
          puVar15 = puVar17 + 8;
        }
        *(undefined *)puVar15 = 3;
        *(undefined *)((int)puVar15 + 1) = 8;
        puVar16 = puVar15 + 2;
        puVar15[1] = *(undefined2 *)(*(int *)(iVar23 + 0x2c) + param_3 * 4);
        puVar17 = puVar16;
        iVar11 = iVar9;
        if (iVar9 < *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4) + iVar9) {
          do {
            puVar17 = puVar16 + 4;
            iVar11 = iVar11 + 1;
            *puVar16 = *(undefined2 *)(iVar22 + *(int *)(iVar23 + 0x1c));
            puVar16[1] = *(undefined2 *)(iVar22 + 2 + *(int *)(iVar23 + 0x1c));
            uVar3 = *(undefined2 *)(iVar22 + 4 + *(int *)(iVar23 + 0x1c));
            puVar16[3] = 0x700;
            puVar16[2] = uVar3;
            iVar22 = iVar22 + 0x10;
            puVar16 = puVar17;
          } while (iVar11 < *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4) + iVar9);
        }
        iVar9 = iVar9 + *(int *)(*(int *)(iVar23 + 0x2c) + param_3 * 4);
        param_3 = param_3 + 1;
      } while (param_3 < *(int *)(iVar23 + 0x30));
    }
    *(undefined *)puVar17 = 0xb;
    *(undefined *)((int)puVar17 + 1) = 0;
    puVar17[1] = 0;
    (**(code **)(iRam00000000 + 0x14))();
    uStackY_3c = 0x40ab14;
    _memset(local_5c,0,0x30);
    local_5c[0] = 0x30;
    local_54 = *(undefined4 *)(iVar23 + 0xc);
    local_50 = (int)puVar14 - (int)puVar21;
    local_4c = (undefined *)((int)puVar17 + (4 - (int)puVar14));
    (**(code **)(iRam00000000 + 0x18))();
    *(undefined4 *)(iVar23 + 0x1a4) = 0;
    if (*(int *)(iVar23 + 0x1c) != 0) {
      uStackY_3c = 0x40ab5c;
      FreeMemory();
      *(undefined4 *)(iVar23 + 0x1c) = 0;
    }
    if (*(int *)(iVar23 + 0x28) != 0) {
      uStackY_3c = 0x40ab6f;
      FreeMemory();
      *(undefined4 *)(iVar23 + 0x28) = 0;
    }
    if (*(int *)(iVar23 + 0x2c) != 0) {
      uStackY_3c = 0x40ab82;
      FreeMemory();
      *(undefined4 *)(iVar23 + 0x2c) = 0;
      return *ppvVar19;
    }
  }
  else {
    sVar10 = 0x1ac;
    iVar23 = 0;
    pvVar8 = (void *)AllocateMemoryWithCallback();
    pvVar8 = _memset(pvVar8,iVar23,sVar10);
    ppvVar19 = (void **)(param_2 + 0x13);
    *ppvVar19 = pvVar8;
    if (pvVar8 == (void *)0x0) {
      return (void *)0x0;
    }
    FUN_0040ce00();
    **(char **)((int)*ppvVar19 + 8) = **(char **)((int)*ppvVar19 + 8) + '\x01';
    iVar23 = FUN_00441dd0();
    if (iVar23 == 0) {
      return (void *)0x0;
    }
  }
  return *ppvVar19;
}



undefined4 * FUN_0040ac00(int param_1)

{
  void *_Dst;
  undefined4 *puVar1;
  int iVar2;
  size_t _Size;
  
  _Size = 0x1ac;
  iVar2 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x1ac);
  puVar1 = (undefined4 *)_memset(_Dst,iVar2,_Size);
  if (puVar1 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  iVar2 = FUN_0040c200(0,puVar1,param_1);
  if (iVar2 == 0) {
    return (undefined4 *)0x0;
  }
  if ((0xe1 < param_1) && (param_1 < 0xf0)) {
    *puVar1 = 1;
    *(undefined4 *)((int)puVar1 + 0x121) = 0x3ff5c28f;
    puVar1[0x22] = 0x3ff5c28f;
    return puVar1;
  }
  if ((0xf6 < param_1) && (param_1 < 0xfc)) {
    *puVar1 = 1;
    *(undefined4 *)((int)puVar1 + 0x121) = 0x4023d70a;
    puVar1[0x22] = 0x4023d70a;
    return puVar1;
  }
  *puVar1 = 1;
  puVar1[0x22] = 0x3fa3d70a;
  *(undefined4 *)((int)puVar1 + 0x121) = 0x3fa3d70a;
  return puVar1;
}



undefined4 FUN_0040acc0(undefined4 param_1,int *param_2,int *param_3)

{
  short sVar1;
  int iVar2;
  short *psVar3;
  int iVar4;
  int iVar5;
  short *psVar6;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  int local_70;
  short *local_5c;
  undefined4 uStackY_48;
  int *piStackY_44;
  undefined4 uStackY_40;
  int *piStackY_3c;
  undefined4 uStackY_38;
  int *piVar7;
  
  AdjustStackForLargeAllocations();
  if (DAT_004d77b8 == (int *)0x0) {
    _memset(&local_80,0,0x6c);
    local_80 = 0x6c;
    FUN_0044b620();
    iVar5 = 0x20;
    local_7c = 0x1007;
    local_78 = 0x20;
    local_74 = 0x20;
    iVar2 = FUN_00413f70();
    if (iVar2 != 0) {
      return 0;
    }
    piVar7 = (int *)&stack0xffffffec;
    iVar2 = (**(code **)*DAT_004d77b8)();
    if (iVar2 != 0) {
      return 0;
    }
    iVar2 = (**(code **)(*piVar7 + 0x10))();
    if (iVar2 != 0) {
      return 0;
    }
    uStackY_38 = 0x40ad87;
    _memset(&local_80,0,0x6c);
    local_80 = 0x6c;
    uStackY_38 = 0;
    piStackY_3c = DAT_004d77b8;
    uStackY_40 = 0x40ada2;
    iVar2 = (**(code **)(*DAT_004d77b8 + 100))();
    if (iVar2 != 0) {
      *param_3 = 0;
      *param_2 = 0;
      return 0;
    }
    uStackY_40 = 0;
    piStackY_44 = DAT_004d77b8;
    uStackY_48 = 0x40add1;
    (**(code **)(*DAT_004d77b8 + 0x80))();
    psVar6 = local_5c;
    do {
      iVar2 = 0x20;
      psVar3 = psVar6;
      do {
        *psVar3 = -1;
        psVar3 = psVar3 + (local_70 >> 1);
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
      psVar6 = psVar6 + 1;
      iVar5 = iVar5 + -1;
    } while (iVar5 != 0);
  }
  if (DAT_004d77c0 == 0x20) {
    DAT_004d77c0 = 0;
    DAT_004d77c4 = DAT_004d77c4 + 1;
  }
  if (DAT_004d77c4 == 0x20) {
    *param_3 = 0;
    *param_2 = 0;
    return 0;
  }
  sVar1 = FUN_0040af70();
  _memset(&local_80,0,0x6c);
  local_80 = 0x6c;
  iVar2 = (**(code **)(*DAT_004d77b8 + 100))();
  if (iVar2 != 0) {
    *param_3 = 0;
    *param_2 = 0;
    return 0;
  }
  (**(code **)(*DAT_004d77b8 + 0x80))();
  iVar4 = 0;
  iVar2 = DAT_004d77c4 + 1;
  iVar5 = 0;
  psVar6 = local_5c;
  if (0 < DAT_004d77c0) {
    do {
      iVar4 = iVar5;
      iVar2 = 0;
      psVar3 = psVar6;
      if (-1 < DAT_004d77c4) {
        do {
          if (*psVar3 == sVar1) break;
          iVar2 = iVar2 + 1;
          psVar3 = psVar3 + (local_70 >> 1);
        } while (iVar2 <= DAT_004d77c4);
      }
      if (iVar2 <= DAT_004d77c4) break;
      iVar4 = iVar4 + 1;
      psVar6 = psVar6 + 1;
      iVar5 = iVar4;
    } while (iVar4 < DAT_004d77c0);
  }
  if ((iVar4 == DAT_004d77c0) && (iVar2 == DAT_004d77c4 + 1)) {
    local_5c[(local_70 >> 1) * DAT_004d77c4 + DAT_004d77c0] = sVar1;
    *param_2 = DAT_004d77c0;
    *param_3 = DAT_004d77c4;
    DAT_004d77c0 = DAT_004d77c0 + 1;
    return 1;
  }
  *param_2 = iVar4;
  *param_3 = iVar2;
  return 1;
}



uint __fastcall FUN_0040af70(undefined4 param_1_00,undefined4 param_2,byte *param_1)

{
  undefined4 in_EAX;
  uint uVar1;
  uint uVar2;
  ushort uVar3;
  
  uVar1 = CONCAT31((int3)((uint)in_EAX >> 8),param_1[2]) & 0xfffffff8;
  uVar2 = CONCAT31((int3)((uint)param_2 >> 8),param_1[1]) & 0xfffffffc;
  uVar3 = (ushort)(uVar2 >> 0x10);
  uVar1 = (CONCAT22((short)(uVar1 >> 0x10),(ushort)(byte)uVar1) << 5 |
          CONCAT22(uVar3,(ushort)(byte)uVar2)) << 3;
  uVar2 = uVar1 | CONCAT31((int3)(((uint)uVar3 << 0x10) >> 8),*param_1 >> 3);
  if (DAT_005e72dc != 0) {
    uVar2 = (uVar1 & 0xffc0) >> 1 | (uint)(*param_1 >> 3);
  }
  return uVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0040afc0(float param_1,uint param_2)

{
  byte bVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  bool bVar5;
  float fVar6;
  int iVar7;
  uint uVar8;
  float10 fVar9;
  int *piVar10;
  float fVar11;
  int *piVar12;
  
  iVar4 = (int)param_1;
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)((int)param_1 + 4);
  fVar3 = *(float *)(iVar2 + 0xdf);
  piVar12 = *(int **)(iVar2 + 0x9c);
  if ((*(int *)(*(int *)(iVar2 + 0x98) + 0x10) == 4) &&
     (param_1 == (float)*(int *)(DAT_005df318 + 4))) {
    if (((DAT_004d77cc == 0) || (DAT_004d77cc = DAT_004d77cc + -1, DAT_004d77cc == 0)) &&
       (_DAT_004d77c8 != 0)) {
      *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) | 0x4000;
      _DAT_004d77c8 = 0;
      DAT_004d77cc = 0;
    }
    if (((*(uint *)(*(int *)((int)param_1 + 4) + 0x8a) & 0x4000) == 0) &&
       ((*(byte *)(*(int *)((int)param_1 + 4) + 0x8e) & 0x40) == 0)) {
      iVar7 = FUN_00446c50(4);
      if (iVar7 == 3) {
        *(byte *)(iVar2 + 0x8e) = *(byte *)(iVar2 + 0x8e) | 0x40;
        _DAT_004d77c8 = 0;
        DAT_004d77cc = 0;
      }
      else {
        iVar7 = FUN_00446c50(4);
        if (((iVar7 == 1) || (iVar7 = FUN_00446c50(4), iVar7 == 2)) && (DAT_004d77cc == 0)) {
          DAT_004d77cc = 5;
          _DAT_004d77c8 = 1;
        }
      }
    }
  }
  if ((((*(uint *)(*(int *)((int)param_1 + 4) + 0x8a) & 0x20000000) != 0) ||
      ((*(uint *)(iVar2 + 0x8a) & 0x4000) != 0)) || ((*(byte *)(iVar2 + 0x8e) & 0x40) != 0))
  goto LAB_0040b4e3;
  if ((DAT_004d77dc == 1) && (DAT_005de640 == 0)) {
    DAT_004c53a8 = 1;
    DAT_004d77dc = DAT_005de640;
  }
  if (((*(byte *)(*(int *)((int)param_1 + 4) + 0x8a) & 1) == 0) ||
     ((((DAT_005de238 == 0 && (DAT_005de234 == 0)) && (DAT_005de644 == 0)) && (DAT_005de640 == 0))))
  {
    uVar8 = param_2 & 4;
    if ((uVar8 == 0) && ((param_2 & 8) == 0)) {
      *(undefined4 *)(iVar2 + 0x199) = 0;
    }
    else {
      if (param_1 == (float)*(int *)(DAT_005df318 + 4)) {
        DAT_004c53a8 = 1;
      }
      fVar9 = (float10)FUN_0040c180(param_1,*(int *)((int)param_1 + 4) + 0xa4);
      fVar11 = (float)fVar9;
      if (uVar8 == 0) {
LAB_0040b387:
        if ((param_2 & 8) != 0) goto LAB_0040b38c;
      }
      else {
        if ((param_2 & 8) == 0) {
          if (*(float *)(iVar2 + 0x199) < 0.0) {
            *(undefined4 *)(iVar2 + 0x199) = 0;
          }
          fVar6 = *(float *)(iVar2 + 0x199) - -0.02;
          if (fVar11 <= fVar6) {
            *(float *)(iVar2 + 0x199) = fVar11;
          }
          else {
            *(float *)(iVar2 + 0x199) = fVar6;
          }
          piVar12 = (int *)((float)piVar12 - (fVar11 - -0.02) * -0.5);
          goto LAB_0040b387;
        }
LAB_0040b38c:
        if (uVar8 == 0) {
          if (0.0 < *(float *)(iVar2 + 0x199)) {
            *(undefined4 *)(iVar2 + 0x199) = 0;
          }
          fVar6 = *(float *)(iVar2 + 0x199) - 0.02;
          if (fVar6 <= -fVar11) {
            *(float *)(iVar2 + 0x199) = -fVar11;
          }
          else {
            *(float *)(iVar2 + 0x199) = fVar6;
          }
          piVar12 = (int *)((float)piVar12 - (fVar11 - -0.02) * 0.5);
        }
      }
      if ((*(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10) != 4) ||
         ((param_2 & 0x40) == 0)) {
        FUN_004081f0(iVar2,1);
      }
    }
    if ((param_2 & 1) == 0) {
      if ((param_2 & 2) != 0) {
        if (param_1 == (float)*(int *)(DAT_005df318 + 4)) {
          DAT_004c53a8 = 1;
        }
        if (*(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10) == 4) {
          fVar11 = 0.1;
        }
        else {
          fVar11 = 0.07;
        }
        fVar3 = fVar3 - fVar11;
        if (fVar3 < -0.7) {
          param_1 = -0.7;
          fVar3 = param_1;
          goto LAB_0040b4e3;
        }
        if (fVar3 <= 0.7) goto LAB_0040b4e3;
LAB_0040b4dc:
        param_1 = 0.7;
        fVar3 = param_1;
      }
    }
    else {
      if (param_1 == (float)*(int *)(DAT_005df318 + 4)) {
        DAT_004c53a8 = 1;
      }
      if (*(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x98) + 0x10) == 4) {
        param_1 = -0.1;
      }
      else {
        param_1 = -0.07;
      }
      param_1 = fVar3 - param_1;
      bVar5 = param_1 < -0.7;
LAB_0040b458:
      if (bVar5) {
        param_1 = -0.7;
        fVar3 = param_1;
      }
      else {
LAB_0040b466:
        fVar3 = param_1;
        if (0.7 < param_1) goto LAB_0040b4dc;
      }
    }
  }
  else {
    if (param_1 == (float)*(int *)(DAT_005df318 + 4)) {
      DAT_004c53a8 = 0;
    }
    if (DAT_005de238 == 0) {
      if (DAT_005de644 != 0) {
        fVar11 = (float)DAT_005de644 * -0.0002;
        *(float *)(iVar2 + 0x199) = fVar11;
        fVar6 = _DAT_004cd11c;
        goto LAB_0040b1d7;
      }
    }
    else {
      fVar11 = (float)DAT_005de238 * -0.005;
      *(float *)(iVar2 + 0x199) = fVar11;
      fVar6 = _DAT_004cd118;
LAB_0040b1d7:
      fVar11 = ((*(float *)(iVar2 + 0xac) * *(float *)(iVar2 + 0xac) +
                *(float *)(iVar2 + 0xa4) * *(float *)(iVar2 + 0xa4)) * 0.1666667 - -1.0) * fVar6 *
               fVar11;
      *(float *)(iVar2 + 0x199) = fVar11;
      if (fVar11 <= 2.0) {
        if (fVar11 < -2.0) {
          *(undefined4 *)(iVar2 + 0x199) = 0xc0000000;
        }
      }
      else {
        *(undefined4 *)(iVar2 + 0x199) = 0x40000000;
      }
      FUN_004081f0(iVar2,1);
      piVar12 = (int *)((float)piVar12 - *(float *)(iVar2 + 0x199) * -0.5);
    }
    if (DAT_005de234 == 0) {
      if (DAT_005de640 != 0) {
        DAT_004d77dc = 1;
        piVar10 = (int *)((int)param_1 + 4);
        param_1 = fVar3 - (float)DAT_005de640 * _DAT_004c53ac * 0.1;
        bVar5 = param_1 < -0.7;
        if (*(int *)(*(int *)(*piVar10 + 0x98) + 0x10) != 4) goto LAB_0040b458;
        goto LAB_0040b2c3;
      }
    }
    else {
      piVar10 = (int *)((int)param_1 + 4);
      param_1 = fVar3 - (float)DAT_005de234 * 0.005;
      bVar5 = param_1 < -0.7;
      if (*(int *)(*(int *)(*piVar10 + 0x98) + 0x10) == 4) {
        if (!bVar5) goto LAB_0040b466;
        param_1 = -0.7;
        fVar3 = param_1;
      }
      else {
LAB_0040b2c3:
        if (!bVar5) goto LAB_0040b466;
        param_1 = -0.7;
        fVar3 = param_1;
      }
    }
  }
LAB_0040b4e3:
  param_1 = fVar3;
  uVar8 = *(uint *)(iVar2 + 0x8a) & 0x4000;
  if ((uVar8 == 0) && ((*(byte *)(iVar2 + 0x8e) & 0x40) == 0)) {
    if ((DAT_004c53a8 != 0) || ((*(byte *)(*(int *)(iVar4 + 4) + 0x8a) & 2) != 0)) {
      fVar9 = (float10)FUN_004ae160((double)param_1,0x60000000,&DAT_40191eb8);
      if ((float10)-3.14159 <= fVar9) {
        fVar9 = fVar9 * (float10)0.9;
      }
      else {
        fVar9 = (fVar9 - (float10)-6.28) * (float10)0.9 - (float10)6.28;
      }
      param_1 = (float)fVar9;
    }
    if (((*(int *)(*(int *)(*(int *)(iVar4 + 4) + 0x98) + 0x10) != 4) || ((param_2 & 0x40) == 0)) ||
       ((param_2 & 0xc) == 0)) {
      fVar9 = (float10)FUN_004ae160((double)(float)piVar12,0x60000000,&DAT_40191eb8);
      if ((float10)-3.14159 <= fVar9) {
        piVar12 = (int *)(float)(fVar9 * (float10)0.9);
      }
      else {
        piVar12 = (int *)(float)((fVar9 - (float10)-6.28) * (float10)0.9 - (float10)6.28);
      }
    }
  }
  else {
    if (uVar8 == 0) {
      fVar3 = 6.28;
      fVar11 = 2.0;
    }
    else {
      fVar3 = 3.14;
      fVar11 = 1.0;
    }
    if (-fVar3 <= param_1) {
      param_1 = param_1 - fVar11 * 0.1;
    }
    if ((uVar8 != 0) && ((float)piVar12 < 3.14)) {
      piVar12 = (int *)((float)piVar12 - -0.09999999);
    }
    if ((param_1 < -fVar3) && ((3.14 <= (float)piVar12 || ((*(byte *)(iVar2 + 0x8e) & 0x40) != 0))))
    {
      param_1 = 0.0;
      piVar12 = (int *)0x0;
      if (uVar8 != 0) {
        *(float *)(*(int *)(iVar4 + 4) + 6) = -*(float *)(*(int *)(iVar4 + 4) + 6);
        *(float *)(*(int *)(iVar4 + 4) + 0xe) = -*(float *)(*(int *)(iVar4 + 4) + 0xe);
        *(float *)(*(int *)(iVar4 + 4) + 0x26) = -*(float *)(*(int *)(iVar4 + 4) + 0x26);
        *(float *)(*(int *)(iVar4 + 4) + 0x2e) = -*(float *)(*(int *)(iVar4 + 4) + 0x2e);
      }
      *(ushort *)(iVar2 + 0x8e) = *(ushort *)(iVar2 + 0x8e) & 0xffbf;
      *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xffffbfff;
    }
  }
  piVar10 = piVar12;
  FUN_0040bee0(iVar2 + 0x46,param_1,0);
  if (DAT_00598e18 != 0) goto LAB_0040b77b;
  iVar7 = *(int *)(*piVar10 + 0x10);
  if ((iVar7 == 4) && ((DAT_00598d6c == 0 || ((param_2 & 0x20) != 0)))) {
    bVar1 = *(byte *)(*(int *)(iVar4 + 4) + 0x8f);
joined_r0x0040b74c:
    if ((bVar1 & 1) != 0) goto LAB_0040b77b;
  }
  else {
    if ((iVar7 == 5) && ((DAT_00598d6c == 0 || ((param_2 & 0x20) != 0)))) {
      bVar1 = *(byte *)(*(int *)(iVar4 + 4) + 0x8f);
      goto joined_r0x0040b74c;
    }
    iVar4 = *(int *)(iVar4 + 4);
    if ((*(int *)(*(int *)(*(int *)(iVar4 + 0x86) + 0x13) + 0x114) == 6) &&
       (*(char *)(iVar4 + 4) == '\x03')) goto LAB_0040b77b;
    if (iVar7 == 8) {
      bVar1 = *(byte *)(iVar4 + 0x8f);
      goto joined_r0x0040b74c;
    }
    if ((*(uint *)(iVar2 + 0x8a) & 0x100000) == 0) goto LAB_0040b77b;
  }
  FUN_004083b0();
LAB_0040b77b:
  *(float *)(iVar2 + 0xdf) = param_1;
  *(int **)(iVar2 + 0x9c) = piVar12;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0040b7a0(int param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float10 fVar5;
  float fVar6;
  undefined4 uVar7;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
  if ((*(int *)(iVar1 + 0x9c) != 0) || (*(int *)(iVar1 + 0x199) != 0)) {
    fVar6 = _DAT_004c53b4 * *(float *)(iVar1 + 0x9c);
    *(float *)(iVar1 + 0x9c) = fVar6;
    fVar5 = (float10)FUN_004ad3c0((double)fVar6);
    if (fVar5 < (float10)0.009999999776482582) {
LAB_0040b824:
      *(undefined4 *)(iVar1 + 0x9c) = 0;
    }
    else {
      fVar5 = (float10)FUN_004ad3c0((double)*(float *)(iVar1 + 0x9c));
      if ((float10)0.699999988079071 < fVar5) goto LAB_0040b824;
    }
    *(float *)(iVar1 + 0x9c) = *(float *)(iVar1 + 0x9c) - *(float *)(iVar1 + 0x199) * -1.62;
  }
  if (((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0) &&
     ((DAT_005de238 != 0 || (DAT_005de644 != 0)))) {
    fVar6 = *(float *)(iVar1 + 0xac) * *(float *)(iVar1 + 0xac) +
            *(float *)(iVar1 + 0xa4) * *(float *)(iVar1 + 0xa4);
    if (DAT_005de238 == 0) {
      fVar3 = (float)DAT_005de644 * -0.0002;
      *(float *)(iVar1 + 0x199) = fVar3;
      fVar6 = (fVar6 * 0.1666667 - -1.0) * _DAT_004cd11c;
    }
    else {
      fVar3 = (float)DAT_005de238 * -0.005;
      *(float *)(iVar1 + 0x199) = fVar3;
      fVar6 = (fVar6 * 0.1666667 - -1.0) * _DAT_004cd118;
    }
    *(float *)(iVar1 + 0x199) = fVar6 * fVar3;
    FUN_004081f0(iVar1,1);
    goto LAB_0040b9f2;
  }
  if ((param_2 & 0xc) == 0) {
    *(undefined4 *)(iVar1 + 0x199) = 0;
    goto LAB_0040b9f2;
  }
  fVar5 = (float10)FUN_0040c180(param_1,*(int *)(param_1 + 4) + 0xa4);
  fVar6 = (float)fVar5;
  if ((param_2 & 4) == 0) {
    if ((param_2 & 8) != 0) goto LAB_0040b97d;
  }
  else {
    if ((param_2 & 8) == 0) {
      if (*(float *)(iVar1 + 0x199) < 0.0) {
        *(undefined4 *)(iVar1 + 0x199) = 0;
      }
      fVar3 = *(float *)(iVar1 + 0x199) - -0.02;
      if (fVar6 <= fVar3) {
        *(float *)(iVar1 + 0x199) = fVar6;
        FUN_004081f0(iVar1,1);
        goto LAB_0040b9f2;
      }
    }
    else {
LAB_0040b97d:
      if ((param_2 & 4) != 0) goto LAB_0040b9db;
      if (0.0 < *(float *)(iVar1 + 0x199)) {
        *(undefined4 *)(iVar1 + 0x199) = 0;
      }
      fVar4 = *(float *)(iVar1 + 0x199) - 0.02;
      fVar3 = -fVar6;
      if (fVar3 < fVar4) {
        *(float *)(iVar1 + 0x199) = fVar4;
        FUN_004081f0(iVar1,1);
        goto LAB_0040b9f2;
      }
    }
    *(float *)(iVar1 + 0x199) = fVar3;
  }
LAB_0040b9db:
  FUN_004081f0(iVar1,1);
LAB_0040b9f2:
  if (((param_2 & 0x40) == 0) || (DAT_00598d6c == 0)) {
    if (((param_2 & 1) != 0) && (DAT_00598e18 == 0)) {
      if ((DAT_00598d6c == 0) || (*(float *)(iVar2 + 0x73) != 0.0)) {
        fVar6 = -*(float *)(*(int *)(iVar1 + 0x98) + 8);
      }
      else {
        fVar6 = -0.1;
      }
      FUN_004083b0(iVar1,fVar6);
    }
    if (((param_2 & 2) != 0) && (DAT_00598e18 == 0)) {
      if ((DAT_00598d6c == 0) || (*(float *)(*(int *)(iVar1 + 0x98) + 8) != 0.0)) {
        uVar7 = *(undefined4 *)(*(int *)(iVar1 + 0x98) + 8);
      }
      else {
        uVar7 = 0x3dcccccd;
      }
      FUN_004083b0(iVar1,uVar7);
    }
    if (DAT_00598e18 != 0) {
      *(undefined4 *)(iVar1 + 0xa4) = 0;
      *(undefined4 *)(iVar1 + 0xac) = 0;
    }
  }
  else {
    if ((param_2 & 1) != 0) {
      *(float *)(iVar1 + 0x3a) = *(float *)(iVar1 + 0x3a) - -1.0;
    }
    if ((param_2 & 2) != 0) {
      *(float *)(iVar1 + 0x3a) = *(float *)(iVar1 + 0x3a) - 1.0;
      return;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0040bae0(int param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  uint uVar6;
  float10 fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
  if (((((param_2 & 0x40) == 0) || (iVar3 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10), iVar3 == 2)) ||
      (iVar3 == 7)) || (iVar3 == 3)) {
    if (((param_2 & 0x100) != 0) && (DAT_00598e18 == 0)) {
      DAT_005de380 = 1;
      FUN_004083b0(iVar1,*(undefined4 *)(*(int *)(iVar1 + 0x98) + 8),1);
    }
    if (((param_2 & 0x200) != 0) && (DAT_00598e18 == 0)) {
      DAT_005de380 = 1;
      FUN_004083b0(iVar1,*(undefined4 *)(*(int *)(iVar1 + 0x98) + 8),0xffffffff);
    }
    if (DAT_00598e18 != 0) {
      *(undefined4 *)(iVar1 + 0xa4) = 0;
      *(undefined4 *)(iVar1 + 0xac) = 0;
    }
    if (((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0) &&
       ((DAT_005de238 != 0 || (DAT_005de644 != 0)))) {
      fVar8 = (*(float *)(iVar1 + 0xac) * *(float *)(iVar1 + 0xac) +
              *(float *)(iVar1 + 0xa4) * *(float *)(iVar1 + 0xa4)) * 0.1666667 - -1.0;
      if (DAT_005de238 == 0) {
        fVar4 = (float)DAT_005de644;
        *(float *)(iVar1 + 0x199) = fVar4 * -0.0002;
        *(float *)(iVar1 + 0x199) = fVar8 * _DAT_004cd11c * fVar4 * -0.0002;
      }
      else {
        fVar4 = (float)DAT_005de238;
        *(float *)(iVar1 + 0x199) = fVar4 * -0.005;
        *(float *)(iVar1 + 0x199) = fVar8 * _DAT_004cd118 * fVar4 * -0.005;
      }
      goto LAB_0040bdb5;
    }
    uVar6 = param_2 & 4;
    if ((uVar6 == 0) && ((param_2 & 8) == 0)) {
      *(undefined4 *)(iVar1 + 0x199) = 0;
      goto LAB_0040bdc5;
    }
    fVar7 = (float10)FUN_0040c180(param_1,*(int *)(param_1 + 4) + 0xa4);
    fVar8 = (float)fVar7;
    if (uVar6 == 0) {
      if ((param_2 & 8) == 0) goto LAB_0040bdb5;
LAB_0040bd66:
      if (uVar6 == 0) {
        if (0.0 < *(float *)(iVar1 + 0x199)) {
          *(undefined4 *)(iVar1 + 0x199) = 0;
        }
        fVar5 = *(float *)(iVar1 + 0x199) - 0.02;
        fVar4 = -fVar8;
        if (fVar5 <= fVar4) goto LAB_0040bdaf;
        *(float *)(iVar1 + 0x199) = fVar5;
      }
    }
    else {
      if ((param_2 & 8) != 0) goto LAB_0040bd66;
      if (*(float *)(iVar1 + 0x199) < 0.0) {
        *(undefined4 *)(iVar1 + 0x199) = 0;
      }
      fVar4 = *(float *)(iVar1 + 0x199) - -0.02;
      if (fVar8 <= fVar4) {
        *(float *)(iVar1 + 0x199) = fVar8;
        goto LAB_0040bdb5;
      }
LAB_0040bdaf:
      *(float *)(iVar1 + 0x199) = fVar4;
    }
LAB_0040bdb5:
    FUN_004081f0(iVar1,1);
    goto LAB_0040bdc5;
  }
  if (((param_2 & 4) != 0) && (DAT_00598e18 == 0)) {
    DAT_005de380 = 1;
    FUN_004083b0(iVar1,*(undefined4 *)(*(int *)(iVar1 + 0x98) + 8),1);
    _DAT_004cba40 = 1;
  }
  if ((param_2 & 8) == 0) {
LAB_0040bba9:
    if (DAT_00598e18 == 0) goto LAB_0040bdc5;
  }
  else if (DAT_00598e18 == 0) {
    DAT_005de380 = 1;
    FUN_004083b0(iVar1,*(undefined4 *)(*(int *)(iVar1 + 0x98) + 8),0xffffffff);
    _DAT_004cba40 = 1;
    goto LAB_0040bba9;
  }
  *(undefined4 *)(iVar1 + 0xa4) = 0;
  *(undefined4 *)(iVar1 + 0xac) = 0;
LAB_0040bdc5:
  if (((param_2 & 0x40) == 0) || (DAT_00598d6c == 0)) {
    if ((*(char *)(iVar1 + 0x189) == '\0') && (*(char *)(iVar1 + 4) == '\x04')) {
      *(undefined4 *)(iVar1 + 0xa4) = 0;
      *(undefined4 *)(iVar1 + 0xac) = 0;
      return;
    }
    if (DAT_00598e18 != 0) {
      *(undefined4 *)(iVar1 + 0xa4) = 0;
      *(undefined4 *)(iVar1 + 0xac) = 0;
      return;
    }
    if ((param_2 & 1) != 0) {
      if ((DAT_00598d6c == 0) || (*(float *)(iVar2 + 0x73) != 0.0)) {
        fVar8 = -*(float *)(*(int *)(iVar1 + 0x98) + 8);
      }
      else {
        fVar8 = -0.1;
      }
      FUN_004083b0(iVar1,fVar8,0);
    }
    if (((param_2 & 2) != 0) && (DAT_00598e18 == 0)) {
      if ((DAT_00598d6c != 0) && (*(float *)(*(int *)(iVar1 + 0x98) + 8) == 0.0)) {
        FUN_004083b0(iVar1,0x3dcccccd,0);
        return;
      }
      FUN_004083b0(iVar1,*(undefined4 *)(*(int *)(iVar1 + 0x98) + 8),0);
    }
  }
  else {
    if ((param_2 & 1) != 0) {
      *(float *)(iVar1 + 0x3a) = *(float *)(iVar1 + 0x3a) - -1.0;
    }
    if ((param_2 & 2) != 0) {
      *(float *)(iVar1 + 0x3a) = *(float *)(iVar1 + 0x3a) - 1.0;
      return;
    }
  }
  return;
}



void FUN_0040bee0(undefined4 param_1,float param_2,float param_3,float param_4)

{
  undefined4 uVar1;
  float fVar2;
  float10 fVar3;
  float10 fVar4;
  float10 fVar5;
  float10 fVar6;
  float local_d8;
  float local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  float local_c8;
  float local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  float local_84;
  float local_80;
  undefined4 local_7c;
  undefined4 local_78;
  float local_74;
  float local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  float local_58;
  undefined4 local_54;
  float local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  float local_38;
  undefined4 local_34;
  float local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined8 local_18;
  float *local_10;
  undefined4 uVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  uVar7 = (undefined4)((ulonglong)(double)param_2 >> 0x20);
  uVar1 = SUB84((double)param_2,0);
  local_98 = 0x3f800000;
  local_94 = 0;
  local_90 = 0;
  local_8c = 0;
  local_88 = 0;
  local_84 = 1.0;
  local_80 = 0.0;
  local_7c = 0;
  local_78 = 0;
  local_74 = 0.0;
  local_70 = 1.0;
  local_6c = 0;
  local_68 = 0;
  local_64 = 0;
  local_60 = 0;
  local_5c = 0x3f800000;
  local_58 = 1.0;
  local_54 = 0;
  local_50 = 0.0;
  local_4c = 0;
  local_48 = 0;
  local_44 = 0x3f800000;
  local_40 = 0;
  local_3c = 0;
  local_38 = 0.0;
  local_34 = 0;
  local_30 = 1.0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0x3f800000;
  local_d8 = 1.0;
  local_d4 = 0.0;
  local_d0 = 0;
  local_cc = 0;
  local_c8 = 0.0;
  local_c4 = 1.0;
  local_c0 = 0;
  local_bc = 0;
  local_b8 = 0;
  local_b4 = 0;
  local_b0 = 0x3f800000;
  local_ac = 0;
  local_a8 = 0;
  local_a4 = 0;
  local_a0 = 0;
  local_9c = 0x3f800000;
  local_18 = CONCAT44(uVar1,0x40c091);
  local_10 = (float *)uVar7;
  fVar3 = (float10)FUN_004ae0c4();
  local_18 = CONCAT44(uVar1,0x40c09e);
  local_10 = (float *)uVar7;
  FUN_004ae014();
  uVar7 = (undefined4)((ulonglong)(double)param_3 >> 0x20);
  uVar1 = SUB84((double)param_3,0);
  local_18 = CONCAT44(uVar1,0x40c0b7);
  local_10 = (float *)uVar7;
  fVar4 = (float10)FUN_004ae0c4();
  local_18 = CONCAT44(uVar1,0x40c0c4);
  local_10 = (float *)uVar7;
  fVar5 = (float10)FUN_004ae014();
  fVar8 = (float)fVar5;
  local_18._4_4_ = (float)((ulonglong)(double)param_4 >> 0x20);
  fVar2 = local_18._4_4_;
  local_10 = (float *)local_18._4_4_;
  uVar1 = SUB84((double)param_4,0);
  local_18 = CONCAT44(uVar1,0x40c0dd);
  fVar5 = (float10)FUN_004ae0c4();
  local_10 = (float *)fVar2;
  local_18 = CONCAT44(uVar1,0x40c0ea);
  fVar6 = (float10)FUN_004ae014();
  local_38 = fVar8;
  local_80 = -(float)local_10;
  local_50 = -local_38;
  local_74 = (float)local_10;
  local_d4 = (float)-fVar6;
  local_10 = &local_58;
  local_c8 = (float)fVar6;
  local_18 = CONCAT44(&local_98,&local_58);
  local_1c = 0x40c154;
  local_d8 = (float)fVar5;
  local_c4 = (float)fVar5;
  local_84 = (float)fVar3;
  local_70 = (float)fVar3;
  local_58 = (float)fVar4;
  local_30 = (float)fVar4;
  MultiplyMatrices();
  local_10 = &local_58;
  local_18 = CONCAT44(&local_d8,param_1);
  local_1c = 0x40c16b;
  MultiplyMatrices();
  return;
}



float10 FUN_0040c180(int param_1,float *param_2)

{
  float fVar1;
  float *pfVar2;
  float fVar3;
  float10 fVar4;
  
  pfVar2 = *(float **)(*(int *)(param_1 + 4) + 0x98);
  fVar1 = *pfVar2;
  fVar3 = *param_2 * *param_2 + param_2[2] * param_2[2];
  if (*pfVar2 * *pfVar2 <= fVar3) {
    return (float10)0.12;
  }
  fVar4 = (float10)FUN_004ad534((double)fVar3);
  return ((float10)*pfVar2 - fVar4) * (float10)(0.03000001 / fVar1) - (float10)-0.12;
}



undefined4 FUN_0040c200(undefined4 param_1,int **param_2,int **param_3)

{
  byte bVar1;
  undefined4 uVar2;
  char cVar3;
  HRSRC hResInfo;
  HGLOBAL hResData;
  size_t sVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  undefined4 *puVar9;
  void *pvVar10;
  uint uVar11;
  uint unaff_EBX;
  int *piVar12;
  undefined2 *puVar13;
  int **ppiVar14;
  undefined4 *puVar15;
  undefined4 local_b4 [16];
  undefined2 local_74 [16];
  undefined4 local_54;
  int *local_50;
  int **local_4c;
  int local_48;
  int local_44;
  short local_3e;
  int local_3c;
  int **local_38;
  int local_34;
  int local_30;
  undefined local_29;
  int *local_28;
  int **local_24;
  int *local_20;
  size_t sVar16;
  undefined *puVar17;
  undefined *puVar18;
  undefined2 uVar19;
  
  AdjustStackForLargeAllocations();
  local_44 = -1;
  local_48 = -1;
  if (DAT_004d77ec == (LPVOID)0x0) {
    local_20 = (int *)0x40c232;
    hResInfo = FindResourceA((HMODULE)0x0,&DAT_004c542c,(LPCSTR)0xa);
    if ((hResInfo != (HRSRC)0x0) &&
       (hResData = LoadResource((HMODULE)0x0,hResInfo), hResData != (HGLOBAL)0x0)) {
      local_54 = 0;
      DAT_004d77ec = LockResource(hResData);
      local_20 = (int *)0x4;
      local_24 = (int **)&DAT_004d77f0;
      local_28 = (int *)0x40c264;
      FUN_00441d30();
      DAT_004d77ec = (LPVOID)((int)DAT_004d77ec + 4);
    }
  }
  sVar4 = FUN_00441a80();
  if (sVar4 == 0) {
    return 0;
  }
  local_38 = param_2 + 0x10;
  sVar16 = sVar4 + *(int *)(sVar4 + 0x2a);
  iVar5 = 0;
  do {
    *(byte *)((int)local_38 + iVar5) = *(byte *)(iVar5 + 4 + sVar16);
    iVar5 = iVar5 + 1;
  } while (iVar5 < 7);
  piVar12 = (int *)((int)param_2 + 0x57);
  iVar5 = 0;
  *(float *)((int)param_2 + 0x47) = (float)(uint)*(byte *)(sVar16 + 0xb) * 0.003921569;
  *(float *)((int)param_2 + 0x4b) = (float)(uint)*(byte *)(sVar16 + 0xc) * 0.003921569;
  bVar1 = *(byte *)(sVar16 + 0xd);
  *(undefined4 *)((int)param_2 + 0x53) = 0x3f800000;
  local_50 = (int *)((int)param_2 + 0x5b);
  local_4c = (int **)((int)param_2 + 99);
  *piVar12 = 0;
  *(float *)((int)param_2 + 0x4f) = (float)(uint)bVar1 * 0.003921569;
  local_28 = piVar12;
  local_24 = local_4c;
  if (*(char *)(sVar16 + 0xe) != '\0') {
    do {
      local_24 = (int **)&local_3e;
      local_20 = (int *)0x2;
      local_28 = (int *)0x40c33d;
      FUN_00441d30();
      local_20 = (int *)(int)local_3e;
      local_24 = (int **)0x40c353;
      sVar16 = sVar4;
      iVar6 = FUN_004aa8d0();
      *local_20 = iVar6;
      if (iVar6 == 0) {
        return 0;
      }
      if (local_3e == *(short *)(sVar16 + 0x12)) {
        *(int *)((int)param_2 + 0x5f) = iVar6;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < (int)(uint)*(byte *)(sVar16 + 0xe));
  }
  iVar5 = 0;
  ppiVar14 = local_24;
  if (*(char *)(sVar16 + 0xf) != '\0') {
    do {
      local_24 = (int **)&stack0xffffffe4;
      local_20 = (int *)0x1;
      local_28 = (int *)0x40c3b4;
      FUN_00441d30();
      sVar16 = 0x40;
      iVar6 = 0;
      local_20 = (int *)0x40c3c2;
      piVar7 = (int *)AllocateMemoryWithCallback();
      local_20 = (int *)0x40c3cb;
      piVar8 = (int *)_memset(piVar7,iVar6,sVar16);
      *ppiVar14 = piVar8;
      if (piVar8 == (int *)0x0) {
        return 0;
      }
      *piVar8 = (int)(char)piVar7;
      (*ppiVar14)[0xf] = 0;
      iVar5 = iVar5 + 1;
      ppiVar14 = (int **)(*ppiVar14 + 0xf);
    } while (iVar5 < (int)(uint)*(byte *)(sVar16 + 0xf));
  }
  iVar5 = 0;
  if ((uint)*(byte *)(sVar16 + 0x11) + (uint)*(byte *)(sVar16 + 0x10) != 0) {
    do {
      local_24 = (int **)&stack0xffffffe4;
      piVar7 = (int *)0x1;
      local_20 = (int *)0x1;
      local_28 = (int *)0x40c431;
      FUN_00441d30();
      cVar3 = (char)piVar7;
      if (cVar3 < '\0') {
        if (cVar3 != -1) break;
        puVar17 = &stack0xfffffff4;
        local_20 = (int *)0x40c772;
        iVar6 = FUN_0040e070();
        *piVar12 = iVar6;
      }
      else {
        puVar17 = (undefined *)(&DAT_004d77f8)[cVar3];
        if (puVar17 == (undefined *)0x0) {
          local_24 = param_2;
          local_28 = (int *)0x40c627;
          local_20 = piVar7;
          piVar7 = (int *)param_3;
          iVar6 = FUN_0040d1f0();
          *piVar12 = iVar6;
          cVar3 = (char)piVar7;
          *(char *)(iVar6 + 0x30) = cVar3;
          puVar17 = (undefined *)*piVar12;
          FUN_0040f280();
          if (param_3 == (int **)0x0) {
            if (((((cVar3 == '\x04') || (cVar3 == '\n')) || (cVar3 == '\x02')) ||
                ((cVar3 == '\b' || (cVar3 == '\x01')))) || ((cVar3 == '\x03' || (cVar3 == '\t')))) {
              **(undefined4 **)(*piVar12 + 0x33) = *(undefined4 *)((int)param_2 + 0x47);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = *(undefined4 *)((int)param_2 + 0x4b);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = *(undefined4 *)((int)param_2 + 0x4f);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
            }
            else {
              **(undefined4 **)(*piVar12 + 0x33) = 0x3efa0000;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0x3d20a0a1;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0x3f39b9ba;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
            }
          }
          if (cVar3 == '\x03') {
            local_20 = (int *)0xf;
            local_24 = param_2;
            piVar12 = (int *)(*piVar12 + 0x58);
            local_28 = (int *)0x40c6e3;
            local_44 = iVar5;
            iVar6 = FUN_0040d1f0();
            *piVar12 = iVar6;
            *(undefined *)(iVar6 + 0x30) = 0xf;
          }
          else {
            if (cVar3 != '\t') goto LAB_0040c751;
            local_20 = (int *)0x10;
            local_24 = param_2;
            piVar12 = (int *)(*piVar12 + 0x58);
            local_28 = (int *)0x40c70e;
            local_48 = iVar5;
            iVar6 = FUN_0040d1f0();
            *piVar12 = iVar6;
            *(undefined *)(iVar6 + 0x30) = 0x10;
          }
          puVar17 = (undefined *)*piVar12;
          FUN_0040f280();
          puVar9 = *(undefined4 **)(*piVar12 + 0x33);
LAB_0040c727:
          *puVar9 = 0;
          *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0x3e48c8c9;
          *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0;
LAB_0040c745:
          *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
        }
        else {
          iVar6 = FUN_0040f110();
          *piVar12 = iVar6;
          cVar3 = (char)piVar7;
          if (param_3 == (int **)0x0) {
            if (((cVar3 == '\x04') || (cVar3 == '\n')) ||
               ((((cVar3 == '\x02' || ((cVar3 == '\b' || (cVar3 == '\x01')))) || (cVar3 == '\x03'))
                || (cVar3 == '\t')))) {
              **(undefined4 **)(iVar6 + 0x33) = *(undefined4 *)((int)param_2 + 0x47);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = *(undefined4 *)((int)param_2 + 0x4b);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = *(undefined4 *)((int)param_2 + 0x4f);
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
            }
            else {
              **(undefined4 **)(iVar6 + 0x33) = 0x3efa0000;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0x3d20a0a1;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0x3f39b9ba;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
            }
          }
          else if (((cVar3 == '\x01') || (cVar3 == '\b')) ||
                  ((cVar3 == '\x02' || ((cVar3 == '\x05' || (cVar3 == '\v')))))) {
            **(undefined4 **)(iVar6 + 0x33) = *(undefined4 *)((int)param_2 + 0x47);
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = *(undefined4 *)((int)param_2 + 0x4b);
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = *(undefined4 *)((int)param_2 + 0x4f);
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
          }
          else if ((((cVar3 == '\f') || (cVar3 == '\x06')) || (cVar3 == '\x03')) || (cVar3 == '\t'))
          {
            **(undefined4 **)(iVar6 + 0x33) = 0;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
          }
          if (cVar3 == '\x03') {
            piVar12 = (int *)(*piVar12 + 0x58);
            local_44 = iVar5;
            puVar17 = DAT_004d7834;
            iVar6 = FUN_0040f110();
            *piVar12 = iVar6;
            if (param_3 != (int **)0x0) {
LAB_0040c5f8:
              **(undefined4 **)(iVar6 + 0x33) = 0x3e19999a;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0x3e19999a;
              *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0x3e19999a;
              goto LAB_0040c745;
            }
            **(undefined4 **)(iVar6 + 0x33) = 0;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 4) = 0x3e48c8c9;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 8) = 0;
            *(undefined4 *)(*(int *)(*piVar12 + 0x33) + 0xc) = 0x3e4ccccd;
          }
          else if (cVar3 == '\t') {
            piVar12 = (int *)(*piVar12 + 0x58);
            local_48 = iVar5;
            puVar17 = DAT_004d7838;
            iVar6 = FUN_0040f110();
            *piVar12 = iVar6;
            if (param_3 == (int **)0x0) {
              puVar9 = *(undefined4 **)(iVar6 + 0x33);
              goto LAB_0040c727;
            }
            goto LAB_0040c5f8;
          }
        }
LAB_0040c751:
        iVar6 = *piVar12;
      }
      if (iVar6 == 0) {
        return 0;
      }
      piVar12 = (int *)(iVar6 + 0x58);
      iVar5 = iVar5 + 1;
    } while (iVar5 < (int)((uint)(byte)puVar17[0x11] + (uint)(byte)puVar17[0x10]));
  }
  piVar12 = *local_4c;
  ppiVar14 = local_4c;
  param_3 = local_38;
  while (piVar12 != (int *)0x0) {
    iVar5 = 0x20;
    local_38 = param_3;
    do {
      if (*(byte *)param_3 != 0) {
        sVar16 = (uint)*(byte *)param_3 << 6;
        iVar6 = 0;
        local_20 = (int *)0x40c7d0;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c7d9;
        pvVar10 = _memset(pvVar10,iVar6,sVar16);
        *(void **)((int)*ppiVar14 + iVar5 + -0x1c) = pvVar10;
        uVar11 = (uint)*(byte *)param_3;
        iVar6 = 0;
        local_20 = (int *)0x40c7f2;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c7fb;
        pvVar10 = _memset(pvVar10,iVar6,uVar11);
        *(void **)((int)*ppiVar14 + iVar5) = pvVar10;
      }
      iVar5 = iVar5 + 4;
      param_3 = (int **)((int)param_3 + 1);
    } while (iVar5 < 0x3c);
    ppiVar14 = (int **)(*ppiVar14 + 0xf);
    param_3 = local_38;
    piVar12 = *ppiVar14;
  }
  iVar5 = *local_50;
  local_20 = local_50;
  while (iVar5 != 0) {
    iVar5 = 0;
    local_38 = param_3;
    do {
      if (*(byte *)param_3 != 0) {
        sVar16 = (uint)*(byte *)param_3 << 5;
        iVar6 = 0;
        local_20 = (int *)0x40c843;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c84c;
        pvVar10 = _memset(pvVar10,iVar6,sVar16);
        *(void **)(*local_20 + 0x10c + iVar5) = pvVar10;
        uVar11 = (uint)*(byte *)param_3;
        iVar6 = 0;
        local_20 = (int *)0x40c868;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c871;
        pvVar10 = _memset(pvVar10,iVar6,uVar11);
        *(void **)(*local_20 + 0x135 + iVar5) = pvVar10;
      }
      iVar5 = iVar5 + 4;
      param_3 = (int **)((int)param_3 + 1);
    } while (iVar5 < 0x1c);
    local_20 = (int *)(*local_20 + 0x74);
    param_3 = local_38;
    iVar5 = *local_20;
  }
  iVar5 = *local_28;
  piVar12 = local_28;
  while (local_38 = param_3, iVar5 != 0) {
    iVar5 = 0x38;
    do {
      if (*(byte *)param_3 != 0) {
        sVar16 = (uint)*(byte *)param_3 << 5;
        iVar6 = 0;
        local_20 = (int *)0x40c8c3;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c8cc;
        pvVar10 = _memset(pvVar10,iVar6,sVar16);
        *(void **)(*piVar12 + -0x24 + iVar5) = pvVar10;
        uVar11 = (uint)*(byte *)param_3;
        iVar6 = 0;
        local_20 = (int *)0x40c8e5;
        pvVar10 = (void *)AllocateMemoryWithCallback();
        local_20 = (int *)0x40c8ee;
        pvVar10 = _memset(pvVar10,iVar6,uVar11);
        *(void **)(*piVar12 + iVar5) = pvVar10;
      }
      iVar5 = iVar5 + 4;
      param_3 = (int **)((int)param_3 + 1);
    } while (iVar5 < 0x54);
    piVar12 = (int *)(*piVar12 + 0x58);
    param_3 = local_38;
    iVar5 = *piVar12;
  }
  puVar17 = (undefined *)0x0;
  do {
    local_30 = 0;
    if (*(byte *)((int)local_38 + (int)puVar17) != 0) {
      local_3c = 0;
      do {
        local_24 = local_4c;
        if (*local_4c != (int *)0x0) {
          iVar5 = local_30 * 0x40;
          do {
            puVar17 = &stack0xfffffff4;
            local_24 = (int **)&local_29;
            local_20 = (int *)0x1;
            local_28 = (int *)0x40c95c;
            FUN_00441d30();
            *(undefined *)(*(int *)((int)*local_24 + 0x20 + (int)puVar17 * 4) + local_30) = local_29
            ;
            puVar18 = &stack0xfffffff4;
            puVar9 = &DAT_004d1ae0;
            puVar15 = (undefined4 *)(*(int *)((int)*local_24 + 4 + (int)puVar17 * 4) + iVar5);
            for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
              *puVar15 = *puVar9;
              puVar9 = puVar9 + 1;
              puVar15 = puVar15 + 1;
            }
            local_24 = (int **)&local_34;
            local_20 = (int *)0x4;
            local_28 = (int *)0x40c99d;
            FUN_00441d30();
            piVar12 = (int *)local_24;
            *(int *)(*(int *)((int)*local_24 + 4 + (int)puVar18 * 4) + 0x30 + iVar5) = local_34;
            local_24 = (int **)&local_34;
            local_20 = (int *)0x4;
            local_28 = (int *)0x40c9c8;
            FUN_00441d30();
            puVar17 = &stack0xfffffff4;
            *(int *)(*(int *)(*piVar12 + 4 + (int)puVar18 * 4) + 0x34 + iVar5) = local_34;
            local_24 = (int **)&local_34;
            local_20 = (int *)0x4;
            local_28 = (int *)0x40c9ed;
            FUN_00441d30();
            *(int *)(*(int *)(*piVar12 + 4 + (int)puVar18 * 4) + 0x38 + iVar5) = local_34;
            local_24 = (int **)(*piVar12 + 0x3c);
          } while (*local_24 != (int *)0x0);
        }
        iVar5 = *local_50;
        local_20 = local_50;
        while (iVar5 != 0) {
          param_3 = (int **)0x4;
          puVar13 = local_74 + 1;
          puVar9 = local_b4;
          do {
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            local_28 = (int *)0x40ca42;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            puVar13[-1] = (short)unaff_EBX;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            *puVar9 = uVar2;
            local_28 = (int *)0x40ca88;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            *puVar13 = (short)unaff_EBX;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            *puVar9 = uVar2;
            uVar19 = (undefined2)unaff_EBX;
            local_28 = (int *)0x40cacd;
            FUN_00441d30();
            uVar11 = unaff_EBX & 0xffff;
            *puVar9 = *(undefined4 *)((int)DAT_004d77ec + uVar11 * 4);
            if (DAT_004d77f0 < uVar11) {
              uVar19 = 0;
              unaff_EBX = 0;
            }
            puVar13[1] = uVar19;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            local_28 = (int *)0x40cb0a;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            puVar13[2] = (short)unaff_EBX;
            *puVar9 = uVar2;
            param_3 = (int **)((int)param_3 + -1);
            puVar13 = puVar13 + 4;
            puVar9 = puVar9 + 4;
          } while (param_3 != (int **)0x0);
          puVar17 = &stack0xfffffff4;
          local_24 = (int **)&stack0xffffffeb;
          local_20 = (int *)0x1;
          local_28 = (int *)0x40cb64;
          sVar16 = sVar4;
          FUN_00441d30();
          piVar12 = local_20;
          if (0 < local_30) {
            *(char *)(*(int *)(*local_20 + 0x135 + (int)puVar17 * 4) + -1 + local_30) =
                 (char)(sVar16 >> 0x18);
          }
          puVar17 = (undefined *)0x20;
          local_20 = (int *)0x40cb9f;
          FUN_004ad7a0();
          local_20 = (int *)(*piVar12 + 0x74);
          iVar5 = *local_20;
        }
        iVar6 = 0;
        iVar5 = *local_28;
        piVar12 = local_28;
        while (iVar5 != 0) {
          puVar9 = local_b4 + 1;
          puVar13 = local_74 + 1;
          do {
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            local_28 = (int *)0x40cbeb;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            puVar13[-1] = (short)unaff_EBX;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            puVar9[-1] = uVar2;
            local_28 = (int *)0x40cc32;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            *puVar13 = (short)unaff_EBX;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            *puVar9 = uVar2;
            local_28 = (int *)0x40cc77;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            puVar13[1] = (short)unaff_EBX;
            local_24 = (int **)&stack0xfffffff8;
            local_20 = (int *)0x2;
            puVar9[1] = uVar2;
            local_28 = (int *)0x40ccbe;
            FUN_00441d30();
            if (DAT_004d77f0 < (unaff_EBX & 0xffff)) {
              unaff_EBX = 0;
            }
            uVar2 = *(undefined4 *)((int)DAT_004d77ec + (unaff_EBX & 0xffff) * 4);
            puVar13[2] = (short)unaff_EBX;
            puVar9[2] = uVar2;
            puVar9 = puVar9 + 4;
            puVar13 = puVar13 + 4;
          } while (local_24 != (int **)0x1);
          puVar17 = &stack0xfffffff4;
          local_24 = (int **)&stack0xffffffeb;
          local_20 = (int *)0x1;
          local_28 = (int *)0x40cd18;
          sVar16 = sVar4;
          FUN_00441d30();
          if (0 < local_30) {
            *(char *)(*(int *)(*piVar12 + 0x38 + (int)puVar17 * 4) + -1 + local_30) =
                 (char)(sVar16 >> 0x18);
          }
          puVar17 = (undefined *)0x20;
          local_20 = (int *)0x40cd55;
          FUN_004ad7a0();
          piVar12 = (int *)(*piVar12 + 0x58);
          if ((iVar6 == local_44) || (iVar6 == local_48)) {
            puVar17 = (undefined *)0x20;
            local_20 = (int *)0x40cd89;
            FUN_004ad7a0();
            piVar12 = (int *)(*piVar12 + 0x58);
          }
          iVar6 = iVar6 + 1;
          iVar5 = *piVar12;
        }
        local_3c = local_3c + 0x20;
        local_30 = local_30 + 1;
      } while (local_30 < (int)(uint)*(byte *)((int)local_38 + (int)puVar17));
    }
    puVar17 = puVar17 + 1;
  } while ((int)puVar17 < 7);
  FUN_004110d0();
  return 1;
}



undefined4 FUN_0040ce00(int param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  uVar1 = *(undefined4 *)(param_1 + 0x13);
  FUN_004ad7a0(uVar1,param_2,0x1ac);
  FUN_004aab50(uVar1,param_2);
  return 1;
}



void FUN_0040ce30(int param_1)

{
  short *psVar1;
  int iVar2;
  size_t sVar3;
  void *pvVar4;
  int iVar5;
  int *piVar6;
  undefined4 *puVar7;
  int iVar8;
  short sVar9;
  undefined4 *puVar10;
  short *psVar11;
  int iVar12;
  int local_818 [509];
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  int iVar13;
  int iVar14;
  
  iVar2 = param_1;
  AdjustStackForLargeAllocations();
  psVar1 = *(short **)(param_1 + 0x57);
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  for (; psVar1 != (short *)0x0; psVar1 = *(short **)(psVar1 + 0x2c)) {
    *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + (int)psVar1[1];
    *(int *)(param_1 + 0xc) = *(int *)(param_1 + 0xc) + (int)*psVar1;
    *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + (int)*(short *)((int)psVar1 + 0x31);
  }
  sVar3 = *(int *)(param_1 + 0xc) << 5;
  iVar13 = 0;
  uStackY_20 = 0x40ce8d;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x40ce96;
  pvVar4 = _memset(pvVar4,iVar13,sVar3);
  *(void **)(param_1 + 0x10) = pvVar4;
  sVar3 = *(int *)(param_1 + 0x18) << 4;
  iVar13 = 0;
  uStackY_20 = 0x40ceaa;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x40ceb3;
  pvVar4 = _memset(pvVar4,iVar13,sVar3);
  *(void **)(param_1 + 0x1c) = pvVar4;
  sVar3 = *(int *)(param_1 + 0x24) << 4;
  iVar13 = 0;
  uStackY_20 = 0x40cec7;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x40ced0;
  pvVar4 = _memset(pvVar4,iVar13,sVar3);
  psVar1 = *(short **)(param_1 + 0x57);
  *(void **)(param_1 + 0x28) = pvVar4;
  iVar13 = 0;
  iVar14 = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  for (; psVar1 != (short *)0x0; psVar1 = *(short **)(psVar1 + 0x2c)) {
    sVar9 = (short)((int)*psVar1 << 5);
    uStackY_20 = 0x40cf0b;
    FUN_004ad7a0();
    if (*(char *)((int)psVar1 + 0x37) != '\0') {
      psVar1[1] = 0;
    }
    if (iVar13 < iVar13 + psVar1[1]) {
      iVar8 = iVar13 * 4;
      iVar12 = iVar13 * 8;
      iVar5 = iVar13 << 4;
      param_1 = iVar13;
      do {
        puVar7 = (undefined4 *)(iVar12 + iVar13 * -8 + *(int *)(psVar1 + 4));
        puVar10 = (undefined4 *)(iVar5 + *(int *)(iVar2 + 0x1c));
        *puVar10 = *puVar7;
        puVar10[1] = puVar7[1];
        psVar11 = (short *)(*(int *)(iVar2 + 0x1c) + iVar5);
        *psVar11 = *psVar11 + sVar9;
        psVar11 = (short *)(iVar5 + 2 + *(int *)(iVar2 + 0x1c));
        *psVar11 = *psVar11 + sVar9;
        psVar11 = (short *)(iVar5 + 4 + *(int *)(iVar2 + 0x1c));
        *psVar11 = *psVar11 + sVar9;
        *(undefined2 *)(iVar5 + 6 + *(int *)(iVar2 + 0x1c)) = 0x700;
        *(undefined4 *)(iVar5 + 8 + *(int *)(iVar2 + 0x1c)) =
             *(undefined4 *)(*(int *)(psVar1 + 6) + iVar8 + iVar13 * -4);
        *(int *)(iVar5 + 0xc + *(int *)(iVar2 + 0x1c)) =
             *(int *)(*(int *)(psVar1 + 8) + iVar8 + iVar13 * -4) + iVar14;
        param_1 = param_1 + 1;
        iVar8 = iVar8 + 4;
        iVar12 = iVar12 + 8;
        iVar5 = iVar5 + 0x10;
      } while (param_1 < iVar13 + psVar1[1]);
    }
    if (iVar14 < iVar14 + *(short *)((int)psVar1 + 0x31)) {
      iVar8 = iVar14 * 0x10;
      param_1 = iVar14;
      do {
        puVar10 = (undefined4 *)(*(int *)((int)psVar1 + 0x33) + iVar8 + iVar14 * -0x10);
        puVar7 = (undefined4 *)(iVar8 + *(int *)(iVar2 + 0x28));
        *puVar7 = *puVar10;
        puVar7[1] = puVar10[1];
        puVar7[2] = puVar10[2];
        param_1 = param_1 + 1;
        puVar7[3] = puVar10[3];
        iVar8 = iVar8 + 0x10;
      } while (param_1 < iVar14 + *(short *)((int)psVar1 + 0x31));
    }
    iVar14 = iVar14 + *(short *)((int)psVar1 + 0x31);
    iVar13 = iVar13 + psVar1[1];
    if (*(int *)(psVar1 + 4) != 0) {
      FreeMemory();
      *(undefined4 *)(psVar1 + 4) = 0;
    }
    if (*(int *)(psVar1 + 8) != 0) {
      FreeMemory();
      *(undefined4 *)(psVar1 + 8) = 0;
    }
    if (*(int *)(psVar1 + 6) != 0) {
      FreeMemory();
      *(undefined4 *)(psVar1 + 6) = 0;
    }
    if (*(int *)(psVar1 + 2) != 0) {
      FreeMemory();
      *(undefined4 *)(psVar1 + 2) = 0;
    }
    if (*(int *)((int)psVar1 + 0x33) != 0) {
      FreeMemory();
      *(undefined4 *)((int)psVar1 + 0x33) = 0;
    }
    *(int *)(iVar2 + 0x20) = *(int *)(iVar2 + 0x20) + 1;
  }
  uStackY_20 = 0x40d119;
  _memset(local_818,0,0x800);
  iVar13 = *(int *)(iVar2 + 0x18);
  *(undefined4 *)(iVar2 + 0x30) = 0;
  if (0 < iVar13) {
    piVar6 = (int *)(*(int *)(iVar2 + 0x1c) + 8);
    do {
      if (local_818[*piVar6 + 1] == 0) {
        *(int *)(iVar2 + 0x30) = *(int *)(iVar2 + 0x30) + 1;
      }
      iVar14 = *piVar6;
      piVar6 = piVar6 + 4;
      iVar13 = iVar13 + -1;
      local_818[iVar14 + 1] = local_818[iVar14 + 1] + 1;
    } while (iVar13 != 0);
  }
  sVar3 = *(int *)(iVar2 + 0x30) << 2;
  iVar13 = 0;
  uStackY_20 = 0x40d168;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x40d171;
  pvVar4 = _memset(pvVar4,iVar13,sVar3);
  *(void **)(iVar2 + 0x2c) = pvVar4;
  iVar13 = 0;
  piVar6 = local_818;
  iVar14 = 0x200;
  do {
    if (*piVar6 != 0) {
      iVar13 = iVar13 + 4;
      *(int *)(*(int *)(iVar2 + 0x2c) + -4 + iVar13) = *piVar6;
    }
    piVar6 = piVar6 + 1;
    iVar14 = iVar14 + -1;
  } while (iVar14 != 0);
  uStackY_20 = *(undefined4 *)(iVar2 + 0x1c);
  uStackY_24 = 0x40d1ae;
  FUN_004ae1a0();
  return;
}



uint FUN_0040d1c0(int param_1,int param_2)

{
  if (*(int *)(param_1 + 8) < *(int *)(param_2 + 8)) {
    return 0xffffffff;
  }
  return (uint)(*(int *)(param_2 + 8) < *(int *)(param_1 + 8));
}



undefined2 * FUN_0040d1f0(int param_1,byte param_2,undefined4 param_3,int param_4,int param_5)

{
  size_t sVar1;
  void *pvVar2;
  void *pvVar3;
  void *_Dst;
  undefined2 *puVar4;
  undefined4 *puVar5;
  uint unaff_EBX;
  uint uVar6;
  int unaff_ESI;
  uint unaff_EDI;
  undefined *puVar7;
  int local_68 [16];
  undefined4 uStackY_28;
  int *local_24;
  undefined4 local_20;
  int iVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  iVar8 = param_5;
  iVar9 = param_4;
  local_24 = local_68;
  uVar6 = 0;
  local_20 = 0x44;
  uStackY_28 = 0x40d220;
  FUN_00441d30();
  local_24 = (int *)&stack0xfffffff8;
  param_5 = local_68[param_2] + iVar8;
  local_20 = 4;
  uStackY_28 = 0x40d261;
  FUN_00441d30();
  sVar1 = unaff_EBX << 5;
  iVar8 = 0;
  local_20 = 0x40d272;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d27b;
  pvVar2 = _memset(pvVar2,iVar8,sVar1);
  local_20 = 0x20;
  uStackY_28 = 0x40d294;
  local_24 = (int *)pvVar2;
  FUN_00441d30();
  local_24 = &param_4;
  local_20 = 4;
  uStackY_28 = 0x40d2a9;
  FUN_00441d30();
  sVar1 = param_4 << 3;
  iVar8 = 0;
  local_20 = 0x40d2ba;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d2c3;
  local_24 = (int *)_memset(pvVar3,iVar8,sVar1);
  local_20 = 8;
  uStackY_28 = 0x40d2da;
  FUN_00441d30();
  local_24 = (int *)&stack0xfffffff4;
  local_20 = 4;
  uStackY_28 = 0x40d2ef;
  FUN_00441d30();
  local_24 = (int *)&stack0xffffffe8;
  local_20 = 4;
  uStackY_28 = 0x40d304;
  FUN_00441d30();
  if (iVar9 != param_4) {
    return (undefined2 *)0x0;
  }
  sVar1 = param_4 << 2;
  iVar9 = 0;
  local_20 = 0x40d325;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d32e;
  local_24 = (int *)_memset(pvVar3,iVar9,sVar1);
  local_20 = 4;
  uStackY_28 = 0x40d345;
  FUN_00441d30();
  sVar1 = unaff_ESI * 0x50;
  iVar9 = 0;
  local_20 = 0x40d359;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d362;
  pvVar3 = _memset(pvVar3,iVar9,sVar1);
  local_20 = 0x50;
  uStackY_28 = 0x40d379;
  local_24 = (int *)pvVar3;
  FUN_00441d30();
  local_24 = (int *)&stack0xfffffff0;
  local_20 = 4;
  uStackY_28 = 0x40d38e;
  FUN_00441d30();
  if (unaff_EDI != unaff_EBX) {
    return (undefined2 *)0x0;
  }
  if (unaff_EDI != 0) {
    puVar7 = (undefined *)((int)pvVar2 + 0x1c);
    do {
      local_24 = (int *)(puVar7 + -4);
      local_20 = 4;
      uStackY_28 = 0x40d3bd;
      FUN_00441d30();
      pvVar2 = (void *)0x1;
      local_20 = 4;
      uStackY_28 = 0x40d3cf;
      local_24 = (int *)puVar7;
      FUN_00441d30();
      uVar6 = uVar6 + 1;
      puVar7 = puVar7 + 0x20;
    } while (uVar6 < unaff_EDI);
  }
  sVar1 = 0x5c;
  iVar9 = 0;
  local_20 = 0x40d3eb;
  _Dst = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d3f4;
  puVar4 = (undefined2 *)_memset(_Dst,iVar9,sVar1);
  *puVar4 = (short)unaff_EBX;
  sVar1 = 0x10;
  iVar9 = 0;
  puVar4[1] = (undefined2)param_4;
  *(void **)(puVar4 + 2) = pvVar2;
  *(undefined4 *)(puVar4 + 4) = local_20;
  *(undefined2 *)((int)puVar4 + 0x31) = 1;
  local_20 = 0x40d422;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d42b;
  puVar5 = (undefined4 *)_memset(pvVar2,iVar9,sVar1);
  *(undefined4 **)((int)puVar4 + 0x33) = puVar5;
  if (sVar1 == 0) {
    *puVar5 = *(undefined4 *)((int)pvVar3 + 4);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 4) = *(undefined4 *)((int)pvVar3 + 8);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 8) = *(undefined4 *)((int)pvVar3 + 0xc);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 0xc) = *(undefined4 *)((int)pvVar3 + 0x10);
  }
  else {
    *puVar5 = *(undefined4 *)(param_1 + 0x47);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 4) = *(undefined4 *)(param_1 + 0x4b);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 8) = *(undefined4 *)(param_1 + 0x4f);
    *(undefined4 *)(*(int *)((int)puVar4 + 0x33) + 0xc) = 0x3e4ccccd;
  }
  sVar1 = (int)(short)puVar4[1] << 2;
  iVar9 = 0;
  local_20 = 0x40d494;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d49d;
  pvVar2 = _memset(pvVar2,iVar9,sVar1);
  *(void **)(puVar4 + 6) = pvVar2;
  sVar1 = (int)(short)puVar4[1] << 2;
  iVar9 = 0;
  local_20 = 0x40d4b3;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x40d4bc;
  pvVar2 = _memset(pvVar2,iVar9,sVar1);
  *(void **)(puVar4 + 8) = pvVar2;
  iVar9 = 0;
  if (0 < (short)puVar4[1]) {
    do {
      iVar9 = iVar9 + 1;
      *(undefined4 *)(*(int *)(puVar4 + 8) + -4 + iVar9 * 4) = 0;
      *(undefined4 *)(*(int *)(puVar4 + 6) + -4 + iVar9 * 4) = 0xffffffff;
    } while (iVar9 < (short)puVar4[1]);
  }
  if (pvVar3 != (void *)0x0) {
    FreeMemory();
  }
  if (local_24 != (int *)0x0) {
    FreeMemory();
  }
  return puVar4;
}



// // Function: LoadMeshDataFromFile
// // Description: This function opens a file based on the provided file name (or identifier), reads
// mesh or graphical data, allocates memory for the parsed data, processes it, and returns a pointer
// to the resulting data structure.
// // Old Name: FUN_0040d510
// //
// // Arguments:
// //   param_1 (char*): A string representing the name of the mesh file (or identifier). This
// string is used to form file paths and locate the file for reading and processing.
// 

undefined2 * LoadMeshDataFromFile(char *param_1)

{
  char *pcVar1;
  char cVar2;
  bool bVar3;
  undefined2 uVar4;
  int iVar5;
  HANDLE hFile;
  uint uVar6;
  DWORD nNumberOfBytesToRead;
  void *pvVar7;
  char *lpBuffer;
  BOOL BVar8;
  size_t sVar9;
  float *pfVar10;
  undefined *puVar11;
  undefined2 *puVar12;
  undefined4 *puVar13;
  undefined4 uVar14;
  void *pvVar15;
  float10 fVar16;
  char local_534 [256];
  undefined local_434 [256];
  char local_334 [256];
  char local_234 [256];
  DWORD local_134;
  char local_130 [256];
  void *local_30;
  undefined4 *puVar17;
  undefined2 *puVar18;
  uint uVar19;
  DWORD _Size;
  uint uVar20;
  undefined *puVar21;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  FID_conflict___mbscpy(local_130,param_1);
  iVar5 = _strcmp(local_130,s_abdomen_004c5560);
  if ((((iVar5 != 0) && (iVar5 = _strcmp(local_130,s_rfarm_004c5568), iVar5 != 0)) &&
      (iVar5 = _strcmp(local_130,s_lfarm_004c5570), iVar5 != 0)) &&
     (iVar5 = _strcmp(local_130,s_lshin_004c5578), iVar5 != 0)) {
    _strcmp(local_130,s_rshin_004c5580);
  }
  FID_conflict__strcat(local_130,&DAT_004c5588);
  FID_conflict___mbscpy(local_334,&DAT_005d4fe0);
  FID_conflict__strcat(local_334,local_130);
  _memset(local_434,0,0x100);
  local_30 = (void *)0x40d621;
  hFile = CreateFileA(local_334,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,(HANDLE)0x0);
  if ((hFile != (HANDLE)0x0) && (hFile != (HANDLE)0xffffffff)) {
    FID_conflict___mbscpy(local_234,&DAT_005d4fe0);
    FID_conflict__strcat(local_234,param_1);
    FID_conflict__strcat(local_234,s__binx_004c558c);
    uVar6 = OpenFileWithFixedFlags0x40();
    nNumberOfBytesToRead = GetFileSize(hFile,(LPDWORD)0x0);
    iVar5 = 0;
    _Size = nNumberOfBytesToRead;
    pvVar7 = (void *)AllocateMemoryWithCallback();
    lpBuffer = (char *)_memset(pvVar7,iVar5,_Size);
    BVar8 = ReadFile(hFile,lpBuffer,nNumberOfBytesToRead,&local_134,(LPOVERLAPPED)0x0);
    if (BVar8 != 0) {
      CloseHandle(hFile);
      iVar5 = 0;
      cVar2 = *lpBuffer;
      do {
        while (cVar2 != '/') {
          pcVar1 = lpBuffer + iVar5;
          iVar5 = iVar5 + 1;
          cVar2 = *pcVar1;
        }
        cVar2 = '/';
        while (cVar2 != '\n') {
          pcVar1 = lpBuffer + iVar5;
          iVar5 = iVar5 + 1;
          cVar2 = *pcVar1;
        }
        cVar2 = lpBuffer[iVar5];
        iVar5 = iVar5 + 1;
        if (cVar2 != '/') {
          bVar3 = true;
        }
      } while (!bVar3);
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      ParseToken();
      FUN_004908b0();
      uVar20 = uVar6;
      FUN_004ae3e0();
      sVar9 = uVar20 << 5;
      iVar5 = 0;
      pvVar7 = (void *)AllocateMemoryWithCallback();
      pfVar10 = (float *)_memset(pvVar7,iVar5,sVar9);
      uVar20 = 0;
      if (sVar9 != 0) {
        do {
          ParseToken();
          fVar16 = (float10)FUN_004adb90();
          *pfVar10 = (float)(fVar16 * (float10)0.25);
          ParseToken();
          fVar16 = (float10)FUN_004adb90();
          pfVar10[1] = (float)(fVar16 * (float10)0.25);
          ParseToken();
          fVar16 = (float10)FUN_004adb90();
          pfVar10[2] = (float)(fVar16 * (float10)0.25);
          uVar19 = uVar6;
          FUN_004ae3e0();
          uVar20 = uVar20 + 1;
          pfVar10 = pfVar10 + 8;
        } while (uVar20 < uVar19);
      }
      ParseToken();
      puVar11 = (undefined *)FUN_004908b0();
      FUN_004ae3e0();
      sVar9 = (int)puVar11 * 8;
      iVar5 = 0;
      pvVar7 = (void *)AllocateMemoryWithCallback();
      puVar12 = (undefined2 *)_memset(pvVar7,iVar5,sVar9);
      puVar21 = (undefined *)0x0;
      puVar18 = puVar12;
      if (puVar11 != (undefined *)0x0) {
        do {
          ParseToken();
          iVar5 = FUN_004908b0();
          if (iVar5 != 3) {
            return (undefined2 *)0x0;
          }
          ParseToken();
          uVar4 = FUN_004adb80();
          *puVar12 = uVar4;
          ParseToken();
          uVar4 = FUN_004adb80();
          puVar12[1] = uVar4;
          ParseToken();
          uVar4 = FUN_004adb80();
          puVar12[2] = uVar4;
          FUN_004ae3e0();
          puVar21 = puVar21 + 1;
          puVar12 = puVar12 + 4;
        } while (puVar21 < puVar11);
      }
      ParseToken();
      iVar5 = _strcmp(local_130,s_MeshMaterialList_004c5598);
      if (iVar5 == 0) {
        ParseToken();
        ParseToken();
        FUN_004908b0();
        FUN_004ae3e0();
        ParseToken();
        FUN_004908b0();
        puVar21 = &stack0xffffffe0;
        FUN_004ae3e0();
        if (puVar21 == puVar11) {
          sVar9 = (int)puVar11 << 2;
          iVar5 = 0;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          puVar13 = (undefined4 *)_memset(pvVar7,iVar5,sVar9);
          puVar21 = (undefined *)0x0;
          puVar17 = puVar13;
          if (puVar11 != (undefined *)0x0) {
            do {
              ParseToken();
              uVar14 = FUN_004908b0();
              *puVar13 = uVar14;
              iVar5 = 1;
              FUN_004ae3e0();
              puVar21 = puVar21 + 1;
              puVar13 = puVar13 + 1;
            } while (puVar21 < puVar11);
          }
          sVar9 = iVar5 * 0x50;
          iVar5 = 0;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_30 = _memset(pvVar7,iVar5,sVar9);
          uVar20 = 0;
          if (iVar5 != 0) {
            pfVar10 = (float *)((int)local_30 + 8);
            do {
              ParseToken();
              ParseToken();
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[-1] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              *pfVar10 = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[1] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[2] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[0xf] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[7] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[8] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[9] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[0xb] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[0xc] = (float)fVar16;
              ParseToken();
              fVar16 = (float10)FUN_004adb90();
              pfVar10[0xd] = (float)fVar16;
              ParseToken();
              iVar5 = _strcmp(local_130,s_TextureFilename_004c55ac);
              if (iVar5 == 0) {
                ParseToken();
                ParseToken();
                FID_conflict___mbscpy(local_534,local_130);
                ParseToken();
                ParseToken();
              }
              uVar19 = 1;
              FUN_004ae3e0();
              uVar20 = uVar20 + 1;
              pfVar10 = pfVar10 + 0x14;
            } while (uVar20 < uVar19);
          }
          ParseToken();
          ParseToken();
          ParseToken();
          ParseToken();
          FUN_004908b0();
          uVar20 = 4;
          iVar5 = 0x40de82;
          FUN_004ae3e0();
          if (uVar20 == uVar6) {
            uVar6 = 0;
            if (uVar20 != 0) {
              pfVar10 = (float *)(iVar5 + 0x1c);
              do {
                ParseToken();
                fVar16 = (float10)FUN_004adb90();
                pfVar10[-1] = (float)fVar16;
                FUN_004ae3e0();
                ParseToken();
                fVar16 = (float10)FUN_004adb90();
                uVar20 = 4;
                *pfVar10 = (float)fVar16;
                FUN_004ae3e0();
                uVar6 = uVar6 + 1;
                pfVar10 = pfVar10 + 8;
              } while (uVar6 < uVar20);
            }
            uVar14 = 0x40df40;
            ParseToken();
            sVar9 = 0x5c;
            iVar5 = 0;
            pvVar7 = (void *)AllocateMemoryWithCallback();
            puVar12 = (undefined2 *)_memset(pvVar7,iVar5,sVar9);
            *puVar12 = (short)sVar9;
            sVar9 = 0x10;
            iVar5 = 0;
            puVar12[1] = (short)puVar11;
            *(undefined4 *)(puVar12 + 2) = uVar14;
            *(undefined2 **)(puVar12 + 4) = puVar18;
            *(undefined2 *)((int)puVar12 + 0x31) = 1;
            pvVar7 = (void *)AllocateMemoryWithCallback();
            puVar13 = (undefined4 *)_memset(pvVar7,iVar5,sVar9);
            pvVar7 = local_30;
            *(undefined4 **)((int)puVar12 + 0x33) = puVar13;
            *puVar13 = *(undefined4 *)((int)local_30 + 4);
            *(undefined4 *)(*(int *)((int)puVar12 + 0x33) + 4) = *(undefined4 *)((int)local_30 + 8);
            *(undefined4 *)(*(int *)((int)puVar12 + 0x33) + 8) =
                 *(undefined4 *)((int)local_30 + 0xc);
            *(undefined4 *)(*(int *)((int)puVar12 + 0x33) + 0xc) =
                 *(undefined4 *)((int)local_30 + 0x10);
            sVar9 = (int)(short)puVar12[1] << 2;
            iVar5 = 0;
            pvVar15 = (void *)AllocateMemoryWithCallback();
            pvVar15 = _memset(pvVar15,iVar5,sVar9);
            *(void **)(puVar12 + 6) = pvVar15;
            sVar9 = (int)(short)puVar12[1] << 2;
            iVar5 = 0;
            pvVar15 = (void *)AllocateMemoryWithCallback();
            pvVar15 = _memset(pvVar15,iVar5,sVar9);
            *(void **)(puVar12 + 8) = pvVar15;
            iVar5 = 0;
            if (0 < (short)puVar12[1]) {
              do {
                iVar5 = iVar5 + 1;
                *(undefined4 *)(*(int *)(puVar12 + 8) + -4 + iVar5 * 4) = 0;
                *(undefined4 *)(*(int *)(puVar12 + 6) + -4 + iVar5 * 4) = 0xffffffff;
              } while (iVar5 < (short)puVar12[1]);
            }
            if (lpBuffer != (char *)0x0) {
              FreeMemory();
            }
            if (pvVar7 != (void *)0x0) {
              FreeMemory();
            }
            if (puVar17 != (undefined4 *)0x0) {
              FreeMemory();
            }
            FUN_004adcf0();
            return puVar12;
          }
        }
      }
    }
  }
  return (undefined2 *)0x0;
}



ushort * FUN_0040e070(uint *param_1,undefined4 param_2,undefined4 *param_3)

{
  int iVar1;
  void *pvVar2;
  ushort *puVar3;
  uint uVar4;
  short *psVar5;
  undefined4 unaff_ESI;
  byte unaff_DI;
  float local_30;
  undefined4 local_2c;
  int local_28;
  undefined4 **local_24;
  undefined4 *local_20;
  int iVar6;
  int iVar7;
  undefined *puVar8;
  size_t sVar9;
  undefined4 uVar10;
  char cVar11;
  
  iVar1 = (int)param_1;
  AdjustStackForLargeAllocations();
  sVar9 = 0x5c;
  iVar7 = 0;
  local_2c = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  puVar3 = (ushort *)_memset(pvVar2,iVar7,sVar9);
  if (puVar3 == (ushort *)0x0) {
    return (ushort *)0x0;
  }
  uVar10 = *param_3;
  local_24 = (undefined4 **)&stack0xfffffff4;
  local_20 = (undefined4 *)0x1;
  local_28 = 0x40e0c9;
  FUN_00441d30();
  if (unaff_DI != 0) {
    sVar9 = (uint)unaff_DI * 4;
    iVar7 = 0;
    local_20 = (undefined4 *)0x40e0e7;
    pvVar2 = (void *)AllocateMemoryWithCallback();
    local_20 = (undefined4 *)0x40e0f0;
    param_1 = (uint *)_memset(pvVar2,iVar7,sVar9);
    do {
      local_24 = (undefined4 **)&stack0xfffffffa;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e11e;
      FUN_00441d30();
      uVar4 = 0;
      iVar7 = 0;
      psVar5 = DAT_005dca00;
      if (DAT_005dcb0c != 0) {
        do {
          if (*psVar5 == (ushort)((byte)((uint)unaff_ESI >> 0x10) + 10000)) {
            *param_1 = uVar4;
            iVar7 = 1;
            break;
          }
          uVar4 = uVar4 + 1;
          iVar7 = local_28;
          psVar5 = psVar5 + 0x17;
        } while ((int)uVar4 < (int)(uint)DAT_005dcb0c);
      }
      if (iVar7 == 0) {
        local_20 = &local_2c;
        local_24 = (undefined4 **)0x40e174;
        uVar4 = FUN_0045ae70();
        *param_1 = uVar4 & 0xffff;
      }
      param_1 = param_1 + 1;
    } while (local_24 != (undefined4 **)0x1);
  }
  local_24 = (undefined4 **)&stack0xfffffff4;
  local_20 = (undefined4 *)0x1;
  local_28 = 0x40e1a9;
  FUN_00441d30();
  *(ushort *)((int)puVar3 + 0x31) = (ushort)unaff_DI;
  sVar9 = (int)(short)(ushort)unaff_DI << 4;
  iVar7 = 0;
  iVar6 = 0;
  local_20 = (undefined4 *)0x40e1c5;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = (undefined4 *)0x40e1ce;
  pvVar2 = _memset(pvVar2,iVar6,sVar9);
  *(void **)((int)puVar3 + 0x33) = pvVar2;
  param_1 = (uint *)0x0;
  if (0 < *(short *)((int)puVar3 + 0x31)) {
    do {
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e1f3;
      FUN_00441d30();
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      *(float *)(*(int *)((int)puVar3 + 0x33) + iVar7) = (float)(uint)unaff_DI * 0.003921569;
      local_28 = 0x40e222;
      FUN_00441d30();
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      *(float *)(*(int *)((int)puVar3 + 0x33) + 4 + iVar7) = (float)(uint)unaff_DI * 0.003921569;
      local_28 = 0x40e253;
      FUN_00441d30();
      iVar7 = iVar7 + 0x10;
      *(float *)(*(int *)((int)puVar3 + 0x33) + -8 + iVar7) = (float)(uint)unaff_DI * 0.003921569;
      param_1 = (uint *)((int)param_1 + 1);
      *(undefined4 *)(*(int *)((int)puVar3 + 0x33) + -4 + iVar7) = 0x3dcccccd;
    } while ((int)param_1 < (int)*(short *)((int)puVar3 + 0x31));
  }
  local_24 = (undefined4 **)&stack0xfffffff4;
  local_20 = (undefined4 *)0x1;
  local_28 = 0x40e2a5;
  FUN_00441d30();
  local_24 = (undefined4 **)&stack0xffffffec;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e2c3;
  FUN_00441d30();
  local_24 = (undefined4 **)&stack0xffffffe4;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e2d8;
  FUN_00441d30();
  local_24 = &local_20;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e2ed;
  FUN_00441d30();
  local_24 = (undefined4 **)&local_30;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e302;
  FUN_00441d30();
  *puVar3 = (ushort)unaff_DI;
  sVar9 = (int)(short)(ushort)unaff_DI << 5;
  iVar7 = 0;
  iVar6 = 0;
  local_20 = (undefined4 *)0x40e318;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = (undefined4 *)0x40e321;
  pvVar2 = _memset(pvVar2,iVar6,sVar9);
  *(void **)(puVar3 + 2) = pvVar2;
  param_1 = (uint *)0x0;
  if (0 < (short)*puVar3) {
    do {
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e345;
      FUN_00441d30();
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      *(float *)(*(int *)(puVar3 + 2) + iVar7) =
           (float)(uint)unaff_DI / (float)&stack0xfffffff0 + 1.401298e-45;
      local_28 = 0x40e374;
      FUN_00441d30();
      puVar8 = &stack0xfffffff0;
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      *(float *)(*(int *)(puVar3 + 2) + 4 + iVar7) =
           (float)(uint)unaff_DI / (float)puVar8 + 1.401298e-45;
      local_28 = 0x40e3a5;
      FUN_00441d30();
      iVar7 = iVar7 + 0x20;
      *(float *)(*(int *)(puVar3 + 2) + -0x18 + iVar7) =
           (float)(uint)unaff_DI / (float)puVar8 + local_30;
      param_1 = (uint *)((int)param_1 + 1);
    } while ((int)param_1 < (int)(short)*puVar3);
  }
  local_24 = (undefined4 **)&stack0xfffffff4;
  local_20 = (undefined4 *)0x1;
  local_28 = 0x40e3eb;
  FUN_00441d30();
  local_24 = (undefined4 **)&stack0xffffffec;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e400;
  FUN_00441d30();
  local_24 = (undefined4 **)&stack0xffffffe4;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e415;
  FUN_00441d30();
  local_24 = &local_20;
  local_20 = (undefined4 *)0x4;
  local_28 = 0x40e42a;
  FUN_00441d30();
  iVar7 = 0;
  param_1 = (uint *)0x0;
  if (0 < (short)*puVar3) {
    do {
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e449;
      FUN_00441d30();
      puVar8 = &stack0xfffffff0;
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      *(float *)(*(int *)(puVar3 + 2) + 0x18 + iVar7) =
           (float)(uint)unaff_DI / (float)puVar8 + 1.401298e-45;
      local_28 = 0x40e479;
      FUN_00441d30();
      param_1 = (uint *)((int)param_1 + 1);
      iVar7 = iVar7 + 0x20;
      *(float *)(*(int *)(puVar3 + 2) + -4 + iVar7) =
           (float)(uint)unaff_DI / (float)puVar8 + (float)local_20;
    } while ((int)param_1 < (int)(short)*puVar3);
  }
  local_24 = (undefined4 **)&stack0xfffffff4;
  local_20 = (undefined4 *)0x1;
  local_28 = 0x40e4bb;
  FUN_00441d30();
  puVar3[1] = (ushort)unaff_DI;
  sVar9 = (int)(short)(ushort)unaff_DI << 2;
  iVar7 = 0;
  local_20 = (undefined4 *)0x40e4d6;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = (undefined4 *)0x40e4df;
  pvVar2 = _memset(pvVar2,iVar7,sVar9);
  *(void **)(puVar3 + 6) = pvVar2;
  sVar9 = (int)(short)puVar3[1] << 2;
  iVar7 = 0;
  local_20 = (undefined4 *)0x40e4f5;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = (undefined4 *)0x40e4fe;
  pvVar2 = _memset(pvVar2,iVar7,sVar9);
  *(void **)(puVar3 + 8) = pvVar2;
  sVar9 = (int)(short)puVar3[1] << 3;
  iVar7 = 0;
  local_20 = (undefined4 *)0x40e514;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  local_20 = (undefined4 *)0x40e51d;
  pvVar2 = _memset(pvVar2,iVar7,sVar9);
  iVar6 = 0;
  *(void **)(puVar3 + 4) = pvVar2;
  if (0 < (short)puVar3[1]) {
    do {
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e541;
      FUN_00441d30();
      *(ushort *)(*(int *)(puVar3 + 4) + iVar6 * 8) = (ushort)unaff_DI;
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e562;
      FUN_00441d30();
      *(ushort *)(*(int *)(puVar3 + 4) + 2 + iVar6 * 8) = (ushort)unaff_DI;
      local_24 = (undefined4 **)&stack0xfffffff4;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e584;
      FUN_00441d30();
      *(ushort *)(*(int *)(puVar3 + 4) + 4 + iVar6 * 8) = (ushort)unaff_DI;
      local_24 = (undefined4 **)&stack0xfffffffb;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e5a6;
      iVar7 = iVar1;
      FUN_00441d30();
      cVar11 = (char)((uint)unaff_ESI >> 0x18);
      if (cVar11 == -1) {
        *(undefined4 *)(*(int *)(puVar3 + 6) + iVar6 * 4) = 0xffffffff;
      }
      else {
        *(undefined4 *)(*(int *)(puVar3 + 6) + iVar6 * 4) = *(undefined4 *)(iVar7 + cVar11 * 4);
      }
      local_24 = (undefined4 **)&stack0xfffffffb;
      local_20 = (undefined4 *)0x1;
      local_28 = 0x40e5dd;
      iVar7 = iVar1;
      FUN_00441d30();
      if (cVar11 == 0xff) {
        *(undefined4 *)(*(int *)(puVar3 + 8) + iVar6 * 4) = 0xffffffff;
      }
      else {
        *(int *)(*(int *)(puVar3 + 8) + iVar6 * 4) = (int)cVar11;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < (short)puVar3[1]);
  }
  if (iVar7 != 0) {
    FreeMemory();
  }
  *param_3 = uVar10;
  return puVar3;
}



void FUN_0040e630(int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(param_1 + 0x57);
  if (((**(char **)(param_1 + 8) == '\0') && (*(char *)(param_1 + 0x101) != '\0')) &&
     (*(int *)(param_1 + 0xf9) != 0)) {
    FreeMemory(*(int *)(param_1 + 0xf9));
    *(undefined4 *)(param_1 + 0xf9) = 0;
  }
  while (iVar1 = iVar3, iVar1 != 0) {
    iVar3 = 0;
    piVar2 = (int *)(iVar1 + 0x14);
    do {
      if (*(char *)(param_1 + 0x40 + iVar3) != '\0') {
        if (*piVar2 != 0) {
          FreeMemory(*piVar2);
          *piVar2 = 0;
        }
        if (piVar2[9] != 0) {
          FreeMemory(piVar2[9]);
          piVar2[9] = 0;
        }
      }
      *piVar2 = 0;
      iVar3 = iVar3 + 1;
      piVar2 = piVar2 + 1;
    } while (iVar3 < 7);
    iVar3 = *(int *)(iVar1 + 0x58);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
    }
  }
  *(undefined4 *)(param_1 + 0x57) = 0;
  piVar2 = *(int **)(param_1 + 0x1a4);
  if ((piVar2 != (int *)0x0) && (*piVar2 != 0)) {
    (**(code **)(*piVar2 + 8))(piVar2);
  }
  *(undefined4 *)(param_1 + 0x1a4) = 0;
  iVar3 = *(int *)(param_1 + 99);
  while (iVar1 = iVar3, iVar1 != 0) {
    if (iVar1 != -4) {
      piVar2 = (int *)(iVar1 + 0x20);
      param_1 = 7;
      do {
        if (piVar2[-7] != 0) {
          FreeMemory(piVar2[-7]);
          piVar2[-7] = 0;
        }
        if (*piVar2 != 0) {
          FreeMemory(*piVar2);
          *piVar2 = 0;
        }
        piVar2 = piVar2 + 1;
        param_1 = param_1 + -1;
      } while (param_1 != 0);
    }
    iVar3 = *(int *)(iVar1 + 0x3c);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
    }
  }
  return;
}



float10 FUN_0040e760(int param_1)

{
  short sVar1;
  float fVar2;
  double dVar3;
  double dVar4;
  int iVar5;
  int iVar6;
  byte *pbVar7;
  int iVar8;
  short *psVar9;
  int iVar10;
  float10 fVar11;
  undefined local_9c [32];
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  float local_48;
  undefined4 local_44;
  undefined4 local_40;
  float local_3c;
  float local_38;
  float local_34;
  undefined4 uStack_20;
  undefined *local_1c;
  undefined8 local_18;
  int iVar12;
  float fVar13;
  
  AdjustStackForLargeAllocations();
  pbVar7 = (byte *)(param_1 + 0x40);
  fVar13 = 0.0;
  iVar8 = 0x14;
  do {
    local_18 = (double)(ZEXT48(pbVar7) << 0x20);
    iVar12 = 0;
    if (*pbVar7 != 0) {
      do {
        psVar9 = *(short **)(param_1 + 0x57);
        local_1c = (undefined *)0x0;
        iVar6 = iVar12;
        if (psVar9 != (short *)0x0) {
          do {
            dVar3 = local_18;
            if (0 < *psVar9) {
              iVar10 = iVar12 * 0x20;
              iVar5 = (int)local_1c << 5;
              iVar12 = iVar6;
              do {
                local_3c = *(float *)(iVar5 + *(int *)(param_1 + 0x10));
                iVar6 = iVar5 + *(int *)(param_1 + 0x10);
                local_38 = *(float *)(iVar6 + 4);
                local_34 = *(float *)(iVar6 + 8);
                local_7c = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_78 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 2 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_74 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 4 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_70 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 6 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_6c = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 8 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_68 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 10 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_64 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0xc + *(int *)((int)psVar9 + iVar8)) * 4);
                local_60 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0xe + *(int *)((int)psVar9 + iVar8)) * 4);
                local_5c = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x10 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_58 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x12 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_54 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x14 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_50 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x16 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_4c = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x18 + *(int *)((int)psVar9 + iVar8)) * 4);
                local_48 = *(float *)(DAT_004d77ec +
                                     (uint)*(ushort *)
                                            (iVar10 + 0x1a + *(int *)((int)psVar9 + iVar8)) * 4);
                local_44 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x1c + *(int *)((int)psVar9 + iVar8)) * 4);
                local_40 = *(undefined4 *)
                            (DAT_004d77ec +
                            (uint)*(ushort *)(iVar10 + 0x1e + *(int *)((int)psVar9 + iVar8)) * 4);
                if (((*(int *)(param_1 + 0x114) == 1) ||
                    ((*(int *)(param_1 + 0x7b) == 1 && ((iVar8 == 0x28 || (iVar8 == 0x2c)))))) &&
                   (*(float *)(param_1 + 0x67) != 0.0)) {
                  local_48 = local_48 - *(float *)(param_1 + 0x67);
                }
                local_1c = local_9c;
                local_18 = (double)CONCAT44(&local_3c,&local_7c);
                uStack_20 = 0x40e92f;
                FUN_0045f420();
                fVar2 = local_34 * local_34 + local_38 * local_38 + local_3c * local_3c;
                if (fVar13 * fVar13 < fVar2) {
                  local_18 = (double)fVar2;
                  local_1c = (undefined *)0x40e970;
                  fVar11 = (float10)FUN_004ad534();
                  fVar13 = (float)fVar11;
                }
                iVar5 = iVar5 + 0x20;
                iVar6 = iVar12;
                dVar3 = local_18;
              } while ((int)local_18 + 1 < (int)*psVar9);
            }
            local_18 = (double)((ulonglong)dVar3 & 0xffffffff00000000);
            dVar4 = local_18;
            sVar1 = *psVar9;
            psVar9 = *(short **)(psVar9 + 0x2c);
            local_1c = local_1c + sVar1;
          } while (psVar9 != (short *)0x0);
          local_18._4_4_ = (byte *)((ulonglong)dVar3 >> 0x20);
          pbVar7 = local_18._4_4_;
          local_18 = dVar4;
        }
        iVar12 = iVar12 + 1;
      } while (iVar12 < (int)(uint)*pbVar7);
    }
    iVar8 = iVar8 + 4;
    pbVar7 = pbVar7 + 1;
  } while (iVar8 < 0x30);
  *(float *)(param_1 + 0x1a8) = fVar13;
  return (float10)fVar13;
}



void FUN_0040e9f0(uint *param_1,int param_2,int param_3)

{
  byte *pbVar1;
  int iVar2;
  void *pvVar3;
  size_t sVar4;
  uint *puVar5;
  uint *puVar6;
  uint *puVar7;
  int **ppiVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int **ppiVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  size_t sVar16;
  undefined4 *puVar17;
  undefined4 *puVar18;
  int local_34;
  int iVar19;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)((int)param_1 + 99);
  iVar14 = *(int *)((int)param_1 + 0x57);
  iVar10 = *(int *)((int)param_1 + 0x5b);
  uVar15 = (uint)*(byte *)(param_2 + 0x40 + (int)param_1);
  sVar4 = *(size_t *)((int)param_1 + 0x3c);
  sVar16 = uVar15 << 5;
  iVar19 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar16);
  _memset(pvVar3,iVar19,sVar4);
  iVar19 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar16);
  _memset(pvVar3,iVar19,sVar16);
  sVar4 = uVar15 << 6;
  iVar19 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar4);
  _memset(pvVar3,iVar19,sVar4);
  sVar4 = uVar15 * 4;
  iVar19 = 0;
  sVar16 = sVar4;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar4);
  puVar5 = (uint *)_memset(pvVar3,iVar19,sVar16);
  iVar19 = 0;
  sVar16 = sVar4;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar4);
  puVar6 = (uint *)_memset(pvVar3,iVar19,sVar16);
  iVar19 = 0;
  sVar16 = sVar4;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar4);
  puVar7 = (uint *)_memset(pvVar3,iVar19,sVar16);
  iVar19 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar4);
  ppiVar8 = (int **)_memset(pvVar3,iVar19,sVar4);
  for (; iVar10 != 0; iVar10 = *(int *)(iVar10 + 0x74)) {
    iVar9 = 0;
    if (uVar15 != 0) {
      iVar13 = 0;
      param_1 = puVar6;
      do {
        puVar17 = (undefined4 *)(iVar13 + *(int *)(iVar10 + 0x10c + param_2 * 4));
        puVar18 = (undefined4 *)(iVar19 + iVar13);
        for (iVar11 = 8; iVar11 != 0; iVar11 = iVar11 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        iVar13 = iVar13 + 0x20;
        pbVar1 = (byte *)(iVar9 + *(int *)(iVar10 + 0x135 + param_2 * 4));
        iVar9 = iVar9 + 1;
        *param_1 = (uint)*pbVar1;
        param_1 = param_1 + 1;
      } while (iVar9 < (int)uVar15);
    }
    param_1 = (uint *)0x0;
    if (uVar15 != 0) {
      local_34 = 0;
      iVar9 = param_3;
      do {
        iVar13 = iVar9 + 1;
        puVar17 = (undefined4 *)(iVar9 * 0x20 + iVar19);
        puVar18 = (undefined4 *)(local_34 + *(int *)(iVar10 + 0x10c + param_2 * 4));
        for (iVar11 = 8; iVar11 != 0; iVar11 = iVar11 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        *(undefined *)((int)param_1 + *(int *)(iVar10 + 0x135 + param_2 * 4)) =
             *(undefined *)(puVar6 + iVar9);
        if ((int)uVar15 <= iVar13) {
          iVar13 = 0;
        }
        param_1 = (uint *)((int)param_1 + 1);
        local_34 = local_34 + 0x20;
        iVar9 = iVar13;
      } while ((int)param_1 < (int)uVar15);
    }
  }
  for (; iVar14 != 0; iVar14 = *(int *)(iVar14 + 0x58)) {
    iVar10 = 0;
    if (uVar15 != 0) {
      iVar9 = 0;
      param_1 = puVar7;
      do {
        puVar17 = (undefined4 *)(iVar9 + *(int *)(iVar14 + 0x14 + param_2 * 4));
        puVar18 = (undefined4 *)((int)pvVar3 + iVar9);
        for (iVar13 = 8; iVar13 != 0; iVar13 = iVar13 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        iVar9 = iVar9 + 0x20;
        pbVar1 = (byte *)(iVar10 + *(int *)(iVar14 + 0x38 + param_2 * 4));
        iVar10 = iVar10 + 1;
        *param_1 = (uint)*pbVar1;
        param_1 = param_1 + 1;
      } while (iVar10 < (int)uVar15);
    }
    param_1 = (uint *)0x0;
    if (uVar15 != 0) {
      local_34 = 0;
      iVar10 = param_3;
      do {
        iVar13 = iVar10 + 1;
        puVar17 = (undefined4 *)(iVar10 * 0x20 + (int)pvVar3);
        puVar18 = (undefined4 *)(local_34 + *(int *)(iVar14 + 0x14 + param_2 * 4));
        for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        *(undefined *)((int)param_1 + *(int *)(iVar14 + 0x38 + param_2 * 4)) =
             *(undefined *)(puVar7 + iVar10);
        if ((int)uVar15 <= iVar13) {
          iVar13 = 0;
        }
        param_1 = (uint *)((int)param_1 + 1);
        local_34 = local_34 + 0x20;
        iVar10 = iVar13;
      } while ((int)param_1 < (int)uVar15);
    }
  }
  for (; sVar4 != 0; sVar4 = *(size_t *)(sVar4 + 0x14)) {
    iVar10 = 0;
    ppiVar12 = ppiVar8;
    if (uVar15 != 0) {
      do {
        iVar10 = iVar10 + 1;
        **ppiVar12 = (int)*(char *)(*(int *)(*(int *)(sVar4 + 0x1c) + param_2 * 4) + -1 + iVar10);
        ppiVar12 = ppiVar12 + 1;
      } while (iVar10 < (int)uVar15);
    }
    iVar10 = 0;
    if (uVar15 != 0) {
      iVar14 = param_3;
      do {
        iVar9 = iVar14 + 1;
        *(undefined *)(*(int *)(param_2 * 4 + *(int *)(sVar4 + 0x1c)) + iVar10) =
             *(undefined *)ppiVar8[iVar14];
        if ((int)uVar15 <= iVar9) {
          iVar9 = 0;
        }
        iVar10 = iVar10 + 1;
        iVar14 = iVar9;
      } while (iVar10 < (int)uVar15);
    }
  }
  for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x3c)) {
    iVar10 = 0;
    if (uVar15 != 0) {
      iVar14 = 0;
      param_1 = puVar5;
      do {
        puVar17 = (undefined4 *)(iVar14 + *(int *)(iVar2 + 4 + param_2 * 4));
        puVar18 = (undefined4 *)(iVar14 + 0x40ead7);
        for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        iVar14 = iVar14 + 0x40;
        pbVar1 = (byte *)(iVar10 + *(int *)(iVar2 + 0x20 + param_2 * 4));
        iVar10 = iVar10 + 1;
        *param_1 = (uint)*pbVar1;
        param_1 = param_1 + 1;
      } while (iVar10 < (int)uVar15);
    }
    param_1 = (uint *)0x0;
    if (uVar15 != 0) {
      local_34 = 0;
      iVar10 = param_3;
      do {
        iVar14 = iVar10 + 1;
        puVar17 = (undefined4 *)(iVar10 * 0x40 + 0x40ead7);
        puVar18 = (undefined4 *)(local_34 + *(int *)(iVar2 + 4 + param_2 * 4));
        for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
          *puVar18 = *puVar17;
          puVar17 = puVar17 + 1;
          puVar18 = puVar18 + 1;
        }
        *(undefined *)((int)param_1 + *(int *)(iVar2 + 0x20 + param_2 * 4)) =
             *(undefined *)(puVar5 + iVar10);
        if ((int)uVar15 <= iVar14) {
          iVar14 = 0;
        }
        param_1 = (uint *)((int)param_1 + 1);
        local_34 = local_34 + 0x40;
        iVar10 = iVar14;
      } while ((int)param_1 < (int)uVar15);
    }
  }
  if (iVar19 != 0) {
    FreeMemory(iVar19);
  }
  if (pvVar3 != (void *)0x0) {
    FreeMemory(pvVar3);
  }
  FreeMemory(0x40ead7);
  if (puVar5 != (uint *)0x0) {
    FreeMemory(puVar5);
  }
  if (ppiVar8 != (int **)0x0) {
    FreeMemory(ppiVar8);
  }
  if (puVar6 != (uint *)0x0) {
    FreeMemory(puVar6);
  }
  if (puVar7 != (uint *)0x0) {
    FreeMemory(puVar7);
  }
  return;
}



void FUN_0040ee00(int param_1,int param_2)

{
  byte *pbVar1;
  int iVar2;
  size_t sVar3;
  void *pvVar4;
  uint *puVar5;
  int **ppiVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int **ppiVar12;
  int iVar13;
  uint uVar14;
  undefined4 *puVar15;
  undefined4 *puVar16;
  int local_2c;
  int iVar17;
  size_t sVar18;
  uint *puVar19;
  
  AdjustStackForLargeAllocations();
  iVar8 = *(int *)(param_1 + 0x57);
  iVar2 = *(int *)(param_1 + 99);
  iVar9 = *(int *)(param_1 + 0x3c);
  uVar14 = (uint)*(byte *)(param_2 + 0x40 + param_1);
  sVar3 = uVar14 << 5;
  iVar17 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  _memset(pvVar4,iVar17,sVar3);
  sVar3 = uVar14 << 6;
  iVar17 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  _memset(pvVar4,iVar17,sVar3);
  sVar3 = uVar14 * 4;
  iVar17 = 0;
  sVar18 = sVar3;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  _memset(pvVar4,iVar17,sVar18);
  iVar17 = 0;
  sVar18 = sVar3;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  puVar5 = (uint *)_memset(pvVar4,iVar17,sVar18);
  iVar17 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  ppiVar6 = (int **)_memset(pvVar4,iVar17,sVar3);
  for (; iVar8 != 0; iVar8 = *(int *)(iVar8 + 0x58)) {
    iVar13 = 0;
    if (uVar14 != 0) {
      iVar7 = 0;
      puVar19 = puVar5;
      do {
        puVar15 = (undefined4 *)(iVar7 + *(int *)(iVar8 + 0x14 + param_2 * 4));
        puVar16 = (undefined4 *)(iVar17 + iVar7);
        for (iVar10 = 8; iVar10 != 0; iVar10 = iVar10 + -1) {
          *puVar16 = *puVar15;
          puVar15 = puVar15 + 1;
          puVar16 = puVar16 + 1;
        }
        iVar7 = iVar7 + 0x20;
        pbVar1 = (byte *)(iVar13 + *(int *)(iVar8 + 0x38 + param_2 * 4));
        iVar13 = iVar13 + 1;
        *puVar19 = (uint)*pbVar1;
        puVar19 = puVar19 + 1;
      } while (iVar13 < (int)uVar14);
    }
    iVar13 = 0;
    if (uVar14 != 0) {
      local_2c = 0;
      iVar7 = 1;
      do {
        iVar10 = iVar7 + 1;
        puVar15 = (undefined4 *)(iVar7 * 0x20 + iVar17);
        puVar16 = (undefined4 *)(local_2c + *(int *)(iVar8 + 0x14 + param_2 * 4));
        for (iVar11 = 8; iVar11 != 0; iVar11 = iVar11 + -1) {
          *puVar16 = *puVar15;
          puVar15 = puVar15 + 1;
          puVar16 = puVar16 + 1;
        }
        *(undefined *)(iVar13 + *(int *)(iVar8 + 0x38 + param_2 * 4)) =
             *(undefined *)(puVar5 + iVar7);
        if ((int)uVar14 <= iVar10) {
          iVar10 = 0;
        }
        iVar13 = iVar13 + 1;
        local_2c = local_2c + 0x20;
        iVar7 = iVar10;
      } while (iVar13 < (int)uVar14);
    }
  }
  for (; iVar9 != 0; iVar9 = *(int *)(iVar9 + 0x14)) {
    iVar8 = 0;
    ppiVar12 = ppiVar6;
    if (uVar14 != 0) {
      do {
        iVar8 = iVar8 + 1;
        **ppiVar12 = (int)*(char *)(*(int *)(*(int *)(iVar9 + 0x1c) + param_2 * 4) + -1 + iVar8);
        ppiVar12 = ppiVar12 + 1;
      } while (iVar8 < (int)uVar14);
    }
    iVar8 = 0;
    if (uVar14 != 0) {
      iVar13 = 1;
      do {
        iVar7 = iVar13 + 1;
        *(undefined *)(*(int *)(param_2 * 4 + *(int *)(iVar9 + 0x1c)) + iVar8) =
             *(undefined *)ppiVar6[iVar13];
        if ((int)uVar14 <= iVar7) {
          iVar7 = 0;
        }
        iVar8 = iVar8 + 1;
        iVar13 = iVar7;
      } while (iVar8 < (int)uVar14);
    }
  }
  for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x3c)) {
    iVar8 = 0;
    if (uVar14 != 0) {
      iVar9 = 0;
      puVar19 = (uint *)0x40eeb1;
      do {
        puVar15 = (undefined4 *)(iVar9 + *(int *)(iVar2 + 4 + param_2 * 4));
        puVar16 = (undefined4 *)((int)pvVar4 + iVar9);
        for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
          *puVar16 = *puVar15;
          puVar15 = puVar15 + 1;
          puVar16 = puVar16 + 1;
        }
        iVar9 = iVar9 + 0x40;
        pbVar1 = (byte *)(iVar8 + *(int *)(iVar2 + 0x20 + param_2 * 4));
        iVar8 = iVar8 + 1;
        *puVar19 = (uint)*pbVar1;
        puVar19 = puVar19 + 1;
      } while (iVar8 < (int)uVar14);
    }
    iVar8 = 1;
    iVar9 = 0;
    if (uVar14 != 0) {
      local_2c = 0;
      do {
        iVar7 = iVar8 * 0x40;
        iVar8 = iVar8 + 1;
        puVar15 = (undefined4 *)(iVar7 + (int)pvVar4);
        puVar16 = (undefined4 *)(local_2c + *(int *)(iVar2 + 4 + param_2 * 4));
        for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
          *puVar16 = *puVar15;
          puVar15 = puVar15 + 1;
          puVar16 = puVar16 + 1;
        }
        *(undefined *)(iVar9 + *(int *)(iVar2 + 0x20 + param_2 * 4)) =
             *(undefined *)(iVar8 * 4 + 0x40eead);
        if ((int)uVar14 <= iVar8) {
          iVar8 = 0;
        }
        iVar9 = iVar9 + 1;
        local_2c = local_2c + 0x40;
      } while (iVar9 < (int)uVar14);
    }
  }
  *(char *)(param_2 + 0x40 + param_1) = *(char *)(param_2 + 0x40 + param_1) + -1;
  if (iVar17 != 0) {
    FreeMemory(iVar17);
  }
  if (pvVar4 != (void *)0x0) {
    FreeMemory(pvVar4);
  }
  FreeMemory(0x40eeb1);
  if (ppiVar6 != (int **)0x0) {
    FreeMemory(ppiVar6);
  }
  if (puVar5 != (uint *)0x0) {
    FreeMemory(puVar5);
  }
  return;
}



short * FUN_0040f110(int param_1)

{
  void *pvVar1;
  short *psVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  int iVar7;
  size_t sVar8;
  
  sVar8 = 0x5c;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x5c);
  psVar2 = (short *)_memset(pvVar1,iVar7,sVar8);
  FUN_004ad7a0(psVar2,param_1,0x5c);
  sVar8 = (int)*psVar2 << 5;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  iVar7 = 0;
  *(void **)(psVar2 + 2) = pvVar1;
  if (0 < *psVar2) {
    iVar3 = 0;
    do {
      puVar4 = (undefined4 *)(iVar3 + *(int *)(param_1 + 4));
      puVar6 = (undefined4 *)(iVar3 + *(int *)(psVar2 + 2));
      for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
        *puVar6 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar6 = puVar6 + 1;
      }
      iVar7 = iVar7 + 1;
      iVar3 = iVar3 + 0x20;
    } while (iVar7 < *psVar2);
  }
  sVar8 = (int)psVar2[1] << 3;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  *(void **)(psVar2 + 4) = pvVar1;
  sVar8 = (int)psVar2[1] << 2;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  *(void **)(psVar2 + 6) = pvVar1;
  sVar8 = (int)psVar2[1] << 2;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  iVar7 = 0;
  *(void **)(psVar2 + 8) = pvVar1;
  if (0 < psVar2[1]) {
    do {
      puVar6 = (undefined4 *)(iVar7 * 8 + *(int *)(param_1 + 8));
      puVar4 = (undefined4 *)(iVar7 * 8 + *(int *)(psVar2 + 4));
      iVar7 = iVar7 + 1;
      *puVar4 = *puVar6;
      puVar4[1] = puVar6[1];
      *(undefined4 *)(*(int *)(psVar2 + 6) + -4 + iVar7 * 4) =
           *(undefined4 *)(*(int *)(param_1 + 0xc) + -4 + iVar7 * 4);
      *(undefined4 *)(*(int *)(psVar2 + 8) + -4 + iVar7 * 4) =
           *(undefined4 *)(*(int *)(param_1 + 0x10) + -4 + iVar7 * 4);
    } while (iVar7 < psVar2[1]);
  }
  sVar8 = 0x10;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x10);
  puVar4 = (undefined4 *)_memset(pvVar1,iVar7,sVar8);
  *(undefined4 **)((int)psVar2 + 0x33) = puVar4;
  *puVar4 = **(undefined4 **)(param_1 + 0x33);
  *(undefined4 *)(*(int *)((int)psVar2 + 0x33) + 4) = *(undefined4 *)(*(int *)(param_1 + 0x33) + 4);
  *(undefined4 *)(*(int *)((int)psVar2 + 0x33) + 8) = *(undefined4 *)(*(int *)(param_1 + 0x33) + 8);
  *(undefined4 *)(psVar2 + 0x2c) = 0;
  return psVar2;
}



void FUN_0040f280(int param_1)

{
  void *pvVar1;
  short *psVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  int iVar7;
  size_t sVar8;
  
  sVar8 = 0x5c;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x5c);
  psVar2 = (short *)_memset(pvVar1,iVar7,sVar8);
  FUN_004ad7a0(psVar2,param_1,0x5c);
  sVar8 = (int)*psVar2 << 5;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  iVar7 = 0;
  *(void **)(psVar2 + 2) = pvVar1;
  if (0 < *psVar2) {
    iVar3 = 0;
    do {
      puVar4 = (undefined4 *)(iVar3 + *(int *)(param_1 + 4));
      puVar6 = (undefined4 *)(iVar3 + *(int *)(psVar2 + 2));
      for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
        *puVar6 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar6 = puVar6 + 1;
      }
      iVar7 = iVar7 + 1;
      iVar3 = iVar3 + 0x20;
    } while (iVar7 < *psVar2);
  }
  sVar8 = (int)psVar2[1] << 3;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  *(void **)(psVar2 + 4) = pvVar1;
  sVar8 = (int)psVar2[1] << 2;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  *(void **)(psVar2 + 6) = pvVar1;
  sVar8 = (int)psVar2[1] << 2;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar1 = _memset(pvVar1,iVar7,sVar8);
  iVar7 = 0;
  *(void **)(psVar2 + 8) = pvVar1;
  if (0 < psVar2[1]) {
    do {
      puVar6 = (undefined4 *)(iVar7 * 8 + *(int *)(param_1 + 8));
      puVar4 = (undefined4 *)(iVar7 * 8 + *(int *)(psVar2 + 4));
      iVar7 = iVar7 + 1;
      *puVar4 = *puVar6;
      puVar4[1] = puVar6[1];
      *(undefined4 *)(*(int *)(psVar2 + 6) + -4 + iVar7 * 4) =
           *(undefined4 *)(*(int *)(param_1 + 0xc) + -4 + iVar7 * 4);
      *(undefined4 *)(*(int *)(psVar2 + 8) + -4 + iVar7 * 4) =
           *(undefined4 *)(*(int *)(param_1 + 0x10) + -4 + iVar7 * 4);
    } while (iVar7 < psVar2[1]);
  }
  sVar8 = 0x10;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x10);
  puVar4 = (undefined4 *)_memset(pvVar1,iVar7,sVar8);
  *(undefined4 **)((int)psVar2 + 0x33) = puVar4;
  *puVar4 = **(undefined4 **)(param_1 + 0x33);
  *(undefined4 *)(*(int *)((int)psVar2 + 0x33) + 4) = *(undefined4 *)(*(int *)(param_1 + 0x33) + 4);
  *(undefined4 *)(*(int *)((int)psVar2 + 0x33) + 8) = *(undefined4 *)(*(int *)(param_1 + 0x33) + 8);
  *(undefined4 *)(psVar2 + 0x2c) = 0;
  (&DAT_004d77f8)[*(char *)(psVar2 + 0x18)] = psVar2;
  return;
}



void FUN_0040f3f0(void)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_004d77f8;
  do {
    if (*piVar2 != 0) {
      iVar1 = *(int *)(*piVar2 + 4);
      if (iVar1 != 0) {
        FreeMemory(iVar1);
        *(undefined4 *)(*piVar2 + 4) = 0;
      }
      if (*(int *)(*piVar2 + 8) != 0) {
        FreeMemory(*(int *)(*piVar2 + 8));
        *(undefined4 *)(*piVar2 + 8) = 0;
      }
      if (*(int *)(*piVar2 + 0xc) != 0) {
        FreeMemory(*(int *)(*piVar2 + 0xc));
        *(undefined4 *)(*piVar2 + 0xc) = 0;
      }
      if (*(int *)(*piVar2 + 0x10) != 0) {
        FreeMemory(*(int *)(*piVar2 + 0x10));
        *(undefined4 *)(*piVar2 + 0x10) = 0;
      }
      if (*(int *)(*piVar2 + 0x33) != 0) {
        FreeMemory(*(int *)(*piVar2 + 0x33));
        *(undefined4 *)(*piVar2 + 0x33) = 0;
      }
      if (*piVar2 != 0) {
        FreeMemory(*piVar2);
        *piVar2 = 0;
      }
    }
    piVar2 = piVar2 + 1;
  } while ((int)piVar2 < 0x4d783c);
  return;
}



void FUN_0040f4a0(undefined4 param_1,int param_2,int param_3)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  bool bVar6;
  int iVar7;
  undefined4 *puVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(param_2 + 4);
  puVar11 = (undefined4 *)0x0;
  if (param_3 != 0) {
    iVar7 = *(int *)(iVar3 + 0x86);
    if (*(int *)(iVar7 + 5) == 0x640) {
      *(undefined2 *)(iVar7 + 0xc) = 0;
    }
    else {
      *(undefined2 *)(iVar7 + 0xc) = 0x640;
    }
  }
  if ((*(byte *)(*(int *)(param_2 + 4) + 0x8e) & 1) != 0) {
    if ((DAT_005e4a61 == '\0') && (iVar7 = FUN_004858c0(), iVar7 == 2)) {
      DAT_005e4a61 = '\x01';
      DAT_004c6b00 = 0;
      FUN_0048b540(*(undefined4 *)(DAT_005df318 + 4));
    }
    bVar1 = *(byte *)(iVar3 + 4);
    iVar7 = *(int *)(*(int *)(iVar3 + 0x86) + 0x13);
    iVar10 = *(int *)(iVar7 + 0x3c);
    iVar9 = *(int *)(param_2 + 4);
    iVar4 = *(int *)(*(int *)(iVar9 + 0x98) + 0x10);
    if (((((iVar4 == 4) || (iVar4 == 5)) ||
         ((iVar4 = *(int *)(*(int *)(iVar9 + 0x86) + 0x13), *(int *)(iVar4 + 0x114) == 6 &&
          (*(char *)(iVar9 + 4) == '\x03')))) ||
        ((*(int *)(iVar4 + 0x7b) == 8 &&
         ((*(char *)(iVar9 + 4) == '\x05' || (*(char *)(iVar9 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar9 + 0x8a) & 0x100000) != 0)) {
      FUN_0040f780(param_1,param_2);
    }
    else {
      FUN_0040fcf0(param_1,param_2);
    }
    bVar2 = *(byte *)(iVar3 + 4);
    if ((bVar2 == 5) || (bVar2 == 6)) {
      iVar9 = iVar7 + 0x6b;
    }
    else {
      iVar9 = iVar7 + 0x104;
    }
    *(int *)(iVar3 + 0x98) = iVar9;
    if ((bVar2 != bVar1) || (param_3 != 0)) {
      if (iVar10 != 0) {
        puVar12 = puVar11;
        do {
          puVar11 = puVar12;
          if (*(char *)(iVar7 + 0x40 + (uint)bVar1) == '\0') {
LAB_0040f61f:
            if (((*(char *)(iVar7 + 0x45) != '\0') &&
                (pcVar5 = *(char **)(*(int *)(iVar10 + 0x1c) + 0x14), pcVar5 != (char *)0x0)) &&
               ((*pcVar5 != '\0' && ((*(byte *)(iVar10 + 0x26) & 2) != 0)))) goto LAB_0040f63e;
          }
          else {
            pcVar5 = *(char **)(*(int *)(iVar10 + 0x1c) + (uint)bVar1 * 4);
            if ((((pcVar5 == (char *)0x0) || (*pcVar5 == '\0')) ||
                ((*(byte *)(iVar10 + 0x26) & 2) == 0)) ||
               (((pcVar5 = *(char **)(*(int *)(iVar10 + 0x1c) + (uint)*(byte *)(iVar3 + 4) * 4),
                 pcVar5 != (char *)0x0 && (*pcVar5 != '\0')) && (param_3 == 0)))) goto LAB_0040f61f;
LAB_0040f63e:
            puVar8 = (undefined4 *)FUN_0048b030();
            if (puVar8 != (undefined4 *)0x0) {
              *(undefined4 *)((int)puVar8 + 9) = *(undefined4 *)(iVar10 + 0x20);
              puVar8[1] = *(int *)(param_2 + 4) + 6;
              puVar11 = puVar8;
              if (puVar12 != (undefined4 *)0x0) {
                *puVar8 = puVar12;
              }
            }
          }
          iVar10 = *(int *)(iVar10 + 0x14);
          puVar12 = puVar11;
        } while (iVar10 != 0);
      }
      if (puVar11 != (undefined4 *)0x0) {
        FUN_00475dd0(puVar11);
        while (puVar11 != (undefined4 *)0x0) {
          *(undefined *)(puVar11 + 2) = 0;
          puVar11 = (undefined4 *)*puVar11;
        }
      }
    }
    if (((*(byte *)(iVar3 + 4) != bVar1) || (param_3 != 0)) ||
       ((*(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0x200) != 0)) {
      for (iVar7 = *(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x3c); iVar7 != 0;
          iVar7 = *(int *)(iVar7 + 0x14)) {
        if (*(char *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x40 + (uint)*(byte *)(iVar3 + 4))
            != '\0') {
          pcVar5 = *(char **)(*(int *)(iVar7 + 0x1c) + (uint)*(byte *)(iVar3 + 4) * 4);
          if (((((pcVar5 != (char *)0x0) && (*pcVar5 != '\0')) &&
               ((*(byte *)(iVar7 + 0x26) & 2) != 0)) ||
              ((((*(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0x200) != 0 &&
                ((*(byte *)(iVar7 + 0x26) & 2) != 0)) &&
               ((pcVar5 = *(char **)(*(int *)(iVar7 + 0x1c) + 0x14), pcVar5 != (char *)0x0 &&
                (*pcVar5 != '\0')))))) && (*(int *)(iVar7 + 0x20) != 0)) {
            bVar6 = true;
            for (iVar10 = DAT_005d0e50; iVar10 != 0; iVar10 = *(int *)(iVar10 + 0x28)) {
              if (((*(int *)(iVar7 + 0x20) == *(int *)(iVar10 + 0x2c)) && (param_3 == 0)) &&
                 (iVar3 + 6 == *(int *)(iVar10 + 0x1c))) {
                bVar6 = false;
                break;
              }
            }
            if (bVar6) {
              FUN_00475bf0(iVar7,iVar3 + 6,1,1);
            }
          }
        }
      }
    }
  }
  return;
}



void FUN_0040f780(char *param_1,int param_2)

{
  char cVar1;
  int iVar2;
  byte bVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar2 = *(int *)(param_2 + 4);
  iVar7 = 1;
  iVar6 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13);
  *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xfffdffff;
  if (((*(byte *)(iVar2 + 0xc9) & 0x20) != 0) &&
     (iVar7 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar7 == 0)) {
    FUN_00409d50(param_2,1);
  }
  switch(*(char *)(iVar2 + 4)) {
  case '\0':
    if ((((*(byte *)(*(int *)(param_2 + 4) + 0xc9) & 0x20) == 0) || (param_1[6] == '\0')) ||
       ((iVar7 == 0 || (iVar6 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar6 == 0))))
    goto switchD_0040f7f0_caseD_2;
    *(undefined *)(iVar2 + 4) = 6;
    break;
  case '\x01':
    if (((((*(byte *)(iVar2 + 0xc9) & 0x20) == 0) || (param_1[5] == '\0')) || (iVar7 == 0)) ||
       (iVar6 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar6 == 0)) goto switchD_0040f7f0_caseD_2;
    *(char *)(iVar2 + 4) = (param_1[5] == '\0') + '\x05';
    break;
  default:
    goto switchD_0040f7f0_caseD_2;
  case '\x03':
    if ((((*(byte *)(iVar2 + 0xc9) & 0x20) != 0) && (iVar7 != 0)) &&
       ((*(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7b) == 6 &&
        (iVar6 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar6 != 0)))) {
      *(undefined *)(iVar2 + 4) = 5;
      *(undefined *)(iVar2 + 5) = 0;
      return;
    }
    if (((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 0x40) != 0) ||
       ((*(byte *)(iVar2 + 0x8a) & 0x80) != 0)) {
      *(undefined *)(iVar2 + 5) = 0;
      *(bool *)(iVar2 + 4) = (*(byte *)(iVar2 + 0xc9) & 3) == 0;
      return;
    }
    goto switchD_0040f7f0_caseD_2;
  case '\x04':
    if ((*(char *)(iVar2 + 4) == '\x04') && (param_1[4] != '\0')) {
      if ((*(ushort *)(iVar2 + 0x8e) & 0x4000) != 0) {
        *(ushort *)(iVar2 + 0x8e) = *(ushort *)(iVar2 + 0x8e) & 0xbfff;
        FUN_0048b3b0(param_2);
        *(undefined *)(iVar2 + 5) = 0;
        return;
      }
      bVar3 = *(char *)(iVar2 + 5) + 1;
      *(byte *)(iVar2 + 5) = bVar3;
      if ((byte)param_1[4] <= bVar3) {
LAB_0040f86c:
        *(undefined *)(iVar2 + 5) = 0;
        goto LAB_0040f870;
      }
      if ((*(byte *)(iVar2 + 0xc9) & 0x20) != 0) {
        if ((iVar7 == 0) || (iVar4 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar4 == 0))
        goto LAB_0040f870;
        *(undefined *)(iVar2 + 4) = 5;
        goto LAB_0040f86c;
      }
    }
    else {
LAB_0040f870:
      if ((((*(byte *)(iVar2 + 0xc9) & 0x20) != 0) && (iVar7 != 0)) &&
         (iVar6 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar6 != 0)) {
        *(undefined *)(iVar2 + 4) = 6;
        break;
      }
    }
    *(undefined *)(iVar2 + 4) = 0;
    break;
  case '\x05':
    FUN_0048b3b0(param_2);
    iVar6 = *(int *)(param_2 + 4);
    iVar4 = *(int *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x7b);
    if ((iVar4 != 6) && (iVar4 != 8)) {
LAB_0040fa5f:
      if ((((int)((byte)param_1[5] - 1) <= (int)(uint)*(byte *)(iVar2 + 5)) ||
          ((*(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f) == 0x12 &&
           ((*(byte *)(iVar2 + 0xc9) & 0x20) == 0)))) && ((*(byte *)(iVar2 + 0xc9) & 0x20) == 0)) {
        cVar1 = param_1[1];
        *(undefined *)(iVar2 + 5) = 0;
        *(bool *)(iVar2 + 4) = cVar1 != '\0';
        iVar6 = *(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f);
        if (iVar6 == 0x15) {
          *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xff7fffff;
        }
        else if (iVar6 == 0x16) {
          *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xfeffffff;
        }
      }
      goto switchD_0040f7f0_caseD_2;
    }
    if ((*(byte *)(iVar2 + 0xc9) & 0x20) == 0) {
      *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xffffffbf;
      *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xffffff7f;
      FUN_004109b0(param_2);
      *(undefined *)(iVar2 + 4) = 3;
    }
    else {
      if ((iVar4 != 8) || (iVar7 != 0)) goto LAB_0040fa5f;
      *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xffffffbf;
      *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xffffff7f;
      FUN_004109b0(param_2);
      *(undefined *)(iVar2 + 4) = 1;
    }
    break;
  case '\x06':
    FUN_0048b3b0(param_2);
    iVar4 = *(int *)(*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x86) + 0x13) + 0x7b);
    if (((iVar4 != 6) && (iVar4 != 8)) && (iVar6 = FUN_00409bd0(param_2,iVar6 + 0x8d,0), iVar6 == 0)
       ) {
      *(undefined *)(iVar2 + 4) = 0;
      *(undefined *)(iVar2 + 5) = 0;
    }
    iVar6 = *(int *)(param_2 + 4);
    iVar4 = *(int *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x7b);
    if (((iVar4 == 6) || (iVar4 == 8)) &&
       (((*(byte *)(iVar2 + 0xc9) & 0x20) == 0 || ((iVar4 == 8 && (iVar7 == 0)))))) {
      *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xffffffbf;
      *(undefined *)(iVar2 + 4) = 3;
      *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xffffff7f;
      *(undefined *)(iVar2 + 5) = 0;
      FUN_004109b0(param_2);
    }
    else if ((((uint)(byte)param_1[6] <= *(byte *)(iVar2 + 5) + 1) ||
             ((*(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f) == 0x12 &&
              ((*(byte *)(iVar2 + 0xc9) & 0x20) == 0)))) &&
            (((*(byte *)(iVar2 + 0xc9) & 0x20) == 0 && (*param_1 != '\0')))) {
      *(undefined *)(iVar2 + 4) = 0;
      *(undefined *)(iVar2 + 5) = 0;
      iVar6 = *(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f);
      if (iVar6 == 0x15) {
        uVar5 = *(uint *)(iVar2 + 0x8a) & 0xff7fffff;
      }
      else {
        if (iVar6 != 0x16) goto LAB_0040fc02;
        uVar5 = *(uint *)(iVar2 + 0x8a) & 0xfeffffff;
      }
      *(uint *)(iVar2 + 0x8a) = uVar5;
    }
LAB_0040fc02:
    if (*(byte *)(iVar2 + 5) < (byte)param_1[6]) goto switchD_0040f7f0_caseD_2;
  }
  *(undefined *)(iVar2 + 5) = 0;
switchD_0040f7f0_caseD_2:
  bVar3 = *(byte *)(iVar2 + 4);
  if (param_1[bVar3] == '\0') {
    if (param_1[1] == '\0') {
      if (*param_1 == '\0') {
        do {
          *(byte *)(iVar2 + 4) = bVar3 + 1;
          if (6 < (byte)(bVar3 + 1)) {
            *(undefined *)(iVar2 + 4) = 0;
          }
          bVar3 = *(byte *)(iVar2 + 4);
        } while (param_1[bVar3] == '\0');
      }
      else {
        *(undefined *)(iVar2 + 4) = 0;
      }
    }
    else {
      *(undefined *)(iVar2 + 4) = 1;
    }
    *(undefined *)(iVar2 + 5) = 0;
  }
  if (((*(char *)(iVar2 + 4) == '\x05') || (*(char *)(iVar2 + 4) == '\x06')) &&
     ((DAT_005cff44 != 0 && (*(int *)(iVar2 + 0x86) != DAT_005d873c)))) {
    iVar6 = FUN_0047cfd0(param_2);
    if (iVar6 != 0) {
      FUN_0047d120(param_2);
    }
    FUN_004772f0(param_2);
  }
  bVar3 = *(char *)(iVar2 + 5) + 1;
  *(byte *)(iVar2 + 5) = bVar3;
  if ((byte)param_1[*(byte *)(iVar2 + 4)] <= bVar3) {
    *(undefined *)(iVar2 + 5) = 0;
  }
  return;
}



void FUN_0040fcf0(char *param_1,uint param_2)

{
  uint uVar1;
  float fVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  byte bVar7;
  int iVar8;
  uint uVar9;
  char cVar10;
  byte bVar11;
  int iVar12;
  uint uVar13;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(param_2 + 4);
  bVar11 = *(byte *)(iVar3 + 4);
  uVar9 = *(uint *)(iVar3 + 0x8a);
  uVar4 = *(uint *)(iVar3 + 0xc9);
  uVar13 = (uint)*(byte *)(iVar3 + 5);
  iVar12 = *(int *)(*(int *)(iVar3 + 0x86) + 0x13);
  if (bVar11 == 4) {
    *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xfffff7ff;
    if ((DAT_00598d6c == 0) && (*(int *)(iVar12 + 0x7f) == 1)) {
      iVar12 = 0x40fd65;
      uVar13 = param_2;
      FUN_00410c00();
    }
    if (param_1[4] != '\0') {
      if ((*(ushort *)(iVar3 + 0x8e) & 0x4000) != 0) {
        *(ushort *)(iVar3 + 0x8e) = *(ushort *)(iVar3 + 0x8e) & 0xbfff;
        FUN_0048b3b0(param_2);
        *(undefined *)(iVar3 + 5) = 0;
        return;
      }
      bVar7 = *(char *)(iVar3 + 5) + 1;
      *(byte *)(iVar3 + 5) = bVar7;
      if (bVar7 < (byte)param_1[4]) {
        if ((*(byte *)(iVar3 + 0xc9) & 0x20) == 0) {
          return;
        }
        uVar13 = 0;
        iVar12 = iVar12 + 0x8d;
        iVar8 = FUN_00409bd0(param_2);
        if (iVar8 == 0) {
          return;
        }
        if (*(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f) == 0x1a) {
          return;
        }
        if ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 8) == 0) {
          uVar13 = 0;
          iVar12 = 4;
          FUN_00475bf0(&DAT_005e475f,*(int *)(param_2 + 4) + 6);
        }
        cVar10 = param_1[5];
        *(undefined *)(iVar3 + 5) = 0;
        *(char *)(iVar3 + 4) = (cVar10 == '\0') + '\x05';
      }
    }
  }
  fVar2 = *(float *)(iVar3 + 0xe3);
  if (fVar2 < *(float *)(iVar3 + 0x19d)) {
    fVar2 = *(float *)(iVar3 + 0x19d);
  }
  iVar8 = *(int *)(param_2 + 4);
  uVar5 = *(uint *)(iVar8 + 0x8a);
  if (((((uVar5 & 0x40) != 0) && (0.8 <= *(float *)(iVar3 + 0xeb))) ||
      (((uVar9 & 0x80) != 0 && (0.8 <= *(float *)(iVar3 + 0xeb))))) ||
     ((*(float *)(iVar3 + 0x3a) - fVar2 <= 10.0 || (bVar11 == 2)))) {
LAB_0040ff60:
    if ((bVar11 == 5) || (bVar11 == 6)) goto LAB_0040ff6e;
  }
  else {
    if (bVar11 != 5) {
      if ((((param_1[3] != '\0') && (iVar6 = *(int *)(*(int *)(iVar3 + 0x98) + 0x10), iVar6 != 3))
          && (iVar6 != 2)) && ((iVar6 != 7 && ((uVar5 & 0x800) == 0)))) {
        if ((*(byte *)(iVar3 + 0xc9) & 0x20) != 0) {
          iVar12 = *(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f);
          if (((iVar12 != 10) && (*(char *)(*(int *)(iVar3 + 0x86) + 10) == '\0')) &&
             (iVar12 != 0x1a)) {
            cVar10 = param_1[5];
            *(undefined *)(iVar3 + 5) = 0;
            *(char *)(iVar3 + 4) = (cVar10 == '\0') + '\x05';
            return;
          }
        }
        if (bVar11 != 3) {
          *(undefined *)(iVar3 + 4) = 3;
          *(undefined *)(iVar3 + 5) = 0;
          return;
        }
        bVar11 = *(char *)(iVar3 + 5) + 1;
        *(byte *)(iVar3 + 5) = bVar11;
        if (bVar11 < (byte)param_1[3]) {
          return;
        }
        *(undefined *)(iVar3 + 5) = 0;
        return;
      }
      goto LAB_0040ff60;
    }
LAB_0040ff6e:
    if ((*(int *)(iVar12 + 0x7f) == 1) &&
       ((bVar11 == 5 &&
        ((int)(uint)*(byte *)(iVar3 + 5) < (int)((byte)param_1[*(byte *)(iVar3 + 4)] - 1))))) {
      *(uint *)(iVar8 + 0x8a) = uVar5 | 0x800;
      bVar11 = *(byte *)(iVar3 + 5);
      *(undefined4 *)(iVar3 + 0xac) = 0;
      *(undefined4 *)(iVar3 + 0xa4) = 0;
      if (bVar11 < 5) {
        if (((uVar4 & 0x20) == 0) || ((uVar4 & 0x400) != 0)) {
          if (DAT_00598d6c == 0) {
            FUN_00410c00(param_2);
          }
          if ((byte)param_1[5] < 6) {
            *(byte *)(iVar3 + 5) = param_1[5] - 1;
          }
          else {
            *(undefined *)(iVar3 + 5) = 5;
          }
          *(uint *)(*(int *)(param_2 + 4) + 0x8a) =
               *(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0xfffff7ff;
          *(undefined4 *)(iVar3 + 0x90) = 0;
          *(undefined *)(iVar3 + 200) = 0;
          return;
        }
        if ((DAT_005cff44 != 0) && (*(int *)(iVar3 + 0x86) != DAT_005d873c)) {
          iVar12 = FUN_0047cfd0(param_2);
          if (iVar12 != 0) {
            FUN_0047d120(param_2);
          }
          FUN_004772f0(param_2);
        }
        if ((*(byte *)(iVar3 + 0x8a) & 2) != 0) {
          *(undefined *)(*(int *)(iVar3 + 0x100) + 0x43) = 0;
        }
        cVar10 = *(char *)(iVar3 + 5) + '\x01';
        *(char *)(iVar3 + 5) = cVar10;
        if (cVar10 != '\x05') {
          return;
        }
        *(undefined *)(iVar3 + 5) = 0;
        return;
      }
      goto LAB_00410499;
    }
    if ((uVar5 & 0x800) != 0) {
      bVar7 = *(byte *)(iVar3 + 5);
      if (bVar7 < 2) {
        *(byte *)(iVar3 + 5) = bVar7 + 1;
        *(undefined *)(iVar3 + 200) = 0;
        FUN_0048b3b0(param_2);
        return;
      }
      if (bVar7 != 2) {
        uVar13 = uVar13 & 0xff;
        uVar1 = (byte)param_1[bVar11] - 4;
        if ((int)uVar13 < (int)uVar1) {
          *(byte *)(iVar3 + 5) = bVar7 + 1;
          FUN_0048b3b0(param_2);
          return;
        }
        if (((uVar5 & 0x40) == 0) && ((uVar9 & 0x80) == 0)) {
          if ((uVar13 == uVar1) && (*(float *)(iVar3 + 0xa8) < 0.01)) {
            *(byte *)(iVar3 + 5) = bVar7 + 1;
            FUN_0048b3b0(param_2);
            return;
          }
          if ((int)((byte)param_1[bVar11] - 1) <= (int)uVar13) {
            return;
          }
          *(byte *)(iVar3 + 5) = bVar7 + 1;
          FUN_0048b3b0(param_2);
          return;
        }
        *(uint *)(iVar8 + 0x8a) = uVar5 & 0xfffff7ff;
        *(undefined *)(iVar3 + 200) = 0;
        *(bool *)(iVar3 + 4) = (uVar4 & 3) == 0;
        *(undefined *)(iVar3 + 5) = 0;
        return;
      }
      if ((uVar4 & 0x20) == 0) {
        *(undefined *)(iVar3 + 5) = 3;
        fVar2 = (float)(uint)*(byte *)(iVar3 + 200) * 0.6 * 0.25;
        *(float *)(iVar3 + 0xa4) = *(float *)(iVar3 + 0x26) * fVar2 * -0.5;
        *(float *)(iVar3 + 0xa8) = fVar2 * 0.5;
        *(float *)(iVar3 + 0xac) = *(float *)(iVar3 + 0x2e) * fVar2 * -0.5;
        *(uint *)(*(int *)(param_2 + 4) + 0x8a) =
             *(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0xffffffbf;
        *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xffffff7f;
        FUN_0048b3b0(param_2);
        return;
      }
      if (*(byte *)(iVar3 + 200) < 0x32) {
        *(byte *)(iVar3 + 200) = *(byte *)(iVar3 + 200) + 1;
        FUN_0048b3b0(param_2);
        return;
      }
      goto LAB_004105d9;
    }
    if (((int)(uVar13 & 0xff) < (int)((byte)param_1[bVar11] - 1)) &&
       ((*(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f) != 0x12 ||
        ((*(byte *)(iVar3 + 0xc9) & 0x20) != 0)))) {
      if (((DAT_005cff44 != 0) && (*(int *)(iVar3 + 0x86) != DAT_005d873c)) &&
         ((*(char *)(iVar3 + 4) == '\x05' || (*(char *)(iVar3 + 4) == '\x06')))) {
        iVar12 = FUN_0047cfd0(param_2);
        if (iVar12 != 0) {
          FUN_0047d120(param_2);
        }
        FUN_004772f0(param_2);
      }
      if (*(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f) == 10) {
        FUN_0048b3b0(param_2);
      }
      bVar11 = *(char *)(iVar3 + 5) + 1;
      *(byte *)(iVar3 + 5) = bVar11;
      if ((byte)param_1[*(byte *)(iVar3 + 4)] <= bVar11) {
        *(undefined *)(iVar3 + 5) = 0;
        FUN_0048b3b0(param_2);
        return;
      }
      goto LAB_004105d9;
    }
    if ((DAT_005cff44 != 0) && (*(int *)(iVar3 + 0x86) != DAT_005d873c)) {
      iVar12 = FUN_0047cfd0(param_2);
      if (iVar12 != 0) {
        FUN_0047d120(param_2);
      }
      uVar13 = param_2;
      FUN_004772f0();
    }
  }
  if (bVar11 == 2) {
    uVar5 = *(uint *)(*(int *)(param_2 + 4) + 0x8a);
    if (((uVar5 & 0x40) == 0) && ((uVar9 & 0x80) == 0)) {
      *(uint *)(*(int *)(param_2 + 4) + 0x8a) = uVar5 & 0xfffff7ff;
      iVar12 = *(int *)(param_2 + 4);
      if ((*(float *)(iVar12 + 0x3a) < *(float *)(iVar12 + 0x1a1) - 3.0) && (param_1[3] != '\0')) {
        *(undefined *)(iVar3 + 4) = 3;
        *(undefined *)(iVar3 + 5) = 0;
        return;
      }
      *(uint *)(iVar12 + 0x8a) = *(uint *)(iVar12 + 0x8a) & 0xfffff7ff;
      if (((*(byte *)(iVar3 + 0xc9) & 0x20) != 0) &&
         (iVar12 = *(int *)(*(int *)(iVar3 + 0x86) + 0x13), *(int *)(iVar12 + 0x7f) != 10)) {
        uVar13 = 0;
        iVar12 = FUN_00409bd0(param_2,iVar12 + 0x8d);
        if ((iVar12 != 0) && (*(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f) != 0x1a)) {
          cVar10 = param_1[5];
          *(undefined *)(iVar3 + 5) = 0;
          *(char *)(iVar3 + 4) = (cVar10 == '\0') + '\x05';
          iVar12 = *(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f);
          if (iVar12 == 0x15) {
            *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) | 0x800000;
            FUN_0048b3b0(param_2);
            return;
          }
          if (iVar12 == 0x16) {
            *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) | 0x1000000;
            FUN_0048b3b0(param_2);
            return;
          }
          goto LAB_004105d9;
        }
      }
      bVar11 = param_1[2];
      uVar13 = uVar13 & 0xff;
      uVar9 = bVar11 - 4;
      if ((int)uVar13 < (int)uVar9) {
        *(char *)(iVar3 + 5) = *(char *)(iVar3 + 5) + '\x01';
        return;
      }
      if (uVar13 == uVar9) {
        if (0.0 < *(float *)(iVar3 + 0xa8)) {
          return;
        }
        *(char *)(iVar3 + 5) = *(char *)(iVar3 + 5) + '\x01';
        return;
      }
      if ((int)(bVar11 - 1) <= (int)uVar13) {
        *(byte *)(iVar3 + 5) = bVar11 - 1;
        return;
      }
      bVar11 = *(byte *)(iVar3 + 5);
LAB_00410499:
      *(byte *)(iVar3 + 5) = bVar11 + 1;
      return;
    }
  }
  iVar12 = 0x4104bb;
  bVar7 = FUN_004105f0(uVar4,param_2);
  if (bVar7 != bVar11) {
    *(byte *)(iVar3 + 4) = bVar7;
    *(undefined *)(iVar3 + 5) = 0;
    iVar12 = 1;
  }
  if (bVar7 == 2) {
    *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0xffffffbf;
    *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xffffff7f;
    *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0xfffff7ff;
    if (((*(uint *)(iVar3 + 0x8a) & 0x10) != 0) && (*(int *)(*(int *)(iVar3 + 0x98) + 0x10) != 7)) {
      uVar9 = *(uint *)(iVar3 + 0x8a) | 0x8000;
      goto LAB_0041052b;
    }
  }
  else {
    uVar9 = *(uint *)(iVar3 + 0x8a) & 0xffff7fff;
LAB_0041052b:
    *(uint *)(iVar3 + 0x8a) = uVar9;
  }
  if (param_1[*(byte *)(iVar3 + 4)] == '\0') {
    if (param_1[1] == '\0') {
      if (*param_1 == '\0') {
        cVar10 = param_1[bVar11];
        while (cVar10 == '\0') {
          bVar7 = *(char *)(iVar3 + 4) + 1;
          *(byte *)(iVar3 + 4) = bVar7;
          if (6 < bVar7) {
            *(undefined *)(iVar3 + 4) = 0;
          }
          cVar10 = param_1[bVar11];
        }
        *(undefined *)(iVar3 + 5) = 0;
        iVar12 = 1;
      }
      else {
        *(undefined *)(iVar3 + 4) = 0;
        *(undefined *)(iVar3 + 5) = 0;
        iVar12 = 1;
      }
    }
    else {
      *(undefined *)(iVar3 + 4) = 1;
      *(undefined *)(iVar3 + 5) = 0;
      iVar12 = 1;
    }
  }
  if (iVar12 == 0) {
    bVar11 = *(char *)(iVar3 + 5) + 1;
    *(byte *)(iVar3 + 5) = bVar11;
    if ((byte)param_1[*(byte *)(iVar3 + 4)] <= bVar11) {
      *(undefined *)(iVar3 + 5) = 0;
      FUN_0048b3b0(param_2);
      return;
    }
  }
  else if ((byte)param_1[*(byte *)(iVar3 + 4)] <= *(byte *)(iVar3 + 5)) {
    *(undefined *)(iVar3 + 5) = 0;
  }
LAB_004105d9:
  FUN_0048b3b0(param_2);
  return;
}



uint FUN_004105f0(uint param_1,uint param_2)

{
  float fVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  undefined3 uVar9;
  uint uVar8;
  uint3 uVar10;
  uint uVar11;
  
  iVar5 = param_2;
  uVar4 = param_1;
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_2 + 4);
  param_2 = 1;
  uVar6 = *(uint *)(iVar2 + 0x86);
  iVar3 = *(int *)(uVar6 + 0x13);
  *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xfffdffff;
  uVar11 = param_1 & 0x20;
  if ((uVar11 != 0) &&
     (param_2 = FUN_00409bd0(iVar5,*(int *)(uVar6 + 0x13) + 0x8d,0), uVar6 = param_2, param_2 == 0))
  {
    uVar6 = FUN_00409d50(iVar5,1);
  }
  if ((uVar11 == 0) || (param_1 = 1, uVar6 = param_2, param_2 == 0)) {
    param_1 = 0;
  }
  uVar8 = uVar6;
  if ((((((uVar4 & 0x10) == 0) || (*(char *)(iVar2 + 4) == '\x02')) ||
       (uVar8 = CONCAT31((int3)(uVar6 >> 8),*(char *)(iVar3 + 0x42)),
       *(char *)(iVar3 + 0x42) == '\0')) ||
      ((fVar1 = *(float *)(iVar2 + 0xeb),
       uVar8 = CONCAT22((short)(uVar6 >> 0x10),
                        (ushort)(fVar1 < 0.8) << 8 | (ushort)(fVar1 == 0.8) << 0xe), fVar1 < 0.8 ||
       (uVar8 = *(uint *)(*(int *)(iVar2 + 0x98) + 0x10), uVar8 == 2)))) ||
     ((uVar8 == 3 || ((uVar8 == 7 || (uVar8 = param_1, param_1 != 0)))))) {
    if ((((uVar4 & 3) == 0) &&
        (((uVar4 & 0x300) == 0 && (((uVar4 & 4) == 0 || ((uVar4 & 0x40) == 0)))))) &&
       (((uVar4 & 8) == 0 || ((uVar4 & 0x40) == 0)))) {
      if (((uVar11 != 0) && (param_2 != 0)) &&
         ((*(int *)(iVar3 + 0x7f) != 10 &&
          ((iVar7 = FUN_00409bd0(iVar5,iVar3 + 0x8d,0), iVar7 == 1 &&
           (*(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f) != 0x1a)))))) {
        uVar9 = (undefined3)((uint)*(int *)(iVar2 + 0x86) >> 8);
        if (*(char *)(iVar3 + 0x45) == '\0') {
          uVar6 = CONCAT31(uVar9,-(*(char *)(iVar3 + 0x46) != '\0')) & 0xffffff05;
          uVar8 = CONCAT31((int3)(uVar6 >> 8),(char)uVar6 + '\x01');
        }
        else {
          uVar8 = CONCAT31(uVar9,5);
        }
        *(uint *)(*(int *)(iVar5 + 4) + 0x8a) = *(uint *)(*(int *)(iVar5 + 4) + 0x8a) & 0xfffff7ff;
        *(int *)(iVar2 + 0x98) = iVar3 + 0x6b;
        goto LAB_00410832;
      }
      *(int *)(iVar2 + 0x98) = iVar3 + 0x104;
      uVar8 = CONCAT31((int3)((uint)(iVar3 + 0x104) >> 8),1);
    }
    else {
      if ((((uVar11 == 0) || (uVar8 = param_2, param_2 == 0)) ||
          (uVar8 = FUN_00409bd0(iVar5,*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x8d,0), uVar8 != 1)
          ) || (uVar8 = *(uint *)(iVar2 + 0x86), *(int *)(*(int *)(uVar8 + 0x13) + 0x7f) == 0x1a)) {
        uVar8 = uVar8 & 0xffffff00;
        *(int *)(iVar2 + 0x98) = iVar3 + 0x104;
        goto LAB_00410832;
      }
      *(int *)(iVar2 + 0x98) = iVar3 + 0x6b;
      uVar10 = (uint3)(uVar8 >> 8);
      iVar7 = CONCAT31(uVar10,*(char *)(iVar3 + 0x46));
      if (*(char *)(iVar3 + 0x46) == '\0') {
        if (*(char *)(iVar3 + 0x45) == '\0') {
          uVar8 = (uint)uVar10 << 8;
        }
        else {
          uVar8 = CONCAT31(uVar10,5);
          if (DAT_00598d6c == 0) {
            *(undefined4 *)(iVar2 + 0xac) = 0;
            *(undefined4 *)(iVar2 + 0xa4) = 0;
          }
        }
      }
      else if ((*(int *)(iVar3 + 0x7f) == 10) &&
              (iVar7 = *(int *)(iVar5 + 4), (*(byte *)(iVar7 + 0x8a) & 0xc0) != 0)) {
        uVar8 = CONCAT31((int3)((uint)iVar7 >> 8),5);
      }
      else {
        uVar8 = CONCAT31((int3)((uint)iVar7 >> 8),6);
      }
    }
  }
  else {
    uVar8 = 2;
    *(int *)(iVar2 + 0x98) = iVar3 + 0x104;
  }
  *(uint *)(*(int *)(iVar5 + 4) + 0x8a) = *(uint *)(*(int *)(iVar5 + 4) + 0x8a) & 0xfffff7ff;
LAB_00410832:
  if ((*(uint *)(*(int *)(iVar5 + 4) + 0x8a) & 0x20200000) != 0) {
    uVar9 = (undefined3)(uVar8 >> 8);
    if ((char)uVar8 == '\0') {
      uVar8 = CONCAT31(uVar9,1);
    }
    else if ((char)uVar8 == '\x06') {
      return CONCAT31(uVar9,*(char *)(iVar3 + 0x45) == '\0') + 5;
    }
  }
  return uVar8;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00410870(int param_1)

{
  uint *puVar1;
  byte bVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar4 = *(int *)(param_1 + 4);
  *(uint *)(iVar4 + 0x8a) = *(uint *)(iVar4 + 0x8a) & 0xffffff7f;
  puVar1 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
  *puVar1 = *puVar1 & 0xffffffbf;
  FUN_00409d50(param_1,1);
  *(undefined4 *)(iVar4 + 0xdf) = 0;
  *(undefined4 *)(iVar4 + 0x9c) = 0;
  iVar5 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13);
  bVar2 = *(byte *)(iVar4 + 4);
  cVar3 = *(char *)(iVar5 + 0x40 + (uint)bVar2);
  while (cVar3 == '\0') {
    *(byte *)(iVar4 + 4) = bVar2 + 1;
    if (6 < (byte)(bVar2 + 1)) {
      *(undefined *)(iVar4 + 4) = 0;
    }
    bVar2 = *(byte *)(iVar4 + 4);
    cVar3 = *(char *)(iVar5 + 0x40 + (uint)bVar2);
  }
  *(undefined *)(iVar4 + 5) = 0;
  for (iVar6 = *(int *)(iVar5 + 0x5b); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x74)) {
    *(undefined *)(iVar6 + 0x134) = 1;
  }
  for (iVar6 = *(int *)(iVar5 + 0x57); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x58)) {
    *(undefined *)(iVar6 + 0x37) = 0;
  }
  FUN_004109b0(param_1);
  *(int *)(iVar4 + 0x98) = iVar5 + 0x6b;
  iVar5 = *(int *)(param_1 + 4);
  iVar6 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
  if ((((((iVar6 == 4) || (iVar6 == 5)) ||
        ((iVar6 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar6 + 0x114) == 6 &&
         (*(char *)(iVar5 + 4) == '\x03')))) ||
       ((*(int *)(iVar6 + 0x7b) == 8 &&
        ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
      ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) &&
     (*(float *)(iVar4 + 0x3a) < *(float *)(iVar4 + 0xe3) - -10.0)) {
    *(undefined4 *)(iVar4 + 0xdf) = 0xbe6147ae;
  }
  *(ushort *)(iVar4 + 0x8e) = *(ushort *)(iVar4 + 0x8e) | 1;
  _DAT_005f76cc = 1;
  return;
}



void FUN_004109b0(int param_1)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  undefined4 *puVar4;
  float *pfVar5;
  undefined4 *puVar6;
  float local_50 [4];
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  float local_30;
  undefined4 local_2c;
  float local_28;
  undefined4 uStack_20;
  float *pfStack_1c;
  int iStack_18;
  undefined4 *puStack_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
  if (((((iVar2 == 4) || (iVar2 == 5)) ||
       ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
        (*(char *)(iVar1 + 4) == '\x03')))) ||
      ((*(int *)(iVar2 + 0x7b) == 8 &&
       ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)) {
    puStack_14 = (undefined4 *)(iVar1 + 6);
    iStack_18 = iVar1 + 0x46;
    pfStack_1c = local_50;
    uStack_20 = 0x410a91;
    MultiplyMatrices();
  }
  else {
    pfVar3 = (float *)(iVar1 + 6);
    pfVar5 = local_50;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pfVar5 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar5 = pfVar5 + 1;
    }
    *(float *)(iVar1 + 6) = *(float *)(iVar1 + 0xa4);
    *(undefined4 *)(iVar1 + 10) = *(undefined4 *)(iVar1 + 0xa8);
    *(undefined4 *)(iVar1 + 0xe) = *(undefined4 *)(iVar1 + 0xac);
    *(undefined4 *)(iVar1 + 0x16) = *(undefined4 *)(iVar1 + 0xa4);
    *(undefined4 *)(iVar1 + 0x1a) = *(undefined4 *)(iVar1 + 0xa8);
    *(undefined4 *)(iVar1 + 0x1e) = *(undefined4 *)(iVar1 + 0xac);
    *(undefined4 *)(iVar1 + 0x26) = *(undefined4 *)(iVar1 + 0xa4);
    *(undefined4 *)(iVar1 + 0x2a) = *(undefined4 *)(iVar1 + 0xa8);
    *(undefined4 *)(iVar1 + 0x2e) = *(undefined4 *)(iVar1 + 0xac);
  }
  puVar4 = &DAT_004d1ae0;
  puVar6 = (undefined4 *)(iVar1 + 0x46);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar6 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar6 = puVar6 + 1;
  }
  puStack_14 = &DAT_005f76c0;
  DAT_005f76c0 = local_30;
  DAT_005f76c4 = 0;
  DAT_005f76c8 = local_28;
  iStack_18 = 0x410ac5;
  FUN_0045eab0();
  local_3c = 0x3f800000;
  local_38 = 0;
  local_30 = DAT_005f76c0;
  local_28 = DAT_005f76c8;
  local_50[0] = DAT_005f76c8 - 0.0;
  local_50[1] = 0.0;
  local_2c = DAT_005f76c4;
  local_50[2] = 0.0 - DAT_005f76c0;
  local_40 = 0;
  pfVar3 = local_50;
  pfVar5 = (float *)(iVar1 + 6);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar5 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar5 = pfVar5 + 1;
  }
  *(undefined4 *)(*(int *)(param_1 + 4) + 0x9c) = 0;
  return;
}



void FUN_00410b60(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
  iVar3 = iVar2 + 0x40;
  if ((((*(uint *)(iVar1 + 0x8a) & 0x800) == 0) && (*(char *)(iVar1 + 4) != '\x05')) &&
     (*(char *)(iVar1 + 4) != '\x06')) {
    if (*(char *)(iVar2 + 0x44) != '\0') {
      FUN_0048b5d0(param_1);
      *(byte *)(iVar1 + 0x8f) = *(byte *)(iVar1 + 0x8f) | 0x40;
      *(undefined *)(iVar1 + 4) = 4;
      *(undefined *)(iVar1 + 5) = 0;
      FUN_0040f4a0(iVar3,param_1,0);
      return;
    }
    FUN_0048b5d0(param_1);
    *(undefined *)(iVar1 + 4) = 1;
    *(undefined *)(iVar1 + 5) = 0;
    FUN_0040f4a0(iVar3,param_1,0);
    return;
  }
  if ((*(uint *)(iVar1 + 0x8a) & 8) == 0) {
    FUN_00475bf0(&DAT_005e475f,iVar1 + 6,4,0);
  }
  return;
}



void FUN_00410c00(uint param_1)

{
  byte *pbVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  byte bVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 uVar10;
  int iVar11;
  int iVar12;
  float fVar13;
  
  iVar9 = param_1;
  AdjustStackForLargeAllocations();
  iVar7 = *(int *)(param_1 + 4);
  if ((DAT_00598d6c == 0) &&
     (pbVar1 = (byte *)(param_1 + 0x22),
     param_1 = (uint)*(ushort *)((uint)*pbVar1 * 5 + -4 + DAT_005cff48),
     param_1 < (uint)*pbVar1 * 0x10)) {
    iVar12 = param_1 * 0xcc;
    iVar11 = DAT_005cff44;
    do {
      iVar8 = *(int *)(iVar11 + 0x97 + iVar12);
      if (((iVar8 != 0) && (iVar8 != 4)) &&
         (*(int *)(*(int *)(*(int *)(iVar11 + 0xab + iVar12) + 0x13) + 0x7f) == 1)) {
        bVar6 = *(byte *)(iVar11 + 0xb3 + iVar12);
        if (((bVar6 & 4) != 0) && (*(int *)(iVar11 + 0xa3 + iVar12) == iVar9)) {
          *(byte *)(iVar11 + 0xb3 + iVar12) = bVar6 & 0xfb;
          if ((*(byte *)(iVar7 + 0x8a) & 2) == 0) {
            uVar10 = *(undefined4 *)(iVar9 + 0x12);
LAB_00410ce1:
            *(undefined4 *)(DAT_005cff44 + 0xa7 + iVar12) = uVar10;
          }
          else {
            if ((*(byte *)(*(int *)(iVar7 + 0x100) + 0x58) & 0x10) != 0) {
              uVar10 = *(undefined4 *)(DAT_005df318 + 4);
              goto LAB_00410ce1;
            }
            *(undefined4 *)(DAT_005cff44 + 0xa7 + iVar12) = 0;
          }
          iVar11 = *(int *)(DAT_005cff44 + 0xa7 + iVar12);
          if (iVar11 == 0) {
            fVar2 = *(float *)(iVar7 + 0x26);
            fVar3 = *(float *)(iVar7 + 0x2a);
            fVar13 = -*(float *)(iVar7 + 0x2e);
            FUN_0045eab0(&stack0xfffffff0);
            *(float *)(DAT_005cff44 + 0x87 + iVar12) =
                 *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xa5) * -fVar2
            ;
            *(float *)(DAT_005cff44 + 0x8b + iVar12) =
                 *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xa9) * -fVar3
            ;
            fVar2 = *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xad);
          }
          else {
            fVar2 = *(float *)(*(int *)(iVar11 + 4) + 0x36);
            fVar3 = *(float *)(iVar7 + 0x36);
            fVar4 = *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xa7 + iVar12) + 4) + 0x3a);
            fVar5 = *(float *)(iVar7 + 0x3a);
            fVar13 = *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xa7 + iVar12) + 4) + 0x3e) -
                     *(float *)(iVar7 + 0x3e);
            FUN_0045eab0(&stack0xfffffff0);
            *(float *)(DAT_005cff44 + 0x87 + iVar12) =
                 *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xa5) *
                 (fVar2 - fVar3);
            *(float *)(DAT_005cff44 + 0x8b + iVar12) =
                 *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xa9) *
                 (fVar4 - fVar5);
            fVar2 = *(float *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar12) + 0x13) + 0xad);
          }
          *(float *)(DAT_005cff44 + 0x8f + iVar12) = fVar2 * fVar13;
          iVar11 = DAT_005cff44;
        }
      }
      param_1 = param_1 + 1;
      iVar12 = iVar12 + 0xcc;
    } while ((int)param_1 < (int)((uint)*(byte *)(iVar9 + 0x22) * 0x10));
  }
  return;
}



undefined4 FUN_00410e40(int param_1,uint param_2)

{
  int **ppiVar1;
  int iVar2;
  void *_Dst;
  undefined4 *puVar3;
  undefined4 local_360 [91];
  undefined4 local_1f4 [16];
  uint local_1b4;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 uStackY_60;
  int *piStackY_5c;
  undefined4 uStackY_58;
  undefined4 uStackY_54;
  int *piStackY_50;
  undefined4 uStackY_4c;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  DAT_005e5010 = &DAT_005e5140;
  iVar2 = FUN_00459d30();
  if (iVar2 == 0) {
    return 0;
  }
  iVar2 = (**ppcRam00000000)();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(&local_88,0,0x6c);
  local_88 = 0x6c;
  iVar2 = (*ppcRam00000000[0x16])();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(local_1f4,0,0x16c);
  local_1f4[0] = 0x16c;
  _memset(local_360,0,0x16c);
  local_360[0] = 0x16c;
  iVar2 = (**(code **)(*DAT_005e58e4 + 0x2c))();
  if (iVar2 != 0) {
    return 0;
  }
  if ((local_1b4 < param_2) && (DAT_005e58d0 != 0)) {
    return 1;
  }
  if (*(int *)(DAT_005e5010 + 0x219c) != 0) {
    local_88 = 0x6c;
  }
  local_84 = 0x1007;
  ppiVar1 = (int **)(param_1 + 0xd);
  iVar2 = FUN_00413f70();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)**ppiVar1)();
  if (iVar2 != 0) {
    return 0;
  }
  if (DAT_005d6644 == 0) {
    _Size = 8;
    iVar2 = 0;
    uStackY_4c = 0x411016;
    _Dst = (void *)AllocateMemoryWithCallback();
    uStackY_4c = 0x41101f;
    puVar3 = (undefined4 *)_memset(_Dst,iVar2,_Size);
    *puVar3 = DAT_005e72fc;
    puVar3[1] = DAT_005e72fc;
    uStackY_4c = 0x41103f;
    iVar2 = (**(code **)(**ppiVar1 + 0x74))();
    if (iVar2 != 0) {
      GetErrorStringFunc();
      if (puVar3 == (undefined4 *)0x0) goto LAB_0041106b;
      FreeMemory();
      puVar3 = (undefined4 *)0x0;
    }
    if (puVar3 != (undefined4 *)0x0) {
      FreeMemory();
    }
  }
LAB_0041106b:
  iVar2 = (**(code **)(**(int **)(param_1 + 0x11) + 0x18))();
  if (iVar2 != 0) {
    piStackY_5c = *ppiVar1;
    uStackY_4c = 0x1000000;
    piStackY_50 = (int *)0x0;
    uStackY_54 = 0;
    uStackY_58 = 0;
    uStackY_60 = 0x411092;
    FUN_00424d60();
  }
  piStackY_50 = *(int **)(param_1 + 0x11);
  uStackY_4c = *(undefined4 *)(DAT_005e5010 + 8);
  uStackY_54 = 0x4110a9;
  iVar2 = (**(code **)(*piStackY_50 + 0x10))();
  if (iVar2 == 0) {
    return 1;
  }
  return 0;
}



void FUN_004110d0(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined local_34 [12];
  float local_28;
  float local_24;
  undefined4 local_20;
  undefined *local_1c;
  float *local_18;
  undefined **local_14;
  
  AdjustStackForLargeAllocations();
  FUN_00411390();
  for (iVar1 = *(int *)(param_1 + 0x57); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x58)) {
    param_1 = 0;
    if (0 < *(short *)(iVar1 + 2)) {
      do {
        iVar6 = (uint)*(ushort *)(*(int *)(iVar1 + 8) + param_1 * 8) * 0x20 + *(int *)(iVar1 + 4);
        local_28 = *(float *)((uint)*(ushort *)(*(int *)(iVar1 + 8) + 4 + param_1 * 8) * 0x20 +
                             *(int *)(iVar1 + 4)) -
                   *(float *)((uint)*(ushort *)(*(int *)(iVar1 + 8) + param_1 * 8) * 0x20 +
                             *(int *)(iVar1 + 4));
        local_24 = *(float *)((uint)*(ushort *)(*(int *)(iVar1 + 8) + 4 + param_1 * 8) * 0x20 + 4 +
                             *(int *)(iVar1 + 4)) -
                   *(float *)((uint)*(ushort *)(*(int *)(iVar1 + 8) + param_1 * 8) * 0x20 + 4 +
                             *(int *)(iVar1 + 4));
        local_14 = &local_1c;
        local_18 = &local_28;
        local_1c = local_34;
        local_20 = 0x411203;
        FUN_0045eb50();
        local_14 = (undefined **)local_34;
        local_18 = (float *)0x41120f;
        FUN_0045eab0();
        local_14 = (undefined **)&stack0xfffffff0;
        local_18 = (float *)0x411230;
        FUN_0045eab0();
        local_14 = (undefined **)local_34;
        local_18 = (float *)&stack0xfffffff0;
        local_1c = (undefined *)0x411240;
        FUN_0045eba0();
        local_14 = (undefined **)0x4112d1;
        uVar2 = __ftol();
        local_14 = (undefined **)0x4112e1;
        uVar3 = __ftol();
        local_14 = (undefined **)0x4112f9;
        uVar4 = __ftol();
        uVar4 = (uVar2 | (uVar3 | 0xffffff00) << 8) << 8 | uVar4;
        *(uint *)(iVar6 + 0x14) = uVar4;
        *(uint *)(iVar6 + 0x10) = uVar4;
        *(uint *)((uint)*(ushort *)(*(int *)(iVar1 + 8) + 2 + param_1 * 8) * 0x20 + 0x14 +
                 *(int *)(iVar1 + 4)) = uVar4;
        iVar5 = *(int *)(iVar1 + 4) +
                (uint)*(ushort *)(*(int *)(iVar1 + 8) + 2 + param_1 * 8) * 0x20;
        *(undefined4 *)(iVar5 + 0x10) = *(undefined4 *)(iVar5 + 0x14);
        *(undefined4 *)
         ((uint)*(ushort *)(*(int *)(iVar1 + 8) + 4 + param_1 * 8) * 0x20 + 0x14 +
         *(int *)(iVar1 + 4)) = *(undefined4 *)(iVar6 + 0x10);
        iVar6 = (uint)*(ushort *)(*(int *)(iVar1 + 8) + 4 + param_1 * 8) * 0x20 +
                *(int *)(iVar1 + 4);
        param_1 = param_1 + 1;
        *(undefined4 *)(iVar6 + 0x10) = *(undefined4 *)(iVar6 + 0x14);
      } while (param_1 < *(short *)(iVar1 + 2));
    }
  }
  return;
}



void FUN_00411390(int param_1)

{
  ushort uVar1;
  short *psVar2;
  int iVar3;
  bool bVar4;
  size_t sVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  
  AdjustStackForLargeAllocations();
  for (psVar2 = *(short **)(param_1 + 0x57); psVar2 != (short *)0x0;
      psVar2 = *(short **)(psVar2 + 0x2c)) {
    sVar5 = (*psVar2 + 1000) * 0x20;
    iVar13 = 0;
    param_1 = 0;
    pvVar6 = (void *)AllocateMemoryWithCallback(sVar5);
    pvVar6 = _memset(pvVar6,iVar13,sVar5);
    FUN_004ad7a0(pvVar6,*(undefined4 *)(psVar2 + 2),(int)*psVar2 << 5);
    if (*(int *)(psVar2 + 2) != 0) {
      FreeMemory(*(int *)(psVar2 + 2));
      *(undefined4 *)(psVar2 + 2) = 0;
    }
    iVar13 = (int)*psVar2;
    *(void **)(psVar2 + 2) = pvVar6;
    iVar7 = (int)psVar2[1];
    iVar11 = 0;
    if (0 < iVar7) {
      iVar15 = 0;
      iVar14 = 0;
      iVar12 = 1;
      iVar8 = iVar13;
      do {
        if (iVar12 < iVar7) {
          iVar7 = iVar13 << 5;
          iVar11 = iVar12;
          do {
            bVar4 = false;
            if ((*(int *)(iVar14 + *(int *)(psVar2 + 6)) == -1) &&
               (iVar3 = *(int *)(psVar2 + 8),
               *(int *)(iVar14 + iVar3) != *(int *)(iVar3 + iVar11 * 4))) {
              iVar13 = iVar8;
              if ((0x32 < (int)((*(byte *)(iVar14 + iVar3) & 0xf8) -
                               (*(byte *)(iVar3 + iVar11 * 4) & 0xf8))) ||
                 ((0x32 < (int)((*(byte *)(iVar14 + 1 + iVar3) & 0xfffc) -
                               (uint)(*(byte *)(iVar3 + 1 + iVar11 * 4) & 0xfc)) ||
                  (0x32 < (int)((*(byte *)(iVar14 + 2 + iVar3) & 0xfff8) -
                               (uint)(*(byte *)(iVar3 + 2 + iVar11 * 4) & 0xf8)))))) {
                bVar4 = true;
              }
            }
            if (((*(int *)(iVar14 + *(int *)(psVar2 + 6)) !=
                  *(int *)(*(int *)(psVar2 + 6) + iVar11 * 4)) || (bVar4)) || (DAT_005e58d0 == 0)) {
              iVar3 = *(int *)(psVar2 + 4);
              uVar1 = *(ushort *)(iVar15 + iVar3);
              if (((uVar1 == *(ushort *)(iVar3 + iVar11 * 8)) ||
                  (uVar1 == *(ushort *)(iVar3 + 2 + iVar11 * 8))) ||
                 (uVar1 == *(ushort *)(iVar3 + 4 + iVar11 * 8))) {
                param_1 = param_1 + 1;
                puVar9 = (undefined4 *)((uint)uVar1 * 0x20 + *(int *)(psVar2 + 2));
                puVar10 = (undefined4 *)(iVar7 + *(int *)(psVar2 + 2));
                for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
                  *puVar10 = *puVar9;
                  puVar9 = puVar9 + 1;
                  puVar10 = puVar10 + 1;
                }
                *(short *)(*(int *)(psVar2 + 4) + iVar15) = (short)iVar13;
                iVar13 = iVar13 + 1;
                iVar7 = iVar7 + 0x20;
                iVar8 = iVar13;
              }
              iVar3 = *(int *)(psVar2 + 4);
              uVar1 = *(ushort *)(iVar15 + 2 + iVar3);
              if (((uVar1 == *(ushort *)(iVar3 + iVar11 * 8)) ||
                  (uVar1 == *(ushort *)(iVar3 + 2 + iVar11 * 8))) ||
                 (uVar1 == *(ushort *)(iVar3 + 4 + iVar11 * 8))) {
                param_1 = param_1 + 1;
                puVar9 = (undefined4 *)((uint)uVar1 * 0x20 + *(int *)(psVar2 + 2));
                puVar10 = (undefined4 *)(iVar7 + *(int *)(psVar2 + 2));
                for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
                  *puVar10 = *puVar9;
                  puVar9 = puVar9 + 1;
                  puVar10 = puVar10 + 1;
                }
                *(short *)(*(int *)(psVar2 + 4) + 2 + iVar15) = (short)iVar13;
                iVar13 = iVar13 + 1;
                iVar7 = iVar7 + 0x20;
                iVar8 = iVar13;
              }
              iVar3 = *(int *)(psVar2 + 4);
              uVar1 = *(ushort *)(iVar15 + 4 + iVar3);
              if (((uVar1 == *(ushort *)(iVar3 + iVar11 * 8)) ||
                  (uVar1 == *(ushort *)(iVar3 + 2 + iVar11 * 8))) ||
                 (uVar1 == *(ushort *)(iVar3 + 4 + iVar11 * 8))) {
                param_1 = param_1 + 1;
                puVar9 = (undefined4 *)((uint)uVar1 * 0x20 + *(int *)(psVar2 + 2));
                puVar10 = (undefined4 *)(iVar7 + *(int *)(psVar2 + 2));
                for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
                  *puVar10 = *puVar9;
                  puVar9 = puVar9 + 1;
                  puVar10 = puVar10 + 1;
                }
                *(short *)(*(int *)(psVar2 + 4) + 4 + iVar15) = (short)iVar13;
                iVar13 = iVar13 + 1;
                iVar7 = iVar7 + 0x20;
                iVar8 = iVar13;
              }
            }
            iVar11 = iVar11 + 1;
          } while (iVar11 < psVar2[1]);
        }
        iVar15 = iVar15 + 8;
        iVar14 = iVar14 + 4;
        iVar7 = (int)psVar2[1];
        bVar4 = iVar12 < iVar7;
        iVar11 = param_1;
        iVar12 = iVar12 + 1;
      } while (bVar4);
    }
    sVar5 = (iVar11 + *psVar2) * 0x20;
    iVar13 = 0;
    pvVar6 = (void *)AllocateMemoryWithCallback(sVar5);
    pvVar6 = _memset(pvVar6,iVar13,sVar5);
    FUN_004ad7a0(pvVar6,*(undefined4 *)(psVar2 + 2),(iVar11 + *psVar2) * 0x20);
    if (*(int *)(psVar2 + 2) != 0) {
      FreeMemory(*(int *)(psVar2 + 2));
      *(undefined4 *)(psVar2 + 2) = 0;
    }
    *psVar2 = *psVar2 + (short)iVar11;
    *(void **)(psVar2 + 2) = pvVar6;
  }
  return;
}



undefined4 FUN_004116d0(int *param_1,undefined4 param_2,undefined4 param_3,int **param_4)

{
  int iVar1;
  undefined4 local_2dc [91];
  undefined4 local_170;
  byte local_16c;
  undefined4 uStackY_18;
  int *piStackY_14;
  
  AdjustStackForLargeAllocations();
  if (param_1 != (int *)0x0) {
    piStackY_14 = (int *)0x4116f4;
    iVar1 = DirectDrawCreate();
    if (-1 < iVar1) {
      piStackY_14 = (int *)0x41170f;
      _memset(&local_170,0,0x16c);
      local_170 = 0x16c;
      piStackY_14 = (int *)0x41172f;
      _memset(local_2dc,0,0x16c);
      local_2dc[0] = 0x16c;
      piStackY_14 = (int *)0x411753;
      iVar1 = (**(code **)(*param_1 + 0x2c))();
      if ((-1 < iVar1) && ((local_16c & 1) != 0)) {
        DAT_005e58e8 = 0;
        *param_4 = param_1;
        return 0;
      }
      piStackY_14 = param_1;
      uStackY_18 = 0x411783;
      (**(code **)(*param_1 + 8))();
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00411790(byte param_1)

{
  int *piVar1;
  undefined4 local_2e0 [91];
  undefined4 local_174;
  uint local_170;
  uint local_16c;
  uint local_f0;
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  piVar1 = (int *)0x0;
  if ((param_1 & 4) == 0) {
    piVar1 = (int *)&stack0xfffffff8;
    DAT_005e5128 = DirectDrawEnumerateA();
    if (DAT_005e5128 != 0) {
      GetErrorStringFunc();
      FUN_00413d80();
      return 0;
    }
    DAT_005e5128 = 0;
  }
  if (piVar1 == (int *)0x0) {
    DAT_005e58e8 = 1;
    uStackY_14 = 0x4117fb;
    DAT_005e5128 = DirectDrawCreate();
    piVar1 = DAT_005e58e4;
    if (DAT_005e5128 != 0) {
      GetErrorStringFunc();
      FUN_00413d80();
      return 0;
    }
  }
  DAT_005e58e4 = piVar1;
  uStackY_14 = 0x411839;
  _memset(&local_174,0,0x16c);
  local_174 = 0x16c;
  uStackY_14 = 0x411859;
  _memset(local_2e0,0,0x16c);
  local_2e0[0] = 0x16c;
  uStackY_14 = 0x41187f;
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x2c))();
  if (DAT_005e5128 == 0) {
    _DAT_004c570c = local_f0 & 0x20000;
    _DAT_004c5708 = local_f0 & 0x1000;
    DAT_005e72f0 = ~local_16c >> 1 & 1;
    _DAT_005e72ec = local_170 >> 0x14 & 1;
    return 1;
  }
  return 0;
}



uint FUN_004118e0(int *param_1,int *param_2)

{
  if (param_2[2] < param_1[2]) {
    return 0xffffffff;
  }
  if (param_1[2] < param_2[2]) {
    return 1;
  }
  if (*param_2 < *param_1) {
    return 0xffffffff;
  }
  if (*param_1 < *param_2) {
    return 1;
  }
  if (param_2[1] < param_1[1]) {
    return 0xffffffff;
  }
  return (uint)(param_1[1] < param_2[1]);
}



undefined4 FUN_00411940(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  if ((&DAT_005e7334)[param_1 * 4] == param_2) {
    if ((((&DAT_005e7338)[param_1 * 4] == param_3) && ((&DAT_005e733c)[param_1 * 4] == param_4)) &&
       (param_3 * param_2 * 6 + 200000U < DAT_005e7304)) {
      if ((&DAT_005e7338)[param_1 * 4] == 0xf0) {
        (&DAT_005e7338)[param_1 * 4] = 200;
      }
      (&DAT_005e7314)[param_5] = param_1;
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_004119c0(void)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  
  AdjustStackForLargeAllocations();
  iVar5 = 0;
  DAT_004d784c = 0;
  DAT_005e7308 = 0;
  iVar4 = -1;
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x20))(DAT_005e58e4,0,0,0,FUN_00411dd0);
  if (DAT_005e5128 == 0) {
    FUN_004ae1a0(&DAT_005e7334,DAT_005e7308,0x10,FUN_004118e0);
    DAT_005e730c = -1;
    _memset(&DAT_005e7314,-1,0x20);
    if (0 < DAT_005e7308) {
      piVar6 = &DAT_005e7338;
      iVar4 = -1;
      do {
        iVar3 = FUN_00411940(iVar5,0x280,0x1e0,DAT_004c5720,0);
        iVar1 = iVar5;
        if ((((((iVar3 == 0) &&
               (iVar3 = FUN_00411940(iVar5,0x200,0x180,DAT_004c5720,1), iVar1 = DAT_005e730c,
               iVar3 == 0)) &&
              (iVar3 = FUN_00411940(iVar5,0x140,0xf0,DAT_004c5720,2), iVar1 = DAT_005e730c,
              iVar3 == 0)) &&
             ((iVar3 = FUN_00411940(iVar5,0x140,200,DAT_004c5720,3), iVar1 = DAT_005e730c,
              iVar3 == 0 &&
              (iVar3 = FUN_00411940(iVar5,800,600,DAT_004c5720,4), iVar1 = DAT_005e730c, iVar3 == 0)
              ))) && ((iVar3 = FUN_00411940(iVar5,0x400,0x300,DAT_004c5720,5), iVar1 = DAT_005e730c,
                      iVar3 == 0 &&
                      ((iVar3 = FUN_00411940(iVar5,0x480,0x360,DAT_004c5720,6), iVar1 = DAT_005e730c
                       , iVar3 == 0 &&
                       (iVar3 = FUN_00411940(iVar5,0x500,0x400,DAT_004c5720,7), iVar1 = DAT_005e730c
                       , iVar3 == 0)))))) &&
           ((piVar6[-1] == 0x280 && ((*piVar6 == 400 && (piVar6[1] == DAT_004c5720)))))) {
          iVar4 = iVar5;
        }
        DAT_005e730c = iVar1;
        iVar5 = iVar5 + 1;
        piVar6 = piVar6 + 4;
      } while (iVar5 < DAT_005e7308);
    }
    if (DAT_005e7318 < 0) {
      if (DAT_005df2f8 == 1) {
        DAT_005df2f8 = 2;
        DAT_005df2ec = 0;
        if (DAT_004c66b8 != -2) {
          DAT_004c66b8 = DAT_005e731c;
        }
      }
      DAT_005e7318 = DAT_005e731c;
    }
    if (DAT_005e7314 < 0) {
      if (DAT_005e7318 < 0) {
        if (DAT_005e731c < 0) {
          if (DAT_005e7324 < 0) {
            if (-1 < iVar4) {
              DAT_005e730c = iVar4;
              DAT_005e7314 = iVar4;
            }
          }
          else {
            DAT_005e7314 = DAT_005e7324;
            if (DAT_005df2f8 == 0) {
              DAT_005df2f8 = 4;
            }
            DAT_005e730c = DAT_005e7324;
          }
        }
        else {
          DAT_005e7314 = DAT_005e731c;
          if (DAT_005df2f8 == 0) {
            DAT_005df2ec = 0;
            DAT_005df2f8 = 2;
          }
          DAT_005e730c = DAT_005e731c;
        }
      }
      else {
        DAT_005e730c = DAT_005e7318;
        DAT_005e7314 = DAT_005e7318;
        if (DAT_005df2f8 == 0) {
          DAT_005df2f8 = 1;
        }
      }
    }
    if ((DAT_005e7324 < 0) && (DAT_005e7324 = DAT_005e7314, DAT_005df2f8 == 4)) {
      DAT_005df2ec = (uint)(DAT_005e731c != DAT_005e7314);
      if (DAT_005e7314 == DAT_005e731c) {
        DAT_005df2f8 = 2;
      }
      else if (DAT_005e7314 == DAT_005e7318) {
        DAT_005df2f8 = 1;
      }
    }
    if ((DAT_005e7328 < 0) && (DAT_005e7328 = DAT_005e7324, DAT_005df2f8 == 5)) {
      DAT_005df2ec = (uint)(DAT_005e731c != DAT_005e7324);
      if (DAT_005e7324 == DAT_005e731c) {
        DAT_005df2f8 = 2;
      }
      else if (DAT_005e7324 == DAT_005e7318) {
        DAT_005df2f8 = 1;
      }
    }
    if ((DAT_005e732c < 0) && (DAT_005e732c = DAT_005e7328, DAT_005df2f8 == 6)) {
      DAT_005df2ec = (uint)(DAT_005e731c != DAT_005e7328);
      if (DAT_005e7328 == DAT_005e731c) {
        DAT_005df2f8 = 2;
      }
      else if (DAT_005e7328 == DAT_005e7318) {
        DAT_005df2f8 = 1;
      }
    }
    if ((DAT_005e7330 < 0) && (DAT_005e7330 = DAT_005e732c, DAT_005df2f8 == 7)) {
      DAT_005df2ec = (uint)(DAT_005e731c != DAT_005e732c);
      if (DAT_005e732c == DAT_005e731c) {
        DAT_005df2f8 = 2;
      }
      else if (DAT_005e732c == DAT_005e7318) {
        DAT_005df2f8 = 1;
      }
    }
    FUN_004ad7a0(&DAT_005e7654,&DAT_005e7334 + DAT_005e730c * 4,0x10);
    if ((DAT_005e731c < 0) && (DAT_005e731c = DAT_005e730c, DAT_005df2f8 == 2)) {
      DAT_004d784c = 1;
    }
    return 1;
  }
  uVar2 = GetErrorStringFunc(DAT_005e5128);
  FUN_00413d80(s_EnumDisplayModes_failed___s_004c5760,uVar2);
  DAT_005e7308 = 0;
  return 0;
}



bool FUN_00411dd0(int param_1)

{
  (&DAT_005e7334)[DAT_005e7308 * 4] = *(undefined4 *)(param_1 + 0xc);
  (&DAT_005e7338)[DAT_005e7308 * 4] = *(undefined4 *)(param_1 + 8);
  (&DAT_005e733c)[DAT_005e7308 * 4] = *(undefined4 *)(param_1 + 0x54);
  (&DAT_005e7340)[DAT_005e7308 * 4] = 0;
  DAT_005e7308 = DAT_005e7308 + 1;
  return DAT_005e7308 != 0x32;
}



void FUN_00411e40(undefined4 *param_1,int *param_2)

{
  _memset(param_1,0,0x6c);
  *param_1 = 0x6c;
  (**(code **)(*param_2 + 0x58))(param_2,param_1);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_00411e70(undefined4 param_1,int param_2,int param_3,undefined4 param_4,int param_5,int param_6)

{
  undefined4 local_348 [91];
  undefined4 local_1dc [15];
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 local_70;
  undefined4 local_6c;
  int local_68;
  int local_64;
  undefined4 local_5c;
  undefined4 uStackY_4c;
  int iVar1;
  uint uVar2;
  
  AdjustStackForLargeAllocations();
  DAT_004d7850 = 0;
  if (param_2 < 0x32) {
    param_2 = 0x32;
  }
  if (param_3 < 0x32) {
    param_3 = 0x32;
  }
  _DAT_005e5000 = param_2;
  _DAT_005e5004 = param_3;
  if ((param_5 == 0) || (DAT_004d784c != 0)) {
    _memset(&local_70,0,0x6c);
    local_70 = 0x6c;
    iVar1 = 0;
    local_6c = 1;
    DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
    if (DAT_005e5128 == 0) {
      _memset(local_1dc,0,0x16c);
      local_1dc[0] = 0x16c;
      _memset(local_348,0,0x16c);
      local_348[0] = 0x16c;
      (**(code **)(*DAT_005e58e4 + 0x2c))();
      _DAT_004d7840 = local_19c;
      _DAT_004d783c = local_1a0;
      local_6c = 7;
      local_68 = param_3;
      local_64 = param_2;
      DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
      uStackY_4c = 0x41218a;
      _memset(local_1dc,0,0x16c);
      local_1dc[0] = 0x16c;
      uStackY_4c = 0x4121a2;
      _memset(local_348,0,0x16c);
      local_348[0] = 0x16c;
      uStackY_4c = 0x4121c4;
      (**(code **)(*DAT_005e58e4 + 0x2c))();
      _DAT_004d7844 = local_19c;
      if (DAT_005e5128 == 0) {
        DAT_005e5128 = FUN_00411e40();
        if (DAT_005e5128 == 0) {
          DAT_005e72d4 = (uint)(iVar1 == 0x3e0);
          if (DAT_005e72d4 == 0) {
            DAT_005e72f4 = 0xf81f;
            DAT_005e72f8 = 0x7bef;
          }
          else {
            DAT_005e72f4 = 0x7c1f;
            DAT_005e72f8 = 0x3def;
          }
          _DAT_005e58f8 = (-(uint)(param_6 != 0) & 0x3800) + 0x2840 >> 0xe;
          DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x10))();
          if (DAT_005e5128 == 0) {
            DAT_005e5128 = (**(code **)(*DAT_004d7860 + 0x20))();
            if (DAT_005e5128 == 0) {
              DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x70))();
              if (DAT_005e5128 == 0) {
                FUN_00412840();
                return 1;
              }
              GetErrorStringFunc();
            }
            else {
              GetErrorStringFunc();
            }
          }
          else {
            GetErrorStringFunc();
          }
        }
        else {
          GetErrorStringFunc();
        }
      }
      else {
        if ((DAT_005e5128 == -0x7ff8fff2) || (DAT_005e5128 == -0x7789fe84)) {
          FUN_00413d80();
          goto LAB_00412316;
        }
        GetErrorStringFunc();
      }
    }
    else {
      if ((DAT_005e5128 == -0x7ff8fff2) || (DAT_005e5128 == -0x7789fe84)) {
        FUN_00413d80();
        goto LAB_00412316;
      }
      GetErrorStringFunc();
    }
  }
  else {
    _memset(&local_70,0,0x6c);
    local_70 = 0x6c;
    local_6c = 0x21;
    uVar2 = 0;
    local_5c = 1;
    if (param_6 != 0) {
      uVar2 = 0x6218;
    }
    iVar1 = 0;
    DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
    if (DAT_005e5128 == 0) {
      _memset(local_1dc,0,0x16c);
      local_1dc[0] = 0x16c;
      _memset(local_348,0,0x16c);
      local_348[0] = 0x16c;
      (**(code **)(*DAT_005e58e4 + 0x2c))();
      _DAT_004d7840 = local_19c;
      _DAT_004d783c = local_1a0;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x30))();
      if (DAT_005e5128 == 0) goto LAB_00411fb2;
      GetErrorStringFunc();
    }
    else if ((DAT_005e5128 == -0x7ff8fff2) || (DAT_005e5128 == -0x7789fe84)) {
      local_6c = 1;
      DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
      if (DAT_005e5128 != 0) goto LAB_00412316;
      local_6c = 7;
      uVar2 = 0;
      local_68 = param_3;
      local_64 = param_2;
      DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
      if (DAT_005e5128 != 0) goto LAB_00412316;
      DAT_004d7850 = 1;
      DAT_005e5128 = 0;
LAB_00411fb2:
      DAT_005e5128 = FUN_00411e40();
      if (DAT_005e5128 == 0) {
        DAT_005e72d4 = (uint)(iVar1 == 0x3e0);
        if (DAT_005e72d4 != 0) {
          DAT_005e72f4 = 0x7c1f;
          _DAT_005e58f8 = uVar2 >> 0xe;
          DAT_005e72f8 = 0x3def;
          FUN_00412840();
          return 1;
        }
        DAT_005e72f4 = 0xf81f;
        _DAT_005e58f8 = uVar2 >> 0xe;
        DAT_005e72f8 = 0x7bef;
        FUN_00412840();
        return 1;
      }
      GetErrorStringFunc();
    }
    else {
      GetErrorStringFunc();
    }
  }
  FUN_00413d80();
LAB_00412316:
  (**(code **)(*DAT_005e58ec + 8))();
  (**(code **)(*DAT_005e58f0 + 8))();
  if (DAT_004d7860 != (int *)0x0) {
    (**(code **)(*DAT_004d7860 + 8))();
    DAT_004d7860 = (int *)0x0;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00412400(undefined4 param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  uint uVar2;
  undefined4 local_348 [91];
  undefined4 local_1dc [16];
  undefined4 local_19c;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_58;
  undefined4 uStackY_28;
  
  AdjustStackForLargeAllocations();
  if (*(int *)(&DAT_005e5298 + param_3 * 0x140) == 0) {
    return 1;
  }
  _memset(&local_70,0,0x6c);
  iVar1 = (&DAT_005e5290)[param_3 * 0x50];
  local_70 = 0x6c;
  local_6c = 0x47;
  local_68 = param_2;
  uVar2 = *(uint *)(&DAT_005e5254 + param_3 * 0x140);
  local_64 = param_1;
  if ((uVar2 & 0x400) == 0) {
    if ((uVar2 & 0x800) == 0) {
      if ((uVar2 & 0x100) == 0) {
        if ((uVar2 & 0x200) == 0) {
          FUN_00413d80();
          return 0;
        }
        local_58 = 0x18;
      }
      else {
        local_58 = 0x20;
      }
    }
    else {
      local_58 = 8;
    }
  }
  else {
    local_58 = 0x10;
  }
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x18))();
  if (DAT_005e5128 == 0) {
    DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0xc))();
    if (DAT_005e5128 == 0) {
      DAT_005e5128 = FUN_00411e40();
      if (DAT_005e5128 == 0) {
        _DAT_005e58fc = (-(uint)(iVar1 != 0) & 0x3800) + 0x20800 >> 0xe & 1;
        if (((&DAT_005e5290)[param_3 * 0x50] == 0) || (_DAT_005e58fc != 0)) {
          uStackY_28 = 0x4125d9;
          _memset(local_1dc,0,0x16c);
          local_1dc[0] = 0x16c;
          uStackY_28 = 0x4125f1;
          _memset(local_348,0,0x16c);
          local_348[0] = 0x16c;
          uStackY_28 = 0x412613;
          (**(code **)(*DAT_005e58e4 + 0x2c))();
          _DAT_004d7848 = local_19c;
          return 1;
        }
      }
      else {
        GetErrorStringFunc();
        FUN_00413d80();
      }
    }
    else {
      GetErrorStringFunc();
      FUN_00413d80();
    }
  }
  else if ((DAT_005e5128 == -0x7ff8fff2) || (DAT_005e5128 == -0x7789fe84)) {
    if (DAT_005e7664 == 0) {
      FUN_00413d80();
    }
    else {
      FUN_00413d80();
    }
  }
  else {
    GetErrorStringFunc();
    FUN_00413d80();
  }
  if (DAT_004d785c == 0) {
    return 0;
  }
  (**(code **)(*DAT_005e58f4 + 8))();
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00412640(undefined4 param_1,int param_2)

{
  undefined4 uVar1;
  
  _DAT_005e76a4 = 1;
  if (param_2 == 0) {
    DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x50))(DAT_005e58e4,param_1,8);
    _DAT_005e76a4 = 0;
    if (DAT_005e5128 != 0) {
      uVar1 = GetErrorStringFunc(DAT_005e5128);
      FUN_00413d80(s_SetCooperativeLevel_to_normal_fa_004c5f18,uVar1);
      return 0;
    }
    DAT_005e7664 = 0;
    return 1;
  }
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x50))(DAT_005e58e4,param_1,0x11);
  _DAT_005e76a4 = 0;
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_SetCooperativeLevel_to_fullscree_004c5ee8,uVar1);
    return 0;
  }
  DAT_005e7664 = 1;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004126f0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  DAT_005e7654 = param_1;
  DAT_005e7658 = param_2;
  _DAT_005e765c = param_3;
  _DAT_005e76a4 = 1;
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x54))(DAT_005e58e4,param_1,param_2,param_3);
  _DAT_005e76a4 = 0;
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_SetDisplayMode_to__dx_dx_d_faile_004c5f68,param_1,param_2,param_3,uVar1);
    return 0;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00412770(void)

{
  _DAT_005e76a4 = 1;
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x54))
                           (DAT_005e58e4,DAT_005e7668,DAT_005e766c,DAT_005e7670);
  _DAT_005e76a4 = 0;
  return DAT_005e5128 == 0;
}



undefined4 FUN_004127c0(void)

{
  undefined4 local_70 [2];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_1c;
  undefined4 uStackY_18;
  char *pcStackY_14;
  
  AdjustStackForLargeAllocations();
  pcStackY_14 = (char *)0x4127da;
  _memset(local_70,0,0x6c);
  local_70[0] = 0x6c;
  DAT_005e5128 = (**(code **)(*DAT_005e58e4 + 0x30))();
  if (DAT_005e5128 != 0) {
    pcStackY_14 = (char *)0x412802;
    GetErrorStringFunc();
    pcStackY_14 = s_Getting_the_current_display_mode_004c5fb8;
    uStackY_18 = 0x412810;
    FUN_00413d80();
    return 0;
  }
  DAT_005e7668 = local_64;
  DAT_005e766c = local_68;
  DAT_005e7670 = local_1c;
  return 1;
}



undefined4 FUN_00412840(void)

{
  int local_dc;
  int local_d8;
  undefined4 local_78 [19];
  undefined4 uStackY_2c;
  char *pcStackY_28;
  int iStackY_24;
  int *piStackY_20;
  
  AdjustStackForLargeAllocations();
  if (DAT_005e58ec != (int *)0x0) {
    DAT_005e5128 = FUN_00411e40();
    if (DAT_005e5128 != 0) {
      GetErrorStringFunc();
      FUN_00413d80();
      return 0;
    }
    _memset(local_78,0,100);
    local_78[0] = 100;
    piStackY_20 = (int *)0x4128c7;
    SetRect((LPRECT)&stack0xffffffec,0,0,local_d8,local_dc);
    piStackY_20 = DAT_005e58ec;
    iStackY_24 = 0x4128e1;
    DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x14))();
    if (DAT_005e5128 != 0) {
      GetErrorStringFunc();
      FUN_00413d80();
      return 0;
    }
  }
  if (DAT_005e58f0 != (int *)0x0) {
    DAT_005e5128 = FUN_00411e40();
    if (DAT_005e5128 != 0) {
      GetErrorStringFunc();
      FUN_00413d80();
      return 0;
    }
    _memset(local_78,0,100);
    local_78[0] = 100;
    piStackY_20 = (int *)0x41297b;
    SetRect((LPRECT)&stack0xffffffec,0,0,local_d8,local_dc);
    piStackY_20 = DAT_005e58f0;
    iStackY_24 = 0x412997;
    DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x14))();
    if (DAT_005e5128 != 0) {
      pcStackY_28 = (char *)0x4129a6;
      iStackY_24 = DAT_005e5128;
      iStackY_24 = GetErrorStringFunc();
      pcStackY_28 = s_Clearing_the_front_buffer_failed_004c60b4;
      uStackY_2c = 0x4129b4;
      FUN_00413d80();
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_004129d0(undefined4 param_1)

{
  switch(param_1) {
  case 1:
    return 0x4000;
  case 2:
    return 0x2000;
  default:
    return 0xffffff9c;
  case 4:
    return 0x1000;
  case 8:
    return 0x800;
  case 0x10:
    return 0x400;
  case 0x18:
    return 0x200;
  case 0x20:
    return 0x100;
  }
}



undefined4 FUN_00412a70(void)

{
  undefined4 uVar1;
  
  DAT_005e5128 = (**(code **)*DAT_005e58e4)(DAT_005e58e4,&DAT_004c0ec0,&DAT_005e5144);
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_Creation_of_IDirect3D_failed___s_004c60dc,uVar1);
    return 0;
  }
  DAT_005e5128 = (**(code **)*DAT_005e58e4)(DAT_005e58e4,&DAT_004c0ed0,&DAT_005e5150);
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_Creation_of_IDirect3D2_failed____004c6100,uVar1);
    return 0;
  }
  return 1;
}



bool FUN_00412af0(undefined4 param_1,LPCSTR param_2,LPCSTR param_3,int param_4,int param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  if (*(int *)(param_4 + 8) != 0) {
    if (DAT_005e7694 != 0) {
      return true;
    }
    if ((*(int *)(param_4 + 8) != 0) && ((*(byte *)(param_4 + 0x84) & 1) == 0)) {
      return true;
    }
  }
  FUN_004ad7a0(&DAT_005e5280 + DAT_005e515c * 0x140,param_1,0x10);
  lstrcpyA(&DAT_005e5182 + DAT_005e515c * 0x140,param_2);
  lstrcpyA(&DAT_005e5164 + DAT_005e515c * 0x140,param_3);
  if (*(int *)(param_4 + 8) == 0) {
    (&DAT_005e5290)[DAT_005e515c * 0x50] = 0;
    param_4 = param_5;
  }
  else {
    (&DAT_005e5290)[DAT_005e515c * 0x50] = 1;
  }
  FUN_004ad7a0(&DAT_005e51b4 + DAT_005e515c * 0x140,param_4,0xcc);
  *(uint *)(&DAT_005e5294 + DAT_005e515c * 0x140) =
       *(uint *)(&DAT_005e5238 + DAT_005e515c * 0x140) & 1;
  *(uint *)(&DAT_005e52a0 + DAT_005e515c * 0x140) =
       *(uint *)(&DAT_005e523c + DAT_005e515c * 0x140) >> 1 & 1;
  *(uint *)(&DAT_005e5298 + DAT_005e515c * 0x140) =
       (uint)(*(int *)(&DAT_005e5254 + DAT_005e515c * 0x140) != 0);
  iVar1 = DAT_005e515c;
  iVar3 = DAT_005e515c * 0x140;
  uVar2 = FUN_004129d0(DAT_005e7670);
  *(uint *)(&DAT_005e529c + iVar3) = (uint)((uVar2 & (&DAT_005e5250)[iVar1 * 0x50]) != 0);
  if (DAT_005e58e8 == 0) {
    *(undefined4 *)(&DAT_005e529c + DAT_005e515c * 0x140) = 0;
  }
  DAT_005e515c = DAT_005e515c + 1;
  return DAT_005e515c != 5;
}



undefined4 FUN_00412ca0(void)

{
  undefined4 uVar1;
  
  DAT_005e515c = 0;
  DAT_005e5128 = (**(code **)(*DAT_005e5144 + 0x10))(DAT_005e5144,FUN_00412af0,0);
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_Enumeration_of_drivers_failed____004c6124,uVar1);
    return 0;
  }
  DAT_005e5160 = 0;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00412cf0(int param_1)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  
  AdjustStackForLargeAllocations();
  bVar2 = false;
  bVar1 = false;
  if (((&DAT_005e5290)[param_1 * 0x50] != 0) && (_DAT_005e58f8 == 0)) {
    FUN_00413d80(s_Could_not_fit_the_rendering_surf_004c6148);
    goto LAB_00412e67;
  }
  DAT_005e5160 = param_1;
  FUN_004ad7a0(&DAT_005e57a4,&DAT_005e5164 + param_1 * 0x140,0x140);
  iVar3 = (**(code **)(*DAT_005e5150 + 0x20))(DAT_005e5150,&DAT_004c0f00,DAT_005e58f0,&DAT_005e5154)
  ;
  if (iVar3 != 0) {
    if (DAT_005df2e4 == 0) {
      DAT_005e5128 = (**(code **)(*DAT_005e5150 + 0x20))
                               (DAT_005e5150,&DAT_004c0ee0,DAT_005e58f0,&DAT_005e5154);
      if ((DAT_005e5128 != 0) &&
         (DAT_005e5128 = (**(code **)(*DAT_005e5150 + 0x20))
                                   (DAT_005e5150,&DAT_004c0ef0,DAT_005e58f0,&DAT_005e5154),
         DAT_005e5128 != 0)) {
        uVar4 = GetErrorStringFunc(DAT_005e5128);
        FUN_00413d80(s_Create_D3D2_device_failed___s_004c61c8,uVar4);
        goto LAB_00412e67;
      }
    }
    else {
      DAT_005e5128 = (**(code **)(*DAT_005e5150 + 0x20))(DAT_005e5150,&DAT_004c0ef0);
      if (DAT_005e5128 != 0) {
        uVar4 = GetErrorStringFunc(DAT_005e5128);
        FUN_00413d80(s_Create_D3D2_device_failed___s_004c6198,uVar4);
        goto LAB_00412e67;
      }
    }
  }
  DAT_005e5128 = (**(code **)*DAT_005e5154)(DAT_005e5154,&DAT_004c0f20,&DAT_005e5148);
  if (DAT_005e5128 == 0) {
    DAT_005e5160 = param_1;
    DAT_005e5900 = 0;
    if ((*(int *)(&DAT_005e5294 + param_1 * 0x140) == 0) || (iVar3 = FUN_004133b0(), iVar3 != 0)) {
      if (0 < DAT_005e5900) {
        piVar5 = &DAT_005e5978;
        iVar3 = DAT_005e5900;
        do {
          if ((((*piVar5 == 4) && (piVar5[2] == 4)) && (piVar5[1] == 4)) && (piVar5[-1] == 4)) {
            DAT_005e72d0 = 1;
          }
          else if (*piVar5 == 5) {
            if (((piVar5[2] == 5) && (piVar5[1] == 5)) && (piVar5[-1] == 0)) {
              bVar1 = true;
            }
            else if (((piVar5[2] == 5) && (piVar5[1] == 5)) && (piVar5[-1] == 1)) {
              DAT_005e72e0 = 1;
              DAT_005e72e4 = (uint)(piVar5[-4] == 0x8000);
            }
            else if (((piVar5[2] == 6) && (piVar5[1] == 5)) && (piVar5[-1] == 0)) {
              bVar2 = true;
            }
          }
          piVar5 = piVar5 + 0x21;
          iVar3 = iVar3 + -1;
        } while (iVar3 != 0);
      }
      if ((bVar1) && (!bVar2)) {
        DAT_005e72dc = 1;
      }
      if ((DAT_005e58d0 == 0) && (DAT_005e72d4 != 0)) {
        DAT_005e72dc = 1;
      }
      if (DAT_005e72dc != 0) {
        DAT_005e72fc = 0x3def;
        DAT_005e7300 = 0x7c1f;
        return 1;
      }
      DAT_005e72fc = 0x7bef;
      DAT_005e7300 = 0xf81f;
      return 1;
    }
  }
  else {
    uVar4 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_Create_D3D_device_failed___s_004c6218,uVar4);
  }
LAB_00412e67:
  (**(code **)(*DAT_005e5148 + 8))(DAT_005e5148);
  (**(code **)(*DAT_005e5154 + 8))(DAT_005e5154);
  return 0;
}



// WARNING: Removing unreachable block (ram,0x0041335d)
// WARNING: Removing unreachable block (ram,0x00413363)
// WARNING: Removing unreachable block (ram,0x00413394)
// WARNING: Removing unreachable block (ram,0x0041339a)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00412fa0(void)

{
  char *pcVar1;
  undefined *unaff_EDI;
  bool bVar2;
  undefined4 local_50 [3];
  undefined4 local_44;
  undefined4 local_40;
  undefined4 uStackY_34;
  int *piStackY_30;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  pcVar1 = _strstr(&DAT_005e57a4,&DAT_004c6268);
  if ((pcVar1 == (char *)0x0) &&
     (pcVar1 = _strstr(&DAT_005e57a4,&DAT_004c6270), pcVar1 == (char *)0x0)) {
    pcVar1 = _strstr(&DAT_005e57a4,&DAT_004c6278);
    _DAT_005e72d8 = 0;
    if (pcVar1 == (char *)0x0) goto LAB_00413008;
  }
  _DAT_005e72d8 = 1;
LAB_00413008:
  FUN_00457770();
  local_20 = (int *)0x413019;
  _memset(&local_20,0,0x14);
  local_20 = DAT_005e5148;
  DAT_005e5128 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (DAT_005e5128 == 0) {
    DAT_005e5128 = (**(code **)(iRam00000000 + 0x10))();
    if (DAT_005e5128 == 0) {
      piStackY_30 = (int *)0x413097;
      _memset(unaff_EDI,0,0x12e);
      *unaff_EDI = 0xe;
      unaff_EDI[1] = 0x18;
      *(undefined2 *)(unaff_EDI + 2) = 1;
      *(undefined4 *)(unaff_EDI + 4) = 3;
      *(undefined4 *)(unaff_EDI + 8) = 0x1fff000;
      *(undefined4 *)(unaff_EDI + 0xc) = 0x800;
      *(undefined4 *)(unaff_EDI + 0x10) = 0x800;
      *(undefined4 *)(unaff_EDI + 0x14) = 0;
      *(undefined4 *)(unaff_EDI + 0x18) = 0;
      unaff_EDI[0x1c] = 8;
      unaff_EDI[0x1d] = 8;
      *(undefined2 *)(unaff_EDI + 0x1e) = 0x17;
      *(undefined4 *)(unaff_EDI + 0x20) = 0x16;
      *(undefined4 *)(unaff_EDI + 0x24) = 3;
      *(undefined4 *)(unaff_EDI + 0x28) = 5;
      *(undefined4 *)(unaff_EDI + 0x2c) = 0;
      *(undefined4 *)(unaff_EDI + 0x30) = 6;
      *(undefined4 *)(unaff_EDI + 0x34) = 0;
      *(undefined4 *)(unaff_EDI + 0x38) = 9;
      *(undefined4 *)(unaff_EDI + 0x3c) = 2;
      *(undefined4 *)(unaff_EDI + 0x40) = 4;
      *(undefined4 *)(unaff_EDI + 0x44) = 1;
      bVar2 = DAT_004d785c == 0;
      *(undefined4 *)(unaff_EDI + 0x48) = 7;
      if (bVar2) {
        *(undefined4 *)(unaff_EDI + 0x4c) = 0;
        *(undefined4 *)(unaff_EDI + 0x50) = 0xe;
        *(undefined4 *)(unaff_EDI + 0x54) = 0;
      }
      else {
        *(undefined4 *)(unaff_EDI + 0x4c) = 1;
        *(undefined4 *)(unaff_EDI + 0x50) = 0xe;
        *(undefined4 *)(unaff_EDI + 0x54) = 1;
      }
      *(undefined4 *)(unaff_EDI + 0x58) = 0x17;
      *(undefined4 *)(unaff_EDI + 0x5c) = 4;
      bVar2 = _DAT_005e72d8 == 0;
      *(undefined4 *)(unaff_EDI + 0x60) = 0x11;
      if (bVar2) {
        *(undefined4 *)(unaff_EDI + 100) = 2;
        *(undefined4 *)(unaff_EDI + 0x68) = 0x12;
        *(undefined4 *)(unaff_EDI + 0x6c) = 2;
      }
      else {
        *(undefined4 *)(unaff_EDI + 100) = 1;
        *(undefined4 *)(unaff_EDI + 0x68) = 0x12;
        *(undefined4 *)(unaff_EDI + 0x6c) = 1;
      }
      *(undefined4 *)(unaff_EDI + 0x70) = 0x1b;
      *(undefined4 *)(unaff_EDI + 0x74) = 0;
      *(undefined4 *)(unaff_EDI + 0x78) = 0x13;
      *(undefined4 *)(unaff_EDI + 0x7c) = 5;
      *(undefined4 *)(unaff_EDI + 0x80) = 0x14;
      *(undefined4 *)(unaff_EDI + 0x84) = 6;
      if (DAT_005df2e4 == 0) {
        bVar2 = DAT_005e58d0 == 0;
        *(undefined4 *)(unaff_EDI + 0x88) = 0x15;
        if (bVar2) {
          *(undefined4 *)(unaff_EDI + 0x8c) = 7;
        }
        else {
          *(undefined4 *)(unaff_EDI + 0x8c) = 1;
        }
      }
      else {
        *(undefined4 *)(unaff_EDI + 0x88) = 0x15;
        *(undefined4 *)(unaff_EDI + 0x8c) = 4;
      }
      bVar2 = DAT_005e58d0 == 0;
      *(undefined4 *)(unaff_EDI + 0x90) = 0x1a;
      if (bVar2) {
        *(undefined4 *)(unaff_EDI + 0x94) = 0;
      }
      else {
        *(undefined4 *)(unaff_EDI + 0x94) = 1;
      }
      *(undefined4 *)(unaff_EDI + 0x98) = 8;
      *(undefined4 *)(unaff_EDI + 0x9c) = 3;
      *(undefined4 *)(unaff_EDI + 0xa0) = 0x1d;
      *(undefined4 *)(unaff_EDI + 0xa4) = 0;
      *(undefined4 *)(unaff_EDI + 0xa8) = 2;
      *(undefined4 *)(unaff_EDI + 0xac) = 0;
      *(undefined4 *)(unaff_EDI + 0xb0) = 0x29;
      *(undefined4 *)(unaff_EDI + 0xb4) = 1;
      *(undefined4 *)(unaff_EDI + 0xb8) = 0x1c;
      *(undefined4 *)(unaff_EDI + 0xbc) = 0;
      *(undefined4 *)(unaff_EDI + 0xc0) = 0xf;
      *(undefined4 *)(unaff_EDI + 0xc4) = 0;
      *(undefined4 *)(unaff_EDI + 200) = 0x18;
      *(undefined4 *)(unaff_EDI + 0xcc) = 0x1fffff;
      *(undefined4 *)(unaff_EDI + 0xd0) = 0x19;
      *(undefined4 *)(unaff_EDI + 0xd4) = 8;
      unaff_EDI[0xd8] = 7;
      unaff_EDI[0xd9] = 8;
      *(undefined2 *)(unaff_EDI + 0xda) = 1;
      bVar2 = _DAT_005e72d8 == 0;
      *(undefined4 *)(unaff_EDI + 0xdc) = 3;
      if (bVar2) {
        *(undefined4 *)(unaff_EDI + 0xe0) = 2;
      }
      else {
        *(undefined4 *)(unaff_EDI + 0xe0) = 1;
      }
      unaff_EDI[0xe4] = 0xb;
      unaff_EDI[0xe5] = 0;
      *(undefined2 *)(unaff_EDI + 0xe6) = 0;
      DAT_005e5128 = (**(code **)(iRam00000000 + 0x14))();
      if (DAT_005e5128 == 0) {
        piStackY_30 = (int *)0x4132b2;
        _memset(local_50,0,0x30);
        local_50[0] = 0x30;
        local_44 = 0;
        local_40 = 0xe8;
        (**(code **)(iRam00000000 + 0x18))();
        piStackY_30 = (int *)0x4132df;
        DAT_005e5128 = (**(code **)(*DAT_005e5148 + 0x4c))();
        if (DAT_005e5128 == 0) {
          piStackY_30 = DAT_005e5148;
          uStackY_34 = 0x413311;
          DAT_005e5128 = (**(code **)(*DAT_005e5148 + 0x20))();
          if (DAT_005e5128 == 0) {
            DAT_005e5128 = (**(code **)(*DAT_005e5148 + 0x50))();
            if (DAT_005e5128 == 0) {
              DAT_005d669c = 0x43480000;
              if (DAT_005df2e0 == 0) {
                DAT_005d669c = 0x43c80000;
              }
              return 1;
            }
            GetErrorStringFunc();
          }
          else {
            GetErrorStringFunc();
          }
        }
        else {
          GetErrorStringFunc();
        }
      }
      else {
        GetErrorStringFunc();
      }
    }
    else {
      GetErrorStringFunc();
    }
  }
  else {
    GetErrorStringFunc();
  }
  FUN_00413d80();
  return 0;
}



undefined4 FUN_004133b0(void)

{
  undefined4 uVar1;
  undefined4 ***local_8;
  
  local_8 = (undefined4 ***)0x4133bd;
  AdjustStackForLargeAllocations();
  local_8 = &local_8;
  DAT_005e5900 = 0;
  DAT_005e5128 = (**(code **)(*DAT_005e5148 + 0x38))(DAT_005e5148,FUN_00413420);
  if (DAT_005e5128 != 0) {
    uVar1 = GetErrorStringFunc(DAT_005e5128);
    FUN_00413d80(s_Enumeration_of_texture_formats_f_004c6398,uVar1);
    return 0;
  }
  return 1;
}



undefined4 FUN_00413420(int param_1)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = 0;
  _memset(&DAT_005e5904 + DAT_005e5900 * 0x84,0,0x84);
  FUN_004ad7a0(&DAT_005e5904 + DAT_005e5900 * 0x84,param_1,0x6c);
  uVar1 = *(uint *)(param_1 + 0x4c);
  if ((uVar1 & 0x20) == 0) {
    if ((uVar1 & 8) == 0) {
      if ((uVar1 & 1) == 0) {
        *(undefined4 *)(&DAT_005e5970 + DAT_005e5900 * 0x84) = 0;
        *(undefined4 *)(&DAT_005e5984 + DAT_005e5900 * 0x84) = 0;
        for (uVar1 = *(uint *)(param_1 + 0x58); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar5 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar5 = iVar5 + 1;
        }
        for (uVar1 = *(uint *)(param_1 + 0x5c); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar4 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar4 = iVar4 + 1;
        }
        for (uVar1 = *(uint *)(param_1 + 0x60); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar3 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar3 = iVar3 + 1;
        }
        (&DAT_005e5978)[DAT_005e5900 * 0x21] = iVar5;
        (&DAT_005e5980)[DAT_005e5900 * 0x21] = iVar4;
        (&DAT_005e597c)[DAT_005e5900 * 0x21] = iVar3;
      }
      else {
        *(undefined4 *)(&DAT_005e5970 + DAT_005e5900 * 0x84) = 0;
        *(undefined4 *)(&DAT_005e5984 + DAT_005e5900 * 0x84) = 0;
        for (uVar1 = *(uint *)(param_1 + 0x58); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        do {
          uVar1 = uVar1 >> 1;
          iVar5 = iVar5 + 1;
        } while ((uVar1 & 1) != 0);
        for (uVar1 = *(uint *)(param_1 + 0x5c); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar4 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar4 = iVar4 + 1;
        }
        for (uVar1 = *(uint *)(param_1 + 0x60); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar3 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar3 = iVar3 + 1;
        }
        for (uVar1 = *(uint *)(param_1 + 100); (uVar1 & 1) == 0; uVar1 = uVar1 >> 1) {
        }
        iVar2 = 0;
        for (; (uVar1 & 1) != 0; uVar1 = uVar1 >> 1) {
          iVar2 = iVar2 + 1;
        }
        (&DAT_005e5978)[DAT_005e5900 * 0x21] = iVar5;
        (&DAT_005e5980)[DAT_005e5900 * 0x21] = iVar4;
        (&DAT_005e597c)[DAT_005e5900 * 0x21] = iVar3;
        (&DAT_005e5974)[DAT_005e5900 * 0x21] = iVar2;
      }
    }
    else {
      *(undefined4 *)(&DAT_005e5970 + DAT_005e5900 * 0x84) = 1;
      *(undefined4 *)(&DAT_005e5984 + DAT_005e5900 * 0x84) = 4;
    }
  }
  else {
    *(undefined4 *)(&DAT_005e5970 + DAT_005e5900 * 0x84) = 1;
    *(undefined4 *)(&DAT_005e5984 + DAT_005e5900 * 0x84) = 8;
  }
  DAT_005e5900 = DAT_005e5900 + 1;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00413680(void)

{
  _memset(&DAT_005e5140,0,0x2560);
  DAT_005e768c = 1;
  DAT_004d7860 = 0;
  _DAT_005e76a4 = 0;
  DAT_005e5128 = 0;
  _memset(&DAT_005e5020,0,0x100);
  DAT_005e5120 = 0;
  DAT_005e5124 = 0;
  DAT_005e5008 = 0;
  DAT_005e512c = 0;
  return;
}



undefined4 FUN_004136e0(void)

{
  undefined4 uVar1;
  
  if ((DAT_005e5120 != (code *)0x0) && (DAT_005e76a0 != 0)) {
    DAT_005e76a0 = DAT_005e76a0 + -1;
    uVar1 = (*DAT_005e5120)(DAT_005e5124);
    return uVar1;
  }
  return 1;
}



undefined4 FUN_00413710(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  if (DAT_005e5008 != (code *)0x0) {
    DAT_005e76a0 = DAT_005e76a0 + 1;
    uVar1 = (*DAT_005e5008)(param_1,param_2,&DAT_005e514c,DAT_005e512c);
    return uVar1;
  }
  return 1;
}



undefined4 FUN_00413750(int *param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  
  iVar1 = 0;
  if (0 < DAT_005e515c) {
    puVar3 = &DAT_005e5250;
    do {
      if ((*puVar3 & param_2) != 0) break;
      iVar1 = iVar1 + 1;
      puVar3 = puVar3 + 0x50;
    } while (iVar1 < DAT_005e515c);
  }
  if (DAT_005e515c <= iVar1) {
    *param_1 = -100;
    return 1;
  }
  iVar5 = 0;
  if (0 < DAT_005e515c) {
    iVar4 = iVar1 * 0x140;
    iVar2 = 0;
    do {
      if (((param_2 & *(uint *)((int)&DAT_005e5250 + iVar2)) != 0) &&
         (((*(int *)((int)&DAT_005e5290 + iVar2) != 0 && (*(int *)((int)&DAT_005e5290 + iVar4) == 0)
           ) || (((*(int *)((int)&DAT_005e5290 + iVar2) == *(int *)((int)&DAT_005e5290 + iVar4) &&
                  ((((*(uint *)((int)&DAT_005e51bc + iVar2) & 1) != 0 &&
                    ((*(uint *)((int)&DAT_005e51bc + iVar4) & 1) == 0)) &&
                   ((*(uint *)((int)&DAT_005e51bc + iVar2) & 2) != 0)))) &&
                 ((*(uint *)((int)&DAT_005e51bc + iVar4) & 2) == 0)))))) {
        iVar4 = iVar2;
        iVar1 = iVar5;
      }
      iVar5 = iVar5 + 1;
      iVar2 = iVar2 + 0x140;
    } while (iVar5 < DAT_005e515c);
  }
  if (DAT_005e515c <= iVar1) {
    *param_1 = -100;
    return 1;
  }
  *param_1 = iVar1;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00413830(int param_1)

{
  uint uVar1;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  
  iVar4 = 0;
  uVar1 = (&DAT_005e5250)[param_1 * 0x50];
  if (0 < DAT_005e7308) {
    puVar3 = &DAT_005e7340;
    do {
      *puVar3 = 0;
      uVar2 = FUN_004129d0(puVar3[-1]);
      if ((uVar1 & uVar2) != 0) {
        *puVar3 = 1;
      }
      iVar4 = iVar4 + 1;
      puVar3 = puVar3 + 4;
    } while (iVar4 < DAT_005e7308);
  }
  _DAT_005e7660 = (&DAT_005e7340)[DAT_005e730c * 4];
  return 1;
}



undefined4 FUN_004138a0(int *param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  int *piVar6;
  
  iVar3 = 0;
  if (0 < DAT_005e7308) {
    puVar5 = &DAT_005e733c;
    do {
      uVar1 = FUN_004129d0(*puVar5);
      if ((param_2 & uVar1) != 0) break;
      iVar3 = iVar3 + 1;
      puVar5 = puVar5 + 4;
    } while (iVar3 < DAT_005e7308);
  }
  iVar2 = iVar3;
  if (iVar3 < DAT_005e7308) {
    piVar6 = &DAT_005e733c + iVar3 * 4;
    iVar4 = iVar3;
    do {
      uVar1 = FUN_004129d0(*piVar6);
      if (((((param_2 & uVar1) != 0) && (piVar6[-2] == DAT_004c5718)) &&
          (piVar6[-1] == DAT_004c571c)) && (iVar2 = iVar4, *piVar6 == DAT_004c5720)) break;
      iVar4 = iVar4 + 1;
      piVar6 = piVar6 + 4;
      iVar2 = iVar3;
    } while (iVar4 < DAT_005e7308);
  }
  if (iVar2 < DAT_005e7308) {
    *param_1 = iVar2;
    return 1;
  }
  *param_1 = -100;
  return 1;
}



// WARNING: Removing unreachable block (ram,0x00413a5d)
// WARNING: Removing unreachable block (ram,0x00413b29)
// WARNING: Removing unreachable block (ram,0x00413aa6)
// WARNING: Removing unreachable block (ram,0x004139e2)
// WARNING: Type propagation algorithm not settling

undefined4 FUN_00413960(int *param_1,int *param_2)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  iVar1 = *param_1;
  iVar7 = *param_2;
  if ((iVar7 == -0x18) && (DAT_005e58e8 == 0)) {
    FUN_00413d80(s_Cannot_render_to_a_window_when_t_004c63c4);
    return 0;
  }
  if (iVar1 == -0x19) {
    if (iVar7 == -0x18) {
      uVar2 = FUN_004129d0(DAT_005e7670);
      iVar3 = FUN_00413750(&stack0xfffffff8,uVar2);
    }
    else {
      if (iVar7 == -0x19) {
        if (DAT_005e58e8 == 0) {
          uVar4 = 0;
        }
        else {
          uVar4 = FUN_004129d0(DAT_005e7670);
        }
        iVar3 = 0;
        if (0 < DAT_005e7308) {
          puVar6 = &DAT_005e733c;
          do {
            uVar5 = FUN_004129d0(*puVar6);
            uVar4 = uVar4 | uVar5;
            iVar3 = iVar3 + 1;
            puVar6 = puVar6 + 4;
          } while (iVar3 < DAT_005e7308);
        }
        iVar3 = FUN_00413750(&stack0xfffffff8,uVar4);
        if (iVar3 == 0) {
          return 0;
        }
        goto LAB_00413ac5;
      }
      uVar2 = FUN_004129d0((&DAT_005e733c)[iVar7 * 4]);
      iVar3 = FUN_00413750(&stack0xfffffff8,uVar2);
    }
  }
  else {
LAB_00413ac5:
    if (iVar7 != -0x19) {
      if (iVar7 == -0x18) {
        uVar4 = FUN_004129d0(DAT_005e7670);
        if (((&DAT_005e5250)[iVar1 * 0x50] & uVar4) != 0) goto LAB_00413bd2;
        iVar7 = FUN_00413960(&stack0xfffffff8,&stack0xfffffff4);
      }
      else {
        uVar4 = FUN_004129d0((&DAT_005e733c)[iVar7 * 4]);
        if (((&DAT_005e5250)[iVar1 * 0x50] & uVar4) != 0) goto LAB_00413bd2;
        iVar7 = FUN_00413960(&stack0xfffffff8,&stack0xfffffff4);
      }
      if (iVar7 == 0) {
        return 0;
      }
      iVar7 = -0x19;
      if (iVar1 == -100) {
        return 0;
      }
      goto LAB_00413bd2;
    }
    if ((DAT_005e58e8 != 0) &&
       (uVar4 = FUN_004129d0(DAT_005e7670), ((&DAT_005e5250)[iVar1 * 0x50] & uVar4) != 0)) {
      iVar7 = -0x18;
      goto LAB_00413bd2;
    }
    iVar3 = FUN_004138a0(&stack0xfffffff4,(&DAT_005e5250)[iVar1 * 0x50]);
  }
  if (iVar3 == 0) {
    return 0;
  }
LAB_00413bd2:
  *param_1 = iVar1;
  *param_2 = iVar7;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00413bf0(HWND param_1,int param_2,int param_3,int param_4)

{
  DWORD dwExStyle;
  HMENU pHVar1;
  DWORD dwStyle;
  int cx;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  uint bMenu;
  
  AdjustStackForLargeAllocations();
  _DAT_005e76a4 = 1;
  if (param_4 == 0) {
    SendMessageA(param_1,5,0,(param_3 + param_2) * 0x10000);
    GetWindowRect(param_1,(LPRECT)&stack0xffffffec);
    cx = unaff_ESI + -0x16;
  }
  else {
    SetRect((LPRECT)&stack0xffffffec,0,0,param_2,param_3);
    dwExStyle = GetWindowLongA(param_1,-0x14);
    pHVar1 = GetMenu(param_1);
    bMenu = (uint)(pHVar1 != (HMENU)0x0);
    dwStyle = GetWindowLongA(param_1,-0x10);
    AdjustWindowRectEx((LPRECT)&stack0xffffffec,dwStyle,bMenu,dwExStyle);
    cx = unaff_ESI - dwExStyle;
  }
  SetWindowPos(param_1,(HWND)0x0,0,0,cx,unaff_EBX - unaff_EDI,0x16);
  SetWindowPos(param_1,(HWND)0xfffffffe,0,0,0,0,0x13);
  _DAT_005e76a4 = 0;
  DAT_005e7684 = 0;
  DAT_005e7680 = 0;
  ClientToScreen(param_1,(LPPOINT)&DAT_005e7680);
  DAT_005e767c = param_3;
  DAT_005e7678 = param_2;
  return;
}



void FUN_00413d00(HWND param_1)

{
  undefined4 unaff_ESI;
  LONG local_14;
  LPRECT lpRect;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598d50 == 0) {
    DAT_005e7684 = 0;
    DAT_005e7680 = 0;
    local_14 = 0x413d33;
    ClientToScreen(param_1,(LPPOINT)&DAT_005e7680);
    lpRect = (LPRECT)&local_14;
    local_14 = 0x413d3e;
    GetClientRect(param_1,lpRect);
    DAT_005e7678 = lpRect;
    DAT_005e767c = unaff_ESI;
    return;
  }
  DAT_005e7684 = 0;
  DAT_005e7680 = 0;
  DAT_005e7678 = (LPRECT)DAT_005e7654;
  DAT_005e767c = DAT_005e7658;
  return;
}



void FUN_00413d80(LPCSTR param_1)

{
  CHAR local_104 [240];
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  local_104[0] = '\0';
  uStackY_14 = 0x413da9;
  wvsprintfA(local_104,param_1,&stack0x00000008);
  lstrcatA(local_104,&DAT_004c65b0);
  lstrcpyA(&DAT_005e5020,local_104);
  return;
}



void FUN_00413de0(void)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  int iVar4;
  
  WaitForSingleObject(DAT_005e4484,0xffffffff);
  iVar4 = 0;
  if (0 < DAT_004d7854) {
    ppiVar3 = (int **)&DAT_005e76c0;
    do {
      piVar1 = *ppiVar3;
      while (((piVar1 != (int *)0x0 && (*piVar1 != 0)) &&
             (iVar2 = (**(code **)(*piVar1 + 8))(piVar1), iVar2 != 0))) {
        piVar1 = *ppiVar3;
      }
      iVar2 = DAT_004d7854;
      *ppiVar3 = (int *)0x0;
      iVar4 = iVar4 + 1;
      ppiVar3 = ppiVar3 + 1;
    } while (iVar4 < iVar2);
  }
  DAT_004d7854 = 0;
  _memset(&DAT_005e76c0,0,0x10000);
  ReleaseMutex(DAT_005e4484);
  return;
}



void FUN_00413e60(void)

{
  int iVar1;
  int **ppiVar2;
  
  WaitForSingleObject(DAT_005e4484,0xffffffff);
  iVar1 = 0;
  if (0 < DAT_004d7854) {
    ppiVar2 = (int **)&DAT_005e76c0;
    do {
      (**(code **)(**ppiVar2 + 0x6c))(*ppiVar2);
      iVar1 = iVar1 + 1;
      ppiVar2 = ppiVar2 + 1;
    } while (iVar1 < DAT_004d7854);
  }
  ReleaseMutex(DAT_005e4484);
  return;
}



undefined4 FUN_00413eb0(int **param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int **ppiVar4;
  
  WaitForSingleObject(DAT_005e4484,0xffffffff);
  piVar2 = *param_1;
  if (((piVar2 != (int *)0x0) && (*piVar2 != 0)) && (iVar3 = 0, 0 < DAT_004d7854)) {
    ppiVar4 = (int **)&DAT_005e76c0;
    do {
      if (*ppiVar4 == piVar2) {
        iVar1 = DAT_004d7854 * 4;
        DAT_004d7854 = DAT_004d7854 + -1;
        (&DAT_005e76c0)[iVar3] = *(undefined4 *)(&DAT_005e76bc + iVar1);
        (&DAT_005e76c0)[DAT_004d7854] = 0;
        iVar3 = (**(code **)(**param_1 + 8))(*param_1);
        while (iVar3 != 0) {
          iVar3 = (**(code **)(**param_1 + 8))(*param_1);
        }
        *param_1 = (int *)0x0;
        ReleaseMutex(DAT_005e4484);
        return 1;
      }
      iVar3 = iVar3 + 1;
      ppiVar4 = ppiVar4 + 1;
    } while (iVar3 < DAT_004d7854);
    ReleaseMutex(DAT_005e4484);
    return 0;
  }
  ReleaseMutex(DAT_005e4484);
  return 0;
}



int FUN_00413f70(undefined4 param_1,undefined4 *param_2)

{
  HANDLE hMutex;
  int iVar1;
  
  WaitForSingleObject(DAT_005e4484,0xffffffff);
  iVar1 = (**(code **)(*DAT_005e58e4 + 0x18))(DAT_005e58e4,param_1,param_2,0);
  if (iVar1 != 0) {
    ReleaseMutex(DAT_005e4484);
    return iVar1;
  }
  if (DAT_004d7854 == 0) {
    _memset(&DAT_005e76c0,0,0x10000);
  }
  hMutex = DAT_005e4484;
  (&DAT_005e76c0)[DAT_004d7854] = *param_2;
  DAT_004d7854 = DAT_004d7854 + 1;
  ReleaseMutex(hMutex);
  return 0;
}



void FUN_00414000(void)

{
  int iVar1;
  int **ppiVar2;
  int iVar3;
  undefined4 local_74 [21];
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  if (0 < DAT_004d7854) {
    ppiVar2 = (int **)&DAT_005e76c0;
    do {
      if (((*ppiVar2 != (int *)0x0) && (iVar1 = **ppiVar2, iVar1 != 0)) && (iVar1 != 0x10)) {
        uStackY_20 = 0x414043;
        _memset(local_74,0,0x6c);
        local_74[0] = 0x6c;
        (**(code **)(**ppiVar2 + 0x58))();
      }
      iVar3 = iVar3 + 1;
      ppiVar2 = ppiVar2 + 1;
    } while (iVar3 < DAT_004d7854);
  }
  return;
}



undefined4 FUN_00414090(void)

{
  int iVar1;
  int *piVar2;
  
  FUN_00413680();
  FUN_00411790(-(DAT_005e7694 != 0) & 4);
  FUN_00412a70();
  FUN_00412ca0();
  iVar1 = 0;
  if (0 < DAT_005e515c) {
    piVar2 = &DAT_005e5290;
    do {
      if (*piVar2 != 0) {
        if (DAT_005e5144 != (int *)0x0) {
          (**(code **)(*DAT_005e5144 + 8))(DAT_005e5144);
          DAT_005e5144 = (int *)0x0;
        }
        if (DAT_005e5150 != (int *)0x0) {
          (**(code **)(*DAT_005e5150 + 8))(DAT_005e5150);
          DAT_005e5150 = (int *)0x0;
        }
        if (DAT_005e58e4 != (int *)0x0) {
          (**(code **)(*DAT_005e58e4 + 8))(DAT_005e58e4);
          DAT_005e58e4 = (int *)0x0;
        }
        return 1;
      }
      iVar1 = iVar1 + 1;
      piVar2 = piVar2 + 0x50;
    } while (iVar1 < DAT_005e515c);
  }
  if (DAT_005e5144 != (int *)0x0) {
    (**(code **)(*DAT_005e5144 + 8))(DAT_005e5144);
    DAT_005e5144 = (int *)0x0;
  }
  if (DAT_005e5150 != (int *)0x0) {
    (**(code **)(*DAT_005e5150 + 8))(DAT_005e5150);
    DAT_005e5150 = (int *)0x0;
  }
  if (DAT_005e58e4 != (int *)0x0) {
    (**(code **)(*DAT_005e58e4 + 8))(DAT_005e58e4);
    DAT_005e58e4 = (int *)0x0;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_00414160(undefined4 param_1,int *****param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 *param_7)

{
  int ****ppppiVar1;
  int *****pppppiVar2;
  int iVar3;
  uint uVar4;
  int *****pppppiVar5;
  int *****local_20;
  int *****local_1c;
  int *****local_18;
  int *****local_14;
  int ***pppiVar6;
  
  AdjustStackForLargeAllocations();
  local_14 = (int *****)0x414175;
  FUN_00413680();
  local_14 = (int *****)(-(uint)(DAT_005e7694 != 0) & 4);
  local_18 = (int *****)0x414187;
  iVar3 = FUN_00411790();
  if (iVar3 == 0) goto LAB_00414595;
  local_14 = (int *****)DAT_00598d50;
  local_18 = param_2;
  local_1c = (int *****)0x4141a2;
  iVar3 = FUN_00412640();
  if (iVar3 == 0) goto LAB_00414595;
  local_14 = (int *****)0x4141b2;
  iVar3 = FUN_004127c0();
  if (iVar3 == 0) goto LAB_00414595;
  local_14 = (int *****)&local_14;
  local_18 = (int *****)&DAT_004c0ff0;
  local_1c = DAT_005e58e4;
  local_20 = (int *****)0x4141cd;
  DAT_005e5128 = (*(code *)**DAT_005e58e4)();
  local_20 = (int *****)&local_1c;
  DAT_005e5128 = (*(code *)(*local_14)[0x17])(local_14,&stack0xfffffff0,&local_20);
  DAT_005e5128 = (*(code *)(*local_14)[0x17])(local_14,&stack0xfffffff0,&local_18,&local_1c);
  (*(code *)(*local_14)[2])(local_14);
  if (DAT_00598d50 == (int ****)0x0) {
    pppppiVar5 = local_1c;
    if (local_18 == (int *****)0x0) {
      pppppiVar5 = (int *****)0x7fffffff;
    }
  }
  else {
    pppppiVar5 = local_18;
    if (local_18 == (int *****)0x0) {
      pppppiVar5 = (int *****)0x7fffffff;
    }
    if (local_20 == (int *****)((uint)local_18 >> 1)) {
      pppppiVar5 = (int *****)((uint)pppppiVar5 >> 1);
    }
    if ((int)local_20 * 3 == (int)local_18 * 2) {
      pppppiVar5 = (int *****)((uint)pppppiVar5 / 3);
    }
    if (pppppiVar5 != (int *****)0x7fffffff) {
      if (_DAT_004c5708 == 0) {
        pppppiVar5 = pppppiVar5 + 0xa0000;
      }
      if (_DAT_004c570c == 0) {
        pppppiVar5 = pppppiVar5 + 0xa0000;
      }
    }
  }
  if ((DAT_00598d50 == (int ****)0x0) || (DAT_005e58e8 == 0)) {
    iVar3 = 0;
  }
  else {
    iVar3 = (DAT_005e7670 >> 3) * DAT_005e7668 * DAT_005e766c;
  }
  DAT_005e7304 = (int)pppppiVar5 + iVar3;
  local_14 = (int *****)0x4142bd;
  iVar3 = FUN_004119c0();
  if (iVar3 == 0) goto LAB_00414595;
  local_14 = (int *****)0x4142ca;
  iVar3 = FUN_00412a70();
  if (iVar3 == 0) goto LAB_00414595;
  local_14 = (int *****)0x4142d7;
  iVar3 = FUN_00412ca0();
  if (iVar3 == 0) goto LAB_00414595;
  DAT_005e5120 = param_5;
  DAT_005e5124 = param_6;
  DAT_005e5008 = param_3;
  DAT_005e512c = param_4;
  *param_7 = &DAT_005e5140;
  _DAT_005e5140 = param_2;
  if (DAT_00598d50 == (int ****)0x0) {
    local_14 = (int *****)&stack0xfffffff4;
    local_18 = (int *****)&stack0xfffffff8;
    DAT_004d785c = 1;
    local_1c = (int *****)0x414344;
    iVar3 = FUN_00413960();
    if (iVar3 == 0) goto LAB_00414595;
    local_14 = param_2;
    local_18 = (int *****)0x414355;
    FUN_00413d00();
    pppppiVar2 = DAT_005e767c;
    pppppiVar5 = DAT_005e7678;
    local_14 = (int *****)DAT_005e3350;
    local_18 = (int *****)0x0;
    local_1c = (int *****)0xffffff9c;
    local_20 = DAT_005e767c;
    iVar3 = FUN_00411e70(param_2,DAT_005e7678);
    ppppiVar1 = DAT_005e3310;
    if (iVar3 == 0) goto LAB_00414595;
    local_14 = (int *****)(&DAT_005e733c)[(int)DAT_005e730c * 4];
    local_18 = (int *****)0x4143b0;
    uVar4 = FUN_004129d0();
    if (((uint)ppppiVar1 & uVar4) == 0) {
      local_18 = (int *****)&DAT_005e730c;
      local_1c = (int *****)0x4143c2;
      local_14 = (int *****)ppppiVar1;
      iVar3 = FUN_004138a0();
      if (iVar3 == 0) goto LAB_00414595;
    }
    local_18 = pppppiVar2;
    local_1c = pppppiVar5;
    local_20 = (int *****)0x4143d8;
    local_14 = (int *****)(int ****)0xffffffe7;
    iVar3 = FUN_00412400();
joined_r0x00414541:
    if (iVar3 == 0) goto LAB_00414595;
  }
  else {
    pppiVar6 = DAT_004c66b8;
    if ((int)DAT_004c66b8 < 0) {
      pppiVar6 = (int ***)(&DAT_005e7314)[DAT_005e7310];
    }
    if (DAT_004c66b8 == (int ***)0xfffffffe) {
      DAT_004d784c = 0;
    }
    local_14 = (int *****)&stack0xfffffff4;
    local_18 = (int *****)&stack0xfffffff8;
    local_1c = (int *****)0x414428;
    iVar3 = FUN_00413960();
    if (iVar3 == 0) goto LAB_00414595;
    if ((DAT_005e3350 != (int ****)0x0) && (DAT_004d784c != 0)) {
      DAT_004d784c = 0;
      DAT_005df2f8 = 0;
    }
    if (DAT_004c66b8 == (int ***)0xfffffffe) {
      local_1c = (int *****)0x280;
      local_18 = (int *****)0x1e0;
    }
    else {
      local_1c = (int *****)(&DAT_005e7334)[(int)pppiVar6 * 4];
      local_18 = (int *****)(&DAT_005e7338)[(int)pppiVar6 * 4];
    }
    DAT_005e7678 = local_1c;
    DAT_005e767c = local_18;
    if ((DAT_004c66b8 != (int ***)0xffffffff) && (DAT_004d784c != 0)) {
      DAT_005e7678 = (int *****)0x140;
      DAT_005e767c = (int *****)0xc8;
    }
    local_14 = (int *****)0x10;
    local_20 = (int *****)0x4144b8;
    iVar3 = FUN_004126f0();
    if (iVar3 == 0) goto LAB_00414595;
    local_14 = (int *****)DAT_005e3350;
    local_1c = (int *****)(&DAT_005e733c)[(int)pppiVar6 * 4];
    local_18 = (int *****)0x1;
    local_20 = DAT_005e767c;
    DAT_005e730c = pppiVar6;
    iVar3 = FUN_00411e70(param_2,DAT_005e7678);
    if (iVar3 == 0) goto LAB_00414595;
    if (DAT_005e3350 == (int ****)0x0) {
      DAT_004d785c = 1;
    }
    if (DAT_004d785c != 0) {
      local_14 = (int *****)0xffffffe7;
      local_18 = DAT_005e767c;
      local_1c = DAT_005e7678;
      local_20 = (int *****)0x41453c;
      iVar3 = FUN_00412400();
      goto joined_r0x00414541;
    }
    DAT_005e58f4 = 0;
  }
  local_14 = (int *****)0xffffffe7;
  local_18 = (int *****)0x414554;
  iVar3 = FUN_00412cf0();
  if (iVar3 != 0) {
    local_14 = (int *****)0xffffffe7;
    local_18 = (int *****)0x414564;
    iVar3 = FUN_00413830();
    if (iVar3 != 0) {
      local_14 = DAT_005e767c;
      local_18 = DAT_005e7678;
      local_1c = (int *****)0x41457d;
      iVar3 = FUN_00413710();
      if (iVar3 != 0) {
        local_14 = (int *****)0x414589;
        iVar3 = FUN_00412fa0();
        if (iVar3 != 0) {
          DAT_005e500c = 1;
          DAT_005e769c = 1;
          return 1;
        }
      }
    }
  }
LAB_00414595:
  local_14 = (int *****)0x41459a;
  FUN_004136e0();
  if (DAT_005e5148 != (int ****)0x0) {
    local_14 = (int *****)DAT_005e5148;
    local_18 = (int *****)0x4145a9;
    (*(code *)(*DAT_005e5148)[2])();
    DAT_005e5148 = (int ****)0x0;
  }
  if (DAT_005e5154 != (int ****)0x0) {
    local_14 = (int *****)DAT_005e5154;
    local_18 = (int *****)0x4145be;
    (*(code *)(*DAT_005e5154)[2])();
    DAT_005e5154 = (int ****)0x0;
  }
  if (DAT_005e58f4 != 0) {
    local_14 = (int *****)&DAT_005e58f4;
    local_18 = (int *****)0x4145d6;
    FUN_00413eb0();
    DAT_005e58f4 = 0;
  }
  if (DAT_004d7860 != (int ****)0x0) {
    local_14 = (int *****)DAT_004d7860;
    local_18 = (int *****)0x4145ee;
    (*(code *)(*DAT_004d7860)[2])();
    DAT_004d7860 = (int ****)0x0;
  }
  if (DAT_005e58f0 != 0) {
    local_14 = (int *****)&DAT_005e58f0;
    local_18 = (int *****)0x414606;
    FUN_00413eb0();
    DAT_005e58f0 = 0;
  }
  if (DAT_005e58ec != 0) {
    local_14 = (int *****)&DAT_005e58ec;
    local_18 = (int *****)0x414621;
    FUN_00413eb0();
    DAT_005e58ec = 0;
  }
  if (DAT_005e7664 != 0) {
    local_14 = (int *****)0x414637;
    FUN_00412770();
    local_14 = (int *****)0x0;
    local_18 = param_2;
    local_1c = (int *****)0x414641;
    FUN_00412640();
  }
  if (DAT_005e5144 != (int ****)0x0) {
    local_14 = (int *****)DAT_005e5144;
    local_18 = (int *****)0x414653;
    (*(code *)(*DAT_005e5144)[2])();
    DAT_005e5144 = (int ****)0x0;
  }
  if (DAT_005e5150 != (int ****)0x0) {
    local_14 = (int *****)DAT_005e5150;
    local_18 = (int *****)0x414668;
    (*(code *)(*DAT_005e5150)[2])();
    DAT_005e5150 = (int ****)0x0;
  }
  if (DAT_005e58e4 != (int *****)0x0) {
    local_14 = DAT_005e58e4;
    local_18 = (int *****)0x41467d;
    (*(code *)(*DAT_005e58e4)[2])();
    DAT_005e58e4 = (int *****)0x0;
  }
  return 0;
}



undefined4
FUN_004146b0(undefined4 *param_1,undefined4 *param_2,HWND param_3,uint param_4,undefined4 param_5,
            LPRECT param_6)

{
  *param_1 = 0;
  if (DAT_005e500c != 0) {
    if (param_4 < 0x1d) {
      if (param_4 == 0x1c) {
        DAT_005e768c = param_5;
        return 1;
      }
      if (param_4 == 3) {
        DAT_005e7684 = 0;
        DAT_005e7680 = 0;
        ClientToScreen(param_3,(LPPOINT)&DAT_005e7680);
        return 1;
      }
    }
    else if (param_4 < 0x25) {
      if (param_4 == 0x24) {
        if (DAT_005e7664 != 0) {
          param_6[2].left = DAT_005e7654;
          param_6[2].top = DAT_005e7658;
          param_6[1].right = DAT_005e7654;
          param_6[1].bottom = DAT_005e7658;
          *param_2 = 0;
          *param_1 = 1;
          return 1;
        }
        param_6[2].left = DAT_005e7668;
        param_6[2].top = DAT_005e766c;
        *param_2 = 0;
        *param_1 = 1;
        return 1;
      }
      if (((param_4 == 0x20) && (DAT_005e7664 != 0)) && (DAT_005e7688 == 0)) {
        SetCursor((HCURSOR)0x0);
        ShowCursor(0);
        *param_2 = 1;
        *param_1 = 1;
        return 1;
      }
    }
    else if (param_4 == 0x85) {
      if ((DAT_005e7664 != 0) && (DAT_005e7688 == 0)) {
        *param_2 = 0;
        *param_1 = 1;
      }
    }
    else if ((param_4 == 0x216) && (DAT_005e7664 != 0)) {
      GetWindowRect(param_3,param_6);
      *param_2 = 1;
      *param_1 = 1;
      return 1;
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00414850(void)

{
  int yBottom;
  int iVar1;
  int xLeft;
  int yTop;
  undefined4 local_8c [20];
  undefined4 local_3c;
  undefined4 uStackY_34;
  char *pcStackY_30;
  int *piStackY_2c;
  int *local_28;
  
  AdjustStackForLargeAllocations();
  if (DAT_005e769c == 0) {
    FUN_00413d80();
    return 0;
  }
  if (DAT_005e7688 == 0) {
    if (DAT_00598d50 == 0) {
      local_28 = (int *)0x414ad5;
      SetRect((LPRECT)&stack0xffffffe8,0,0,DAT_005e7678,DAT_005e767c);
      local_28 = (int *)0x414afa;
      SetRect((LPRECT)&local_28,DAT_005e7680,DAT_005e7684,DAT_005e7678 + DAT_005e7680,
              DAT_005e767c + DAT_005e7684);
      local_28 = DAT_005e58ec;
      piStackY_2c = (int *)0x414b1a;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x14))();
      if (DAT_005e5128 == -0x7789fe3e) goto LAB_00414b26;
      if (DAT_005e5128 != 0) {
        pcStackY_30 = (char *)0x414b57;
        piStackY_2c = (int *)DAT_005e5128;
        piStackY_2c = (int *)GetErrorStringFunc();
        pcStackY_30 = s_Blt_of_back_buffer_to_front_buff_004c6874;
        uStackY_34 = 0x414b65;
        FUN_00413d80();
        return 0;
      }
    }
    else if ((DAT_004d784c == 0) && (DAT_004d7850 == 0)) {
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x2c))();
      if (DAT_005e5128 == -0x7789fe3e) {
        FUN_00414e20();
        return 1;
      }
      if (DAT_005e5128 != 0) {
        GetErrorStringFunc();
        local_28 = (int *)0x4148f5;
        FUN_00413d80();
        return 1;
      }
    }
    else {
      if (_DAT_004d7858 != 0) {
        _memset(local_8c,0,100);
        local_8c[0] = 100;
        local_3c = 0;
        local_28 = DAT_005e58ec;
        piStackY_2c = (int *)0x414945;
        DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x14))();
        if (DAT_005e5128 == -0x7789fe3e) {
          (**(code **)(*DAT_005e58ec + 0x6c))();
          (**(code **)(*DAT_005e58f0 + 0x6c))();
          FUN_00412840();
        }
        else if (DAT_005e5128 != 0) {
          GetErrorStringFunc();
          FUN_00413d80();
          return 0;
        }
        _DAT_004d7858 = 0;
      }
      iVar1 = FUN_004858c0();
      if (iVar1 == 2) {
        xLeft = DAT_005e7654 - DAT_004c5710 >> 1;
        yTop = DAT_005e7658 - DAT_004c5714 >> 1;
        iVar1 = xLeft + DAT_004c5710;
        yBottom = yTop + DAT_004c5714;
        local_28 = (int *)0x4149c8;
        SetRect((LPRECT)&stack0xffffffe8,0,0,DAT_005e7678,DAT_005e767c);
        local_28 = (int *)0x4149d9;
        SetRect((LPRECT)&local_28,xLeft,yTop,iVar1,yBottom);
        local_28 = DAT_005e58ec;
        piStackY_2c = (int *)0x4149fa;
        DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x14))();
        if (DAT_005e5128 == -0x7789fe3e) {
LAB_00414b26:
          piStackY_2c = DAT_005e58ec;
          pcStackY_30 = (char *)0x414b31;
          (**(code **)(*DAT_005e58ec + 0x6c))();
          pcStackY_30 = (char *)DAT_005e58f0;
          uStackY_34 = 0x414b3c;
          (**(code **)(*DAT_005e58f0 + 0x6c))();
          uStackY_34 = 0x414b41;
          FUN_00412840();
          return 1;
        }
        if (DAT_005e5128 != 0) {
          pcStackY_30 = (char *)0x414a18;
          piStackY_2c = (int *)DAT_005e5128;
          piStackY_2c = (int *)GetErrorStringFunc();
          pcStackY_30 = s_Blt_of_back_buffer_to_front_buff_004c67e8;
          uStackY_34 = 0x414a26;
          FUN_00413d80();
          return 0;
        }
      }
      else {
        local_28 = (int *)0x414a4d;
        SetRect((LPRECT)&stack0xffffffe8,0,0,DAT_005e7678,DAT_005e767c);
        local_28 = (int *)0x414a62;
        SetRect((LPRECT)&local_28,0,0,DAT_005e7654,DAT_005e7658);
        local_28 = DAT_005e58ec;
        piStackY_2c = (int *)0x414a82;
        DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x14))();
        if (DAT_005e5128 == -0x7789fe3e) goto LAB_00414b26;
        if (DAT_005e5128 != 0) {
          pcStackY_30 = (char *)0x414aa0;
          piStackY_2c = (int *)DAT_005e5128;
          piStackY_2c = (int *)GetErrorStringFunc();
          pcStackY_30 = s_Blt_of_back_buffer_to_front_buff_004c6818;
          uStackY_34 = 0x414aae;
          FUN_00413d80();
          return 0;
        }
      }
    }
  }
  return 1;
}



undefined4 FUN_00414bb0(void)

{
  int iVar1;
  code *pcVar2;
  undefined4 local_7c [13];
  undefined4 uStackY_48;
  char *pcStackY_44;
  
  AdjustStackForLargeAllocations();
  if (DAT_005e769c == 0) {
    FUN_00413d80();
    return 0;
  }
  iVar1 = FUN_004858c0();
  pcVar2 = WaitForSingleObject_exref;
  if (iVar1 == 4) {
    _memset(local_7c,0,100);
    pcVar2 = WaitForSingleObject_exref;
    local_7c[0] = 100;
    WaitForSingleObject(DAT_005e4484,0xffffffff);
    DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x14))();
  }
  else {
    WaitForSingleObject((HANDLE)0x0,DAT_005e7678);
    DAT_005e5128 = (**(code **)(*DAT_005e514c + 0x30))();
  }
  ReleaseMutex(DAT_005e4484);
  if (((DAT_00598d54 == 0) && (DAT_004d785c != 0)) && ((DAT_005e58d0 == 0 || (iVar1 == 4)))) {
    _memset(local_7c,0,100);
    local_7c[0] = 100;
    if (DAT_004cb05c == 8) {
      __ftol();
    }
    (*pcVar2)();
    DAT_005e5128 = (**(code **)(*DAT_005e58f4 + 0x14))();
    pcStackY_44 = (char *)0x414d49;
    ReleaseMutex(DAT_005e4484);
    if (DAT_005e5128 != 0) {
      pcStackY_44 = (char *)0x414d58;
      GetErrorStringFunc();
      pcStackY_44 = s_Viewport_clear_failed___s_004c68e8;
      uStackY_48 = 0x414d66;
      FUN_00413d80();
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_00414d80(void)

{
  undefined4 uVar1;
  int *local_14;
  undefined4 local_10;
  int **local_c;
  char *local_8;
  
  local_8 = (char *)0x414d8d;
  AdjustStackForLargeAllocations();
  if (DAT_005e769c == 0) {
    local_8 = s_Cannot_call_APP_MAN_ClearZBuffer_004c6904;
    local_c = (int **)0x414da0;
    FUN_00413d80();
    return 0;
  }
  if ((DAT_004d785c != 0) && (DAT_005e58d0 != 0)) {
    local_c = &local_14;
    local_8 = (char *)0x2;
    local_10 = 1;
    local_14 = DAT_005e514c;
    DAT_005e5128 = (**(code **)(*DAT_005e514c + 0x30))();
    if (DAT_005e5128 != 0) {
      uVar1 = GetErrorStringFunc(DAT_005e5128);
      FUN_00413d80(s_Viewport_clear_failed_in_APP_MAN_004c6948,uVar1);
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_00414e20(void)

{
  bool bVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int iVar4;
  
  bVar1 = false;
  uVar2 = FUN_004858c0();
  uVar3 = FUN_0048da70();
  if (DAT_005e768c == 0) {
    return 0;
  }
  FUN_004858f0(0);
  FUN_0048daa0(0);
  switch(uVar2) {
  case 0:
  case 3:
  case 6:
  case 7:
  case 9:
    goto switchD_00414e5f_caseD_0;
  case 1:
  case 2:
  case 10:
  case 0xb:
  case 0xc:
    if ((DAT_005e58ec != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58ec + 0x60))(DAT_005e58ec), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x6c))(DAT_005e58ec);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f0 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f0 + 0x60))(DAT_005e58f0), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x6c))(DAT_005e58f0);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f4 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f4 + 0x60))(DAT_005e58f4), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f4 + 0x6c))(DAT_005e58f4);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if (!bVar1) goto switchD_00414e5f_caseD_0;
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))(*(int **)(DAT_005e5010 + 8));
    FUN_004126f0((&DAT_005e7334)[DAT_005e730c * 4],(&DAT_005e7338)[DAT_005e730c * 4],
                 (&DAT_005e733c)[DAT_005e730c * 4]);
    FUN_004a29a0();
    FUN_004a9a15();
    FUN_0045ab40();
    FUN_0044d210();
    FUN_004811d0();
    break;
  case 4:
    if ((DAT_005e58ec != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58ec + 0x60))(DAT_005e58ec), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x6c))(DAT_005e58ec);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f0 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f0 + 0x60))(DAT_005e58f0), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x6c))(DAT_005e58f0);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f4 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f4 + 0x60))(DAT_005e58f4), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f4 + 0x6c))(DAT_005e58f4);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if (!bVar1) goto switchD_00414e5f_caseD_0;
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))(*(int **)(DAT_005e5010 + 8));
    FUN_004126f0((&DAT_005e7334)[DAT_005e730c * 4],(&DAT_005e7338)[DAT_005e730c * 4],
                 (&DAT_005e733c)[DAT_005e730c * 4]);
    FUN_00431cf0();
    break;
  case 5:
    if ((DAT_005e58ec != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58ec + 0x60))(DAT_005e58ec), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x6c))(DAT_005e58ec);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f0 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f0 + 0x60))(DAT_005e58f0), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x6c))(DAT_005e58f0);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f4 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f4 + 0x60))(DAT_005e58f4), iVar4 == -0x7789fe3e)) {
      DAT_005e5128 = (**(code **)(*DAT_005e58f4 + 0x6c))(DAT_005e58f4);
joined_r0x00415167:
      bVar1 = true;
      if (DAT_005e5128 != 0) {
LAB_00415169:
        uVar2 = GetErrorStringFunc(DAT_005e5128);
        FUN_00413d80(s_Restoring_of_a_lost_surface_fail_004c69fc,uVar2);
        return 0;
      }
    }
    goto joined_r0x00415188;
  default:
    if ((DAT_005e58ec != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58ec + 0x60))(DAT_005e58ec), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58ec + 0x6c))(DAT_005e58ec);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f0 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f0 + 0x60))(DAT_005e58f0), iVar4 == -0x7789fe3e)) {
      bVar1 = true;
      DAT_005e5128 = (**(code **)(*DAT_005e58f0 + 0x6c))(DAT_005e58f0);
      if (DAT_005e5128 != 0) goto LAB_00415169;
    }
    if ((DAT_005e58f4 != (int *)0x0) &&
       (iVar4 = (**(code **)(*DAT_005e58f4 + 0x60))(DAT_005e58f4), iVar4 == -0x7789fe3e)) {
      DAT_005e5128 = (**(code **)(*DAT_005e58f4 + 0x6c))(DAT_005e58f4);
      goto joined_r0x00415167;
    }
joined_r0x00415188:
    if (!bVar1) goto switchD_00414e5f_caseD_0;
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))(*(int **)(DAT_005e5010 + 8));
    FUN_004126f0((&DAT_005e7334)[DAT_005e730c * 4],(&DAT_005e7338)[DAT_005e730c * 4],
                 (&DAT_005e733c)[DAT_005e730c * 4]);
  }
  FUN_00413e60();
switchD_00414e5f_caseD_0:
  FUN_00412840();
  FUN_00414850(0);
  FUN_00414850(0);
  FUN_0048daa0(uVar3);
  FUN_004858f0(uVar2);
  return 1;
}



undefined4 FUN_00415270(void)

{
  int iVar1;
  
  DAT_005e5010[0x957] = 0;
  iVar1 = FUN_004136e0();
  if (iVar1 == 0) {
    return 0;
  }
  (**(code **)(*(int *)DAT_005e5010[2] + 8))((int *)DAT_005e5010[2]);
  (**(code **)(*(int *)DAT_005e5010[5] + 8))((int *)DAT_005e5010[5]);
  if (DAT_004d785c != 0) {
    (**(code **)(*(int *)DAT_005e5010[0x1ec] + 0x20))
              ((int *)DAT_005e5010[0x1ec],0,DAT_005e5010[0x1ed]);
  }
  if (DAT_004d7850 != 0) {
    (**(code **)(*(int *)DAT_005e5010[0x1ec] + 8))((int *)DAT_005e5010[0x1ec]);
  }
  if ((DAT_005e5010[0x949] == 0) || (DAT_004d784c != 0)) {
    (**(code **)(*DAT_004d7860 + 8))(DAT_004d7860);
  }
  (**(code **)(*(int *)DAT_005e5010[0x1eb] + 8))((int *)DAT_005e5010[0x1eb]);
  if (DAT_005e5010[0x949] != 0) {
    FUN_00412770();
    FUN_00412640(*DAT_005e5010,0);
  }
  (**(code **)(*(int *)DAT_005e5010[1] + 8))((int *)DAT_005e5010[1]);
  (**(code **)(*(int *)DAT_005e5010[4] + 8))((int *)DAT_005e5010[4]);
  (**(code **)(*(int *)DAT_005e5010[0x1e9] + 8))((int *)DAT_005e5010[0x1e9]);
  return 1;
}



undefined4 FUN_00415380(void)

{
  int iVar1;
  
  iVar1 = FUN_00415d30();
  if (iVar1 != 0) {
    DAT_005e4a5e = 1;
    FUN_00415690();
    FUN_00475a90();
    _memset(&DAT_005e4dc0,0,0x100);
    FID_conflict___mbscpy(&DAT_005e4dc0,&gRootFileDirectory);
    FID_conflict__strcat(&DAT_005e4dc0,s_Music__004c6b1c);
    FID_conflict__strcat(&DAT_005e4dc0,s_F_MUS_004c6b24);
    DAT_005e4a48 = _AIL_open_stream_12(DAT_005e49c4,&DAT_005e4dc0,0);
    _AIL_set_stream_loop_count_8(DAT_005e4a48,0);
    DAT_005e4eec = 0x32;
    _AIL_set_stream_volume_8(DAT_005e4a48,0x32);
    _AIL_start_stream_4(DAT_005e4a48);
    ApplyStreamVolumes();
    FUN_0048b9f0();
    return 1;
  }
  return 0;
}



undefined4 FUN_00415440(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  char local_204 [484];
  undefined4 uStackY_20;
  int iStackY_1c;
  uint uStackY_18;
  
  AdjustStackForLargeAllocations();
  DAT_004d7878 = 0;
  DAT_005e4a60 = 0;
  DAT_005e4a5f = 0;
  iVar2 = FUN_00415d30();
  if (iVar2 != 0) {
    DAT_005e4a5e = 1;
    DAT_005e4a60 = 1;
    FUN_00460e20();
    if (DAT_00598944 == 0) {
      FUN_00415910();
    }
    else {
      FUN_00415b30();
    }
    if (DAT_005e4ba0 == 0) {
      FUN_00415690();
    }
    FUN_00475a90();
    if (DAT_00598944 == 0) {
      FUN_0045fe60();
    }
    uStackY_18 = 0x4154d9;
    FID_conflict___mbscpy(&DAT_005e4dc0,&DAT_005d60e0);
    uStackY_18 = 0x4154eb;
    FID_conflict__strcat(&DAT_005e4dc0,s_6_AMB_004c6bc8);
    uStackY_18 = 0x4154fd;
    FID_conflict___mbscpy(&DAT_005e4f00,&DAT_005d60e0);
    uStackY_18 = (uint)DAT_005e4a5a;
    iStackY_1c = 0x415518;
    FUN_004ae5f0();
    uStackY_18 = 0x41552c;
    FID_conflict__strcat(&DAT_005e4f00,local_204);
    uStackY_18 = 0x41553e;
    FID_conflict__strcat(&DAT_005e4f00,&DAT_004c6bd0);
    uStackY_18 = DAT_005e49c4;
    iStackY_1c = 0x415557;
    DAT_005e4a4c = _AIL_open_stream_12();
    uStackY_18 = 0x415564;
    _AIL_pause_stream_8();
    uStackY_18 = 0x415573;
    _AIL_set_stream_volume_8();
    uStackY_18 = DAT_005e49c4;
    iStackY_1c = 0x415582;
    DAT_005e4a48 = _AIL_open_stream_12();
    uVar3 = 0;
    iVar2 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        iVar1 = *(int *)(*(int *)(iVar2 + 0x230) + uVar3 * 4);
        if (((*(int *)(iVar1 + 0x5b) == 0) && (iVar1 = *(int *)(iVar1 + 0x9d), iVar1 != 0)) &&
           ((*(byte *)(iVar1 + 1) & 8) != 0)) {
          iStackY_1c = *(int *)(*(int *)(iVar1 + 0x17) + 7) * 0x27 + DAT_005e4ef0;
          uStackY_18 = *(undefined4 *)(iStackY_1c + 0x18);
          uStackY_20 = 0x4155e1;
          FUN_00475bf0();
          *(undefined *)
           (*(int *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar3 * 4) + 0x9d) + 0x17) +
           6) = 1;
          iVar2 = DAT_00598d90;
        }
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(uint *)(iVar2 + 0x239));
    }
    FUN_00475af0();
    ApplyStreamVolumes();
    DAT_00598700 = 0;
    DAT_005e4a61 = 0;
    DAT_004c6b00 = 5;
    FUN_0048b9f0();
    return 1;
  }
  return 0;
}



undefined4 FUN_00415650(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0;
  puVar1 = &DAT_005e4600;
  do {
    *(int *)(puVar1 + 0x10) = iVar2;
    FUN_00415e50(puVar1,0xffffffff,0,0x1ad);
    puVar1 = puVar1 + 0x27;
    iVar2 = iVar2 + 1;
  } while (puVar1 < &DAT_005e49a8);
  return 1;
}



undefined4 FUN_00415690(void)

{
  undefined *puVar1;
  int iVar2;
  
  iVar2 = 0;
  puVar1 = &DAT_005e4b80;
  do {
    *(int *)(puVar1 + 0x10) = iVar2;
    FUN_00415e50(puVar1,0xffffffff,0,0x161);
    puVar1 = puVar1 + 0x27;
    iVar2 = iVar2 + 1;
  } while (puVar1 < &DAT_005e4da2);
  return 1;
}



undefined4 FUN_004156d0(void)

{
  int iVar1;
  void *_Dst;
  int iVar2;
  uint uVar3;
  int iVar4;
  size_t _Size;
  
  iVar2 = 0;
  DAT_004d787c = 0;
  uVar3 = 0;
  iVar4 = DAT_005dcb3c;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(*(int *)(iVar4 + 0x230) + uVar3 * 4) + 0x9d);
      if ((iVar1 != 0) && ((*(byte *)(iVar1 + 1) & 8) != 0)) {
        *(int *)(*(int *)(iVar1 + 0x17) + 7) = iVar2;
        iVar2 = DAT_004d787c + 1;
        iVar4 = DAT_005dcb3c;
        DAT_004d787c = iVar2;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(iVar4 + 0x239));
  }
  _Size = iVar2 * 0x27;
  iVar4 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_005e4ef0 = _memset(_Dst,iVar4,_Size);
  uVar3 = 0;
  iVar4 = DAT_005dcb3c;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      iVar2 = *(int *)(*(int *)(*(int *)(iVar4 + 0x230) + uVar3 * 4) + 0x9d);
      if ((iVar2 != 0) && ((*(ushort *)(iVar2 + 1) & 8) != 0)) {
        *(byte *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 0x25 + (int)DAT_005e4ef0) =
             (byte)*(ushort *)(iVar2 + 1) >> 4 & 1;
        *(int *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 0x18 + (int)DAT_005e4ef0) =
             *(int *)(*(int *)(DAT_005dcb3c + 0x230) + uVar3 * 4) + 6;
        *(undefined *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 0x24 + (int)DAT_005e4ef0) =
             *(undefined *)
              ((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + 0x24 + DAT_005dcb40);
        *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + (int)DAT_005e4ef0) =
             *(undefined4 *)((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + DAT_005dcb40);
        *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 8 + (int)DAT_005e4ef0) =
             *(undefined4 *)
              ((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + 8 + DAT_005dcb40);
        *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 0x20 + (int)DAT_005e4ef0) =
             *(undefined4 *)
              ((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + 0x20 + DAT_005dcb40);
        *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 4 + (int)DAT_005e4ef0) =
             *(undefined4 *)
              ((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + 4 + DAT_005dcb40);
        *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x17) + 7) * 0x27 + 0xc + (int)DAT_005e4ef0) =
             *(undefined4 *)
              ((uint)*(ushort *)(*(int *)(iVar2 + 0x17) + 4) * 0x27 + 0xc + DAT_005dcb40);
        iVar4 = DAT_005dcb3c;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(iVar4 + 0x239));
  }
  return 1;
}



undefined4 FUN_00415910(void)

{
  byte bVar1;
  short sVar2;
  void *pvVar3;
  int *piVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  size_t sVar10;
  uint uVar11;
  uint uVar12;
  
  AdjustStackForLargeAllocations();
  uVar12 = DAT_005df318[1];
  sVar10 = 0x972;
  iVar9 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0x972);
  DAT_005e4a64 = _memset(pvVar3,iVar9,sVar10);
  sVar10 = 0xf8;
  iVar9 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0xf8);
  piVar4 = (int *)_memset(pvVar3,iVar9,sVar10);
  uVar11 = 0;
  if (*DAT_005df318 != 0) {
    do {
      uVar7 = 0;
      iVar9 = *(int *)(uVar12 + 4);
      if (*(char *)(iVar9 + 0x189) != '\0') {
        piVar5 = (int *)(iVar9 + 0x175);
        do {
          iVar6 = *piVar5;
          if (iVar6 != 0) {
            bVar1 = *(byte *)(*(int *)(iVar6 + 0x13) + 0xed);
            if (bVar1 < 0x3e) {
              piVar4[bVar1] = 1;
            }
            bVar1 = *(byte *)(*(int *)(iVar6 + 0x13) + 0xee);
            if (bVar1 < 0x3e) {
              piVar4[bVar1] = 1;
            }
            if (*(int *)(*(int *)(iVar6 + 0x13) + 0x7f) == 0xf) {
              sVar2 = *(short *)(*(int *)(iVar6 + 0x13) + 0xe7);
              if (sVar2 == 8) {
                piVar4[0x32] = 1;
              }
              else if (sVar2 == 0x10) {
                piVar4[0x2b] = 1;
              }
              else {
                piVar4[0x33] = 1;
              }
              piVar4[0x3b] = 1;
            }
            if (*(int *)(*(int *)(iVar6 + 0x13) + 0x7f) == 0xe) {
              piVar4[0x3b] = 1;
            }
            if (*(int *)(*(int *)(iVar6 + 0x13) + 0x7f) == 0xb) {
              piVar4[0x2a] = 1;
            }
            if (*(int *)(*(int *)(iVar6 + 0x13) + 0x7f) == 0x16) {
              piVar4[0x35] = 1;
            }
            iVar8 = *(int *)(*(int *)(iVar6 + 0x13) + 0x7f);
            if ((iVar8 == 9) || (iVar8 == 0x17)) {
              piVar4[0x1e] = 1;
            }
            iVar6 = *(int *)(*(int *)(iVar6 + 0x13) + 0x7b);
            if ((iVar6 == 3) || (iVar6 == 2)) {
              piVar4[0x36] = 1;
            }
            if ((*(byte *)(*(int *)(uVar12 + 4) + 0x8a) & 8) != 0) {
              piVar4[0x37] = 1;
              piVar4[0x39] = 1;
              piVar4[0x3a] = 1;
            }
          }
          uVar7 = uVar7 + 1;
          piVar5 = piVar5 + 1;
        } while (uVar7 < *(byte *)(iVar9 + 0x189));
      }
      uVar11 = uVar11 + 1;
      uVar12 = *(uint *)(uVar12 + 10);
    } while (uVar11 < *DAT_005df318);
  }
  iVar6 = 0;
  iVar8 = 0;
  iVar9 = 0x3e;
  piVar5 = piVar4;
  do {
    if (*piVar5 != 0) {
      *(int *)((int)DAT_005e4a64 + iVar8 + 0x10) = iVar6;
      FUN_00415e50((int)DAT_005e4a64 + iVar8,0xffffffff,0,0x16f);
    }
    iVar6 = iVar6 + 1;
    piVar5 = piVar5 + 1;
    iVar8 = iVar8 + 0x27;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  if (piVar4 != (int *)0x0) {
    FreeMemory(piVar4);
  }
  return 1;
}



undefined4 FUN_00415b30(void)

{
  byte bVar1;
  short sVar2;
  void *pvVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  size_t sVar8;
  uint uVar9;
  int *piVar10;
  
  AdjustStackForLargeAllocations();
  sVar8 = 0x972;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0x972);
  DAT_005e4a64 = _memset(pvVar3,iVar7,sVar8);
  sVar8 = 0xf8;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0xf8);
  piVar4 = (int *)_memset(pvVar3,iVar7,sVar8);
  uVar9 = 0;
  if (DAT_005d6760 * 5 != 0) {
    piVar10 = &DAT_005e2190;
    do {
      iVar7 = *piVar10;
      bVar1 = *(byte *)(*(int *)(iVar7 + 0x13) + 0xed);
      if (bVar1 < 0x3e) {
        piVar4[bVar1] = 1;
      }
      bVar1 = *(byte *)(*(int *)(iVar7 + 0x13) + 0xee);
      if (bVar1 < 0x3e) {
        piVar4[bVar1] = 1;
      }
      switch(*(undefined4 *)(*(int *)(iVar7 + 0x13) + 0x7f)) {
      case 9:
      case 0x17:
        piVar4[0x1e] = 1;
        break;
      case 0xb:
        piVar4[0x2a] = 1;
        break;
      case 0xe:
        piVar4[0x3b] = 1;
        break;
      case 0xf:
        sVar2 = *(short *)(*(int *)(iVar7 + 0x13) + 0xe7);
        if (sVar2 == 8) {
          piVar4[0x32] = 1;
          piVar4[0x3b] = 1;
        }
        else if (sVar2 == 0x10) {
          piVar4[0x2b] = 1;
          piVar4[0x3b] = 1;
        }
        else {
          piVar4[0x33] = 1;
          piVar4[0x3b] = 1;
        }
        break;
      case 0x16:
        piVar4[0x35] = 1;
      }
      iVar7 = *(int *)(*(int *)(iVar7 + 0x13) + 0x7b);
      if ((iVar7 == 3) || (iVar7 == 2)) {
        piVar4[0x36] = 1;
      }
      uVar9 = uVar9 + 1;
      piVar10 = piVar10 + 0x38;
    } while (uVar9 < (uint)(DAT_005d6760 * 5));
  }
  iVar5 = 0;
  piVar4[0x3c] = 1;
  piVar4[0x3d] = 1;
  iVar6 = 0;
  iVar7 = 0x3e;
  piVar10 = piVar4;
  do {
    if (*piVar10 != 0) {
      *(int *)((int)DAT_005e4a64 + iVar6 + 0x10) = iVar5;
      FUN_00415e50((int)DAT_005e4a64 + iVar6,0xffffffff,0,0x16f);
    }
    iVar5 = iVar5 + 1;
    piVar10 = piVar10 + 1;
    iVar6 = iVar6 + 0x27;
    iVar7 = iVar7 + -1;
  } while (iVar7 != 0);
  if (piVar4 != (int *)0x0) {
    FreeMemory(piVar4);
  }
  return 1;
}



// Initialize audio system

undefined4 FUN_00415d30(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  
  if (DAT_00598d48 != '\0') {
    return 0;
  }
  if ((DAT_005e4a5e == '\0') && (iVar2 = 0, DAT_005e49c4 == 0)) {
    _AIL_startup_0();
    DAT_005e49c4 = 0;
    _AIL_set_preference_8(0xf,0);
    _AIL_set_preference_8(1,0x10);
    DAT_005e49c4 = FUN_00415dd0(0x5622,0x10,2);
    if (DAT_005e49c4 == 0) {
      return 0;
    }
    piVar3 = &DAT_005e49c8;
    do {
      iVar1 = _AIL_allocate_sample_handle_4(DAT_005e49c4);
      *piVar3 = iVar1;
      if (iVar1 == 0) break;
      piVar3 = piVar3 + 1;
      iVar2 = iVar2 + 1;
    } while ((int)piVar3 < 0x5e49e8);
    DAT_004c5030 = (undefined)iVar2;
    DAT_005e4a54 = iVar2;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00415dd0(int param_1,ushort param_2,uint param_3)

{
  int iVar1;
  
  _DAT_004d786c = param_1;
  _DAT_004d7870 = (uint)(param_2 >> 3) * (param_3 & 0xffff) * param_1;
  _DAT_004d7876 = param_2;
  _DAT_004d786a = (short)param_3;
  _DAT_004d7874 = (param_2 >> 3) * _DAT_004d786a;
  _DAT_004d7868 = 1;
  iVar1 = _AIL_waveOutOpen_16(&param_3,0,0,&DAT_004d7868);
  return ~-(uint)(iVar1 != 0) & param_3;
}



undefined4 FUN_00415e50(undefined4 *param_1,int param_2,int param_3,uint param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  undefined2 extraout_var;
  undefined2 extraout_var_00;
  undefined2 uVar5;
  undefined4 unaff_EDI;
  int local_2c;
  undefined4 local_28;
  int local_24;
  undefined4 local_20;
  int iStack_1c;
  undefined4 *local_18;
  char *pcStack_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = param_3;
  iVar3 = param_2;
  uVar5 = extraout_var;
  if ((param_2 != -1) && (param_3 != 0)) {
    local_18 = &param_2;
    pcStack_14 = (char *)param_2;
    iStack_1c = 0;
    local_20 = 0x415e7e;
    iVar2 = FUN_004ac7c0();
    uVar5 = extraout_var_00;
    if (iVar2 != 0) goto LAB_00415ed2;
  }
  pcStack_14 = s_SoundFX_dat_004c6db8;
  local_18 = (undefined4 *)CONCAT22(uVar5,(short)param_4 + *(short *)(param_1 + 4));
  iStack_1c = 0x415e98;
  param_2 = FUN_0048b930();
  if (param_2 == 0) {
    if (iVar3 == -1) {
      return 0;
    }
    if (iVar1 != 0) {
      return 0;
    }
    iStack_1c = param_1[4];
    local_18 = &param_2;
    pcStack_14 = (char *)iVar3;
    local_20 = 0x415ec1;
    iVar3 = FUN_004ac6e0();
    if (iVar3 == 0) {
      return 0;
    }
  }
LAB_00415ed2:
  pcStack_14 = (char *)&local_2c;
  iStack_1c = 0x415edd;
  local_18 = (undefined4 *)param_2;
  iVar3 = _AIL_WAV_info_8();
  if (iVar3 == 0) {
    return 1;
  }
  DAT_004d7880 = DAT_004d7880 + local_24;
  pcStack_14 = (char *)local_24;
  local_18 = (undefined4 *)0x415eff;
  iStack_1c = _AIL_mem_alloc_lock_4();
  *(undefined *)(param_1 + 9) = local_18._0_1_;
  *param_1 = local_20;
  param_1[8] = iStack_1c;
  param_1[1] = local_24;
  if (local_2c == 1) {
    param_1[2] = 0;
  }
  else {
    param_1[2] = unaff_EDI;
  }
  if (iStack_1c == 0) {
    return 0;
  }
  pcStack_14 = (char *)local_24;
  local_18 = (undefined4 *)local_28;
  local_20 = 0x415f35;
  FUN_004ad7a0();
  if (param_2 != 0) {
    pcStack_14 = (char *)param_2;
    local_18 = (undefined4 *)0x415f45;
    FreeMemory();
  }
  param_4 = (uint)*(byte *)(param_1 + 9);
  pcStack_14 = (char *)0x415f7b;
  uVar4 = __ftol();
  param_1[3] = uVar4;
  return 1;
}



void FUN_00415fa0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  FUN_00415e50(param_1,param_2,param_3,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00415fc0(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  
  if (DAT_005e4a5e != '\0') {
    puVar3 = &DAT_005e49c8;
    do {
      _AIL_end_sample_4(*puVar3);
      puVar3 = puVar3 + 1;
    } while ((int)puVar3 < 0x5e4a08);
    iVar5 = 0;
    if (DAT_005e4a48 != 0) {
      _AIL_close_stream_4(DAT_005e4a48);
    }
    DAT_005e4a48 = 0;
    if (DAT_005e4a4c != 0) {
      _AIL_close_stream_4(DAT_005e4a4c);
    }
    DAT_005e4a4c = 0;
    if (DAT_005b938c != 0) {
      FUN_0048c080(&DAT_005b9380);
    }
    if (DAT_005dcb6b != 0) {
      FreeMemory(DAT_005dcb6b);
      DAT_005dcb6b = 0;
    }
    if (DAT_005dcb6f != 0) {
      FreeMemory(DAT_005dcb6f);
      DAT_005dcb6f = 0;
    }
    if (ram0x005dcb75 != 0) {
      FreeMemory(ram0x005dcb75);
      ram0x005dcb75 = 0;
    }
    if (DAT_005dcb79 != 0) {
      FreeMemory(DAT_005dcb79);
      DAT_005dcb79 = 0;
    }
    iVar2 = DAT_005d0e50;
    if (DAT_005dcb61 != 0) {
      FreeMemory(DAT_005dcb61);
      DAT_005dcb61 = 0;
      iVar2 = DAT_005d0e50;
    }
    while (iVar2 != 0) {
      DAT_005d0e50 = *(int *)(iVar2 + 0x28);
      *(undefined *)(iVar2 + 0x33) = 0;
      iVar2 = DAT_005d0e50;
    }
    DAT_005d0e50 = 0;
    while (iVar2 = DAT_00598f50, iVar2 != 0) {
      DAT_00598f50 = *(int *)(iVar2 + 0x14);
      if (*(int *)(iVar2 + 0x20) != 0) {
        DAT_004d7880 = DAT_004d7880 - *(int *)(iVar2 + 4);
        _AIL_mem_free_lock_4(*(undefined4 *)(iVar2 + 0x20));
      }
      if (iVar2 != 0) {
        FreeMemory(iVar2);
      }
    }
    DAT_00598f50 = iVar2;
    if (DAT_005e4ef0 != 0) {
      FreeMemory(DAT_005e4ef0);
      DAT_005e4ef0 = 0;
    }
    iVar4 = 0;
    iVar2 = DAT_005e4a64;
    do {
      iVar1 = *(int *)(iVar2 + 0x20 + iVar4);
      if (iVar1 != 0) {
        _AIL_mem_free_lock_4(iVar1);
        DAT_004d7880 = DAT_004d7880 - *(int *)(DAT_005e4a64 + 4 + iVar4);
        iVar2 = DAT_005e4a64;
      }
      iVar4 = iVar4 + 0x27;
    } while (iVar4 < 0x972);
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      DAT_005e4a64 = 0;
    }
    iVar2 = DAT_005dcb40;
    if (DAT_004d86b8 != 0) {
      iVar4 = 0;
      do {
        iVar1 = *(int *)(iVar2 + 0x20 + iVar4);
        if (iVar1 != 0) {
          _AIL_mem_free_lock_4(iVar1);
          DAT_004d7880 = DAT_004d7880 - *(int *)(DAT_005dcb40 + 4 + iVar4);
          iVar2 = DAT_005dcb40;
        }
        iVar5 = iVar5 + 1;
        iVar4 = iVar4 + 0x27;
      } while (iVar5 < (int)(uint)DAT_004d86b8);
    }
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      DAT_005dcb40 = 0;
    }
    FUN_00460dd0();
    if (DAT_005dcb6b != 0) {
      FreeMemory(DAT_005dcb6b);
      DAT_005dcb6b = 0;
    }
  }
  DAT_004d787c = 0;
  puVar3 = &DAT_005e49c8;
  do {
    _AIL_end_sample_4(*puVar3);
    puVar3 = puVar3 + 1;
  } while ((int)puVar3 < 0x5e4a08);
  if (DAT_004d7878 != 0) {
    _AIL_redbook_stop_4(DAT_004d7878);
    _AIL_redbook_close_4(DAT_004d7878);
  }
  DAT_005e4a5e = 0;
  return;
}



void FUN_00416240(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  if (DAT_005e4a5e != '\0') {
    _AIL_close_stream_4(DAT_005e4a48);
    DAT_005e4a48 = 0;
    puVar2 = &DAT_005e49c8;
    do {
      _AIL_end_sample_4(*puVar2);
      puVar2 = puVar2 + 1;
      iVar1 = DAT_005d0e50;
    } while ((int)puVar2 < 0x5e4a08);
    while (iVar1 != 0) {
      DAT_005d0e50 = *(int *)(iVar1 + 0x28);
      *(undefined *)(iVar1 + 0x33) = 0;
      iVar1 = DAT_005d0e50;
    }
    puVar2 = &DAT_005e49c8;
    DAT_005d0e50 = 0;
    do {
      _AIL_sample_status_4(*puVar2);
      puVar2 = puVar2 + 1;
    } while ((int)puVar2 < 0x5e4a08);
  }
  DAT_005e4a5e = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00416320(void)

{
  ushort uVar1;
  bool bVar2;
  void *pvVar3;
  ushort *puVar4;
  ushort **ppuVar5;
  int iVar6;
  int iVar7;
  ushort local_ec [100];
  uint local_24;
  uint local_20;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  size_t sVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  sVar11 = 0x20c;
  iVar9 = 0;
  iVar13 = 0;
  local_20 = 0x416345;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x41634e;
  DAT_004d79b0 = (int *)_memset(pvVar3,iVar9,sVar11);
  if (DAT_004d79b0 == (int *)0x0) {
    return 0;
  }
  sVar11 = 0x20;
  iVar9 = 0;
  local_20 = 0x41636d;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = 0x416376;
  DAT_004d79b4 = _memset(pvVar3,iVar9,sVar11);
  if (DAT_004d79b4 == (void *)0x0) {
    return 0;
  }
  if (DAT_005df2f8 == 1) {
    DAT_004d79b0[4] = 0x22;
    if (*(int *)(DAT_005e5010 + 0x2524) == 0) {
      DAT_004d7898 = 0xce;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0x5a;
    }
    else {
      DAT_004d7898 = 0x132;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0xbe;
    }
    _DAT_004d789c = 6;
    DAT_004d79a8 = 0xbe;
    DAT_004d79ac = 0x46;
    DAT_004d79b0[1] = 6;
  }
  else if (DAT_005df2f8 == 2) {
    DAT_004d79b0[4] = 0x16;
    if (*(int *)(DAT_005e5010 + 0x2524) == 0) {
      DAT_004d7898 = 0x5b;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0x16;
    }
    else {
      DAT_004d7898 = 0xbf;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0x7a;
    }
    _DAT_004d789c = 4;
    DAT_004d79a8 = 0x7a;
    DAT_004d79ac = 0x30;
    DAT_004d79b0[1] = 4;
  }
  else {
    DAT_004d79b0[4] = 0x2c;
    if (*(int *)(DAT_005e5010 + 0x2524) == 0) {
      DAT_004d7898 = 0xb3;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0x26;
    }
    else {
      DAT_004d7898 = DAT_004d842c + 0x17b;
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538) + 0xee + (int)DAT_004d842c;
    }
    _DAT_004d789c = 8;
    DAT_004d79a8 = 0xee;
    DAT_004d79ac = 0x55;
    DAT_004d79b0[1] = 8;
  }
  FUN_004181b0();
  if (DAT_005df318 != (uint *)0x0) {
    local_24 = DAT_005df318[1];
    iVar9 = *(int *)(DAT_005df318[1] + 10);
    uVar12 = 0;
    local_20 = *DAT_005df318;
    if (*DAT_005df318 != 0) {
      do {
        if (iVar9 == 0) break;
        puVar10 = local_ec + iVar6;
        ppuVar5 = (ushort **)(*(int *)(iVar9 + 4) + 0x175);
        iVar8 = 5;
        iVar7 = iVar6;
        iVar14 = iVar9;
        do {
          iVar6 = iVar7;
          if ((*ppuVar5 != (ushort *)0x0) &&
             (((uVar1 = **ppuVar5, uVar1 < 0xe2 || (0xfb < uVar1)) && (uVar1 != 0)))) {
            bVar2 = false;
            if (iVar7 != 0) {
              puVar4 = local_ec;
              do {
                if ((int)(short)*puVar4 == (uint)uVar1) {
                  bVar2 = true;
                }
                puVar4 = puVar4 + 1;
                iVar7 = iVar7 + -1;
                iVar9 = iVar14;
                iVar6 = iVar13;
              } while (iVar7 != 0);
            }
            if (!bVar2) {
              iVar6 = iVar6 + 1;
              iVar13 = iVar6;
              *puVar10 = uVar1;
              puVar10 = puVar10 + 1;
            }
          }
          ppuVar5 = ppuVar5 + 1;
          iVar8 = iVar8 + -1;
          iVar7 = iVar6;
        } while (iVar8 != 0);
        iVar9 = *(int *)(iVar9 + 10);
        uVar12 = uVar12 + 1;
      } while (uVar12 < local_20);
    }
    _DAT_004d7890 = (uint)*(byte *)(*(int *)(local_24 + 4) + 0x189) + iVar6;
  }
  if (DAT_004d79cc != 0) {
    FreeMemory();
    DAT_004d79cc = 0;
  }
  return 1;
}



undefined4 FUN_00416640(int param_1,short param_2)

{
  short **ppsVar1;
  int iVar2;
  
  iVar2 = 0;
  ppsVar1 = (short **)(*(int *)(param_1 + 4) + 0x109);
  while ((*ppsVar1 == (short *)0x0 || (**ppsVar1 != param_2))) {
    iVar2 = iVar2 + 1;
    ppsVar1 = ppsVar1 + 1;
    if (0x1a < iVar2) {
      iVar2 = 0;
      ppsVar1 = (short **)(*(int *)(param_1 + 4) + 0x175);
      while ((*ppsVar1 == (short *)0x0 || (**ppsVar1 != param_2))) {
        iVar2 = iVar2 + 1;
        ppsVar1 = ppsVar1 + 1;
        if (4 < iVar2) {
          return 0;
        }
      }
      return 1;
    }
  }
  return 1;
}



undefined4 FUN_004166a0(int param_1,short param_2)

{
  int iVar1;
  short *psVar2;
  short **ppsVar3;
  int iVar4;
  
  iVar1 = *(int *)(param_1 + 4);
  iVar4 = 0;
  ppsVar3 = (short **)(iVar1 + 0x109);
  while ((*ppsVar3 == (short *)0x0 || (**ppsVar3 != param_2))) {
    iVar4 = iVar4 + 1;
    ppsVar3 = ppsVar3 + 1;
    if (0x1a < iVar4) {
      if (*(byte *)(iVar1 + 0x189) < 2) {
        return 0;
      }
      iVar4 = 0;
      ppsVar3 = (short **)(iVar1 + 0x175);
      while (((psVar2 = *ppsVar3, psVar2 == (short *)0x0 || (psVar2 == *(short **)(iVar1 + 0x86)))
             || (*psVar2 != param_2))) {
        iVar4 = iVar4 + 1;
        ppsVar3 = ppsVar3 + 1;
        if (4 < iVar4) {
          return 0;
        }
      }
      return 1;
    }
  }
  return 1;
}



void FUN_00416710(void)

{
  undefined *puVar1;
  byte bVar2;
  bool bVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  undefined4 ****ppppuVar8;
  int iVar9;
  int *piVar10;
  int *piVar11;
  undefined4 ****local_14;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  if (DAT_004d79b0 == (int *)0x0) {
    return;
  }
  iVar4 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  if (DAT_004d79b0[2] == 0) {
    if (*(int *)(DAT_005e5010 + 0x2538) <= *DAT_004d79b0) goto LAB_00416772;
    *DAT_004d79b0 = *DAT_004d79b0 + 0x32;
    if (*(int *)(DAT_005e5010 + 0x2538) <= *DAT_004d79b0) {
      *DAT_004d79b0 = *(int *)(DAT_005e5010 + 0x2538);
      bVar3 = false;
      goto LAB_00416772;
    }
  }
  else if ((DAT_004d7898 < *DAT_004d79b0) &&
          (*DAT_004d79b0 = *DAT_004d79b0 + -0x32, *DAT_004d79b0 < DAT_004d7898)) {
    *DAT_004d79b0 = DAT_004d7898;
  }
  bVar3 = true;
LAB_00416772:
  if (bVar3) {
    if (DAT_005df2f8 == 1) {
      iVar5 = DAT_004d79b0[1];
      iVar7 = iVar5 + 0x1c;
      local_14 = (undefined4 ****)(*DAT_004d79b0 + 8);
      FUN_004173e0(DAT_004d79b4[2],local_14,iVar5 + 0x1b,0xae);
      iVar9 = 0;
      piVar10 = (int *)(iVar4 + 0x109);
      do {
        if (*piVar10 == 0) {
          local_14 = &local_14;
          FUN_00417590(DAT_004d79b4[5],(int)local_14 + iVar9 + DAT_004d79b0[3],iVar7,0x22,0x22);
          puVar1 = (undefined *)((int)local_14 + DAT_004d79b0[3] + 5);
          uVar6 = DAT_004d79b4[1];
LAB_00416cfd:
          local_14 = &local_14;
          FUN_00417590(uVar6,puVar1 + iVar9,iVar5 + 0x21,0x18,0x18);
        }
        else if (*(int *)(*piVar10 + 0xf) != 0) {
          iVar4 = (int)local_14 + iVar9 + DAT_004d79b0[3];
          local_14 = &local_14;
          FUN_00417590(DAT_004d79b4[4],iVar4,iVar7,0x22,0x22);
          bVar2 = *(byte *)(*piVar10 + 4);
          local_14 = (undefined4 ****)CONCAT31((int3)((uint)*piVar10 >> 8),bVar2);
          if (bVar2 < 100) {
            FUN_00417780(DAT_004d79b4[5],(int)local_14 + iVar9 + DAT_004d79b0[3],iVar7,0x22,0x22,
                         &local_14);
          }
          puVar1 = &stack0xfffffff1 + DAT_004d79b0[3];
          uVar6 = *(undefined4 *)(*piVar10 + 0xf);
          goto LAB_00416cfd;
        }
        iVar9 = iVar9 + 0x22;
        piVar10 = piVar10 + 1;
      } while (iVar9 < 0x396);
      local_14 = (undefined4 ****)DAT_004d79ac;
      FUN_004173e0(*DAT_004d79b4,*DAT_004d79b0,DAT_004d79b0[1],DAT_004d79a8);
      local_14 = (undefined4 ****)0x12;
      FUN_004173e0(DAT_004d79b4[3],DAT_004d79b0[5] * 0x22 + 0x18,
                   DAT_004d79b0[1] + 1 + (int)DAT_004d79ac,0x18);
      piVar10 = DAT_004d79b0;
      local_14 = (undefined4 ****)0x416d90;
      iVar5 = __ftol();
      iVar4 = piVar10[5];
      if (0 < iVar4 - iVar5) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[6],*piVar10 + -0x13,piVar10[1] + 0x21,0);
        piVar10 = DAT_004d79b0;
      }
      if (iVar4 - iVar5 < 0x1a) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[7],DAT_004d79a8 + 1 + *piVar10,piVar10[1] + 0x21,0);
      }
    }
    else if (DAT_005df2f8 == 2) {
      iVar5 = DAT_004d79b0[1];
      iVar7 = iVar5 + 0x14;
      ppppuVar8 = (undefined4 ****)(*DAT_004d79b0 + 6);
      iVar9 = 0;
      piVar11 = (int *)(iVar4 + 0x109);
      piVar10 = DAT_004d79b0;
      do {
        if (*piVar11 == 0) {
          local_14 = &local_14;
          FUN_00417590(DAT_004d79b4[5],(int)ppppuVar8 + iVar9 + piVar10[3],iVar7,0x16,0x16);
          iVar4 = DAT_004d79b0[3] + (int)local_14;
          uVar6 = DAT_004d79b4[1];
LAB_00416ae3:
          local_14 = &local_14;
          FUN_00417590(uVar6,iVar4 + 3 + iVar9,iVar5 + 0x17,0x10,0x10);
          piVar10 = DAT_004d79b0;
          ppppuVar8 = local_14;
        }
        else if (*(int *)(*piVar11 + 0xf) != 0) {
          local_14 = &local_14;
          uVar6 = FUN_00417590(DAT_004d79b4[4],(int)ppppuVar8 + iVar9 + piVar10[3],iVar7,0x16,0x16);
          ppppuVar8 = (undefined4 ****)CONCAT31((int3)((uint)uVar6 >> 8),*(byte *)(*piVar11 + 4));
          if (*(byte *)(*piVar11 + 4) < 100) {
            local_14 = ppppuVar8;
            FUN_00417780(DAT_004d79b4[5],(int)ppppuVar8 + iVar9 + DAT_004d79b0[3],iVar7,0x16,0x16,
                         &local_14);
          }
          iVar4 = DAT_004d79b0[3] + (int)local_14;
          uVar6 = *(undefined4 *)(*piVar11 + 0xf);
          goto LAB_00416ae3;
        }
        iVar9 = iVar9 + 0x16;
        piVar11 = piVar11 + 1;
      } while (iVar9 < 0x252);
      local_14 = (undefined4 ****)0xa;
      FUN_004173e0(DAT_004d79b4[3],(int)ppppuVar8 + piVar10[5] * 0x16 + 4,
                   piVar10[1] + 1 + (int)DAT_004d79ac,0x10);
      piVar10 = DAT_004d79b0;
      local_14 = (undefined4 ****)0x416b4e;
      iVar5 = __ftol();
      iVar4 = piVar10[5];
      if (0 < iVar4 - iVar5) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[6],*piVar10 + -0xb,piVar10[1] + 0x17,0);
        piVar10 = DAT_004d79b0;
      }
      if (0x1a < iVar4 - iVar5) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[7],DAT_004d79a8 + *piVar10,piVar10[1] + 0x17,0);
        return;
      }
    }
    else {
      iVar5 = DAT_004d79b0[1];
      iVar7 = iVar5 + 0x20;
      local_14 = (undefined4 ****)(*DAT_004d79b0 + 8);
      FUN_004173e0(DAT_004d79b4[2],local_14,iVar5 + 0x1f,0xdd);
      iVar9 = 0;
      piVar10 = (int *)(iVar4 + 0x109);
      do {
        if (*piVar10 == 0) {
          local_14 = &local_14;
          FUN_00417590(DAT_004d79b4[5],(int)local_14 + iVar9 + DAT_004d79b0[3],iVar7,0x2c,0x2c);
          puVar1 = (undefined *)((int)local_14 + DAT_004d79b0[3] + 6);
          uVar6 = DAT_004d79b4[1];
LAB_004168d5:
          local_14 = &local_14;
          FUN_00417590(uVar6,puVar1 + iVar9,iVar5 + 0x26,0x20,0x20);
        }
        else if (*(int *)(*piVar10 + 0xf) != 0) {
          iVar4 = (int)local_14 + iVar9 + DAT_004d79b0[3];
          local_14 = &local_14;
          FUN_00417590(DAT_004d79b4[4],iVar4,iVar7,0x2c,0x2c);
          bVar2 = *(byte *)(*piVar10 + 4);
          local_14 = (undefined4 ****)CONCAT31((int3)((uint)*piVar10 >> 8),bVar2);
          if (bVar2 < 100) {
            FUN_00417780(DAT_004d79b4[5],(int)local_14 + iVar9 + DAT_004d79b0[3],iVar7,0x2c,0x2c,
                         &local_14);
          }
          puVar1 = &stack0xfffffff2 + DAT_004d79b0[3];
          uVar6 = *(undefined4 *)(*piVar10 + 0xf);
          goto LAB_004168d5;
        }
        iVar9 = iVar9 + 0x2c;
        piVar10 = piVar10 + 1;
      } while (iVar9 < 0x4a4);
      local_14 = (undefined4 ****)DAT_004d79ac;
      FUN_004173e0(*DAT_004d79b4,*DAT_004d79b0,DAT_004d79b0[1],DAT_004d79a8);
      local_14 = (undefined4 ****)0x14;
      FUN_004173e0(DAT_004d79b4[3],DAT_004d79b0[5] * 0x2c + 0x1c,
                   DAT_004d79b0[1] + 1 + (int)DAT_004d79ac,0x1e);
      piVar10 = DAT_004d79b0;
      local_14 = (undefined4 ****)0x416966;
      iVar5 = __ftol();
      iVar4 = piVar10[5];
      if (0 < iVar4 - iVar5) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[6],*piVar10 + -0x15,piVar10[1] + 0x26,0);
        piVar10 = DAT_004d79b0;
      }
      if (iVar4 - iVar5 < 0x1a) {
        local_14 = (undefined4 ****)0x0;
        FUN_004173e0(DAT_004d79b4[7],DAT_004d79a8 + 1 + *piVar10,piVar10[1] + 0x26,0);
        return;
      }
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00416e40(void)

{
  ushort *puVar1;
  int iVar2;
  short *psVar3;
  bool bVar4;
  int *piVar5;
  short sVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  char *pcVar11;
  size_t sVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  undefined local_54 [22];
  undefined local_3e;
  undefined local_3c;
  undefined local_3b;
  undefined local_3a;
  undefined uStackY_38;
  undefined2 local_37;
  undefined local_35;
  undefined uStackY_34;
  undefined2 local_33;
  undefined local_31;
  undefined uStackY_30;
  undefined2 local_2f;
  undefined local_2d;
  undefined4 uStackY_2c;
  undefined4 uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  int iVar16;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  if (DAT_004d79b0 == (int *)0x0) {
    return;
  }
  if (DAT_004d79c4 != 0) {
    iVar13 = *(int *)(DAT_005df318 + 4);
    FUN_00417b70();
    piVar5 = DAT_004d79b0;
    iVar7 = __ftol();
    iVar10 = piVar5[5];
    uStackY_20 = 0x416eb8;
    FUN_00418010();
    iVar8 = 0;
    do {
      *(undefined4 *)(*(int *)(iVar13 + 4) + 0x175 + iVar8) =
           *(undefined4 *)((int)DAT_004d79b0 + iVar8 + 0x18);
      iVar8 = iVar8 + 4;
    } while (iVar8 < 0x14);
    iVar2 = *(int *)(iVar13 + 4);
    uVar9 = (uint)*(byte *)(iVar2 + 0x18a);
    iVar8 = uVar9 * 4;
    iVar16 = *(int *)(iVar8 + 0x175 + iVar2);
    if (iVar16 == 0) {
      if (*(char *)(iVar2 + 0x189) != '\0') {
        iVar16 = 0;
        do {
          iVar14 = iVar8;
          uVar15 = uVar9;
          if (4 < (int)uVar9) {
            uVar15 = uVar9 - 5;
            iVar14 = iVar8 + -0x14;
          }
          if (*(int *)(iVar14 + 0x175 + iVar2) != 0) {
            *(undefined4 *)(iVar2 + 0x86) = *(undefined4 *)(iVar2 + 0x175 + uVar15 * 4);
            *(char *)(*(int *)(iVar13 + 4) + 0x18a) = (char)uVar15;
            break;
          }
          iVar8 = iVar8 + 4;
          iVar16 = iVar16 + 1;
          uVar9 = uVar9 + 1;
        } while (iVar16 < 5);
      }
    }
    else {
      *(int *)(iVar2 + 0x86) = iVar16;
    }
    *(int *)(*(int *)(iVar13 + 4) + 0x98) =
         *(int *)(*(int *)(*(int *)(iVar13 + 4) + 0x86) + 0x13) + 0x104;
    uVar9 = *(uint *)(*(int *)(iVar13 + 4) + 0xc9);
    if ((uVar9 & 0x20) != 0) {
      *(uint *)(*(int *)(iVar13 + 4) + 0xc9) = uVar9 & 0xffffffdf;
    }
    FUN_00410870();
    puVar1 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
    *puVar1 = *puVar1 | 1;
    uStackY_20 = 0x416fb4;
    FUN_0040f4a0();
    FUN_00418480();
    FUN_00417360();
    *(uint *)(DAT_004d83a4 + 0x54) =
         *(byte *)(*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86) + 0xe) - 1;
    iVar8 = *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86);
    FUN_00417ba0();
    iVar13 = *(int *)(*(int *)(iVar13 + 4) + 0x109 + (iVar10 - iVar7) * 4);
    if ((iVar13 != 0) && (*(uint *)(iVar13 + 5) < 0x640)) {
      *(undefined *)(iVar13 + 10) = 1;
    }
    DAT_004d79c4 = 0;
    if (iVar8 != 0) {
      _DAT_004d79c8 = 1;
    }
  }
  piVar5 = DAT_004d79b0;
  if (DAT_004d79b0[2] == 0) {
    if (DAT_004d78a8 == '\0') {
      return;
    }
    uStackY_20 = 0x417337;
    _memset(&DAT_004d78a8,0,1);
    _DAT_004d79c0 = 0;
    FUN_00492720();
    return;
  }
  iVar13 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  iVar10 = __ftol();
  psVar3 = *(short **)(iVar13 + 0x109 + (piVar5[5] - iVar10) * 4);
  if (*piVar5 != DAT_004d7898) {
    return;
  }
  if (*(char *)(iVar13 + 0x108) == '\0') {
    if (psVar3 != (short *)0x0) goto LAB_004170c0;
    pcVar11 = _strstr(&DAT_004d78a8,DAT_005deec0);
    if (pcVar11 != (char *)0x0) goto LAB_004170b8;
    FID_conflict___mbscpy(&DAT_004d78a8,DAT_005deec0);
  }
  else {
LAB_004170b8:
    if (psVar3 == (short *)0x0) goto LAB_004171e4;
LAB_004170c0:
    if (*psVar3 == _DAT_004d79c0) goto LAB_004171e4;
    _DAT_004d79c0 = *psVar3;
    FID_conflict___mbscpy(&DAT_004d78a8,*(char **)(*(int *)((int)psVar3 + 0x13) + 4));
    sVar12 = _strlen(&DAT_004d78a8);
    ConvertString();
    iVar13 = (int)(short)sVar12;
    iVar10 = 0;
    if (0 < iVar13) {
      do {
        if (((&DAT_004d78a8)[iVar10] == '_') || ((&DAT_004d78a8)[iVar10] == '\'')) {
          (&DAT_004d78a8)[iVar10] = 0x20;
        }
        iVar10 = iVar10 + 1;
      } while (iVar10 < iVar13);
    }
    (&DAT_004d78ac)[iVar13] = 0x20;
    (&DAT_004d78ab)[iVar13] = 0x20;
    (&DAT_004d78aa)[iVar13] = 0x20;
    (&DAT_004d78a9)[iVar13] = 0x20;
    (&DAT_004d78a8)[iVar13] = 0x20;
    FID_conflict___mbscpy
              (&DAT_004d78ad + iVar13,
               *(char **)(&DAT_005dee1c + *(int *)(*(int *)((int)psVar3 + 0x13) + 0x7f) * 4));
    sVar12 = _strlen(&DAT_004d78a8);
    iVar13 = *(int *)(*(int *)((int)psVar3 + 0x13) + 0x7b);
    if ((iVar13 == *(int *)(*(int *)((int)psVar3 + 0x13) + 0x114)) && (1 < iVar13)) {
      sVar6 = (short)sVar12;
      (&DAT_004d78ac)[sVar6] = 0x20;
      (&DAT_004d78ab)[sVar6] = 0x20;
      (&DAT_004d78aa)[sVar6] = 0x20;
      (&DAT_004d78a9)[sVar6] = 0x20;
      (&DAT_004d78a8)[sVar6] = 0x20;
      FID_conflict___mbscpy
                (&DAT_004d78ad + sVar6,
                 (char *)(&DAT_005dedfc)[*(int *)(*(int *)((int)psVar3 + 0x13) + 0x7b)]);
      _strlen(&DAT_004d78a8);
    }
  }
  bVar4 = true;
LAB_004171e4:
  if (bVar4) {
    uStackY_20 = 0x4171f9;
    _memset(local_54,0,0x3d);
    local_3e = 0xd;
    local_3c = 0;
    local_3b = 0;
    local_3a = 3;
    uStackY_20 = 1;
    uStackY_24 = 5;
    uStackY_28 = 600;
    uStackY_30 = 0xa8;
    uStackY_34 = 8;
    local_33 = 0;
    local_31 = 0;
    local_2f = 0;
    local_2d = 0;
    uStackY_2c = 0;
    uStackY_38 = 0xd5;
    local_37 = 0x4172;
    local_35 = 0;
    FUN_00492100();
    return;
  }
  if ((psVar3 == (short *)0x0) &&
     (*(char *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x108) != '\0')) {
    uStackY_20 = 0x417305;
    _memset(&DAT_004d78a8,0,1);
    _DAT_004d79c0 = 0;
    FUN_00492720();
    return;
  }
  return;
}



int FUN_00417360(void)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  
  iVar4 = 0;
  iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  iVar2 = 0x1b;
  piVar1 = (int *)(iVar5 + 0x109);
  do {
    if (*piVar1 != 0) {
      iVar4 = iVar4 + 1;
    }
    piVar1 = piVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  if (iVar4 != 0) {
    iVar2 = 0;
    piVar1 = (int *)(iVar5 + 0x10d);
    do {
      if (iVar4 <= iVar2) {
        return iVar2;
      }
      if (piVar1[-1] == 0) {
        if (iVar2 < 0x1a) {
          iVar5 = 0x1a - iVar2;
          piVar3 = piVar1;
          do {
            if (*piVar3 != 0) {
              piVar3[-1] = *piVar3;
              *piVar3 = 0;
            }
            piVar3 = piVar3 + 1;
            iVar5 = iVar5 + -1;
          } while (iVar5 != 0);
        }
      }
      else {
        iVar2 = iVar2 + 1;
        piVar1 = piVar1 + 1;
      }
    } while (iVar2 < 0x1b);
    return iVar2;
  }
  return -1;
}



void FUN_004173e0(int *param_1,undefined4 ***param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  undefined4 **local_90;
  undefined4 local_8c;
  int local_88;
  int local_84;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 ****local_24;
  int *local_20;
  undefined4 ****local_1c;
  int *local_18;
  undefined4 ***local_14;
  
  AdjustStackForLargeAllocations();
  if (param_1 != (int *)0x0) {
    if ((param_4 < 1) || (param_5 < 1)) {
      local_14 = &local_90;
      local_18 = param_1;
      local_90 = (undefined4 **)0x6c;
      local_8c = 6;
      local_1c = (undefined4 ****)0x41742a;
      (**(code **)(*param_1 + 0x58))();
      param_5 = local_88;
      param_4 = local_84;
    }
    if ((((-1 < (int)param_2) && (-1 < param_3)) &&
        (param_4 + (int)param_2 < *(int *)(DAT_005e5010 + 0x2538))) &&
       (param_5 + param_3 < *(int *)(DAT_005e5010 + 0x253c))) {
      local_14 = (undefined4 ***)0x11;
      local_18 = (int *)0x0;
      local_1c = (undefined4 ****)param_1;
      local_20 = (int *)param_3;
      local_24 = (undefined4 ****)param_2;
      uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      uStack_2c = 0x417476;
      FUN_00424e90();
      return;
    }
    if (((int)param_2 < *(int *)(DAT_005e5010 + 0x2538)) &&
       (param_3 < *(int *)(DAT_005e5010 + 0x253c))) {
      iVar1 = param_4 + (int)param_2;
      iVar2 = param_5 + param_3;
      local_14 = param_2;
      if ((int)param_2 < 0) {
        if (param_2 == (undefined4 ***)-param_4 ||
            SBORROW4((int)param_2,(int)(undefined4 ***)-param_4) != (int)param_2 + param_4 < 0) {
          return;
        }
        local_14 = (undefined4 ***)0x0;
      }
      else if (*(int *)(DAT_005e5010 + 0x2538) <= iVar1) {
        iVar1 = *(int *)(DAT_005e5010 + 0x2538) + -1;
      }
      if ((int)local_14 < iVar1) {
        if (param_3 < 0) {
          if (param_3 == -param_5 || SBORROW4(param_3,-param_5) != param_3 + param_5 < 0) {
            return;
          }
          param_3 = 0;
        }
        else if (*(int *)(DAT_005e5010 + 0x253c) <= iVar2) {
          iVar2 = *(int *)(DAT_005e5010 + 0x253c) + -1;
        }
        if (param_3 < iVar2) {
          local_14 = (undefined4 ***)0x0;
          local_1c = &local_24;
          local_18 = (int *)0x1008000;
          uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
          local_24 = &local_14;
          local_20 = param_1;
          uStack_2c = 0x41757c;
          FUN_00424d60();
        }
      }
    }
  }
  return;
}



void FUN_00417590(int *param_1,undefined4 **param_2,int param_3,int param_4,int param_5,int *param_6
                 )

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 **ppuVar4;
  undefined4 local_90;
  undefined4 local_8c;
  int local_88;
  int local_84;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 **local_24;
  int *local_20;
  undefined4 ***local_1c;
  int *local_18;
  undefined4 *local_14;
  
  AdjustStackForLargeAllocations();
  if (param_1 != (int *)0x0) {
    if ((param_4 == 0) || (param_5 == 0)) {
      local_14 = &local_90;
      local_18 = param_1;
      local_90 = 0x6c;
      local_8c = 0xff9ee;
      local_1c = (undefined4 ***)0x4175da;
      (**(code **)(*param_1 + 0x58))();
      param_4 = local_84;
      param_5 = local_88;
    }
    if (*param_6 < 0) {
      *param_6 = 0;
    }
    if (param_6[1] < 0) {
      param_6[1] = 0;
    }
    if (*(int *)(DAT_005e5010 + 0x2538) <= param_6[2]) {
      param_6[2] = *(int *)(DAT_005e5010 + 0x2538) + -1;
    }
    if (*(int *)(DAT_005e5010 + 0x253c) <= param_6[3]) {
      param_6[3] = *(int *)(DAT_005e5010 + 0x253c) + -1;
    }
    if ((((*param_6 <= (int)param_2) && (param_6[1] <= param_3)) &&
        (param_4 + (int)param_2 < param_6[2])) && (param_5 + param_3 < param_6[3])) {
      local_14 = (undefined4 *)0x11;
      local_18 = (int *)0x0;
      local_1c = (undefined4 ***)param_1;
      local_20 = (int *)param_3;
      local_24 = param_2;
      uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      uStack_2c = 0x41766e;
      FUN_00424e90();
      return;
    }
    if (((int)param_2 < param_6[2]) && (iVar1 = param_6[3], param_3 < iVar1)) {
      iVar3 = param_5 + param_3;
      ppuVar4 = (undefined4 **)*param_6;
      iVar2 = param_4 + (int)param_2;
      if ((int)param_2 < (int)ppuVar4) {
        if (param_2 == (undefined4 **)-param_4 ||
            SBORROW4((int)param_2,(int)(undefined4 **)-param_4) != (int)param_2 + param_4 < 0) {
          return;
        }
      }
      else {
        ppuVar4 = param_2;
        if (param_6[2] <= iVar2) {
          iVar2 = param_6[2];
        }
      }
      if ((int)ppuVar4 < iVar2) {
        iVar2 = param_6[1];
        if (param_3 < iVar2) {
          if (param_2 == (undefined4 **)-param_5 ||
              SBORROW4((int)param_2,(int)(undefined4 **)-param_5) != (int)param_2 + param_5 < 0) {
            return;
          }
        }
        else {
          iVar2 = param_3;
          if (iVar1 < iVar3) {
            iVar3 = iVar1;
          }
        }
        if (iVar2 < iVar3) {
          local_14 = (undefined4 *)0x0;
          local_1c = &local_24;
          local_18 = (int *)0x1008000;
          local_20 = param_1;
          local_24 = &local_14;
          uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
          uStack_2c = 0x417775;
          FUN_00424d60();
        }
      }
    }
  }
  return;
}



void FUN_00417780(int *param_1,undefined4 **param_2,int param_3,int param_4,int param_5,int *param_6
                 ,char param_7)

{
  int iVar1;
  undefined4 local_90;
  undefined4 local_8c;
  int local_84;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 **local_24;
  int *local_20;
  undefined4 ***local_1c;
  int *local_18;
  undefined4 *local_14;
  
  AdjustStackForLargeAllocations();
  if (param_1 != (int *)0x0) {
    if ((param_4 == 0) || (param_5 == 0)) {
      local_14 = &local_90;
      local_18 = param_1;
      local_90 = 0x6c;
      local_8c = 0xff9ee;
      local_1c = (undefined4 ***)0x4177ca;
      (**(code **)(*param_1 + 0x58))();
      param_4 = local_84;
    }
    if (*param_6 < 0) {
      *param_6 = 0;
    }
    if (param_6[1] < 0) {
      param_6[1] = 0;
    }
    if (*(int *)(DAT_005e5010 + 0x2538) < param_6[2]) {
      param_6[2] = *(int *)(DAT_005e5010 + 0x2538);
    }
    if (*(int *)(DAT_005e5010 + 0x253c) < param_6[3]) {
      param_6[3] = *(int *)(DAT_005e5010 + 0x253c);
    }
    local_14 = (undefined4 *)0x41783b;
    iVar1 = __ftol();
    if (iVar1 != 0) {
      if ((((*param_6 <= (int)param_2) && (param_6[1] <= param_3)) &&
          (param_4 + (int)param_2 < param_6[2])) &&
         ((iVar1 + param_3 < param_6[3] && (param_7 == '\0')))) {
        local_14 = (undefined4 *)0x11;
        local_18 = (int *)0x0;
        local_1c = (undefined4 ***)param_1;
        local_20 = (int *)param_3;
        local_24 = param_2;
        uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
        uStack_2c = 0x41788a;
        FUN_00424e90();
        return;
      }
      if (((int)param_2 < param_6[2]) && (param_3 < param_6[3])) {
        local_14 = (undefined4 *)0x0;
        local_1c = &local_24;
        local_18 = (int *)0x1008000;
        local_20 = param_1;
        local_24 = &local_14;
        uStack_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
        uStack_2c = 0x41795b;
        FUN_00424d60();
      }
    }
  }
  return;
}



void FUN_00417970(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_005df2f8 == 1) {
    iVar3 = 0x11;
  }
  else {
    iVar3 = 0xb;
  }
  if (DAT_004d79bc == 0) {
    if (DAT_004d83a0 == '\x01') {
      DAT_004d79c4 = 1;
    }
    else if (DAT_004d83a0 == '\x05') {
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (*(int *)(DAT_004d79b0 + 0x14) < 4) {
        *(int *)(DAT_004d79b0 + 0x14) = *(int *)(DAT_004d79b0 + 0x14) + 1;
        DAT_004d79bc = 3;
        return;
      }
      if (*(int *)(DAT_004d79b0 + 0x10) * -0x15 <= *(int *)(DAT_004d79b0 + 0xc)) {
        *(int *)(DAT_004d79b0 + 0xc) = *(int *)(DAT_004d79b0 + 0xc) - iVar3;
        DAT_004d79b8 = 2;
        DAT_004d79bc = 3;
        return;
      }
    }
    else {
      if (DAT_004d83a0 != '\x06') {
        return;
      }
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (0 < *(int *)(DAT_004d79b0 + 0x14)) {
        *(int *)(DAT_004d79b0 + 0x14) = *(int *)(DAT_004d79b0 + 0x14) + -1;
        DAT_004d79bc = 3;
        return;
      }
      iVar1 = *(int *)(DAT_004d79b0 + 0xc);
      iVar2 = *(int *)(DAT_004d79b0 + 0x10) * 0x1a;
      if ((iVar1 == iVar2 ||
           SBORROW4(iVar1,iVar2) != iVar1 + *(int *)(DAT_004d79b0 + 0x10) * -0x1a < 0) &&
         (iVar1 < 0)) {
        *(int *)(DAT_004d79b0 + 0xc) = iVar3 + iVar1;
        DAT_004d79b8 = 1;
        DAT_004d79bc = 3;
        return;
      }
    }
    DAT_004d79bc = 3;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_00417aa0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_005df2f8 == 1) {
    iVar3 = 0x11;
  }
  else {
    iVar3 = 0xb;
  }
  if (0 < DAT_004d79bc) {
    DAT_004d79bc = DAT_004d79bc + -1;
  }
  iVar2 = DAT_004d79bc;
  if (DAT_004d79b0 != 0) {
    if (_DAT_004d79c8 != 0) {
      iVar2 = FUN_0048b540(*(undefined4 *)(DAT_005df318 + 4));
      _DAT_004d79c8 = 0;
    }
    if (*(int *)(DAT_004d79b0 + 8) != 0) {
      if (DAT_004d79b8 == 1) {
        iVar1 = *(int *)(DAT_004d79b0 + 0xc);
        iVar2 = iVar1 / *(int *)(DAT_004d79b0 + 0x10);
        if (iVar1 % *(int *)(DAT_004d79b0 + 0x10) != 0) {
          *(int *)(DAT_004d79b0 + 0xc) = iVar3 + iVar1;
          iVar2 = *(int *)(DAT_004d79b0 + 0xc) / *(int *)(DAT_004d79b0 + 0x10);
          if (*(int *)(DAT_004d79b0 + 0xc) % *(int *)(DAT_004d79b0 + 0x10) != 0) {
            return iVar2;
          }
        }
      }
      else {
        if (DAT_004d79b8 + -2 != 0) {
          return DAT_004d79b8 + -2;
        }
        iVar1 = *(int *)(DAT_004d79b0 + 0xc);
        iVar2 = iVar1 / *(int *)(DAT_004d79b0 + 0x10);
        if (iVar1 % *(int *)(DAT_004d79b0 + 0x10) != 0) {
          *(int *)(DAT_004d79b0 + 0xc) = iVar1 - iVar3;
          iVar3 = *(int *)(DAT_004d79b0 + 0xc) / *(int *)(DAT_004d79b0 + 0x10);
          if (*(int *)(DAT_004d79b0 + 0xc) % *(int *)(DAT_004d79b0 + 0x10) != 0) {
            return iVar3;
          }
          DAT_004d79b8 = 0;
          return iVar3;
        }
      }
      DAT_004d79b8 = 0;
    }
  }
  return iVar2;
}



void FUN_00417b70(int param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    *(undefined4 *)(DAT_004d79b0 + 0x18 + iVar1) =
         *(undefined4 *)(*(int *)(param_1 + 4) + 0x175 + iVar1);
    iVar1 = iVar1 + 4;
  } while (iVar1 < 0x14);
  return;
}



void FUN_00417ba0(ushort *param_1)

{
  ushort uVar1;
  int iVar2;
  bool bVar3;
  undefined uVar4;
  undefined2 uVar5;
  
  bVar3 = false;
  if ((param_1 != (ushort *)0x0) && ((*(byte *)((int)param_1 + 0x1f) & 1) == 0)) {
    uVar1 = *param_1;
    if (((0xe1 < uVar1) && (uVar1 < 0xfc)) || (uVar1 == 0)) {
      bVar3 = true;
    }
    if ((DAT_00598944 == 0) && (!bVar3)) {
      if (*(byte *)((int)param_1 + 0xb) < 0xb) {
        uVar4 = (&DAT_004c9f48)[(DAT_005df300 + (uint)*(byte *)((int)param_1 + 0xb) * 3) * 4];
      }
      else {
        uVar4 = __ftol();
      }
      iVar2 = *(int *)((int)param_1 + 0x13);
      *(undefined *)((int)param_1 + 0xb) = uVar4;
      uVar5 = __ftol();
      *(undefined2 *)(iVar2 + 0xa1) = uVar5;
      *(float *)(*(int *)((int)param_1 + 0x13) + 0x110) =
           *(float *)(&DAT_004c9f18 + DAT_005df300 * 4) *
           *(float *)(*(int *)((int)param_1 + 0x13) + 0x110);
      *(float *)(*(int *)((int)param_1 + 0x13) + 0x77) =
           *(float *)(&DAT_004c9f18 + DAT_005df300 * 4) *
           *(float *)(*(int *)((int)param_1 + 0x13) + 0x77);
      *(byte *)((int)param_1 + 0x1f) = *(byte *)((int)param_1 + 0x1f) | 1;
    }
  }
  return;
}



int FUN_00417c90(int param_1)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = 0;
  piVar2 = (int *)(DAT_004d79b0 + 0x18);
  while ((*piVar2 == 0 || (*(byte *)(*piVar2 + 0xe) - 1 != param_1))) {
    iVar1 = iVar1 + 1;
    piVar2 = piVar2 + 1;
    if (4 < iVar1) {
      return 0;
    }
  }
  return ((int *)(DAT_004d79b0 + 0x18))[iVar1];
}



bool FUN_00417cd0(int param_1,int param_2)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  byte bVar6;
  int local_18;
  undefined4 local_14;
  
  AdjustStackForLargeAllocations();
  if (param_2 != 0) {
    cVar1 = *(char *)(param_2 + 4);
    iVar2 = *(int *)(param_2 + 0x13);
    local_14 = 0x417d2a;
    uVar4 = __ftol();
    uVar3 = *(uint *)(*(int *)(param_1 + 4) + 399);
    if (uVar3 == 0) {
      return cVar1 != '\0';
    }
    if (uVar4 <= uVar3) {
      local_18 = *(int *)(**(int **)(DAT_005df318 + 4) + 0x36);
      local_14 = *(undefined4 *)(**(int **)(DAT_005df318 + 4) + 0x3a);
      FUN_0049cca0(&local_18);
      *(uint *)(*(int *)(param_1 + 4) + 399) = *(int *)(*(int *)(param_1 + 4) + 399) - uVar4;
      *(undefined *)(param_2 + 4) = 100;
      return true;
    }
    local_14 = 0x417dbd;
    iVar5 = __ftol();
    if (0 < iVar5) {
      bVar6 = *(char *)(param_2 + 4) + (char)iVar5;
      *(byte *)(param_2 + 4) = bVar6;
      if (100 < bVar6) {
        local_14 = 0;
        local_18 = *(int *)(*(int *)(param_1 + 4) + 399);
        *(int *)(*(int *)(param_1 + 4) + 399) =
             (int)(bVar6 - 100) / (int)(uint)*(byte *)(iVar2 + 0x19e);
        local_18 = local_18 - *(int *)(*(int *)(param_1 + 4) + 399);
        FUN_0049cca0(&local_18);
        *(undefined *)(param_2 + 4) = 100;
        return true;
      }
      local_14 = 0;
      local_18 = *(int *)(*(int *)(param_1 + 4) + 399);
      FUN_0049cca0(&local_18);
      *(undefined4 *)(*(int *)(param_1 + 4) + 399) = 0;
      return true;
    }
  }
  return false;
}



undefined4 FUN_00417e80(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  byte bVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  if (param_2 != 0) {
    uVar2 = __ftol();
    uVar1 = *(uint *)(*(int *)(param_1 + 4) + 399);
    if (uVar1 != 0) {
      if (uVar1 < uVar2) {
        iVar5 = 0x417f56;
        iVar3 = __ftol();
        if (iVar3 < 1) {
          return 0;
        }
        bVar4 = *(char *)(param_2 + 4) + (char)iVar3;
        *(byte *)(param_2 + 4) = bVar4;
        if (bVar4 < 0x65) {
          FUN_0049cca0(&stack0xfffffff0,*(undefined4 *)(*(int *)(param_1 + 4) + 399),0);
          *(undefined4 *)(*(int *)(param_1 + 4) + 399) = 0;
        }
        else {
          iVar3 = *(int *)(*(int *)(param_1 + 4) + 399);
          *(int *)(*(int *)(param_1 + 4) + 399) =
               (int)(bVar4 - 100) / (int)(uint)*(byte *)(iVar5 + 0x19e);
          FUN_0049cca0(&stack0xfffffff0,iVar3 - *(int *)(*(int *)(param_1 + 4) + 399),0);
          *(undefined *)(param_2 + 4) = 100;
        }
      }
      else {
        FUN_0049cca0(&stack0xfffffff0,uVar2,0);
        *(uint *)(*(int *)(param_1 + 4) + 399) = *(int *)(*(int *)(param_1 + 4) + 399) - uVar2;
        *(undefined *)(param_2 + 4) = 100;
      }
      FUN_00475bf0(&DAT_005e4d2d,0,4,0);
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_00418010(int param_1,int param_2,int param_3)

{
  char *pcVar1;
  int iVar2;
  short *psVar3;
  short *psVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  undefined2 extraout_var;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 4);
  psVar3 = *(short **)(iVar2 + 0x109 + param_2 * 4);
  iVar7 = param_3 * 4 + 0x18;
  psVar4 = *(short **)(DAT_004d79b0 + iVar7);
  FUN_0048b5d0(param_1);
  if ((psVar3 == (short *)0x0) && (*(char *)(iVar2 + 0x189) == '\x01')) {
    if (psVar4 != (short *)0x0) {
      return 0;
    }
  }
  else if (psVar4 != (short *)0x0) {
    if ((psVar3 == (short *)0x0) || (bVar5 = true, *psVar3 != *psVar4)) {
      bVar5 = false;
    }
    if ((!bVar5) && (iVar6 = FUN_004166a0(param_1,CONCAT22(extraout_var,*psVar4)), iVar6 != 0)) {
      return 0;
    }
  }
  iVar6 = FUN_00417cd0(param_1,psVar3);
  if (iVar6 == 0) {
    FUN_00475d60(&DAT_005e4600,*(int *)(param_1 + 4) + 6,4,0);
    return 0;
  }
  if (psVar3 != (short *)0x0) {
    if (psVar4 == (short *)0x0) {
      if (psVar3 != (short *)0x0) {
        *(char *)(psVar3 + 7) = *(char *)(DAT_004d83a4 + 0x54) + '\x01';
      }
    }
    else {
      *(undefined *)(psVar3 + 7) = *(undefined *)(psVar4 + 7);
    }
  }
  if (psVar4 == (short *)0x0) {
    if (psVar3 != (short *)0x0) {
      *(char *)(*(int *)(param_1 + 4) + 0x108) = *(char *)(*(int *)(param_1 + 4) + 0x108) + -1;
      pcVar1 = (char *)(*(int *)(param_1 + 4) + 0x189);
      *pcVar1 = *pcVar1 + '\x01';
    }
  }
  else if (psVar3 == (short *)0x0) {
    *(char *)(*(int *)(param_1 + 4) + 0x108) = *(char *)(*(int *)(param_1 + 4) + 0x108) + '\x01';
    pcVar1 = (char *)(*(int *)(param_1 + 4) + 0x189);
    *pcVar1 = *pcVar1 + -1;
  }
  *(short **)(iVar2 + 0x109 + param_2 * 4) = psVar4;
  *(short **)(DAT_004d79b0 + iVar7) = psVar3;
  if ((psVar3 != (short *)0x0) &&
     (iVar7 = FUN_0044c060(psVar3,*(undefined4 *)
                                   (*(int *)(DAT_004d83a4 + 0x10) + -4 +
                                   (uint)*(byte *)(psVar3 + 7) * 4)), iVar7 == 0)) {
    return 0;
  }
  FUN_00475d60(&DAT_005e48be,0,4,0);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004181b0(void)

{
  float unaff_ESI;
  int iVar1;
  float10 fVar2;
  float10 fVar3;
  double dVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  
  AdjustStackForLargeAllocations();
  fVar6 = 0.0;
  if (DAT_005df2f8 == 1) {
    fVar7 = 12.0;
  }
  else if (DAT_005df2f8 == 2) {
    fVar7 = 8.0;
  }
  else {
    fVar7 = 15.0;
  }
  iVar1 = 0;
  do {
    fVar5 = fVar7;
    do {
      fVar2 = (float10)FUN_004ae014((double)fVar6);
      *(float *)(DAT_004d79b0 + 0x40 + iVar1) = (float)(fVar2 * (float10)fVar5);
      dVar4 = (double)fVar6;
      fVar3 = (float10)FUN_004ae0c4();
      fVar2 = (float10)fVar5;
      fVar5 = fVar5 + (float)((ulonglong)dVar4 >> 0x20);
      *(float *)(DAT_004d79b0 + 0x44 + iVar1) = (float)-(fVar3 * fVar2);
      iVar1 = iVar1 + 8;
    } while (SUB84(dVar4,0) != 1);
    fVar6 = unaff_ESI - -1.256637;
    unaff_ESI = fVar6;
  } while (iVar1 < 400);
  iVar1 = 0;
  fVar6 = 0.6283185;
  do {
    fVar2 = (float10)FUN_004ae014((double)fVar6);
    *(float *)(DAT_004d79b0 + 0x1d0 + iVar1) = (float)(fVar2 * (float10)fVar7);
    fVar2 = (float10)FUN_004ae0c4((double)fVar6);
    fVar6 = fVar6 - -1.256637;
    iVar1 = iVar1 + 8;
    *(float *)(DAT_004d79b0 + 0x1cc + iVar1) = (float)-(fVar2 * (float10)fVar7);
  } while (iVar1 < 0x28);
  *(undefined4 *)(DAT_004d79b0 + 0x1f8) = 0xaf00;
  *(undefined4 *)(DAT_004d79b0 + 0x1fc) = 0xff;
  *(undefined4 *)(DAT_004d79b0 + 0x200) = 0xff7d00;
  *(undefined4 *)(DAT_004d79b0 + 0x204) = 0xffd81e;
  *(undefined4 *)(DAT_004d79b0 + 0x208) = 0xff0000;
  _DAT_004d78a0 = 0xffffff;
  return;
}



void FUN_00418340(void)

{
  if (DAT_004d79b4 != 0) {
    FreeMemory(DAT_004d79b4);
    DAT_004d79b4 = 0;
  }
  if (DAT_004d79b0 != 0) {
    FreeMemory(DAT_004d79b0);
    DAT_004d79b0 = 0;
  }
  return;
}



void FUN_00418380(void)

{
  void *_Dst;
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  size_t _Size;
  
  _Size = 0x2c1;
  iVar3 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x2c1);
  DAT_005e45e4 = (undefined4 *)_memset(_Dst,iVar3,_Size);
  puVar1 = &DAT_004d1ae0;
  puVar2 = DAT_005e45e4 + 0x13;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
  }
  DAT_005e45e4[0x13] = 0;
  DAT_005e45e4[0x15] = 0xbf800000;
  DAT_005e45e4[0x1b] = 0x3f800000;
  DAT_005e45e4[0x1d] = 0;
  puVar1 = &DAT_004d1ae0;
  puVar2 = DAT_005e45e4 + 0x24;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
  }
  puVar1 = &DAT_004d1ae0;
  puVar2 = DAT_005e45e4 + 2;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
  }
  DAT_005e45e4[0x30] = 0xc4278000;
  DAT_005e45e4[0x31] = 0xc1200000;
  DAT_005e45e4[0x32] = 0xc4368000;
  *DAT_005e45e4 = 0;
  DAT_005e45e4[1] = 0;
  puVar1 = &DAT_004d1b60;
  puVar2 = DAT_005e45e4 + 0x35;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar2 = puVar2 + 1;
  }
  DAT_005e45e4[0x56] = 0;
  DAT_005e45ec = 0;
  return;
}



void FUN_00418480(void)

{
  *(int *)(DAT_005e45e4 + 0x2b9) = *(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6;
  DAT_004d7a40 = 0;
  return;
}



void FUN_004184b0(int param_1)

{
  if ((*(byte *)(param_1 + 0x8a) & 1) != 0) {
    *(float *)(DAT_005e45e4 + 0xc0) = -*(float *)(param_1 + 0x36);
    *(float *)(DAT_005e45e4 + 0xc4) = -*(float *)(param_1 + 0x3a);
    *(float *)(DAT_005e45e4 + 200) = -*(float *)(param_1 + 0x3e);
    *(int *)(DAT_005e45e4 + 0x2b9) = param_1 + 6;
    DAT_004d7a40 = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00418510(void)

{
  ushort *puVar1;
  float fVar2;
  float fVar3;
  undefined uVar4;
  char cVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 local_48 [10];
  undefined4 uStack_20;
  undefined4 *puStack_1c;
  undefined4 *puStack_18;
  undefined *local_14;
  undefined4 *local_10;
  uint uVar10;
  uint uVar11;
  
  AdjustStackForLargeAllocations();
  uVar10 = 0;
  puVar1 = (ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e);
  *puVar1 = *puVar1 & 0xfbff;
  DAT_004c71c4 = 0x41c80000;
  if (*(int *)(*(int *)(*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86) + 0x13) + 0x7f) !=
      9) {
    DAT_004c71c4 = 0x41700000;
  }
  if ((DAT_00598e18 != 0) || (DAT_004cb05c != 8)) {
    local_10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    local_14 = (undefined *)(DAT_005e45e4 + 0x90);
    puStack_18 = (undefined4 *)(DAT_005e45e4 + 8);
    puStack_1c = (undefined4 *)0x418ac7;
    FUN_0045ecb0();
    goto LAB_00418aca;
  }
  if ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x400) != 0) {
    DAT_004d7a30 = 1;
  }
  if ((DAT_004d867c == 0.0 & DAT_005de380) != 0) {
    _DAT_004c71b8 = 0.0;
    _DAT_004c71bc = 0.0;
    _DAT_004c71c0 = 1.0;
  }
  iVar7 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  uVar11 = *(uint *)(iVar7 + 0xc9);
  if ((*(uint *)(iVar7 + 0x8a) & 0x20040000) == 0) {
    if (DAT_004d867c == 0.0) {
      _DAT_004c71b8 = DAT_004d867c;
      _DAT_004c71bc = DAT_004d867c;
      _DAT_004c71c0 = 1.0;
    }
  }
  else {
    fVar2 = (float)DAT_005de234;
    if ((fVar2 == 0.0) && ((float)DAT_005de238 == 0.0)) {
      if ((DAT_00598d74 == 0) && (DAT_004d7a34 == 0)) {
        if ((uVar11 & 4) == 0) {
          if ((uVar11 & 8) == 0) goto LAB_004186ee;
          fVar3 = _DAT_004c71b8 * 0.087156;
          _DAT_004c71b8 = _DAT_004c71b8 * 0.996195 - _DAT_004c71c0 * 0.087156;
          fVar2 = _DAT_004c71c0 * -0.996195;
        }
        else {
          fVar3 = _DAT_004c71c0 * 0.996195;
          fVar2 = _DAT_004c71b8 * 0.087156;
          _DAT_004c71b8 = _DAT_004c71b8 * 0.996195 - _DAT_004c71c0 * -0.087156;
        }
        _DAT_004c71c0 = fVar3 - fVar2;
      }
LAB_004186ee:
      if ((uVar11 & 1) == 0) {
        if (((uVar11 & 2) != 0) && (-0.8 < _DAT_004c71bc)) {
          _DAT_004c71bc = _DAT_004c71bc - 0.05;
          iVar7 = *(int *)(DAT_005e45e8 + 4);
          cVar5 = *(char *)(iVar7 + 0xff) + -3;
          goto LAB_00418774;
        }
      }
      else if (_DAT_004c71bc < 0.8) {
        _DAT_004c71bc = _DAT_004c71bc - -0.05;
        iVar7 = *(int *)(DAT_005e45e8 + 4);
        cVar5 = *(char *)(iVar7 + 0xff) + '\x03';
LAB_00418774:
        local_10 = (undefined4 *)&DAT_004c71b8;
        *(char *)(iVar7 + 0xff) = cVar5;
        local_14 = (undefined *)0x418784;
        FUN_0045eab0();
      }
    }
    else {
      if (fVar2 != 0.0) {
        _DAT_004c71bc = _DAT_004c71c8 * _DAT_004cd118 * fVar2 + _DAT_004c71bc;
        if (-0.8 <= _DAT_004c71bc) {
          if (0.8 < _DAT_004c71bc) {
            _DAT_004c71bc = 0.8;
          }
        }
        else {
          _DAT_004c71bc = -0.8;
        }
        if (fVar2 <= 0.0) {
          iVar7 = *(int *)(DAT_005e45e8 + 4);
          cVar5 = *(char *)(iVar7 + 0xff) + -3;
        }
        else {
          iVar7 = *(int *)(DAT_005e45e8 + 4);
          cVar5 = *(char *)(iVar7 + 0xff) + '\x03';
        }
        local_10 = (undefined4 *)&DAT_004c71b8;
        *(char *)(iVar7 + 0xff) = cVar5;
        local_14 = (undefined *)0x41882f;
        FUN_0045eab0();
      }
      if (DAT_005de238 != 0) {
        local_10 = (undefined4 *)0x1;
        *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x199) = (float)DAT_005de238 * -0.005;
        iVar7 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        *(float *)(iVar7 + 0x199) = _DAT_004cd118 * *(float *)(iVar7 + 0x199);
        local_14 = *(undefined **)(*(int *)(DAT_005df318 + 4) + 4);
        puStack_18 = (undefined4 *)0x41888e;
        FUN_004081f0();
      }
    }
  }
  if ((DAT_004d867c != 0.0) && (fVar2 = (float)DAT_005de234, fVar2 != 0.0)) {
    _DAT_004c71bc = _DAT_004c71c8 * _DAT_004cd118 * fVar2 + _DAT_004c71bc;
    if (-0.8 <= _DAT_004c71bc) {
      if (0.8 < _DAT_004c71bc) {
        _DAT_004c71bc = 0.8;
      }
    }
    else {
      _DAT_004c71bc = -0.8;
    }
    if (fVar2 <= 0.0) {
      iVar7 = *(int *)(DAT_005e45e8 + 4);
      cVar5 = *(char *)(iVar7 + 0xff) + -3;
    }
    else {
      iVar7 = *(int *)(DAT_005e45e8 + 4);
      cVar5 = *(char *)(iVar7 + 0xff) + '\x03';
    }
    local_10 = (undefined4 *)&DAT_004c71b8;
    *(char *)(iVar7 + 0xff) = cVar5;
    local_14 = (undefined *)0x418948;
    FUN_0045eab0();
  }
  if (DAT_005df318 != 0) {
    local_10 = (undefined4 *)uVar10;
    if (DAT_005e45ec != 1) {
      if (DAT_004d7a40 == 0) {
        iVar7 = *(int *)(DAT_005e45e8 + 4);
        iVar6 = *(int *)(*(int *)(iVar7 + 0x98) + 0x10);
        uVar11 = uVar10;
        if (iVar6 == 5) {
          uVar11 = 1;
        }
        if ((uVar11 == 0) && (iVar6 != 4)) {
          puVar8 = (undefined4 *)(iVar7 + 6);
          puVar9 = local_48;
          for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
            *puVar9 = *puVar8;
            puVar8 = puVar8 + 1;
            puVar9 = puVar9 + 1;
          }
          uVar10 = -(uint)(DAT_004d7a30 != 0) & 2;
          local_10 = (undefined4 *)uVar11;
        }
        else {
          local_10 = (undefined4 *)(iVar7 + 6);
          local_14 = (undefined *)(iVar7 + 0x46);
          puStack_18 = local_48;
          puStack_1c = (undefined4 *)0x4189c3;
          FUN_0045ecb0();
          uVar10 = -(uint)(DAT_004d7a30 != 0) & 2;
          local_10 = (undefined4 *)uVar11;
        }
      }
      else if (*(undefined4 **)(DAT_005e45e4 + 0x2b9) == (undefined4 *)0x0) {
        *(int *)(DAT_005e45e4 + 0x2b9) = *(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6;
      }
      else {
        puVar8 = *(undefined4 **)(DAT_005e45e4 + 0x2b9);
        puVar9 = local_48;
        for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
          *puVar9 = *puVar8;
          puVar8 = puVar8 + 1;
          puVar9 = puVar9 + 1;
        }
        uVar10 = 1;
      }
    }
    if (DAT_005e45ec == 0) {
      puStack_1c = local_48;
      local_14 = &DAT_004c71b8;
      puStack_18 = (undefined4 *)uVar10;
      if (DAT_005aaaac == 0) {
        uStack_20 = 0x418a57;
        FUN_00418b10();
        *(float *)(*(int *)(DAT_005e45e8 + 4) + 0xf3) = -*(float *)(DAT_005e45e4 + 0x54);
        *(float *)(*(int *)(DAT_005e45e8 + 4) + 0xf7) = -*(float *)(DAT_005e45e4 + 100);
        *(float *)(*(int *)(DAT_005e45e8 + 4) + 0xfb) = -*(float *)(DAT_005e45e4 + 0x74);
      }
      else {
        uStack_20 = 0x418a4d;
        FUN_0041a660();
      }
      goto LAB_00418aca;
    }
    if (DAT_005e45ec != 1) {
      if (DAT_005e45ec == 2) {
        local_10 = local_48;
        local_14 = (undefined *)0x418a28;
        FUN_0041be50();
      }
      goto LAB_00418aca;
    }
  }
  local_10 = (undefined4 *)0x418aac;
  FUN_0041b970();
LAB_00418aca:
  if (DAT_00598ff0 != 0) {
    local_10 = (undefined4 *)-*(float *)(DAT_005e45e4 + 200);
    local_14 = (undefined *)-*(float *)(DAT_005e45e4 + 0xc0);
    puStack_18 = (undefined4 *)DAT_00598ff0;
    puStack_1c = (undefined4 *)0x418af7;
    uVar4 = FUN_0045cbc0();
    *(undefined *)(DAT_005e45e4 + 0x2b8) = uVar4;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00418b10(float *param_1,int param_2,float *param_3,float param_4)

{
  float *pfVar1;
  float *pfVar2;
  float *pfVar3;
  float *pfVar4;
  byte *pbVar5;
  float fVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  bool bVar10;
  undefined4 *****pppppuVar11;
  undefined *puVar12;
  int iVar13;
  int iVar14;
  float *pfVar15;
  float *pfVar16;
  undefined4 *puVar17;
  float *pfVar18;
  undefined4 *puVar19;
  float10 fVar20;
  float10 fVar21;
  undefined4 local_164 [5];
  float local_150;
  float local_14c;
  float local_140;
  float local_13c;
  undefined local_124 [4];
  undefined4 local_120;
  undefined4 local_11c;
  undefined4 local_118;
  undefined4 local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  uint local_fc;
  float local_f8 [4];
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  float local_d8;
  float local_d4;
  float local_d0;
  float local_c8;
  float local_c4;
  float local_c0;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  float local_ac;
  float local_a8;
  float local_a4;
  int local_a0;
  uint local_9c;
  float local_98;
  float local_94;
  float local_90;
  undefined4 *****local_8c;
  undefined4 *****local_88;
  undefined *local_84;
  undefined local_80 [4];
  undefined local_7c [4];
  undefined4 *****local_78;
  undefined4 *****local_74;
  undefined *local_70;
  undefined4 *****local_6c;
  undefined4 *****local_68;
  undefined *local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  int local_48;
  undefined4 ****local_44;
  undefined4 *****local_40;
  undefined4 *****local_3c;
  undefined4 *****local_38;
  undefined4 *****local_34;
  undefined *local_30;
  undefined4 *****local_2c;
  undefined4 *****local_28;
  undefined4 *****local_24;
  undefined4 *****local_20;
  undefined4 *****local_1c;
  undefined8 local_18;
  undefined4 *****pppppuVar22;
  undefined4 ****ppppuVar23;
  undefined4 *****pppppuVar24;
  undefined4 *****pppppuVar25;
  undefined4 uVar26;
  float fVar27;
  undefined *puVar28;
  
  pfVar16 = param_1;
  AdjustStackForLargeAllocations();
  iVar14 = param_2;
  bVar10 = false;
  iVar13 = *(int *)(DAT_005e45e8 + 4);
  local_a0 = 0;
  local_48 = 0;
  local_fc = *(uint *)(iVar13 + 0xc9);
  uVar7 = *(uint *)(iVar13 + 0x8a);
  local_9c = uVar7 >> 0x1a & 1;
  fVar27 = DAT_004c71c4;
  if ((uVar7 & 0x200000) != 0) {
    fVar27 = 10.0;
  }
  iVar8 = *(int *)(*(int *)(iVar13 + 0x98) + 0x10);
  if ((((((iVar8 != 4) && (iVar8 != 5)) &&
        ((iVar8 = *(int *)(*(int *)(iVar13 + 0x86) + 0x13), *(int *)(iVar8 + 0x114) != 6 ||
         (*(char *)(iVar13 + 4) != '\x03')))) &&
       ((*(int *)(iVar8 + 0x7b) != 8 ||
        ((*(char *)(iVar13 + 4) != '\x05' && (*(char *)(iVar13 + 4) != '\x06')))))) &&
      ((uVar7 & 0x100000) == 0)) || ((uVar7 & 0x20000000) != 0)) {
    bVar10 = true;
  }
  if ((((param_2 != 0) || (!bVar10)) || (DAT_00598d74 != 0)) || (DAT_004d7a34 != 0)) {
    if (param_2 == 2) {
      param_3 = (float *)0x0;
      if (DAT_004d7a4c != 2) {
        ppppuVar23 = *(undefined4 *****)(DAT_005e45e4 + 0x54);
        local_18 = (double)CONCAT44(&stack0xfffffff0,0x4199e9);
        uVar26 = *(undefined4 *)(DAT_005e45e4 + 0x74);
        FUN_0045eab0();
        _DAT_004d79f0 = uVar26;
        _DAT_004d79f8 = -(float)ppppuVar23;
        _DAT_004d79f4 = 0;
        local_18 = 3.279349273023362e-307;
        FUN_0045eab0();
        DAT_004d7a20 = (undefined4 *****)param_1[0xc];
        DAT_004d7a24 = (undefined4 *****)(param_1[0xd] - -1.28);
        DAT_004d7a28 = (undefined *)param_1[0xe];
        *(undefined4 *)(DAT_005e45e4 + 0x1e4) = 0x3f000000;
        *(undefined4 *)(DAT_005e45e4 + 0x1f0) = 0;
        _DAT_004d7a5c = 0.0;
        _DAT_004c71cc = 0.05;
      }
      param_3 = (float *)0x0;
      fVar27 = 0.0;
      uVar7 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9);
      if ((uVar7 & 1) != 0) {
        param_3 = (float *)0x3f8ccccd;
      }
      if ((uVar7 & 2) != 0) {
        param_3 = (float *)0xbf8ccccd;
      }
      if ((uVar7 & 8) != 0) {
        fVar27 = 1.1;
      }
      if ((uVar7 & 4) != 0) {
        fVar27 = -1.1;
      }
      DAT_004d7a20 = (undefined4 *****)
                     (*(float *)(DAT_005e45e4 + 0x50) * (float)param_3 +
                      *(float *)(DAT_005e45e4 + 0x4c) * fVar27 + (float)DAT_004d7a20);
      local_74 = DAT_004d7a24;
      local_18 = (double)(ZEXT48(&param_2) << 0x20);
      local_1c = (undefined4 *****)0x0;
      local_24 = (undefined4 *****)local_124;
      DAT_004d7a28 = (undefined *)
                     (*(float *)(DAT_005e45e4 + 0x70) * (float)param_3 +
                      *(float *)(DAT_005e45e4 + 0x6c) * fVar27 + (float)DAT_004d7a28);
      local_20 = (undefined4 *****)0x3f800000;
      local_3c = &local_2c;
      local_40 = &local_78;
      local_28 = &local_20;
      local_2c = (undefined4 *****)0x0;
      local_30 = (undefined *)0x0;
      local_34 = (undefined4 *****)0x0;
      local_38 = (undefined4 *****)0x3f0ccccd;
      local_44 = (undefined4 ****)0x419b5d;
      local_78 = DAT_004d7a20;
      local_70 = DAT_004d7a28;
      iVar13 = FUN_00422320();
      if (iVar13 == 0) {
        *(float *)(DAT_005e45e4 + 0x1e4) = *(float *)(DAT_005e45e4 + 0x1e4) - -0.2;
        DAT_004d7a24 = (undefined4 *****)(*(float *)(DAT_005e45e4 + 0x1e4) + (float)DAT_004d7a24);
      }
      else {
        fVar27 = (float)(undefined4 ****)local_18 * (float)(undefined4 ****)local_18 +
                 (float)local_1c * (float)local_1c + (float)local_20 * (float)local_20;
        if (fVar27 <= 0.1) {
          DAT_004d7a20 = local_2c;
          DAT_004d7a24 = local_28;
          DAT_004d7a28 = (undefined *)local_24;
        }
        else {
          local_18 = (double)fVar27;
          local_1c = (undefined4 *****)0x419ba2;
          fVar20 = (float10)FUN_004ad534();
          fVar20 = (float10)1.0 / fVar20;
          fVar27 = (float)DAT_004d7a24 * (float)(fVar20 * (float10)(float)local_1c);
          DAT_004d7a24 = local_28;
          fVar27 = (float)DAT_004d7a28 * (float)(fVar20 * (float10)(float)(undefined4 ****)local_18)
                   + fVar27 + (float)DAT_004d7a20 * (float)(fVar20 * (float10)(float)local_20);
          fVar27 = fVar27 + fVar27;
          DAT_004d7a20 = (undefined4 *****)
                         ((float)DAT_004d7a20 - fVar27 * (float)(fVar20 * (float10)(float)local_20))
          ;
          DAT_004d7a28 = (undefined *)
                         ((float)DAT_004d7a28 -
                         fVar27 * (float)(fVar20 * (float10)(float)(undefined4 ****)local_18));
          *(undefined4 *)(DAT_005e45e4 + 0x1e4) = 0;
        }
      }
      local_1c = (undefined4 *****)local_80;
      local_18 = 0.0;
      local_20 = &local_20;
      local_24 = (undefined4 *****)DAT_004d7a28;
      local_28 = DAT_004d7a20;
      local_2c = (undefined4 *****)0x419ca5;
      fVar20 = (float10)FUN_0041c650();
      fVar21 = (fVar20 + (float10)_DAT_004d7a5c) - (float10)-50.0;
      if ((((float10)*(float *)(DAT_00598d90 + 0x108) <= fVar21) ||
          (fVar21 < (float10)*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x3a))) &&
         (fVar21 = (float10)*(float *)(DAT_00598d90 + 0x108), fVar21 <= (float10)(float)fVar20)) {
        DAT_004d7a20 = (undefined4 *****)((float)DAT_004d7a20 - (float)local_20 * -5.0);
        DAT_004d7a28 = (undefined *)((float)DAT_004d7a28 - (float)(undefined4 ****)local_18 * -5.0);
        DAT_004d7a24 = local_28;
      }
      if (fVar21 < (float10)(float)DAT_004d7a24) {
        DAT_004d7a24 = (undefined4 *****)(float)fVar21;
      }
      local_18 = (double)CONCAT44(DAT_004d7a28,DAT_004d7a20);
      local_1c = (undefined4 *****)DAT_00598ff0;
      local_20 = (undefined4 *****)0x419d5c;
      iVar14 = FUN_0045cbc0();
      iVar13 = *(int *)(*(int *)(DAT_005e45e8 + 4) + 0xb4);
      if ((iVar14 != iVar13) &&
         ((*(uint *)(DAT_00598ff0 + 0x26 + iVar13 * 4) & 1 << ((byte)iVar14 & 0x1f)) == 0)) {
        DAT_004d7a20 = local_2c;
        DAT_004d7a24 = local_28;
        DAT_004d7a28 = (undefined *)local_24;
      }
      _DAT_004d7a5c = _DAT_004c71cc + _DAT_004d7a5c;
      if ((1.0 < _DAT_004d7a5c) || (_DAT_004d7a5c < -1.0)) {
        _DAT_004c71cc = -_DAT_004c71cc;
      }
      *(float *)(DAT_005e45e4 + 0xc0) =
           (*(float *)(DAT_005e45e4 + 0xc0) * 9.0 - (float)DAT_004d7a20) * 0.1;
      *(float *)(DAT_005e45e4 + 0xc4) =
           (*(float *)(DAT_005e45e4 + 0xc4) * 9.0 - (float)DAT_004d7a24) * 0.1;
      *(float *)(DAT_005e45e4 + 200) =
           (*(float *)(DAT_005e45e4 + 200) * 9.0 - (float)DAT_004d7a28) * 0.1;
      ppppuVar23 = *(undefined4 *****)(DAT_005e45e4 + 0x54);
      fVar27 = *(float *)(DAT_005e45e4 + 100) - 0.08;
      uVar26 = *(undefined4 *)(DAT_005e45e4 + 0x74);
      local_18 = (double)CONCAT44(&stack0xfffffff0,0x419e6f);
      FUN_0045eab0();
      local_1c = (undefined4 *****)&local_108;
      local_18 = (double)CONCAT44(&DAT_004d79f0,&stack0xfffffff0);
      local_20 = (undefined4 *****)0x419e87;
      FUN_0045eb50();
      *(undefined4 *)(DAT_005e45e4 + 0x4c) = _DAT_004d79f0;
      *(undefined4 *)(DAT_005e45e4 + 0x5c) = _DAT_004d79f4;
      *(float *)(DAT_005e45e4 + 0x6c) = _DAT_004d79f8;
      *(undefined4 *)(DAT_005e45e4 + 0x50) = local_108;
      *(undefined4 *)(DAT_005e45e4 + 0x60) = local_104;
      *(undefined4 *)(DAT_005e45e4 + 0x70) = local_100;
      *(undefined4 *****)(DAT_005e45e4 + 0x54) = ppppuVar23;
      *(float *)(DAT_005e45e4 + 100) = fVar27;
      *(undefined4 *)(DAT_005e45e4 + 0x74) = uVar26;
      local_1c = (undefined4 *****)(DAT_005e45e4 + 8);
      local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
      local_20 = (undefined4 *****)0x419f1e;
      FUN_0045ecb0();
      DAT_004d7a4c = 2;
      return;
    }
    if ((DAT_00598d74 == 0) && (DAT_004d7a34 == 0)) {
      fVar27 = fVar27 - -1.0;
      DAT_004d7a4c = param_2;
      local_2c = (undefined4 *****)param_1[0xc];
      if ((DAT_004d7a54 != 0) || (DAT_004d7a58 != 0)) {
        DAT_004d7a58 = DAT_004d7a58 + 1;
      }
      if (-0.7 <= *(float *)(*(int *)(DAT_005e45e8 + 4) + 0xeb)) {
        if (DAT_004d7a58 == 0) {
          local_28 = (undefined4 *****)(param_1[0xd] - -4.0);
        }
        else {
          local_28 = (undefined4 *****)param_1[0xd];
        }
        DAT_004d7a54 = 0;
      }
      else {
        DAT_004d7a54 = 1;
        DAT_004d7a58 = 0;
        local_28 = (undefined4 *****)param_1[0xd];
      }
      if (0x31 < DAT_004d7a58) {
        DAT_004d7a58 = 0;
      }
      local_24 = (undefined4 *****)param_1[0xe];
      local_54 = *(float *)(DAT_005e45e4 + 0xc0) + (float)local_2c;
      local_50 = *(float *)(DAT_005e45e4 + 0xc4) + (float)local_28;
      local_4c = *(float *)(DAT_005e45e4 + 200) + (float)local_24;
      local_18 = (double)(local_4c * local_4c + local_50 * local_50 + local_54 * local_54);
      local_1c = (undefined4 *****)0x41a03b;
      fVar20 = (float10)FUN_004ad534();
      if ((float10)1.0 <= fVar20) {
        if ((float10)fVar27 < fVar20) {
          fVar20 = (float10)fVar27;
        }
        if ((float10)(float)local_18._4_4_ < fVar20) {
          local_18 = (double)((ulonglong)
                              (uint)(float)(fVar20 - (fVar20 - (float10)(float)local_18._4_4_) /
                                                     ((float10)fVar27 -
                                                     (float10)(float)local_18._4_4_)) << 0x20);
        }
        fVar20 = (float10)1.0 / fVar20;
        local_54 = (float)(fVar20 * (float10)local_54);
        local_50 = (float)(fVar20 * (float10)local_50);
        local_4c = (float)(fVar20 * (float10)local_4c);
        if ((iVar14 == 0) &&
           ((iVar13 = *(int *)(DAT_005e45e8 + 4), *(int *)(*(int *)(iVar13 + 0x98) + 0x10) != 4 ||
            (((*(uint *)(iVar13 + 0x8a) & 0x4000) == 0 && ((*(byte *)(iVar13 + 0x8e) & 0x40) == 0)))
            ))) {
          local_60 = -param_1[8];
          local_5c = -param_1[9];
          local_54 = local_60 - local_54 * -5.0;
          local_58 = -param_1[10];
          local_50 = local_5c - local_50 * -5.0;
          local_4c = local_58 - local_4c * -5.0;
          local_18 = (double)CONCAT44(&local_54,0x41a13b);
          FUN_0045eab0();
        }
        fVar27 = local_54 * (float)local_18._4_4_;
        local_1c = (undefined4 *****)local_80;
        local_18 = 0.0;
        local_20 = &local_8c;
        *(float *)(DAT_005e45e4 + 0xc0) = -((float)local_2c - fVar27);
        *(float *)(DAT_005e45e4 + 0xc4) = -((float)local_28 - local_50 * 0.0);
        *(float *)(DAT_005e45e4 + 200) = -((float)local_20 - local_4c * 0.0);
        local_24 = (undefined4 *****)-*(float *)(DAT_005e45e4 + 200);
        local_28 = (undefined4 *****)-*(float *)(DAT_005e45e4 + 0xc0);
        local_2c = (undefined4 *****)0x41a1b3;
        fVar20 = (float10)FUN_0041c650();
        if (-*(float *)(DAT_005e45e4 + 0xc4) < (float)(fVar20 - (float10)-2.0)) {
          if ((float)local_88 <= 0.8) {
            fVar27 = param_1[8];
            fVar6 = param_1[10];
            pfVar15 = local_f8;
            for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
              *pfVar15 = *pfVar16;
              pfVar16 = pfVar16 + 1;
              pfVar15 = pfVar15 + 1;
            }
            local_c8 = local_c8 - fVar27 * -5.0;
            local_c0 = local_c0 - fVar6 * -5.0;
            *(float *)(DAT_005e45e4 + 0xc0) = -local_c8;
            *(float *)(DAT_005e45e4 + 200) = -local_c0;
          }
          else {
            *(float *)(DAT_005e45e4 + 0xc4) = -(float)(fVar20 - (float10)-2.0);
          }
        }
        local_60 = *(float *)(DAT_005e45e4 + 0xc0) + param_1[0xc];
        local_5c = *(float *)(DAT_005e45e4 + 0xc4) + param_1[0xd];
        local_58 = *(float *)(DAT_005e45e4 + 200) + param_1[0xe];
        local_18 = (double)CONCAT44(&local_60,0x41a28d);
        FUN_0045eab0();
        *(float *)(DAT_005e45e4 + 0x6c) = local_60;
        local_ac = local_60;
        *(float *)(DAT_005e45e4 + 0x70) = local_5c;
        local_a8 = local_5c;
        *(float *)(DAT_005e45e4 + 0x74) = local_58;
        local_18 = (double)local_5c;
        local_a4 = local_58;
        local_1c = (undefined4 *****)0x41a2dc;
        fVar20 = (float10)FUN_004ad3c0();
        fVar27 = local_5c;
        if (((float10)0.9900000095367432 < fVar20) && (local_5c = 0.99, fVar27 <= 0.0)) {
          local_5c = -0.99;
        }
        local_18 = (double)(1.0 - local_5c * local_5c);
        local_1c = (undefined4 *****)0x41a321;
        fVar20 = (float10)FUN_004ad534();
        if ((float10)0.01 <= fVar20) {
          *(float *)(DAT_005e45e4 + 0x4c) = (float)((float10)local_a4 / fVar20);
          local_120 = *(undefined4 *)(DAT_005e45e4 + 0x4c);
          *(undefined4 *)(DAT_005e45e4 + 0x50) = 0;
          local_11c = 0;
          *(float *)(DAT_005e45e4 + 0x54) = (float)-((float10)local_ac / fVar20);
          local_118 = *(undefined4 *)(DAT_005e45e4 + 0x54);
          local_1c = (undefined4 *****)&local_114;
          local_18 = (double)CONCAT44(&local_120,&local_ac);
          local_20 = (undefined4 *****)0x41a3a2;
          FUN_0045eb50();
          *(undefined4 *)(DAT_005e45e4 + 0x5c) = local_114;
          *(undefined4 *)(DAT_005e45e4 + 0x60) = local_110;
          *(undefined4 *)(DAT_005e45e4 + 100) = local_10c;
          pfVar16 = (float *)(DAT_005e45e4 + 0x4c);
          pfVar15 = local_f8;
          for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
            *pfVar15 = *pfVar16;
            pfVar16 = pfVar16 + 1;
            pfVar15 = pfVar15 + 1;
          }
          local_18 = (double)CONCAT44(local_f8,(float *)(DAT_005e45e4 + 0x4c));
          local_1c = (undefined4 *****)0x41a3f5;
          FUN_0045f140();
          local_b8 = *(undefined4 *)(DAT_005e45e4 + 0x54);
          local_b4 = *(undefined4 *)(DAT_005e45e4 + 100);
          local_b0 = *(undefined4 *)(DAT_005e45e4 + 0x74);
          local_1c = (undefined4 *****)&local_b8;
          local_18 = (double)CONCAT44(&local_b8,0x3f000000);
          local_20 = (undefined4 *****)0x41a430;
          FUN_0045fc50();
          local_18 = (double)CONCAT44(&local_b8,DAT_005e45e4);
          local_1c = (undefined4 *****)0x41a445;
          FUN_0041b890();
          local_3c = (undefined4 *****)param_1[0xe];
          local_44 = (undefined4 ****)param_1[0xc];
          local_40 = (undefined4 *****)param_1[0xd];
          local_6c = (undefined4 *****)-*(float *)(DAT_005e45e4 + 0xc0);
          local_68 = (undefined4 *****)-*(float *)(DAT_005e45e4 + 0xc4);
          local_64 = (undefined *)-*(float *)(DAT_005e45e4 + 200);
          local_1c = (undefined4 *****)(DAT_005e45e4 + 8);
          local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
          local_20 = (undefined4 *****)0x41a494;
          FUN_0045ecb0();
          return;
        }
      }
      return;
    }
    fVar27 = param_3[1];
    pfVar16 = local_f8;
    for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
      *pfVar16 = *param_1;
      param_1 = param_1 + 1;
      pfVar16 = pfVar16 + 1;
    }
    param_1 = (float *)(fVar27 + local_d4);
    if ((float)param_1 <= 0.99) {
      if ((float)param_1 < -0.99) {
        param_1 = (float *)0xbf7d70a4;
      }
    }
    else {
      param_1 = (float *)0x3f7d70a4;
    }
    local_18 = (double)(1.0 - (float)param_1 * (float)param_1);
    local_1c = (undefined4 *****)0x41a501;
    fVar20 = (float10)FUN_004ad534();
    local_13c = (float)fVar20;
    local_14c = -(float)param_1;
    puVar17 = &DAT_004d1ae0;
    puVar19 = local_164;
    for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
      *puVar19 = *puVar17;
      puVar17 = puVar17 + 1;
      puVar19 = puVar19 + 1;
    }
    local_150 = (float)fVar20;
    local_140 = (float)param_1;
    local_1c = (undefined4 *****)local_f8;
    local_18 = (double)CONCAT44(local_f8,local_164);
    local_20 = (undefined4 *****)0x41a55e;
    MultiplyMatrices();
    *(float *)(DAT_005e45e4 + 0x4c) = -local_f8[0];
    *(undefined4 *)(DAT_005e45e4 + 0x50) = local_e8;
    *(float *)(DAT_005e45e4 + 0x54) = -local_d8;
    *(float *)(DAT_005e45e4 + 0x5c) = -local_f8[1];
    *(undefined4 *)(DAT_005e45e4 + 0x60) = local_e4;
    *(float *)(DAT_005e45e4 + 100) = -local_d4;
    *(float *)(DAT_005e45e4 + 0x6c) = -local_f8[2];
    *(undefined4 *)(DAT_005e45e4 + 0x70) = local_e0;
    *(float *)(DAT_005e45e4 + 0x74) = -local_d0;
    *(float *)(DAT_005e45e4 + 0xc0) = -local_c8;
    *(float *)(DAT_005e45e4 + 0xc4) = -local_c4 - 2.0;
    *(float *)(DAT_005e45e4 + 200) = -local_c0;
    local_1c = (undefined4 *****)(DAT_005e45e4 + 8);
    local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
    local_20 = (undefined4 *****)0x41a64b;
    FUN_0045ecb0();
    return;
  }
  iVar13 = *(int *)(DAT_005e45e8 + 4);
  if ((*(int *)(*(int *)(iVar13 + 0x98) + 0x10) == 4) &&
     (((*(uint *)(iVar13 + 0x8a) & 0x4000) != 0 || ((*(byte *)(iVar13 + 0x8e) & 0x40) != 0)))) {
    local_18._4_4_ = &local_98;
    local_98 = *(float *)(DAT_005e45e4 + 0xc0) + param_1[0xc];
    local_94 = *(float *)(DAT_005e45e4 + 0xc4) + param_1[0xd];
    local_90 = *(float *)(DAT_005e45e4 + 200) + param_1[0xe];
    local_18._0_4_ = (undefined4 ****)0x418c61;
    FUN_0045eab0();
    pppppuVar22 = (undefined4 *****)(param_1[0xc] - local_98 * (float)local_18._4_4_);
    puVar28 = (undefined *)(param_1[0xe] - local_90 * (float)local_18._4_4_);
    pppppuVar24 = (undefined4 *****)param_1[0xd];
    goto LAB_00418e02;
  }
  bVar10 = false;
  pfVar15 = param_1 + 4;
  pfVar18 = param_1 + 8;
  pfVar1 = param_1 + 6;
  pfVar2 = param_1 + 10;
  fVar6 = *param_1;
  pfVar3 = param_1 + 2;
  pfVar4 = param_1 + 5;
  param_1 = (float *)0x0;
  pppppuVar22 = (undefined4 *****)
                ((fVar6 * *param_3 + *pfVar18 * param_3[2] + *pfVar15 * param_3[1]) * fVar27 +
                pfVar16[0xc]);
  pppppuVar24 = (undefined4 *****)(*pfVar4 * fVar27 * param_3[1] + pfVar16[0xd]);
  puVar28 = (undefined *)
            ((*pfVar3 * *param_3 + *pfVar2 * param_3[2] + *pfVar1 * param_3[1]) * fVar27 +
            pfVar16[0xe]);
  pppppuVar25 = pppppuVar22;
  pppppuVar11 = pppppuVar24;
  puVar12 = puVar28;
  if (local_9c == 0) {
    iVar13 = *(int *)(DAT_005e45e8 + 4);
    iVar14 = *(int *)(*(int *)(iVar13 + 0x98) + 0x10);
    if (((((iVar14 == 4) || (iVar14 == 5)) ||
         ((iVar14 = *(int *)(*(int *)(iVar13 + 0x86) + 0x13), *(int *)(iVar14 + 0x114) == 6 &&
          (*(char *)(iVar13 + 4) == '\x03')))) ||
        ((*(int *)(iVar14 + 0x7b) == 8 &&
         ((*(char *)(iVar13 + 4) == '\x05' || (*(char *)(iVar13 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar13 + 0x8a) & 0x100000) != 0)) goto LAB_00418d79;
  }
  else {
LAB_00418d79:
    do {
      local_70 = puVar12;
      local_74 = pppppuVar11;
      local_78 = pppppuVar25;
      local_24 = (undefined4 *****)local_7c;
      local_74 = (undefined4 *****)((float)local_74 - -1.0);
      local_18 = (double)(ZEXT48(&param_2) << 0x20);
      local_1c = (undefined4 *****)0x0;
      local_20 = (undefined4 *****)0x3f800000;
      local_28 = &local_38;
      local_2c = (undefined4 *****)0x0;
      local_30 = (undefined *)0x0;
      local_34 = (undefined4 *****)0x0;
      local_3c = (undefined4 *****)&stack0xfffffff0;
      local_38 = (undefined4 *****)0x3f800000;
      local_40 = &local_78;
      local_44 = (undefined4 ****)0x418db2;
      iVar13 = FUN_00422320();
      if ((iVar13 != 0) && ((float)local_34 < 0.0)) {
        pppppuVar24 = (undefined4 *****)((float)param_1 + (float)pppppuVar24);
        bVar10 = true;
        break;
      }
      param_1 = (float *)((float)param_1 - -1.0);
      pppppuVar25 = local_78;
      pppppuVar11 = local_74;
      puVar12 = local_70;
    } while ((float)param_1 < 4.0);
    if (bVar10) goto LAB_00418e02;
  }
  pppppuVar24 = (undefined4 *****)((float)pppppuVar24 - -4.0);
LAB_00418e02:
  pfVar15 = param_3;
  if (DAT_004c71a4 != 0) {
    *(float *)(DAT_005e45e4 + 0xc0) = -(float)pppppuVar22;
    *(float *)(DAT_005e45e4 + 0xc4) = -(float)pppppuVar24;
    *(float *)(DAT_005e45e4 + 200) = -(float)puVar28;
    DAT_004c71a4 = 0;
  }
  param_1 = (float *)0x0;
  local_28 = pppppuVar22;
  local_24 = (undefined4 *****)puVar28;
  if ((DAT_00598d6c == 0) && (DAT_004d867c == 0)) {
    local_88 = (undefined4 *****)pfVar16[0xd];
    local_8c = (undefined4 *****)(pfVar16[0xc] - pfVar16[8] * 5.0);
    local_84 = (undefined *)(pfVar16[0xe] - pfVar16[10] * 5.0);
    if ((param_3[2] == 1.0) &&
       ((param_4 != 0.0 || ((*(byte *)(*(int *)(DAT_005e45e8 + 4) + 0x8a) & 0xc0) != 0)))) {
      local_1c = (undefined4 *****)local_80;
      local_18 = 0.0;
      local_20 = &local_38;
      local_2c = (undefined4 *****)0x418ee5;
      local_28 = local_8c;
      local_24 = (undefined4 *****)local_84;
      fVar20 = (float10)FUN_0041c650();
      if (fVar20 == (float10)0.0) {
        fVar20 = (float10)(float)pppppuVar24 - (float10)4.0;
      }
      local_28 = pppppuVar22;
      local_24 = (undefined4 *****)puVar28;
      if (fVar20 < (float10)pfVar16[0xd] - (float10)4.0) {
        local_30 = (undefined *)pfVar16[0xe];
        local_18 = 4.940656458412465e-324;
        local_1c = (undefined4 *****)0x0;
        local_20 = (undefined4 *****)0x3f800000;
        local_24 = (undefined4 *****)local_84;
        local_28 = local_88;
        local_2c = local_8c;
        local_34 = (undefined4 *****)pfVar16[0xd];
        local_38 = (undefined4 *****)pfVar16[0xc];
        local_3c = (undefined4 *****)0x418f4f;
        fVar20 = (float10)FUN_00421a70();
        local_28 = pppppuVar22;
        local_24 = (undefined4 *****)puVar28;
        if (fVar20 == (float10)-10000.0) {
          local_28 = (undefined4 *****)((float)local_88 - 4.0);
          local_18 = 0.0;
          local_1c = (undefined4 *****)0x0;
          local_20 = (undefined4 *****)0x3f0ccccd;
          local_24 = (undefined4 *****)local_84;
          local_2c = local_8c;
          local_30 = local_84;
          local_34 = local_88;
          local_38 = local_8c;
          local_3c = (undefined4 *****)0x418f97;
          fVar20 = (float10)FUN_00421a70();
          local_24 = (undefined4 *****)puVar28;
          local_2c = pppppuVar22;
          local_28 = local_2c;
          if (fVar20 == (float10)-10000.0) {
            local_28 = (undefined4 *****)((float)pppppuVar24 - -4.0);
            local_18 = 0.0;
            local_1c = (undefined4 *****)0x0;
            local_20 = (undefined4 *****)0x3f800000;
            local_3c = (undefined4 *****)0x418fd2;
            local_38 = local_2c;
            local_34 = pppppuVar24;
            local_30 = (undefined *)local_24;
            fVar20 = (float10)FUN_00421a70();
            if (fVar20 == (float10)-10000.0) {
              param_1 = (float *)0x40800000;
              local_28 = local_2c;
            }
            else {
              param_1 = (float *)0x0;
              local_28 = local_2c;
            }
          }
        }
      }
    }
  }
  local_1c = (undefined4 *****)local_80;
  local_18 = 0.0;
  local_20 = &local_38;
  local_2c = (undefined4 *****)0x419037;
  pppppuVar22 = local_28;
  puVar28 = (undefined *)local_24;
  fVar20 = (float10)FUN_0041c650();
  uVar7 = local_9c;
  param_3 = (float *)(float)fVar20;
  if (fVar20 == (float10)0.0) {
    param_3 = (float *)((float)pppppuVar24 - 4.0);
  }
  if ((((float)pppppuVar24 < (float)param_3 - -4.0) && (0.5 < (float)local_34)) &&
     ((float)param_3 - DAT_004c71c4 < (float)pppppuVar24)) {
    uVar9 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
    if (((((uVar9 & 0x20000000) == 0) && (DAT_004d867c == 0)) && ((uVar9 & 0x40000) == 0)) ||
       (0.9 <= (float)local_34)) {
      if (((float)local_34 < 0.98) || (1.0 < (float)pppppuVar24 - pfVar16[0xd])) {
        param_1 = (float *)0x40400000;
      }
    }
    else {
      pppppuVar24 = (undefined4 *****)((float)param_3 - -1.5);
    }
    if (((float)pppppuVar24 - 1.5 < (float)param_3) && (0.75 < (float)local_34)) {
      pppppuVar24 = (undefined4 *****)((float)param_3 - -2.0);
    }
  }
  if (local_9c == 0) {
    local_44 = (undefined4 ****)pfVar16[0xc];
    local_3c = (undefined4 *****)pfVar16[0xe];
    local_40 = (undefined4 *****)(pfVar16[0xd] - -2.0);
  }
  else {
    local_74 = (undefined4 *****)pfVar16[0xd];
    local_70 = (undefined *)pfVar16[0xe];
    local_78 = (undefined4 *****)pfVar16[0xc];
    local_18 = (double)(ZEXT48(&param_2) << 0x20);
    local_1c = (undefined4 *****)0x0;
    local_24 = (undefined4 *****)local_7c;
    local_20 = (undefined4 *****)0x3f800000;
    local_28 = &local_38;
    local_2c = (undefined4 *****)0x0;
    local_30 = (undefined *)0x0;
    local_34 = (undefined4 *****)0x0;
    local_3c = &local_78;
    local_38 = (undefined4 *****)0x3f800000;
    local_40 = &local_44;
    local_44 = (undefined4 ****)0x4191a4;
    iVar13 = FUN_00422320();
    if ((iVar13 == 0) || (0.0 <= (float)local_34)) {
      local_24 = (undefined4 *****)local_7c;
      local_28 = &local_38;
      local_3c = &local_78;
      local_40 = &local_44;
      local_18 = (double)(ZEXT48(&param_2) << 0x20);
      local_1c = (undefined4 *****)0x0;
      local_20 = (undefined4 *****)0x3f800000;
      local_2c = (undefined4 *****)0x0;
      local_30 = (undefined *)0x0;
      local_34 = (undefined4 *****)0x0;
      local_38 = (undefined4 *****)0x3f800000;
      local_44 = (undefined4 ****)0x419243;
      iVar13 = FUN_00422320();
      if ((iVar13 != 0) && ((float)local_34 < 0.0)) {
        local_40 = (undefined4 *****)((float)local_40 - 1.0);
        param_1 = (float *)0x0;
        local_48 = 1;
      }
    }
    else {
      local_40 = (undefined4 *****)((float)local_40 - 1.0);
      param_1 = (float *)0x0;
      local_48 = 1;
    }
  }
  local_68 = (undefined4 *****)((float)pppppuVar24 + (float)param_1);
  local_6c = (undefined4 *****)(*(float *)(DAT_005e45e4 + 0x54) * -1.33 + (float)pppppuVar22);
  local_64 = (undefined *)(*(float *)(DAT_005e45e4 + 0x74) * -1.33 + (float)puVar28);
  uVar9 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
  if ((((uVar9 & 0x20000000) != 0) || (DAT_004d867c != 0)) || ((uVar9 & 0x40000) != 0)) {
    local_24 = (undefined4 *****)local_7c;
    local_18 = (double)(ZEXT48(&param_2) << 0x20);
    local_1c = (undefined4 *****)0x0;
    local_20 = (undefined4 *****)0x3f800000;
    local_28 = &local_38;
    local_2c = (undefined4 *****)0x0;
    local_30 = (undefined *)0x0;
    local_34 = (undefined4 *****)0x0;
    local_3c = (undefined4 *****)&stack0xfffffff0;
    local_38 = (undefined4 *****)0x40400000;
    local_40 = &local_6c;
    local_44 = (undefined4 ****)0x419316;
    iVar13 = FUN_00422320();
    if (iVar13 != 0) {
      iVar13 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if ((0.8 < (float)local_34) && (1.0 < (float)pppppuVar24 - pfVar16[0xd])) {
        pppppuVar24 = (undefined4 *****)((float)pppppuVar24 - -1.5);
      }
      iVar14 = *(int *)(iVar13 + 0x18b);
      if ((iVar14 != 0) && (*(int *)(iVar14 + 0x5b) != 0)) {
        pppppuVar22 = (undefined4 *****)
                      ((*(float *)(iVar14 + 0x36) - *(float *)(*(int *)(iVar14 + 0x5b) + 0x6f)) +
                      (float)pppppuVar22);
        pppppuVar24 = (undefined4 *****)
                      ((*(float *)(*(int *)(iVar13 + 0x18b) + 0x3a) -
                       *(float *)(*(int *)(*(int *)(iVar13 + 0x18b) + 0x5b) + 0x73)) +
                      (float)pppppuVar24);
        puVar28 = (undefined *)
                  ((*(float *)(*(int *)(iVar13 + 0x18b) + 0x3e) -
                   *(float *)(*(int *)(*(int *)(iVar13 + 0x18b) + 0x5b) + 0x77)) + (float)puVar28);
      }
    }
  }
  if (0.0 < pfVar16[9]) {
    local_34 = (undefined4 *****)pfVar16[5];
    local_38 = (undefined4 *****)pfVar16[4];
    local_30 = (undefined *)pfVar16[6];
    if (0.75 < (float)local_34) {
      local_34 = (undefined4 *****)(1.0 - (float)local_34);
      param_1 = (float *)((float)local_34 * 60.0);
    }
  }
  param_3 = *(float **)(*(int *)(DAT_005e45e8 + 4) + 0xa4);
  fVar27 = *(float *)(*(int *)(DAT_005e45e8 + 4) + 0xac);
  local_18 = (double)(fVar27 * fVar27 + (float)param_3 * (float)param_3);
  local_1c = (undefined4 *****)0x419423;
  fVar20 = (float10)FUN_004ad534();
  param_3 = (float *)(float)fVar20;
  if (local_48 != 0) {
    local_68 = local_40;
    local_48 = 0;
    local_6c = pppppuVar22;
    local_64 = puVar28;
  }
  param_4 = 0.9;
  if (uVar7 == 0) {
    param_4 = 1.0;
  }
  local_18 = (double)CONCAT44(&local_38,param_3);
  local_20 = &local_44;
  local_1c = (undefined4 *****)param_4;
  local_24 = &local_6c;
  local_28 = (undefined4 *****)0x419474;
  iVar14 = FUN_00421640();
  iVar13 = local_a0;
  if (iVar14 != 0) {
    param_1 = (float *)0x0;
    iVar13 = 1;
    if ((float)local_34 < 0.0) {
      local_48 = 1;
    }
  }
  pppppuVar22 = local_6c;
  pppppuVar25 = local_68;
  puVar28 = local_64;
  if (((((iVar13 == 0) || ((float)param_3 <= 0.05)) ||
       ((*(byte *)(*(int *)(DAT_005e45e8 + 4) + 0x8d) & 0x20) != 0)) ||
      (((local_fc & 0xd) == 0 && ((local_fc & 0x300) == 0)))) &&
     ((pppppuVar25 = pppppuVar24, iVar13 != 0 &&
      ((pppppuVar25 = local_68, iVar13 != 0 && (local_48 == 0)))))) {
    pppppuVar22 = (undefined4 *****)
                  ((((float)local_6c + (float)local_6c) - *(float *)(DAT_005e45e4 + 0xc0)) *
                  0.333333);
    puVar28 = (undefined *)
              ((((float)local_64 + (float)local_64) - *(float *)(DAT_005e45e4 + 200)) * 0.333333);
  }
  local_98 = (float)pppppuVar22 - (float)local_44;
  local_90 = (float)puVar28 - (float)local_3c;
  local_94 = (float)pppppuVar25 - (float)local_40;
  param_4 = local_90 * local_90 + local_98 * local_98;
  if (param_4 < 0.01) {
    pbVar5 = (byte *)(*(int *)(DAT_005e45e8 + 4) + 0x8f);
    *pbVar5 = *pbVar5 | 4;
    return;
  }
  if ((*(uint *)(*(int *)(DAT_005e45e8 + 4) + 0x8a) & 0x200000) == 0) {
    if ((float)param_3 <= 0.45) {
      if ((float)param_3 < 0.2) {
        param_3 = (float *)0x3e4ccccd;
      }
    }
    else {
      param_3 = (float *)0x3ee66666;
    }
    fVar27 = (float)param_3;
    if (param_4 < 35.0) {
      fVar27 = 0.99;
    }
  }
  else {
    fVar27 = 0.8;
  }
  if (DAT_004d7a4c != 0) {
    DAT_004d7a4c = 3;
  }
  local_2c = (undefined4 *****)
             (((float)pppppuVar22 - -*(float *)(DAT_005e45e4 + 0xc0)) * fVar27 -
             *(float *)(DAT_005e45e4 + 0xc0));
  local_28 = (undefined4 *****)
             ((((float)pppppuVar25 + (float)param_1) - -*(float *)(DAT_005e45e4 + 0xc4)) * fVar27 -
             *(float *)(DAT_005e45e4 + 0xc4));
  local_24 = (undefined4 *****)
             (((float)puVar28 - -*(float *)(DAT_005e45e4 + 200)) * fVar27 -
             *(float *)(DAT_005e45e4 + 200));
  if (DAT_004d867c == 0) {
    _DAT_004d7a50 = _DAT_004d7a50 - ((float)param_1 - _DAT_004d7a50) * -0.125;
  }
  *(float *)(DAT_005e45e4 + 0xc0) = -(float)local_2c;
  if (((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20000000) == 0) ||
     (iVar13 == 0)) {
    *(float *)(DAT_005e45e4 + 0xc4) = -((float)pppppuVar25 + _DAT_004d7a50);
  }
  *(float *)(DAT_005e45e4 + 200) = -(float)local_24;
  local_20 = (undefined4 *****)(*(float *)(DAT_005e45e4 + 0xc0) + pfVar16[0xc]);
  if (pfVar15[1] == 0.0) {
    local_1c = (undefined4 *****)((*(float *)(DAT_005e45e4 + 0xc4) + pfVar16[0xd]) - -2.0);
  }
  fVar27 = *(float *)(DAT_005e45e4 + 200) + pfVar16[0xe];
  local_18 = (double)(fVar27 * fVar27 +
                     (float)local_1c * (float)local_1c + (float)local_20 * (float)local_20);
  local_1c = (undefined4 *****)0x41972c;
  fVar20 = (float10)FUN_004ad534();
  fVar27 = (float)fVar20;
  local_20 = (undefined4 *****)((float)local_20 / fVar27);
  local_1c = (undefined4 *****)((float)local_1c / fVar27);
  local_18 = (double)CONCAT44(fVar27,(float)(undefined4 ****)local_18 / fVar27);
  if ((DAT_004d7a4c != 0) && (fVar27 <= DAT_004c71c4 - -1.0)) {
    DAT_004d7a4c = 0;
  }
  if ((param_4 < 4.0) &&
     (pbVar5 = (byte *)(*(int *)(DAT_005e45e8 + 4) + 0x8f), *pbVar5 = *pbVar5 | 4, param_4 < 1.6384)
     ) {
    fVar27 = pfVar16[8];
    fVar6 = pfVar16[10];
    pfVar15 = pfVar16;
    pfVar18 = local_f8;
    for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
      *pfVar18 = *pfVar15;
      pfVar15 = pfVar15 + 1;
      pfVar18 = pfVar18 + 1;
    }
    local_c8 = fVar27 + local_c8;
    local_c0 = fVar6 + local_c0;
    *(float *)(DAT_005e45e4 + 0xc0) = -local_c8;
    *(float *)(DAT_005e45e4 + 200) = -local_c0;
  }
  if ((local_48 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20000000) == 0)) {
    local_18 = (double)CONCAT44(pfVar16[0xd] - -*(float *)(DAT_005e45e4 + 0xc4),0x419843);
    fVar20 = (float10)FUN_0045ec60();
    if (fVar20 <= (float10)2.0) {
      local_1c = (undefined4 *****)0x0;
      local_18 = (double)CONCAT44(&local_20,0x419863);
      FUN_0045eab0();
    }
  }
  ppppuVar23 = (undefined4 ****)local_18;
  fVar27 = -(float)local_20;
  uVar26 = 0;
  local_18 = (double)CONCAT44(&stack0xfffffff0,0x419884);
  FUN_0045eab0();
  local_1c = &local_2c;
  local_18 = (double)CONCAT44(&stack0xfffffff0,&local_20);
  local_20 = (undefined4 *****)0x419898;
  FUN_0045eb50();
  local_1c = (undefined4 *****)local_80;
  local_20 = &local_38;
  local_18 = 0.0;
  local_24 = (undefined4 *****)-*(float *)(DAT_005e45e4 + 200);
  local_28 = (undefined4 *****)-*(float *)(DAT_005e45e4 + 0xc0);
  local_2c = (undefined4 *****)0x4198c9;
  fVar20 = (float10)FUN_0041c650();
  param_3 = (float *)(float)fVar20;
  if ((-*(float *)(DAT_005e45e4 + 0xc4) - 1.5 < (float)param_3) && (0.75 < (float)local_34)) {
    *(float *)(DAT_005e45e4 + 0xc4) = -((float)param_3 - -1.5);
  }
  *(undefined4 *****)(DAT_005e45e4 + 0x4c) = ppppuVar23;
  *(undefined4 *)(DAT_005e45e4 + 0x5c) = uVar26;
  *(float *)(DAT_005e45e4 + 0x6c) = fVar27;
  *(undefined4 ******)(DAT_005e45e4 + 0x50) = local_2c;
  *(undefined4 ******)(DAT_005e45e4 + 0x60) = local_28;
  *(undefined4 ******)(DAT_005e45e4 + 0x70) = local_24;
  *(undefined4 ******)(DAT_005e45e4 + 0x54) = local_20;
  *(undefined4 ******)(DAT_005e45e4 + 100) = local_1c;
  *(undefined4 *****)(DAT_005e45e4 + 0x74) = (undefined4 ****)local_18;
  local_1c = (undefined4 *****)(DAT_005e45e4 + 8);
  local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
  local_20 = (undefined4 *****)0x419990;
  FUN_0045ecb0();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0041a660(float *param_1,int param_2,float *param_3,float param_4)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  float unaff_EBX;
  float *pfVar5;
  undefined4 *puVar6;
  float *pfVar7;
  undefined4 *puVar8;
  float10 fVar9;
  float10 fVar10;
  float local_f8 [3];
  undefined4 local_ec [5];
  float local_d8;
  float local_d4;
  float local_c8;
  float local_c4;
  float local_ac [4];
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  float local_8c;
  float local_88;
  float local_84;
  float local_7c;
  float local_78;
  float local_74;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float *local_24;
  float *local_20;
  float **local_1c;
  undefined8 local_18;
  float fVar11;
  float fVar12;
  float fVar13;
  undefined4 uVar14;
  float fVar15;
  float fVar16;
  
  pfVar5 = param_1;
  AdjustStackForLargeAllocations();
  pfVar7 = param_3;
  if (((param_2 == 0) && (DAT_00598d74 == 0)) && (DAT_004d7a34 == 0)) {
    local_54 = param_1[5] * unaff_EBX * param_3[1];
    local_1c = (float **)((local_54 + param_1[0xd]) - -4.0);
    fVar11 = (param_1[2] * *param_3 + param_1[10] * param_3[2] + param_1[6] * param_3[1]) *
             unaff_EBX + param_1[0xe];
    local_18 = (double)(ulonglong)(uint)fVar11;
    if (DAT_004c71a4 != 0) {
      *(float *)(DAT_005e45e4 + 0xc0) =
           -((param_3[2] * param_1[8] + *param_3 * *param_1 + param_1[4] * param_3[1]) * unaff_EBX +
            param_1[0xc]);
      *(float *)(DAT_005e45e4 + 0xc4) = -(float)local_1c;
      *(float *)(DAT_005e45e4 + 200) = -fVar11;
      DAT_004c71a4 = 0;
    }
    param_1 = (float *)0x0;
    if (DAT_00598d6c == 0) {
      local_34 = pfVar5[0xd];
      local_38 = pfVar5[0xc] - pfVar5[8] * 5.0;
      local_30 = pfVar5[0xe] - pfVar5[10] * 5.0;
      fVar11 = 0.0;
      if (param_3[2] == 1.0) {
        local_1c = (float **)&param_2;
        local_18 = 0.0;
        local_20 = local_f8;
        local_2c = 6.029506e-39;
        local_28 = local_38;
        local_24 = (float *)local_30;
        fVar9 = (float10)FUN_0041c650();
        fVar13 = param_4;
        fVar11 = (float)param_1;
        if ((param_4 != 0.0) || (fVar9 < (float10)pfVar5[0xd] - (float10)6.0)) {
          local_18 = 0.0;
          local_1c = (float **)0x0;
          local_20 = (float *)0x3f800000;
          local_24 = (float *)local_30;
          local_28 = local_34;
          local_2c = local_38;
          local_34 = pfVar5[0xd];
          local_38 = pfVar5[0xc];
          local_3c = 6.029628e-39;
          local_30 = pfVar5[0xe];
          fVar9 = (float10)FUN_00421a70();
          if (fVar9 == (float10)-10000.0) {
            local_28 = local_34 - 6.0;
            local_18 = 0.0;
            local_1c = (float **)0x0;
            local_20 = (float *)0x3f0ccccd;
            local_24 = (float *)local_30;
            local_2c = local_38;
            local_3c = 6.02971e-39;
            fVar9 = (float10)FUN_00421a70();
            if (fVar9 == (float10)-10000.0) {
              if (fVar13 == 0.0) {
                fVar11 = 18.0;
              }
              else {
                fVar11 = 7.5;
              }
            }
          }
        }
      }
      param_1 = (float *)(_DAT_004d7a60 + fVar11);
      fVar11 = (float)(float *)local_18;
    }
    local_18._0_4_ = (float *)fVar11;
    if (DAT_004d7a4c == 0.0) {
      fVar11 = -*(float *)(DAT_005e45e4 + 0xc4) -
               (((float)local_1c + (float)param_1) - -*(float *)(DAT_005e45e4 + 0xc4)) * -0.15;
      param_3 = (float *)-*(float *)(DAT_005e45e4 + 200);
      local_24 = (float *)((float)param_3 - ((float)(float *)local_18 - (float)param_3) * -0.3);
    }
    else {
      fVar11 = ((float)local_1c - *(float *)(DAT_005e45e4 + 0xc4) * 19.0) * 0.05;
      DAT_004d7a4c = 4.203895e-45;
      local_24 = (float *)(((float)(float *)local_18 - *(float *)(DAT_005e45e4 + 200) * 19.0) * 0.05
                          );
    }
    local_1c = (float **)&param_2;
    local_18 = 0.0;
    local_20 = &local_38;
    local_28 = 0.0;
    local_2c = 6.030089e-39;
    fVar13 = (float)local_24;
    fVar9 = (float10)FUN_0041c650();
    param_3 = (float *)0x3f000000;
    if (0.0 <= pfVar7[1]) {
      param_3 = (float *)0x40400000;
    }
    if ((float10)fVar11 - (float10)(float)param_3 < fVar9) {
      fVar11 = (float)((float10)(float)param_3 + fVar9);
    }
    DAT_004d79e0 = *(float *)(DAT_005e45e4 + 0xc0);
    DAT_004d79e4 = *(float *)(DAT_005e45e4 + 0xc4);
    DAT_004d79e8 = *(float *)(DAT_005e45e4 + 200);
    if (((fVar11 - local_54 < ((float)param_1 + pfVar5[0xd]) - -8.0) ||
        (fVar11 <= -*(float *)(DAT_005e45e4 + 0xc4))) || (DAT_004d7a4c != 0.0)) {
      *(float *)(DAT_005e45e4 + 0xc0) = -(float)local_18._4_4_;
      *(float *)(DAT_005e45e4 + 0xc4) = -fVar11;
      *(float *)(DAT_005e45e4 + 200) = -fVar13;
    }
    local_2c = *(float *)(DAT_005e45e4 + 0xc0) + pfVar5[0xc];
    local_28 = *(float *)(DAT_005e45e4 + 0xc4) + pfVar5[0xd];
    local_24 = (float *)(*(float *)(DAT_005e45e4 + 200) + pfVar5[0xe]);
    local_18 = (double)((float)local_24 * (float)local_24 +
                       local_28 * local_28 + local_2c * local_2c);
    local_1c = (float **)0x41aa8a;
    fVar9 = (float10)FUN_004ad534();
    fVar12 = (float)fVar9;
    local_2c = local_2c / fVar12;
    local_28 = local_28 / fVar12;
    if ((DAT_004d7a4c != 0.0) && (fVar12 <= DAT_004c71c4 - -1.0)) {
      DAT_004d7a4c = 0.0;
    }
    fVar15 = DAT_004d7a4c;
    if ((fVar12 < DAT_004c71c4) || ((DAT_004c71c4 - -3.0 < fVar12 && (DAT_004d7a4c == 0.0)))) {
      fVar16 = fVar12 + DAT_004c71c4;
      if (DAT_004c71c4 <= fVar12) {
        fVar16 = fVar16 - -3.0;
      }
      fVar12 = fVar16 * 0.5;
      local_1c = (float **)&param_2;
      local_18 = 0.0;
      local_20 = &local_38;
      *(float *)(DAT_005e45e4 + 0xc0) = local_2c * fVar12 - pfVar5[0xc];
      *(float *)(DAT_005e45e4 + 0xc4) = local_28 * fVar12 - pfVar5[0xd];
      *(float *)(DAT_005e45e4 + 200) = fVar15 * fVar12 - pfVar5[0xe];
      local_24 = (float *)-*(float *)(DAT_005e45e4 + 200);
      local_28 = -*(float *)(DAT_005e45e4 + 0xc0);
      local_2c = 6.030885e-39;
      fVar9 = (float10)FUN_0041c650();
      if (-*(float *)(DAT_005e45e4 + 0xc4) < (float)param_3 + (float)fVar9) {
        *(float *)(DAT_005e45e4 + 0xc4) = -((float)param_3 + (float)fVar9);
      }
    }
    if (-*(float *)(DAT_005e45e4 + 0xc4) < pfVar5[0xd]) {
      *(float *)(DAT_005e45e4 + 0xc4) = -pfVar5[0xd];
    }
    local_24 = (float *)pfVar5[0xe];
    local_28 = pfVar5[0xd] - -3.0;
    local_18 = 0.0;
    local_2c = pfVar5[0xc];
    local_1c = (float **)0x0;
    local_20 = (float *)0x3f800000;
    local_30 = -*(float *)(DAT_005e45e4 + 200);
    local_34 = -*(float *)(DAT_005e45e4 + 0xc4);
    local_38 = -*(float *)(DAT_005e45e4 + 0xc0);
    local_3c = 6.031128e-39;
    fVar9 = (float10)FUN_00421a70();
    if (fVar9 == (float10)-10000.0) {
      if (DAT_00598d6c == 0) {
        bVar1 = *(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9);
      }
      else {
        bVar1 = *(byte *)(*(int *)(DAT_005e45e8 + 4) + 0xc9);
      }
      if (((bVar1 & 0xf) != 0) && (0.0 < _DAT_004d7a60)) {
        _DAT_004d7a60 = _DAT_004d7a60 - 0.5;
      }
    }
    else {
      param_3 = (float *)pfVar5[0xe];
      param_4 = pfVar5[0xc];
      local_28 = pfVar5[0xd] - -3.0;
      local_18 = 0.0;
      local_1c = (float **)0x0;
      local_20 = (float *)0x3f800000;
      local_34 = pfVar5[0xd] - -20.0;
      local_3c = 6.031247e-39;
      local_38 = param_4;
      local_30 = (float)param_3;
      local_2c = param_4;
      local_24 = param_3;
      fVar10 = (float10)FUN_00421a70();
      param_3 = (float *)(float)fVar10;
      local_24 = (float *)pfVar5[0xe];
      local_28 = pfVar5[0xd] - -3.0;
      local_18 = 0.0;
      local_1c = (float **)0x0;
      local_20 = (float *)0x3f800000;
      local_2c = pfVar5[0xc];
      local_30 = -*(float *)(DAT_005e45e4 + 200);
      local_34 = -*(float *)(DAT_005e45e4 + 0xc4);
      local_38 = -*(float *)(DAT_005e45e4 + 0xc0);
      local_3c = 6.031365e-39;
      FUN_00421a70();
      if ((float)param_3 == -10000.0) {
        _DAT_004d7a60 = _DAT_004d7a60 - -1.0;
      }
      else {
        _DAT_004d7a60 = _DAT_004d7a60 - 1.0;
        if (_DAT_004d7a60 < 0.0) {
          _DAT_004d7a60 = 0.0;
        }
      }
    }
    if ((pfVar5[0xd] - -20.0 <= (float)fVar9) && (fVar12 < DAT_004c71c4 - -3.0)) {
      *(float *)(DAT_005e45e4 + 0xc0) = DAT_004d79e0;
      *(float *)(DAT_005e45e4 + 0xc4) = DAT_004d79e4;
      *(float *)(DAT_005e45e4 + 200) = DAT_004d79e8;
      local_2c = *(float *)(DAT_005e45e4 + 0xc0) + pfVar5[0xc];
      local_28 = *(float *)(DAT_005e45e4 + 0xc4) + pfVar5[0xd];
      local_24 = (float *)(*(float *)(DAT_005e45e4 + 200) + pfVar5[0xe]);
      local_18 = (double)CONCAT44(&local_2c,0x41ae47);
      FUN_0045eab0();
    }
    if (DAT_005aaaac != 0) {
      *(undefined4 *)(DAT_005e45e4 + 0xc0) = _DAT_005aaab0;
      *(undefined4 *)(DAT_005e45e4 + 0xc4) = _DAT_005aaab4;
      *(undefined4 *)(DAT_005e45e4 + 200) = _DAT_005aaab8;
    }
    local_20 = local_24;
    local_1c = (float **)0x0;
    local_18 = (double)CONCAT44(&local_20,0x41aea6);
    FUN_0045eab0();
    local_18._4_4_ = &local_20;
    local_18._0_4_ = &local_2c;
    local_1c = (float **)((int)&local_18 + 4);
    local_20 = (float *)0x41aeba;
    FUN_0045eb50();
    *(float **)(DAT_005e45e4 + 0x4c) = local_20;
    *(float ***)(DAT_005e45e4 + 0x5c) = local_1c;
    *(float **)(DAT_005e45e4 + 0x6c) = (float *)local_18;
    *(float ***)(DAT_005e45e4 + 0x50) = local_18._4_4_;
    *(float *)(DAT_005e45e4 + 0x60) = fVar11;
    *(float *)(DAT_005e45e4 + 0x70) = fVar13;
    *(float *)(DAT_005e45e4 + 0x54) = local_2c;
    *(float *)(DAT_005e45e4 + 100) = local_28;
    *(float **)(DAT_005e45e4 + 0x74) = local_24;
    local_1c = (float **)(DAT_005e45e4 + 8);
    local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
    local_20 = (float *)0x41af3f;
    FUN_0045ecb0();
    return;
  }
  if (param_2 == 2) {
    param_3 = (float *)0x0;
    if (DAT_004d7a4c != 2.802597e-45) {
      local_18._4_4_ = *(float ***)(DAT_005e45e4 + 0x54);
      local_18._0_4_ = (float *)0x41af98;
      uVar14 = *(undefined4 *)(DAT_005e45e4 + 0x74);
      FUN_0045eab0();
      _DAT_004d7a00 = uVar14;
      _DAT_004d7a08 = -(float)local_18._4_4_;
      _DAT_004d7a04 = 0;
      local_18 = 3.279376434571681e-307;
      FUN_0045eab0();
      DAT_004d79e0 = param_1[0xc] - param_1[8] * DAT_004c71c4 * 0.5;
      DAT_004d79e8 = param_1[0xe] - param_1[10] * DAT_004c71c4 * 0.5;
      _DAT_004d7a64 = 0.0;
      _DAT_004c71d0 = 0.05;
    }
    param_3 = (float *)0x0;
    fVar11 = 0.0;
    uVar2 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9);
    if ((uVar2 & 1) != 0) {
      param_3 = (float *)0x3f8ccccd;
    }
    if ((uVar2 & 2) != 0) {
      param_3 = (float *)0xbf8ccccd;
    }
    if ((uVar2 & 8) != 0) {
      fVar11 = 1.1;
    }
    if ((uVar2 & 4) != 0) {
      fVar11 = -1.1;
    }
    local_4c = DAT_004d79e4;
    local_50 = DAT_004d79e0;
    local_48 = DAT_004d79e8;
    local_1c = (float **)&param_2;
    local_18 = 0.0;
    local_20 = &local_38;
    DAT_004d79e0 = *(float *)(DAT_005e45e4 + 0x4c) * fVar11 +
                   *(float *)(DAT_005e45e4 + 0x50) * (float)param_3 + DAT_004d79e0;
    DAT_004d79e8 = *(float *)(DAT_005e45e4 + 0x6c) * fVar11 +
                   *(float *)(DAT_005e45e4 + 0x70) * (float)param_3 + DAT_004d79e8;
    local_2c = 6.032757e-39;
    local_28 = DAT_004d79e0;
    local_24 = (float *)DAT_004d79e8;
    fVar9 = (float10)FUN_0041c650();
    DAT_004d79e4 = (float)((fVar9 + (float10)_DAT_004d7a64) - (float10)-50.0);
    if (*(float *)(DAT_00598d90 + 0x108) - 5.0 < DAT_004d79e4) {
      DAT_004d79e0 = local_50;
      DAT_004d79e4 = local_4c;
      DAT_004d79e8 = local_48;
    }
    local_18 = (double)CONCAT44(DAT_004d79e8,DAT_004d79e0);
    local_1c = (float **)DAT_00598ff0;
    local_20 = (float *)0x41b14a;
    iVar3 = FUN_0045cbc0();
    iVar4 = *(int *)(*(int *)(DAT_005e45e8 + 4) + 0xb4);
    if ((iVar3 != iVar4) &&
       ((*(uint *)(DAT_00598ff0 + 0x26 + iVar4 * 4) & 1 << ((byte)iVar3 & 0x1f)) == 0)) {
      DAT_004d79e0 = local_50;
      DAT_004d79e4 = local_4c;
      DAT_004d79e8 = local_48;
    }
    _DAT_004d7a64 = _DAT_004c71d0 + _DAT_004d7a64;
    if ((1.0 < _DAT_004d7a64) || (_DAT_004d7a64 < -1.0)) {
      _DAT_004c71d0 = -_DAT_004c71d0;
    }
    *(float *)(DAT_005e45e4 + 0xc0) = (*(float *)(DAT_005e45e4 + 0xc0) * 9.0 - DAT_004d79e0) * 0.1;
    *(float *)(DAT_005e45e4 + 0xc4) = (*(float *)(DAT_005e45e4 + 0xc4) * 9.0 - DAT_004d79e4) * 0.1;
    *(float *)(DAT_005e45e4 + 200) = (*(float *)(DAT_005e45e4 + 200) * 9.0 - DAT_004d79e8) * 0.1;
    fVar11 = *(float *)(DAT_005e45e4 + 100) - 0.08;
    uVar14 = *(undefined4 *)(DAT_005e45e4 + 0x74);
    local_18 = (double)CONCAT44(*(undefined4 *)(DAT_005e45e4 + 0x54),0x41b25d);
    FUN_0045eab0();
    local_18._0_4_ = (float *)((int)&local_18 + 4);
    local_1c = &local_20;
    local_18._4_4_ = (float **)&DAT_004d7a00;
    local_20 = (float *)0x41b272;
    FUN_0045eb50();
    *(undefined4 *)(DAT_005e45e4 + 0x4c) = _DAT_004d7a00;
    *(undefined4 *)(DAT_005e45e4 + 0x5c) = _DAT_004d7a04;
    *(float *)(DAT_005e45e4 + 0x6c) = _DAT_004d7a08;
    *(float **)(DAT_005e45e4 + 0x50) = local_20;
    *(float ***)(DAT_005e45e4 + 0x60) = local_1c;
    *(float **)(DAT_005e45e4 + 0x70) = (float *)local_18;
    *(float ***)(DAT_005e45e4 + 0x54) = local_18._4_4_;
    *(float *)(DAT_005e45e4 + 100) = fVar11;
    *(undefined4 *)(DAT_005e45e4 + 0x74) = uVar14;
    local_1c = (float **)(DAT_005e45e4 + 8);
    local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
    local_20 = (float *)0x41b300;
    FUN_0045ecb0();
    DAT_004d7a4c = 2.802597e-45;
    return;
  }
  if ((DAT_00598d74 == 0) && (DAT_004d7a34 == 0)) {
    DAT_004d7a4c = (float)param_2;
    local_20 = (float *)param_1[0xc];
    fVar13 = *(float *)(DAT_005e45e4 + 0xc0) + (float)local_20;
    fVar12 = *(float *)(DAT_005e45e4 + 0xc4) + (param_1[0xd] - -4.0);
    fVar15 = *(float *)(DAT_005e45e4 + 200) + param_1[0xe];
    fVar16 = unaff_EBX - -5.0;
    fVar11 = unaff_EBX * 0.9;
    local_18 = (double)(fVar15 * fVar15 + fVar12 * fVar12 + fVar13 * fVar13);
    local_1c = (float **)0x41b3b0;
    fVar9 = (float10)FUN_004ad534();
    if ((float10)1.0 <= fVar9) {
      if ((float10)fVar16 < fVar9) {
        fVar9 = (float10)fVar16;
      }
      if ((float10)fVar11 < fVar9) {
        fVar11 = (float)(fVar9 - (fVar9 - (float10)fVar11) / ((float10)fVar16 - (float10)fVar11));
      }
      fVar9 = (float10)1.0 / fVar9;
      local_1c = (float **)&param_2;
      local_20 = &local_38;
      local_18._4_4_ = *(float ***)(DAT_005e45e4 + 0xc0);
      local_18._0_4_ = (float *)0x0;
      fVar13 = *(float *)(DAT_005e45e4 + 0xc4);
      fVar16 = *(float *)(DAT_005e45e4 + 200);
      *(float *)(DAT_005e45e4 + 0xc0) =
           (float)-((float10)(float)local_20 - fVar9 * (float10)0.0 * (float10)fVar11);
      *(float *)(DAT_005e45e4 + 0xc4) =
           (float)-((float10)(float)local_1c - fVar9 * (float10)fVar12 * (float10)fVar11);
      *(float *)(DAT_005e45e4 + 200) =
           (float)-((float10)0.0 - fVar9 * (float10)fVar15 * (float10)fVar11);
      local_24 = (float *)-*(float *)(DAT_005e45e4 + 200);
      local_28 = -*(float *)(DAT_005e45e4 + 0xc0);
      local_2c = 6.034116e-39;
      fVar9 = (float10)FUN_0041c650();
      fVar12 = -*(float *)(DAT_005e45e4 + 0xc4);
      fVar11 = (float)(fVar9 - (float10)-2.0);
      if ((fVar11 <= fVar12) || (0.8 <= local_34)) {
        if (fVar12 < fVar11) {
          *(float *)(DAT_005e45e4 + 0xc4) = -fVar11;
        }
      }
      else {
        fVar11 = (-*(float *)(DAT_005e45e4 + 0xc0) + (float)local_18._4_4_) * local_38 +
                 (fVar13 + fVar12) * local_34 +
                 (-*(float *)(DAT_005e45e4 + 200) + fVar16) * local_30;
        *(float *)(DAT_005e45e4 + 0xc0) = (float)local_18._4_4_ - fVar11 * local_38;
        *(float *)(DAT_005e45e4 + 0xc4) = fVar13 - fVar11 * local_34;
        *(float *)(DAT_005e45e4 + 200) = fVar16 - fVar11 * local_30;
      }
      local_44 = *(float *)(DAT_005e45e4 + 0xc0) + param_1[0xc];
      local_40 = *(float *)(DAT_005e45e4 + 0xc4) + param_1[0xd];
      local_3c = *(float *)(DAT_005e45e4 + 200) + param_1[0xe];
      local_18 = (double)CONCAT44(&local_44,0x41b59f);
      FUN_0045eab0();
      *(float *)(DAT_005e45e4 + 0x6c) = local_44;
      local_60 = local_44;
      *(float *)(DAT_005e45e4 + 0x70) = local_40;
      local_5c = local_40;
      *(float *)(DAT_005e45e4 + 0x74) = local_3c;
      local_18 = (double)local_40;
      local_58 = local_3c;
      local_1c = (float **)0x41b5e5;
      fVar9 = (float10)FUN_004ad3c0();
      fVar11 = local_40;
      if (((float10)0.9900000095367432 < fVar9) && (local_40 = 0.99, fVar11 <= 0.0)) {
        local_40 = -0.99;
      }
      local_18 = (double)(1.0 - local_40 * local_40);
      local_1c = (float **)0x41b62a;
      fVar9 = (float10)FUN_004ad534();
      if ((float10)0.01 <= fVar9) {
        *(float *)(DAT_005e45e4 + 0x4c) = (float)((float10)local_58 / fVar9);
        local_6c = *(undefined4 *)(DAT_005e45e4 + 0x4c);
        *(undefined4 *)(DAT_005e45e4 + 0x50) = 0;
        local_68 = 0;
        *(float *)(DAT_005e45e4 + 0x54) = (float)-((float10)local_60 / fVar9);
        local_64 = *(undefined4 *)(DAT_005e45e4 + 0x54);
        local_1c = (float **)&local_50;
        local_18 = (double)CONCAT44(&local_6c,&local_60);
        local_20 = (float *)0x41b693;
        FUN_0045eb50();
        *(float *)(DAT_005e45e4 + 0x5c) = local_50;
        *(float *)(DAT_005e45e4 + 0x60) = local_4c;
        *(float *)(DAT_005e45e4 + 100) = local_48;
        pfVar5 = (float *)(DAT_005e45e4 + 0x4c);
        pfVar7 = local_ac;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *pfVar7 = *pfVar5;
          pfVar5 = pfVar5 + 1;
          pfVar7 = pfVar7 + 1;
        }
        local_18 = (double)CONCAT44(local_ac,(float *)(DAT_005e45e4 + 0x4c));
        local_1c = (float **)0x41b6dd;
        FUN_0045f140();
        local_1c = (float **)(DAT_005e45e4 + 8);
        local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
        local_20 = (float *)0x41b6f9;
        FUN_0045ecb0();
        return;
      }
    }
    return;
  }
  local_c8 = param_3[1];
  pfVar5 = local_ac;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar5 = *param_1;
    param_1 = param_1 + 1;
    pfVar5 = pfVar5 + 1;
  }
  local_c8 = local_c8 + local_88;
  local_18 = (double)(1.0 - local_c8 * local_c8);
  local_1c = (float **)0x41b736;
  fVar9 = (float10)FUN_004ad534();
  local_c4 = (float)fVar9;
  local_d4 = -local_c8;
  puVar6 = &DAT_004d1ae0;
  puVar8 = local_ec;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar8 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar8 = puVar8 + 1;
  }
  local_d8 = (float)fVar9;
  local_1c = (float **)local_ac;
  local_18 = (double)CONCAT44(local_ac,local_ec);
  local_20 = (float *)0x41b793;
  MultiplyMatrices();
  *(float *)(DAT_005e45e4 + 0x4c) = -local_ac[0];
  *(undefined4 *)(DAT_005e45e4 + 0x50) = local_9c;
  *(float *)(DAT_005e45e4 + 0x54) = -local_8c;
  *(float *)(DAT_005e45e4 + 0x5c) = -local_ac[1];
  *(undefined4 *)(DAT_005e45e4 + 0x60) = local_98;
  *(float *)(DAT_005e45e4 + 100) = -local_88;
  *(float *)(DAT_005e45e4 + 0x6c) = -local_ac[2];
  *(undefined4 *)(DAT_005e45e4 + 0x70) = local_94;
  *(float *)(DAT_005e45e4 + 0x74) = -local_84;
  *(float *)(DAT_005e45e4 + 0xc0) = -local_7c;
  *(float *)(DAT_005e45e4 + 0xc4) = -local_78 - 2.0;
  *(float *)(DAT_005e45e4 + 200) = -local_74;
  local_1c = (float **)(DAT_005e45e4 + 8);
  local_18 = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
  local_20 = (float *)0x41b874;
  FUN_0045ecb0();
  return;
}



void FUN_0041b890(int param_1,float param_2)

{
  float fVar1;
  
  AdjustStackForLargeAllocations();
  fVar1 = *(float *)((int)param_2 + 8);
  FUN_0045fc50();
  *(float *)(param_1 + 0x1e0) = param_2 + *(float *)(param_1 + 0x1e0);
  *(float *)(param_1 + 0x1e4) = *(float *)(param_1 + 0x1e4) + 1.0;
  *(float *)(param_1 + 0x1e8) = fVar1 + *(float *)(param_1 + 0x1e8);
  return;
}



void FUN_0041b900(int param_1,float param_2)

{
  float fVar1;
  
  AdjustStackForLargeAllocations();
  fVar1 = *(float *)((int)param_2 + 8);
  FUN_0045fc50();
  *(float *)(param_1 + 0x1e0) = param_2 + *(float *)(param_1 + 0x1e0);
  *(float *)(param_1 + 0x1e4) = *(float *)(param_1 + 0x1e4) + 1.0;
  *(float *)(param_1 + 0x1e8) = fVar1 + *(float *)(param_1 + 0x1e8);
  return;
}



void FUN_0041b970(void)

{
  int iVar1;
  float10 fVar2;
  undefined local_64 [64];
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 *local_10;
  double local_c;
  
  local_c = (double)CONCAT44(0x41b97d,local_c._0_4_);
  AdjustStackForLargeAllocations();
  local_c = 2.128104766432668e-317;
  iVar1 = FUN_00446480();
  if (iVar1 != 0) {
    local_c = (double)CONCAT44(0xbd4ccccd,&local_18);
    local_18 = 0x3f800000;
    local_10 = (undefined4 *)0x0;
    local_14 = 0x41b9b2;
    FUN_0045fa30();
    local_10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    local_c = (double)CONCAT44(local_64,local_10);
    local_14 = 0x41b9c9;
    FUN_0045ecb0();
  }
  local_c = 2.124123934762891e-314;
  iVar1 = FUN_00446480();
  if (iVar1 != 0) {
    local_c = (double)CONCAT44(0x3d4ccccd,&local_18);
    local_18 = 0x3f800000;
    local_10 = (undefined4 *)0x0;
    local_14 = 0x41ba01;
    FUN_0045fa30();
    local_10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    local_c = (double)CONCAT44(local_64,local_10);
    local_14 = 0x41ba18;
    FUN_0045ecb0();
  }
  local_c = 6.368115555724622e-314;
  iVar1 = FUN_00446480();
  if (iVar1 != 0) {
    local_18 = 0;
    local_10 = (undefined4 *)local_64;
    local_c = (double)CONCAT44(0xbda3d70a,&local_18);
    local_14 = 0x41ba5c;
    FUN_0045fa30();
    local_10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    local_c = (double)CONCAT44(local_10,local_64);
    local_14 = 0x41ba73;
    FUN_0045ecb0();
    local_c = (double)(*(float *)(DAT_005e45e4 + 0x1e8) * *(float *)(DAT_005e45e4 + 0x1e8) +
                      *(float *)(DAT_005e45e4 + 0x1e4) * *(float *)(DAT_005e45e4 + 0x1e4) +
                      *(float *)(DAT_005e45e4 + 0x1e0) * *(float *)(DAT_005e45e4 + 0x1e0));
    local_10 = (undefined4 *)0x41bab5;
    fVar2 = (float10)FUN_004ad534();
    *(float *)(DAT_005e45e4 + 0x1e0) = (float)((float10)*(float *)(DAT_005e45e4 + 0x54) * fVar2);
    *(float *)(DAT_005e45e4 + 0x1e4) = (float)((float10)*(float *)(DAT_005e45e4 + 100) * fVar2);
    *(float *)(DAT_005e45e4 + 0x1e8) = (float)((float10)*(float *)(DAT_005e45e4 + 0x74) * fVar2);
  }
  local_c = 4.246119867030938e-314;
  iVar1 = FUN_00446480();
  if (iVar1 != 0) {
    local_18 = 0;
    local_10 = (undefined4 *)local_64;
    local_c = (double)CONCAT44(0x3da3d70a,&local_18);
    local_14 = 0x41bb2b;
    FUN_0045fa30();
    local_10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    local_c = (double)CONCAT44(local_10,local_64);
    local_14 = 0x41bb42;
    FUN_0045ecb0();
    local_c = (double)(*(float *)(DAT_005e45e4 + 0x1e8) * *(float *)(DAT_005e45e4 + 0x1e8) +
                      *(float *)(DAT_005e45e4 + 0x1e4) * *(float *)(DAT_005e45e4 + 0x1e4) +
                      *(float *)(DAT_005e45e4 + 0x1e0) * *(float *)(DAT_005e45e4 + 0x1e0));
    local_10 = (undefined4 *)0x41bb84;
    fVar2 = (float10)FUN_004ad534();
    *(float *)(DAT_005e45e4 + 0x1e0) = (float)((float10)*(float *)(DAT_005e45e4 + 0x54) * fVar2);
    *(float *)(DAT_005e45e4 + 0x1e4) = (float)((float10)*(float *)(DAT_005e45e4 + 100) * fVar2);
    *(float *)(DAT_005e45e4 + 0x1e8) = (float)((float10)*(float *)(DAT_005e45e4 + 0x74) * fVar2);
  }
  if (DAT_005de384 == 0) {
    local_c = 1.06121073787592e-313;
    iVar1 = FUN_00446480();
    if (iVar1 == 0) {
      *(undefined4 *)(DAT_005e45e4 + 0x1e8) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x1e4) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x1e0) = 0;
    }
    else {
      local_24 = *(undefined4 *)(DAT_005e45e4 + 0x54);
      local_20 = *(undefined4 *)(DAT_005e45e4 + 100);
      local_1c = *(undefined4 *)(DAT_005e45e4 + 0x74);
      local_10 = &local_24;
      local_c = (double)CONCAT44(&local_24,0xbf000000);
      local_14 = 0x41bc3a;
      FUN_0045fc50();
      local_c = (double)CONCAT44(&local_24,DAT_005e45e4);
      local_10 = (undefined4 *)0x41bc4c;
      FUN_0041b890();
    }
  }
  else {
    local_24 = *(undefined4 *)(DAT_005e45e4 + 0x54);
    local_20 = *(undefined4 *)(DAT_005e45e4 + 100);
    local_1c = *(undefined4 *)(DAT_005e45e4 + 0x74);
    local_10 = &local_24;
    local_c = (double)CONCAT44(&local_24,0x3f000000);
    local_14 = 0x41bbeb;
    FUN_0045fc50();
    local_c = (double)CONCAT44(&local_24,DAT_005e45e4);
    local_10 = (undefined4 *)0x41bbfe;
    FUN_0041b890();
  }
  local_10 = (undefined4 *)(DAT_005e45e4 + 0x1e0);
  local_c = (double)CONCAT44(local_10,0x3f666666);
  local_14 = 0x41bc98;
  FUN_0045fc50();
  *(float *)(DAT_005e45e4 + 0xc0) =
       *(float *)(DAT_005e45e4 + 0xc0) - *(float *)(DAT_005e45e4 + 0x1e0);
  *(float *)(DAT_005e45e4 + 0xc4) =
       *(float *)(DAT_005e45e4 + 0xc4) - *(float *)(DAT_005e45e4 + 0x1e4);
  *(float *)(DAT_005e45e4 + 200) = *(float *)(DAT_005e45e4 + 200) - *(float *)(DAT_005e45e4 + 0x1e8)
  ;
  local_10 = (undefined4 *)(DAT_005e45e4 + 8);
  local_c = (double)CONCAT44(DAT_005e45e4 + 0x4c,DAT_005e45e4 + 0x90);
  local_14 = 0x41bcf9;
  FUN_0045ecb0();
  return;
}



void FUN_0041bd00(undefined4 param_1,undefined4 param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float10 fVar4;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  fVar4 = (float10)FUN_004ae0c4();
  fVar1 = (float)fVar4;
  fVar4 = (float10)FUN_004ae014();
  fVar2 = (float)fVar4;
  fVar4 = (float10)FUN_004ae0c4();
  fVar5 = (float)fVar4;
  fVar4 = (float10)FUN_004ae014();
  *param_3 = fVar5;
  param_3[3] = 0.0;
  param_3[1] = (float)-(fVar4 * (float10)fVar2);
  param_3[2] = -((float)fVar4 * fVar1);
  param_3[4] = (float)(fVar4 * (float10)fVar2);
  param_3[7] = 0.0;
  param_3[5] = fVar1 * fVar1 + fVar2 * fVar5 * fVar2;
  fVar3 = -(fVar2 * fVar1) + fVar1 * fVar5 * fVar2;
  param_3[6] = fVar3;
  param_3[8] = (float)fVar4 * fVar1;
  param_3[9] = fVar3;
  param_3[10] = fVar2 * fVar2 + fVar5 * fVar1 * fVar1;
  param_3[0xb] = 0.0;
  param_3[0xc] = 0.0;
  param_3[0xd] = 0.0;
  param_3[0xe] = 0.0;
  param_3[0xf] = 1.0;
  return;
}



void FUN_0041be30(int param_1)

{
  uint *puVar1;
  
  puVar1 = (uint *)(*(int *)(param_1 + 4) + 0x8a);
  *puVar1 = *puVar1 & 0xffdfffff;
  FUN_004109b0(param_1);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0041be50(int param_1)

{
  uint uVar1;
  float fVar2;
  float fVar3;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  float local_14;
  undefined4 *local_10;
  float *local_c;
  float *local_8;
  
  local_8 = (float *)0x41be5d;
  AdjustStackForLargeAllocations();
  if (DAT_004d7a4c != 2) {
    local_8 = &local_14;
    local_14 = *(float *)(DAT_005e45e4 + 0x54);
    local_10 = (undefined4 *)(*(float *)(DAT_005e45e4 + 100) - 0.08);
    local_c = (float *)0x41bea0;
    FUN_0045eab0();
    _DAT_004d79d8 = -local_14;
    local_8 = (float *)&DAT_004d79d0;
    _DAT_004d79d0 = local_c;
    _DAT_004d79d4 = 0;
    local_c = (float *)0x41becb;
    FUN_0045eab0();
    _DAT_004d7a10 = *(float *)(param_1 + 0x30) - *(float *)(param_1 + 0x20) * DAT_004c71c4 * 0.5;
    _DAT_004d7a14 = *(float *)(param_1 + 0x34) - -1.28;
    _DAT_004d7a18 = *(float *)(param_1 + 0x38) - *(float *)(param_1 + 0x28) * DAT_004c71c4 * 0.5;
    _DAT_004d7a68 = 0.0;
    _DAT_004c71d4 = 0.05;
  }
  local_8 = (float *)0x0;
  fVar2 = 0.0;
  uVar1 = *(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9);
  if (((uVar1 & 1) != 0) && (local_8 = (float *)0x3c23d70a, (uVar1 & 0x40) == 0)) {
    local_8 = (float *)0x40800000;
  }
  if (((uVar1 & 2) != 0) && (local_8 = (float *)0xbc23d70a, (uVar1 & 0x40) == 0)) {
    local_8 = (float *)0xc0800000;
  }
  if ((uVar1 & 8) != 0) {
    if ((uVar1 & 0x40) == 0) {
      fVar2 = 4.0;
    }
    else {
      fVar2 = 0.01;
    }
  }
  if ((uVar1 & 4) != 0) {
    if ((uVar1 & 0x40) == 0) {
      fVar2 = -4.0;
    }
    else {
      fVar2 = -0.01;
    }
  }
  if ((uVar1 & 0x400) != 0) {
    if ((uVar1 & 0x40) == 0) {
      fVar3 = -2.0;
    }
    else {
      fVar3 = -0.01;
    }
    _DAT_004d7a14 = _DAT_004d7a14 - fVar3;
  }
  if ((uVar1 & 0x200000) != 0) {
    if ((uVar1 & 0x40) == 0) {
      fVar3 = 2.0;
    }
    else {
      fVar3 = 0.01;
    }
    _DAT_004d7a14 = _DAT_004d7a14 - fVar3;
  }
  _DAT_004d7a68 = _DAT_004c71d4 + _DAT_004d7a68;
  _DAT_004d7a10 =
       *(float *)(DAT_005e45e4 + 0x4c) * fVar2 + *(float *)(DAT_005e45e4 + 0x50) * (float)local_8 +
       _DAT_004d7a10;
  _DAT_004d7a18 =
       *(float *)(DAT_005e45e4 + 0x6c) * fVar2 + *(float *)(DAT_005e45e4 + 0x70) * (float)local_8 +
       _DAT_004d7a18;
  if ((1.0 < _DAT_004d7a68) || (_DAT_004d7a68 < -1.0)) {
    _DAT_004c71d4 = -_DAT_004c71d4;
  }
  local_8 = &local_14;
  *(float *)(DAT_005e45e4 + 0xc0) = (*(float *)(DAT_005e45e4 + 0xc0) * 9.0 - _DAT_004d7a10) * 0.1;
  *(float *)(DAT_005e45e4 + 0xc4) = (*(float *)(DAT_005e45e4 + 0xc4) * 9.0 - _DAT_004d7a14) * 0.1;
  *(float *)(DAT_005e45e4 + 200) = (*(float *)(DAT_005e45e4 + 200) * 9.0 - _DAT_004d7a18) * 0.1;
  local_14 = *(float *)(DAT_005e45e4 + 0x54);
  local_10 = (undefined4 *)(*(float *)(DAT_005e45e4 + 100) - 0.08);
  local_c = (float *)0x41c109;
  FUN_0045eab0();
  local_c = &local_14;
  local_10 = &local_20;
  local_8 = (float *)&DAT_004d79d0;
  local_14 = 6.038585e-39;
  FUN_0045eb50();
  *(undefined4 *)(DAT_005e45e4 + 0x4c) = _DAT_004d79d0;
  *(undefined4 *)(DAT_005e45e4 + 0x5c) = _DAT_004d79d4;
  *(float *)(DAT_005e45e4 + 0x6c) = _DAT_004d79d8;
  *(undefined4 *)(DAT_005e45e4 + 0x50) = local_20;
  *(undefined4 *)(DAT_005e45e4 + 0x60) = local_1c;
  *(undefined4 *)(DAT_005e45e4 + 0x70) = local_18;
  *(float *)(DAT_005e45e4 + 0x54) = local_14;
  *(undefined4 **)(DAT_005e45e4 + 100) = local_10;
  *(float **)(DAT_005e45e4 + 0x74) = local_c;
  local_8 = (float *)(DAT_005e45e4 + 0x4c);
  local_c = (float *)(DAT_005e45e4 + 0x90);
  local_10 = (undefined4 *)(DAT_005e45e4 + 8);
  local_14 = 6.038784e-39;
  FUN_0045ecb0();
  DAT_004d7a4c = 2;
  return;
}



undefined4 FUN_0041c1c0(void)

{
  int iVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  float10 fVar5;
  float10 fVar6;
  float10 fVar7;
  double dVar8;
  float fVar9;
  uint uVar10;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  uVar10 = 0;
  iVar3 = DAT_005dca10;
  if (DAT_005dca0c == 0) {
    return 0;
  }
  do {
    if (*(char *)(iVar3 + 0xf + iVar4) == '\0') {
      iVar1 = *(int *)(DAT_005e45e8 + 4);
      fVar9 = *(float *)(iVar1 + 0x3e) - *(float *)(iVar3 + 10 + iVar4);
      fVar2 = *(float *)(*(int *)(*(int *)(iVar1 + 0x86) + 0x13) + 0x88) - -2.0;
      fVar5 = (float10)FUN_004ad3c0((double)(*(float *)(iVar1 + 0x36) -
                                            *(float *)(iVar3 + 2 + iVar4)),fVar9);
      dVar8 = (double)fVar9;
      fVar6 = (float10)FUN_004ad3c0(dVar8);
      fVar7 = (float10)FUN_004ad3c0((double)(float)((ulonglong)dVar8 >> 0x20));
      iVar3 = DAT_005dca10;
      if (fVar6 < (float10)fVar2 && (fVar7 < (float10)fVar2 && fVar5 < (float10)fVar2)) {
        *(undefined *)(DAT_005dca10 + 0xf + uVar10 * 0xe) = 1;
        return 1;
      }
    }
    uVar10 = uVar10 + 1;
    iVar4 = iVar4 + 0xe;
  } while (uVar10 < DAT_005dca0c);
  return 0;
}



longlong FUN_0041c320(uint param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  uint *puVar4;
  
  uVar3 = 0;
  uVar2 = 0;
  if (param_1 == 0xffffffff) {
LAB_0041c3e4:
    return CONCAT44(uVar2,uVar3);
  }
  if (*DAT_005e45e0 == 0) {
    iVar1 = FUN_0041c4a0(param_1);
    FUN_0041c540(iVar1);
    return CONCAT44(*(undefined4 *)(iVar1 + 4),1);
  }
  puVar4 = (uint *)DAT_005e45e0[1];
  if (puVar4 != (uint *)0x0) {
    do {
      if (param_1 <= *puVar4) break;
      puVar4 = (uint *)puVar4[2];
    } while (puVar4 != (uint *)0x0);
    if (puVar4 != (uint *)0x0) {
      if (*puVar4 == param_1) {
        return (ulonglong)puVar4[1] << 0x20;
      }
      iVar1 = FUN_0041c4a0(param_1);
      if (iVar1 == 0) {
        return 0;
      }
      FUN_0041c500(iVar1,puVar4);
      uVar2 = *(undefined4 *)(iVar1 + 4);
      uVar3 = 1;
      goto LAB_0041c3e4;
    }
  }
  iVar1 = FUN_0041c4a0(param_1);
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0041c540(iVar1);
  return CONCAT44(*(undefined4 *)(iVar1 + 4),1);
}



undefined * FUN_0041c3f0(undefined4 param_1)

{
  int iVar1;
  void *_Dst;
  undefined *puVar2;
  undefined *puVar3;
  undefined local_50 [2];
  size_t local_4e;
  undefined4 uStackY_24;
  undefined *puStackY_20;
  
  AdjustStackForLargeAllocations();
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 != 0) {
    puStackY_20 = local_50;
    uStackY_24 = 0x41c42a;
    CopyDataWithLock();
    iVar1 = 0;
    puStackY_20 = (undefined *)0x41c439;
    _Dst = (void *)AllocateMemoryWithCallback();
    puStackY_20 = (undefined *)0x41c442;
    puVar2 = (undefined *)_memset(_Dst,iVar1,local_4e);
    puStackY_20 = (undefined *)0x41c453;
    SeekInResourceWithLock();
    puStackY_20 = (undefined *)((int)&param_1 + 3);
    uStackY_24 = 0x41c464;
    iVar1 = CopyDataWithLock();
    puVar3 = puVar2;
    while (iVar1 != 0) {
      param_1._3_1_ = (undefined)((uint)param_1 >> 0x18);
      puStackY_20 = (undefined *)((int)&param_1 + 3);
      *puVar3 = param_1._3_1_;
      puVar3 = puVar3 + 1;
      uStackY_24 = 0x41c47f;
      iVar1 = CopyDataWithLock();
    }
    FUN_004adcf0();
    return puVar2;
  }
  return (undefined *)0x0;
}



undefined4 * FUN_0041c4a0(undefined4 param_1)

{
  void *_Dst;
  undefined4 *puVar1;
  undefined4 uVar2;
  int _Val;
  size_t _Size;
  
  _Size = 0x10;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x10);
  puVar1 = (undefined4 *)_memset(_Dst,_Val,_Size);
  *puVar1 = param_1;
  uVar2 = FUN_0040ac00(param_1);
  puVar1[1] = uVar2;
  FUN_0048b6d0(param_1);
  return puVar1;
}



void FUN_0041c4e0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0xc;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0xc);
  _memset(_Dst,_Val,_Size);
  return;
}



void FUN_0041c500(int param_1,int param_2)

{
  *(int *)(param_1 + 8) = param_2;
  *(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(param_2 + 0xc);
  if (DAT_005e45e0[1] == param_2) {
    DAT_005e45e0[1] = param_1;
    *(int *)(param_2 + 0xc) = param_1;
    *DAT_005e45e0 = *DAT_005e45e0 + 1;
    return;
  }
  *(int *)(*(int *)(param_2 + 0xc) + 8) = param_1;
  *(int *)(param_2 + 0xc) = param_1;
  *DAT_005e45e0 = *DAT_005e45e0 + 1;
  return;
}



void FUN_0041c540(int param_1)

{
  if (*DAT_005e45e0 == 0) {
    DAT_005e45e0[1] = param_1;
    DAT_005e45e0[2] = param_1;
    *DAT_005e45e0 = *DAT_005e45e0 + 1;
    return;
  }
  *(int *)(param_1 + 0xc) = DAT_005e45e0[2];
  *(int *)(DAT_005e45e0[2] + 8) = param_1;
  DAT_005e45e0[2] = param_1;
  *DAT_005e45e0 = *DAT_005e45e0 + 1;
  return;
}



void FUN_0041c590(uint param_1)

{
  uint *puVar1;
  
  if ((*DAT_005e45e0 != 0) && (puVar1 = (uint *)DAT_005e45e0[1], puVar1 != (uint *)0x0)) {
    do {
      if (param_1 <= *puVar1) break;
      puVar1 = (uint *)puVar1[2];
    } while (puVar1 != (uint *)0x0);
    if (puVar1 != (uint *)0x0) {
      if (puVar1[3] != 0) {
        *(uint *)(puVar1[3] + 8) = puVar1[2];
      }
      if (puVar1[2] != 0) {
        *(uint *)(puVar1[2] + 0xc) = puVar1[3];
      }
      if (puVar1 == (uint *)DAT_005e45e0[1]) {
        DAT_005e45e0[1] = puVar1[2];
      }
      if (puVar1 == (uint *)DAT_005e45e0[2]) {
        DAT_005e45e0[2] = puVar1[3];
      }
      FreeMemory(puVar1);
      *DAT_005e45e0 = *DAT_005e45e0 + -1;
    }
  }
  return;
}



undefined4 FUN_0041c610(undefined4 param_1,int param_2,int param_3,int param_4,int *param_5)

{
  FUN_004ad7a0(param_1,*param_5 + param_4,param_3 * param_2);
  *param_5 = *param_5 + param_3 * param_2;
  return 1;
}



float10 FUN_0041c650(float param_1,float param_2,undefined4 *param_3,undefined4 *param_4,
                    float param_5,undefined4 *param_6)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  float *pfVar8;
  float *pfVar9;
  float *pfVar10;
  uint uVar11;
  int *piVar12;
  float10 fVar13;
  float local_68;
  float local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  float local_48;
  float local_44;
  float local_40;
  undefined4 uStack_3c;
  float local_38;
  float local_34;
  undefined4 uStack_30;
  uint local_2c;
  undefined4 uStack_28;
  uint local_24;
  float fStack_20;
  undefined4 *local_1c;
  float *local_18;
  float *local_14;
  int iVar14;
  float *pfVar15;
  
  AdjustStackForLargeAllocations();
  pfVar15 = (float *)&DAT_004d7a74;
  if (param_5 == 0.0) {
    pfVar15 = (float *)&DAT_004d7a78;
  }
  param_3[2] = 0;
  *param_3 = 0;
  param_3[1] = 0x3f800000;
  if (param_4 != (undefined4 *)0x0) {
    *param_4 = 0;
  }
  if (param_6 != (undefined4 *)0x0) {
    *param_6 = 0;
  }
  piVar12 = DAT_00598ff0;
  local_1c = (undefined4 *)
             ((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * (uint)*(ushort *)(DAT_00598ff0 + 4));
  local_14 = (float *)0x41c6d1;
  iVar5 = __ftol();
  local_14 = (float *)0x41c6de;
  local_18 = (float *)__ftol();
  if ((((param_1 < 0.0) || (uVar11 = (uint)*(ushort *)((int)piVar12 + 6), (int)uVar11 <= iVar5)) ||
      (param_2 < 0.0)) || ((int)(uint)*(ushort *)(piVar12 + 2) <= (int)local_18)) {
    return (float10)*pfVar15;
  }
  iVar5 = *(int *)(*(int *)((int)piVar12 + 10) + ((int)local_18 * uVar11 + iVar5) * 4);
  if ((iVar5 < 1) || ((int)(*(ushort *)(piVar12 + 2) * uVar11) < iVar5)) {
    param_3[2] = 0;
    *param_3 = 0;
    param_3[1] = 0x3f800000;
    return (float10)*pfVar15;
  }
  if (param_5 != 0.0) {
    if (((DAT_00598944 == 0) || (DAT_00598924 != 0)) &&
       (iVar6 = *(int *)((int)param_5 + 4), (*(byte *)(iVar6 + 0x8a) & 1) != 0)) {
      local_1c = (undefined4 *)(*piVar12 + -0x3e + iVar5 * 0x3e);
      iVar14 = 0;
      local_14 = (float *)DAT_00598d90;
      if (0 < *(int *)(*piVar12 + -0x20 + iVar5 * 0x3e)) {
        do {
          piVar12 = *(int **)(*(int *)((int)local_1c + 0x22) + iVar14 * 4);
          if (*(char *)(*(int *)((int)local_14 + 0x247) + *piVar12 * 6) == '\0') {
            local_24 = piVar12[2];
            fStack_20 = 0.0;
            if ((float)(ulonglong)local_24 < *(float *)(iVar6 + 0x36)) {
              local_2c = piVar12[4];
              uStack_28 = 0;
              if (*(float *)(iVar6 + 0x36) < (float)(ulonglong)local_2c) {
                local_34 = (float)piVar12[1];
                uStack_30 = 0;
                if ((float)(ulonglong)(uint)local_34 < *(float *)(iVar6 + 0x3e)) {
                  local_40 = (float)piVar12[3];
                  uStack_3c = 0;
                  if (*(float *)(iVar6 + 0x3e) < (float)(ulonglong)(uint)local_40) {
                    local_1c = (undefined4 *)
                               CONCAT22((short)((uint)piVar12 >> 0x10),*(undefined2 *)piVar12);
                    local_18 = (float *)0x1;
                    fStack_20 = (float)((int)local_14 + 0x245);
                    local_24 = 0x41c826;
                    FUN_00472ec0();
                    local_14 = (float *)DAT_00598d90;
                    if (DAT_00598944 != 0) {
                      local_14 = (float *)0x0;
                      local_18 = (float *)0x0;
                      local_1c = (undefined4 *)0x0;
                      fStack_20 = 0.0;
                      local_24 = 0;
                      uStack_28 = 0x10;
                      local_2c = 0x41c83e;
                      FUN_00466530();
                      local_14 = (float *)DAT_00598d90;
                    }
                  }
                }
              }
            }
          }
          iVar14 = iVar14 + 1;
        } while (iVar14 < *(int *)((int)local_1c + 0x1e));
      }
    }
    local_14 = (float *)param_5;
    *(int *)(*(int *)((int)param_5 + 4) + 0xb8) = iVar5;
    local_18 = (float *)DAT_00598ff0;
    local_1c = (undefined4 *)0x41c878;
    FUN_0045cc90();
    piVar12 = DAT_00598ff0;
  }
  local_1c = (undefined4 *)(uint)*(ushort *)(piVar12 + 4);
  uVar11 = (uint)*(ushort *)((int)piVar12 + 0xe);
  local_14 = (float *)0x41c8a3;
  iVar6 = __ftol();
  local_14 = (float *)0x41c8b3;
  iVar14 = iVar6 % (int)uVar11;
  iVar7 = __ftol();
  iVar7 = iVar7 % (int)uVar11;
  iVar6 = iVar7 * uVar11 + iVar6 % (int)uVar11;
  if ((param_5 != 0.0) && ((*(byte *)(*(int *)((int)param_5 + 4) + 0x8a) & 1) != 0)) {
    DAT_004d7a70 = *(byte *)(*(int *)(*piVar12 + -0x28 + iVar5 * 0x3e) + 0xc + iVar6 * 0xf) >> 1 & 1
    ;
  }
  iVar5 = iVar5 * 0x3e;
  iVar4 = iVar6 * 0xf;
  iVar2 = *(int *)(*piVar12 + -0x28 + iVar5);
  iVar3 = *(int *)(iVar2 + 4 + iVar4);
  if (0 < iVar3) {
    uVar11 = 0;
    param_5 = -10000.0;
    iVar5 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + -4 + iVar3 * 4) + 0x56);
    param_6 = *(undefined4 **)(iVar5 + 8);
    iVar6 = *(int *)(iVar5 + 0x3c);
    if (param_6 != (undefined4 *)0x0) {
      do {
        puVar1 = (ushort *)(*(int *)(iVar5 + 0xc) + uVar11 * 0xc);
        iVar14 = (uint)*(ushort *)(*(int *)(iVar5 + 0xc) + uVar11 * 0xc) * 0x20;
        local_38 = param_1 - *(float *)(iVar14 + iVar6);
        pfVar9 = (float *)(iVar14 + iVar6);
        pfVar10 = (float *)((uint)puVar1[1] * 0x20 + iVar6);
        local_34 = param_2 - pfVar9[2];
        pfVar8 = (float *)((uint)puVar1[2] * 0x20 + iVar6);
        local_44 = param_1 - *pfVar8;
        local_40 = param_2 - pfVar8[2];
        if ((((param_2 - pfVar10[2]) * local_38 - (param_1 - *pfVar10) * local_34 < 0.0) &&
            (local_40 * (param_1 - *pfVar10) - local_44 * (param_2 - pfVar10[2]) < 0.0)) &&
           (local_44 * local_34 - local_40 * local_38 < 0.0)) {
          local_5c = *pfVar10 - *pfVar9;
          local_58 = *(float *)((uint)puVar1[1] * 0x20 + 4 + iVar6) -
                     *(float *)((uint)*puVar1 * 0x20 + 4 + iVar6);
          local_54 = *(float *)((uint)puVar1[1] * 0x20 + 8 + iVar6) -
                     *(float *)((uint)*puVar1 * 0x20 + 8 + iVar6);
          local_50 = *(float *)((uint)puVar1[2] * 0x20 + iVar6) -
                     *(float *)((uint)*puVar1 * 0x20 + iVar6);
          local_4c = *(float *)((uint)puVar1[2] * 0x20 + 4 + iVar6) -
                     *(float *)((uint)*puVar1 * 0x20 + 4 + iVar6);
          local_14 = &local_50;
          local_48 = *(float *)((uint)puVar1[2] * 0x20 + 8 + iVar6) -
                     *(float *)((uint)*puVar1 * 0x20 + 8 + iVar6);
          local_18 = &local_5c;
          local_1c = param_3;
          fStack_20 = 6.042019e-39;
          FUN_0045eb50();
          local_14 = (float *)param_3;
          local_18 = (float *)0x41caba;
          FUN_0045eab0();
          local_68 = *(float *)((uint)*puVar1 * 0x20 + iVar6);
          local_14 = &local_68;
          local_18 = (float *)param_3;
          local_64 = *(float *)((uint)*puVar1 * 0x20 + 4 + iVar6);
          local_1c = (undefined4 *)param_2;
          local_60 = *(float *)((uint)*puVar1 * 0x20 + 8 + iVar6);
          fStack_20 = param_1;
          local_24 = 0x41cafb;
          fVar13 = (float10)FUN_0041cd40();
          uVar11 = *(uint *)(iVar5 + 8);
          param_6 = (undefined4 *)uVar11;
          if ((float10)param_5 < fVar13) {
            param_5 = (float)fVar13;
          }
        }
        uVar11 = uVar11 + 1;
      } while (uVar11 < param_6);
    }
    if (param_5 == -10000.0) {
      param_3[2] = 0;
      *param_3 = 0;
      param_3[1] = 0x3f800000;
    }
    *pfVar15 = param_5;
    return (float10)param_5;
  }
  iVar2 = *(int *)(iVar2 + iVar4);
  if (((iVar2 != 0) && (*(int *)(piVar12[7] + -4 + iVar2 * 4) == 3)) &&
     (param_4 != (undefined4 *)0x0)) {
    *param_4 = 1;
    piVar12 = DAT_00598ff0;
  }
  iVar2 = *(int *)(*(int *)(*piVar12 + -0x28 + iVar5) + iVar4);
  if (((iVar2 != 0) && (*(int *)(piVar12[7] + -4 + iVar2 * 4) == 5)) &&
     (param_6 != (undefined4 *)0x0)) {
    *param_6 = 1;
    piVar12 = DAT_00598ff0;
  }
  iVar6 = iVar6 * 2;
  iVar5 = *piVar12 + iVar5;
  if ((*(byte *)((iVar6 >> 1) * 0xf + 0xc + *(int *)(iVar5 + -0x28)) & 1) == 0) {
    uVar11 = (uint)*(ushort *)(piVar12 + 4);
    if (param_2 - (float)(((int)local_18 * (uint)*(ushort *)((int)piVar12 + 0xe) + iVar7) * uVar11)
        <= (float)uVar11 -
           (param_1 -
           (float)(((int)local_14 * (uint)*(ushort *)((int)piVar12 + 0xe) + iVar14) * uVar11)))
    goto LAB_0041cc55;
  }
  else if (param_1 - (float)(((int)local_14 * (uint)*(ushort *)((int)piVar12 + 0xe) + iVar14) *
                            (uint)*(ushort *)(piVar12 + 4)) <=
           param_2 - (float)(((int)local_18 * (uint)*(ushort *)((int)piVar12 + 0xe) + iVar7) *
                            (uint)*(ushort *)(piVar12 + 4))) goto LAB_0041cc55;
  iVar6 = iVar6 + 1;
LAB_0041cc55:
  iVar7 = *(int *)(iVar5 + -0x3e);
  iVar14 = *(int *)(iVar5 + -0x34) + iVar6 * 0xc;
  pfVar8 = (float *)((uint)*(ushort *)(*(int *)(iVar5 + -0x34) + iVar6 * 0xc) * 0x20 + iVar7);
  local_68 = *pfVar8;
  pfVar9 = (float *)((uint)*(ushort *)(iVar14 + 2) * 0x20 + iVar7);
  local_64 = pfVar8[1];
  local_60 = pfVar8[2];
  local_5c = *pfVar9 - *pfVar8;
  local_58 = pfVar9[1] - pfVar8[1];
  local_54 = pfVar9[2] - pfVar8[2];
  pfVar9 = (float *)((uint)*(ushort *)(iVar14 + 4) * 0x20 + iVar7);
  local_14 = &local_50;
  local_50 = *pfVar9 - *pfVar8;
  local_4c = pfVar9[1] - pfVar8[1];
  local_48 = pfVar9[2] - pfVar8[2];
  local_18 = &local_5c;
  local_1c = param_3;
  fStack_20 = 6.042805e-39;
  FUN_0045eb50();
  local_14 = (float *)param_3;
  local_18 = (float *)0x41cceb;
  FUN_0045eab0();
  local_14 = &local_68;
  local_18 = (float *)param_3;
  local_1c = (undefined4 *)param_2;
  fStack_20 = param_1;
  local_24 = 0x41cd00;
  fVar13 = (float10)FUN_0041cd40();
  *pfVar15 = (float)fVar13;
  return fVar13;
}



float10 FUN_0041cd40(float param_1,float param_2,float *param_3,float *param_4)

{
  return ((((float10)*param_3 * (float10)*param_4 +
           (float10)param_4[2] * (float10)param_3[2] + (float10)param_4[1] * (float10)param_3[1]) -
          (float10)*param_3 * (float10)param_1) - (float10)param_2 * (float10)param_3[2]) /
         (float10)param_3[1];
}



float10 FUN_0041cd90(float param_1,float param_2,undefined4 *param_3,undefined4 param_4,int param_5,
                    float param_6)

{
  undefined4 uVar1;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  float10 fVar2;
  float10 fVar3;
  
  uVar1 = param_6;
  AdjustStackForLargeAllocations();
  if (((param_5 != 0) && (param_5 != *(int *)(DAT_005df318 + 4))) && (DAT_00598944 == 0)) {
    fVar2 = (float10)FUN_0041c650(param_1,param_2,param_3,param_4,param_5,param_6);
    return fVar2;
  }
  fVar2 = (float10)FUN_0041c650(param_1 - -0.64,param_2,param_3,param_4,param_5,param_6);
  fVar3 = (float10)FUN_0041c650(param_1 - 0.64,param_2 - -0.64,&stack0xfffffff0,param_4,param_5,
                                param_6);
  param_6 = (float)fVar2;
  if ((float10)(float)fVar2 < fVar3) {
    *param_3 = unaff_EDI;
    param_3[1] = unaff_ESI;
    param_3[2] = unaff_EBX;
    param_6 = (float)fVar3;
  }
  fVar2 = (float10)FUN_0041c650(param_1 - 0.64,param_2 - 0.64,&stack0xfffffff0,param_4,param_5,uVar1
                               );
  if (fVar2 <= (float10)param_6) {
    return (float10)param_6;
  }
  *param_3 = unaff_EDI;
  param_3[1] = unaff_ESI;
  param_3[2] = unaff_EBX;
  return (float10)(float)fVar2;
}



int FUN_0041ceb0(float *param_1,float *param_2,float param_3,float *param_4,int param_5,
                undefined4 param_6,undefined4 param_7,float param_8,float param_9,
                undefined4 param_10)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  float *pfVar8;
  int iVar9;
  float10 fVar10;
  float local_20;
  float local_1c;
  double local_18;
  
  pfVar8 = param_2;
  AdjustStackForLargeAllocations();
  local_18 = (double)((param_1[2] - param_2[2]) * (param_1[2] - param_2[2]) +
                     (param_1[1] - param_2[1]) * (param_1[1] - param_2[1]) +
                     (*param_1 - *param_2) * (*param_1 - *param_2));
  local_1c = 6.04357e-39;
  fVar10 = (float10)FUN_004ad534();
  if ((float10)(param_3 * 1.98) <= fVar10) {
    param_2 = (float *)((float)fVar10 / (param_3 * 1.98));
    if (0.0 < (float)param_2) {
      do {
        param_2 = (float *)((float)param_2 - 1.0);
        local_18 = (double)CONCAT44(1,param_10);
        local_1c = param_9;
        local_20 = param_8;
        iVar9 = FUN_0041d230(&local_20,pfVar8,param_3,param_4,param_5,param_6);
        if (iVar9 != 0) {
          *param_1 = local_20;
          param_1[1] = local_1c;
          param_1[2] = local_18._0_4_;
          iVar7 = *(int *)(param_5 + 4);
          fVar1 = param_4[1];
          fVar2 = param_4[2];
          fVar3 = *param_4;
          fVar4 = *(float *)(iVar7 + 0xd3);
          fVar5 = *(float *)(iVar7 + 0xd7);
          fVar6 = *(float *)(iVar7 + 0xdb);
          *pfVar8 = local_20;
          pfVar8[1] = local_1c;
          pfVar8[2] = local_18._0_4_;
          if (0.001 < fVar6 * fVar6 +
                      fVar5 * fVar5 + fVar4 * fVar4 + fVar3 * fVar3 + fVar2 * fVar2 + fVar1 * fVar1)
          {
            *param_1 = *(float *)(*(int *)(param_5 + 4) + 0xd3) + *param_4 + *param_1;
            param_1[1] = *(float *)(*(int *)(param_5 + 4) + 0xd7) + param_4[1] + param_1[1];
            param_1[2] = *(float *)(*(int *)(param_5 + 4) + 0xdb) + param_4[2] + param_1[2];
          }
          return iVar9;
        }
      } while (0.0 < (float)param_2);
      return 0;
    }
  }
  else {
    local_18 = (double)CONCAT44(1,param_10);
    local_1c = param_9;
    local_20 = param_8;
    iVar9 = FUN_0041d230(param_1,param_2,param_3,param_4,param_5,param_6);
    if (iVar9 != 0) {
      fVar1 = param_4[1];
      fVar2 = param_4[2];
      fVar3 = *param_4;
      iVar7 = *(int *)(param_5 + 4);
      fVar4 = *(float *)(iVar7 + 0xd3);
      fVar5 = *(float *)(iVar7 + 0xd7);
      fVar6 = *(float *)(iVar7 + 0xdb);
      *param_2 = *param_1;
      param_2[1] = param_1[1];
      param_2[2] = param_1[2];
      if (0.001 < fVar6 * fVar6 +
                  fVar5 * fVar5 + fVar4 * fVar4 + fVar3 * fVar3 + fVar2 * fVar2 + fVar1 * fVar1) {
        *param_1 = *(float *)(*(int *)(param_5 + 4) + 0xd3) + *param_4 + *param_1;
        param_1[1] = *(float *)(*(int *)(param_5 + 4) + 0xd7) + param_4[1] + param_1[1];
        param_1[2] = *(float *)(*(int *)(param_5 + 4) + 0xdb) + param_4[2] + param_1[2];
      }
      return iVar9;
    }
  }
  return 0;
}



undefined4 *
FUN_0041d230(float *param_1,float *param_2,uint *param_3,undefined4 param_4,uint *param_5,
            undefined4 *param_6,undefined4 *param_7,undefined4 *param_8,uint **param_9,
            uint *param_10)

{
  ushort *puVar1;
  float fVar2;
  ushort uVar3;
  char *pcVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  bool bVar7;
  uint *puVar8;
  uint *puVar9;
  int iVar10;
  int iVar11;
  undefined *puVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  uint uVar16;
  uint *puVar17;
  undefined4 *puVar18;
  char *pcVar19;
  undefined4 local_380 [120];
  uint local_1a0 [40];
  uint local_100 [43];
  undefined4 local_54;
  float local_50;
  undefined4 local_4c;
  undefined4 local_48;
  float local_44;
  undefined4 local_40;
  uint *local_3c;
  undefined4 *local_38;
  float *local_34;
  float *local_30;
  uint *local_2c;
  undefined4 *local_28;
  float local_24;
  uint *local_20;
  undefined4 *puVar20;
  undefined4 *puVar21;
  int iVar22;
  
  puVar8 = param_5;
  AdjustStackForLargeAllocations();
  local_30 = (float *)0xc7c34f80;
  local_24 = 0.0;
  iVar22 = 0;
  local_28 = (undefined4 *)0x0;
  local_2c = (uint *)0x0;
  local_20 = (uint *)0x41d261;
  _memset(param_8,0,0xc);
  __ftol();
  local_38 = (undefined4 *)__ftol();
  __ftol();
  iVar10 = __ftol();
  iVar10 = iVar10 + 1;
  __ftol();
  iVar11 = __ftol();
  puVar21 = (undefined4 *)0x0;
  iVar11 = iVar11 + 1;
  iVar13 = iVar11;
  local_20 = (uint *)__ftol();
  puVar12 = (undefined *)__ftol();
  if ((int)puVar12 < iVar10) {
    do {
      bVar7 = (int)local_38 < iVar11;
      pcVar19 = (char *)local_38;
      iVar11 = iVar13;
      if (bVar7) {
        do {
          local_20 = (uint *)0x41d323;
          iVar11 = DAT_00598ff0;
          puVar18 = (undefined4 *)pcVar19;
          iVar13 = FUN_0045cad0();
          if ((iVar13 != 0) && (uVar15 = (uint)*(ushort *)(iVar13 + 10), uVar15 != 0)) {
            local_20 = local_100 + (int)puVar21;
            local_3c = local_1a0 + iVar22;
            pcVar19 = (char *)puVar18;
            do {
              uVar3 = *(ushort *)((DAT_00598d90[0x8d] - 10) + uVar15 * 10);
              uVar16 = (uint)uVar3;
              if ((uVar3 & 0x8000) == 0) {
                iVar13 = *(int *)(DAT_00598d90[0x8c] + uVar16 * 4);
                uVar3 = *(ushort *)(iVar13 + 0xa1);
                if (((((uVar3 & 0x10) == 0) &&
                     (*(float *)(iVar13 + 0x81) < (float)param_3 + param_1[2])) &&
                    (param_1[2] - (float)param_3 < *(float *)(iVar13 + 0x8d))) &&
                   ((*(float *)(iVar13 + 0x79) < *param_1 + (float)param_3 &&
                    (*param_1 - (float)param_3 < *(float *)(iVar13 + 0x85))))) {
                  fVar2 = param_1[1];
                  if ((*(float *)(iVar13 + 0x7d) < (float)param_3 + fVar2) &&
                     (((pcVar4 = *(char **)(iVar13 + 0x9d), pcVar4 == (char *)0x0 ||
                       (((pcVar4[1] & 4U) == 0 &&
                        ((pcVar4 == (char *)0x0 ||
                         ((*pcVar4 != '\x04' &&
                          ((pcVar4 == (char *)0x0 ||
                           ((*pcVar4 != '\x06' && ((pcVar4 == (char *)0x0 || (*pcVar4 != '\x02')))))
                           ))))))))) && (iVar22 < 0x28)))) {
                    iVar14 = 0;
                    if (0 < iVar22) {
                      puVar17 = local_1a0;
                      do {
                        if (*puVar17 == uVar16) break;
                        iVar14 = iVar14 + 1;
                        puVar17 = puVar17 + 1;
                      } while (iVar14 < iVar22);
                    }
                    if (iVar14 == iVar22) {
                      iVar22 = iVar22 + 1;
                      *local_3c = uVar16;
                      local_3c = local_3c + 1;
                    }
                  }
                  if ((*(float *)(iVar13 + 0x7d) < (float)param_3 + fVar2) &&
                     (param_1[1] - (float)param_3 < *(float *)(iVar13 + 0x89))) {
                    if ((int)puVar21 < 0x28) {
                      puVar21 = (undefined4 *)((int)puVar21 + 1);
                      *local_20 = uVar16;
                      local_20 = local_20 + 1;
                      *(ushort *)(iVar13 + 0xa1) = uVar3 | 0x10;
                    }
                    else {
                      pcVar19 = s_MAX_COLLIDE_FOR_PLAYER_004c7244;
                      puVar12 = &DAT_005ba520;
                      iVar11 = 0x41d4c1;
                      FID_conflict___mbscpy(&DAT_005ba520,s_MAX_COLLIDE_FOR_PLAYER_004c7244);
                    }
                  }
                }
              }
              uVar15 = (uint)*(ushort *)((DAT_00598d90[0x8d] - 8) + uVar15 * 10);
            } while (uVar15 != 0);
          }
          pcVar19 = (char *)((int)pcVar19 + 1);
        } while ((int)pcVar19 < iVar11);
      }
      puVar12 = puVar12 + 1;
      iVar13 = iVar11;
    } while ((int)puVar12 < iVar10);
  }
  if (0 < (int)puVar21) {
    puVar17 = local_100;
    puVar18 = puVar21;
    do {
      uVar15 = *puVar17;
      puVar17 = puVar17 + 1;
      puVar1 = (ushort *)(*(int *)(DAT_00598d90[0x8c] + uVar15 * 4) + 0xa1);
      *puVar1 = *puVar1 & 0xffef;
      puVar18 = (undefined4 *)((int)puVar18 + -1);
    } while (puVar18 != (undefined4 *)0x0);
  }
  DAT_005e45dc = 0;
  iVar13 = 0;
  do {
    puVar18 = puVar21;
    if (0 < (int)puVar21) {
      param_5 = local_380 + (int)local_24 * 3;
      puVar17 = local_100;
      do {
        puVar20 = *(undefined4 **)(DAT_00598d90[0x8c] + *puVar17 * 4);
        if ((iVar13 == 0) && (puVar9 = param_3, *(int *)((int)puVar20 + 0x5b) == 0)) {
LAB_0041d5b6:
          local_2c = puVar9;
          iVar13 = 0;
          local_20 = puVar8;
          local_28 = &local_48;
          local_24 = 0.0;
          local_30 = param_2;
          local_34 = param_1;
          local_40 = 0;
          local_44 = 0.0;
          local_48 = 0;
          local_3c = (uint *)0x41d5ee;
          local_38 = puVar20;
          puVar21 = param_7;
          puVar17 = param_10;
          local_20 = (uint *)FUN_0041e9a0();
          uVar6 = local_40;
          fVar2 = local_44;
          uVar5 = local_48;
          if (local_20 != (uint *)0x0) {
            *param_5 = local_48;
            param_5[1] = (uint)fVar2;
            param_5[2] = uVar6;
            local_24 = (float)((int)local_24 + 1);
            param_5 = param_5 + 3;
            if (((*(byte *)((int)puVar20 + 0xa1) & 2) == 0) &&
               ((((puVar8 == (uint *)0x0 || ((*(byte *)(puVar8[1] + 0x8a) & 2) == 0)) ||
                 (*(int *)((int)puVar20 + 0x9d) == 0)) ||
                (*(int *)(*(int *)((int)puVar20 + 0x9d) + 0xf) != 0x105)))) {
LAB_0041d8ad:
              if (((*(byte *)(puVar8[1] + 0x8a) & 1) == 0) ||
                 ((DAT_00598944 != 0 && (DAT_00598924 == 0)))) goto LAB_0041d6fe;
            }
            else {
              local_54 = uVar5;
              local_50 = fVar2;
              local_4c = uVar6;
              if ((float)param_8[1] < local_44) {
                *param_8 = uVar5;
                param_8[1] = fVar2;
                param_8[2] = uVar6;
              }
              local_2c = local_20;
              local_28 = puVar20;
              if (local_44 <= 0.8) goto LAB_0041d8ad;
              if ((*(byte *)(puVar8[1] + 0x8a) & 1) == 0) goto LAB_0041d6fe;
              if (DAT_00598944 == 0) {
                local_20 = puVar8;
                local_24 = 6.046402e-39;
                FUN_00472bb0();
              }
              else {
                if (DAT_00598924 == 0) goto LAB_0041d6fe;
                local_20 = puVar8;
                local_24 = 6.04636e-39;
                FUN_00472bb0();
              }
            }
            iVar13 = 1;
            local_20 = puVar8;
            local_24 = 6.046428e-39;
            puVar17 = DAT_00598d90;
            FUN_00472bb0();
            puVar21 = puVar20;
          }
        }
        else if ((iVar13 == 1) && (*(int *)((int)puVar20 + 0x5b) != 0)) {
          puVar9 = (uint *)((float)param_3 / *(float *)((int)puVar20 + 0x95));
          goto LAB_0041d5b6;
        }
LAB_0041d6fe:
        puVar17 = puVar17 + 1;
        puVar21 = (undefined4 *)((int)puVar21 + -1);
      } while (puVar21 != (undefined4 *)0x0);
    }
    iVar13 = iVar13 + 1;
    puVar21 = puVar18;
    if (1 < iVar13) {
      if (local_2c != (uint *)0x0) {
        *param_6 = local_54;
        param_6[1] = local_50;
        param_6[2] = local_4c;
        if (DAT_005e45dc == 0) {
          FUN_0045eab0();
          local_20 = (uint *)0x41d79a;
          FUN_00423dd0();
          local_20 = (uint *)0x41d7ad;
          FUN_00423dd0();
        }
        else {
          iVar13 = (int)local_24;
          if (0 < (int)local_24) {
            do {
              local_20 = (uint *)0x41d764;
              FUN_00423dd0();
              local_20 = (uint *)0x41d778;
              FUN_00423dd0();
              iVar13 = iVar13 + -1;
            } while (iVar13 != 0);
          }
        }
        *param_9 = local_2c;
        if (0.8 < (float)param_6[1]) {
          *(undefined4 **)(puVar8[1] + 0xb0) = local_28;
          *(float *)(puVar8[1] + 0x19d) = param_1[1] - (float)param_3;
        }
      }
      if ((*(int *)(puVar8[1] + 0xb0) == 0) && (0 < iVar22)) {
        param_3 = local_1a0;
        param_8 = (undefined4 *)iVar22;
        do {
          uVar5 = *(undefined4 *)(DAT_00598d90[0x8c] + *param_3 * 4);
          uVar6 = *(undefined4 *)(puVar8[1] + 0xb0);
          *(undefined4 *)(puVar8[1] + 0xb0) = uVar5;
          local_20 = (uint *)param_1[2];
          local_24 = param_1[1];
          local_28 = (undefined4 *)*param_1;
          local_2c = (uint *)0x41d853;
          iVar13 = FUN_0048a940();
          if ((iVar13 == 0) || ((float)local_34 <= (float)local_30)) {
            *(undefined4 *)(puVar8[1] + 0xb0) = uVar6;
          }
          else {
            *(undefined4 *)(puVar8[1] + 0xb0) = uVar5;
            local_30 = local_34;
            *(float **)(puVar8[1] + 0x19d) = local_34;
          }
          param_3 = param_3 + 1;
          param_8 = (undefined4 *)((int)param_8 + -1);
        } while (param_8 != (undefined4 *)0x0);
      }
      return local_28;
    }
  } while( true );
}



undefined4 FUN_0041d8f0(undefined4 ****param_1,undefined *****param_2)

{
  float fVar1;
  float fVar2;
  undefined4 **ppuVar3;
  undefined4 **ppuVar4;
  undefined4 ***pppuVar5;
  uint uVar6;
  float fVar7;
  undefined4 ****ppppuVar8;
  int iVar9;
  undefined *****pppppuVar10;
  float unaff_ESI;
  float *pfVar11;
  float unaff_EDI;
  float *pfVar12;
  undefined ****ppppuVar13;
  float10 fVar14;
  float local_e0 [4];
  float local_d0;
  float local_cc;
  float local_c8;
  float local_c0;
  float local_bc;
  float local_b8;
  undefined ***local_a0;
  undefined local_9c [4];
  undefined *****local_98;
  undefined ****local_90;
  undefined ****local_8c;
  float local_88;
  float local_84;
  undefined ***local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 ***local_74 [2];
  float local_6c;
  float local_68;
  undefined4 **local_64;
  undefined4 **local_60;
  undefined4 **local_5c;
  undefined8 local_58;
  undefined4 ***local_50;
  float local_4c;
  float local_48;
  int local_44;
  int local_40;
  undefined4 local_3c;
  undefined *****local_38;
  undefined4 *******local_34;
  undefined4 **local_30;
  undefined4 ***local_2c;
  undefined4 ****local_28;
  undefined *****local_24;
  undefined4 ****local_20;
  undefined *****pppppuVar15;
  undefined *puVar16;
  double dVar17;
  undefined ****ppppuVar18;
  undefined4 ****ppppuVar19;
  int iVar20;
  
  ppppuVar8 = param_1;
  AdjustStackForLargeAllocations();
  pppuVar5 = param_1[1];
  local_28 = (undefined4 ****)0x0;
  local_38 = (undefined *****)0xc479c000;
  param_1 = *(undefined4 *****)((int)pppuVar5 + 0x1a5);
  local_40 = 0;
  if (((((pppuVar5[0x26][4] != (undefined4 *)0x4) && (pppuVar5[0x26][4] != (undefined4 *)0x5)) &&
       ((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) != 6 ||
        (*(char *)(pppuVar5 + 1) != '\x03')))) &&
      ((*(int *)(iVar9 + 0x7b) != 8 ||
       ((*(char *)(pppuVar5 + 1) != '\x05' && (*(char *)(pppuVar5 + 1) != '\x06')))))) &&
     (((*(uint *)((int)pppuVar5 + 0x8a) & 0x100000) == 0 && (1.28 < (float)param_1)))) {
    *(undefined4 *)((int)pppuVar5 + 0x1a5) = 0x3fa3d70a;
    param_1 = (undefined4 ****)0x3fa3d70a;
  }
  pppuVar5 = ppppuVar8[1];
  local_34 = (undefined4 *******)pppuVar5[0x2f];
  local_30 = pppuVar5[0x30];
  local_2c = (undefined4 ***)pppuVar5[0x31];
  iVar9 = *(int *)((int)pppuVar5 + 0x18b);
  if (iVar9 != 0) {
    iVar20 = *(int *)(iVar9 + 0x5b);
    local_58 = (double)CONCAT44(iVar20,(undefined4)local_58);
    if (iVar20 != 0) {
      local_34 = (undefined4 *******)((float)local_34 - *(float *)(iVar20 + 0x6f));
      local_b8 = 1.0 / (*(float *)(iVar9 + 0x95) * *(float *)(iVar9 + 0x95));
      local_30 = (undefined4 **)((float)local_30 - *(float *)(iVar20 + 0x73));
      local_2c = (undefined4 ***)((float)local_2c - *(float *)(iVar20 + 0x77));
      pfVar11 = (float *)&DAT_004d1ae0;
      pfVar12 = local_e0;
      for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
        *pfVar12 = *pfVar11;
        pfVar11 = pfVar11 + 1;
        pfVar12 = pfVar12 + 1;
      }
      local_e0[0] = *(float *)(iVar20 + 0x3f) * local_b8;
      local_d0 = *(float *)(iVar20 + 0x43) * local_b8;
      local_c0 = *(float *)(iVar20 + 0x47) * local_b8;
      local_e0[1] = *(float *)(iVar20 + 0x4f) * local_b8;
      local_cc = *(float *)(iVar20 + 0x53) * local_b8;
      local_bc = *(float *)(iVar20 + 0x57) * local_b8;
      local_e0[2] = *(float *)(iVar20 + 0x5f) * local_b8;
      local_c8 = *(float *)(iVar20 + 99) * local_b8;
      local_b8 = *(float *)(iVar20 + 0x67) * local_b8;
      local_20 = (undefined4 ****)0x41da82;
      FUN_0045f6b0();
      local_20 = (undefined4 ****)0x41da9f;
      FUN_0045f6b0();
    }
  }
  pppuVar5 = ppppuVar8[1];
  local_20 = *(undefined4 *****)((int)pppuVar5 + 0x36);
  *(uint *)((int)pppuVar5 + 0x8a) = *(uint *)((int)pppuVar5 + 0x8a) & 0xffffff7f;
  *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffffbf;
  DAT_004d7a6c = 0;
  fVar14 = (float10)FUN_004ad3c0();
  pppuVar5 = ppppuVar8[1];
  if ((float10)0.25 <= fVar14 || *(int *)((int)pppuVar5 + 0xd3) == 0) {
    *(float *)((int)pppuVar5 + 0xd3) = *(float *)((int)pppuVar5 + 0xd3) * 0.5;
  }
  else {
    *(undefined4 *)((int)pppuVar5 + 0xd3) = 0;
  }
  fVar14 = (float10)FUN_004ad3c0();
  pppuVar5 = ppppuVar8[1];
  if ((float10)0.25 <= fVar14 || *(int *)((int)pppuVar5 + 0xd7) == 0) {
    *(float *)((int)pppuVar5 + 0xd7) = *(float *)((int)pppuVar5 + 0xd7) * 0.5;
  }
  else {
    *(undefined4 *)((int)pppuVar5 + 0xd7) = 0;
  }
  local_24 = SUB84((double)*(float *)((int)ppppuVar8[1] + 0xdb),0);
  fVar14 = (float10)FUN_004ad3c0();
  pppuVar5 = ppppuVar8[1];
  if ((float10)0.25 <= fVar14 || *(int *)((int)pppuVar5 + 0xdb) == 0) {
    *(float *)((int)pppuVar5 + 0xdb) = *(float *)((int)pppuVar5 + 0xdb) * 0.5;
  }
  else {
    *(undefined4 *)((int)pppuVar5 + 0xdb) = 0;
  }
  pppppuVar10 = (undefined *****)&local_28;
  dVar17 = (double)CONCAT44(&local_3c,ppppuVar8);
  local_28 = local_20;
  local_3c = 0;
  local_2c = (undefined4 ***)0x41dc0b;
  local_20 = &local_50;
  fVar14 = (float10)FUN_0041cd90();
  pppuVar5 = ppppuVar8[1];
  local_24 = (undefined *****)(float)fVar14;
  *(undefined4 ****)((int)pppuVar5 + 0xe7) = local_50;
  *(float *)((int)pppuVar5 + 0xeb) = local_4c;
  *(float *)((int)pppuVar5 + 0xef) = local_48;
  *(undefined ******)((int)ppppuVar8[1] + 0xe3) = local_24;
  if ((float)pppppuVar10 - (float)param_1 < (float)local_24) {
    pppuVar5 = ppppuVar8[1];
    iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13);
    if ((*(int *)(iVar9 + 0x7b) == 8) ||
       ((*(int *)(iVar9 + 0x114) == 6 && (*(char *)(pppuVar5 + 1) == '\x03')))) {
      *(undefined4 *)((int)pppuVar5 + 0xdf) = 0;
      ppppuVar8[1][0x27] = (undefined4 **)0x0;
      dVar17 = (double)CONCAT44(ppppuVar8,0x41dc7d);
      FUN_004109b0();
    }
  }
  *(undefined ******)((int)ppppuVar8[1] + 0x19d) = local_24;
  if ((float)pppppuVar10 - (float)param_1 < (float)local_24) {
    *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffdfff;
    if (local_28 != (undefined4 ****)0x0) {
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) | 0x2000;
    }
    local_40 = 1;
    if ((float)local_24 - ((float)pppppuVar10 - (float)param_1) < 1.0) {
LAB_0041e984:
      pppppuVar10 = (undefined *****)((float)param_1 + (float)local_24);
    }
    else {
      pppuVar5 = ppppuVar8[1];
      if ((((pppuVar5[0x26][4] == (undefined4 *)0x4) || (pppuVar5[0x26][4] == (undefined4 *)0x5)) ||
          ((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
           (*(char *)(pppuVar5 + 1) == '\x03')))) ||
         (((*(int *)(iVar9 + 0x7b) == 8 &&
           ((*(char *)(pppuVar5 + 1) == '\x05' || (*(char *)(pppuVar5 + 1) == '\x06')))) ||
          (((*(uint *)((int)pppuVar5 + 0x8a) & 0x100000) != 0 ||
           ((float)local_24 < (float)local_30 - (float)param_1)))))) goto LAB_0041e984;
      local_28 = (undefined4 ****)pppuVar5[0x2f];
      local_24 = (undefined *****)pppuVar5[0x31];
      pppppuVar10 = (undefined *****)&local_28;
      dVar17 = (double)CONCAT44(&local_3c,ppppuVar8);
      local_20 = &local_8c;
      local_2c = (undefined4 ***)0x41dd9b;
      fVar14 = (float10)FUN_0041cd90();
      if ((float10)(float)pppppuVar10 - (float10)(float)param_1 < fVar14) {
        pppppuVar10 = (undefined *****)(float)((float10)(float)param_1 + fVar14);
      }
    }
    pppuVar5 = ppppuVar8[1];
    local_60 = (undefined4 **)(*(float *)((int)pppuVar5 + 0xd7) + (float)pppuVar5[0x2a]);
    fVar1 = *(float *)((int)pppuVar5 + 0xdb);
    fVar2 = *(float *)((int)pppuVar5 + 0xd3);
    ppuVar3 = pppuVar5[0x29];
    ppuVar4 = pppuVar5[0x2b];
    *(uint *)((int)pppuVar5 + 0x8a) = *(uint *)((int)pppuVar5 + 0x8a) | 0x80;
    *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xfbffffff;
    fVar1 = (float)local_60 * local_4c +
            (fVar1 + (float)ppuVar4) * local_48 + (fVar2 + (float)ppuVar3) * (float)local_50;
    *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffff7fff;
    ppppuVar8[1][0x29] = (undefined4 **)((float)ppppuVar8[1][0x29] - fVar1 * (float)local_50);
    ppppuVar8[1][0x2a] = (undefined4 **)((float)ppppuVar8[1][0x2a] - fVar1 * local_4c);
    ppppuVar8[1][0x2b] = (undefined4 **)((float)ppppuVar8[1][0x2b] - fVar1 * local_48);
    pppuVar5 = ppppuVar8[1];
    if ((((*(byte *)((int)pppuVar5 + 0x8a) & 8) == 0) && (pppuVar5[0x26][4] != (undefined4 *)0x4))
       && ((float)local_60 < -0.75)) {
      pppppuVar10 = (undefined *****)((int)pppuVar5 + 6);
      dVar17 = 1.976262583364986e-323;
      local_20 = (undefined4 ****)&DAT_005e4897;
      local_24 = (undefined *****)0x41deaf;
      FUN_00475d60();
    }
    if ((((*(byte *)((int)ppppuVar8[1] + 0x8e) & 0x20) == 0) &&
        (uVar6 = *(uint *)((int)ppppuVar8[1] + 0x8a), (uVar6 & 8) == 0)) &&
       (((float)local_60 < -2.5 && (((uVar6 & 0x10) == 0 && ((uVar6 & 0x10000000) == 0)))))) {
      dVar17 = (double)CONCAT44(fVar1 * local_4c * 0.75,0x41defb);
      fVar14 = (float10)FUN_0045ec60();
      if ((float10)2.5 < fVar14) {
        FUN_00443000();
        iVar9 = __ftol();
        dVar17 = (double)CONCAT44(iVar9 * 5,*(undefined4 *)((int)ppppuVar8[1] + 0x86));
        pppppuVar10 = (undefined *****)0x0;
        local_20 = ppppuVar8;
        local_24 = (undefined *****)0x41df35;
        FUN_004412c0();
      }
    }
    uVar6 = *(uint *)((int)ppppuVar8[1] + 0x8a);
    if ((uVar6 & 0x10000000) != 0) {
      *(uint *)((int)ppppuVar8[1] + 0x8a) = uVar6 & 0xefffffff;
    }
  }
  local_24 = pppppuVar10;
  pppuVar5 = ppppuVar8[1];
  iVar20 = 0;
  local_44 = 0;
  local_64 = pppuVar5[0x29];
  local_60 = pppuVar5[0x2a];
  local_5c = pppuVar5[0x2b];
  *param_2 = (undefined ****)0xc61c4000;
  iVar9 = 0;
  local_58 = (double)((ulonglong)local_58 & 0xffffffff);
  ppppuVar8[1][0x2c] = (undefined4 **)0x0;
  local_6c = unaff_EDI;
  pppppuVar10 = local_24;
  if (((DAT_004d03fc != 0) ||
      (((*(byte *)((int)ppppuVar8[1] + 0x8a) & 2) != 0 && (DAT_00598d6c != 0)))) &&
     ((*(byte *)((int)ppppuVar8[1] + 0x8e) & 0x20) == 0)) {
    pppppuVar10 = (undefined *****)&stack0xffffffec;
    puVar16 = (undefined *)0x0;
    ppppuVar13 = (undefined ****)0xc;
    local_20 = (undefined4 ****)0x41dfd2;
    _memset(pppppuVar10,0,0xc);
    local_74[0] = (undefined4 ***)0x0;
    local_68 = unaff_ESI;
    do {
      if (local_74[0] != (undefined4 ***)0x0) break;
      ppppuVar18 = &local_a0;
      puVar16 = local_9c;
      local_20 = local_74;
      local_24 = (undefined *****)&stack0xffffffec;
      local_2c = ppppuVar8[1] + 0x29;
      local_28 = ppppuVar8;
      local_34 = &local_34;
      local_30 = param_1;
      local_38 = (undefined *****)&local_20;
      local_3c = 0x41e028;
      pppppuVar10 = param_2;
      iVar9 = FUN_0041ceb0();
      if (iVar9 == 0) break;
      iVar20 = iVar20 + 1;
      if ((float)local_38 < (float)local_98) {
        local_38 = local_98;
      }
      pppppuVar10 = (undefined *****)&stack0xffffffec;
      puVar16 = (undefined *)0x0;
      local_20 = (undefined4 ****)0x41e06d;
      local_6c = unaff_EDI;
      local_68 = unaff_ESI;
      _memset(pppppuVar10,0,0xc);
      if (0.8 < local_6c) {
        local_58 = (double)CONCAT44(iVar9,(undefined4)local_58);
        *(int *)((int)ppppuVar8[1] + 0x18b) = iVar9;
        local_88 = local_6c;
        local_84 = local_68;
        local_8c = ppppuVar18;
      }
      ppppuVar13 = ppppuVar18;
      local_44 = iVar9;
    } while (iVar20 < 4);
    dVar17 = (double)CONCAT44(ppppuVar13,puVar16);
    iVar9 = local_58._4_4_;
    unaff_ESI = local_68;
  }
  *(int *)((int)ppppuVar8[1] + 0x18b) = iVar9;
  if (iVar9 != 0) {
    dVar17 = (double)CONCAT44(local_8c,SUB84(dVar17,0));
    local_6c = local_88;
    unaff_ESI = local_84;
  }
  if ((3 < iVar20) || (((float)pppppuVar10 < (float)local_24 - 0.1 && (local_40 != 0)))) {
    pppuVar5 = ppppuVar8[1];
    local_20 = (undefined4 ****)pppuVar5[0x2f];
    pppppuVar10 = (undefined *****)pppuVar5[0x30];
    dVar17 = (double)CONCAT44((undefined ****)((ulonglong)dVar17 >> 0x20),pppuVar5[0x31]);
    if (0.0 < (float)pppuVar5[0x2a]) {
      pppuVar5[0x2a] = (undefined4 **)0x0;
    }
  }
  ppppuVar19 = local_20;
  pppuVar5 = ppppuVar8[1];
  pppppuVar15 = pppppuVar10;
  if ((((((pppuVar5[0x26][4] == (undefined4 *)0x4) || (pppuVar5[0x26][4] == (undefined4 *)0x5)) ||
        ((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
         (*(char *)(pppuVar5 + 1) == '\x03')))) ||
       ((*(int *)(iVar9 + 0x7b) == 8 &&
        ((*(char *)(pppuVar5 + 1) == '\x05' || (*(char *)(pppuVar5 + 1) == '\x06')))))) ||
      (local_20 = ppppuVar19, (*(uint *)((int)pppuVar5 + 0x8a) & 0x100000) != 0)) &&
     (local_20 = ppppuVar19, (float)param_1 == 1.28)) {
    local_68 = SUB84(dVar17,0);
    param_1 = (undefined4 ****)0x40000000;
    local_28 = local_20;
    local_2c = (undefined4 ***)0x41e1ca;
    local_24 = (undefined *****)local_68;
    local_20 = &local_50;
    FUN_0041cd90();
    pppppuVar15 = &local_90;
    dVar17 = 0.0;
    local_24 = (undefined *****)&local_20;
    local_20 = (undefined4 ****)0x40000000;
    local_28 = (undefined4 ****)0x41e205;
    iVar9 = FUN_00421e00();
    if (iVar9 == 0) {
      *(undefined4 *)((int)ppppuVar8[1] + 0x1a5) = 0x40000000;
    }
    else {
      param_1 = (undefined4 ****)0x3fa3d70a;
      dVar17 = (double)CONCAT44((undefined ****)((ulonglong)dVar17 >> 0x20),local_68);
      local_20 = ppppuVar19;
      pppppuVar15 = pppppuVar10;
    }
  }
  if (local_44 != 0) {
    pppuVar5 = ppppuVar8[1];
    if ((((((pppuVar5[0x26][4] == (undefined4 *)0x4) || (pppuVar5[0x26][4] == (undefined4 *)0x5)) ||
          ((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
           (*(char *)(pppuVar5 + 1) == '\x03')))) ||
         ((*(int *)(iVar9 + 0x7b) == 8 &&
          ((*(char *)(pppuVar5 + 1) == '\x05' || (*(char *)(pppuVar5 + 1) == '\x06')))))) ||
        ((*(uint *)((int)pppuVar5 + 0x8a) & 0x100000) != 0)) &&
       ((*(char *)(pppuVar5 + 1) != '\x03' && (-0.01 < local_6c)))) {
      fVar14 = (float10)FUN_004ad3c0();
      local_58 = (double)fVar14;
      fVar14 = (float10)FUN_004ad3c0();
      local_58 = (double)(fVar14 + (float10)local_58);
      dVar17 = (double)*(float *)((int)ppppuVar8[1] + 0xd3);
      pppppuVar15 = (undefined *****)0x41e2ec;
      fVar14 = (float10)FUN_004ad3c0();
      if (fVar14 + (float10)local_58 < (float10)2.0) {
        *(float *)((int)ppppuVar8[1] + 0xd3) =
             (float)(undefined ****)((ulonglong)dVar17 >> 0x20) +
             *(float *)((int)ppppuVar8[1] + 0xd3);
        *(float *)((int)ppppuVar8[1] + 0xd7) = local_6c + *(float *)((int)ppppuVar8[1] + 0xd7);
        *(float *)((int)ppppuVar8[1] + 0xdb) = unaff_ESI + *(float *)((int)ppppuVar8[1] + 0xdb);
      }
    }
    if (local_28 == (undefined4 ****)0x0) {
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffdfff;
    }
    if (*(int *)(local_44 + 0x9d) != 0) {
      iVar9 = *(int *)(*(int *)(local_44 + 0x9d) + 7);
      if (iVar9 == 3) {
        *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) | 0x2000;
      }
      else if (iVar9 == 4) {
        uVar6 = *(uint *)((int)ppppuVar8[1] + 0x8a);
        if (((uVar6 & 2) == 0) || (ppppuVar8[1][0x40][0x12] != (undefined4 *)0x4)) {
          if ((uVar6 & 0x1800000) == 0) {
            ppppuVar19 = ppppuVar8;
            FUN_00443000();
            *(float *)((int)ppppuVar8[1] + 0xd3) =
                 *(float *)((int)ppppuVar8[1] + 0xd3) - (float)ppppuVar19 * -2.0;
            ppppuVar8[1][0x2a] = (undefined4 **)((float)ppppuVar8[1][0x2a] - local_6c * -2.0);
            *(float *)((int)ppppuVar8[1] + 0xdb) =
                 *(float *)((int)ppppuVar8[1] + 0xdb) - unaff_ESI * -2.0;
            dVar17 = (double)CONCAT44(5,*(undefined4 *)((int)ppppuVar8[1] + 0x86));
            pppppuVar15 = (undefined *****)0x0;
            local_20 = ppppuVar8;
            local_24 = (undefined *****)0x41e410;
            FUN_004412c0();
          }
          else {
            dVar17 = (double)CONCAT44(ppppuVar8,0x41e41a);
            FUN_0046c680();
          }
        }
      }
    }
  }
  if (((local_44 != 0) && (*(ushort *)(local_44 + 0xa1) != 0)) &&
     (((*(ushort *)(local_44 + 0xa1) & 2) != 0 ||
      ((((ppppuVar8 != (undefined4 ****)0x0 && ((*(byte *)((int)ppppuVar8[1] + 0x8a) & 2) != 0)) &&
        (*(int *)(local_44 + 0x9d) != 0)) && (*(int *)(*(int *)(local_44 + 0x9d) + 0xf) == 0x105))))
     )) {
    if (0.8 < (float)local_38) {
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) | 0x40;
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xfbffffff;
      if (local_28 != (undefined4 ****)0x0) {
        *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffdfff;
      }
    }
    fVar7 = (float)local_64 * (float)(undefined ****)((ulonglong)dVar17 >> 0x20);
    fVar1 = (float)local_60 * local_6c;
    fVar2 = (float)local_5c * unaff_ESI;
    pppuVar5 = ppppuVar8[1];
    if ((((*(byte *)((int)pppuVar5 + 0x8a) & 8) == 0) && (pppuVar5[0x26][4] != (undefined4 *)0x4))
       && ((float)local_60 < -0.75)) {
      pppppuVar15 = (undefined *****)((int)pppuVar5 + 6);
      dVar17 = 1.976262583364986e-323;
      local_20 = (undefined4 ****)&DAT_005e4897;
      local_24 = (undefined *****)0x41e51b;
      FUN_00475d60();
    }
    if ((((float)local_60 < -2.5) && (*param_2 == (undefined ****)0xc61c4000)) &&
       (((*(byte *)((int)ppppuVar8[1] + 0x8e) & 0x20) == 0 &&
        ((uVar6 = *(uint *)((int)ppppuVar8[1] + 0x8a), (uVar6 & 8) == 0 &&
         ((uVar6 & 0x10000000) == 0)))))) {
      dVar17 = (double)CONCAT44((fVar2 + fVar1 + fVar7) * local_4c * 0.75,0x41e56b);
      fVar14 = (float10)FUN_0045ec60();
      if ((float10)2.5 < fVar14) {
        FUN_00443000();
        iVar9 = __ftol();
        dVar17 = (double)CONCAT44(iVar9 * 5,*(undefined4 *)((int)ppppuVar8[1] + 0x86));
        pppppuVar15 = (undefined *****)0x0;
        local_20 = ppppuVar8;
        local_24 = (undefined *****)0x41e5a7;
        FUN_004412c0();
      }
    }
    uVar6 = *(uint *)((int)ppppuVar8[1] + 0x8a);
    if ((uVar6 & 0x10000000) != 0) {
      *(uint *)((int)ppppuVar8[1] + 0x8a) = uVar6 & 0xefffffff;
    }
  }
  if ((((float)local_30 < (float)pppppuVar15) && (DAT_004d7a6c == 0)) &&
     (0.0 < *(float *)((int)ppppuVar8[1] + 0xd7))) {
    *(undefined4 *)((int)ppppuVar8[1] + 0xd7) = 0;
  }
  pppuVar5 = ppppuVar8[1];
  if (((*(byte *)((int)pppuVar5 + 0x8a) & 0xc0) != 0) &&
     ((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x7b) == 8 ||
      ((*(int *)(iVar9 + 0x114) == 6 && (*(char *)(pppuVar5 + 1) == '\x03')))))) {
    *(undefined4 *)((int)pppuVar5 + 0xdf) = 0;
    ppppuVar8[1][0x27] = (undefined4 **)0x0;
    dVar17 = (double)CONCAT44(ppppuVar8,0x41e63c);
    FUN_004109b0();
  }
  pppuVar5 = ppppuVar8[1];
  if ((((pppuVar5[0x26][4] != (undefined4 *)0x4) && (pppuVar5[0x26][4] != (undefined4 *)0x5)) &&
      (((iVar9 = *(int *)(*(int *)((int)pppuVar5 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) != 6 ||
        (*(char *)(pppuVar5 + 1) != '\x03')) &&
       ((*(int *)(iVar9 + 0x7b) != 8 ||
        ((*(char *)(pppuVar5 + 1) != '\x05' && (*(char *)(pppuVar5 + 1) != '\x06')))))))) &&
     ((*(uint *)((int)pppuVar5 + 0x8a) & 0x100000) == 0)) {
    if ((*(uint *)((int)pppuVar5 + 0x8a) & 0x40) == 0) {
      if (local_40 == 0) {
        local_78 = 0;
        local_80 = (undefined ***)0x0;
        local_7c = 0x3f800000;
        ppppuVar13 = &local_80;
      }
      else {
        local_80 = *(undefined ****)((int)pppuVar5 + 0xe7);
        local_7c = *(undefined4 *)((int)pppuVar5 + 0xeb);
        local_78 = *(undefined4 *)((int)pppuVar5 + 0xef);
        ppppuVar13 = &local_80;
      }
    }
    else {
      FUN_0045eab0();
      ppppuVar13 = (undefined ****)&stack0xffffffec;
    }
    dVar17 = (double)CONCAT44(ppppuVar13,ppppuVar8);
    pppppuVar15 = (undefined *****)0x41e6ee;
    FUN_00423f70();
  }
  pppuVar5 = ppppuVar8[1];
  uVar6 = *(uint *)((int)pppuVar5 + 0x8a);
  if ((uVar6 & 0x1000) == 0) {
    if ((uVar6 & 0x40) == 0) goto LAB_0041e741;
  }
  else if ((uVar6 & 0x40) == 0) {
    *(uint *)((int)pppuVar5 + 0x8a) = uVar6 | 0x40;
    *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xfbffffff;
    *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffefff;
    goto LAB_0041e741;
  }
  *(uint *)((int)pppuVar5 + 0x8a) = uVar6 | 0x1000;
LAB_0041e741:
  *(undefined4 *****)((int)ppppuVar8[1] + 0x36) = local_20;
  *(undefined ******)((int)ppppuVar8[1] + 0x3a) = pppppuVar15;
  *(int *)((int)ppppuVar8[1] + 0x3e) = SUB84(dVar17,0);
  if (*(float *)(DAT_00598d90 + 0x108) < *(float *)((int)ppppuVar8[1] + 0x3a)) {
    *(undefined4 *)((int)ppppuVar8[1] + 0x3a) = *(undefined4 *)(DAT_00598d90 + 0x108);
    pppppuVar15 = (undefined *****)&local_28;
    dVar17 = (double)CONCAT44(&local_3c,ppppuVar8);
    local_24 = *(undefined ******)((int)ppppuVar8[1] + 0x3e);
    local_28 = *(undefined4 *****)((int)ppppuVar8[1] + 0x36);
    local_20 = &local_50;
    local_2c = (undefined4 ***)0x41e79b;
    fVar14 = (float10)FUN_0041cd90();
    if ((float10)*(float *)((int)ppppuVar8[1] + 0x3a) - (float10)(float)param_1 < fVar14) {
      *(undefined4 ********)((int)ppppuVar8[1] + 0x36) = local_34;
      *(undefined4 ***)((int)ppppuVar8[1] + 0x3a) = local_30;
      *(undefined4 ****)((int)ppppuVar8[1] + 0x3e) = local_2c;
    }
  }
  pppuVar5 = ppppuVar8[1];
  ppppuVar13 = (undefined ****)((ulonglong)dVar17 >> 0x20);
  if ((*(uint *)((int)pppuVar5 + 0x8a) & 0x40) == 0) {
    if (local_6c < -0.7) {
      *(undefined *****)((int)pppuVar5 + 0xe7) = ppppuVar13;
      *(float *)((int)pppuVar5 + 0xeb) = local_6c;
      *(float *)((int)pppuVar5 + 0xef) = unaff_ESI;
    }
  }
  else {
    *(uint *)((int)pppuVar5 + 0x8a) = *(uint *)((int)pppuVar5 + 0x8a) & 0xffff7fff;
    if ((float)local_38 <= 0.8) {
      pppuVar5 = ppppuVar8[1];
      if ((*(byte *)((int)pppuVar5 + 0x8a) & 0x80) == 0) {
        *(undefined *****)((int)pppuVar5 + 0xe7) = ppppuVar13;
        *(float *)((int)pppuVar5 + 0xeb) = local_6c;
        *(float *)((int)pppuVar5 + 0xef) = unaff_ESI;
      }
    }
    else {
      pppuVar5 = ppppuVar8[1];
      *(undefined *****)((int)pppuVar5 + 0xe7) = ppppuVar13;
      *(float *)((int)pppuVar5 + 0xeb) = local_6c;
      *(float *)((int)pppuVar5 + 0xef) = unaff_ESI;
      *(float *)((int)ppppuVar8[1] + 0x19d) = (float)pppppuVar15 - (float)param_1;
    }
  }
  pppuVar5 = ppppuVar8[1];
  uVar6 = *(uint *)((int)pppuVar5 + 0x8a);
  if ((((uVar6 & 0x2000) != 0) && ((local_40 != 0 || ((uVar6 & 0x40) != 0)))) &&
     (((uVar6 & 2) == 0 || (pppuVar5[0x40][0x12] != (undefined4 *)0x4)))) {
    if ((uVar6 & 0x1800000) == 0) {
      if (local_40 == 0) {
        *(float *)((int)pppuVar5 + 0xd3) =
             *(float *)((int)pppuVar5 + 0xd3) - (float)ppppuVar13 * -2.0;
        ppppuVar8[1][0x2a] = (undefined4 **)((float)ppppuVar8[1][0x2a] - local_6c * -2.0);
        *(float *)((int)ppppuVar8[1] + 0xdb) =
             *(float *)((int)ppppuVar8[1] + 0xdb) - unaff_ESI * -2.0;
      }
      else {
        pppuVar5[0x2a] = (undefined4 **)0x40000000;
      }
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffffbf;
      *(uint *)((int)ppppuVar8[1] + 0x8a) = *(uint *)((int)ppppuVar8[1] + 0x8a) & 0xffffff7f;
      FUN_00443000();
      local_20 = ppppuVar8;
      local_24 = (undefined *****)0x41e93c;
      FUN_004412c0();
    }
    else {
      FUN_0046c680();
    }
  }
  pppuVar5 = ppppuVar8[1];
  if (*param_2 == (undefined ****)0xc61c4000) {
    *(uint *)((int)pppuVar5 + 0x8a) = *(uint *)((int)pppuVar5 + 0x8a) & 0xffffffef;
    return 0;
  }
  *(uint *)((int)pppuVar5 + 0x8a) = *(uint *)((int)pppuVar5 + 0x8a) | 0x10;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined *
FUN_0041e9a0(float *param_1,float *param_2,float *param_3,float *param_4,float *param_5,int param_6,
            float **param_7,float ***param_8,int param_9,int param_10)

{
  uint uVar1;
  uint uVar2;
  bool bVar3;
  float fVar4;
  float ****ppppfVar5;
  float *pfVar6;
  byte bVar7;
  int iVar8;
  int iVar9;
  float *pfVar10;
  float *pfVar11;
  float *pfVar12;
  float *pfVar13;
  float10 fVar14;
  undefined local_12c [12];
  undefined local_120 [12];
  undefined local_114 [4];
  undefined local_110 [4];
  undefined2 local_10c;
  ushort uStack_10a;
  undefined2 local_108;
  undefined2 uStack_106;
  float local_104 [4];
  float local_f4;
  float local_f0;
  float local_ec;
  float local_e4;
  float local_e0;
  float local_dc;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  float local_c4;
  float *local_c0;
  float ****local_bc;
  float ****local_b8;
  float *local_b4;
  float local_b0;
  float local_ac;
  uint *local_a8;
  float *local_a4;
  float **local_a0;
  float local_9c;
  float *local_98;
  float ****local_94;
  uint local_7c;
  float local_78;
  float local_74;
  float local_70;
  uint *local_6c;
  float ****local_68;
  float local_64;
  float *local_60;
  float ****local_5c;
  int local_58;
  int local_54;
  float local_50;
  float *local_4c;
  float ****local_48;
  undefined *local_44;
  float ***local_40;
  float *local_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float **local_2c;
  float *local_28;
  float **local_24;
  float ***local_20;
  float ****local_1c;
  undefined8 local_18;
  float ***pppfVar15;
  
  AdjustStackForLargeAllocations();
  local_44 = (undefined *)0x0;
  local_54 = *(int *)(*(int *)((int)param_1 + 0x56) + 0x3c);
  local_a8 = *(uint **)(*(int *)((int)param_1 + 0x56) + 0xc);
  _DAT_005e45d8 = 0;
  if ((((*(ushort *)((int)param_1 + 0xa1) & 2) != 0) &&
      ((*(ushort *)((int)param_1 + 0xa1) & 1) != 0)) ||
     ((param_9 != 0 && ((param_6 == 0 && (param_10 == 0)))))) {
    if (local_54 == 0) {
      local_54 = *(int *)(*(int *)((int)param_1 + 0x56) + 4);
    }
    pppfVar15 = (float ***)*param_2;
    pfVar11 = (float *)param_2[1];
    pfVar13 = (float *)param_2[2];
    local_40 = (float ***)*param_3;
    local_3c = (float *)param_3[1];
    local_38 = (float *)param_3[2];
    if ((*(int *)((int)param_1 + 0x5b) != 0) ||
       (local_54 == *(int *)(*(int *)((int)param_1 + 0x56) + 4))) {
      local_104[0] = *(float *)((int)param_1 + 6);
      local_f4 = *(float *)((int)param_1 + 10);
      local_e4 = *(float *)((int)param_1 + 0xe);
      local_dc = 1.0 / (*(float *)((int)param_1 + 0x95) * *(float *)((int)param_1 + 0x95));
      pfVar10 = (float *)&DAT_004d1ae0;
      pfVar12 = local_104;
      for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
        *pfVar12 = *pfVar10;
        pfVar10 = pfVar10 + 1;
        pfVar12 = pfVar12 + 1;
      }
      local_1c = (float ****)&stack0xfffffff0;
      local_18 = (double)CONCAT44(&stack0xfffffff0,local_104);
      local_104[0] = local_104[0] * local_dc;
      local_f4 = local_f4 * local_dc;
      local_e4 = local_e4 * local_dc;
      local_104[1] = *(float *)((int)param_1 + 0x16) * local_dc;
      local_f0 = *(float *)((int)param_1 + 0x1a) * local_dc;
      local_e0 = *(float *)((int)param_1 + 0x1e) * local_dc;
      local_104[2] = *(float *)((int)param_1 + 0x26) * local_dc;
      local_ec = *(float *)((int)param_1 + 0x2a) * local_dc;
      local_dc = *(float *)((int)param_1 + 0x2e) * local_dc;
      pppfVar15 = (float ***)((float)pppfVar15 - *(float *)((int)param_1 + 0x36));
      pfVar11 = (float *)((float)pfVar11 - *(float *)((int)param_1 + 0x3a));
      pfVar13 = (float *)((float)pfVar13 - *(float *)((int)param_1 + 0x3e));
      local_40 = (float ***)((float)local_40 - *(float *)((int)param_1 + 0x36));
      local_3c = (float *)((float)local_3c - *(float *)((int)param_1 + 0x3a));
      local_38 = (float *)((float)local_38 - *(float *)((int)param_1 + 0x3e));
      local_20 = (float ***)0x41eb4b;
      FUN_0045f6b0();
      local_1c = &local_40;
      local_18 = (double)CONCAT44(&local_40,local_104);
      local_20 = (float ***)0x41eb62;
      FUN_0045f6b0();
    }
    if ((((param_7 != (float **)0x0) && ((*(byte *)((int)param_7[1] + 0x8a) & 2) != 0)) &&
        (*(int *)((int)param_1 + 0x9d) != 0)) &&
       (*(int *)(*(int *)((int)param_1 + 0x9d) + 0xf) == 0x105)) {
      *param_5 = (float)local_40 - (float)pppfVar15;
      param_5[1] = 0.0;
      param_5[2] = (float)local_38 - (float)pfVar13;
      if (param_9 == 0) {
        return (undefined *)0x1;
      }
      *param_2 = *param_3;
      param_2[1] = param_3[1];
      param_2[2] = param_3[2];
      local_18 = (double)CONCAT44(param_5,0x41ebdd);
      FUN_0045eab0();
      *(float *)((int)param_7[1] + 0xd3) = *(float *)((int)param_7[1] + 0xd3) - *param_5 * -2.0;
      *(float *)((int)param_7[1] + 0xdb) = *(float *)((int)param_7[1] + 0xdb) - param_5[2] * -2.0;
      return (undefined *)0x1;
    }
    local_18 = *(double *)(param_3 + 1);
    local_1c = (float ****)*param_3;
    local_20 = param_8;
    local_24 = param_7;
    local_28 = param_1;
    local_2c = (float **)0x41ec31;
    iVar9 = FUN_00420410();
    if (iVar9 == 0) {
      local_58 = 1;
      DAT_005e45cc = param_10;
      bVar7 = 0;
      do {
        bVar7 = bVar7 + 1;
        if (6 < bVar7) {
          *param_2 = *param_3;
          param_2[1] = param_3[1];
          param_2[2] = param_3[2];
          return local_44;
        }
        local_7c = 0;
        if (*(int *)(*(int *)((int)param_1 + 0x56) + 8) != 0) {
          local_6c = local_a8;
          do {
            local_58 = 0;
            uVar1 = *local_6c;
            uVar2 = local_6c[1];
            local_10c = (undefined2)uVar1;
            uStack_10a = (ushort)(uVar1 >> 0x10);
            pfVar10 = (float *)((uVar1 & 0xffff) * 0x20 + local_54);
            pfVar12 = &local_9c;
            for (iVar9 = 8; iVar8 = local_54, ppppfVar5 = local_94, pfVar6 = local_98,
                fVar4 = local_9c, iVar9 != 0; iVar9 = iVar9 + -1) {
              *pfVar12 = *pfVar10;
              pfVar10 = pfVar10 + 1;
              pfVar12 = pfVar12 + 1;
            }
            local_108 = (undefined2)uVar2;
            uStack_106 = (undefined2)(uVar2 >> 0x10);
            local_50 = local_9c;
            local_4c = local_98;
            local_48 = local_94;
            pfVar10 = (float *)((uint)uStack_10a * 0x20 + local_54);
            pfVar12 = &local_9c;
            for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
              *pfVar12 = *pfVar10;
              pfVar10 = pfVar10 + 1;
              pfVar12 = pfVar12 + 1;
            }
            local_64 = local_9c;
            local_a4 = pfVar6;
            local_60 = local_98;
            bVar3 = local_9c < local_50;
            local_b8 = ppppfVar5;
            local_5c = local_94;
            local_18 = (double)((ulonglong)(uint)fVar4 << 0x20);
            local_30 = pfVar6;
            pfVar10 = (float *)((uVar2 & 0xffff) * 0x20 + iVar8);
            pfVar12 = &local_9c;
            for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
              *pfVar12 = *pfVar10;
              pfVar10 = pfVar10 + 1;
              pfVar12 = pfVar12 + 1;
            }
            local_68 = ppppfVar5;
            local_c0 = local_98;
            local_c4 = local_9c;
            local_bc = local_94;
            if (bVar3) {
              fVar4 = local_64;
            }
            if (local_9c < fVar4) {
              fVar4 = local_9c;
            }
            if (local_50 < local_64) {
              local_18._4_4_ = (float *)local_64;
            }
            if ((float)local_18._4_4_ < local_9c) {
              local_18._4_4_ = (float *)local_9c;
            }
            if ((fVar4 <= (float)pppfVar15 + (float)param_4) &&
               ((float)pppfVar15 - (float)param_4 <= (float)local_18._4_4_)) {
              if ((float)local_5c < (float)local_48) {
                ppppfVar5 = local_5c;
              }
              if ((float)local_48 < (float)local_5c) {
                local_68 = local_5c;
              }
              if ((float)local_94 < (float)ppppfVar5) {
                ppppfVar5 = local_94;
              }
              if ((float)local_68 < (float)local_94) {
                local_68 = local_94;
              }
              if (((float)ppppfVar5 <= (float)pfVar13 + (float)param_4) &&
                 ((float)pfVar13 - (float)param_4 <= (float)local_68)) {
                if ((float)local_60 < (float)local_4c) {
                  pfVar6 = local_60;
                }
                if ((float)local_4c < (float)local_60) {
                  local_30 = local_60;
                }
                if ((float)local_98 < (float)pfVar6) {
                  pfVar6 = local_98;
                }
                if ((float)local_30 < (float)local_98) {
                  local_30 = local_98;
                }
                if (((float)pfVar6 <= (float)pfVar11 + (float)param_4) &&
                   ((float)pfVar11 - (float)param_4 <= (float)local_30)) {
                  local_1c = (float ****)local_120;
                  local_18 = (double)CONCAT44(&local_50,&local_64);
                  local_20 = (float ***)0x41ef15;
                  FUN_0045ec80();
                  local_1c = (float ****)local_12c;
                  local_18 = (double)CONCAT44(&local_50,&local_c4);
                  local_20 = (float ***)0x41ef2f;
                  FUN_0045ec80();
                  local_1c = (float ****)&local_2c;
                  local_18 = (double)CONCAT44(local_12c,local_120);
                  local_20 = (float ***)0x41ef49;
                  FUN_0045eb50();
                  local_18 = (double)CONCAT44(&local_2c,0x41ef55);
                  FUN_0045eab0();
                  local_78 = (float)pppfVar15 - (float)local_40;
                  local_74 = (float)pfVar11 - (float)local_3c;
                  local_70 = (float)pfVar13 - (float)local_38;
                  if (((float)local_24 * local_70 +
                       (float)local_28 * local_74 + (float)local_2c * local_78 <= 0.0001) &&
                     (((iVar9 = *(int *)((int)param_1 + 0x5b), iVar9 == 0 ||
                       (1e-05 <= local_70 * local_70 + local_74 * local_74 + local_78 * local_78))
                      || (0.0 <= (float)local_24 *
                                 (*(float *)((int)param_1 + 0x3e) - *(float *)(iVar9 + 0x77)) +
                                 (float)local_28 *
                                 (*(float *)((int)param_1 + 0x3a) - *(float *)(iVar9 + 0x73)) +
                                 (float)local_2c *
                                 (*(float *)((int)param_1 + 0x36) - *(float *)(iVar9 + 0x6f)))))) {
                    local_20 = (float ***)(local_50 - (float)pppfVar15);
                    local_a0 = (float **)
                               ((-((float)local_2c * (float)local_20) -
                                (float)local_28 * ((float)local_4c - (float)pfVar11)) -
                               (float)local_24 * ((float)local_48 - (float)pfVar13));
                    local_18 = (double)(float)local_a0;
                    local_1c = (float ****)0x41f07f;
                    fVar14 = (float10)FUN_004ad3c0();
                    if (fVar14 < (float10)(float)param_4 - (float10)0.001) {
                      local_1c = (float ****)&local_50;
                      local_b4 = (float *)((float)pppfVar15 -
                                          (float)local_2c * (float)local_18._4_4_);
                      local_18 = (double)CONCAT44(local_114,local_110);
                      local_20 = &local_2c;
                      local_24 = (float **)local_12c;
                      local_b0 = (float)local_28 * (float)local_114;
                      local_28 = (float *)local_120;
                      local_2c = &local_b4;
                      local_b0 = (float)pfVar11 - local_b0;
                      local_ac = (float)pfVar13 - (float)local_24 * (float)local_114;
                      local_30 = (float *)0x41f0f5;
                      iVar9 = FUN_00420900();
                      local_18._0_4_ = local_3c;
                      local_18._4_4_ = local_38;
                      local_1c = (float ****)local_40;
                      local_20 = param_8;
                      local_24 = param_7;
                      local_28 = param_1;
                      local_2c = (float **)0x41f117;
                      local_58 = iVar9;
                      iVar8 = FUN_004202c0();
                      if (iVar8 != 0) {
                        return (undefined *)0x0;
                      }
                      if (iVar9 != 0) {
                        if (((*(byte *)((int)param_1 + 0xa1) & 2) != 0) ||
                           (((param_7 != (float **)0x0 &&
                             ((*(byte *)((int)param_7[1] + 0x8a) & 2) != 0)) &&
                            ((*(int *)((int)param_1 + 0x9d) != 0 &&
                             (*(int *)(*(int *)((int)param_1 + 0x9d) + 0xf) == 0x105)))))) {
                          if ((param_6 != 0) || (param_9 == 0)) {
                            *param_5 = (float)local_2c;
                            param_5[1] = (float)local_28;
                            param_5[2] = (float)local_24;
                            return (undefined *)0x1;
                          }
                          local_20 = (float ***)((float)pppfVar15 - (float)local_40);
                          local_1c = (float ****)((float)pfVar11 - (float)local_3c);
                          local_18._0_4_ = (float *)((float)pfVar13 - (float)local_38);
                          if ((param_10 == 0) && (*(int *)((int)param_1 + 0x5b) == 0)) {
LAB_0041f1c8:
                            local_34 = (float *)((float)(float *)local_18 * (float)(float *)local_18
                                                + (float)local_1c * (float)local_1c +
                                                  (float)local_20 * (float)local_20);
                            if ((float)local_34 < 0.0001) {
                              if (local_44 == (undefined *)0x0) {
                                *param_5 = (float)local_2c;
                                param_5[1] = (float)local_28;
                                param_5[2] = (float)local_24;
                              }
                              pppfVar15 = local_40;
                              pfVar11 = local_3c;
                              pfVar13 = local_38;
                              if ((*(int *)((int)param_1 + 0x5b) != 0) ||
                                 (local_54 == *(int *)(*(int *)((int)param_1 + 0x56) + 4))) {
                                local_1c = (float ****)&stack0xfffffff0;
                                local_18 = (double)CONCAT44(&stack0xfffffff0,
                                                            (float *)((int)param_1 + 6));
                                local_20 = (float ***)0x41f6d9;
                                FUN_0045f6b0();
                                pfVar10 = (float *)((int)param_1 + 6);
                                pfVar12 = local_104;
                                for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
                                  *pfVar12 = *pfVar10;
                                  pfVar10 = pfVar10 + 1;
                                  pfVar12 = pfVar12 + 1;
                                }
                                local_cc = 0;
                                local_18 = (double)CONCAT44(param_5,local_104);
                                local_1c = (float ****)param_5;
                                local_d0 = 0;
                                local_d4 = 0;
                                local_20 = (float ***)0x41f718;
                                FUN_0045f6b0();
                                local_18 = (double)CONCAT44(param_5,0x41f721);
                                FUN_0045eab0();
                              }
                              *param_2 = (float)pppfVar15;
                              param_2[1] = (float)pfVar11;
                              param_2[2] = (float)pfVar13;
                              return (undefined *)0x1;
                            }
                            local_18 = (double)(float)local_34;
                            local_1c = (float ****)0x41f208;
                            fVar14 = (float10)FUN_004ad534();
                            local_34 = (float *)(float)fVar14;
                            fVar4 = 1.0 / (float)local_34;
                            local_20 = (float ***)((float)local_20 * fVar4);
                            local_30 = (float *)((-((float)local_2c * (float)local_20) -
                                                 (float)local_28 * (float)local_1c * fVar4) -
                                                (float)local_24 * (float)(float *)local_18 * fVar4);
                            local_18 = (double)(float)local_30;
                            local_1c = (float ****)0x41f26b;
                            fVar14 = (float10)FUN_004ad3c0();
                            pfVar10 = local_30;
                            if ((float10)9.999999747378752e-05 < fVar14) {
                              pfVar10 = (float *)(1.0 / (float)local_30);
                            }
                            *param_5 = (float)local_2c;
                            local_44 = (undefined *)0x2;
                            param_5[1] = (float)local_28;
                            param_5[2] = (float)local_24;
                            local_18 = (double)(float)pfVar10;
                            local_1c = (float ****)0x41f2bc;
                            fVar14 = (float10)FUN_004ad3c0();
                            if ((fVar14 <= (float10)9.999999747378752e-05) ||
                               ((float)local_34 - -0.1 < (float)local_18._4_4_)) {
                              local_18 = (double)CONCAT44(&local_34,&local_20);
                              local_1c = (float ****)param_9;
                              local_24 = &local_b4;
                              local_20 = (float ***)0x1;
                              local_28 = param_4;
                              local_30 = &local_c4;
                              local_2c = local_a0;
                              local_34 = &local_64;
                              local_38 = &local_50;
                              local_40 = &local_2c;
                              local_3c = param_5;
                              local_44 = &stack0xfffffff0;
                              local_48 = &local_40;
                              local_4c = param_1;
                              local_50 = 6.056629e-39;
                              iVar9 = FUN_0041f7f0();
                              if (iVar9 == 0) {
                                *param_5 = (float)local_2c;
                                param_5[1] = (float)local_28;
                                iVar9 = 1;
                                local_58 = 1;
                                local_44 = (undefined *)0x2;
                                param_5[2] = (float)local_24;
                                pppfVar15 = local_40;
                                pfVar11 = local_3c;
                                pfVar13 = local_38;
                              }
                              else {
                                local_44 = (undefined *)0x1;
                                local_58 = iVar9;
                              }
                            }
                            else {
                              if ((float)local_34 < (float)local_18._4_4_) {
                                local_18 = (double)CONCAT44(local_34,(float *)local_18);
                              }
                              pppfVar15 = (float ***)
                                          ((float)pppfVar15 -
                                          (float)local_20 * (float)local_18._4_4_);
                              pfVar11 = (float *)((float)pfVar11 -
                                                 (float)local_1c * (float)local_18._4_4_);
                              pfVar13 = (float *)((float)pfVar13 -
                                                 (float)(float *)local_18 * (float)local_18._4_4_);
                            }
                            if (iVar9 == 0) goto LAB_0041f4f4;
                          }
                          else {
                            if (param_10 == 0) {
                              local_18._4_4_ = param_1;
                              local_18._0_4_ = (float *)0x41f1bd;
                              iVar8 = FUN_00421460();
                              if (iVar8 == 0) goto LAB_0041f1c8;
                              DAT_005e45dc = 1;
                            }
                            fVar4 = (float)param_4 - (float)local_18._4_4_;
                            pppfVar15 = (float ***)((float)local_2c * fVar4 + (float)pppfVar15);
                            pfVar11 = (float *)((float)local_28 * fVar4 + (float)pfVar11);
                            pfVar13 = (float *)((float)local_24 * fVar4 + (float)pfVar13);
                            *param_5 = (float)local_2c;
                            param_5[1] = (float)local_28;
                            local_44 = (undefined *)0x2;
                            param_5[2] = (float)local_24;
                          }
                          break;
                        }
                        if (iVar9 != 0) {
                          *param_5 = (float)local_2c;
                          param_5[1] = (float)local_28;
                          param_5[2] = (float)local_24;
                          if ((*(int *)((int)param_1 + 0x5b) == 0) &&
                             (local_54 != *(int *)(*(int *)((int)param_1 + 0x56) + 4))) {
                            return (undefined *)0x1;
                          }
                          pfVar11 = (float *)((int)param_1 + 6);
                          pfVar13 = local_104;
                          for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
                            *pfVar13 = *pfVar11;
                            pfVar11 = pfVar11 + 1;
                            pfVar13 = pfVar13 + 1;
                          }
                          local_18 = (double)CONCAT44(param_5,local_104);
                          local_1c = (float ****)param_5;
                          local_cc = 0;
                          local_d0 = 0;
                          local_d4 = 0;
                          local_20 = (float ***)0x41f7c9;
                          FUN_0045f6b0();
                          local_18 = (double)CONCAT44(param_5,0x41f7d5);
                          FUN_0045eab0();
                          return (undefined *)0x1;
                        }
                      }
                      if (((*(byte *)((int)param_1 + 0xa1) & 2) != 0) ||
                         ((((param_7 != (float **)0x0 &&
                            ((*(byte *)((int)param_7[1] + 0x8a) & 2) != 0)) &&
                           (*(int *)((int)param_1 + 0x9d) != 0)) &&
                          (*(int *)(*(int *)((int)param_1 + 0x9d) + 0xf) == 0x105)))) {
                        local_18 = (double)CONCAT44(local_38,local_3c);
                        local_1c = (float ****)local_40;
                        local_20 = param_8;
                        local_24 = param_7;
                        local_28 = param_1;
                        local_2c = (float **)0x41f41a;
                        iVar9 = FUN_004202c0();
                        if (iVar9 != 0) {
                          return (undefined *)0x0;
                        }
                        local_20 = (float ***)((float)pppfVar15 - (float)local_40);
                        local_18 = (double)(((float)pfVar13 - (float)local_38) *
                                            ((float)pfVar13 - (float)local_38) +
                                           ((float)pfVar11 - (float)local_3c) *
                                           ((float)pfVar11 - (float)local_3c) +
                                           (float)local_20 * (float)local_20);
                        local_1c = (float ****)0x41f464;
                        FUN_004ad534();
                        local_2c = &local_34;
                        local_18 = (double)CONCAT44(local_2c,&local_20);
                        local_1c = (float ****)param_9;
                        local_24 = &local_b4;
                        local_20 = (float ***)0x0;
                        local_28 = param_4;
                        local_30 = &local_c4;
                        local_34 = &local_64;
                        local_38 = &local_50;
                        local_40 = &local_2c;
                        local_3c = param_5;
                        local_44 = &stack0xfffffff0;
                        local_48 = &local_40;
                        local_4c = param_1;
                        local_50 = 6.05716e-39;
                        local_58 = FUN_0041f7f0();
                        if (local_58 != 0) {
                          if (param_10 != 0) {
                            *param_5 = (float)local_2c;
                            param_5[1] = (float)local_28;
                            param_5[2] = (float)local_24;
                          }
                          if (param_9 == 0) {
                            return (undefined *)0x1;
                          }
                          local_44 = (undefined *)0x1;
                          break;
                        }
                      }
                    }
                  }
                }
              }
            }
LAB_0041f4f4:
            local_6c = local_6c + 3;
            local_7c = local_7c + 1;
          } while (local_7c < *(uint *)(*(int *)((int)param_1 + 0x56) + 8));
        }
        if (local_58 == 0) {
          if ((*(int *)((int)param_1 + 0x5b) != 0) ||
             (local_54 == *(int *)(*(int *)((int)param_1 + 0x56) + 4))) {
            if (local_44 == (undefined *)0x0) {
              pppfVar15 = (float ***)*param_2;
              pfVar11 = (float *)param_2[1];
              pfVar13 = (float *)param_2[2];
            }
            else {
              pfVar10 = (float *)((int)param_1 + 6);
              pfVar12 = local_104;
              for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
                *pfVar12 = *pfVar10;
                pfVar10 = pfVar10 + 1;
                pfVar12 = pfVar12 + 1;
              }
              local_1c = (float ****)&stack0xfffffff0;
              local_18 = (double)CONCAT44(&stack0xfffffff0,local_104);
              local_20 = (float ***)0x41f5ea;
              FUN_0045f6b0();
              local_cc = 0;
              local_18 = (double)CONCAT44(param_5,local_104);
              local_1c = (float ****)param_5;
              local_d0 = 0;
              local_d4 = 0;
              local_20 = (float ***)0x41f61c;
              FUN_0045f6b0();
              local_18 = (double)CONCAT44(param_5,0x41f625);
              FUN_0045eab0();
            }
          }
          *param_2 = (float)pppfVar15;
          param_2[1] = (float)pfVar11;
          param_2[2] = (float)pfVar13;
          return local_44;
        }
      } while( true );
    }
  }
  return (undefined *)0x0;
}



int FUN_0041f7f0(undefined4 param_1,float *param_2,float *param_3,float *param_4,undefined4 param_5,
                float *param_6,undefined4 param_7,undefined4 param_8,float param_9,float param_10,
                float *param_11,undefined4 param_12,int param_13,undefined4 param_14,float *param_15
                )

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float10 fVar4;
  
  pfVar1 = param_11;
  if (*param_15 < 0.001) {
    *param_3 = *param_2;
    param_3[1] = param_2[1];
    param_3[2] = param_2[2];
    return 0;
  }
  iVar2 = FUN_0041fa80(param_1,param_14,param_2,param_3,param_4,param_5,param_6,param_7,param_9,
                       param_10,param_11,param_15,param_12,param_13);
  if (iVar2 != 0) {
    if (*param_15 < 0.001) {
      *param_3 = *param_2;
      param_3[1] = param_2[1];
      param_3[2] = param_2[2];
      return 1;
    }
    if (param_13 == 0) {
      return 1;
    }
    param_9 = (-((*param_6 - *param_3) * *param_4) - (param_6[1] - param_3[1]) * param_4[1]) -
              (param_6[2] - param_3[2]) * param_4[2];
    fVar4 = (float10)FUN_004ad3c0((double)param_9);
    if ((float10)param_10 <= fVar4) {
      return 1;
    }
    *param_11 = *param_3 - *param_4 * param_9;
    param_11[1] = param_3[1] - param_9 * param_4[1];
    param_11[2] = param_3[2] - param_9 * param_4[2];
  }
  iVar3 = FUN_0041fa80(param_1,param_14,param_2,param_3,param_4,param_5,param_7,param_8,param_9,
                       param_10,param_11,param_15,param_12,param_13);
  param_11 = (float *)iVar2;
  if (iVar3 != 0) {
    if (*param_15 < 0.001) {
      *param_3 = *param_2;
      param_3[1] = param_2[1];
      param_3[2] = param_2[2];
      return 1;
    }
    if (param_13 == 0) {
      return 1;
    }
    param_11 = (float *)0x1;
    param_9 = (-((*param_6 - *param_3) * *param_4) - (param_6[1] - param_3[1]) * param_4[1]) -
              (param_6[2] - param_3[2]) * param_4[2];
    fVar4 = (float10)FUN_004ad3c0((double)param_9);
    if ((float10)param_10 <= fVar4) {
      return 1;
    }
    *pfVar1 = *param_3 - *param_4 * param_9;
    pfVar1[1] = param_3[1] - param_9 * param_4[1];
    pfVar1[2] = param_3[2] - param_9 * param_4[2];
  }
  iVar3 = FUN_0041fa80(param_1,param_14,param_2,param_3,param_4,param_5,param_8,param_6,param_9,
                       param_10,pfVar1,param_15,param_12,param_13);
  iVar2 = 1;
  if (iVar3 == 0) {
    iVar2 = (int)param_11;
  }
  return iVar2;
}



undefined4
FUN_0041fa80(int param_1,float *param_2,float *param_3,float *param_4,float *param_5,float *param_6,
            float *param_7,float *param_8,float param_9,float **param_10,float *param_11,
            float *param_12,int param_13,int param_14)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  bool bVar11;
  int iVar12;
  float10 fVar13;
  float10 fVar14;
  float local_4c;
  float local_48;
  float local_44;
  float local_40;
  undefined4 uStack_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float *local_2c;
  float *local_28;
  float *local_24;
  float local_20;
  float **local_1c;
  undefined8 local_18;
  float fVar15;
  float fVar16;
  float fVar17;
  
  AdjustStackForLargeAllocations();
  fVar15 = 999.0;
  local_1c = (float **)(*param_8 - *param_7);
  fVar17 = 999.0;
  fVar16 = 999.0;
  local_18 = (double)CONCAT44(param_8[2] - param_7[2],0x41facd);
  FUN_0045eab0();
  local_1c = &local_34;
  local_18 = (double)CONCAT44(param_5,&local_1c);
  local_20 = 6.059306e-39;
  FUN_0045eb50();
  if (param_13 != 0) {
    local_18 = (double)CONCAT44(&local_34,param_11);
    local_1c = param_10;
    local_20 = param_9;
    local_24 = param_8;
    local_28 = param_7;
    local_2c = param_6;
    local_30 = param_5;
    local_34 = param_4;
    local_38 = param_3;
    uStack_3c = 0x41fb16;
    iVar12 = FUN_00420de0();
    if (iVar12 == 0) {
      return 0;
    }
    local_18 = (double)((param_4[2] - param_3[2]) * (param_4[2] - param_3[2]) +
                       (param_4[1] - param_3[1]) * (param_4[1] - param_3[1]) +
                       (*param_4 - *param_3) * (*param_4 - *param_3));
    local_1c = (float **)0x41fb5f;
    fVar13 = (float10)FUN_004ad534();
    *param_12 = (float)fVar13;
    if (fVar13 < (float10)0.001) {
      *param_4 = *param_3;
      param_4[1] = param_3[1];
      param_4[2] = param_3[2];
      goto LAB_0041fb8b;
    }
    param_9 = (-((*param_7 - *param_4) * *param_5) - (param_7[1] - param_4[1]) * param_5[1]) -
              (param_7[2] - param_4[2]) * param_5[2];
    local_18 = (double)param_9;
    local_1c = (float **)0x41fc45;
    fVar13 = (float10)FUN_004ad3c0();
    if ((float10)(float)param_10 <= fVar13) {
      *param_6 = *param_5;
      param_6[1] = param_5[1];
      param_6[2] = param_5[2];
      return 1;
    }
    *param_11 = *param_4 - *param_5 * param_9;
    param_11[1] = param_4[1] - param_9 * param_5[1];
    param_11[2] = param_4[2] - param_9 * param_5[2];
  }
  fVar1 = (float)param_10 * (float)param_10 - param_9 * param_9;
  if (fVar1 < 0.0001) {
    fVar1 = 0.0001;
  }
  local_18 = (double)fVar1;
  local_1c = (float **)0x41fcc9;
  fVar13 = (float10)FUN_004ad534();
  local_28 = (float *)*param_11;
  local_24 = (float *)param_11[1];
  local_20 = param_11[2];
  fVar1 = (float)fVar13;
  fVar8 = (-((*param_7 - (float)local_28) * (float)local_34) -
          (param_7[1] - (float)local_24) * (float)local_30) -
          (param_7[2] - local_20) * (float)local_2c;
  local_18 = (double)fVar8;
  local_1c = (float **)0x41fd23;
  fVar13 = (float10)FUN_004ad3c0();
  if ((float10)fVar1 - (float10)0.001 <= fVar13) {
    return 0;
  }
  fVar4 = param_7[1];
  fVar5 = *param_7;
  fVar6 = param_7[2];
  fVar7 = param_8[2];
  fVar2 = *param_8;
  fVar3 = param_8[1];
  bVar11 = false;
  fVar9 = (fVar6 - local_20) * local_18._4_4_ +
          (fVar4 - (float)local_24) * (float)local_18 + (fVar5 - (float)local_28) * (float)local_1c;
  fVar10 = (fVar7 - local_20) * local_18._4_4_ +
           (fVar3 - (float)local_24) * (float)local_18 + (fVar2 - (float)local_28) * (float)local_1c
  ;
  if ((-0.001 < fVar9) || (fVar10 < 0.001)) {
    if (fVar9 <= -0.001) {
      if (fVar10 < 0.001) {
        local_40 = *param_8 - (float)local_28;
        local_38 = (float *)(param_8[2] - local_20);
        if ((float)local_38 * (float)local_38 +
            (param_8[1] - (float)local_24) * (param_8[1] - (float)local_24) + local_40 * local_40 <
            fVar1 * fVar1 - 0.0001) goto LAB_0041fead;
      }
    }
    else {
      local_40 = *param_7 - (float)local_28;
      local_38 = (float *)(param_7[2] - local_20);
      if ((float)local_38 * (float)local_38 +
          (param_7[1] - (float)local_24) * (param_7[1] - (float)local_24) + local_40 * local_40 <
          fVar1 * fVar1 - 0.0001) goto LAB_0041fead;
    }
  }
  else {
LAB_0041fead:
    bVar11 = true;
  }
  if (!bVar11) {
    return 0;
  }
  if (param_14 != 0) {
    if ((DAT_005e45cc != 0) || (*(int *)(param_1 + 0x5b) != 0)) {
      if (DAT_005e45cc != 0) {
LAB_0041fbbd:
        param_9 = (float)param_10 - param_9;
        *param_6 = *param_5;
        param_6[1] = param_5[1];
        param_6[2] = param_5[2];
        *param_4 = *param_5 * param_9 + *param_4;
        param_4[1] = param_5[1] * param_9 + param_4[1];
        param_4[2] = param_5[2] * param_9 + param_4[2];
        return 1;
      }
      local_18 = (double)CONCAT44(param_1,0x41fee6);
      iVar12 = FUN_00421460();
      if (iVar12 != 0) {
        if (DAT_005e45cc == 0) {
          DAT_005e45dc = 1;
        }
        goto LAB_0041fbbd;
      }
    }
    fVar9 = (-(*param_5 * *param_2) - param_5[1] * param_2[1]) - param_5[2] * param_2[2];
    local_18 = (double)(*param_2 * (float)local_34 +
                       (float)local_30 * param_2[1] + (float)local_2c * param_2[2]);
    local_1c = (float **)0x41ff3d;
    fVar13 = (float10)FUN_004ad3c0();
    fVar10 = *param_2 * (float)local_1c + (float)local_18 * param_2[1] + local_18._4_4_ * param_2[2]
    ;
    local_18 = (double)fVar9;
    local_1c = (float **)0x41ff6e;
    fVar14 = (float10)FUN_004ad3c0();
    if (((float10)9.999999747378752e-06 < fVar14) &&
       (fVar16 = ((float)param_10 - param_9) / fVar9, fVar16 < 0.0)) {
      fVar16 = 999.0;
    }
    local_18 = (double)(float)fVar13;
    local_1c = (float **)0x41ffac;
    fVar14 = (float10)FUN_004ad3c0();
    if (((float10)9.999999747378752e-06 < fVar14) &&
       (fVar17 = (fVar1 - fVar8) / (float)fVar13, fVar17 < 0.0)) {
      fVar17 = 999.0;
    }
    if ((1e-05 < fVar10) || (fVar4 = fVar3, fVar6 = fVar7, fVar5 = fVar2, fVar10 < -1e-05)) {
      fVar15 = ((local_20 - fVar6) * local_18._4_4_ +
               ((float)local_24 - fVar4) * (float)local_18 +
               ((float)local_28 - fVar5) * (float)local_1c) / fVar10;
    }
    if (fVar15 < 0.0) {
      fVar15 = 999.0;
    }
    if (fVar17 <= fVar15) {
      fVar15 = fVar17;
    }
    if (fVar16 < fVar15) {
      fVar15 = fVar16;
    }
    if (*param_12 < fVar15) {
      fVar15 = *param_12;
    }
    if (*param_12 < fVar15) {
      return 0;
    }
    fVar16 = *param_12;
    *param_12 = fVar16 - fVar15;
    if (fVar16 - fVar15 < 0.0) {
      *param_12 = 0.0;
    }
    *param_4 = *param_4 - *param_2 * fVar15;
    param_4[1] = param_4[1] - fVar15 * param_2[1];
    fVar15 = param_4[2] - fVar15 * param_2[2];
    param_4[2] = fVar15;
    fVar15 = (-((*param_7 - *param_4) * *param_5) - (param_7[1] - param_4[1]) * param_5[1]) -
             (param_7[2] - fVar15) * param_5[2];
    *param_11 = *param_4 - *param_5 * fVar15;
    param_11[1] = param_4[1] - fVar15 * param_5[1];
    fVar15 = param_4[2] - fVar15 * param_5[2];
    param_11[2] = fVar15;
    fVar15 = (-((*param_7 - *param_11) * (float)local_34) -
             (param_7[1] - param_11[1]) * (float)local_30) - (param_7[2] - fVar15) * (float)local_2c
    ;
    local_28 = (float *)(*param_11 - (float)local_34 * fVar15);
    local_24 = (float *)(param_11[1] - (float)local_30 * fVar15);
    local_20 = param_11[2] - (float)local_2c * fVar15;
    if ((param_7[1] - (float)local_24) * (float)local_18 +
        (param_7[2] - local_20) * local_18._4_4_ + (*param_7 - (float)local_28) * (float)local_1c <=
        0.0) {
      if ((param_8[1] - (float)local_24) * (float)local_18 +
          (param_8[2] - local_20) * local_18._4_4_ + (*param_8 - (float)local_28) * (float)local_1c
          < 0.0) {
        local_28 = (float *)*param_8;
        local_24 = (float *)param_8[1];
        local_20 = param_8[2];
      }
    }
    else {
      local_28 = (float *)*param_7;
      local_24 = (float *)param_7[1];
      local_20 = param_7[2];
    }
    local_4c = *param_4 - (float)local_28;
    local_48 = param_4[1] - (float)local_24;
    local_44 = param_4[2] - local_20;
    local_18 = (double)CONCAT44(&local_4c,0x420256);
    FUN_0045eab0();
    local_18 = (double)(*param_2 * local_4c + local_44 * param_2[2] + local_48 * param_2[1]);
    local_1c = (float **)0x420284;
    fVar13 = (float10)FUN_004ad3c0();
    if ((float10)0.001000000047497451 < fVar13) {
      *param_6 = local_4c;
      param_6[1] = local_48;
      param_6[2] = local_44;
      return 1;
    }
  }
LAB_0041fb8b:
  *param_6 = *param_5;
  param_6[1] = param_5[1];
  param_6[2] = param_5[2];
  return 1;
}



undefined4 FUN_004202c0(int param_1,int param_2,float *param_3)

{
  ushort uVar1;
  uint uVar2;
  int iVar3;
  float fVar4;
  
  if (param_2 == 0) {
    return 0;
  }
  uVar1 = *(ushort *)(param_1 + 0xa1);
  if ((uVar1 & 1) == 0) {
    if ((*(int *)(param_1 + 0x9d) != 0) && (*(int *)(*(int *)(param_1 + 0x9d) + 7) == 4)) {
      uVar2 = *(uint *)(*(int *)(param_2 + 4) + 0x8a);
      if (((uVar2 & 2) == 0) || (*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x100) + 0x48) != 4)) {
        if ((uVar2 & 0x1800000) != 0) {
          FUN_0046c680(param_2);
          return 1;
        }
        FUN_00443000(0);
        FUN_004412c0(param_2,0,*(undefined4 *)(*(int *)(param_2 + 4) + 0x86),5);
        return 1;
      }
    }
  }
  else {
    iVar3 = *(int *)(param_1 + 0x9d);
    if ((iVar3 == 0) || ((*(byte *)(iVar3 + 1) & 4) == 0)) {
      if ((uVar1 != 0) && ((iVar3 != 0 && ((*(byte *)(iVar3 + 1) & 0x80) != 0)))) {
        if (((uVar1 & 0x1000) != 0) &&
           ((*(int *)(iVar3 + 0xf) == 1 || (*(int *)(iVar3 + 0xf) == 3)))) {
          FUN_00426610(param_1);
          return 1;
        }
        FUN_00426610(param_1);
      }
      return 0;
    }
    fVar4 = *(float *)(param_1 + 0x89);
    *param_3 = fVar4;
    FUN_0046d020(param_2,fVar4);
    *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) | 0x10;
    if (*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x98) + 0x10) == 7) {
      *(float *)(*(int *)(param_2 + 4) + 0x3a) = (*param_3 - -1.28) - 0.325;
      return 1;
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00420410(int param_1,int param_2,float *param_3,float param_4)

{
  ushort uVar1;
  uint uVar2;
  char *pcVar3;
  int iVar4;
  int iVar5;
  bool bVar6;
  float fVar7;
  float fVar8;
  undefined *local_1c;
  int iStack_18;
  float fStack_14;
  
  AdjustStackForLargeAllocations();
  if (param_2 == 0) {
    return 0;
  }
  uVar1 = *(ushort *)(param_1 + 0xa1);
  if ((uVar1 & 1) == 0) {
    if ((*(int *)(param_1 + 0x9d) != 0) && (*(int *)(*(int *)(param_1 + 0x9d) + 7) == 4)) {
      uVar2 = *(uint *)(*(int *)(param_2 + 4) + 0x8a);
      if (((uVar2 & 2) == 0) || (*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x100) + 0x48) != 4)) {
        fStack_14 = (float)param_2;
        if ((uVar2 & 0x1800000) != 0) {
          iStack_18 = 0x4204b1;
          FUN_0046c680();
          return 1;
        }
        iStack_18 = 0;
        local_1c = (undefined *)0x420489;
        FUN_00443000();
        iStack_18 = *(undefined4 *)(*(int *)(param_2 + 4) + 0x86);
        fStack_14 = 7.006492e-45;
        local_1c = (undefined *)0x0;
        FUN_004412c0(param_2);
        return 1;
      }
    }
  }
  else if ((((param_1 == 0) || (*(int *)(param_1 + 0x9d) == 0)) ||
           ((*(byte *)(*(int *)(param_1 + 0x9d) + 1) & 4) == 0)) || ((uVar1 & 0x200) == 0)) {
    pcVar3 = *(char **)(param_1 + 0x9d);
    if (pcVar3 != (char *)0x0) {
      if ((*pcVar3 == '\x06') && (*(int *)(pcVar3 + 0xf) == 1)) {
        if ((DAT_00598944 != 0) && (DAT_00598924 == 0)) {
          return 1;
        }
        if ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) == 0) {
          return 1;
        }
        if (param_1 == *(int *)(*(int *)(DAT_00598d90 + 0x230) + DAT_005d674c * 4)) {
          DAT_005e45d0 = 1;
        }
        if ((DAT_00598944 != 0) && (DAT_005d86b0 != '\0')) {
          return 1;
        }
        _DAT_005e45d4 = 1;
        return 1;
      }
      if ((pcVar3 != (char *)0x0) && (*pcVar3 == '\x04')) {
        if ((DAT_00598944 != 0) && (DAT_00598924 == 0)) {
          return 1;
        }
        bVar6 = true;
        if ((*(short *)(pcVar3 + 3) != -1) &&
           (*(char *)(*(int *)(DAT_00598d90 + 0x247) + *(short *)(pcVar3 + 3) * 6) == '\0')) {
          bVar6 = false;
        }
        if (!bVar6) {
          return 1;
        }
        DAT_004d7a6c = 1;
        iVar4 = *(int *)(param_2 + 4);
        iVar5 = *(int *)(*(int *)(param_1 + 0x9d) + 0xf);
        fVar8 = *(float *)(iVar4 + 0xac) * *(float *)(param_1 + 0xe) +
                *(float *)(iVar4 + 0xa8) * *(float *)(param_1 + 10) +
                *(float *)(param_1 + 6) * *(float *)(iVar4 + 0xa4);
        fVar7 = ((float)iVar5 +
                (float)(*(int *)(*(int *)(param_1 + 0x9d) + 0x13) - iVar5) *
                (((param_4 - *(float *)(param_1 + 0x36)) - *(float *)(param_1 + 0x61)) /
                (*(float *)(param_1 + 0x6d) - *(float *)(param_1 + 0x61)))) * 0.003333333;
        if (fVar8 < 0.0) {
          *(float *)(iVar4 + 0xa4) = *(float *)(iVar4 + 0xa4) - fVar8 * *(float *)(param_1 + 6);
          *(float *)(*(int *)(param_2 + 4) + 0xa8) =
               *(float *)(*(int *)(param_2 + 4) + 0xa8) - fVar8 * *(float *)(param_1 + 10);
          *(float *)(*(int *)(param_2 + 4) + 0xac) =
               *(float *)(*(int *)(param_2 + 4) + 0xac) - fVar8 * *(float *)(param_1 + 0xe);
        }
        *(float *)(*(int *)(param_2 + 4) + 0xd3) =
             fVar7 * *(float *)(param_1 + 6) + *(float *)(*(int *)(param_2 + 4) + 0xd3);
        *(float *)(*(int *)(param_2 + 4) + 0xd7) =
             (fVar7 * *(float *)(param_1 + 10) + *(float *)(*(int *)(param_2 + 4) + 0xd7)) - -0.01;
        *(float *)(*(int *)(param_2 + 4) + 0xdb) =
             fVar7 * *(float *)(param_1 + 0xe) + *(float *)(*(int *)(param_2 + 4) + 0xdb);
        return 1;
      }
    }
    if (param_1 == 0) {
      return 0;
    }
    if (uVar1 == 0) {
      return 0;
    }
    if (pcVar3 == (char *)0x0) {
      return 0;
    }
    if (*pcVar3 != '\x02') {
      return 0;
    }
    if (((DAT_00598944 == 0) || (DAT_00598924 != 0)) && (*(int *)(pcVar3 + 0xf) == 10)) {
      if (DAT_00598944 == 0) {
        iVar4 = *(int *)(param_2 + 4);
        if ((*(byte *)(iVar4 + 0x8a) & 1) != 0) {
          fStack_14 = 0.0;
          iStack_18 = 0;
          *(int *)(iVar4 + 399) = *(int *)(iVar4 + 399) + *(int *)(pcVar3 + 0x13);
          local_1c = (undefined *)0x3f800000;
          FUN_0046cb20(2,&stack0xfffffff0,&local_1c,4,1);
          local_1c = &stack0xfffffff0;
          iStack_18 = *(undefined4 *)(*(int *)(param_1 + 0x9d) + 0x13);
          fStack_14 = 1.401298e-45;
          FUN_0049cca0();
          fStack_14 = 0.0;
          local_1c = (undefined *)(param_1 + 6);
          iStack_18 = 1;
          FUN_00475bf0(&DAT_005e4711);
          *(undefined2 *)(param_1 + 0xa1) = 0;
          return 1;
        }
      }
      else if ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0) {
        if (DAT_005d6c94 == 0) {
          fStack_14 = (float)DAT_005d7840;
          iStack_18 = 0;
          local_1c = (undefined *)0x0;
          FUN_00466530(0x18,*(undefined2 *)(param_1 + 4),
                       *(undefined2 *)(*(int *)(param_2 + 4) + 0x1aa));
          return 1;
        }
        fStack_14 = 0.0;
        iStack_18 = 0;
        local_1c = (undefined *)0x3f800000;
        FUN_0046cb20(2,&stack0xfffffff0,&local_1c,4,1);
        fStack_14 = *(float *)(*(int *)(param_1 + 0x9d) + 0x13);
        iStack_18 = *(undefined4 *)(*(int *)(param_2 + 4) + 0x86);
        local_1c = (undefined *)0x4207c7;
        FUN_00476740();
        if (DAT_005e4a64 != 0) {
          fStack_14 = 0.0;
          local_1c = (undefined *)(param_1 + 6);
          iStack_18 = 1;
          FUN_00475bf0(DAT_005e4a64 + 0x94b);
        }
        *(ushort *)(param_1 + 0xa1) = *(ushort *)(param_1 + 0xa1) & 0xfffe;
        fStack_14 = (float)param_1;
        iStack_18 = 0x4207f7;
        FUN_00476850();
        fStack_14 = 0.0;
        iStack_18 = 0;
        local_1c = (undefined *)0x0;
        FUN_00466530(0x19,*(undefined2 *)(param_1 + 4),
                     *(undefined2 *)(*(int *)(param_2 + 4) + 0x1aa));
        return 1;
      }
    }
  }
  else {
    fStack_14 = *(float *)(param_1 + 0x89);
    iStack_18 = param_2;
    *param_3 = fStack_14;
    local_1c = (undefined *)0x4204f0;
    FUN_0046d020();
    *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) | 0x10;
    if (*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x98) + 0x10) == 7) {
      *(float *)(*(int *)(param_2 + 4) + 0x3a) = (*param_3 - -1.28) - 0.325;
      return 1;
    }
  }
  return 1;
}



undefined4
FUN_00420900(int param_1,float *param_2,float *param_3,float *param_4,int param_5,float *param_6,
            float *param_7)

{
  float fVar1;
  float fVar2;
  bool bVar3;
  float fVar4;
  byte bVar5;
  float10 fVar6;
  double dVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  fVar6 = (float10)FUN_004ad3c0((double)param_4[1]);
  if (((float10)0.001000000047497451 <= fVar6) ||
     (fVar6 = (float10)FUN_004ad3c0((double)*param_4), (float10)0.001000000047497451 <= fVar6)) {
    fVar6 = (float10)FUN_004ad3c0((double)param_4[1]);
    if ((float10)0.001000000047497451 <= fVar6) {
      fVar1 = *(float *)(param_1 + 8) - *(float *)(param_5 + 8);
      fVar8 = SUB84((double)param_3[2],0);
      fVar6 = (float10)FUN_004ad3c0();
      if (fVar6 <= (float10)0.009999999776482582) {
        fVar1 = fVar1 / param_2[2];
        fVar2 = *param_3;
        *param_6 = fVar1;
        if (1.0 < fVar1 || fVar1 < 0.0) {
          return 0;
        }
        fVar8 = (fVar8 - *param_2 * fVar1) * (1.0 / fVar2);
        *param_7 = fVar8;
      }
      else {
        fVar2 = param_3[2];
        fVar4 = *param_3 * (1.0 / fVar2);
        fVar8 = (fVar8 - fVar4 * fVar1) / (*param_2 - fVar4 * param_2[2]);
        *param_6 = fVar8;
        if (1.0 < fVar8 || fVar8 < 0.0) {
          return 0;
        }
        fVar8 = (fVar1 - fVar8 * param_2[2]) * (1.0 / fVar2);
        *param_7 = fVar8;
      }
      bVar3 = 0.0 <= fVar8;
      if (*param_6 + fVar8 <= 1.0) {
        bVar5 = 1;
        goto LAB_00420dc0;
      }
    }
    else {
      fVar1 = *(float *)(param_1 + 8) - *(float *)(param_5 + 8);
      fVar8 = (float)((ulonglong)(double)param_3[2] >> 0x20);
      fVar6 = (float10)FUN_004ad3c0();
      if (fVar6 <= (float10)0.009999999776482582) {
        fVar1 = fVar1 / param_2[2];
        fVar2 = param_3[1];
        *param_6 = fVar1;
        if (1.0 < fVar1 || fVar1 < 0.0) {
          return 0;
        }
        fVar8 = (fVar8 - param_2[1] * fVar1) * (1.0 / fVar2);
        bVar3 = 0.0 <= fVar8;
        *param_7 = fVar8;
        if (*param_6 + fVar8 <= 1.0) {
          bVar5 = 1;
          goto LAB_00420dc0;
        }
      }
      else {
        fVar2 = param_3[2];
        fVar4 = param_3[1] * (1.0 / fVar2);
        fVar8 = (fVar8 - fVar4 * fVar1) / (param_2[1] - fVar4 * param_2[2]);
        *param_6 = fVar8;
        if (1.0 < fVar8 || fVar8 < 0.0) {
          return 0;
        }
        fVar8 = (fVar1 - fVar8 * param_2[2]) * (1.0 / fVar2);
        bVar3 = 0.0 <= fVar8;
        *param_7 = fVar8;
        if (*param_6 + fVar8 <= 1.0) {
          bVar5 = 1;
          goto LAB_00420dc0;
        }
      }
    }
  }
  else {
    dVar7 = (double)param_3[1];
    fVar6 = (float10)FUN_004ad3c0();
    fVar8 = (float)((ulonglong)dVar7 >> 0x20);
    if (fVar6 <= (float10)0.009999999776482582) {
      fVar8 = fVar8 / param_2[1];
      fVar1 = *param_3;
      *param_6 = fVar8;
      if (1.0 < fVar8 || fVar8 < 0.0) {
        return 0;
      }
      fVar8 = (SUB84(dVar7,0) - *param_2 * fVar8) * (1.0 / fVar1);
      bVar3 = 0.0 <= fVar8;
      *param_7 = fVar8;
      if (*param_6 + fVar8 <= 1.0) {
        bVar5 = 1;
        goto LAB_00420dc0;
      }
    }
    else {
      fVar1 = param_3[1];
      fVar2 = *param_3 * (1.0 / fVar1);
      fVar2 = (SUB84(dVar7,0) - fVar2 * fVar8) / (*param_2 - fVar2 * param_2[1]);
      *param_6 = fVar2;
      if (1.0 < fVar2 || fVar2 < 0.0) {
        return 0;
      }
      fVar8 = (fVar8 - fVar2 * param_2[1]) * (1.0 / fVar1);
      bVar3 = 0.0 <= fVar8;
      *param_7 = fVar8;
      if (*param_6 + fVar8 <= 1.0) {
        bVar5 = 1;
        goto LAB_00420dc0;
      }
    }
  }
  bVar5 = 0;
LAB_00420dc0:
  if (!(bool)(bVar5 & bVar3)) {
    return 0;
  }
  return 1;
}



undefined4
FUN_00420de0(float *param_1,float *param_2,float *param_3,undefined4 param_4,float *param_5,
            float *param_6,undefined4 param_7,undefined4 param_8,float *param_9,float *param_10)

{
  float fVar1;
  float fVar2;
  bool bVar3;
  float *pfVar4;
  float10 fVar5;
  float10 fVar6;
  float local_1c;
  float fVar7;
  float fVar9;
  double dVar8;
  float fVar10;
  float fVar11;
  float fVar12;
  
  pfVar4 = param_3;
  AdjustStackForLargeAllocations();
  bVar3 = false;
  fVar11 = (-((*param_5 - *param_1) * *param_3) - (param_5[1] - param_1[1]) * param_3[1]) -
           (param_5[2] - param_1[2]) * param_3[2];
  fVar7 = *param_1 - fVar11 * *param_3;
  fVar9 = *param_9 - fVar7;
  fVar10 = param_1[1] - fVar11 * param_3[1];
  fVar11 = param_1[2] - fVar11 * param_3[2];
  fVar12 = param_9[1] - fVar10;
  fVar1 = param_9[2] - fVar11;
  fVar9 = fVar1 * fVar1 + fVar12 * fVar12 + fVar9 * fVar9;
  if (fVar9 < 0.0001) {
    return 0;
  }
  fVar9 = (float)((ulonglong)(double)fVar9 >> 0x20);
  fVar5 = (float10)FUN_004ad534();
  fVar2 = 1.0 / (float)fVar5;
  fVar12 = fVar12 * fVar2;
  fVar1 = fVar1 * fVar2;
  if (-1e-05 < param_10[2] * fVar1 + param_10[1] * fVar12 + fVar9 * fVar2 * *param_10) {
    return 0;
  }
  fVar9 = *param_6 - *param_5;
  fVar7 = fVar7 - *param_5;
  fVar10 = fVar10 - param_5[1];
  fVar11 = fVar11 - param_5[2];
  fVar6 = (float10)FUN_004ad3c0((double)param_3[1]);
  if (((float10)0.001000000047497451 <= fVar6) ||
     (fVar6 = (float10)FUN_004ad3c0((double)param_3[2]), (float10)0.001000000047497451 <= fVar6)) {
    fVar6 = (float10)FUN_004ad3c0((double)*param_3);
    if ((fVar6 < (float10)0.001000000047497451) &&
       (fVar6 = (float10)FUN_004ad3c0((double)param_3[2]), fVar6 < (float10)0.001000000047497451)) {
      dVar8 = (double)fVar1;
      fVar6 = (float10)FUN_004ad3c0();
      fVar10 = (float)((ulonglong)dVar8 >> 0x20);
      if ((float10)0.009999999776482582 < fVar6) {
        fVar10 = fVar10 * (1.0 / fVar1);
        param_5 = (float *)(fVar9 - SUB84(dVar8,0) * fVar10);
        fVar9 = SUB84((double)(float)param_5,0);
        fVar6 = (float10)FUN_004ad3c0();
        if (fVar6 < (float10)9.999999747378752e-05) {
          return 0;
        }
        fVar10 = fVar7 - fVar11 * fVar10;
        goto LAB_00421128;
      }
      param_3 = (float *)(1.0 / fVar10);
      param_5 = (float *)(SUB84(dVar8,0) - fVar9 * fVar1 * (float)param_3);
      fVar6 = (float10)FUN_004ad3c0((double)(float)param_5);
      if (fVar6 < (float10)9.999999747378752e-05) {
        return 0;
      }
      fVar11 = (fVar11 - fVar7 * fVar1 * (float)param_3) / (float)param_5;
      if ((fVar11 < 0.0) || (1.0 < fVar11)) goto LAB_0042135a;
      fVar11 = fVar9 * fVar11 - fVar7;
      goto LAB_0042128e;
    }
    fVar11 = (float)((ulonglong)(double)fVar12 >> 0x20);
    fVar6 = (float10)FUN_004ad3c0();
    if ((float10)0.009999999776482582 < fVar6) {
      fVar11 = fVar11 * (1.0 / fVar12);
      param_5 = (float *)(fVar9 - fVar11 * 6.067583e-39);
      local_1c = 6.067678e-39;
      fVar6 = (float10)FUN_004ad3c0((double)(float)param_5);
      if (fVar6 < (float10)9.999999747378752e-05) {
        return 0;
      }
      fVar11 = fVar7 - fVar10 * fVar11;
      goto LAB_0042125a;
    }
    fVar12 = fVar12 * (1.0 / fVar11);
    param_5 = (float *)(6.067583e-39 - fVar9 * fVar12);
    fVar6 = (float10)FUN_004ad3c0((double)(float)param_5);
    if (fVar6 < (float10)9.999999747378752e-05) {
      return 0;
    }
    fVar10 = (fVar10 - fVar7 * fVar12) / (float)param_5;
    if ((fVar10 < 0.0) || (1.0 < fVar10)) goto LAB_0042135a;
    param_5 = (float *)((fVar9 * fVar10 - fVar7) * (1.0 / fVar11));
  }
  else {
    fVar7 = SUB84((double)fVar1,0);
    fVar6 = (float10)FUN_004ad3c0();
    if (fVar6 <= (float10)0.009999999776482582) {
      fVar1 = fVar1 * (1.0 / fVar12);
      param_5 = (float *)(fVar7 - fVar1 * 6.066783e-39);
      local_1c = 6.066986e-39;
      fVar6 = (float10)FUN_004ad3c0((double)(float)param_5);
      if (fVar6 < (float10)9.999999747378752e-05) {
        return 0;
      }
      fVar11 = fVar11 - fVar10 * fVar1;
LAB_0042125a:
      param_3 = (float *)(1.0 / fVar12);
      fVar11 = fVar11 / (float)param_5;
      if ((fVar11 < 0.0) || (1.0 < fVar11)) goto LAB_0042135a;
      fVar11 = local_1c * fVar11 - fVar10;
    }
    else {
      fVar12 = fVar12 * (1.0 / fVar1);
      param_5 = (float *)(6.066783e-39 - fVar7 * fVar12);
      fVar9 = SUB84((double)(float)param_5,0);
      fVar6 = (float10)FUN_004ad3c0();
      if (fVar6 < (float10)9.999999747378752e-05) {
        return 0;
      }
      fVar10 = fVar10 - fVar11 * fVar12;
LAB_00421128:
      param_3 = (float *)(1.0 / fVar1);
      fVar10 = fVar10 / (float)param_5;
      if ((fVar10 < 0.0) || (1.0 < fVar10)) goto LAB_0042135a;
      fVar11 = fVar9 * fVar10 - fVar11;
    }
LAB_0042128e:
    param_5 = (float *)(fVar11 * (float)param_3);
  }
  if ((0.0 <= (float)param_5) && ((float)param_5 <= (float)fVar5)) {
    bVar3 = true;
  }
LAB_0042135a:
  if (!bVar3) {
    return 0;
  }
  fVar12 = *param_2 - *param_1;
  fVar11 = param_2[2];
  fVar10 = param_2[1];
  fVar7 = param_1[1];
  fVar9 = param_1[2];
  FUN_0045eab0();
  fVar5 = (float10)FUN_004ad3c0((double)(fVar12 * *pfVar4 +
                                        (fVar11 - fVar9) * pfVar4[2] + (fVar10 - fVar7) * pfVar4[1])
                               );
  if ((float10)-0.9 <= fVar5) {
    if ((float10)0.9 < fVar5) {
      fVar5 = (float10)0.9;
    }
  }
  else {
    fVar5 = (float10)-0.9;
  }
  fVar12 = (float)((ulonglong)(double)((float10)1.0 - fVar5 * fVar5) >> 0x20);
  fVar5 = (float10)FUN_004ad534();
  fVar1 = (float)param_5 / (float)fVar5;
  *param_2 = *param_2 - fVar12 * fVar1;
  param_2[1] = param_2[1] - (fVar10 - fVar7) * fVar1;
  param_2[2] = param_2[2] - (fVar11 - fVar9) * fVar1;
  return 1;
}



undefined4 FUN_00421460(int param_1)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float local_c4 [4];
  float local_b4;
  float local_b0;
  float local_ac;
  float local_a4;
  float local_a0;
  float local_9c;
  float local_94;
  float local_90;
  float local_8c;
  float local_84 [4];
  float local_74;
  float local_70;
  float local_6c;
  float local_64;
  float local_60;
  float local_5c;
  float local_54;
  float local_50;
  float local_4c;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 0x5b);
  pfVar3 = (float *)(param_1 + 6);
  pfVar4 = local_84;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar4 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar4 = pfVar4 + 1;
  }
  pfVar3 = (float *)(iVar1 + 0x3f);
  pfVar4 = local_c4;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar4 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar4 = pfVar4 + 1;
  }
  if (0.0001 < (local_4c - local_8c) * (local_4c - local_8c) +
               (local_50 - local_90) * (local_50 - local_90) +
               (local_54 - local_94) * (local_54 - local_94)) {
    return 1;
  }
  if (0.0001 < (local_84[2] - local_c4[2]) * (local_84[2] - local_c4[2]) +
               (local_84[1] - local_c4[1]) * (local_84[1] - local_c4[1]) +
               (local_84[0] - local_c4[0]) * (local_84[0] - local_c4[0])) {
    return 1;
  }
  if (0.0001 < (local_6c - local_ac) * (local_6c - local_ac) +
               (local_70 - local_b0) * (local_70 - local_b0) +
               (local_74 - local_b4) * (local_74 - local_b4)) {
    return 1;
  }
  if (0.0001 < (local_5c - local_9c) * (local_5c - local_9c) +
               (local_60 - local_a0) * (local_60 - local_a0) +
               (local_64 - local_a4) * (local_64 - local_a4)) {
    return 1;
  }
  return 0;
}



byte FUN_00421600(int param_1)

{
  int param_6;
  int param_9;
  
  if (param_9 == 0) {
    return 2;
  }
  if (param_6 != 0) {
    return 2;
  }
  return ~*(byte *)(param_1 + 0xa1) & 2;
}



undefined4
FUN_00421640(float *param_1,float *param_2,float param_3,undefined4 param_4,float *param_5)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float10 fVar6;
  undefined4 local_44;
  float *local_40;
  undefined4 *local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float *local_28;
  float local_24;
  float local_20;
  float local_1c;
  undefined8 local_18;
  float fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  local_2c = *param_2;
  local_28 = (float *)param_2[1];
  local_24 = param_2[2];
  fVar7 = param_1[1] - (float)local_28;
  fVar8 = param_1[2] - local_24;
  local_18 = (double)(fVar8 * fVar8 + fVar7 * fVar7 + (*param_1 - local_2c) * (*param_1 - local_2c))
  ;
  local_1c = 6.069269e-39;
  fVar6 = (float10)FUN_004ad534();
  param_2 = (float *)((float)fVar6 / (param_3 * 1.99));
  local_20 = local_2c;
  fVar2 = 1.0 / (float)param_2;
  fVar7 = fVar2 * fVar7;
  fVar8 = fVar2 * fVar8;
  local_18 = (double)((ulonglong)(uint)(fVar2 * (float)((ulonglong)local_18 >> 0x20)) << 0x20);
  if ((float)param_2 <= 1.0) {
    return 0;
  }
  do {
    local_20 = (float)local_18._4_4_ + local_20;
    local_28 = &local_38;
    local_1c = fVar7 + 0.0;
    local_24 = 0.0;
    local_2c = 0.0;
    local_30 = 0.0;
    local_34 = 0.0;
    local_3c = &local_44;
    local_38 = param_3;
    local_40 = &local_20;
    local_18 = (double)(ulonglong)(uint)(fVar8 + 1.401298e-45);
    param_2 = (float *)((float)param_2 - 1.0);
    local_44 = 0x421766;
    iVar5 = FUN_00422320();
    if (iVar5 != 0) {
      local_18._4_4_ = (float *)((int)&local_18 + 4);
      local_18._0_4_ = 6.069762e-39;
      FUN_0045eab0();
      fVar2 = ((float)local_18 - local_24) * fVar8 +
              (local_1c - (float)local_28) * fVar7 + (local_20 - local_2c) * (float)local_18._4_4_;
      *param_1 = fVar2 * (float)local_18._4_4_ + local_2c;
      param_1[2] = fVar2 * fVar8 + local_24;
      param_1[1] = fVar2 * fVar7 + (float)local_28;
      *param_5 = local_38;
      param_5[1] = local_34;
      param_5[2] = local_30;
      if (local_34 < -0.7) {
        iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        iVar1 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
        if (((((iVar1 != 4) && (iVar1 != 5)) &&
             ((iVar1 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) != 6 ||
              (*(char *)(iVar5 + 4) != '\x03')))) &&
            ((*(int *)(iVar1 + 0x7b) != 8 ||
             ((*(char *)(iVar5 + 4) != '\x05' && (*(char *)(iVar5 + 4) != '\x06')))))) &&
           ((*(uint *)(iVar5 + 0x8a) & 0x100000) == 0)) {
          param_1[1] = (float)local_40;
        }
      }
      iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      iVar1 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
      if ((((iVar1 == 4) || (iVar1 == 5)) ||
          ((iVar1 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) == 6 &&
           (*(char *)(iVar5 + 4) == '\x03')))) ||
         (((*(int *)(iVar1 + 0x7b) == 8 &&
           ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))) ||
          ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)))) {
        param_1[1] = param_1[1] - 1.5;
      }
      if (local_34 <= 0.75) {
        return 1;
      }
      param_1[1] = param_1[1] - -1.5;
      return 1;
    }
    local_18 = (double)CONCAT44(&local_38,(float)local_18);
    local_1c = local_20;
    local_20 = 6.069576e-39;
    fVar6 = (float10)FUN_00422950();
    if (local_1c - 0.99 < (float)fVar6) {
      if (local_34 < 0.8) {
        local_18._4_4_ = (float *)((int)&local_18 + 4);
        local_18._0_4_ = 6.070283e-39;
        FUN_0045eab0();
        fVar2 = local_1c - (float)local_28;
        fVar3 = (float)local_18 - local_24;
        fVar4 = (local_20 - local_2c) * (float)local_18._4_4_;
        local_18._0_4_ = (float)local_18 - fVar8;
        local_1c = local_20 - (float)local_18._4_4_;
        local_18._4_4_ = &local_38;
        fVar2 = fVar3 * fVar8 + fVar2 * fVar7 + fVar4;
        local_20 = 6.070396e-39;
        fVar6 = (float10)FUN_00422950();
        if ((float10)param_1[1] < fVar6) {
          local_2c = fVar2 * (float)local_18._4_4_ + local_2c;
          local_18._0_4_ = fVar2 * fVar8 + local_24;
        }
        else {
          local_2c = local_20 - (float)local_18._4_4_;
          local_18._0_4_ = (float)local_18 - fVar8;
        }
        *param_1 = local_2c;
        param_1[1] = fVar2 * fVar7 + (float)local_28;
        param_1[2] = (float)local_18;
        *param_5 = local_38;
        param_5[1] = local_34;
        param_5[2] = local_30;
        return 1;
      }
      if (((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20000000) != 0) ||
         (DAT_004d867c != 0)) {
        param_1[1] = (float)fVar6 - -1.5;
        return 1;
      }
    }
    if ((float)param_2 <= 1.0) {
      return 0;
    }
  } while( true );
}



float10 FUN_00421a70(float param_1,float param_2,float param_3,float param_4,float param_5,
                    float param_6,float param_7,undefined4 param_8,uint param_9,int param_10)

{
  float10 fVar1;
  float *local_3c;
  float fStack_38;
  undefined4 uStack_34;
  float local_30;
  float local_2c;
  undefined4 ***local_28;
  undefined4 ***local_24;
  float **local_20;
  undefined4 **local_1c;
  double local_18;
  float fVar2;
  
  AdjustStackForLargeAllocations();
  local_30 = param_4;
  local_2c = param_5;
  local_28 = (undefined4 ***)param_6;
  local_18 = (double)((param_6 - param_3) * (param_6 - param_3) +
                     (param_5 - param_2) * (param_5 - param_2) +
                     (param_4 - param_1) * (param_4 - param_1));
  local_1c = (undefined4 **)0x421ad4;
  fVar1 = (float10)FUN_004ad534();
  fVar2 = (float)fVar1 / (param_7 * 1.95);
  if (fVar2 < 0.0) {
    fVar1 = (float10)-10000.0;
  }
  else {
    while( true ) {
      if (param_10 == 0) {
        local_18 = (double)(ulonglong)param_9;
        local_1c = (undefined4 **)param_8;
        local_24 = &local_24;
        local_20 = (float **)param_7;
        local_28 = (undefined4 ***)0x421b85;
        local_1c = (undefined4 **)FUN_00421e00();
      }
      else {
        local_18 = 0.0;
        local_1c = (undefined4 **)0x0;
        local_24 = (undefined4 ***)&stack0xfffffff4;
        local_20 = (float **)0x3f800000;
        local_28 = (undefined4 ***)param_10;
        local_2c = 0.0;
        local_30 = 0.0;
        uStack_34 = 0;
        local_3c = &local_30;
        fStack_38 = param_7;
        local_1c = (undefined4 **)FUN_00422320(&local_24);
      }
      if (local_1c != (undefined4 **)0x0) {
        return (float10)(float)local_20;
      }
      local_18 = 0.0;
      local_20 = &local_3c;
      local_28 = local_24;
      local_2c = 6.071058e-39;
      local_24 = (undefined4 ***)local_1c;
      fVar1 = (float10)FUN_0041c650();
      if ((float10)(float)local_20 < fVar1) break;
      fVar2 = fVar2 - 1.0;
      if ((fVar2 < 0.0) && (-1.0 < fVar2)) {
        fVar2 = 0.0;
      }
      if (fVar2 < 0.0) {
        return (float10)-10000.0;
      }
    }
  }
  return fVar1;
}



bool FUN_00421c60(float *param_1,float *param_2,float param_3,undefined4 param_4,undefined4 param_5)

{
  float fVar1;
  float fVar2;
  int iVar3;
  float10 fVar4;
  float local_20;
  float local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  if (param_3 < 0.1) {
    param_3 = 1.0;
  }
  fVar1 = param_1[2] - param_2[2];
  local_18 = (double)(fVar1 * fVar1 +
                     (param_1[1] - param_2[1]) * (param_1[1] - param_2[1]) +
                     (*param_1 - *param_2) * (*param_1 - *param_2));
  local_1c = 6.071475e-39;
  fVar4 = (float10)FUN_004ad534();
  if ((float10)(param_3 * 1.99) <= fVar4) {
    fVar2 = (float)fVar4 / (param_3 * 1.99);
    local_18 = (double)(ulonglong)(uint)param_2[2];
    param_2 = (float *)fVar2;
    if (fVar2 <= 0.0) {
      return false;
    }
    do {
      param_2 = (float *)((float)param_2 - 1.0);
      local_18 = (double)CONCAT44(param_5,(1.0 / fVar2) * fVar1 + local_18._0_4_);
      local_1c = 0.0;
      local_20 = param_3;
      iVar3 = FUN_00421e00(&local_20);
      if (iVar3 != 0) {
        *param_1 = local_20;
        param_1[1] = local_1c;
        param_1[2] = local_18._0_4_;
        return true;
      }
    } while (0.0 < (float)param_2);
    return false;
  }
  local_18 = (double)CONCAT44(param_5,param_4);
  local_1c = 0.0;
  local_20 = param_3;
  iVar3 = FUN_00421e00(param_1);
  return iVar3 != 0;
}



int FUN_00421e00(float *param_1,undefined *param_2,undefined4 *param_3,int param_4,int param_5)

{
  ushort *puVar1;
  ushort uVar2;
  ushort uVar3;
  uint *puVar4;
  char *pcVar5;
  undefined *puVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int *piVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  char *pcVar13;
  undefined local_114 [64];
  int local_d4 [38];
  undefined4 uStackY_3c;
  int iStackY_38;
  float *local_34;
  float *pfStackY_30;
  undefined *puStackY_2c;
  float **local_28;
  int local_24;
  undefined4 *local_20;
  uint *puVar14;
  
  puVar6 = param_2;
  AdjustStackForLargeAllocations();
  local_20 = (undefined4 *)0x421e20;
  _memset(local_114,0,0x40);
  __ftol();
  local_20 = (undefined4 *)__ftol();
  __ftol();
  iVar7 = __ftol();
  __ftol();
  iVar8 = __ftol();
  puVar11 = (undefined4 *)0x0;
  iVar8 = iVar8 + 1;
  local_24 = iVar8;
  __ftol();
  param_2 = (undefined *)__ftol();
  puVar12 = local_20;
  for (; (int)param_2 < iVar7 + 1; param_2 = param_2 + 1) {
    local_20 = puVar12;
    if ((int)puVar12 < iVar8) {
      do {
        local_20 = (undefined4 *)0x421edd;
        pcVar13 = (char *)puVar12;
        iVar9 = FUN_0045cad0();
        if (iVar9 != 0) {
          uVar2 = *(ushort *)(iVar9 + 10);
          while (uVar2 != 0) {
            iVar8 = (uint)uVar2 * 10;
            uVar2 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -10 + iVar8);
            if (((uVar2 & 0x8000) == 0) &&
               (puVar4 = *(uint **)(*(int *)(DAT_00598d90 + 0x230) + (uint)uVar2 * 4),
               (*(byte *)((int)puVar4 + 0xa1) & 0x10) == 0)) {
              param_2 = puVar6;
              if (param_4 != 0) {
                param_2 = (undefined *)0x3dcccccd;
              }
              local_20 = (undefined4 *)0x421f5b;
              puVar14 = puVar4;
              pcVar13 = (char *)param_3;
              iVar9 = FUN_00422730();
              uVar3 = *(ushort *)((int)puVar4 + 0xa1);
              if ((((((uVar3 & 2) != 0) && (iVar9 == 0)) &&
                   ((pcVar5 = *(char **)((int)puVar4 + 0x9d), pcVar5 == (char *)0x0 ||
                    ((*pcVar5 != '\x04' && ((pcVar5[1] & 4U) == 0)))))) &&
                  (*(float *)((int)puVar4 + 0x81) < (float)puVar6 + param_1[2])) &&
                 ((((param_1[2] - (float)puVar6 < *(float *)((int)puVar4 + 0x8d) &&
                    (*(float *)((int)puVar4 + 0x79) < *param_1 + (float)puVar6)) &&
                   (*param_1 - (float)puVar6 < *(float *)((int)puVar4 + 0x85))) &&
                  ((*(float *)((int)puVar4 + 0x7d) < (float)puVar6 + param_1[1] &&
                   (param_1[1] - (float)puVar6 < *(float *)((int)puVar4 + 0x89))))))) {
                if ((int)pcVar13 < 0x28) {
                  *puVar14 = (uint)uVar2;
                  pcVar13 = (char *)((int)pcVar13 + 1);
                  *(ushort *)((int)puVar4 + 0xa1) = uVar3 | 0x10;
                }
                else {
                  pcVar13 = s_MAX_COLLIDE_FOR_PARTICLE_004c730c;
                  param_2 = &DAT_005ba520;
                  FID_conflict___mbscpy(&DAT_005ba520,s_MAX_COLLIDE_FOR_PARTICLE_004c730c);
                }
              }
            }
            uVar2 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -8 + iVar8);
            puVar11 = (undefined4 *)pcVar13;
            iVar8 = local_24;
          }
        }
        puVar12 = (undefined4 *)((int)puVar12 + 1);
      } while ((int)puVar12 < iVar8);
    }
    puVar12 = local_20;
  }
  if (0 < (int)puVar11) {
    piVar10 = local_d4;
    puVar12 = puVar11;
    do {
      iVar8 = *piVar10;
      piVar10 = piVar10 + 1;
      puVar1 = (ushort *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + iVar8 * 4) + 0xa1);
      *puVar1 = *puVar1 & 0xffef;
      puVar12 = (undefined4 *)((int)puVar12 + -1);
    } while (puVar12 != (undefined4 *)0x0);
  }
  if (param_3 != (undefined4 *)0x0) {
    *param_3 = 0;
  }
  param_4 = 0;
  if ((int)puVar11 < 1) {
    return 0;
  }
  piVar10 = local_d4;
  do {
    iVar9 = 0;
    local_28 = &local_34;
    iVar8 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + *piVar10 * 4);
    local_20 = (undefined4 *)0x0;
    local_24 = 1;
    puStackY_2c = puVar6;
    pfStackY_30 = param_1;
    local_34 = param_1;
    uStackY_3c = 0x422103;
    iStackY_38 = iVar8;
    iVar7 = FUN_0041e9a0();
    if (iVar7 != 0) {
      local_20 = (undefined4 *)0x42212f;
      FUN_00422730();
      if (((param_5 != 0) && (*(int *)(iVar8 + 0x9d) != 0)) &&
         (*(int *)(*(int *)(iVar8 + 0x9d) + 0xf) == 0x104)) {
        if (*(int *)(iVar8 + 0x99) != 0) {
          local_20 = (undefined4 *)(DAT_00598d90 + 0x245);
          local_24 = 0x422172;
          FUN_00472ec0();
        }
        *(undefined2 *)(iVar8 + 0xa1) = 0;
      }
      return iVar8;
    }
    param_4 = param_4 + 1;
    piVar10 = piVar10 + 1;
  } while (param_4 < iVar9);
  return 0;
}



int FUN_00422190(float *param_1,float *param_2,float param_3,undefined4 param_4,undefined4 param_5,
                undefined4 param_6,undefined4 param_7,uint param_8,float param_9)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float10 fVar6;
  float local_20;
  float local_1c;
  undefined8 local_18;
  
  AdjustStackForLargeAllocations();
  if (param_3 <= 0.1) {
    param_3 = 1.0;
  }
  fVar1 = param_1[1] - param_2[1];
  fVar2 = param_1[2] - param_2[2];
  local_18 = (double)(fVar2 * fVar2 + fVar1 * fVar1 + (*param_1 - *param_2) * (*param_1 - *param_2))
  ;
  local_1c = 6.073335e-39;
  fVar6 = (float10)FUN_004ad534();
  if ((float10)(param_3 * 1.99) <= fVar6) {
    fVar3 = (float)fVar6 / (param_3 * 1.99);
    local_20 = *param_2;
    fVar4 = 1.0 / fVar3;
    local_18 = (double)((ulonglong)(uint)(fVar4 * (float)((ulonglong)local_18 >> 0x20)) << 0x20);
    do {
      if (fVar3 <= 0.0) {
        return 0;
      }
      local_18._4_4_ = (float)((ulonglong)local_18 >> 0x20);
      local_20 = local_18._4_4_ + local_20;
      local_1c = fVar4 * fVar1 + 0.0;
      local_18 = (double)CONCAT44(param_8,fVar4 * fVar2 + 0.0);
      fVar3 = fVar3 - 1.0;
      iVar5 = FUN_00422320(&local_20,param_2,param_3,param_4,param_5,&stack0xfffffff8,param_6,
                           param_7);
    } while (iVar5 == 0);
    return iVar5;
  }
  local_18 = (double)((ulonglong)param_8 << 0x20);
  local_1c = 0.0;
  local_20 = param_9;
  iVar5 = FUN_00422320(param_1,param_2,param_3,param_4,param_5,&stack0xfffffff8,param_6,param_7);
  return iVar5;
}



undefined *
FUN_00422320(float *param_1,undefined4 param_2,undefined *param_3,undefined *param_4,
            undefined4 *param_5,int *param_6,undefined4 *param_7,undefined4 param_8,
            undefined4 param_9,int param_10,int param_11)

{
  ushort *puVar1;
  char cVar2;
  ushort uVar3;
  char *pcVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  undefined *puVar8;
  int iVar9;
  int *piVar10;
  undefined *puVar11;
  int local_d4 [38];
  undefined4 uStackY_3c;
  undefined *puStackY_38;
  float *local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  int local_24;
  int local_20;
  undefined4 *local_1c;
  undefined *puVar12;
  uint *puVar13;
  
  AdjustStackForLargeAllocations();
  puVar11 = (undefined *)0x0;
  puVar12 = (undefined *)0x0;
  bVar5 = false;
  if (param_6 != (int *)0x0) {
    *param_6 = 0;
  }
  if (param_5 != (undefined4 *)0x0) {
    *param_5 = 0;
  }
  __ftol();
  local_20 = __ftol();
  __ftol();
  iVar6 = __ftol();
  local_34 = (float *)(iVar6 + 1);
  __ftol();
  iVar7 = __ftol();
  local_1c = (undefined4 *)(iVar7 + 1);
  iVar7 = 0;
  __ftol();
  puVar8 = (undefined *)__ftol();
  if ((int)puVar8 < iVar6 + 1) {
    do {
      local_24 = local_20;
      iVar6 = local_20;
      if (local_20 < (int)local_1c) {
        do {
          local_1c = (undefined4 *)DAT_00598ff0;
          local_20 = 0x422406;
          local_24 = iVar6;
          puVar12 = puVar8;
          iVar9 = FUN_0045cad0();
          if (iVar9 != 0) {
            uVar3 = *(ushort *)(iVar9 + 10);
            while (uVar3 != 0) {
              iVar6 = (uint)uVar3 * 10;
              uVar3 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -10 + iVar6);
              if (((uVar3 & 0x8000) == 0) &&
                 (puVar11 = *(undefined **)(*(int *)(DAT_00598d90 + 0x230) + (uint)uVar3 * 4),
                 (puVar11[0xa1] & 0x10) == 0)) {
                puVar13 = (uint *)0x0;
                puVar12 = param_3;
                if (param_11 != 0) {
                  puVar12 = (undefined *)0x3ecccccd;
                }
                local_20 = 0x42247f;
                local_1c = (undefined4 *)puVar11;
                iVar9 = FUN_00422730();
                if (((((((puVar11 != (undefined *)0x0) && ((puVar11[0xa1] & 2) != 0)) &&
                       (iVar9 == 0)) && ((*(int *)(puVar11 + 0x5b) == 0 || (param_10 == 0)))) &&
                     ((pcVar4 = *(char **)(puVar11 + 0x9d), pcVar4 == (char *)0x0 ||
                      (((pcVar4[1] & 4U) == 0 &&
                       ((pcVar4 == (char *)0x0 ||
                        ((cVar2 = *pcVar4, cVar2 != '\x04' &&
                         ((pcVar4 == (char *)0x0 ||
                          ((cVar2 != '\x06' && ((pcVar4 == (char *)0x0 || (cVar2 != '\x02'))))))))))
                       )))))) && (*(float *)(puVar11 + 0x81) < (float)param_3 + param_1[2])) &&
                   (((param_1[2] - (float)param_3 < *(float *)(puVar11 + 0x8d) &&
                     (*(float *)(puVar11 + 0x79) < *param_1 + (float)param_3)) &&
                    (*param_1 - (float)param_3 < *(float *)(puVar11 + 0x85))))) {
                  if (((*(float *)(puVar11 + 0x89) <= param_1[1] - (float)param_3) &&
                      (param_6 != (int *)0x0)) &&
                     ((*param_6 == 0 || (*(float *)(*param_6 + 0x89) < *(float *)(puVar11 + 0x89))))
                     ) {
                    *param_6 = (int)puVar11;
                  }
                  if ((*(float *)(puVar11 + 0x7d) < (float)param_3 + param_1[1]) &&
                     (param_1[1] - (float)param_3 < *(float *)(puVar11 + 0x89))) {
                    if (iVar7 < 0x28) {
                      iVar7 = iVar7 + 1;
                      *puVar13 = (uint)uVar3;
                      puVar11[0xa1] = puVar11[0xa1] | 0x10;
                    }
                    else {
                      puVar12 = &DAT_005ba520;
                      local_1c = (undefined4 *)0x4225d0;
                      FID_conflict___mbscpy(&DAT_005ba520,s_MAX_COLLIDE_FOR_PARTICLE_004c734c);
                    }
                  }
                }
              }
              uVar3 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -8 + iVar6);
              iVar6 = local_24;
            }
          }
          iVar6 = iVar6 + 1;
          local_24 = iVar6;
        } while (iVar6 < (int)local_1c);
      }
      puVar8 = puVar8 + 1;
    } while ((int)puVar8 < (int)local_34);
  }
  param_6 = (int *)iVar7;
  if (0 < (int)param_6) {
    piVar10 = local_d4;
    iVar7 = (int)param_6;
    do {
      iVar6 = *piVar10;
      piVar10 = piVar10 + 1;
      puVar1 = (ushort *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + iVar6 * 4) + 0xa1);
      *puVar1 = *puVar1 & 0xffef;
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
    if (0 < (int)param_6) {
      piVar10 = local_d4;
      do {
        puVar11 = *(undefined **)(*(int *)(DAT_00598d90 + 0x230) + *piVar10 * 4);
        puVar12 = (undefined *)0x1;
        local_1c = (undefined4 *)param_8;
        local_20 = 0;
        local_24 = 0;
        local_34 = param_1;
        local_28 = 0;
        local_2c = 0;
        local_30 = 0;
        uStackY_3c = 0x4226a5;
        puStackY_38 = puVar11;
        iVar7 = FUN_0041e9a0();
        if (iVar7 != 0) {
          bVar5 = true;
          if (*(int *)(puVar11 + 0x5b) != 0) {
            puVar12 = puVar11;
          }
          if (param_4 != (undefined *)0x0) {
            local_1c = &local_30;
            local_20 = 0x4226d2;
            puVar12 = param_4;
            FUN_0047d860();
          }
          if (param_7 != (undefined4 *)0x0) {
            *param_7 = local_30;
            param_7[1] = local_2c;
            param_7[2] = local_28;
          }
          if (param_5 != (undefined4 *)0x0) {
            *param_5 = puVar11;
          }
        }
        piVar10 = piVar10 + 1;
        param_6 = (int *)((int)param_6 + -1);
      } while (param_6 != (int *)0x0);
    }
  }
  if (bVar5) {
    if (puVar12 == (undefined *)0x0) {
      return puVar11;
    }
  }
  else {
    puVar12 = (undefined *)0x0;
  }
  return puVar12;
}



undefined4 FUN_00422730(int param_1,float param_2,undefined4 *param_3)

{
  ushort uVar1;
  
  if (((*(byte *)(param_1 + 0xa1) & 0xe0) != 0) && (param_3 != (undefined4 *)0x0)) {
    *param_3 = 1;
  }
  uVar1 = *(ushort *)(param_1 + 0xa1);
  if (((uVar1 & 0x20) != 0) && (param_2 <= 0.1)) {
    return 1;
  }
  if (((uVar1 & 0x40) != 0) && (param_2 <= 0.25)) {
    return 1;
  }
  if (((uVar1 & 0x80) != 0) && (param_2 <= 0.5)) {
    return 1;
  }
  return 0;
}



undefined4
FUN_004227b0(float param_1,float param_2,float param_3,float param_4,float param_5,float param_6,
            float param_7,float *param_8)

{
  float fVar1;
  float *pfVar2;
  float unaff_EDI;
  float10 fVar3;
  float *local_20;
  float **ppfStack_1c;
  float fStack_18;
  undefined8 local_14;
  
  pfVar2 = param_8;
  AdjustStackForLargeAllocations();
  local_14 = (double)(unaff_EDI * unaff_EDI +
                     (param_5 - param_2) * (param_5 - param_2) +
                     (param_4 - param_1) * (param_4 - param_1));
  fStack_18 = 6.075493e-39;
  fVar3 = (float10)FUN_004ad534();
  fVar1 = (float)fVar3 / (param_7 * 1.95);
  *param_8 = param_1;
  param_8[1] = param_2;
  param_8[2] = param_3;
  param_8 = (float *)fVar1;
  if (fVar1 <= 0.0) {
    return 0;
  }
  while( true ) {
    local_14 = 0.0;
    fStack_18 = 0.0;
    ppfStack_1c = (float **)param_7;
    local_20 = pfVar2;
    fStack_18 = (float)FUN_00421e00();
    if (fStack_18 != 0.0) {
      return 1;
    }
    local_20 = (float *)pfVar2[2];
    ppfStack_1c = &local_20;
    local_14._0_4_ = fStack_18;
    local_14._4_4_ = fStack_18;
    fVar3 = (float10)FUN_0041c650(*pfVar2);
    if ((float10)pfVar2[1] < fVar3) break;
    param_8 = (float *)((float)param_8 - 1.0);
    *pfVar2 = (float)local_14 + *pfVar2;
    pfVar2[1] = local_14._4_4_ + pfVar2[1];
    pfVar2[2] = (1.0 / fVar1) * unaff_EDI + pfVar2[2];
    if (((float)param_8 < 0.0) && (-1.0 < (float)param_8)) {
      param_8 = (float *)0x0;
      *pfVar2 = param_4;
      pfVar2[1] = param_5;
      pfVar2[2] = param_6;
    }
    if ((float)param_8 <= 0.0) {
      return 0;
    }
  }
  return 1;
}



float10 FUN_00422950(float param_1,float param_2,undefined4 *param_3)

{
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  float10 fVar1;
  undefined4 local_14;
  float fVar2;
  
  AdjustStackForLargeAllocations();
  local_14 = 0;
  fVar1 = (float10)FUN_0041c650(param_1,param_2,&local_14,0,0);
  fVar2 = (float)fVar1;
  *param_3 = local_14;
  param_3[1] = unaff_EDI;
  local_14 = 0;
  param_3[2] = unaff_ESI;
  fVar1 = (float10)FUN_0041c650(param_1 - -0.99,param_2 - -0.99,&local_14,0,0);
  if ((float10)fVar2 < fVar1) {
    fVar2 = (float)fVar1;
    *param_3 = local_14;
    param_3[1] = unaff_EDI;
    param_3[2] = unaff_ESI;
  }
  local_14 = 0;
  fVar1 = (float10)FUN_0041c650(param_1,param_2 - -0.99,&local_14,0,0);
  if ((float10)fVar2 < fVar1) {
    fVar2 = (float)fVar1;
    *param_3 = local_14;
    param_3[1] = unaff_EDI;
    param_3[2] = unaff_ESI;
  }
  local_14 = 0;
  fVar1 = (float10)FUN_0041c650(param_1,param_2 - 0.99,&local_14,0,0);
  if ((float10)fVar2 < fVar1) {
    fVar2 = (float)fVar1;
    *param_3 = local_14;
    param_3[1] = unaff_EDI;
    param_3[2] = unaff_ESI;
  }
  local_14 = 0;
  fVar1 = (float10)FUN_0041c650(param_1 - 0.99,param_2,&local_14,0,0);
  if (fVar1 <= (float10)fVar2) {
    return (float10)fVar2;
  }
  *param_3 = local_14;
  param_3[1] = unaff_EDI;
  param_3[2] = unaff_ESI;
  return (float10)(float)fVar1;
}



uint FUN_00422ac0(float *param_1,undefined4 param_2,float param_3)

{
  ushort *puVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  int iVar5;
  undefined *puVar6;
  undefined *puVar7;
  uint uVar8;
  uint *puVar9;
  float fVar10;
  char *pcVar11;
  uint local_d0 [37];
  undefined4 uStackY_3c;
  float fStackY_38;
  float *pfStackY_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  int local_20;
  undefined4 *local_1c;
  char *pcVar12;
  int iVar13;
  undefined *puVar14;
  
  AdjustStackForLargeAllocations();
  iVar13 = 0;
  __ftol();
  local_1c = (undefined4 *)__ftol();
  __ftol();
  iVar4 = __ftol();
  local_20 = iVar4 + 1;
  __ftol();
  iVar5 = __ftol();
  puVar6 = (undefined *)(iVar5 + 1);
  iVar5 = 0;
  __ftol();
  puVar7 = (undefined *)__ftol();
  fVar10 = param_3;
  if ((int)puVar7 < iVar4 + 1) {
    do {
      pcVar11 = (char *)local_1c;
      puVar14 = puVar7;
      if ((int)local_1c < (int)puVar6) {
        do {
          local_1c = (undefined4 *)DAT_00598ff0;
          local_20 = 0x422b90;
          puVar6 = puVar7;
          pcVar12 = pcVar11;
          iVar4 = FUN_0045cad0();
          if ((iVar4 != 0) && (uVar8 = (uint)*(ushort *)(iVar4 + 10), uVar8 != 0)) {
            puVar9 = local_d0 + iVar5;
            pcVar11 = pcVar12;
            puVar7 = puVar14;
            do {
              uVar2 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -10 + uVar8 * 10);
              if ((uVar2 & 0x8000) == 0) {
                fVar10 = *(float *)(*(int *)(DAT_00598d90 + 0x230) + (uint)uVar2 * 4);
                uVar3 = *(ushort *)((int)fVar10 + 0xa1);
                if (((((((uVar3 & 0x10) == 0) && (fVar10 != 0.0)) &&
                      (*(int *)((int)fVar10 + 0x5b) != 0)) &&
                     ((*(float *)((int)fVar10 + 0x81) < param_3 + param_1[2] &&
                      (param_1[2] - param_3 < *(float *)((int)fVar10 + 0x8d))))) &&
                    ((*(float *)((int)fVar10 + 0x79) < param_3 + *param_1 &&
                     ((*param_1 - param_3 < *(float *)((int)fVar10 + 0x85) &&
                      (*(float *)((int)fVar10 + 0x7d) < param_3 + param_1[1])))))) &&
                   (param_1[1] - param_3 < *(float *)((int)fVar10 + 0x89))) {
                  if (iVar5 < 0x28) {
                    *puVar9 = (uint)uVar2;
                    iVar5 = iVar5 + 1;
                    puVar9 = puVar9 + 1;
                    *(ushort *)((int)fVar10 + 0xa1) = uVar3 | 0x10;
                  }
                  else {
                    pcVar11 = s_MAX_COLLIDE_FOR_PARTICLE_004c738c;
                    puVar6 = &DAT_005ba520;
                    local_1c = (undefined4 *)0x422cab;
                    FID_conflict___mbscpy(&DAT_005ba520,s_MAX_COLLIDE_FOR_PARTICLE_004c738c);
                  }
                }
              }
              uVar8 = (uint)*(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -8 + uVar8 * 10);
              puVar14 = puVar7;
            } while (uVar8 != 0);
          }
          pcVar11 = pcVar11 + 1;
        } while ((int)pcVar11 < (int)puVar6);
      }
      puVar7 = puVar7 + 1;
    } while ((int)puVar7 < local_20);
  }
  if (0 < iVar5) {
    puVar9 = local_d0;
    iVar4 = iVar5;
    do {
      uVar8 = *puVar9;
      puVar9 = puVar9 + 1;
      puVar1 = (ushort *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar8 * 4) + 0xa1);
      *puVar1 = *puVar1 & 0xffef;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    if (0 < iVar5) {
      puVar9 = local_d0;
      do {
        fVar10 = *(float *)(*(int *)(DAT_00598d90 + 0x230) + *puVar9 * 4);
        local_1c = &local_30;
        local_20 = 0;
        local_24 = 0;
        local_30 = param_2;
        pfStackY_34 = param_1;
        local_28 = 0;
        local_2c = 0;
        uStackY_3c = 0x422d7a;
        fStackY_38 = fVar10;
        iVar4 = FUN_0041e9a0();
        if (iVar4 != 0) {
          iVar13 = 1;
        }
        puVar9 = puVar9 + 1;
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
    }
  }
  return -(uint)(iVar13 != 0) & (uint)fVar10;
}



void FUN_00422db0(void)

{
  uint *puVar1;
  int iVar2;
  undefined4 *puVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  undefined1 *puVar8;
  uint uVar9;
  uint uVar10;
  float *pfVar11;
  int *piVar12;
  float *pfVar13;
  bool bVar14;
  float10 fVar15;
  float local_40;
  undefined4 local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 *local_20;
  float fVar16;
  undefined4 *puVar17;
  undefined4 *puVar18;
  int iVar19;
  double dVar20;
  byte *pbVar22;
  undefined8 uVar21;
  float *pfVar23;
  float *pfVar24;
  
  AdjustStackForLargeAllocations();
  local_20 = (undefined4 *)0x422dd1;
  _memset(&DAT_005e44a0,0,300);
  iVar19 = *(int *)(DAT_005df318 + 4);
  iVar2 = iVar19;
joined_r0x00422de0:
  do {
    if (iVar2 == 0) {
      if (DAT_00598d6c == 0) {
        uVar9 = 0;
        if (DAT_005e44a0 != 0) {
          pfVar11 = (float *)&DAT_005e44c8;
          piVar12 = &DAT_005e4584;
          do {
            iVar19 = *piVar12;
            local_34 = *(float *)(iVar19 + 0x36) - *(float *)(iVar19 + 0xbc);
            local_30 = *(float *)(iVar19 + 0x3a) - *(float *)(iVar19 + 0xc0);
            local_2c = *(float *)(iVar19 + 0x3e) - *(float *)(iVar19 + 0xc4);
            fVar15 = (float10)FUN_004ad534();
            fVar16 = 1.0 / (float)fVar15;
            uVar9 = uVar9 + 1;
            piVar12[-0x38] = (int)(float)fVar15;
            pfVar11[-1] = fVar16 * local_34;
            *pfVar11 = fVar16 * local_30;
            pfVar11[1] = fVar16 * local_2c;
            pfVar11[0x17] = *(float *)(*piVar12 + 0xbc);
            pfVar11[0x18] = *(float *)(*piVar12 + 0xc0);
            pfVar11[0x19] = *(float *)(*piVar12 + 0xc4);
            pfVar11 = pfVar11 + 3;
            piVar12 = piVar12 + 1;
          } while (uVar9 < DAT_005e44a0);
        }
        do {
          iVar19 = 0;
          if (DAT_005e44a0 != 0) {
            iVar19 = 0;
            pfVar13 = (float *)&DAT_005e44a4;
            pfVar11 = (float *)&DAT_005e4524;
            uVar9 = 1;
            do {
              if (uVar9 < DAT_005e44a0) {
                pfVar23 = pfVar11 + 5;
                uVar10 = uVar9;
                pfVar24 = pfVar13;
                do {
                  pfVar24 = pfVar24 + 1;
                  local_20 = (undefined4 *)*pfVar23;
                  local_34 = pfVar23[-2] - *pfVar11;
                  dVar20 = (double)local_34;
                  fVar15 = (float10)FUN_004ad3c0();
                  if (fVar15 < (float10)2.559999942779541) {
                    local_2c = (float)local_20 - pfVar11[2];
                    dVar20 = (double)local_2c;
                    fVar16 = 6.0789e-39;
                    fVar15 = (float10)FUN_004ad3c0();
                    if (fVar15 < (float10)2.559999942779541) {
                      dVar20 = (double)(fVar16 - pfVar11[1]);
                      fVar15 = (float10)FUN_004ad3c0();
                      if ((fVar15 < (float10)2.559999942779541) &&
                         (local_2c * local_2c + local_34 * local_34 < 6.5536)) {
                        pbVar22 = (byte *)((ulonglong)dVar20 >> 0x20);
                        *pbVar22 = *pbVar22 | '\x01' << ((byte)uVar10 & 0x1f);
                        *pfVar24 = 0.0;
                        *pfVar13 = 0.0;
                      }
                    }
                  }
                  iVar19 = SUB84(dVar20,0);
                  uVar10 = uVar10 + 1;
                  pfVar23 = pfVar23 + 3;
                } while (uVar10 < DAT_005e44a0);
              }
              fVar16 = *pfVar13 - 2.496;
              *pfVar13 = fVar16;
              if ((0.0 < fVar16) || (fVar16 <= -2.496)) {
                if (fVar16 <= 0.0) {
                  *pfVar13 = 0.0;
                }
                else {
                  iVar19 = 1;
                  *pfVar11 = *pfVar11 - pfVar11[-0x18] * -2.496;
                  pfVar11[1] = pfVar11[1] - pfVar11[-0x17] * -2.496;
                  pfVar11[2] = pfVar11[2] - pfVar11[-0x16] * -2.496;
                }
              }
              else {
                *pfVar13 = 0.0;
                iVar19 = 1;
                *pfVar11 = *(float *)((int)pfVar13[0x38] + 0x36);
                pfVar11[1] = *(float *)((int)pfVar13[0x38] + 0x3a);
                pfVar11[2] = *(float *)((int)pfVar13[0x38] + 0x3e);
              }
              pfVar11 = pfVar11 + 3;
              pfVar13 = pfVar13 + 1;
              bVar14 = uVar9 < DAT_005e44a0;
              uVar9 = uVar9 + 1;
            } while (bVar14);
          }
        } while (iVar19 != 0);
        uVar9 = 0;
        if (DAT_005e44a0 != 0) {
          puVar17 = &DAT_005e45a4;
          do {
            if ((&DAT_005e45c4)[uVar9] != '\0') {
              uVar21 = CONCAT44(uVar9,&DAT_005e45a4);
              local_20 = (undefined4 *)0x0;
              do {
                if (((&DAT_005e45c4)[uVar9] & (byte)(1 << ((byte)local_20 & 0x1f))) != 0) {
                  iVar19 = puVar17[-8];
                  iVar2 = ((undefined4 *)uVar21)[-8];
                  puVar18 = (undefined4 *)*(undefined4 *)uVar21;
                  puVar3 = (undefined4 *)*puVar17;
                  uVar9 = *(uint *)(iVar19 + 0x8a);
                  if ((((uVar9 & 0x800000) != 0) || ((uVar9 & 0x1000000) != 0)) ||
                     ((*(uint *)(iVar2 + 0x8a) & 0x1800000) != 0)) {
                    if ((uVar9 & 0x800000) == 0) {
                      if ((uVar9 & 0x1000000) == 0) {
                        if ((*(uint *)(iVar2 + 0x8a) & 0x800000) != 0) goto LAB_00423418;
                        if (((*(uint *)(iVar2 + 0x8a) & 0x1000000) != 0) &&
                           ((FUN_0046c680(), DAT_00598944 == 0 ||
                            ((*(byte *)(puVar3[1] + 0x8a) & 1) != 0)))) {
                          FUN_00443000();
                          local_20 = puVar3;
                          puVar17 = puVar18;
                          goto LAB_00423474;
                        }
                      }
                      else {
                        FUN_0046c680();
                        if (DAT_005e4a64 != 0) {
                          puVar17 = (undefined4 *)(iVar19 + 6);
                          local_20 = (undefined4 *)(DAT_005e4a64 + 0x813);
                          local_24 = 0x4233b0;
                          FUN_00475bf0();
                        }
                        if (((*(uint *)(iVar2 + 0x8a) & 0x800000) == 0) &&
                           ((*(uint *)(iVar2 + 0x8a) & 0x1000000) == 0)) {
                          if ((DAT_00598944 == 0) || ((*(byte *)(puVar18[1] + 0x8a) & 1) != 0)) {
                            FUN_00443000();
                            local_20 = puVar18;
                            puVar17 = puVar3;
LAB_00423474:
                            local_24 = 0x423479;
                            FUN_004412c0();
                          }
                        }
                        else {
LAB_00423418:
                          FUN_0046c680();
                        }
                      }
                    }
                    else {
                      FUN_0046c680();
                    }
                  }
                  local_40 = *(float *)(iVar2 + 0x36) - *(float *)(iVar19 + 0x36);
                  local_28 = *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x84);
                  local_38 = *(float *)(iVar2 + 0x3e) - *(float *)(iVar19 + 0x3e);
                  local_24 = *(undefined4 *)(*(int *)(*(int *)(iVar19 + 0x86) + 0x13) + 0x84);
                  local_3c = 0;
                  uVar21 = CONCAT44(&local_40,0x4234d4);
                  local_34 = local_40;
                  local_2c = local_38;
                  FUN_0045eab0();
                  fVar16 = local_38 * *(float *)(iVar2 + 0xac) + local_40 * *(float *)(iVar2 + 0xa4)
                  ;
                  fVar4 = local_40 * *(float *)(iVar19 + 0xa4) +
                          local_38 * *(float *)(iVar19 + 0xac);
                  if (fVar16 < 0.0) {
                    *(undefined4 *)(iVar19 + 0x36) = *(undefined4 *)(iVar19 + 0xbc);
                    *(undefined4 *)(iVar19 + 0x3e) = *(undefined4 *)(iVar19 + 0xc4);
                    *(undefined4 *)(iVar2 + 0x36) = *(undefined4 *)(iVar2 + 0xbc);
                    *(undefined4 *)(iVar2 + 0x3e) = *(undefined4 *)(iVar2 + 0xc4);
                    *(float *)(iVar2 + 0xa4) = *(float *)(iVar2 + 0xa4) - fVar16 * local_40;
                    *(float *)(iVar2 + 0xac) = *(float *)(iVar2 + 0xac) - fVar16 * local_38;
                    *(float *)(iVar19 + 0xd3) = *(float *)(iVar19 + 0xd3) - fVar16 * local_40 * -2.0
                    ;
                    *(float *)(iVar19 + 0xdb) = *(float *)(iVar19 + 0xdb) - fVar16 * local_38 * -2.0
                    ;
                  }
                  if (0.0 < fVar4) {
                    *(undefined4 *)(iVar19 + 0x36) = *(undefined4 *)(iVar19 + 0xbc);
                    *(undefined4 *)(iVar19 + 0x3e) = *(undefined4 *)(iVar19 + 0xc4);
                    *(undefined4 *)(iVar2 + 0x36) = *(undefined4 *)(iVar2 + 0xbc);
                    *(undefined4 *)(iVar2 + 0x3e) = *(undefined4 *)(iVar2 + 0xc4);
                    *(float *)(iVar19 + 0xa4) = *(float *)(iVar19 + 0xa4) - fVar4 * local_40;
                    *(float *)(iVar19 + 0xac) = *(float *)(iVar19 + 0xac) - fVar4 * local_38;
                    *(float *)(iVar2 + 0xd3) = *(float *)(iVar2 + 0xd3) - fVar4 * local_40 * -2.0;
                    *(float *)(iVar2 + 0xdb) = *(float *)(iVar2 + 0xdb) - fVar4 * local_38 * -2.0;
                  }
                  if (((*(byte *)(iVar19 + 0x8a) & 2) == 0) || ((*(byte *)(iVar2 + 0x8a) & 2) == 0))
                  {
                    iVar6 = *(int *)(*(int *)(iVar19 + 0x98) + 0x10);
                    if (((iVar6 == 2) ||
                        ((((iVar6 == 3 || (iVar6 == 7)) || (iVar6 == 4)) || (iVar6 == 5)))) &&
                       (0.0 < fVar4)) {
                      FUN_00443000();
                      uVar7 = __ftol();
                      uVar21 = CONCAT44(uVar7,*(undefined4 *)(iVar2 + 0x86));
                      local_24 = 0x4236a5;
                      local_20 = puVar18;
                      puVar17 = puVar3;
                      FUN_004412c0();
                    }
                    iVar2 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
                    if ((((iVar2 == 2) || (iVar2 == 3)) ||
                        ((iVar2 == 7 || ((iVar2 == 4 || (iVar2 == 5)))))) && (fVar16 < 0.0)) {
                      FUN_00443000();
                      uVar7 = __ftol();
                      uVar21 = CONCAT44(uVar7,*(undefined4 *)(iVar19 + 0x86));
                      local_24 = 0x423709;
                      local_20 = puVar3;
                      FUN_004412c0();
                      puVar17 = puVar18;
                    }
                  }
                }
                puVar8 = (undefined1 *)((int)uVar21 + 4);
                local_20 = (undefined4 *)((int)local_20 + 1);
                uVar9 = (uint)((ulonglong)uVar21 >> 0x20);
                uVar21 = CONCAT44(uVar9,puVar8);
              } while (puVar8 < &DAT_005e45c4);
            }
            uVar9 = uVar9 + 1;
            puVar17 = puVar17 + 1;
          } while (uVar9 < DAT_005e44a0);
        }
      }
      return;
    }
    if ((DAT_00598944 != 0) && ((*(byte *)(*(int *)(iVar2 + 4) + 0x8f) & 0x80) != 0))
    goto LAB_00423002;
    if ((iVar2 == iVar19) && ((*(uint *)(*(int *)(iVar2 + 4) + 0x8a) & 0x40000000) != 0)) {
      for (iVar6 = *(int *)(iVar19 + 0x16); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x16)) {
        *(uint *)(*(int *)(iVar6 + 4) + 0x8a) = *(uint *)(*(int *)(iVar6 + 4) + 0x8a) | 0x40000000;
      }
    }
    iVar6 = *(int *)(iVar2 + 4);
    if ((*(uint *)(iVar6 + 0x8a) & 0x40000000) == 0) {
      if ((*(uint *)(iVar6 + 0x8a) & 0x400000) != 0) goto LAB_00422fce;
      iVar6 = *(int *)(iVar19 + 4);
      if (((*(int *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x7f) == 0x1b) &&
          ((*(byte *)(iVar6 + 0xc9) & 0x20) != 0)) &&
         (*(char *)(*(int *)(iVar6 + 0x86) + 10) == '\0')) goto LAB_00422fce;
      if ((*(uint *)(iVar6 + 0x8a) & 0x400) != 0) {
        local_20 = (undefined4 *)0x422f82;
        iVar6 = FUN_0045cbc0();
        if (*(int *)(*(int *)(iVar2 + 4) + 0xb4) == iVar6) {
          local_20 = (undefined4 *)0x422faf;
          iVar6 = FUN_0045cbc0();
          if ((*(uint *)(DAT_00598ff0 + 0x26 + iVar6 * 4) &
              1 << ((byte)*(undefined4 *)(*(int *)(iVar2 + 4) + 0xb4) & 0x1f)) != 0)
          goto LAB_00422fce;
        }
      }
    }
    else {
      if ((DAT_00598e18 == 0) && (DAT_00598d6c == 0)) {
        iVar5 = *(int *)(*(int *)(iVar19 + 4) + 0xb4);
        if ((*(int *)(iVar6 + 0xb4) == iVar5) ||
           ((*(uint *)(DAT_00598ff0 + 0x26 + iVar5 * 4) & 1 << ((byte)*(int *)(iVar6 + 0xb4) & 0x1f)
            ) != 0)) {
LAB_00422ecb:
          bVar14 = false;
        }
        else {
          bVar14 = true;
        }
      }
      else {
        local_20 = (undefined4 *)0x422ea1;
        iVar5 = FUN_0045cbc0();
        iVar6 = *(int *)(iVar2 + 4);
        if ((*(int *)(iVar6 + 0xb4) == iVar5) ||
           ((*(uint *)(DAT_00598ff0 + 0x26 + iVar5 * 4) & 1 << ((byte)*(int *)(iVar6 + 0xb4) & 0x1f)
            ) != 0)) goto LAB_00422ecb;
        bVar14 = true;
      }
      if (bVar14) {
        *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xffbfffff;
        *(uint *)(*(int *)(iVar2 + 4) + 0x8a) = *(uint *)(*(int *)(iVar2 + 4) + 0x8a) & 0xbfffffff;
        iVar2 = *(int *)(iVar2 + 0x16);
        goto joined_r0x00422de0;
      }
      *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) | 0x400000;
      puVar1 = (uint *)(*(int *)(iVar2 + 4) + 0x8a);
      *puVar1 = *puVar1 & 0xbfffffff;
LAB_00422fce:
      if ((DAT_00598d6c == 0) && (DAT_005e44a0 < 8)) {
        (&DAT_005e45a4)[DAT_005e44a0] = iVar2;
        (&DAT_005e4584)[DAT_005e44a0] = *(undefined4 *)(iVar2 + 4);
        DAT_005e44a0 = DAT_005e44a0 + 1;
      }
    }
LAB_00423002:
    iVar2 = *(int *)(iVar2 + 0x16);
  } while( true );
}



int FUN_00423750(int param_1,float *param_2)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  float10 fVar8;
  float10 fVar9;
  float10 fVar10;
  undefined *puVar11;
  
  AdjustStackForLargeAllocations();
  if ((DAT_00598944 == 0) || (iVar7 = *(int *)(param_1 + 0xa7), iVar7 == 0)) {
    iVar7 = *(int *)(DAT_005df318 + 4);
    if (iVar7 != 0) {
      do {
        if ((iVar7 != *(int *)(param_1 + 0xa3)) || ((*(byte *)(param_1 + 0xb3) & 0x10) == 0)) {
          iVar1 = *(int *)(iVar7 + 4);
          if (((*(uint *)(iVar1 + 0x8a) & 0x400000) != 0) &&
             (((*(uint *)(iVar1 + 0x8a) & 2) == 0 || (*(int *)(*(int *)(iVar1 + 0x100) + 0x32) == 0)
              ))) {
            fVar4 = *(float *)(*(int *)(iVar7 + 4) + 0x3a) - param_2[1];
            fVar5 = *(float *)(*(int *)(iVar7 + 4) + 0x3e) - param_2[2];
            fVar3 = *(float *)(param_1 + 0x9f) +
                    *(float *)(*(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x86) + 0x13) + 0x88);
            fVar8 = (float10)FUN_004ad3c0((double)(*(float *)(iVar1 + 0x36) - *param_2));
            fVar9 = (float10)FUN_004ad3c0((double)fVar5);
            fVar10 = (float10)FUN_004ad3c0((double)fVar4);
            if (fVar9 < (float10)fVar3 && (fVar10 < (float10)fVar3 && fVar8 < (float10)fVar3)) {
              puVar11 = &stack0xffffffec;
              FUN_0045eab0();
              iVar1 = *(int *)(iVar7 + 4);
              iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
              fVar3 = *(float *)(iVar2 + 0x77) * (float)(uint)*(ushort *)(param_1 + 0xb4) * 0.01 *
                      (2.0 - *(float *)(iVar2 + 0x84));
              if (DAT_00598944 == 0) {
                *(float *)(iVar1 + 0xd3) = fVar3 * (float)puVar11 + *(float *)(iVar1 + 0xd3);
                *(float *)(*(int *)(iVar7 + 4) + 0xd7) =
                     *(float *)(*(int *)(iVar7 + 4) + 0xd7) - fVar3 * fVar4 * -0.2;
                *(float *)(*(int *)(iVar7 + 4) + 0xdb) =
                     fVar3 * fVar5 + *(float *)(*(int *)(iVar7 + 4) + 0xdb);
                return iVar7;
              }
              if ((0x14 < *(ushort *)(param_1 + 0xb4) & *(byte *)(iVar1 + 0x8a)) == 0) {
                return iVar7;
              }
              fVar6 = fVar3 * (float)puVar11;
              fVar4 = fVar3 * fVar4 * 0.2;
              fVar3 = fVar3 * fVar5;
              if (((fVar6 <= 1.0) && (fVar4 <= 1.0)) && (fVar3 <= 1.0)) {
                return iVar7;
              }
              *(float *)(iVar1 + 0xd3) = fVar6 + *(float *)(iVar1 + 0xd3);
              *(float *)(*(int *)(iVar7 + 4) + 0xd7) =
                   fVar4 + *(float *)(*(int *)(iVar7 + 4) + 0xd7);
              *(float *)(*(int *)(iVar7 + 4) + 0xdb) =
                   fVar3 + *(float *)(*(int *)(iVar7 + 4) + 0xdb);
              FUN_00466530(0xf,fVar6,fVar4,
                           *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9),fVar3);
              return iVar7;
            }
          }
        }
        iVar7 = *(int *)(iVar7 + 0x16);
        if (iVar7 == 0) {
          return 0;
        }
      } while( true );
    }
  }
  else if (((iVar7 != *(int *)(param_1 + 0xa3)) || ((*(byte *)(param_1 + 0xb3) & 0x10) == 0)) &&
          ((*(uint *)(*(int *)(iVar7 + 4) + 0x8a) & 0x400000) != 0)) {
    fVar4 = *(float *)(*(int *)(iVar7 + 4) + 0x3a) - param_2[1];
    fVar5 = *(float *)(*(int *)(iVar7 + 4) + 0x3e) - param_2[2];
    fVar3 = *(float *)(param_1 + 0x9f) +
            *(float *)(*(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x86) + 0x13) + 0x88);
    fVar8 = (float10)FUN_004ad3c0((double)(*(float *)(*(int *)(iVar7 + 4) + 0x36) - *param_2));
    fVar9 = (float10)FUN_004ad3c0((double)fVar5);
    fVar10 = (float10)FUN_004ad3c0((double)fVar4);
    if (fVar9 < (float10)fVar3 && (fVar10 < (float10)fVar3 && fVar8 < (float10)fVar3)) {
      puVar11 = &stack0xffffffec;
      FUN_0045eab0();
      iVar1 = *(int *)(iVar7 + 4);
      iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
      fVar3 = *(float *)(iVar2 + 0x77) * (float)(uint)*(ushort *)(param_1 + 0xb4) * 0.01 *
              (2.0 - *(float *)(iVar2 + 0x84));
      if ((0x14 < *(ushort *)(param_1 + 0xb4) & *(byte *)(iVar1 + 0x8a)) != 0) {
        fVar6 = fVar3 * (float)puVar11;
        fVar4 = fVar3 * fVar4 * 0.2;
        fVar3 = fVar3 * fVar5;
        if (((1.0 < fVar6) || (1.0 < fVar4)) || (1.0 < fVar3)) {
          *(float *)(iVar1 + 0xd3) = fVar6 + *(float *)(iVar1 + 0xd3);
          *(float *)(*(int *)(iVar7 + 4) + 0xd7) = fVar4 + *(float *)(*(int *)(iVar7 + 4) + 0xd7);
          *(float *)(*(int *)(iVar7 + 4) + 0xdb) = fVar3 + *(float *)(*(int *)(iVar7 + 4) + 0xdb);
          FUN_00466530(0xf,fVar6,fVar4,
                       *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9),fVar3);
          return iVar7;
        }
      }
      return iVar7;
    }
  }
  return 0;
}



int FUN_00423c40(int param_1,float *param_2,float *param_3,float param_4)

{
  int iVar1;
  float10 fVar2;
  float local_1c;
  undefined4 local_18;
  undefined8 local_14;
  
  AdjustStackForLargeAllocations();
  if (param_4 <= 0.1) {
    param_4 = 1.0;
  }
  local_14 = (double)((param_2[2] - param_3[2]) * (param_2[2] - param_3[2]) +
                     (param_2[1] - param_3[1]) * (param_2[1] - param_3[1]) +
                     (*param_2 - *param_3) * (*param_2 - *param_3));
  local_18 = 0x423caa;
  fVar2 = (float10)FUN_004ad534();
  if ((float10)(param_4 + param_4) <= fVar2) {
    param_4 = (float)fVar2 / (param_4 + param_4);
    local_1c = *param_3;
    local_14 = (double)((ulonglong)(uint)((1.0 / param_4) * (float)((ulonglong)local_14 >> 0x20)) <<
                       0x20);
    if (0.0 < param_4) {
      do {
        local_1c = local_14._4_4_ + local_1c;
        param_4 = param_4 - 1.0;
        local_14 = (double)CONCAT44(&local_1c,param_1);
        local_18 = 0x423d87;
        iVar1 = FUN_00423750();
        if (iVar1 != 0) {
          *(float *)(param_1 + 0x37) = local_1c;
          *(undefined4 *)(param_1 + 0x3b) = local_18;
          *(undefined4 *)(param_1 + 0x3f) = (undefined4)local_14;
          return iVar1;
        }
      } while (0.0 < param_4);
      return 0;
    }
    iVar1 = 0;
  }
  else {
    local_14 = (double)CONCAT44(param_2,param_1);
    local_18 = 0x423cd0;
    iVar1 = FUN_00423750();
    if (iVar1 != 0) {
      *(float *)(param_1 + 0x37) = *param_2;
      *(float *)(param_1 + 0x3b) = param_2[1];
      *(float *)(param_1 + 0x3f) = param_2[2];
      return iVar1;
    }
  }
  return iVar1;
}



void FUN_00423dd0(float *param_1,float *param_2)

{
  float fVar1;
  
  fVar1 = *param_1 * *param_2 + param_1[1] * param_2[1] + param_1[2] * param_2[2];
  *param_2 = *param_2 - *param_1 * fVar1;
  param_2[1] = param_2[1] - fVar1 * param_1[1];
  param_2[2] = param_2[2] - fVar1 * param_1[2];
  return;
}



void FUN_00423e20(int param_1,float *param_2)

{
  float fVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float10 fVar5;
  undefined4 local_68 [4];
  undefined4 *local_58;
  undefined4 local_54;
  undefined4 **local_50;
  float local_48;
  float local_44;
  float local_40;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  undefined4 **local_18;
  undefined4 **local_14;
  
  AdjustStackForLargeAllocations();
  fVar1 = *param_2;
  puVar3 = (undefined4 *)(*(int *)(param_1 + 4) + 0x46);
  puVar4 = local_68;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  local_1c = (undefined4 *)((float)local_58 - fVar1 * -0.25);
  local_14 = &local_1c;
  local_18 = (undefined4 **)0x423e89;
  FUN_0045eab0();
  local_58 = local_1c;
  local_54 = local_18;
  local_50 = local_14;
  local_14 = (undefined4 **)&stack0xfffffff0;
  local_18 = (undefined4 **)param_2;
  local_1c = (undefined4 *)0x423ec0;
  fVar5 = (float10)FUN_0045eba0();
  local_48 = local_48 - *param_2 * (float)fVar5;
  local_14 = (undefined4 **)&stack0xfffffff0;
  local_40 = local_40 - (float)fVar5 * param_2[2];
  local_44 = (float)((float10)local_44 - fVar5 * (float10)param_2[1]);
  local_18 = (undefined4 **)0x423f11;
  FUN_0045eab0();
  local_14 = (undefined4 **)&stack0xfffffff0;
  local_18 = &local_1c;
  local_1c = &local_28;
  local_20 = 0x423f39;
  FUN_0045eb50();
  local_68[0] = local_28;
  local_68[1] = local_24;
  local_68[2] = local_20;
  puVar3 = local_68;
  puVar4 = (undefined4 *)(*(int *)(param_1 + 4) + 0x46);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  return;
}



void FUN_00423f70(int param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  float10 fVar6;
  undefined4 local_74 [4];
  undefined4 *local_64;
  undefined4 local_60;
  float local_5c;
  float local_54;
  float local_50;
  float local_4c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 *local_28;
  undefined4 local_24;
  float local_20;
  undefined4 *local_1c;
  undefined4 **local_18;
  undefined *local_14;
  
  AdjustStackForLargeAllocations();
  if (0.8 <= param_2[1]) {
    fVar1 = *param_2;
    fVar2 = param_2[2];
    puVar4 = (undefined4 *)(*(int *)(param_1 + 4) + 6);
    puVar5 = local_74;
    for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    local_1c = (undefined4 *)((float)local_64 - fVar1 * -0.25);
    local_14 = (undefined *)(local_5c - fVar2 * -0.25);
    local_18 = (undefined4 **)0x423fed;
    FUN_0045eab0();
    local_64 = local_1c;
    local_60 = local_18;
    local_5c = (float)local_14;
    local_28 = local_1c;
    local_24 = local_18;
    local_18 = &local_1c;
    local_20 = (float)local_14;
    local_1c = (undefined4 *)0x424039;
    local_14 = &stack0xfffffff0;
    fVar6 = (float10)FUN_0045eba0();
    local_50 = (float)((float10)local_50 - fVar6 * (float10)(float)local_18);
    local_4c = (float)((float10)local_4c - fVar6 * (float10)(float)local_14);
    local_14 = &stack0xfffffff0;
    local_54 = (float)((float10)local_54 - fVar6 * (float10)(float)local_1c);
    local_18 = (undefined4 **)0x42407e;
    FUN_0045eab0();
    local_14 = &stack0xfffffff0;
    local_18 = &local_28;
    local_1c = &local_34;
    local_20 = 6.084334e-39;
    FUN_0045eb50();
    local_74[1] = local_30;
    local_74[0] = local_34;
    local_74[2] = local_2c;
    puVar4 = local_74;
    puVar5 = (undefined4 *)(*(int *)(param_1 + 4) + 6);
    for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00424150(char *param_1)

{
  int iVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined2 *puVar6;
  undefined2 *puVar7;
  int *piVar8;
  int iVar9;
  int iVar10;
  char local_328 [256];
  char local_228 [256];
  undefined4 local_128;
  undefined4 local_d8;
  undefined4 local_c4 [4];
  int local_b4;
  int local_a0;
  undefined4 uStackY_64;
  int *piStackY_60;
  undefined4 uStackY_5c;
  int *local_58;
  undefined4 local_54;
  int local_38;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  
  AdjustStackForLargeAllocations();
  iVar17 = 0;
  _memset(local_228,0,0x100);
  piVar8 = (int *)&stack0x00000008;
  if (param_1 != (char *)0xffffffff) {
    do {
      FUN_004ae5f0();
      FID_conflict__strcat(local_228,(char *)&local_38);
      FID_conflict__strcat(local_228,&DAT_004c7474);
      iVar16 = *piVar8;
      piVar8 = piVar8 + 1;
    } while (iVar16 != -1);
  }
  if (_DAT_005e4490 != 0) {
    FID_conflict___mbscpy(local_328,local_228);
    param_1 = (char *)FUN_004ae780();
    local_128 = 100;
    local_d8 = *(undefined4 *)(DAT_005e5010 + 0x21b4);
    local_54 = 0;
    local_58 = (int *)0x32;
    (**(code **)(*DAT_005e4498 + 0x14))();
    if (param_1 != (char *)0x0) {
      iVar16 = 0;
      do {
        cVar2 = *param_1;
        if (cVar2 != '\0') {
          iVar18 = 0x32;
          do {
            param_1 = param_1 + 1;
            iVar13 = 0;
            iVar15 = 0xc;
            iVar1 = (cVar2 + -0x30) * 0xd;
            iVar14 = (cVar2 + -0x2f) * 0xd;
            local_38 = iVar16;
            iVar3 = (**(code **)(*DAT_005e4498 + 0x1c))();
            if (iVar3 != 0) {
              local_38 = 0x4242d1;
              _memset(local_c4,0,0x6c);
              local_c4[0] = 0x6c;
              local_38 = 0;
              iVar4 = (**(code **)(*DAT_005e4498 + 100))();
              iVar3 = local_a0;
              if (iVar4 != 0) {
                return 0;
              }
              iVar10 = local_b4 >> 1;
              iVar4 = (**(code **)(*DAT_005e4498 + 0x80))();
              if (iVar4 != 0) {
                return 0;
              }
              local_54 = 0x424331;
              _memset(local_c4,0,0x6c);
              local_c4[0] = 0x6c;
              local_54 = 0;
              local_58 = DAT_005e4494;
              uStackY_5c = 0x424350;
              iVar4 = (**(code **)(*DAT_005e4494 + 100))();
              if (iVar4 != 0) {
                return 0;
              }
              iVar4 = local_b4 >> 1;
              uStackY_5c = 0;
              piStackY_60 = DAT_005e4494;
              uStackY_64 = 0x42437b;
              iVar11 = local_a0;
              iVar12 = iVar4;
              iVar5 = (**(code **)(*DAT_005e4494 + 0x80))();
              if (iVar5 != 0) {
                return 0;
              }
              iVar13 = iVar4 * iVar13;
              iVar5 = iVar10 * iVar17 * 0x14;
              if (iVar13 < iVar4 * iVar15) {
                do {
                  if (iVar1 < iVar14) {
                    puVar7 = (undefined2 *)(iVar3 + (iVar5 + iVar18) * 2);
                    puVar6 = (undefined2 *)(iVar11 + (iVar1 + iVar13) * 2);
                    iVar9 = iVar1;
                    do {
                      iVar9 = iVar9 + 1;
                      *puVar7 = *puVar6;
                      puVar6 = puVar6 + 1;
                      puVar7 = puVar7 + 1;
                      iVar4 = iVar12;
                    } while (iVar9 < iVar14);
                  }
                  iVar13 = iVar13 + iVar4;
                  iVar5 = iVar5 + iVar10;
                } while (iVar13 < iVar4 * iVar15);
              }
            }
            iVar18 = iVar18 + 0xd;
            cVar2 = *param_1;
          } while (cVar2 != '\0');
        }
        iVar17 = iVar17 + 1;
        iVar16 = iVar16 + 0x14;
        param_1 = (char *)FUN_004ae780();
      } while (param_1 != (char *)0x0);
    }
    local_38 = *(int *)(DAT_005e5010 + 0x253c) + -0x80;
    iVar17 = (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 0x1c))();
    if (iVar17 != 0) {
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_00424490(int param_1,char *param_2,int param_3,undefined4 param_4)

{
  size_t sVar1;
  
  FUN_00428d60(param_2,param_3,param_4,0,0);
  sVar1 = _strlen(param_2);
  FUN_00428130(param_1,param_3 + sVar1 * 0x16,param_4,param_1 < 0,0,0);
  return 1;
}



undefined4 FUN_004244f0(float *param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  
  uVar4 = __ftol(param_2,param_3,*param_1 < 0.0,0,0);
  FUN_00428130(uVar4);
  iVar1 = param_2 + 0x84;
  uVar4 = __ftol(iVar1,param_3,param_1[1] < 0.0,0,0);
  FUN_00428130(uVar4);
  iVar2 = param_2 + 0x108;
  uVar4 = __ftol(iVar2,param_3,param_1[2] < 0.0,0,0);
  FUN_00428130(uVar4);
  iVar3 = param_2 + 0x18c;
  uVar4 = __ftol(iVar3,param_3,param_1[0xc] < 0.0,0,0);
  FUN_00428130(uVar4);
  iVar5 = param_3 + 0x14;
  uVar4 = __ftol(param_2,iVar5,param_1[4] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar1,iVar5,param_1[5] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar2,iVar5,param_1[6] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar3,iVar5,param_1[0xd] < 0.0,0,0);
  FUN_00428130(uVar4);
  param_3 = param_3 + 0x28;
  uVar4 = __ftol(param_2,param_3,param_1[8] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar1,param_3,param_1[9] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar2,param_3,param_1[10] < 0.0,0,0);
  FUN_00428130(uVar4);
  uVar4 = __ftol(iVar3,param_3,param_1[0xe] < 0.0,0,0);
  FUN_00428130(uVar4);
  return 1;
}



void FUN_004247d0(ushort *param_1,int param_2,size_t param_3)

{
  void *_Dst;
  ushort *puVar1;
  uint uVar2;
  ushort *puVar3;
  bool bVar4;
  int _Val;
  
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(param_3);
  puVar1 = (ushort *)_memset(_Dst,_Val,param_3);
  do {
    uVar2 = (uint)*(byte *)param_1;
    puVar3 = (ushort *)((int)param_1 + 1);
    bVar4 = uVar2 == 0;
    if (bVar4) {
      uVar2 = (uint)*puVar3;
      puVar3 = (ushort *)((int)param_1 + 3);
      param_2 = param_2 + -2;
      bVar4 = uVar2 == 0;
    }
    if (!bVar4) {
      do {
        *puVar1 = *puVar3;
        puVar1 = puVar1 + 1;
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    param_1 = puVar3 + 1;
    param_2 = param_2 + -3;
  } while (param_2 != 0);
  return;
}



void FUN_00424830(ushort *param_1,int param_2,size_t param_3)

{
  void *_Dst;
  ushort *puVar1;
  uint uVar2;
  int _Val;
  
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(param_3);
  puVar1 = (ushort *)_memset(_Dst,_Val,param_3);
  do {
    for (uVar2 = (uint)*param_1; uVar2 != 0; uVar2 = uVar2 - 1) {
      *puVar1 = param_1[1];
      puVar1 = puVar1 + 1;
    }
    param_1 = param_1 + 2;
    param_2 = param_2 + -4;
  } while (param_2 != 0);
  return;
}



undefined4 FUN_00424880(undefined4 param_1,undefined4 param_2,undefined4 param_3,char param_4)

{
  int iVar1;
  undefined4 uVar2;
  
  if (param_4 == '\x01') {
    iVar1 = FUN_004247d0(param_1,param_2);
  }
  else {
    iVar1 = FUN_00424830(param_1,param_2,param_3);
  }
  uVar2 = FUN_004248d0(iVar1,param_3);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
  }
  return uVar2;
}



void * FUN_004248d0(ushort *param_1,uint param_2)

{
  void *pvVar1;
  byte *pbVar2;
  int _Val;
  uint _Size;
  
  _Val = 0;
  _Size = param_2;
  pvVar1 = (void *)AllocateMemoryWithCallback(param_2);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  param_2 = param_2 / 3;
  if (param_2 != 0) {
    pbVar2 = (byte *)((int)pvVar1 + 1);
    do {
      pbVar2[1] = *(byte *)((int)param_1 + 1) & 0xf8;
      *pbVar2 = (byte)(*param_1 >> 3) & 0xfc;
      pbVar2[-1] = *(char *)param_1 << 3;
      param_2 = param_2 - 1;
      pbVar2 = pbVar2 + 3;
      param_1 = param_1 + 1;
    } while (param_2 != 0);
  }
  return pvVar1;
}



void FUN_00424940(undefined4 param_1,undefined4 param_2,undefined4 param_3,char param_4)

{
  if (param_4 == '\x01') {
    FUN_004247d0();
    return;
  }
  FUN_00424830(param_1,param_2,param_3);
  return;
}



void FUN_00424970(undefined4 *param_1)

{
  FreeTreeNode(0,0,*param_1);
  if (param_1 != (undefined4 *)0x0) {
    FreeMemory(param_1);
  }
  return;
}



// /*
//  * Function: FreeTreeNode (originally FUN_004249a0)
//  * Description:
//  *   This function recursively frees a node in a tree-like structure. If the node has child
// nodes, it recursively
//  *   calls `FreeTreeNode` on the left and right children before freeing the current node.
// Depending on the `param_2`
//  *   value, it updates the parent node's left or right child pointer after the current node is
// freed.
//  *
//  * Parameters:
//  *   param_1 - Parent node of the current node being freed
//  *   param_2 - Indicates whether the node is a left (0) or right (1) child of `param_1`
//  *   param_3 - The current node to be freed
//  */
// 

void FreeTreeNode(int param_1,char param_2,int param_3)

{
  if (param_3 != 0) {
    if ((*(int *)(param_3 + 1) == 0) && (*(int *)(param_3 + 5) == 0)) {
      FreeMemory(param_3);
      if ((param_2 == '\0') && (param_1 != 0)) {
        *(undefined4 *)(param_1 + 1) = 0;
        return;
      }
    }
    else {
      FreeTreeNode(param_3,0,*(int *)(param_3 + 1));
      FreeTreeNode(param_3,1,*(undefined4 *)(param_3 + 5));
      FreeMemory(param_3);
      if (param_1 == 0) {
        return;
      }
      if (param_2 == '\0') {
        *(undefined4 *)(param_1 + 1) = 0;
        return;
      }
    }
    *(undefined4 *)(param_1 + 5) = 0;
  }
  return;
}



undefined * FUN_00424a20(ushort *param_1,int *param_2)

{
  void *pvVar1;
  int *piVar2;
  undefined4 *puVar3;
  undefined *puVar4;
  undefined4 unaff_EBX;
  undefined *puVar5;
  int iVar6;
  size_t sVar7;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(DAT_005d66b0,0xffffffff);
  sVar7 = 0x14;
  iVar6 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x14);
  piVar2 = (int *)_memset(pvVar1,iVar6,sVar7);
  *piVar2 = (uint)*param_1 * 6;
  piVar2[1] = *(int *)(param_1 + 1);
  piVar2[3] = (int)(param_1 + 3);
  piVar2[4] = (int)param_1 + *piVar2 + 6;
  puVar3 = (undefined4 *)FUN_00424b40(param_1 + 3,*param_1);
  DAT_005e448c = *puVar3;
  *param_2 = piVar2[1];
  sVar7 = piVar2[1];
  iVar6 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar7);
  puVar4 = (undefined *)_memset(pvVar1,iVar6,sVar7);
  param_1 = (ushort *)0x0;
  DAT_004d7a94 = 0;
  DAT_004d7a98 = 0;
  puVar5 = puVar4;
  do {
    iVar6 = FUN_00424c50(puVar3,piVar2[4],&stack0xfffffffb);
    while (iVar6 != 1) {
      iVar6 = FUN_00424c50(puVar3,piVar2[4],&stack0xfffffffb);
    }
    *puVar5 = (char)((uint)unaff_EBX >> 0x18);
    puVar5 = puVar5 + 1;
    param_1 = (ushort *)((int)param_1 + 1);
  } while (param_1 != (ushort *)piVar2[1]);
  FUN_00424970(puVar3);
  if (piVar2 != (int *)0x0) {
    FreeMemory(piVar2);
  }
  ReleaseMutex(DAT_005d66b0);
  return puVar4;
}



undefined4 FUN_00424b40(int param_1,ushort param_2)

{
  undefined4 uVar1;
  uint uVar2;
  
  uVar1 = FUN_00424b80();
  if (param_2 != 0) {
    uVar2 = (uint)param_2;
    do {
      FUN_00424bc0(uVar1,param_1);
      param_1 = param_1 + 6;
      uVar2 = uVar2 - 1;
    } while (uVar2 != 0);
  }
  return uVar1;
}



void ** FUN_00424b80(void)

{
  void *pvVar1;
  void **ppvVar2;
  int iVar3;
  size_t sVar4;
  
  sVar4 = 4;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(4);
  ppvVar2 = (void **)_memset(pvVar1,iVar3,sVar4);
  sVar4 = 9;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(9);
  pvVar1 = _memset(pvVar1,iVar3,sVar4);
  *ppvVar2 = pvVar1;
  return ppvVar2;
}



void FUN_00424bc0(undefined4 *param_1,uint *param_2)

{
  void *pvVar1;
  byte bVar2;
  byte bVar3;
  undefined *puVar4;
  int iVar5;
  size_t sVar6;
  
  puVar4 = (undefined *)*param_1;
  bVar3 = 0;
  bVar2 = *(byte *)((int)param_2 + 5);
  if (bVar2 != 0) {
    do {
      if ((*param_2 & 1 << ((bVar2 - bVar3) - 1 & 0x1f)) == 0) {
        if (*(int *)(puVar4 + 5) == 0) {
          sVar6 = 9;
          iVar5 = 0;
          pvVar1 = (void *)AllocateMemoryWithCallback(9);
          pvVar1 = _memset(pvVar1,iVar5,sVar6);
          *(void **)(puVar4 + 5) = pvVar1;
        }
        puVar4 = *(undefined **)(puVar4 + 5);
      }
      else {
        if (*(int *)(puVar4 + 1) == 0) {
          sVar6 = 9;
          iVar5 = 0;
          pvVar1 = (void *)AllocateMemoryWithCallback(9);
          pvVar1 = _memset(pvVar1,iVar5,sVar6);
          *(void **)(puVar4 + 1) = pvVar1;
        }
        puVar4 = *(undefined **)(puVar4 + 1);
      }
      bVar2 = *(byte *)((int)param_2 + 5);
      bVar3 = bVar3 + 1;
    } while (bVar3 < bVar2);
  }
  *puVar4 = *(undefined *)(param_2 + 1);
  return;
}



undefined4 FUN_00424c50(undefined4 *param_1,uint param_2,undefined *param_3)

{
  bool bVar1;
  undefined *puVar2;
  undefined *puVar3;
  char cVar4;
  
  param_2 = (uint)*(byte *)(param_2 + DAT_004d7a98);
  bVar1 = false;
  puVar3 = DAT_005e448c;
  cVar4 = DAT_004d7a94;
  do {
    if ((param_2 & 1 << (7U - cVar4 & 0x1f)) == 0) {
      puVar2 = *(undefined **)(puVar3 + 5);
      if (puVar2 != (undefined *)0x0) goto LAB_00424cac;
      bVar1 = true;
    }
    else {
      puVar2 = *(undefined **)(puVar3 + 1);
      if (puVar2 == (undefined *)0x0) {
        bVar1 = true;
      }
      else {
LAB_00424cac:
        cVar4 = cVar4 + '\x01';
        puVar3 = puVar2;
        DAT_004d7a94 = cVar4;
        DAT_005e448c = puVar2;
      }
    }
    if ((bVar1) || (cVar4 == '\b')) {
      if (bVar1) {
        *param_3 = *puVar3;
        if (DAT_004d7a94 == '\b') {
          DAT_004d7a94 = '\0';
          DAT_004d7a98 = DAT_004d7a98 + 1;
        }
        DAT_005e448c = (undefined *)*param_1;
        return 1;
      }
      if ((*(int *)(puVar3 + 5) == 0) && (*(int *)(puVar3 + 1) == 0)) {
        *param_3 = *puVar3;
        DAT_004d7a94 = 0;
        DAT_004d7a98 = DAT_004d7a98 + 1;
        DAT_005e448c = (undefined *)*param_1;
        return 1;
      }
      DAT_004d7a98 = DAT_004d7a98 + 1;
      DAT_004d7a94 = 0;
      return 0;
    }
  } while( true );
}



undefined4 FUN_00424d60(int *param_1,int *param_2,int *param_3,int *param_4)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  uint local_68;
  uint local_64;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(DAT_005e4484,0xffffffff);
  (**(code **)(*param_1 + 0x58))();
  if (param_2 != (int *)0x0) {
    if ((((*param_2 < 0) || (param_2[1] < 0)) || (uVar1 = param_2[2], local_64 < uVar1)) ||
       (((uVar2 = param_2[3], local_68 < uVar2 || ((int)uVar1 < 1)) ||
        (((int)uVar2 < 1 || ((int)uVar1 <= *param_2)))))) goto LAB_00424e45;
    if ((int)uVar2 <= param_2[1]) {
      ReleaseMutex(DAT_005e4484);
      return 0;
    }
  }
  if ((param_4 != (int *)0x0) && (param_3 != (int *)0x0)) {
    (**(code **)(*param_3 + 0x58))();
    if (((*param_4 < 0) ||
        ((((param_4[1] < 0 || (uVar1 = param_4[2], local_64 < uVar1)) ||
          (uVar2 = param_4[3], local_68 < uVar2)) || (((int)uVar1 < 1 || ((int)uVar2 < 1)))))) ||
       (((int)uVar1 <= *param_4 || ((int)uVar2 <= param_4[1])))) {
LAB_00424e45:
      ReleaseMutex(DAT_005e4484);
      return 0;
    }
  }
  uVar3 = (**(code **)(*param_1 + 0x14))();
  ReleaseMutex(DAT_005e4484);
  return uVar3;
}



undefined4
FUN_00424e90(int *param_1,undefined4 *param_2,undefined4 *param_3,int *param_4,undefined4 **param_5,
            undefined4 param_6)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 *local_88;
  undefined4 *local_84;
  undefined4 uStack_3c;
  int *piStack_38;
  undefined4 *puStack_34;
  undefined4 *puStack_30;
  int *piStack_2c;
  undefined4 **ppuStack_28;
  undefined4 uStack_24;
  int *piStack_20;
  undefined4 *local_1c;
  int *local_18;
  undefined4 *local_14;
  
  AdjustStackForLargeAllocations();
  local_14 = &local_90;
  local_18 = param_1;
  local_90 = 0x6c;
  local_8c = 6;
  local_1c = (undefined4 *)0x424ec6;
  (**(code **)(*param_1 + 0x58))();
  if ((param_2 < local_84) && (param_3 < local_88)) {
    local_8c = 6;
    local_1c = &local_90;
    piStack_20 = param_4;
    local_18 = local_88;
    local_90 = 0x6c;
    uStack_24 = 0x424f07;
    (**(code **)(*param_4 + 0x58))();
    if (param_5 == (undefined4 **)0x0) {
      local_14 = (undefined4 *)0x0;
      param_5 = &local_14;
    }
    if ((((param_5 == (undefined4 **)0x0) ||
         (((((-1 < (int)*param_5 && (-1 < (int)param_5[1])) &&
            (puVar1 = param_5[2], puVar1 <= local_84)) &&
           ((puVar2 = param_5[3], puVar2 <= local_88 && (0 < (int)puVar1)))) &&
          ((0 < (int)puVar2 && (((int)*param_5 < (int)puVar1 && ((int)param_5[1] < (int)puVar2))))))
         )) && ((undefined4 *)((int)param_5[2] + (int)param_2) <= local_1c)) &&
       ((undefined4 *)((int)param_5[3] + (int)param_3) <= local_18)) {
      uStack_24 = param_6;
      piStack_2c = param_4;
      puStack_30 = param_3;
      puStack_34 = param_2;
      piStack_38 = param_1;
      uStack_3c = 0x424f8d;
      ppuStack_28 = param_5;
      uVar3 = (**(code **)(*param_1 + 0x1c))();
      return uVar3;
    }
  }
  return 0;
}



undefined4 FUN_00424fa0(int param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  uint *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  
  FUN_00450a60(param_1,param_2,param_3);
  FUN_00443050(param_1,param_2,param_3);
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 8) == 0) {
    iVar3 = 0;
    piVar1 = &DAT_005dff2b;
    do {
      iVar5 = iVar3;
      if (*piVar1 == 0) break;
      piVar1 = piVar1 + 0x38;
      iVar3 = iVar3 + 1;
      iVar5 = -1;
    } while (piVar1 < &DAT_005e222b);
    if (iVar5 == -1) {
      iVar5 = 0;
      iVar3 = 1;
      puVar2 = &DAT_005dff62;
      uVar4 = DAT_005dfe82;
      do {
        if (uVar4 <= *puVar2) {
          uVar4 = *puVar2;
          iVar5 = iVar3;
        }
        puVar2 = puVar2 + 0x38;
        iVar3 = iVar3 + 1;
      } while (puVar2 < &DAT_005e2182);
    }
    iVar3 = iVar5 * 0xe0;
    (&DAT_005dfe80)[iVar3] = 0;
    *(int *)(param_3 + 0x1b) = param_1;
    (&DAT_005dfe90)[iVar5 * 0x38] = param_3;
    (&DAT_005dfe81)[iVar3] = 0x19;
    (&DAT_005dfe82)[iVar5 * 0x38] = 0;
    *(undefined4 *)((&DAT_005dfe90)[iVar5 * 0x38] + 5) = 0x640;
    *(undefined *)((&DAT_005dfe90)[iVar5 * 0x38] + 10) = 0;
    FUN_00475bf0(&DAT_005e4600,*(int *)(param_1 + 4) + 6,1,0);
    FUN_0046d2a0(&DAT_005dfe94 + iVar3,param_1,param_2,(float)(DAT_004d8328 % 6),
                 (float)(uint)*(byte *)(*(int *)((&DAT_005dfe90)[iVar5 * 0x38] + 0x13) + 0x19e),0);
    DAT_004d7ab0 = DAT_004d7ab0 + '\x01';
    (&DAT_005dfe80)[iVar3] = (&DAT_005dfe80)[iVar3] | 4;
  }
  return 1;
}



void FUN_004250f0(int param_1,undefined4 param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  int *piVar5;
  uint *puVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  bVar1 = *(byte *)(*(int *)(param_1 + 4) + 0x108);
  fVar3 = 3.14159 / (float)(bVar1 + 1);
  if (bVar1 != 0) {
    iVar9 = 0;
    fVar10 = fVar3;
    do {
      iVar2 = *(int *)(*(int *)(param_1 + 4) + 0x109 + iVar9 * 4);
      if (iVar2 != 0) {
        iVar7 = 0;
        piVar5 = &DAT_005dff2b;
        do {
          iVar4 = iVar7;
          if (*piVar5 == 0) break;
          piVar5 = piVar5 + 0x38;
          iVar7 = iVar7 + 1;
          iVar4 = -1;
        } while ((int)piVar5 < 0x5e222b);
        if (iVar4 == -1) {
          iVar4 = 0;
          iVar7 = 1;
          puVar6 = &DAT_005dff62;
          uVar8 = DAT_005dfe82;
          do {
            if (uVar8 < *puVar6) {
              iVar4 = iVar7;
              uVar8 = *puVar6;
            }
            puVar6 = puVar6 + 0x38;
            iVar7 = iVar7 + 1;
          } while ((int)puVar6 < 0x5e2182);
        }
        iVar7 = iVar4 * 0xe0;
        (&DAT_005dfe90)[iVar4 * 0x38] = iVar2;
        (&DAT_005dfe81)[iVar7] = 0x19;
        (&DAT_005dfe82)[iVar4 * 0x38] = 0;
        *(undefined4 *)((&DAT_005dfe90)[iVar4 * 0x38] + 5) = 0x640;
        *(undefined *)((&DAT_005dfe90)[iVar4 * 0x38] + 10) = 0;
        (&DAT_005dfe80)[iVar7] = 0;
        *(undefined4 *)(*(int *)(param_1 + 4) + 0x109 + iVar9 * 4) = 0;
        FUN_0046d2a0(&DAT_005dfe94 + iVar7,param_1,param_2,(float)(iVar9 % 6),
                     (float)(uint)*(byte *)(*(int *)((&DAT_005dfe90)[iVar4 * 0x38] + 0x13) + 0x19e)
                     * 0.125,iVar9 % 6,iVar9,fVar10);
        fVar10 = fVar10 + fVar3;
        DAT_004d7ab0 = DAT_004d7ab0 + '\x01';
      }
      iVar9 = iVar9 + 1;
    } while (iVar9 < 0x1b);
    if (param_3 == 0) {
      FUN_00475bf0(&DAT_005e4600,*(int *)(param_1 + 4) + 6,1,0);
    }
    *(undefined *)(*(int *)(param_1 + 4) + 0x108) = 0;
  }
  return;
}



void FUN_00425290(int param_1,undefined4 param_2,int param_3)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  uint *puVar5;
  int unaff_ESI;
  uint uVar6;
  int iVar7;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 4);
  if (*(char *)(iVar2 + 0x108) != '\0') {
    iVar3 = 0;
    piVar4 = (int *)(iVar2 + 0x109);
    do {
      iVar8 = iVar3;
      if (*piVar4 != 0) break;
      iVar3 = iVar3 + 1;
      piVar4 = piVar4 + 1;
      iVar8 = unaff_ESI;
    } while (iVar3 < 0x1b);
    if (iVar3 != 0x1b) {
      iVar3 = 0;
      piVar4 = &DAT_005dff2b;
      do {
        iVar7 = iVar3;
        if (*piVar4 == 0) break;
        piVar4 = piVar4 + 0x38;
        iVar3 = iVar3 + 1;
        iVar7 = -1;
      } while ((int)piVar4 < 0x5e222b);
      if (iVar7 == -1) {
        iVar7 = 0;
        iVar3 = 0;
        puVar5 = &DAT_005dfe82;
        uVar6 = DAT_005dfe82;
        do {
          if (uVar6 < *puVar5) {
            uVar6 = *puVar5;
            iVar7 = iVar3;
          }
          puVar5 = puVar5 + 0x38;
          iVar3 = iVar3 + 1;
        } while ((int)puVar5 < 0x5e2182);
      }
      iVar3 = iVar7 * 0xe0;
      (&DAT_005dfe90)[iVar7 * 0x38] = *(undefined4 *)(iVar8 * 4 + 0x109 + iVar2);
      (&DAT_005dfe81)[iVar3] = 0x19;
      (&DAT_005dfe82)[iVar7 * 0x38] = 0;
      *(undefined4 *)((&DAT_005dfe90)[iVar7 * 0x38] + 5) = 0x640;
      *(undefined *)((&DAT_005dfe90)[iVar7 * 0x38] + 10) = 0;
      (&DAT_005dfe80)[iVar3] = 0;
      *(undefined4 *)(*(int *)(param_1 + 4) + 0x109 + iVar8 * 4) = 0;
      FUN_0046d2a0(&DAT_005dfe94 + iVar3,param_1,param_2,(float)(DAT_004d8328 % 6),
                   (float)(uint)*(byte *)(*(int *)((&DAT_005dfe90)[iVar7 * 0x38] + 0x13) + 0x19e) *
                   0.125,0);
      DAT_004d7ab0 = DAT_004d7ab0 + '\x01';
      if (param_3 == 0) {
        FUN_00475bf0(&DAT_005e4600,*(int *)(param_1 + 4) + 6,1,0);
      }
      pcVar1 = (char *)(*(int *)(param_1 + 4) + 0x108);
      *pcVar1 = *pcVar1 + -1;
    }
  }
  return;
}



undefined4 FUN_00425410(void)

{
  ushort *puVar1;
  short *psVar2;
  float fVar3;
  int *piVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  undefined2 extraout_var;
  int extraout_EDX;
  undefined2 uVar9;
  undefined2 extraout_var_00;
  char *pcVar10;
  float10 fVar11;
  float local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  float local_2c;
  undefined4 *local_28;
  int local_24;
  float *local_20;
  float *local_1c;
  undefined8 local_18;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598e18 != 0) {
    return 1;
  }
  iVar7 = *(int *)(DAT_005df318 + 4);
  if (iVar7 == 0) {
    return 1;
  }
  do {
    iVar12 = *(int *)(iVar7 + 4);
    uVar8 = *(uint *)(iVar12 + 0x8a) & 2;
    if ((((uVar8 == 0) || (*(int *)(*(int *)(iVar12 + 0x100) + 0x32) == 0)) &&
        ((*(uint *)(iVar12 + 0x8a) & 0x400000) != 0)) &&
       ((uVar8 == 0 || ((*(byte *)(iVar12 + 0x8e) & 0x20) == 0)))) {
      local_44 = *(float *)(iVar12 + 0x36);
      iVar12 = 0;
      pcVar10 = &DAT_005dfe81;
      iVar15 = iVar7;
      do {
        if (((*(int *)(pcVar10 + 0xaa) != 0) && (*pcVar10 == '\0')) &&
           (((*(byte *)(*(int *)(iVar7 + 4) + 0x8a) & 2) == 0 || ((pcVar10[-1] & 8U) == 0)))) {
          local_18 = (double)(local_44 - *(float *)(pcVar10 + 0x4a));
          local_1c = (float *)0x4254d1;
          iVar13 = iVar12;
          fVar11 = (float10)FUN_004ad3c0();
          if (fVar11 < (float10)2.559999942779541) {
            local_18 = (double)((float)local_18 - *(float *)(pcVar10 + 0x52));
            local_1c = (float *)0x4254f2;
            fVar11 = (float10)FUN_004ad3c0();
            if (fVar11 < (float10)2.559999942779541) {
              local_18 = (double)(local_18._4_4_ - *(float *)(pcVar10 + 0x4e));
              local_1c = (float *)0x425513;
              fVar11 = (float10)FUN_004ad3c0();
              if (fVar11 < (float10)2.559999942779541) {
                iVar14 = *(int *)(iVar7 + 4);
                if ((*(uint *)(iVar14 + 0x8a) & 1) == 0) {
                  uVar9 = extraout_var;
                  if ((*(uint *)(iVar14 + 0x8a) & 8) == 0) goto LAB_00425647;
                  iVar12 = 0;
                  piVar4 = &DAT_005dcc64;
                  goto LAB_00425612;
                }
                iVar12 = iVar12 * 0xe0;
                if (((&DAT_005dfe80)[iVar12] & 4) == 0) {
                  if (((&DAT_005dfe80)[iVar12] & 8) != 0) {
                    local_20 = (float *)&DAT_005e4981;
                    goto LAB_004255d5;
                  }
                }
                else {
                  local_24 = (int)(float)local_18;
                  local_28 = (undefined4 *)0x3fa3d70a;
                  local_1c = &local_2c;
                  *(int *)(iVar14 + 399) = *(int *)(iVar14 + 399) + 100;
                  local_18 = 1.060997900423293e-313;
                  local_20 = (float *)0x4255ae;
                  local_2c = local_44;
                  FUN_0049cca0();
                  iVar14 = *(int *)(iVar7 + 4);
                  local_20 = (float *)&DAT_005e490c;
LAB_004255d5:
                  local_1c = (float *)(iVar14 + 6);
                  local_18 = 4.940656458412465e-324;
                  local_24 = 0x4255da;
                  FUN_00475bf0();
                  iVar12 = extraout_EDX;
                }
                uVar9 = (undefined2)((uint)iVar12 >> 0x10);
                if ((DAT_004ca030 == 1) && (DAT_004d7ab8 == 0)) {
                  local_18 = 6.368135267461694e-314;
                  FUN_0049fa20();
                  DAT_004d7ab8 = 1;
                  uVar9 = extraout_var_00;
                }
                goto LAB_00425647;
              }
            }
          }
        }
        pcVar10 = pcVar10 + 0xe0;
        iVar12 = iVar12 + 1;
      } while ((int)pcVar10 < 0x5e2181);
    }
    iVar7 = *(int *)(iVar7 + 0x16);
    if (iVar7 == 0) {
      return 1;
    }
  } while( true );
LAB_00425612:
  if ((iVar7 == piVar4[-0x11]) && (1 < *piVar4)) {
    *(undefined4 *)((int)&DAT_005dcc64 + iVar12 * 0x62) = 3;
    *(undefined4 *)((int)&DAT_005dcc68 + iVar12 * 0x62) = 0;
    goto LAB_00425647;
  }
  piVar4 = (int *)((int)piVar4 + 0x62);
  iVar12 = iVar12 + 1;
  if ((int *)0x5dcdeb < piVar4) {
LAB_00425647:
    iVar12 = 0;
    piVar4 = (int *)(*(int *)(iVar7 + 4) + 0x109);
    piVar5 = piVar4;
    do {
      if (*piVar5 == 0) {
        local_18 = (double)CONCAT44(CONCAT22(uVar9,*(undefined2 *)(&DAT_005dfe90)[iVar13 * 0x38]),
                                    iVar7);
        local_1c = (float *)0x4257a1;
        iVar14 = iVar13;
        local_20 = (float *)FUN_00416640();
        if (local_20 == (float *)0x0) {
          *(undefined4 *)(*(int *)(iVar7 + 4) + 0x109 + iVar12 * 4) = (&DAT_005dfe90)[iVar13 * 0x38]
          ;
          *(char *)(*(int *)(iVar7 + 4) + 0x108) = *(char *)(*(int *)(iVar7 + 4) + 0x108) + '\x01';
          if (((*(byte *)(*(int *)(iVar7 + 4) + 0x8a) & 1) != 0) && (DAT_004d79b0 != 0)) {
            *(int *)(DAT_004d79b0 + 0x14) = iVar12;
            if (*(int *)(DAT_004d79b0 + 0x14) < 0) {
              *(undefined4 *)(DAT_004d79b0 + 0x14) = 0;
            }
            if (4 < *(int *)(DAT_004d79b0 + 0x14)) {
              *(undefined4 *)(DAT_004d79b0 + 0x14) = 4;
            }
            if (iVar12 < 5) {
              *(undefined4 *)(DAT_004d79b0 + 0xc) = 0;
            }
            else {
              *(int *)(DAT_004d79b0 + 0xc) =
                   -((iVar12 - *(int *)(DAT_004d79b0 + 0x14)) * *(int *)(DAT_004d79b0 + 0x10));
            }
          }
        }
        else {
          iVar12 = *(int *)(iVar7 + 4);
          if ((*(byte *)(iVar12 + 0x8a) & 1) != 0) {
            local_1c = (float *)((uint)*(byte *)(*(int *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x13) +
                                                0x19e) *
                                (*(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 4) + 100));
            local_18 = (double)CONCAT44(0x425877,(float)local_18);
            iVar6 = __ftol();
            *(int *)(iVar12 + 399) = *(int *)(iVar12 + 399) + iVar6;
            fVar3 = local_44;
            iVar7 = iVar15;
            if ((DAT_004ca030 == 1) && (fVar3 = local_44, DAT_004d7abc == 0)) {
              local_18 = 1.061212718634501e-313;
              FUN_0049fa20();
              DAT_004d7abc = 1;
              fVar3 = local_44;
              iVar7 = iVar15;
            }
            local_2c = fVar3;
            local_28 = (undefined4 *)local_18._4_4_;
            local_24 = (int)(float)local_18;
            local_1c = &local_2c;
            local_18 = (double)CONCAT44(3,iVar6);
            local_20 = (float *)0x4258cc;
            FUN_0049cca0();
            if ((&DAT_005dfe90)[iVar13 * 0x38] != 0) {
              if ((*(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) & 6) == 0) {
                *(int *)(DAT_004d80cc + 4) = *(int *)(DAT_004d80cc + 4) + 1;
              }
              *(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) =
                   *(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) | 2;
            }
          }
        }
        local_18 = 4.940656458412465e-324;
        if (*(char *)(*(int *)(iVar7 + 4) + 0x189) == '\0') {
          local_20 = (float *)&DAT_005e4870;
        }
        else {
          local_20 = (float *)&DAT_005e4627;
        }
        local_1c = (float *)(*(int *)(iVar7 + 4) + 6);
        local_24 = 0x42591e;
        FUN_00475bf0();
        local_38 = (&DAT_005dfecb)[iVar13 * 0x38];
        local_34 = (&DAT_005dfecf)[iVar13 * 0x38];
        local_30 = (&DAT_005dfed3)[iVar13 * 0x38];
        local_18 = 1.060997895729669e-313;
        local_1c = (float *)0x425945;
        fVar11 = (float10)FUN_0045e9e0();
        local_28 = &local_38;
        local_1c = (float *)(float)(fVar11 - (float10)-0.5);
        local_20 = (float *)0x1;
        local_24 = 0x14;
        local_2c = 6.093199e-39;
        FUN_0046cc80();
        iVar12 = DAT_004d80cc;
        if ((local_20 == (float *)0x0) && ((*(byte *)(*(int *)(iVar7 + 4) + 0x8a) & 1) != 0)) {
          puVar1 = (ushort *)(&DAT_005dfe90)[iVar13 * 0x38];
          psVar2 = *(short **)(DAT_004d80f0 + 8);
          uVar8 = (uint)*puVar1;
          if (((uVar8 != (int)*psVar2) &&
              (((uVar8 != (int)psVar2[4] && (uVar8 != (int)psVar2[8])) &&
               (uVar8 != (int)psVar2[0xc])))) && (uVar8 != (int)psVar2[0x10])) {
            local_20 = (float *)((uint)*(byte *)(*(int *)((int)puVar1 + 0x13) + 0x19e) *
                                (*(byte *)(puVar1 + 2) + 100));
            local_18 = (double)CONCAT44(0x4259f1,(float)local_18);
            iVar7 = __ftol();
            *(int *)(iVar12 + 8) = *(int *)(iVar12 + 8) + iVar7;
            if ((&DAT_005dfe90)[iVar13 * 0x38] != 0) {
              if ((*(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) & 6) == 0) {
                *(int *)(DAT_004d80cc + 4) = *(int *)(DAT_004d80cc + 4) + 1;
              }
              *(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) =
                   *(byte *)((&DAT_005dfe90)[iVar13 * 0x38] + 0x1f) | 2;
            }
            local_18 = (double)CONCAT44(iVar14,0x425a24);
            FUN_004a0b10();
          }
        }
        (&DAT_005dfe81)[iVar13 * 0xe0] = 0;
        (&DAT_005dff2b)[iVar13 * 0x38] = 0;
        return 1;
      }
      iVar12 = iVar12 + 1;
      piVar5 = piVar5 + 1;
    } while (iVar12 < 0x1b);
    iVar12 = *piVar4;
    local_18 = 4.940656458412465e-324;
    *piVar4 = (&DAT_005dfe90)[iVar13 * 0x38];
    if (*(char *)(*(int *)(iVar7 + 4) + 0x189) == '\0') {
      local_20 = (float *)&DAT_005e4870;
    }
    else {
      local_20 = (float *)&DAT_005e4627;
    }
    local_1c = (float *)(*(int *)(iVar7 + 4) + 6);
    local_24 = 0x4256a7;
    FUN_00475bf0();
    local_38 = (&DAT_005dfecb)[iVar13 * 0x38];
    local_34 = (&DAT_005dfecf)[iVar13 * 0x38];
    local_30 = (&DAT_005dfed3)[iVar13 * 0x38];
    local_18 = 1.060997895729669e-313;
    local_1c = (float *)0x4256ce;
    fVar11 = (float10)FUN_0045e9e0();
    local_28 = &local_38;
    local_1c = (float *)(float)(fVar11 - (float10)-0.5);
    local_20 = (float *)0x1;
    local_24 = 0x14;
    local_2c = 6.092315e-39;
    FUN_0046cc80();
    (&DAT_005dff2b)[iVar13 * 0x38] = 0;
    (&DAT_005dfe90)[iVar13 * 0x38] = iVar12;
    (&DAT_005dfe81)[iVar13 * 0xe0] = 0x19;
    (&DAT_005dfe82)[iVar13 * 0x38] = 0;
    local_3c = SUB84(local_18,0);
    *(undefined4 *)((&DAT_005dfe90)[iVar13 * 0x38] + 5) = 0x640;
    *(undefined *)((&DAT_005dfe90)[iVar13 * 0x38] + 10) = 0;
    local_40 = 0;
    local_18 = (double)(ulonglong)
                       (uint)(float)(uint)*(byte *)(*(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x109) +
                                                            0x13) + 0x19e);
    local_28 = (undefined4 *)(&DAT_005dfe94 + iVar13 * 0xe0);
    local_20 = &local_44;
    local_1c = (float *)(float)(DAT_004d8328 % 6);
    local_2c = 6.092516e-39;
    local_24 = iVar7;
    FUN_0046d2a0();
    return 1;
  }
  goto LAB_00425612;
}



undefined4 FUN_00425a50(void)

{
  byte bVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  int *piVar6;
  bool bVar7;
  float10 fVar8;
  int iVar9;
  float fVar10;
  float fVar11;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  piVar6 = &DAT_005a464e;
  iVar9 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  pbVar5 = &DAT_005e2180;
  fVar2 = *(float *)(iVar9 + 0x36);
  fVar10 = *(float *)(iVar9 + 0x3a);
  fVar11 = *(float *)(iVar9 + 0x3e);
  do {
    if (*(int *)(pbVar5 + 0xab) != 0) {
      if (pbVar5[1] == 0) {
        if ((((*pbVar5 & 3) == 0) &&
            (fVar8 = (float10)FUN_004ad3c0((double)(fVar2 - *(float *)(pbVar5 + 0x4b)),fVar10,fVar11
                                          ), fVar8 < (float10)2.559999942779541)) &&
           (fVar8 = (float10)FUN_004ad3c0((double)(fVar11 - *(float *)(pbVar5 + 0x53))),
           fVar8 < (float10)2.559999942779541)) {
          iVar9 = (int)((ulonglong)(double)(fVar10 - *(float *)(pbVar5 + 0x4f)) >> 0x20);
          fVar8 = (float10)FUN_004ad3c0();
          if (fVar8 < (float10)2.559999942779541) {
            iVar3 = *(int *)(iVar9 + 4);
            if ((((((*(byte *)(iVar3 + 0x189) != 5) &&
                   ((uint)*(byte *)(iVar3 + 0x1ac) + (uint)*(byte *)(iVar3 + 0x189) != 5)) &&
                  ((*(short **)(iVar3 + 0x175) == (short *)0x0 ||
                   (**(short **)(iVar3 + 0x175) != *(short *)(&DAT_005e2190)[iVar4 * 0x38])))) &&
                 ((*(short **)(iVar3 + 0x179) == (short *)0x0 ||
                  (**(short **)(iVar3 + 0x179) != *(short *)(&DAT_005e2190)[iVar4 * 0x38])))) &&
                ((*(short **)(iVar3 + 0x17d) == (short *)0x0 ||
                 (**(short **)(iVar3 + 0x17d) != *(short *)(&DAT_005e2190)[iVar4 * 0x38])))) &&
               (((*(short **)(iVar3 + 0x181) == (short *)0x0 ||
                 (**(short **)(iVar3 + 0x181) != *(short *)(&DAT_005e2190)[iVar4 * 0x38])) &&
                ((*(short **)(iVar3 + 0x185) == (short *)0x0 ||
                 (**(short **)(iVar3 + 0x185) != *(short *)(&DAT_005e2190)[iVar4 * 0x38])))))) {
              bVar1 = (&DAT_005e2180)[iVar4 * 0xe0];
              bVar7 = DAT_005d6c94 == 0;
              (&DAT_005e2180)[iVar4 * 0xe0] = bVar1 | 1;
              if (bVar7) {
                *(char *)(*(int *)(iVar9 + 4) + 0x1ac) =
                     *(char *)(*(int *)(iVar9 + 4) + 0x1ac) + '\x01';
                FUN_00466530(9,0,iVar4,0,0,0);
                return 1;
              }
              (&DAT_005e2180)[iVar4 * 0xe0] = bVar1 | 3;
              FUN_00466530(5,0,iVar4,0,0,0);
              FUN_00425eb0(iVar9,*(int *)(iVar9 + 4) + 6,iVar4);
              return 1;
            }
            *(undefined4 *)((int)&DAT_005a464e + iVar4 * 0x16) = 0x37;
            (&DAT_005e2181)[iVar4 * 0xe0] = 100;
            return 1;
          }
        }
      }
      else {
        pbVar5[1] = pbVar5[1] - 1;
        *piVar6 = *piVar6 + 4;
      }
    }
    pbVar5 = pbVar5 + 0xe0;
    iVar4 = iVar4 + 1;
    piVar6 = (int *)((int)piVar6 + 0x16);
    if (0x5e447f < (int)pbVar5) {
      return 0;
    }
  } while( true );
}



undefined4 FUN_00425ce0(undefined4 param_1,byte *param_2)

{
  byte bVar1;
  int iVar2;
  undefined *local_18;
  float local_14;
  float local_10;
  undefined **local_c;
  
  AdjustStackForLargeAllocations();
  DAT_004d7ac8 = DAT_004d7ac8 + 1;
  bVar1 = param_2[9];
  param_2[4] = 100;
  param_2[0xe] = 0;
  local_10 = (float)(uint)*(byte *)(*(int *)(param_2 + 0x13) + 0x19e);
  for (local_14 = (float)(*param_2 & 7); 6.28 < local_14; local_14 = local_14 - 6.28) {
  }
  iVar2 = (uint)(byte)(bVar1 - 1) * 0xe0;
  (&DAT_005e2180)[iVar2] = (&DAT_005e2180)[iVar2] & 0xfc;
  (&DAT_005e2181)[iVar2] = 100;
  local_18 = &DAT_005e2194 + iVar2;
  *(undefined4 *)((int)&DAT_005a464e + (uint)(byte)(bVar1 - 1) * 0x16) = 0x37;
  DAT_004d7ab4 = DAT_004d7ab4 + '\x01';
  local_c = &local_18;
  FUN_0046d420();
  return 1;
}



void FUN_00425df0(int param_1,undefined4 param_2,int param_3)

{
  float10 fVar1;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  local_10 = 0;
  *(undefined4 *)
   (*(int *)(param_1 + 4) + 0x109 + (uint)*(byte *)(*(int *)(param_1 + 4) + 0x108) * 4) =
       (&DAT_005dfe90)[param_3 * 0x38];
  *(char *)(*(int *)(param_1 + 4) + 0x108) = *(char *)(*(int *)(param_1 + 4) + 0x108) + '\x01';
  FUN_00475bf0(&DAT_005e4627,*(int *)(param_1 + 4) + 6,1);
  local_10 = 5;
  fVar1 = (float10)FUN_0045e9e0(5);
  FUN_0046cc80(&local_10,0x14,1,(float)(fVar1 - (float10)-0.5));
  (&DAT_005dfe81)[param_3 * 0xe0] = 0;
  (&DAT_005dff2b)[param_3 * 0x38] = 0;
  return;
}



void FUN_00425eb0(int param_1,undefined4 param_2,int param_3)

{
  float10 fVar1;
  int local_10;
  
  AdjustStackForLargeAllocations();
  DAT_004d7acc = DAT_004d7acc + 1;
  local_10 = param_1;
  FUN_0048b5d0();
  local_10 = param_3;
  FUN_00425f60(param_1);
  local_10 = 0;
  FUN_00475bf0(&DAT_005e4627,param_2,1);
  local_10 = 0x425eff;
  FUN_0045e9e0();
  local_10 = 0x425f16;
  FUN_0045e9e0();
  local_10 = 5;
  fVar1 = (float10)FUN_0045e9e0(5);
  FUN_0046cc80(&local_10,0x14,1,(float)(fVar1 - (float10)-0.5));
  if (*(char *)(*(int *)(param_1 + 4) + 0x189) == '\x01') {
    local_10 = param_1;
    FUN_0048b540();
  }
  return;
}



void FUN_00425f60(undefined4 param_1,int param_2)

{
  FUN_00442a60(param_1,(&DAT_005e2190)[param_2 * 0x38]);
  DAT_004d7ab4 = DAT_004d7ab4 + -1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00425fa0(void)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x20;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x20);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  if ((char)DAT_00598944 != '\0') {
    *(void **)(DAT_005e4480 + (_DAT_004d7ac4 & 0xff) * 4) = pvVar1;
  }
  *(char *)((int)pvVar1 + 9) = DAT_004d7ac4;
  _DAT_004d7ac4 = CONCAT31(DAT_004d7ac4_1,DAT_004d7ac4 + '\x01');
  return;
}



void FUN_00425ff0(void)

{
  int *piVar1;
  
  piVar1 = &DAT_005dff2b;
  do {
    if (*piVar1 != 0) {
      FUN_00475290(*(undefined4 *)((int)piVar1 + -0x9b));
    }
    *piVar1 = 0;
    piVar1 = piVar1 + 0x38;
  } while ((int)piVar1 < 0x5e222b);
  _memset(&DAT_005dfe80,0,0x2300);
  return;
}



void FUN_00426040(void)

{
  int *piVar1;
  
  piVar1 = &DAT_005e2190;
  do {
    if (*piVar1 != 0) {
      FUN_00475290(*piVar1);
    }
    piVar1 = piVar1 + 0x38;
  } while ((int)piVar1 < 0x5e4490);
  _memset(&DAT_005e2180,0,0x2300);
  return;
}



void FUN_00426080(int param_1)

{
  int iVar1;
  
  if (*(char *)(*(int *)(param_1 + 4) + 0x108) != '\0') {
    iVar1 = 0;
    do {
      if (*(int *)(*(int *)(param_1 + 4) + 0x109 + iVar1) != 0) {
        *(undefined4 *)(*(int *)(param_1 + 4) + 0x109 + iVar1) = 0;
      }
      iVar1 = iVar1 + 4;
    } while (iVar1 < 0x6c);
    *(undefined *)(*(int *)(param_1 + 4) + 0x108) = 0;
  }
  return;
}



void FUN_004260d0(void)

{
  int iVar1;
  int iVar2;
  void *pvVar3;
  uint uVar4;
  undefined4 uVar5;
  char cVar6;
  int iVar7;
  size_t sVar8;
  
  DAT_005dfe6c = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  sVar8 = 6;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(6);
  DAT_005dfe64 = _memset(pvVar3,iVar7,sVar8);
  uVar4 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar7 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar4 * 4) + 0x9d);
      if ((iVar7 != 0) && ((*(byte *)(iVar7 + 1) & 0x80) != 0)) {
        DAT_004d7ad8._0_2_ = (short)DAT_004d7ad8 + 1;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(uint *)(DAT_00598d90 + 0x239));
  }
  sVar8 = (DAT_004d7ad8 & 0xffff) * 0x38;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar8);
  DAT_004d7ad4 = _memset(pvVar3,iVar7,sVar8);
  uVar4 = DAT_004d7ad8 & 0xffff;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(uVar4);
  DAT_004d7ad0 = _memset(pvVar3,iVar7,uVar4);
  uVar4 = 0;
  if ((short)DAT_004d7ad8 != 0) {
    iVar7 = 0;
    do {
      *(short *)((int)DAT_004d7ad4 + iVar7) = (short)uVar4;
      uVar4 = uVar4 + 1;
      iVar7 = iVar7 + 0x38;
    } while (uVar4 < (DAT_004d7ad8 & 0xffff));
  }
  sVar8 = (DAT_004d7ad8 & 0xffff) << 3;
  iVar7 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar8);
  DAT_005dfe68 = _memset(pvVar3,iVar7,sVar8);
  cVar6 = '\0';
  uVar4 = 0;
  iVar7 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(iVar7 + 0x230) + uVar4 * 4);
      iVar2 = *(int *)(iVar1 + 0x9d);
      if ((iVar2 != 0) && ((*(byte *)(iVar2 + 1) & 0x80) != 0)) {
        uVar5 = CONCAT31((int3)((uint)iVar2 >> 8),cVar6);
        cVar6 = cVar6 + '\x01';
        FUN_00426350(iVar1,uVar5);
        iVar7 = DAT_00598d90;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(uint *)(iVar7 + 0x239));
  }
  return;
}



int FUN_00426240(void)

{
  char *pcVar1;
  char cVar2;
  char *pcVar3;
  uint uVar4;
  
  uVar4 = 0;
  cVar2 = *DAT_004d7ad0;
  pcVar3 = DAT_004d7ad0;
  while (cVar2 != '\0') {
    pcVar1 = pcVar3 + 1;
    pcVar3 = pcVar3 + 1;
    uVar4 = uVar4 + 1;
    cVar2 = *pcVar1;
  }
  *pcVar3 = '\x01';
  return DAT_004d7ad4 + (uVar4 & 0xffff) * 0x38;
}



void FUN_00426270(uint param_1)

{
  int iVar1;
  
  iVar1 = DAT_004d7ad4 + (param_1 & 0xffff) * 0x38;
  *(undefined4 *)(iVar1 + 0x14) = 0;
  *(undefined4 *)(iVar1 + 0x1c) = 0;
  *(undefined4 *)(iVar1 + 0x18) = 0;
  *(undefined *)(DAT_004d7ad0 + (param_1 & 0xffff)) = 0;
  return;
}



void FUN_004262b0(int param_1,int param_2)

{
  float fVar1;
  float fVar2;
  
  fVar1 = *(float *)(param_2 + 0x85) - *(float *)(param_2 + 0x79);
  fVar2 = *(float *)(param_2 + 0x8d) - *(float *)(param_2 + 0x81);
  if (fVar1 <= fVar2) {
    fVar1 = fVar2;
  }
  *(float *)(param_1 + 0x20) = fVar1;
  *(float *)(param_1 + 0x24) =
       *(float *)(param_2 + 0x79) - (*(float *)(param_2 + 0x85) - *(float *)(param_2 + 0x79)) * -0.5
  ;
  *(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(param_2 + 0x7d);
  *(float *)(param_1 + 0x2c) =
       *(float *)(param_2 + 0x81) - (*(float *)(param_2 + 0x8d) - *(float *)(param_2 + 0x81)) * -0.5
  ;
  *(undefined4 *)(param_1 + 0x14) =
       *(undefined4 *)(DAT_005dfe68 + 4 + (uint)*(byte *)(*(int *)(param_2 + 0x9d) + 6) * 8);
  *(undefined4 *)(param_1 + 0x1c) =
       *(undefined4 *)(DAT_005dfe68 + (uint)*(byte *)(*(int *)(param_2 + 0x9d) + 6) * 8);
  return;
}



void FUN_00426350(int param_1,byte param_2)

{
  undefined2 uVar1;
  int *piVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  undefined *puVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  undefined *puVar12;
  undefined4 local_64 [2];
  undefined *local_5c;
  int local_58;
  undefined *local_54;
  undefined4 uStackY_3c;
  uint uVar13;
  int iVar14;
  
  AdjustStackForLargeAllocations();
  *(byte *)(*(int *)(param_1 + 0x9d) + 6) = param_2;
  piVar2 = *(int **)(param_1 + 0x56);
  iVar6 = *piVar2;
  iVar14 = piVar2[2];
  _memset(&stack0xffffffcc,0,0x14);
  local_5c = &stack0xffffffcc;
  iVar4 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar4 == 0) {
    iVar4 = (**(code **)(iRam00000000 + 0x10))();
    if (iVar4 == 0) {
      _memset(&stack0xffffffcc,0,iVar6 * 0x20 + 0x800 + iVar14 * 8);
      FUN_004ad7a0();
      uVar5 = (uint)param_2;
      *(undefined **)(DAT_005dfe68 + 4 + uVar5 * 8) = &stack0xffffffcc;
      puVar12 = &stack0xffffffcc;
      if (0 < (int)local_5c) {
        puVar12 = &stack0xffffffcc + iVar6 * 0x20;
      }
      puVar9 = puVar12;
      if (*(int *)(param_1 + 0x5b) != 0) {
        *puVar12 = 5;
        puVar12[1] = 0xc;
        *(undefined2 *)(puVar12 + 2) = 1;
        *(undefined4 *)(puVar12 + 8) = *(undefined4 *)(param_1 + 0x52);
        *(undefined4 *)(puVar12 + 0xc) = DAT_005b9ce8;
        *(undefined4 *)(puVar12 + 4) = DAT_005b9ce0;
        puVar9 = puVar12 + 0x10;
      }
      *puVar9 = 9;
      puVar9[1] = 0x10;
      *(undefined2 *)(puVar9 + 2) = 1;
      uVar13 = 0;
      *(undefined4 *)(puVar9 + 4) = 1;
      *(undefined2 *)(puVar9 + 8) = 0;
      *(undefined2 *)(puVar9 + 10) = 0;
      *(undefined **)(puVar9 + 0xc) = local_5c;
      *(undefined4 *)(puVar9 + 0x10) = 0;
      puVar10 = (undefined2 *)(puVar9 + 0x14);
      iVar6 = 0;
      iVar14 = 0;
      if (piVar2[5] != 0) {
        _param_2 = 0;
        do {
          iVar4 = uVar13 * 4;
          if (*(int *)(iVar4 + piVar2[8]) != 0) {
            uVar3 = *(undefined4 *)(piVar2[7] + 0x48 + _param_2);
            *(undefined *)puVar10 = 8;
            *(undefined *)((int)puVar10 + 1) = 8;
            puVar10[1] = 1;
            *(undefined4 *)(puVar10 + 2) = 1;
            *(undefined4 *)(puVar10 + 4) = uVar3;
            puVar11 = puVar10 + 6;
            if (((uint)puVar11 & 7) == 0) {
              *(undefined *)puVar11 = 3;
              *(undefined *)((int)puVar10 + 0xd) = 8;
              puVar10[7] = 0;
              puVar11 = puVar10 + 8;
            }
            *(undefined *)puVar11 = 3;
            *(undefined *)((int)puVar11 + 1) = 8;
            puVar10 = puVar11 + 2;
            puVar11[1] = *(undefined2 *)(iVar4 + piVar2[8]);
            uVar8 = 0;
            if (*(int *)(iVar4 + piVar2[8]) != 0) {
              iVar7 = iVar6 * 0xc;
              puVar11 = puVar10;
              do {
                puVar10 = puVar11 + 4;
                uVar8 = uVar8 + 1;
                *puVar11 = *(undefined2 *)(iVar7 + piVar2[3]);
                puVar11[1] = *(undefined2 *)(iVar7 + 2 + piVar2[3]);
                uVar1 = *(undefined2 *)(iVar7 + 4 + piVar2[3]);
                puVar11[3] = 0x700;
                puVar11[2] = uVar1;
                iVar6 = iVar14;
                iVar7 = iVar7 + 0xc;
                puVar11 = puVar10;
              } while (uVar8 < *(uint *)(iVar4 + piVar2[8]));
            }
            iVar6 = iVar6 + *(int *)(iVar4 + piVar2[8]);
            iVar14 = iVar6;
          }
          uVar13 = uVar13 + 1;
          _param_2 = _param_2 + 0x50;
        } while (uVar13 < (uint)piVar2[5]);
      }
      if (*(int *)(param_1 + 0x5b) != 0) {
        *(undefined *)puVar10 = 4;
        *(undefined *)((int)puVar10 + 1) = 8;
        puVar10[1] = 1;
        *(undefined4 *)(puVar10 + 4) = DAT_005b9ce8;
        *(undefined4 *)(puVar10 + 2) = DAT_005b9ce0;
        puVar10 = puVar10 + 6;
      }
      *(undefined *)puVar10 = 0xb;
      *(undefined *)((int)puVar10 + 1) = 0;
      puVar10[1] = 0;
      (**(code **)(iRam00000000 + 0x14))();
      uStackY_3c = 0x4265cc;
      _memset(local_64,0,0x30);
      local_58 = (int)puVar12 - (int)&stack0xffffffcc;
      local_54 = (undefined *)((int)puVar10 + (4 - (int)puVar12));
      local_64[0] = 0x30;
      (**(code **)(iRam00000000 + 0x18))();
      *(undefined4 *)(DAT_005dfe68 + uVar5 * 8) = 0;
    }
  }
  return;
}



void FUN_00426610(int param_1)

{
  ushort *puVar1;
  undefined uVar2;
  int iVar3;
  
  puVar1 = (ushort *)(*(int *)(param_1 + 0x9d) + 1);
  *puVar1 = *puVar1 & 0xff7f;
  if ((*(ushort *)(param_1 + 0xa1) & 0x1000) != 0) {
    *(ushort *)(param_1 + 0xa1) = *(ushort *)(param_1 + 0xa1) & 0xfffd;
  }
  iVar3 = FUN_00426240();
  *(undefined2 *)(iVar3 + 3) = *(undefined2 *)(param_1 + 4);
  uVar2 = *(undefined *)(*(int *)(param_1 + 0x9d) + 0xf);
  *(undefined *)(iVar3 + 5) = uVar2;
  switch(uVar2) {
  case 1:
  case 3:
    *(undefined *)(iVar3 + 6) = 0;
    break;
  case 2:
  case 4:
    *(undefined *)(iVar3 + 6) = 1;
  }
  *(undefined *)(iVar3 + 7) = *(undefined *)(*(int *)(param_1 + 0x9d) + 0x13);
  *(undefined *)(iVar3 + 8) = *(undefined *)(*(int *)(param_1 + 0x9d) + 0x17);
  *(undefined *)(iVar3 + 9) = *(undefined *)(iVar3 + 7);
  if (*DAT_005dfe64 != 0) {
    *(int *)(*(int *)(DAT_005dfe64 + 1) + 0x30) = iVar3;
    *(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(DAT_005dfe64 + 1);
  }
  *(int *)(DAT_005dfe64 + 1) = iVar3;
  *DAT_005dfe64 = *DAT_005dfe64 + 1;
  return;
}



void FUN_004266e0(void)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  iVar1 = *(int *)(DAT_005dfe64 + 1);
  if (*DAT_005dfe64 != 0) {
    do {
      uVar2 = uVar2 + 1;
      *(undefined4 *)(iVar1 + 0x10) = *(undefined4 *)(iVar1 + 0x14);
      *(undefined4 *)(iVar1 + 0x18) = *(undefined4 *)(iVar1 + 0x1c);
      iVar1 = *(int *)(iVar1 + 0x34);
    } while (uVar2 < *DAT_005dfe64);
  }
  return;
}



void FUN_00426720(void)

{
  ushort *puVar1;
  int iVar2;
  uint uVar3;
  
  WaitForSingleObject(DAT_005dfe6c,0xffffffff);
  uVar3 = 0;
  iVar2 = *(int *)(DAT_005dfe64 + 1);
  puVar1 = DAT_005dfe64;
  if (*DAT_005dfe64 != 0) {
    do {
      if (*(int *)(iVar2 + 0x18) != 0) {
        (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
                  (*(int **)(DAT_005e5010 + 8),*(int *)(iVar2 + 0x18),
                   *(undefined4 *)(DAT_005e5010 + 0xc),1);
        puVar1 = DAT_005dfe64;
      }
      iVar2 = *(int *)(iVar2 + 0x34);
      uVar3 = uVar3 + 1;
    } while (uVar3 < *puVar1);
  }
  SetEvent(DAT_005dfe6c);
  return;
}



void FUN_00426780(void)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  char *pcVar4;
  
  uVar3 = 0;
  pcVar4 = DAT_004d7ad0;
  if ((short)DAT_004d7ad8 != 0) {
    do {
      if (*pcVar4 == '\x01') {
        FUN_00426270(uVar3);
      }
      pcVar4 = pcVar4 + 1;
      uVar3 = uVar3 + 1;
    } while (uVar3 < (DAT_004d7ad8 & 0xffff));
  }
  if (DAT_004d7ad0 != (char *)0x0) {
    FreeMemory(DAT_004d7ad0);
    DAT_004d7ad0 = (char *)0x0;
  }
  if (DAT_004d7ad4 != 0) {
    FreeMemory(DAT_004d7ad4);
    DAT_004d7ad4 = 0;
  }
  if (DAT_005dfe64 != 0) {
    FreeMemory(DAT_005dfe64);
    DAT_005dfe64 = 0;
  }
  uVar3 = 0;
  if ((short)DAT_004d7ad8 != 0) {
    do {
      piVar1 = *(int **)(DAT_005dfe68 + uVar3 * 8);
      if ((piVar1 != (int *)0x0) && (*piVar1 != 0)) {
        (**(code **)(*piVar1 + 8))(piVar1);
      }
      *(undefined4 *)(DAT_005dfe68 + uVar3 * 8) = 0;
      iVar2 = *(int *)(DAT_005dfe68 + uVar3 * 8);
      if (iVar2 != 0) {
        FreeMemory(iVar2);
        *(undefined4 *)(DAT_005dfe68 + uVar3 * 8) = 0;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < (DAT_004d7ad8 & 0xffff));
  }
  if (DAT_005dfe68 != 0) {
    FreeMemory(DAT_005dfe68);
    DAT_005dfe68 = 0;
  }
  return;
}



void FUN_00426880(void)

{
  byte *pbVar1;
  ushort *puVar2;
  uint *puVar3;
  ushort uVar4;
  int iVar5;
  uint *puVar6;
  undefined2 *puVar7;
  undefined2 *puVar8;
  char cVar9;
  uint uVar10;
  uint uVar11;
  int iVar12;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(DAT_005dfe6c,0xffffffff);
  if (*DAT_005dfe64 != 0) {
    iVar5 = *(int *)(DAT_005dfe64 + 1);
    for (uVar10 = (uint)*DAT_005dfe64; uVar10 != 0; uVar10 = uVar10 - 1) {
      cVar9 = *(char *)(iVar5 + 6);
      if (cVar9 == '\0') {
        if (*(char *)(iVar5 + 9) == '\0') {
          iVar12 = (uint)*(ushort *)(iVar5 + 3) * 4;
          *(undefined2 *)(iVar5 + 10) =
               *(undefined2 *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + iVar12) + 0xa1);
          *(undefined2 *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + iVar12) + 0xa1) = 0;
          if (*(char *)(iVar5 + 5) == '\x03') {
            *(undefined *)(iVar5 + 6) = 2;
            *(undefined *)(iVar5 + 9) = *(undefined *)(iVar5 + 8);
          }
          else {
            *(undefined *)(iVar5 + 2) = 1;
          }
        }
        else {
          puVar2 = (ushort *)
                   (*(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4) +
                   0xa1);
          *puVar2 = *puVar2 & 0xfffb;
          if (*(int *)(iVar5 + 0x14) == 0) {
            uVar10 = *(uint *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4);
            FUN_004262b0(iVar5);
          }
          uVar11 = 0;
          puVar6 = *(uint **)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                      (uint)*(ushort *)(iVar5 + 3) * 4) + 0x56);
          if (*puVar6 != 0) {
            iVar12 = 0;
            do {
              puVar3 = (uint *)(*(int *)(iVar5 + 0x14) + 0x10 + iVar12);
              uVar11 = uVar11 + 1;
              *puVar3 = (int)(0xff / (ulonglong)(longlong)(int)(uint)*(byte *)(iVar5 + 7)) *
                        (uint)*(byte *)(iVar5 + 9) * 0x1000000 | *puVar3 & 0xffffff;
              iVar12 = iVar12 + 0x20;
            } while (uVar11 < *puVar6);
          }
LAB_00426bca:
          cVar9 = *(char *)(iVar5 + 9);
LAB_00426bcd:
          *(char *)(iVar5 + 9) = cVar9 + -1;
        }
      }
      else if (cVar9 == '\x01') {
        if (*(int *)(iVar5 + 0x14) == 0) {
          uVar10 = *(uint *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4);
          FUN_004262b0(iVar5);
        }
        if (*(char *)(iVar5 + 9) != '\0') {
          if (*(char *)(iVar5 + 9) == '\x01') {
            *(ushort *)
             (*(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4) + 0xa1) =
                 *(ushort *)(iVar5 + 10) | 4;
            iVar12 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4);
            uVar4 = *(ushort *)(iVar12 + 0xa1);
            if ((uVar4 & 0x1000) != 0) {
              *(ushort *)(iVar12 + 0xa1) = uVar4 | 2;
            }
          }
          else {
            uVar11 = 0;
            puVar2 = (ushort *)
                     (*(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(iVar5 + 3) * 4) +
                     0xa1);
            *puVar2 = *puVar2 & 0xfffb;
            puVar6 = *(uint **)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                        (uint)*(ushort *)(iVar5 + 3) * 4) + 0x56);
            if (*puVar6 != 0) {
              iVar12 = 0;
              do {
                puVar3 = (uint *)(*(int *)(iVar5 + 0x14) + 0x10 + iVar12);
                *puVar3 = ((uint)*(byte *)(iVar5 + 7) - (uint)*(byte *)(iVar5 + 9)) *
                          (int)(0xff / (ulonglong)(longlong)(int)(uint)*(byte *)(iVar5 + 7)) *
                          0x1000000 | *puVar3 & 0xffffff;
                uVar11 = uVar11 + 1;
                iVar12 = iVar12 + 0x20;
              } while (uVar11 < *puVar6);
            }
          }
          goto LAB_00426bca;
        }
        if (*(char *)(iVar5 + 5) == '\x02') {
          pbVar1 = (byte *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                    (uint)*(ushort *)(iVar5 + 3) * 4) + 0xa1);
          *pbVar1 = *pbVar1 | 3;
          *(undefined *)(iVar5 + 2) = 1;
        }
        else if (*(char *)(iVar5 + 5) == '\x04') {
          *(undefined *)(iVar5 + 6) = 2;
          *(undefined *)(iVar5 + 9) = *(undefined *)(iVar5 + 8);
          pbVar1 = (byte *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                             (uint)*(ushort *)(iVar5 + 3) * 4) + 0x9d) + 1);
          *pbVar1 = *pbVar1 | 0x80;
        }
        else {
          *(undefined *)(iVar5 + 2) = 1;
          pbVar1 = (byte *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                             (uint)*(ushort *)(iVar5 + 3) * 4) + 0x9d) + 1);
          *pbVar1 = *pbVar1 | 0x80;
        }
      }
      else if (cVar9 == '\x02') {
        cVar9 = *(char *)(iVar5 + 9);
        if (cVar9 != '\0') goto LAB_00426bcd;
        cVar9 = *(char *)(iVar5 + 5);
        if (cVar9 != '\x01') {
          if (cVar9 == '\x03') {
            *(undefined *)(iVar5 + 6) = 1;
            *(undefined *)(iVar5 + 9) = *(undefined *)(iVar5 + 7);
          }
          else if (cVar9 == '\x04') {
            *(undefined *)(iVar5 + 6) = 0;
            *(undefined *)(iVar5 + 9) = *(undefined *)(iVar5 + 7);
          }
        }
      }
      iVar5 = *(int *)(iVar5 + 0x34);
    }
    puVar8 = *(undefined2 **)(DAT_005dfe64 + 1);
    for (uVar10 = (uint)*DAT_005dfe64; uVar10 != 0; uVar10 = uVar10 - 1) {
      puVar7 = *(undefined2 **)(puVar8 + 0x1a);
      if (*(char *)(puVar8 + 1) != '\0') {
        *DAT_005dfe64 = *DAT_005dfe64 - 1;
        if (puVar8 == *(undefined2 **)(DAT_005dfe64 + 1)) {
          *(undefined4 *)(DAT_005dfe64 + 1) = *(undefined4 *)(puVar8 + 0x1a);
          if (*(int *)(puVar8 + 0x1a) != 0) {
            *(undefined4 *)(*(int *)(puVar8 + 0x1a) + 0x30) = 0;
          }
        }
        else {
          *(undefined4 *)(*(int *)(puVar8 + 0x18) + 0x34) = *(undefined4 *)(puVar8 + 0x1a);
          if (*(int *)(puVar8 + 0x1a) != 0) {
            *(undefined4 *)(*(int *)(puVar8 + 0x1a) + 0x30) = *(undefined4 *)(puVar8 + 0x18);
          }
        }
        *(undefined *)(puVar8 + 1) = 0;
        FUN_00426270(CONCAT22((short)((uint)puVar8 >> 0x10),*puVar8));
      }
      puVar8 = puVar7;
    }
  }
  SetEvent(DAT_005dfe6c);
  return;
}



void FUN_00426c70(void)

{
  return;
}



// Spits out an error string, but places don't pass in anything???

char * GetErrorStringFunc(int param_1)

{
  if (param_1 < -0x7fffbffa) {
    if (param_1 == -0x7fffbffb) {
      return s_Generic_failure__004c7aac;
    }
    if (param_1 == -0x7fffbfff) {
      return s_Action_not_supported__004c8fd4;
    }
  }
  else if (param_1 < -0x7ff8ffa8) {
    if (param_1 == -0x7ff8ffa9) {
      return s_One_or_more_of_the_parameters_pa_004c7ddc;
    }
    if (param_1 == -0x7ff8fff2) {
      return s_DirectDraw_does_not_have_enough_m_004c8af4;
    }
  }
  else if (param_1 < -0x7789fff5) {
    if (param_1 == -0x7789fff6) {
      return s_This_surface_can_not_be_attached_004c7800;
    }
    if (param_1 == -0x7789fffb) {
      return s_This_object_is_already_initializ_004c777c;
    }
  }
  else if (param_1 < -0x7789ffd7) {
    if (param_1 == -0x7789ffd8) {
      return s_Support_is_currently_not_availab_004c7988;
    }
    if (param_1 == -0x7789ffec) {
      return s_This_surface_can_not_be_detached_004c783c;
    }
  }
  else if (param_1 < -0x7789ffa5) {
    if (param_1 == -0x7789ffa6) {
      return s_Height_of_rectangle_provided_is_n_004c7ac0;
    }
    if (param_1 == -0x7789ffc9) {
      return s_An_exception_was_encountered_whi_004c7a0c;
    }
  }
  else if (param_1 < -0x7789ff9b) {
    if (param_1 == -0x7789ff9c) {
      return s_One_or_more_of_the_caps_bits_pas_004c7c94;
    }
    if (param_1 == -0x7789ffa1) {
      return s_Unable_to_match_primary_surface_c_004c7c40;
    }
  }
  else if (param_1 < -0x7789ff87) {
    if (param_1 == -0x7789ff88) {
      return s_DirectDraw_does_not_support_the_r_004c7d60;
    }
    if (param_1 == -0x7789ff92) {
      return s_DirectDraw_does_not_support_the_p_004c7cd8;
    }
  }
  else if (param_1 < -0x7789ff6e) {
    if (param_1 == -0x7789ff6f) {
      return s_The_pixel_format_was_invalid_as_s_004c7e24;
    }
    if (param_1 == -0x7789ff7e) {
      return s_DirectDraw_received_a_pointer_th_004c7d94;
    }
  }
  else if (param_1 < -0x7789ff5f) {
    if (param_1 == -0x7789ff60) {
      return s_Operation_could_not_be_carried_o_004c7edc;
    }
    if (param_1 == -0x7789ff6a) {
      return s_Rectangle_provided_was_invalid__004c7eb8;
    }
  }
  else if (param_1 < -0x7789ff4b) {
    if (param_1 == -0x7789ff4c) {
      return s_Operation_could_not_be_carried_o_004c7f48;
    }
    if (param_1 == -0x7789ff56) {
      return s_There_is_no_3D_present__004c7f2c;
    }
  }
  else if (param_1 < -0x7789ff2d) {
    if (param_1 == -0x7789ff2e) {
      return s_Operation_could_not_be_carried_o_004c801c;
    }
    if (param_1 == -0x7789ff33) {
      return s_No_cliplist_available__004c7fd4;
    }
  }
  else if (param_1 < -0x7789ff28) {
    if (param_1 == -0x7789ff29) {
      return s_Surface_doesn_t_currently_have_a_004c8084;
    }
    if (param_1 == -0x7789ff2c) {
      return s_Create_function_called_without_D_004c8118;
    }
  }
  else if (param_1 < -0x7789ff1e) {
    if (param_1 == -0x7789ff1f) {
      return s_Operation_requires_the_applicati_004c824c;
    }
    if (param_1 == -0x7789ff24) {
      return s_Operation_could_not_be_carried_o_004c80b0;
    }
  }
  else if (param_1 < -0x7789ff0f) {
    if (param_1 == -0x7789ff10) {
      return s_There_is_no_GDI_present__004c82ec;
    }
    if (param_1 == -0x7789ff1a) {
      return s_Flipping_visible_surfaces_is_not_004c82bc;
    }
  }
  else if (param_1 < -0x7789ff00) {
    if (param_1 == -0x7789ff01) {
      return s_Requested_item_was_not_found__004c8874;
    }
    if (param_1 == -0x7789ff06) {
      return s_Operation_could_not_be_carried_o_004c8370;
    }
  }
  else if (param_1 < -0x7789fee7) {
    if (param_1 == -0x7789fee8) {
      return s_Operation_could_not_be_carried_o_004c8510;
    }
    if (param_1 == -0x7789fefc) {
      return s_Operation_could_not_be_carried_o_004c844c;
    }
  }
  else if (param_1 < -0x7789fec9) {
    if (param_1 == -0x7789feca) {
      return s_Operation_could_not_be_carried_o_004c85e0;
    }
    if (param_1 == -0x7789fede) {
      return s_Operation_could_not_be_carried_o_004c8580;
    }
  }
  else if (param_1 < -0x7789feb5) {
    if (param_1 == -0x7789feb6) {
      return s_Operation_could_not_be_carried_o_004c87c8;
    }
    if (param_1 == -0x7789fec4) {
      return s_DirectDrawSurface_is_not_in_4_bi_004c863c;
    }
    if (param_1 == -0x7789fec3) {
      return s_DirectDrawSurface_is_not_in_4_bi_004c86a8;
    }
    if (param_1 == -0x7789fec0) {
      return s_DirectDrawSurface_is_not_in_8_bi_004c8720;
    }
  }
  else if (param_1 < -0x7789feab) {
    if (param_1 == -0x7789feac) {
      return s_Operation_could_not_be_carried_o_004c89c4;
    }
    if (param_1 == -0x7789feb1) {
      return s_Operation_could_not_be_carried_o_004c894c;
    }
  }
  else if (param_1 < -0x7789fe97) {
    if (param_1 == -0x7789fe98) {
      return s_The_hardware_needed_for_the_requ_004c8aa4;
    }
    if (param_1 == -0x7789fea2) {
      return s_Overlay_surfaces_could_not_be_z_l_004c8a24;
    }
  }
  else if (param_1 < -0x7789fe6f) {
    if (param_1 == -0x7789fe70) {
      return s_No_src_color_key_specified_for_t_004c7958;
    }
    switch(param_1) {
    case -0x7789fe84:
      return s_DirectDraw_does_not_have_enough_m_004c8b38;
    case -0x7789fe82:
      return s_The_hardware_does_not_support_cl_004c8b7c;
    case -0x7789fe80:
      return s_Can_only_have_ony_color_key_acti_004c8bb0;
    case -0x7789fe7d:
      return s_Access_to_this_palette_is_being_r_004c8c34;
    }
  }
  else if (param_1 < -0x7789fe5b) {
    if (param_1 == -0x7789fe5c) {
      return s_This_surface_is_already_a_depend_004c8d54;
    }
    if (param_1 == -0x7789fe66) {
      return s_This_surface_is_already_attached_004c8d08;
    }
  }
  else if (param_1 < -0x7789fe47) {
    if (param_1 == -0x7789fe48) {
      return s_Access_to_surface_refused_becaus_004c8e10;
    }
    if (param_1 == -0x7789fe52) {
      return s_Access_to_this_surface_is_being_r_004c8dac;
    }
  }
  else if (param_1 < -0x7789fe33) {
    if (param_1 == -0x7789fe34) {
      return s_The_requested_surface_is_not_att_004c8ef4;
    }
    if (param_1 == -0x7789fe3e) {
      return s_Access_to_this_surface_is_being_r_004c8e4c;
    }
  }
  else if (param_1 < -0x7789fe1f) {
    if (param_1 == -0x7789fe20) {
      return s_Size_requested_by_DirectDraw_is_t_004c8f4c;
    }
    if (param_1 == -0x7789fe2a) {
      return s_Height_requested_by_DirectDraw_i_004c8f1c;
    }
  }
  else if (param_1 < -0x7789fe01) {
    if (param_1 == -0x7789fe02) {
      return s_FOURCC_format_requested_is_unsup_004c8fec;
    }
    if (param_1 == -0x7789fe16) {
      return s_Width_requested_by_DirectDraw_is_004c8fa4;
    }
  }
  else if (param_1 < -0x7789fde6) {
    if (param_1 == -0x7789fde7) {
      return s_Vertical_blank_is_in_progress__004c906c;
    }
    if (param_1 == -0x7789fdf8) {
      return s_Bitmask_in_the_pixel_format_requ_004c9024;
    }
  }
  else if (param_1 < -0x7789fdcf) {
    if (param_1 == -0x7789fdd0) {
      return s_Rectangle_provided_was_not_horiz_004c9150;
    }
    if (param_1 == -0x7789fde4) {
      return s_Informs_DirectDraw_that_the_prev_004c908c;
    }
  }
  else if (param_1 < -0x7789fd43) {
    if (param_1 == -0x7789fd44) {
      return s_D3DERR_BADMAJORVERSION_004c9198;
    }
    switch(param_1) {
    case -0x7789fdcf:
      return s_The_GUID_passed_to_DirectDrawCre_004c7d0c;
    case -0x7789fdce:
      return s_A_DirectDraw_object_representing_004c79b0;
    case -0x7789fdcd:
      return s_A_hardware_only_DirectDraw_objec_004c81c0;
    case -0x7789fdcc:
      return s_This_process_already_has_created_004c8c98;
    case -0x7789fdcb:
      return s_Software_emulation_not_available_004c8228;
    case -0x7789fdca:
      return s_Region_passed_to_Clipper__GetCli_004c8cd0;
    case -0x7789fdc9:
      return s_An_attempt_was_made_to_set_a_cli_004c78f8;
    case -0x7789fdc8:
      return s_No_clipper_object_attached_to_su_004c7fec;
    case -0x7789fdc7:
      return s_Clipper_notification_requires_an_004c8308;
    case -0x7789fdc6:
      return s_HWND_used_by_DirectDraw_Cooperat_004c7b80;
    case -0x7789fdc5:
      return s_The_CooperativeLevel_HWND_has_al_004c7b04;
    case -0x7789fdc4:
      return s_No_palette_object_attached_to_th_004c84ac;
    case -0x7789fdc3:
      return s_No_hardware_support_for_16_or_25_004c84dc;
    case -0x7789fdc2:
      return s_Return_if_a_clipper_object_is_at_004c77a4;
    case -0x7789fdc1:
      return s_No_blitter_hardware_present__004c7fb4;
    case -0x7789fdc0:
      return s_No_DirectDraw_ROP_hardware__004c81a0;
    case -0x7789fdbf:
      return s_Returned_when_GetOverlayPosition_004c8bf0;
    case -0x7789fdbe:
      return s_Returned_when_GetOverlayPosition_004c83c8;
    case -0x7789fdbd:
      return s_Returned_when_the_position_of_th_004c7e50;
    case -0x7789fdbc:
      return s_Returned_when_an_overlay_member_i_004c8780;
    case -0x7789fdbb:
      return s_An_attempt_was_made_to_set_the_c_004c7a54;
    case -0x7789fdba:
      return s_An_attempt_has_been_made_to_flip_004c8830;
    case -0x7789fdb9:
      return s_Can_t_duplicate_primary___3D_sur_004c78a4;
    case -0x7789fdb8:
      return s_Surface_was_not_locked__An_attem_004c8894;
    case -0x7789fdb7:
      return s_Windows_can_not_create_any_more_D_004c787c;
    case -0x7789fdb6:
      return s_No_DC_was_ever_created_for_this_s_004c8174;
    case -0x7789fdb5:
      return s_This_surface_can_not_be_restored_004c9100;
    case -0x7789fdb4:
      return s_This_surface_can_not_be_restored_004c7bf0;
    case -0x7789fdb3:
      return s_The_surface_being_used_is_not_a_p_004c8914;
    }
  }
  else if (param_1 < -0x7789fd39) {
    if (param_1 == -0x7789fd3a) {
      return s_D3DERR_EXECUTE_CREATE_FAILED_004c91fc;
    }
    if (param_1 == -0x7789fd43) {
      return s_D3DERR_BADMINORVERSION_004c91b0;
    }
  }
  else if (param_1 < -0x7789fd11) {
    if (param_1 == -0x7789fd12) {
      return s_D3DERR_LIGHT_SET_FAILED_004c9478;
    }
    switch(param_1) {
    case -0x7789fd39:
      return s_D3DERR_EXECUTE_DESTROY_FAILED_004c921c;
    case -0x7789fd38:
      return s_D3DERR_EXECUTE_LOCK_FAILED_004c923c;
    case -0x7789fd37:
      return s_D3DERR_EXECUTE_UNLOCK_FAILED_004c9258;
    case -0x7789fd36:
      return s_D3DERR_EXECUTE_LOCKED_004c91c8;
    case -0x7789fd35:
      return s_D3DERR_EXECUTE_NOT_LOCKED_004c91e0;
    case -0x7789fd34:
      return s_D3DERR_EXECUTE_FAILED_004c9278;
    case -0x7789fd33:
      return s_D3DERR_EXECUTE_CLIPPED_FAILED_004c9290;
    case -0x7789fd30:
      return s_D3DERR_TEXTURE_NO_SUPPORT_004c92b0;
    case -0x7789fd2f:
      return s_D3DERR_TEXTURE_CREATE_FAILED_004c9300;
    case -0x7789fd2e:
      return s_D3DERR_TEXTURE_DESTROY_FAILED_004c9320;
    case -0x7789fd2d:
      return s_D3DERR_TEXTURE_LOCK_FAILED_004c9340;
    case -0x7789fd2c:
      return s_D3DERR_TEXTURE_UNLOCK_FAILED_004c935c;
    case -0x7789fd2b:
      return s_D3DERR_TEXTURE_LOAD_FAILED_004c937c;
    case -0x7789fd29:
      return s_D3DERR_TEXTURELOCKED_004c92e8;
    case -0x7789fd28:
      return s_D3DERR_TEXTURE_NOT_LOCKED_004c92cc;
    case -0x7789fd26:
      return s_D3DERR_MATRIX_CREATE_FAILED_004c9398;
    case -0x7789fd25:
      return s_D3DERR_MATRIX_DESTROY_FAILED_004c93b8;
    case -0x7789fd24:
      return s_D3DERR_MATRIX_SETDATA_FAILED_004c93d8;
    case -0x7789fd22:
      return s_D3DERR_SETVIEWPORTDATA_FAILED_004c93f8;
    case -0x7789fd1c:
      return s_D3DERR_MATERIAL_CREATE_FAILED_004c9418;
    case -0x7789fd1b:
      return s_D3DERR_MATERIAL_DESTROY_FAILED_004c9438;
    case -0x7789fd1a:
      return s_D3DERR_MATERIAL_SETDATA_FAILED_004c9458;
    }
  }
  else if (param_1 == 0) {
    return s_No_error__004c7770;
  }
  return s_Unrecognized_error_value__004c9494;
}



void FUN_00427380(void)

{
  return;
}



int * FUN_00427390(int param_1)

{
  int *piVar1;
  uint uVar2;
  
  uVar2 = 0;
  piVar1 = (int *)DAT_005dfe44[2];
  if (*DAT_005dfe44 != 0) {
    do {
      if (*piVar1 == param_1) {
        return piVar1;
      }
      piVar1 = (int *)piVar1[6];
      uVar2 = uVar2 + 1;
    } while (uVar2 < *DAT_005dfe44);
  }
  return (int *)0x0;
}



void FUN_004273c0(uint *param_1,int param_2,int param_3,int param_4)

{
  bool bVar1;
  void *_Dst;
  int *piVar2;
  uint uVar3;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  piVar2 = (int *)param_1[2];
  bVar1 = false;
  if (*param_1 != 0) {
    do {
      if (*piVar2 == param_2) {
        bVar1 = true;
        break;
      }
      piVar2 = (int *)piVar2[6];
      uVar3 = uVar3 + 1;
    } while (uVar3 < *param_1);
  }
  param_1[1] = param_1[1] + param_3;
  if (bVar1) {
    piVar2[1] = piVar2[1] + 1;
    piVar2[2] = piVar2[2] + param_3;
    piVar2[3] = param_4;
    return;
  }
  _Size = 0x1c;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x1c);
  piVar2 = (int *)_memset(_Dst,_Val,_Size);
  *piVar2 = param_2;
  piVar2[1] = piVar2[1] + 1;
  piVar2[2] = piVar2[2] + param_3;
  uVar3 = *param_1;
  *param_1 = uVar3 + 1;
  if (uVar3 != 0) {
    *(int **)(param_1[3] + 0x18) = piVar2;
    param_1[3] = (uint)piVar2;
    piVar2[3] = param_4;
    return;
  }
  param_1[2] = (uint)piVar2;
  param_1[3] = (uint)piVar2;
  piVar2[3] = param_4;
  return;
}



void FUN_00427490(void)

{
  int iVar1;
  void *pvVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  int iVar7;
  uint uVar8;
  int *piVar9;
  int iVar10;
  size_t sVar11;
  uint uVar12;
  int iVar13;
  uint uVar14;
  
  AdjustStackForLargeAllocations();
  sVar11 = 0x10;
  iVar10 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x10);
  DAT_005dfe44 = (uint *)_memset(pvVar2,iVar10,sVar11);
  uVar14 = 0;
  iVar10 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(iVar10 + 0x230) + uVar14 * 4);
      if (((*(int *)(iVar1 + 0x5b) == 0) &&
          (iVar4 = *(int *)(iVar1 + 0x56), *(int *)(iVar4 + 0x40) != 0)) &&
         (uVar8 = 0, *(int *)(iVar4 + 0x14) != 0)) {
        do {
          uVar3 = (uint)*(ushort *)(*(int *)(iVar4 + 0x10) + uVar8 * 2);
          FUN_004273c0(DAT_005dfe44,uVar3,*(undefined4 *)(*(int *)(iVar4 + 0x20) + uVar8 * 4),
                       *(undefined4 *)(DAT_005dca00 + 0xb + uVar3 * 0x2e));
          iVar4 = *(int *)(iVar1 + 0x56);
          uVar8 = uVar8 + 1;
          iVar10 = DAT_00598d90;
        } while (uVar8 < *(uint *)(iVar4 + 0x14));
      }
      uVar14 = uVar14 + 1;
    } while (uVar14 < *(uint *)(iVar10 + 0x239));
  }
  uVar14 = DAT_005dfe44[2];
  uVar8 = 0;
  if (*DAT_005dfe44 != 0) {
    do {
      sVar11 = *(int *)(uVar14 + 8) * 8 + *(int *)(uVar14 + 4) * 0xc;
      iVar10 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(sVar11);
      pvVar2 = _memset(pvVar2,iVar10,sVar11);
      *(void **)(uVar14 + 0x10) = pvVar2;
      *(void **)(uVar14 + 0x14) = pvVar2;
      uVar14 = *(uint *)(uVar14 + 0x18);
      uVar8 = uVar8 + 1;
      iVar10 = DAT_00598d90;
    } while (uVar8 < *DAT_005dfe44);
  }
  uVar14 = 0;
  if (*(int *)(iVar10 + 0x239) != 0) {
    do {
      uVar8 = 0;
      iVar1 = *(int *)(*(int *)(iVar10 + 0x230) + uVar14 * 4);
      if (((*(int *)(iVar1 + 0x5b) == 0) &&
          (iVar4 = *(int *)(iVar1 + 0x56), *(int *)(iVar4 + 0x40) != 0)) &&
         (iVar13 = 0, *(int *)(iVar4 + 0x14) != 0)) {
        do {
          uVar3 = (uint)*(ushort *)(*(int *)(iVar4 + 0x10) + uVar8 * 2);
          iVar5 = FUN_00427390();
          uVar12 = 0;
          **(undefined4 **)(iVar5 + 0x14) = *(undefined4 *)(*(int *)(iVar1 + 0x56) + 0x38);
          iVar4 = *(int *)(iVar5 + 0x14);
          piVar9 = (int *)(iVar4 + 4);
          *(int **)(iVar5 + 0x14) = piVar9;
          iVar10 = uVar8 * 4;
          *piVar9 = iVar4 + 0xc + *(int *)(*(int *)(*(int *)(iVar1 + 0x56) + 0x20) + iVar10) * 8;
          puVar6 = (undefined4 *)(*(int *)(iVar5 + 0x14) + 4);
          *(undefined4 **)(iVar5 + 0x14) = puVar6;
          *puVar6 = *(undefined4 *)(*(int *)(*(int *)(iVar1 + 0x56) + 0x20) + iVar10);
          *(int *)(iVar5 + 0x14) = *(int *)(iVar5 + 0x14) + 4;
          iVar4 = *(int *)(iVar1 + 0x56);
          if (*(int *)(*(int *)(iVar4 + 0x20) + iVar10) != 0) {
            iVar7 = iVar13 * 0xc;
            do {
              iVar7 = iVar7 + 0xc;
              **(short **)(iVar5 + 0x14) =
                   *(short *)(*(int *)(iVar4 + 0xc) + -0xc + iVar7) + *(short *)(iVar4 + 0x24);
              *(short *)(*(int *)(iVar5 + 0x14) + 2) =
                   *(short *)(*(int *)(*(int *)(iVar1 + 0x56) + 0xc) + -10 + iVar7) +
                   *(short *)(*(int *)(iVar1 + 0x56) + 0x24);
              *(short *)(*(int *)(iVar5 + 0x14) + 4) =
                   *(short *)(*(int *)(*(int *)(iVar1 + 0x56) + 0xc) + -8 + iVar7) +
                   *(short *)(*(int *)(iVar1 + 0x56) + 0x24);
              *(int *)(iVar5 + 0x14) = *(int *)(iVar5 + 0x14) + 8;
              iVar4 = *(int *)(iVar1 + 0x56);
              uVar12 = uVar12 + 1;
              uVar8 = uVar3;
            } while (uVar12 < *(uint *)(*(int *)(iVar4 + 0x20) + iVar10));
          }
          iVar4 = *(int *)(iVar1 + 0x56);
          iVar13 = iVar13 + *(int *)(*(int *)(iVar4 + 0x20) + iVar10);
          uVar8 = uVar8 + 1;
          iVar10 = DAT_00598d90;
        } while (uVar8 < *(uint *)(iVar4 + 0x14));
      }
      uVar14 = uVar14 + 1;
    } while (uVar14 < *(uint *)(iVar10 + 0x239));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00427700(int *param_1,undefined4 param_2,int param_3)

{
  float fVar1;
  int iVar2;
  uint *puVar3;
  void *pvVar4;
  uint uVar5;
  size_t _Size;
  undefined4 *puVar6;
  uint uVar7;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  int iVar8;
  size_t sVar9;
  uint uVar10;
  uint uVar11;
  
  AdjustStackForLargeAllocations();
  sVar9 = param_3 * 2;
  _DAT_005dfe40 = param_3;
  iVar8 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  _DAT_005dfe50 = _memset(pvVar4,iVar8,sVar9);
  _Size = param_3 << 5;
  iVar8 = 0;
  sVar9 = _Size;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  DAT_005dfe54 = _memset(pvVar4,iVar8,sVar9);
  iVar8 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  _DAT_005dfe5c = _memset(pvVar4,iVar8,_Size);
  uVar5 = 0;
  uVar7 = 0;
  uVar10 = 0;
  iVar8 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar2 = *(int *)(*(int *)(iVar8 + 0x230) + uVar7 * 4);
      if ((*(int *)(iVar2 + 0x5b) == 0) && (puVar3 = *(uint **)(iVar2 + 0x56), puVar3[0x10] != 0)) {
        puVar6 = (undefined4 *)(uVar5 * 0x20 + (int)DAT_005dfe54);
        uVar11 = 0;
        if (*puVar3 != 0) {
          iVar8 = 0;
          do {
            uVar7 = *(int *)(*(int *)(iVar2 + 0x56) + 4) + iVar8;
            FUN_0045f520();
            *puVar6 = local_34;
            puVar6[1] = local_30;
            puVar6[2] = local_2c;
            puVar6[4] = *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x56) + 4) + 0x10 + iVar8);
            puVar6[6] = *(undefined4 *)(*(int *)(*(int *)(iVar2 + 0x56) + 4) + 0x18 + iVar8);
            fVar1 = *(float *)(*(int *)(*(int *)(iVar2 + 0x56) + 4) + 0x1c + iVar8);
            puVar6[7] = fVar1;
            if (fVar1 == 1.0) {
              puVar6[7] = 0x3f7fdf3b;
            }
            puVar6 = puVar6 + 8;
            uVar11 = uVar11 + 1;
            iVar8 = iVar8 + 0x20;
            uVar5 = uVar10;
          } while (uVar11 < *puVar3);
        }
        puVar3[9] = uVar5;
        uVar5 = uVar5 + *puVar3;
        iVar8 = DAT_00598d90;
        uVar10 = uVar5;
      }
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)(iVar8 + 0x239));
  }
  FUN_00427490();
  iVar8 = *(int *)(DAT_005dfe44 + 4);
  _memset(&DAT_004d7b10,0,0x14);
  _DAT_004d7b10 = 0x14;
  _DAT_004d7b14 = 3;
  _DAT_004d7b18 = 1;
  DAT_005dfe60 = 0;
  _DAT_004d7b1c = (iVar8 + 0x1f400 + param_3 * 4) * 8;
  (**(code **)(*param_1 + 0x18))();
  return;
}



undefined4 FUN_004278f0(void)

{
  return 1;
}



void FUN_00427900(uint *param_1,int param_2)

{
  int iVar1;
  bool bVar2;
  void *_Dst;
  int *piVar3;
  uint uVar4;
  int _Val;
  size_t _Size;
  
  piVar3 = (int *)param_1[2];
  bVar2 = false;
  iVar1 = *(int *)(*(int *)(DAT_00598ff0 + 0x20) + param_2 * 4);
  uVar4 = 0;
  if (*param_1 != 0) {
    do {
      if (*piVar3 == param_2) {
        bVar2 = true;
        break;
      }
      piVar3 = (int *)piVar3[6];
      uVar4 = uVar4 + 1;
    } while (uVar4 < *param_1);
  }
  param_1[1] = param_1[1] + 1;
  if (bVar2) {
    piVar3[1] = piVar3[1] + 1;
    piVar3[2] = piVar3[2] + 1;
    piVar3[3] = iVar1;
    return;
  }
  _Size = 0x1c;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x1c);
  piVar3 = (int *)_memset(_Dst,_Val,_Size);
  *piVar3 = param_2;
  piVar3[1] = piVar3[1] + 1;
  piVar3[2] = piVar3[2] + 1;
  uVar4 = *param_1;
  *param_1 = uVar4 + 1;
  if (uVar4 != 0) {
    *(int **)(param_1[3] + 0x18) = piVar3;
    param_1[3] = (uint)piVar3;
    piVar3[3] = iVar1;
    return;
  }
  param_1[2] = (uint)piVar3;
  param_1[3] = (uint)piVar3;
  piVar3[3] = iVar1;
  return;
}



int * FUN_004279c0(uint *param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  
  uVar2 = 0;
  piVar1 = (int *)param_1[2];
  if (*param_1 != 0) {
    do {
      if (*piVar1 == param_2) {
        return piVar1;
      }
      piVar1 = (int *)piVar1[6];
      uVar2 = uVar2 + 1;
    } while (uVar2 < *param_1);
  }
  return (int *)0x0;
}



undefined4 FUN_004279f0(void)

{
  byte *pbVar1;
  byte *pbVar2;
  byte bVar3;
  int iVar4;
  byte *pbVar5;
  uint *puVar6;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  _memset(&local_78,0,0x6c);
  local_78 = 0x6c;
  local_74 = 7;
  local_6c = 600;
  local_70 = 0x1e;
  iVar4 = FUN_00413f70();
  if (iVar4 != 0) {
    return 0;
  }
  iVar4 = (**(code **)(*DAT_004d7b88 + 0x74))();
  if (iVar4 != 0) {
    return 0;
  }
  uStackY_24 = 0x427a8e;
  _memset(&local_78,0,0x6c);
  local_78 = 0x6c;
  local_74 = 7;
  local_6c = *(undefined4 *)(DAT_005e5010 + 0x2538);
  local_70 = 0x1e;
  iVar4 = FUN_00413f70();
  if (iVar4 != 0) {
    return 0;
  }
  uStackY_24 = 0x427afc;
  iVar4 = (**(code **)(*DAT_004d7b8c + 0x74))();
  if (iVar4 != 0) {
    return 0;
  }
  puVar6 = &DAT_004d7b60;
  pbVar5 = &DAT_004c9a60;
  do {
    bVar3 = *pbVar5;
    pbVar1 = pbVar5 + 1;
    pbVar2 = pbVar5 + 2;
    pbVar5 = pbVar5 + 3;
    *puVar6 = (*pbVar1 & 0xfc | (bVar3 & 0xf8) << 5) << 3 | (uint)(*pbVar2 >> 3);
    puVar6 = puVar6 + 1;
  } while ((int)pbVar5 < 0x4c9a7b);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00427b50(void)

{
  byte *pbVar1;
  byte *pbVar2;
  byte bVar3;
  void *_Dst;
  byte *pbVar4;
  uint *puVar5;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 uStackY_28;
  int iVar6;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  if (DAT_005dfe3c == (void *)0x0) {
    _Size = 0x3c;
    iVar6 = 0;
    _Dst = (void *)AllocateMemoryWithCallback();
    DAT_005dfe3c = _memset(_Dst,iVar6,_Size);
    if (DAT_005dfe3c == (void *)0x0) {
      return 0;
    }
  }
  iVar6 = FUN_00440e20();
  if (iVar6 == 0) {
    return 0;
  }
  FUN_004279f0();
  _memset(&local_78,0,0x6c);
  local_78 = 0x6c;
  local_74 = 7;
  local_6c = 0x100;
  local_70 = 0xe;
  iVar6 = FUN_00413f70();
  if (iVar6 != 0) {
    return 0;
  }
  iVar6 = (**(code **)(*DAT_004d7b90 + 0x74))();
  if (iVar6 != 0) {
    return 0;
  }
  uStackY_28 = 0x427c35;
  _memset(&local_78,0,0x6c);
  local_78 = 0x6c;
  local_74 = 7;
  local_6c = *(undefined4 *)(DAT_005e5010 + 0x2538);
  local_70 = 0xe;
  iVar6 = FUN_00413f70();
  if (iVar6 != 0) {
    return 0;
  }
  uStackY_28 = 0x427ca0;
  iVar6 = (**(code **)(*DAT_004d7b84 + 0x74))();
  if (iVar6 != 0) {
    return 0;
  }
  if (DAT_005df2f8 == 1) {
    _DAT_004d7b38 = 0x14;
    _DAT_004d7b4c = 0x15;
    _DAT_004d7b3c = 10;
    _DAT_004d7b50 = 0x15;
    _DAT_004d7b40 = 0x16;
    _DAT_004d7b54 = 0x15;
    _DAT_004d7b44 = 0x15;
    _DAT_004d7b58 = 0x15;
    _DAT_004d7b48 = 0x14;
    _DAT_004d7b5c = 0x16;
  }
  else if (DAT_005df2f8 == 2) {
    _DAT_004d7b3c = 7;
    _DAT_004d7b38 = 0xd;
    _DAT_004d7b4c = 0xd;
    _DAT_004d7b50 = 0xd;
    _DAT_004d7b40 = 0xe;
    _DAT_004d7b54 = 0xd;
    _DAT_004d7b44 = 0xd;
    _DAT_004d7b58 = 0xd;
    _DAT_004d7b48 = 0xc;
    _DAT_004d7b5c = 0xe;
  }
  else {
    _DAT_004d7b38 = 0x19;
    _DAT_004d7b4c = 0x1a;
    _DAT_004d7b3c = 0xc;
    _DAT_004d7b50 = 0x1a;
    _DAT_004d7b40 = 0x1a;
    _DAT_004d7b54 = 0x1a;
    _DAT_004d7b44 = 0x1a;
    _DAT_004d7b58 = 0x19;
    _DAT_004d7b48 = 0x18;
    _DAT_004d7b5c = 0x1b;
  }
  puVar5 = &DAT_004d7b60;
  pbVar4 = &DAT_004c9a60;
  do {
    bVar3 = *pbVar4;
    pbVar1 = pbVar4 + 1;
    pbVar2 = pbVar4 + 2;
    pbVar4 = pbVar4 + 3;
    *puVar5 = (*pbVar1 & 0xfc | (bVar3 & 0xf8) << 5) << 3 | (uint)(*pbVar2 >> 3);
    puVar5 = puVar5 + 1;
  } while ((int)pbVar4 < 0x4c9a7b);
  return 1;
}



// WARNING: Removing unreachable block (ram,0x00427f79)
// WARNING: Removing unreachable block (ram,0x00427f7b)
// WARNING: Removing unreachable block (ram,0x00427f7d)
// WARNING: Removing unreachable block (ram,0x00427f8d)
// WARNING: Removing unreachable block (ram,0x00427f94)
// WARNING: Removing unreachable block (ram,0x00427f9d)
// WARNING: Removing unreachable block (ram,0x00427fa4)
// WARNING: Removing unreachable block (ram,0x00427fc2)
// WARNING: Removing unreachable block (ram,0x00427fc9)
// WARNING: Removing unreachable block (ram,0x00427fdb)
// WARNING: Removing unreachable block (ram,0x00427ff1)
// WARNING: Removing unreachable block (ram,0x00427fe9)
// WARNING: Removing unreachable block (ram,0x00427ffe)
// WARNING: Removing unreachable block (ram,0x00428005)
// WARNING: Removing unreachable block (ram,0x0042800d)
// WARNING: Removing unreachable block (ram,0x0042801f)
// WARNING: Removing unreachable block (ram,0x00428017)
// WARNING: Removing unreachable block (ram,0x00428034)
// WARNING: Removing unreachable block (ram,0x00428040)
// WARNING: Removing unreachable block (ram,0x00428046)
// WARNING: Removing unreachable block (ram,0x00428066)
// WARNING: Removing unreachable block (ram,0x00428085)
// WARNING: Recovered jumptable eliminated as dead code

void FUN_00427df0(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  size_t sVar1;
  int iVar2;
  int iVar3;
  undefined2 *puVar4;
  undefined4 local_198 [20];
  undefined4 local_148;
  undefined4 local_134 [4];
  int local_124;
  undefined2 *local_110;
  undefined4 local_c8 [26];
  undefined4 uStackY_60;
  int local_5c;
  undefined4 uStackY_58;
  undefined4 uStackY_54;
  int *piStackY_50;
  int *piStackY_4c;
  int *piStackY_48;
  undefined4 local_44;
  int *local_40;
  int local_3c;
  int *local_38;
  undefined4 local_34;
  
  AdjustStackForLargeAllocations();
  local_44 = 0;
  local_40 = (int *)0x0;
  local_38 = (int *)0x1e;
  FUN_004ae5f0();
  sVar1 = _strlen((char *)&local_5c);
  local_3c = sVar1 * 0x38;
  if (0xc < sVar1) {
    return;
  }
  _memset(local_198,0,100);
  local_198[0] = 100;
  local_148 = *(undefined4 *)(DAT_005e5010 + 0x21b4);
  iVar2 = FUN_00424d60();
  _memset(local_c8,0,0x6c);
  local_c8[0] = 0x6c;
  iVar3 = (**(code **)(**DAT_005dfe3c + 100))();
  if (iVar3 != 0) {
    return;
  }
  local_34 = 0x427ee6;
  _memset(local_134,0,0x6c);
  local_134[0] = 0x6c;
  local_34 = 0;
  local_38 = DAT_004d7b88;
  local_3c = 0x427f05;
  iVar3 = (**(code **)(*DAT_004d7b88 + 100))();
  if (iVar3 != 0) {
    return;
  }
  if (iVar2 != 0) {
    iVar2 = 0x1e;
    do {
      iVar3 = 500;
      puVar4 = local_110;
      do {
        iVar3 = iVar3 + -1;
        *puVar4 = *(undefined2 *)(DAT_005e5010 + 0x21b4);
        puVar4 = puVar4 + 1;
      } while (iVar3 != 0);
      local_110 = local_110 + (local_124 >> 1);
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  }
  local_3c = 0;
  local_40 = DAT_004d7b88;
  local_44 = 0x428096;
  (**(code **)(*DAT_004d7b88 + 0x80))();
  local_44 = 0;
  piStackY_48 = *DAT_005dfe3c;
  piStackY_4c = (int *)0x4280a8;
  (**(code **)(*piStackY_48 + 0x80))();
  if (*DAT_005dfe3c == (int *)0x0) {
    return;
  }
  if (param_5 != 0) {
    if (param_5 == 1) {
      iVar2 = 6;
    }
    else {
      if (param_5 != 2) goto LAB_004280dd;
      iVar2 = 0;
    }
    param_2 = param_2 + iVar2;
  }
LAB_004280dd:
  piStackY_4c = DAT_004d7b88;
  piStackY_50 = local_38;
  uStackY_54 = local_3c;
  uStackY_58 = param_3;
  local_5c = param_2;
  uStackY_60 = 0x4280f9;
  FUN_0043dcb0();
  return;
}



// WARNING: Removing unreachable block (ram,0x004282db)
// WARNING: Removing unreachable block (ram,0x004282e8)
// WARNING: Removing unreachable block (ram,0x004282fd)
// WARNING: Removing unreachable block (ram,0x004282ef)
// WARNING: Removing unreachable block (ram,0x004282f8)
// WARNING: Removing unreachable block (ram,0x00428304)
// WARNING: Removing unreachable block (ram,0x00428319)
// WARNING: Removing unreachable block (ram,0x00428336)
// WARNING: Removing unreachable block (ram,0x0042833d)
// WARNING: Removing unreachable block (ram,0x00428341)
// WARNING: Removing unreachable block (ram,0x00428356)
// WARNING: Removing unreachable block (ram,0x00428349)
// WARNING: Removing unreachable block (ram,0x0042836d)
// WARNING: Removing unreachable block (ram,0x00428379)
// WARNING: Removing unreachable block (ram,0x0042837c)
// WARNING: Removing unreachable block (ram,0x0042839b)
// WARNING: Removing unreachable block (ram,0x004283a3)
// WARNING: Recovered jumptable eliminated as dead code

void FUN_00428130(undefined4 param_1,int param_2,int param_3,undefined4 param_4,int param_5,
                 int param_6)

{
  size_t sVar1;
  int iVar2;
  int iVar3;
  undefined2 *puVar4;
  undefined4 local_198 [20];
  undefined4 local_148;
  undefined4 local_134 [4];
  int local_124;
  undefined2 *local_110;
  undefined4 local_c8 [26];
  undefined4 uStackY_60;
  int local_5c;
  int iStackY_58;
  undefined4 uStackY_54;
  int *piStackY_50;
  int *piStackY_4c;
  int *piStackY_48;
  undefined4 local_44;
  int *local_40;
  undefined4 local_3c;
  int *local_38;
  undefined4 local_34;
  
  AdjustStackForLargeAllocations();
  local_44 = 0;
  local_40 = (int *)0x0;
  local_38 = (int *)0xe;
  local_3c = 200;
  FUN_004ae5f0();
  sVar1 = _strlen((char *)&local_5c);
  if (sVar1 < 0x21) {
    _memset(local_198,0,100);
    local_198[0] = 100;
    local_148 = *(undefined4 *)(DAT_005e5010 + 0x21b4);
    iVar2 = FUN_00424d60();
    _memset(local_c8,0,0x6c);
    local_c8[0] = 0x6c;
    iVar3 = (**(code **)(**(int **)(DAT_005dfe3c + 8) + 100))();
    if (iVar3 == 0) {
      local_34 = 0x428227;
      _memset(local_134,0,0x6c);
      local_134[0] = 0x6c;
      local_34 = 0;
      local_38 = DAT_004d7b90;
      local_3c = 0x428248;
      iVar3 = (**(code **)(*DAT_004d7b90 + 100))();
      if (iVar3 == 0) {
        local_124 = local_124 >> 1;
        if ((iVar2 != 0) && (iVar2 = 0, 0 < local_124 * 0xe)) {
          do {
            if (iVar2 < iVar2 + 200) {
              iVar3 = (iVar2 + 200) - iVar2;
              puVar4 = local_110;
              do {
                iVar3 = iVar3 + -1;
                *puVar4 = *(undefined2 *)(DAT_005e5010 + 0x21b4);
                puVar4 = puVar4 + 1;
              } while (iVar3 != 0);
            }
            iVar2 = iVar2 + local_124;
            local_110 = local_110 + local_124;
          } while (iVar2 < local_124 * 0xe);
        }
        local_3c = 0;
        local_40 = DAT_004d7b90;
        local_44 = 0x4283d2;
        (**(code **)(*DAT_004d7b90 + 0x80))();
        local_44 = 0;
        piStackY_48 = *(int **)(DAT_005dfe3c + 8);
        piStackY_4c = (int *)0x4283e6;
        (**(code **)(*piStackY_48 + 0x80))();
        if (*(int *)(DAT_005dfe3c + 8) != 0) {
          if (param_5 != 0) {
            if (param_5 == 1) {
              param_2 = param_2 + 4;
            }
            else if (param_5 == 2) {
              param_2 = param_2 + 2;
            }
          }
          if (param_6 != 0) {
            piStackY_4c = *(int **)(DAT_005dfe3c + 0x10);
            iStackY_58 = param_3 + -3;
            piStackY_50 = (int *)0x0;
            uStackY_54 = 0;
            local_5c = param_2 + -0x14;
            uStackY_60 = 0x428448;
            FUN_0043dcb0();
          }
          piStackY_4c = DAT_004d7b90;
          piStackY_50 = local_38;
          uStackY_54 = local_3c;
          iStackY_58 = param_3;
          uStackY_60 = 0x428461;
          local_5c = param_2;
          FUN_0043dcb0();
        }
      }
    }
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x0042878a)
// WARNING: Removing unreachable block (ram,0x0042878c)

void FUN_004284a0(char *param_1,int param_2,undefined4 param_3,uint param_4,int param_5)

{
  char cVar1;
  bool bVar2;
  ushort uVar3;
  char *pcVar4;
  ushort *puVar5;
  uint uVar6;
  ushort *puVar7;
  char local_3f4 [256];
  undefined4 local_2f4 [20];
  undefined4 local_2a4;
  undefined4 local_290 [4];
  int local_280;
  int local_26c;
  undefined4 local_224 [4];
  int local_214;
  int local_200;
  undefined4 local_1b8 [4];
  int local_1a8;
  int local_194;
  char acStackY_14d [209];
  undefined4 uStackY_7c;
  int iStackY_78;
  undefined4 uStackY_74;
  undefined4 uStackY_70;
  undefined4 *puStackY_6c;
  int *piStackY_68;
  int *piStackY_64;
  undefined4 uStackY_60;
  int *piStackY_5c;
  undefined4 uStackY_58;
  int *piStackY_54;
  undefined4 uStackY_50;
  int *local_4c;
  int local_48;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  ushort *puVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  
  AdjustStackForLargeAllocations();
  iVar13 = 0;
  iVar12 = 0;
  iVar14 = 0;
  bVar2 = false;
  FID_conflict___mbscpy((char *)0x4,param_1);
  iVar9 = 0x4284e3;
  param_1 = (char *)_strlen(acStackY_14d + 1);
  uVar6 = 0;
  if (param_1 != (char *)0x0) {
    do {
      cVar1 = acStackY_14d[uVar6 + 1];
      if (cVar1 < 0xc0) {
        if (('`' < cVar1) && (cVar1 < '{')) {
          acStackY_14d[uVar6 + 1] = cVar1 + -0x20;
        }
      }
      else {
        switch((int)cVar1) {
        case 0xc0:
        case 0xc1:
        case 0xc2:
        case 0xc3:
        case 0xc4:
        case 0xc5:
        case 0xc6:
          acStackY_14d[uVar6 + 1] = 'A';
          break;
        case 199:
          acStackY_14d[uVar6 + 1] = 'C';
          break;
        case 200:
        case 0xc9:
        case 0xca:
        case 0xcb:
          acStackY_14d[uVar6 + 1] = 'E';
          break;
        case 0xcc:
        case 0xcd:
        case 0xce:
        case 0xcf:
          acStackY_14d[uVar6 + 1] = 'I';
          break;
        case 0xd1:
          acStackY_14d[uVar6 + 1] = 'N';
          break;
        case 0xd2:
        case 0xd3:
        case 0xd4:
        case 0xd5:
        case 0xd6:
        case 0xd8:
          acStackY_14d[uVar6 + 1] = 'O';
          break;
        case 0xd9:
        case 0xda:
        case 0xdb:
        case 0xdc:
          acStackY_14d[uVar6 + 1] = 'U';
          break;
        case 0xdd:
          acStackY_14d[uVar6 + 1] = 'Y';
        }
      }
      if ((acStackY_14d[uVar6 + 1] == '.') &&
         ((acStackY_14d[uVar6 + 2] == 'M' || (acStackY_14d[uVar6 + 2] == 'm')))) {
        acStackY_14d[uVar6 + 1] = '\0';
        bVar2 = true;
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < param_1);
  }
  if (param_5 != 0) {
    for (pcVar4 = acStackY_14d + (int)param_1; *pcVar4 == ' '; pcVar4 = pcVar4 + -1) {
      *pcVar4 = '\0';
      param_1 = (char *)((int)param_1 - 1);
    }
  }
  if (bVar2) {
    do {
      iVar8 = iVar9;
      if ((acStackY_14d[iVar9 + 1] != '_') && (acStackY_14d[iVar9 + 1] != '\0')) {
        iVar9 = iVar9 + 1;
        iVar8 = iVar14;
      }
      iVar14 = iVar8;
    } while (iVar8 == 0);
    param_1 = (char *)(iVar8 - 4);
    FUN_004ad7a0();
    FID_conflict___mbscpy(acStackY_14d + 1,local_3f4);
  }
  _memset(local_2f4,0,100);
  local_2f4[0] = 100;
  local_2a4 = *(undefined4 *)(DAT_005e5010 + 0x21b4);
  iVar14 = FUN_00424d60();
  _memset(local_290,0,0x6c);
  local_290[0] = 0x6c;
  iVar9 = (**(code **)(*DAT_005dfe3c[1] + 100))();
  if (iVar9 == 0) {
    _memset(local_1b8,0,0x6c);
    puStackY_6c = local_1b8;
    local_1b8[0] = 0x6c;
    iVar9 = (**(code **)(*DAT_004d7b8c + 100))();
    if (iVar9 == 0) {
      local_48 = 0x42870a;
      _memset(local_224,0,0x6c);
      local_224[0] = 0x6c;
      local_4c = *DAT_005dfe3c;
      local_48 = 0;
      uStackY_50 = 0x42872c;
      iVar9 = (**(code **)(*local_4c + 100))();
      if (iVar9 == 0) {
        local_4c = (int *)(local_280 >> 1);
        local_48 = local_200;
        if (iVar14 != 0) {
          iVar14 = 0x1e;
          do {
            iVar14 = iVar14 + -1;
          } while (iVar14 != 0);
        }
        uVar6 = 0;
        iVar14 = param_2;
        if (param_1 != (char *)0x0) {
          do {
            cVar1 = acStackY_14d[uVar6 + 1];
            iVar9 = (int)cVar1;
            switch(iVar9) {
            case 0x21:
            case 0x31:
              iVar14 = 0x14;
              break;
            default:
              iVar14 = 0;
              break;
            case 0x25:
              iVar14 = 0x19;
              break;
            case 0x2c:
              iVar14 = 10;
              break;
            case 0x2e:
              iVar14 = 9;
              break;
            case 0x30:
            case 0x32:
            case 0x33:
            case 0x34:
            case 0x35:
            case 0x36:
            case 0x37:
            case 0x38:
            case 0x39:
            case 0x41:
            case 0x42:
            case 0x43:
            case 0x44:
            case 0x45:
            case 0x46:
            case 0x47:
            case 0x48:
            case 0x4a:
            case 0x4b:
            case 0x4d:
            case 0x4e:
            case 0x4f:
            case 0x50:
            case 0x51:
            case 0x52:
            case 0x53:
            case 0x54:
            case 0x55:
            case 0x56:
            case 0x57:
            case 0x58:
            case 0x59:
            case 0x5a:
            case 0xc0:
            case 0xc1:
            case 0xc2:
            case 0xc3:
            case 0xc4:
            case 0xc5:
            case 0xc6:
            case 199:
            case 200:
            case 0xc9:
            case 0xca:
            case 0xcb:
            case 0xd1:
            case 0xd2:
            case 0xd3:
            case 0xd4:
            case 0xd5:
            case 0xd6:
            case 0xd8:
            case 0xd9:
            case 0xda:
            case 0xdb:
            case 0xdc:
            case 0xdd:
              iVar14 = 0x31;
              break;
            case 0x3a:
              iVar14 = 0xc;
              break;
            case 0x3f:
              iVar14 = 0x24;
              break;
            case 0x49:
            case 0xcc:
            case 0xcd:
            case 0xce:
            case 0xcf:
              iVar14 = 0x12;
              break;
            case 0x4c:
              iVar14 = 0x23;
              break;
            case 0xd0:
            case 0xde:
            case 0xdf:
              break;
            }
            if (iVar14 == 0) {
              iVar12 = iVar12 + 0x10;
            }
            else {
              bVar2 = false;
              if (cVar1 < 'A') {
                if ((cVar1 < '0') || ('9' < cVar1)) {
                  switch(iVar9) {
                  case 0x21:
                    iVar13 = 0x514;
                    break;
                  case 0x25:
                    iVar13 = 0x53c;
                    break;
                  case 0x2c:
                    iVar13 = 0x532;
                    break;
                  case 0x2e:
                    iVar13 = 0x528;
                    break;
                  case 0x3a:
                    bVar2 = true;
                    iVar13 = 0x50;
                    break;
                  case 0x3f:
                    iVar13 = 0x55a;
                  }
                }
                else {
                  iVar13 = iVar9 + -0x30;
                  bVar2 = true;
                }
              }
              else {
                iVar13 = iVar9 + -0x41;
              }
              if (bVar2) {
                iVar9 = iVar13;
                if (cVar1 != ':') {
                  iVar9 = iVar13 * 0x32;
                }
                iVar8 = 0x1e;
                puVar10 = (ushort *)(local_200 + iVar9 * 2);
                puVar11 = (ushort *)(local_194 + iVar12 * 2);
                do {
                  iVar9 = iVar14;
                  puVar5 = puVar11;
                  puVar7 = puVar10;
                  if (0 < iVar14) {
                    do {
                      if (*puVar7 == 0) {
                        uVar3 = (ushort)*(undefined4 *)(DAT_005e5010 + 0x21b4);
                      }
                      else {
                        uVar3 = (ushort)(&DAT_004d7b60)[param_4 & 0xff] & *puVar7;
                      }
                      *puVar5 = uVar3;
                      iVar9 = iVar9 + -1;
                      puVar5 = puVar5 + 1;
                      puVar7 = puVar7 + 1;
                    } while (iVar9 != 0);
                  }
                  puVar11 = puVar11 + (local_1a8 >> 1);
                  puVar10 = puVar10 + (local_214 >> 1);
                  iVar8 = iVar8 + -1;
                } while (iVar8 != 0);
                iVar12 = iVar12 + 6 + iVar14;
              }
              else {
                iVar9 = iVar13;
                if (iVar13 < 1000) {
                  iVar9 = iVar13 * 0x32;
                }
                iVar8 = 0x1e;
                puVar10 = (ushort *)(local_26c + iVar9 * 2);
                puVar11 = (ushort *)(local_194 + iVar12 * 2);
                do {
                  if (iVar14 != -1 && -1 < iVar14 + 1) {
                    iVar9 = iVar14 + 1;
                    puVar5 = puVar11;
                    puVar7 = puVar10;
                    do {
                      if (*puVar7 == 0) {
                        uVar3 = (ushort)*(undefined4 *)(DAT_005e5010 + 0x21b4);
                      }
                      else {
                        uVar3 = (ushort)(&DAT_004d7b60)[param_4 & 0xff] & *puVar7;
                      }
                      *puVar5 = uVar3;
                      puVar5 = puVar5 + 1;
                      puVar7 = puVar7 + 1;
                      iVar9 = iVar9 + -1;
                    } while (iVar9 != 0);
                  }
                  puVar11 = puVar11 + (local_1a8 >> 1);
                  puVar10 = puVar10 + (local_280 >> 1);
                  iVar8 = iVar8 + -1;
                } while (iVar8 != 0);
                iVar12 = iVar12 + 6 + iVar14;
              }
            }
            uVar6 = uVar6 + 1;
          } while (uVar6 < param_1);
        }
        uStackY_50 = 0;
        piStackY_54 = DAT_004d7b8c;
        uStackY_58 = 0x428a3f;
        (**(code **)(*DAT_004d7b8c + 0x80))();
        uStackY_58 = 0;
        piStackY_5c = DAT_005dfe3c[1];
        uStackY_60 = 0x428a53;
        (**(code **)(*piStackY_5c + 0x80))();
        uStackY_60 = 0;
        piStackY_64 = *DAT_005dfe3c;
        piStackY_68 = (int *)0x428a66;
        (**(code **)(*piStackY_64 + 0x80))();
        if (param_5 != 0) {
          if (param_5 == 1) {
            param_2 = param_2 + (6 - iVar12);
          }
          else if (param_5 == 2) {
            param_2 = param_2 - (iVar12 + -6 >> 1);
          }
        }
        piStackY_68 = DAT_004d7b8c;
        uStackY_70 = 0;
        uStackY_74 = param_3;
        iStackY_78 = param_2;
        uStackY_7c = 0x428ab4;
        FUN_0043dcb0();
      }
    }
  }
  return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00428d60(int *param_1,int param_2,int param_3,undefined4 param_4,int param_5)

{
  byte bVar1;
  undefined4 *puVar2;
  char *pcVar3;
  int *piVar4;
  char *pcVar5;
  char *pcVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  undefined2 *puVar12;
  undefined2 *puVar13;
  uint uVar14;
  int **ppiVar15;
  int iVar16;
  char local_360 [256];
  char local_260 [256];
  undefined4 local_160 [20];
  undefined4 local_110;
  undefined4 local_fc [4];
  int local_ec;
  undefined2 *local_d8;
  int *local_90 [10];
  int *local_68;
  int local_64 [9];
  char *local_40;
  undefined4 *local_3c;
  undefined4 local_38;
  undefined4 local_34;
  int local_30;
  int **local_2c;
  int *local_28;
  int *local_24;
  int local_20;
  int iVar17;
  
  AdjustStackForLargeAllocations();
  param_4 = 0;
  local_68 = (int *)0x0;
  piVar4 = local_64;
  for (iVar9 = 9; iVar9 != 0; iVar9 = iVar9 + -1) {
    *piVar4 = 0;
    piVar4 = piVar4 + 1;
  }
  ppiVar15 = local_90;
  local_90[0] = (int *)0x0;
  for (iVar9 = 9; ppiVar15 = ppiVar15 + 1, iVar9 != 0; iVar9 = iVar9 + -1) {
    *ppiVar15 = (int *)0x0;
  }
  local_2c = (int **)0x4;
  local_20 = 0;
  local_24 = (int *)0x0;
  if (param_1 != (int *)0x0) {
    FID_conflict___mbscpy(local_260,(char *)param_1);
    param_1 = (int *)_strlen(local_260);
    pcVar3 = _strstr(local_260,&DAT_004c9dd0);
    if (pcVar3 == (char *)0x0) {
      param_4 = 1;
    }
    else {
      local_24 = (int *)0x1;
      uVar11 = 0;
      do {
        for (piVar4 = *(int **)((int)local_64 + (uVar11 - 4));
            ((piVar4 < param_1 && (local_260[(int)piVar4] != '%')) &&
            (local_260[(int)piVar4] != '\0')); piVar4 = (int *)((int)piVar4 + 1)) {
        }
        param_4 = param_4 + 1;
        local_260[(int)piVar4] = '\0';
        *(int **)((int)local_90 + uVar11) = piVar4;
        *(int *)((int)local_64 + uVar11) = (int)piVar4 + 1;
      } while ((piVar4 != param_1) && (uVar11 = uVar11 + 4, uVar11 < 0x24));
    }
    iVar9 = 0;
    if (0 < param_4) {
      do {
        if (local_24 == (int *)0x0) {
          pcVar3 = local_260;
        }
        else {
          param_1 = (int *)((int)local_90[iVar9] - local_64[iVar9 + -1]);
          pcVar3 = local_260 + local_64[iVar9 + -1];
          param_3 = param_3 + 0x19;
        }
        piVar4 = (int *)0x0;
        iVar17 = param_2;
        if (param_1 != (int *)0x0) {
          do {
            bVar1 = pcVar3[(int)piVar4];
            if ((0x60 < bVar1) && (bVar1 < 0x7b)) {
              pcVar3[(int)piVar4] = bVar1 - 0x20;
            }
            if ((pcVar3[(int)piVar4] == '.') &&
               (((pcVar3 + 1)[(int)piVar4] == 'M' || ((pcVar3 + 1)[(int)piVar4] == 'm')))) {
              pcVar3[(int)piVar4] = '\0';
              local_20 = 1;
            }
            piVar4 = (int *)((int)piVar4 + 1);
          } while (piVar4 < param_1);
        }
        if (param_5 != 0) {
          for (pcVar5 = pcVar3 + -1 + (int)param_1; *pcVar5 == ' '; pcVar5 = pcVar5 + -1) {
            *pcVar5 = '\0';
            param_1 = (int *)((int)param_1 + -1);
          }
        }
        if (local_20 != 0) {
          pcVar5 = s_END_OF_004c9dd4;
          pcVar6 = _strstr(pcVar3,s_END_OF_004c9dd4);
          if (pcVar6 == (char *)0x0) {
            while (param_1 = (int *)pcVar5, param_1 == (int *)0x0) {
              pcVar5 = (char *)local_2c;
              if ((pcVar3[(int)local_2c] != '_') && (pcVar3[(int)local_2c] != '\0')) {
                local_2c = (int **)((int)local_2c + 1);
                pcVar5 = (char *)param_1;
              }
            }
            param_1 = param_1 + -1;
            local_20 = 0x428f47;
            FUN_004ad7a0();
            FID_conflict___mbscpy(pcVar3,local_360);
          }
        }
        local_40 = (char *)0x0;
        local_3c = (undefined4 *)0x0;
        local_34 = 0xe;
        local_38 = *(undefined4 *)(DAT_005e5010 + 0x2538);
        local_20 = 0x428f8a;
        _memset(local_160,0,100);
        local_160[0] = 100;
        local_110 = *(undefined4 *)(DAT_005e5010 + 0x21b4);
        local_20 = 0;
        local_24 = (int *)0x0;
        local_28 = DAT_004d7b84;
        local_2c = (int **)0x428fc9;
        iVar7 = FUN_00424d60();
        local_20 = 0x428fde;
        _memset(local_fc,0,0x6c);
        local_fc[0] = 0x6c;
        uVar11 = 1;
        local_20 = 0;
        local_24 = DAT_004d7b84;
        local_28 = (int *)0x429003;
        puVar2 = local_fc;
        iVar8 = (**(code **)(*DAT_004d7b84 + 100))();
        local_3c = puVar2;
        if (iVar8 != 0) {
          return;
        }
        iVar16 = local_ec >> 1;
        iVar8 = DAT_005e5010;
        if (iVar7 != 0) {
          iVar7 = 0xe;
          puVar13 = local_d8;
          do {
            iVar10 = 0;
            puVar12 = puVar13;
            if (0 < *(int *)(iVar8 + 0x2538)) {
              do {
                iVar10 = iVar10 + 1;
                *puVar12 = *(undefined2 *)(iVar8 + 0x21b4);
                iVar8 = DAT_005e5010;
                puVar12 = puVar12 + 1;
              } while (iVar10 < *(int *)(DAT_005e5010 + 0x2538));
            }
            puVar13 = puVar13 + iVar16;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
        }
        local_38 = *(undefined4 *)(iVar8 + 0x2538);
        local_28 = (int *)&stack0xffffffe8;
        local_2c = &local_28;
        local_30 = 1;
        local_34 = 5;
        local_64[8] = 0x429089;
        local_40 = pcVar3;
        iVar7 = FUN_004919a0();
        uVar14 = 0;
        if (uVar11 != 0) {
          iVar8 = local_30;
          do {
            local_2c = (int **)(iVar7 + (int)local_28 * uVar14 * 2);
            local_34 = 0x4290b4;
            local_30 = iVar8;
            local_28 = (int *)((int)local_28 * 2);
            FUN_004ad7a0();
            uVar14 = uVar14 + 1;
            iVar8 = iVar8 + iVar16 * 2;
          } while (uVar14 < uVar11);
        }
        local_28 = (int *)0x0;
        local_2c = (int **)DAT_004d7b84;
        local_30 = 0x4290d4;
        (**(code **)(*DAT_004d7b84 + 0x80))();
        if (iVar7 != 0) {
          FreeMemory();
        }
        if (DAT_005df320 == 2) {
          *DAT_005df2c8 = local_28;
        }
        local_24 = (int *)iVar17;
        if (param_5 != 0) {
          if (param_5 == 1) {
            local_24 = (int *)((param_2 - (int)local_28) + 2);
          }
          else if (param_5 == 2) {
            local_24 = (int *)(param_2 - ((int)local_28 + -2) / 2);
          }
        }
        local_20 = param_3;
        local_28 = (int *)0x42913c;
        FUN_0043dcb0();
        iVar9 = iVar9 + 1;
      } while (iVar9 < param_4);
    }
  }
  return;
}



void FUN_00429170(undefined4 param_1,int param_2,int param_3,int param_4)

{
  char *pcVar1;
  char cVar2;
  size_t sVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int local_20;
  int iStack_1c;
  int *piStack_18;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  piStack_18 = &local_20;
  iVar6 = 0;
  iStack_1c = param_1;
  iVar8 = 0;
  iVar7 = 0;
  local_20 = 0x429199;
  FUN_004ae5f0();
  piStack_18 = (int *)0x4291a5;
  sVar3 = _strlen((char *)&local_20);
  if ((sVar3 == 0) || (param_4 == 0)) {
    iVar7 = 0;
  }
  else {
    uVar5 = 0;
    if (sVar3 != 0) {
      do {
        cVar2 = *(char *)((int)&local_20 + uVar5);
        if (('/' < cVar2) && (cVar2 < ':')) {
          iVar7 = (&DAT_004d7a78)[cVar2];
        }
        iVar8 = iVar8 + iVar7;
        uVar5 = uVar5 + 1;
      } while (uVar5 < sVar3);
    }
    iVar7 = iVar8 + -2 + sVar3 * 2;
  }
  iVar8 = param_2;
  if (param_4 != 0) {
    if (param_4 == 1) {
      iVar8 = param_2 - iVar7;
    }
    else {
      iVar8 = 0;
      if (param_4 == 2) {
        iVar4 = iVar7 >> 1;
        iVar8 = param_2 - iVar4;
        if ((param_2 - iVar4) - iVar4 < 0) {
          iVar8 = iVar4;
        }
      }
    }
  }
  piStack_18 = (int *)sVar3;
  if ((iVar8 < 1) || (*(int *)(DAT_005e5010 + 0x2538) <= iVar8 + iVar7)) {
    if (sVar3 == 0) {
      iStack_1c = param_3;
      local_20 = iVar8;
      FUN_004173e0(*(undefined4 *)(DAT_005dfe3c + 0x14));
    }
    uVar5 = 0;
    if (sVar3 != 0) {
      do {
        piStack_18 = (int *)0x0;
        iStack_1c = param_3;
        local_20 = iVar6 + iVar8;
        FUN_004173e0(*(undefined4 *)(DAT_005dfe3c + -0xac + *(char *)((int)&local_20 + uVar5) * 4));
        pcVar1 = (char *)((int)&local_20 + uVar5);
        uVar5 = uVar5 + 1;
        iVar6 = iVar6 + 2 + (&DAT_004d7a78)[*pcVar1];
      } while (uVar5 < sVar3);
    }
  }
  else {
    if (sVar3 == 0) {
      iStack_1c = *(undefined4 *)(DAT_005dfe3c + 0x14);
      local_20 = param_3;
      FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),iVar8);
    }
    uVar5 = 0;
    if (sVar3 != 0) {
      do {
        piStack_18 = (int *)0x0;
        iStack_1c = *(undefined4 *)(DAT_005dfe3c + -0xac + *(char *)((int)&local_20 + uVar5) * 4);
        local_20 = param_3;
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),iVar6 + iVar8);
        pcVar1 = (char *)((int)&local_20 + uVar5);
        uVar5 = uVar5 + 1;
        iVar6 = iVar6 + 2 + (&DAT_004d7a78)[*pcVar1];
      } while (uVar5 < sVar3);
      return;
    }
  }
  return;
}



void FUN_00429330(void)

{
  if (DAT_005dfe3c != 0) {
    FreeMemory(DAT_005dfe3c);
    DAT_005dfe3c = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00429350(void)

{
  byte bVar1;
  char **ppcVar2;
  int iVar3;
  void *pvVar4;
  int iVar5;
  char **ppcVar6;
  int iVar7;
  char local_134 [272];
  undefined4 uStackY_24;
  void *local_20;
  char *pcVar8;
  size_t sVar9;
  
  AdjustStackForLargeAllocations();
  DAT_004d7bac = 0;
  if (DAT_005df310 == '\0') {
    pcVar8 = &gRootFileDirectory;
  }
  else {
    pcVar8 = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_134,pcVar8);
  FID_conflict__strcat(local_134,s_hdzcred_dat_004c9e10);
  iVar3 = FUN_004ae940();
  if ((iVar3 == 0) && (iVar3 = OpenFileWithFixedFlags0x40(), iVar3 != 0)) {
    sVar9 = (int)local_20 + 1;
    iVar3 = 0;
    local_20 = (void *)0x4293f9;
    pvVar4 = (void *)AllocateMemoryWithCallback();
    local_20 = (void *)0x429402;
    pvVar4 = _memset(pvVar4,iVar3,sVar9);
    _DAT_004d7bb4 = local_20;
    uStackY_24 = 0x429419;
    local_20 = pvVar4;
    CopyDataWithLock();
    DAT_004d7b94 = (byte *)FUN_00424a20();
    sVar9 = 8;
    iVar3 = 0;
    local_20 = (void *)0x42943e;
    DAT_004d7b98 = DAT_004d7b94;
    pvVar4 = (void *)AllocateMemoryWithCallback();
    local_20 = (void *)0x429447;
    DAT_004d7ba8 = _memset(pvVar4,iVar3,sVar9);
    if (DAT_004d7ba8 != (void *)0x0) {
      sVar9 = 8;
      iVar3 = 0;
      local_20 = (void *)0x429462;
      pvVar4 = (void *)AllocateMemoryWithCallback();
      local_20 = (void *)0x42946b;
      pvVar4 = _memset(pvVar4,iVar3,sVar9);
      *(void **)((int)DAT_004d7ba8 + 4) = pvVar4;
      ppcVar2 = *(char ***)((int)DAT_004d7ba8 + 4);
      if (ppcVar2 != (char **)0x0) {
        bVar1 = *DAT_004d7b94;
        DAT_004d7b94 = DAT_004d7b94 + 1;
        local_20 = (void *)0x4294a4;
        FUN_004ad7a0();
        iVar3 = FUN_004adb80();
        DAT_004d7b94 = DAT_004d7b94 + bVar1;
        iVar5 = FUN_0043ff50();
        pcVar8 = (char *)FUN_00429560();
        while( true ) {
          if (pcVar8 == (char *)0x0) {
            DAT_005dfe34 = (int)(DAT_004d7bac * 0x19 + (DAT_004d7bac * 0x19 >> 0x1f & 3U)) >> 2;
            return 1;
          }
          if (*pcVar8 == '*') {
            if (iVar5 == 0) {
              *ppcVar2 = pcVar8;
            }
            iVar7 = 1;
            if (1 < iVar3) {
              do {
                pcVar8 = (char *)FUN_00429560();
                if (iVar7 == iVar5) {
                  *ppcVar2 = pcVar8;
                }
                iVar7 = iVar7 + 1;
              } while (iVar7 < iVar3);
            }
          }
          else {
            *ppcVar2 = pcVar8;
          }
          sVar9 = 8;
          iVar7 = 0;
          local_20 = (void *)0x42950d;
          pvVar4 = (void *)AllocateMemoryWithCallback();
          local_20 = (void *)0x429516;
          ppcVar6 = (char **)_memset(pvVar4,iVar7,sVar9);
          ppcVar2[1] = (char *)ppcVar6;
          if (ppcVar6 == (char **)0x0) break;
          DAT_004d7bac = DAT_004d7bac + 1;
          pcVar8 = (char *)FUN_00429560();
          ppcVar2 = ppcVar6;
        }
      }
    }
  }
  return 0;
}



uint FUN_00429560(void)

{
  void *_Dst;
  char *_Str;
  char *pcVar1;
  uint uVar2;
  int _Val;
  size_t _Size;
  
  uVar2 = (uint)*DAT_004d7b94;
  DAT_004d7b94 = DAT_004d7b94 + 1;
  _Size = uVar2 + 1;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  _Str = (char *)_memset(_Dst,_Val,_Size);
  if (_Str == (char *)0x0) {
    return 0;
  }
  FUN_004ad7a0(_Str,DAT_004d7b94,uVar2);
  _Str[uVar2] = '\0';
  DAT_004d7b94 = DAT_004d7b94 + uVar2;
  pcVar1 = _strstr(_Str,s_END_CREDITS_004c9ef4);
  return ~-(uint)(pcVar1 != (char *)0x0) & (uint)_Str;
}



void FUN_004295d0(void)

{
  if (DAT_004d8100 != 0) {
    DAT_004d7b9c = 0;
    DAT_005dfe38 = 0;
    DAT_004d8100 = 0;
  }
  if (DAT_005dfe38 == 0) {
    DAT_004d7b9c = DAT_004d7b9c + 1;
    if (DAT_004d7b9c == DAT_005dfe34) {
      FUN_0048daa0(0xf);
    }
  }
  else if (DAT_005dfe38 == 1) {
    FUN_0048daa0(0xf);
    return;
  }
  return;
}



void FUN_00429630(void)

{
  size_t sVar1;
  char *pcVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint *puVar7;
  char local_174 [256];
  uint auStackY_74 [10];
  uint local_4c [10];
  char *local_24;
  char *local_20;
  char *local_1c;
  char *pcVar8;
  char *_Str;
  undefined *puVar9;
  char **ppcVar10;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  puVar7 = local_4c;
  local_4c[0] = 0;
  for (iVar4 = 9; puVar7 = puVar7 + 1, iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar7 = 0;
  }
  puVar7 = auStackY_74;
  for (iVar4 = 9; puVar7 = puVar7 + 1, iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar7 = 0;
  }
  puVar9 = (undefined *)0x0;
  if (DAT_004d7ba8 != 0) {
    local_24 = (char *)(*(int *)(DAT_005e5010 + 0x2538) / 2);
    ppcVar10 = *(char ***)(DAT_004d7ba8 + 4);
    local_20 = (char *)(*(int *)(DAT_005e5010 + 0x253c) / 2);
    if (0 < DAT_004d7bac) {
      pcVar8 = (char *)0x0;
      do {
        iVar4 = 0;
        pcVar8 = local_20 + (int)(puVar9 + DAT_004d7b9c * -4) + (int)pcVar8;
        local_1c = (char *)0x4296db;
        FID_conflict___mbscpy(local_174,*ppcVar10);
        sVar1 = _strlen(local_174);
        _Str = local_174;
        puVar9 = &DAT_004c9f00;
        local_1c = (char *)0x429700;
        pcVar2 = _strstr(_Str,&DAT_004c9f00);
        if (pcVar2 == (char *)0x0) {
          iVar6 = 1;
        }
        else {
          iVar4 = 1;
          iVar5 = 0;
          do {
            for (uVar3 = *(uint *)((int)local_4c + iVar5);
                ((uVar3 < sVar1 && (local_174[uVar3] != '%')) && (local_174[uVar3] != '\0'));
                uVar3 = uVar3 + 1) {
            }
            iVar6 = iVar6 + 1;
            local_174[uVar3] = '\0';
            *(uint *)((int)auStackY_74 + iVar5) = uVar3;
            *(uint *)((int)local_4c + iVar5 + 4) = uVar3 + 1;
          } while ((uVar3 != sVar1) && (iVar5 = iVar5 + 4, iVar5 < 0x24));
        }
        if (0 < iVar6) {
          puVar7 = local_4c;
          iVar5 = iVar6;
          do {
            if (iVar4 == 0) {
              pcVar2 = local_174;
            }
            else {
              pcVar8 = pcVar8 + 0x19;
              pcVar2 = local_174 + *puVar7;
            }
            if (((*ppcVar10 != (char *)0x0) && (-1 < (int)pcVar8)) &&
               ((int)pcVar8 <= *(int *)(DAT_005e5010 + 0x253c))) {
              puVar9 = (undefined *)0x2;
              _Str = (char *)0x0;
              local_20 = local_24;
              local_4c[9] = 0x4297a0;
              local_24 = pcVar2;
              local_1c = pcVar8;
              FUN_00428d60();
              if (iVar4 != 0) {
                puVar9 = puVar9 + 0x19;
              }
            }
            puVar7 = puVar7 + 1;
            iVar5 = iVar5 + -1;
          } while (iVar5 != 0);
        }
        ppcVar10 = (char **)ppcVar10[1];
        pcVar8 = _Str + 0x19;
      } while ((int)(local_1c + 1) < DAT_004d7bac);
    }
  }
  return;
}



void FUN_00429800(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (DAT_004d7ba8 != 0) {
    iVar3 = 0;
    iVar2 = *(int *)(DAT_004d7ba8 + 4);
    if (0 < DAT_004d7bac) {
      do {
        iVar1 = *(int *)(iVar2 + 4);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
        }
        iVar3 = iVar3 + 1;
        iVar2 = iVar1;
      } while (iVar3 < DAT_004d7bac);
    }
    if (DAT_004d7ba8 != 0) {
      FreeMemory(DAT_004d7ba8);
      DAT_004d7ba8 = 0;
    }
    if (DAT_004d7b98 != 0) {
      FreeMemory(DAT_004d7b98);
      DAT_004d7b98 = 0;
    }
  }
  return;
}



undefined4 FUN_00429880(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar1 = FUN_004858c0();
  if ((iVar1 == 4) || (DAT_005df2f8 != 2)) {
    if (DAT_004d7bbc == 7) {
      return 1;
    }
    if ((iVar1 == 10) || (iVar1 == 0x10)) {
      uVar3 = *(undefined4 *)(DAT_005dcedc + 0x48);
    }
    else {
      uVar3 = *(undefined4 *)(DAT_005df290 + 0x60);
    }
    iVar2 = FUN_0042abb0(uVar3,(*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0xb0,
                         (*(int *)(DAT_005e5010 + 0x253c) >> 1) + -0xa2,0x55);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 3;
      switch(DAT_004d7bbc) {
      case 0:
        *(undefined2 *)(iVar2 + 0x26) = 0x23;
        break;
      case 1:
        *(undefined2 *)(iVar2 + 0x26) = 0x2a;
        break;
      case 2:
        *(undefined2 *)(iVar2 + 0x26) = 7;
        break;
      case 3:
      case 4:
        *(undefined2 *)(iVar2 + 0x26) = 0x2f;
        break;
      default:
        goto switchD_00429a78_caseD_5;
      case 6:
        *(undefined2 *)(iVar2 + 0x26) = 0x31;
        break;
      case 8:
        *(undefined2 *)(iVar2 + 0x26) = 0x6b;
        break;
      case 9:
        *(undefined2 *)(iVar2 + 0x26) = 0x2b;
        break;
      case 10:
        *(undefined2 *)(iVar2 + 0x26) = 0x2c;
      }
      *(undefined *)(iVar2 + 0x28) = 2;
    }
switchD_00429a78_caseD_5:
    FUN_0042a520(iVar2);
    if (DAT_004d7bbc == 6) {
      if ((iVar1 == 10) || (iVar1 == 0x10)) {
        uVar3 = *(undefined4 *)(DAT_005dcedc + 0x54);
      }
      else {
        uVar3 = *(undefined4 *)(DAT_005df290 + 100);
      }
      iVar2 = FUN_0042abb0(uVar3,(*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x40,
                           (*(int *)(DAT_005e5010 + 0x253c) >> 1) + 0x72,0x56);
      if (iVar2 == 0) goto LAB_00429c7e;
      *(undefined4 *)(iVar2 + 0x20) = 4;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      *(undefined2 *)(iVar2 + 0x40) = 1;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      goto LAB_00429c50;
    }
    if ((iVar1 == 10) || (iVar1 == 0x10)) {
      uVar3 = *(undefined4 *)(DAT_005dcedc + 0x54);
    }
    else {
      uVar3 = *(undefined4 *)(DAT_005df290 + 100);
    }
    iVar2 = FUN_0042abb0(uVar3,(*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x8f,
                         (*(int *)(DAT_005e5010 + 0x253c) >> 1) + 0x72,0x56);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 4;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      *(undefined2 *)(iVar2 + 0x40) = 1;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      if (iVar1 == 10) {
        uVar3 = *(undefined4 *)(DAT_005dcedc + 0x5c);
      }
      else {
        uVar3 = *(undefined4 *)(DAT_005df290 + 0x54);
      }
      *(undefined4 *)(iVar2 + 4) = uVar3;
    }
    FUN_0042a520(iVar2);
    if ((iVar1 == 10) || (iVar1 == 0x10)) {
      uVar3 = *(undefined4 *)(DAT_005dcedc + 0x58);
    }
    else {
      uVar3 = *(undefined4 *)(DAT_005df290 + 0x68);
    }
    iVar2 = FUN_0042abb0(uVar3,(*(int *)(DAT_005e5010 + 0x2538) >> 1) + 0xf,
                         (*(int *)(DAT_005e5010 + 0x253c) >> 1) + 0x72,0x57);
    if (iVar2 == 0) goto LAB_00429c7e;
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    if (iVar1 != 10) {
      *(undefined4 *)(iVar2 + 4) = *(undefined4 *)(DAT_005df290 + 0x54);
      FUN_0042a520(iVar2);
      return 1;
    }
  }
  else {
    if (DAT_004d7bbc == 6) {
      if ((iVar1 == 10) || (iVar1 == 0x10)) {
        uVar3 = *(undefined4 *)(DAT_005dcedc + 0x54);
      }
      else {
        uVar3 = *(undefined4 *)(DAT_005df290 + 100);
      }
      iVar2 = FUN_0042abb0(uVar3,0x40,0x96,0x56);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 4;
        *(undefined2 *)(iVar2 + 0x24) = 0xc3;
        *(undefined2 *)(iVar2 + 0x40) = 1;
        *(undefined2 *)(iVar2 + 0x3a) = 0;
        if (iVar1 == 10) {
          *(undefined4 *)(iVar2 + 4) = *(undefined4 *)(DAT_005dcedc + 0x5c);
          FUN_0042a520(iVar2);
          return 1;
        }
        *(undefined4 *)(iVar2 + 4) = *(undefined4 *)(DAT_005df290 + 0x54);
        FUN_0042a520(iVar2);
        return 1;
      }
      goto LAB_00429c7e;
    }
    if ((iVar1 == 10) || (iVar1 == 0x10)) {
      uVar3 = *(undefined4 *)(DAT_005dcedc + 0x54);
    }
    else {
      uVar3 = *(undefined4 *)(DAT_005df290 + 100);
    }
    iVar2 = FUN_0042abb0(uVar3,0x14,0x96,0x56);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 4;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      *(undefined2 *)(iVar2 + 0x40) = 1;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      if (iVar1 == 10) {
        uVar3 = *(undefined4 *)(DAT_005dcedc + 0x5c);
      }
      else {
        uVar3 = *(undefined4 *)(DAT_005df290 + 0x54);
      }
      *(undefined4 *)(iVar2 + 4) = uVar3;
    }
    FUN_0042a520(iVar2);
    if ((iVar1 == 10) || (iVar1 == 0x10)) {
      uVar3 = *(undefined4 *)(DAT_005dcedc + 0x58);
    }
    else {
      uVar3 = *(undefined4 *)(DAT_005df290 + 0x68);
    }
    iVar2 = FUN_0042abb0(uVar3,0xa0,0x96,0x57);
    if (iVar2 == 0) goto LAB_00429c7e;
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
LAB_00429c50:
    if (iVar1 != 10) {
      *(undefined4 *)(iVar2 + 4) = *(undefined4 *)(DAT_005df290 + 0x54);
      FUN_0042a520(iVar2);
      return 1;
    }
  }
  *(undefined4 *)(iVar2 + 4) = *(undefined4 *)(DAT_005dcedc + 0x5c);
LAB_00429c7e:
  FUN_0042a520(iVar2);
  return 1;
}



void FUN_00429cc0(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00429cd0(void)

{
  if ((DAT_004d7bb8 == 1) || (DAT_004d7bb8 == 3)) {
    _DAT_004d7ccc = 3;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00429cf0(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  if (DAT_004d8100 != 0) {
    DAT_004d7bb8 = 0;
    DAT_004d8100 = 0;
  }
  iVar1 = FUN_004858c0();
  if (iVar1 != 4) {
    FUN_00475b10();
  }
  if (DAT_004d7bb8 != 1) {
    if (DAT_004d7bb8 == 3) {
      switch(DAT_004d7bbc) {
      case 0:
      case 1:
      case 2:
        DAT_004cb05c = DAT_004c9f04;
        DAT_004d7bb8 = 2;
        FUN_00475da0(1);
        FUN_0042a470();
        FUN_0042a800(0x55,0);
        FUN_0042a800(0x56,0);
        FUN_0042a800(0x57,0);
        FUN_0042a490();
        FUN_0042a3c0();
        break;
      case 3:
        FUN_00475da0(1);
        DAT_004cb05c = DAT_004c9f04;
        FUN_00429cc0();
        FUN_0042a3c0();
        break;
      case 4:
        FUN_00475d60(&DAT_005e4c43,0,4,0);
        DAT_004cb05c = DAT_004c9f04;
        FUN_00429cc0();
        FUN_0042a3c0();
        break;
      case 6:
        FUN_00475da0(4);
        DAT_004cb05c = 2;
        FUN_00429cc0();
        FUN_0042a3c0();
        break;
      case 8:
        FUN_00475da0(1);
        DAT_004cb05c = 0xc;
        DAT_004d80d0 = 2;
        FUN_00429cc0();
        FUN_0042a3c0();
        break;
      case 9:
        FUN_00475d60(&DAT_005e4ba7,0,4,0);
        DAT_004cb05c = DAT_004c9f04;
        DAT_004d8100 = 1;
        FUN_00429cc0();
        DAT_005df2d0 = 1;
        DAT_004d809c = 0x10;
        break;
      case 10:
        FUN_00475bf0(&DAT_005e4ba7,0,4,0);
        DAT_004cb05c = DAT_004c9f04;
        DAT_004d8100 = 1;
        FUN_00429cc0();
        DAT_005df2d0 = 1;
        DAT_004d809c = 0x14;
      }
    }
    goto switchD_00429d41_caseD_5;
  }
  switch(DAT_004d7bbc) {
  case 0:
    FUN_00475da0(4);
    FUN_0042a770();
    FUN_00429350();
    FUN_0042a450(0x13);
    DAT_004d8100 = 1;
    FUN_00492720(1);
    FUN_00492720(2);
    break;
  case 1:
    FUN_00475da0(2);
    if (iVar1 == 10) {
      uVar3 = 0x17;
    }
    else {
      uVar3 = 0x18;
    }
    FUN_004858f0(uVar3);
    FUN_0048daa0(0);
    FUN_0042a450(DAT_004c9f04);
    DAT_004d8100 = 1;
    FUN_00429cc0();
    FUN_0043f020();
    DAT_005df2d0 = 1;
    DAT_004d809c = 0xc;
    break;
  case 2:
    FUN_0042a450(4);
    DAT_004d8100 = 1;
    DAT_005df2d0 = 1;
    goto LAB_0042a1fb;
  case 3:
    FUN_00475da0(4);
    if (DAT_004d80ac == 0) {
      FUN_0043dee0(2);
      uVar3 = 1;
    }
    else {
      FUN_00416240();
      FUN_0042a450(7);
      FUN_004858f0(0x13);
      FUN_0048daa0(0);
      uVar3 = DAT_004c9f04;
    }
    FUN_0042a450(uVar3);
    DAT_004d8100 = 1;
    FUN_00429cc0();
    DAT_005df2d0 = 1;
    break;
  case 4:
    FUN_00475d60(&DAT_005e4c43,0,4,0);
    if (DAT_004d80ac == 0) {
      FUN_004858f0(0x12);
      FUN_0048daa0(0);
      _DAT_004d7bc0 = 1;
      DAT_005e45d0 = 1;
    }
    else {
      if (DAT_004d784c != 0) {
        _DAT_004d7858 = 1;
      }
      FUN_004858f0(0x11);
      FUN_0048daa0(0);
    }
    break;
  case 6:
    FUN_00475da0(4);
    FUN_0042a450(DAT_004c9f04);
    DAT_005df2d0 = 1;
    goto LAB_0042a1fb;
  case 7:
    FUN_00475da0(4);
    FUN_0042a450(0x13);
    DAT_004d8100 = 1;
    FUN_00429cc0();
    FUN_0043f980();
    break;
  case 8:
    FUN_00475da0(4);
    iVar1 = 0;
    do {
      iVar2 = iVar1 + 8;
      *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -8 + iVar2) =
           *(undefined2 *)((int)&DAT_005df2a0 + iVar1);
      *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -6 + iVar2) =
           *(undefined2 *)((int)&DAT_005df2a2 + iVar1);
      iVar1 = iVar2;
    } while (iVar2 < 0x28);
    iVar1 = 0;
    if (0 < *(int *)(DAT_005df2cc + 800)) {
      do {
        FUN_004356a0((int)*(short *)(DAT_005df2cc + iVar1 * 8));
        *(undefined2 *)(DAT_005df2cc + iVar1 * 8) = 0;
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)(DAT_005df2cc + 800));
    }
    FUN_00416240();
    FUN_0048daa0(0xe);
    *(undefined *)(DAT_004ca030 * 0x37 + DAT_005b9440) = 1;
    FUN_0042a450(0xc);
    DAT_004d80d0 = 2;
    goto LAB_0042a1fb;
  case 9:
    FUN_00475d60(&DAT_005e4c1c,0,4,0);
LAB_0042a1fb:
    FUN_00429cc0();
    break;
  case 10:
    FUN_0042a450(8);
    DAT_004d809c = 0;
    DAT_004d8264 = 0;
    if (DAT_00598944 == 0) {
      FUN_0048daa0(0x15);
    }
    DAT_005e45d0 = 1;
    _DAT_005e45d4 = 1;
    _DAT_004d7bc0 = 1;
    DAT_00598f8c = 0x19;
    *(undefined *)(DAT_004d83a4 + 0x62) = 2;
    ResumeAudioStreamsAndSamples();
  }
switchD_00429d41_caseD_5:
  if ((*(int *)(DAT_004d7cd4 + 4) == 0) && (DAT_004d7bbc == 9)) {
    FUN_0048daa0(0);
    FUN_004858f0(0x10);
  }
  return;
}



void FUN_0042a290(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FUN_004858c0();
  if (DAT_005df2d0 != 0) {
    FUN_0042a770();
    FUN_0043db20(0);
    FUN_00492720(1);
    FUN_00429880();
    DAT_005df2d0 = 0;
  }
  if ((iVar1 != 4) && (DAT_005df2f8 == 2)) {
    switch(DAT_004d7bbc) {
    case 0:
      uVar2 = DAT_005ded8c;
      break;
    case 1:
      uVar2 = DAT_005deda8;
      break;
    case 2:
      uVar2 = DAT_005ded1c;
      break;
    case 3:
    case 4:
      uVar2 = DAT_005dedbc;
      break;
    default:
      goto switchD_0042a2ed_caseD_5;
    case 6:
      uVar2 = DAT_005dedc4;
      break;
    case 8:
      uVar2 = DAT_005deeac;
      break;
    case 9:
      uVar2 = DAT_005dedac;
      break;
    case 10:
      uVar2 = DAT_005dedb0;
    }
    FUN_00428d60(uVar2,100,100,0,2);
  }
switchD_0042a2ed_caseD_5:
  FUN_0042aea0(DAT_004d7bb8);
  return;
}



void FUN_0042a3c0(void)

{
  int iVar1;
  
  iVar1 = FUN_004858c0();
  if (iVar1 != 10) {
    switch(DAT_004c9f04) {
    case 1:
      FUN_0042be10();
      return;
    case 2:
      FUN_00430710();
      return;
    default:
      return;
    case 4:
    case 0x11:
      FUN_0043eda0();
      return;
    case 0xc:
      FUN_0043b2f0();
      return;
    case 0x14:
      FUN_0042b270();
      return;
    }
  }
  if (0x18 < DAT_004d809c) {
    FUN_004368b0();
    return;
  }
  FUN_004362d0();
  return;
}



void FUN_0042a450(undefined4 param_1)

{
  DAT_004cb05c = 0x16;
  DAT_004d7cd0 = param_1;
  return;
}



// Wait for single object (fence?)

void FUN_0042a470(void)

{
  WaitForSingleObject(*DAT_004d7cd4,0xffffffff);
  return;
}



void FUN_0042a490(void)

{
  ReleaseMutex(*DAT_004d7cd4);
  return;
}



undefined4 FUN_0042a4a0(void)

{
  void *pvVar1;
  HANDLE pvVar2;
  int iVar3;
  size_t sVar4;
  
  if (DAT_004d7cd4 == (HANDLE *)0x0) {
    sVar4 = 0xc;
    iVar3 = 0;
    pvVar1 = (void *)AllocateMemoryWithCallback(0xc);
    DAT_004d7cd4 = (HANDLE *)_memset(pvVar1,iVar3,sVar4);
    if (DAT_004d7cd4 == (HANDLE *)0x0) {
      return 0;
    }
    pvVar2 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
    sVar4 = 0xc;
    iVar3 = 0;
    *DAT_004d7cd4 = pvVar2;
    pvVar1 = (void *)AllocateMemoryWithCallback(0xc);
    DAT_004d7cd8 = (HANDLE *)_memset(pvVar1,iVar3,sVar4);
    pvVar2 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
    *DAT_004d7cd8 = pvVar2;
  }
  return 1;
}



void FUN_0042a520(HANDLE param_1)

{
  if (param_1 == (HANDLE)0x0) {
    return;
  }
  switch(*(undefined4 *)((int)param_1 + 0x20)) {
  case 1:
  case 6:
    *(short *)((int)param_1 + 0x14) = -*(short *)((int)param_1 + 0xc);
    *(undefined2 *)((int)param_1 + 0x16) = *(undefined2 *)((int)param_1 + 0x12);
    break;
  case 2:
    *(undefined2 *)((int)param_1 + 0x14) = 0x280;
    *(undefined2 *)((int)param_1 + 0x16) = *(undefined2 *)((int)param_1 + 0x12);
    break;
  case 3:
    *(short *)((int)param_1 + 0x16) = -*(short *)((int)param_1 + 0xe);
    *(undefined2 *)((int)param_1 + 0x14) = *(undefined2 *)((int)param_1 + 0x10);
    break;
  case 4:
    *(undefined2 *)((int)param_1 + 0x16) = 0x1e0;
    *(undefined2 *)((int)param_1 + 0x14) = *(undefined2 *)((int)param_1 + 0x10);
    break;
  case 5:
    *(short *)((int)param_1 + 0x16) =
         *(short *)((int)param_1 + 0x12) + (*(short *)((int)param_1 + 0xe) >> 2);
    *(short *)((int)param_1 + 0x14) =
         *(short *)((int)param_1 + 0x10) + (*(short *)((int)param_1 + 0xc) >> 2);
    break;
  default:
    goto switchD_0042a538_caseD_6;
  }
  *(undefined4 *)((int)param_1 + 0x18) = 1;
switchD_0042a538_caseD_6:
  if (*(int *)((int)param_1 + 0x18) == 3) {
    *(undefined2 *)((int)param_1 + 0x14) = *(undefined2 *)((int)param_1 + 0x10);
    *(undefined2 *)((int)param_1 + 0x16) = *(undefined2 *)((int)param_1 + 0x12);
  }
  WaitForSingleObject(*DAT_004d7cd8,0xffffffff);
  if (DAT_004d7cd8[1] != (HANDLE)0x0) {
    *(HANDLE *)((int)param_1 + 0x46) = DAT_004d7cd8[2];
  }
  DAT_004d7cd8[2] = param_1;
  DAT_004d7cd8[1] = (HANDLE)((int)DAT_004d7cd8[1] + 1);
  ReleaseMutex(*DAT_004d7cd8);
  return;
}



void FUN_0042a630(void)

{
  HANDLE pvVar1;
  HANDLE pvVar2;
  
  WaitForSingleObject(*DAT_004d7cd8,0xffffffff);
  FUN_0042a470();
  for (pvVar2 = DAT_004d7cd8[1]; pvVar2 != (HANDLE)0x0; pvVar2 = (HANDLE)((int)pvVar2 + -1)) {
    pvVar1 = DAT_004d7cd8[2];
    DAT_004d7cd8[2] = *(HANDLE *)((int)pvVar1 + 0x46);
    *(undefined4 *)((int)pvVar1 + 0x46) = 0;
    if (*(int *)(DAT_004d7cd4 + 4) != 0) {
      *(undefined4 *)((int)pvVar1 + 0x46) = *(undefined4 *)(DAT_004d7cd4 + 8);
    }
    *(HANDLE *)(DAT_004d7cd4 + 8) = pvVar1;
    *(int *)(DAT_004d7cd4 + 4) = *(int *)(DAT_004d7cd4 + 4) + 1;
  }
  DAT_004d7cd8[1] = (HANDLE)0x0;
  DAT_004d7cd8[2] = (HANDLE)0x0;
  ReleaseMutex(*DAT_004d7cd8);
  FUN_0042a490();
  return;
}



int FUN_0042a6c0(short param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (0 < *(int *)(DAT_004d7cd4 + 4)) {
    iVar1 = *(int *)(DAT_004d7cd4 + 8);
    if ((*(short *)(iVar1 + 8) == param_1) && (*(short *)(iVar1 + 10) == param_2)) {
      *(undefined4 *)(DAT_004d7cd4 + 8) = *(undefined4 *)(iVar1 + 0x46);
      if (iVar1 != 0) {
        FreeMemory(iVar1);
      }
      *(int *)(DAT_004d7cd4 + 4) = *(int *)(DAT_004d7cd4 + 4) + -1;
      return *(int *)(DAT_004d7cd4 + 8);
    }
    iVar3 = iVar1;
    if (iVar1 != 0) {
      while ((iVar2 = iVar1, *(short *)(iVar2 + 8) != param_1 || (*(short *)(iVar2 + 10) != param_2)
             )) {
        iVar1 = *(int *)(iVar2 + 0x46);
        iVar3 = iVar2;
        if (iVar1 == 0) {
          return iVar1;
        }
      }
      *(undefined4 *)(iVar3 + 0x46) = *(undefined4 *)(iVar2 + 0x46);
      if (iVar2 != 0) {
        FreeMemory(iVar2);
      }
      *(int *)(DAT_004d7cd4 + 4) = *(int *)(DAT_004d7cd4 + 4) + -1;
      return *(int *)(iVar3 + 0x46);
    }
  }
  return 0;
}



void FUN_0042a770(void)

{
  HANDLE pvVar1;
  int iVar2;
  int iVar3;
  
  FUN_0042a470();
  WaitForSingleObject(*DAT_004d7cd8,0xffffffff);
  if (0 < *(int *)(DAT_004d7cd4 + 4)) {
    iVar2 = *(int *)(DAT_004d7cd4 + 8);
    iVar3 = 0;
    if (0 < *(int *)(DAT_004d7cd4 + 4)) {
      do {
        *(undefined4 *)(iVar2 + 0x18) = 2;
        iVar2 = *(int *)(iVar2 + 0x46);
        iVar3 = iVar3 + 1;
      } while (iVar3 < *(int *)(DAT_004d7cd4 + 4));
    }
  }
  pvVar1 = DAT_004d7cd8[1];
  while (0 < (int)pvVar1) {
    pvVar1 = DAT_004d7cd8[2];
    DAT_004d7cd8[2] = *(HANDLE *)((int)pvVar1 + 0x46);
    if (pvVar1 != (HANDLE)0x0) {
      FreeMemory(pvVar1);
    }
    DAT_004d7cd8[1] = (HANDLE)((int)DAT_004d7cd8[1] + -1);
    pvVar1 = DAT_004d7cd8[1];
  }
  ReleaseMutex(*DAT_004d7cd8);
  FUN_0042a490();
  return;
}



void FUN_0042a800(short param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = *(int *)(DAT_004d7cd4 + 4);
  if (0 < iVar1) {
    iVar2 = *(int *)(DAT_004d7cd4 + 8);
    iVar3 = 0;
    if (0 < iVar1) {
      while ((*(short *)(iVar2 + 8) != param_1 || (*(short *)(iVar2 + 10) != param_2))) {
        iVar2 = *(int *)(iVar2 + 0x46);
        iVar3 = iVar3 + 1;
        if (iVar1 <= iVar3) {
          return;
        }
      }
      *(undefined4 *)(iVar2 + 0x18) = 2;
    }
  }
  return;
}



undefined4 FUN_0042a850(void)

{
  short sVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  undefined4 *puVar5;
  int iVar6;
  undefined2 uVar7;
  undefined4 uVar8;
  
  FUN_0042a470();
  FUN_0042a630();
  if (*(int *)(DAT_004d7cd4 + 4) == 0) {
    FUN_0042a490();
    return 1;
  }
  for (iVar6 = *(int *)(DAT_004d7cd4 + 8); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x46)) {
    if (*(int *)(iVar6 + 0x18) == 1) {
      switch(*(undefined4 *)(iVar6 + 0x20)) {
      case 1:
      case 6:
        sVar1 = *(short *)(iVar6 + 0x10);
        *(short *)(iVar6 + 0x14) =
             *(short *)(iVar6 + 0x14) + (short)((int)sVar1 + *(short *)(iVar6 + 0xc) * 2 >> 3);
        if (*(short *)(iVar6 + 0x14) != sVar1 && sVar1 <= *(short *)(iVar6 + 0x14)) {
          *(short *)(iVar6 + 0x14) = sVar1;
        }
        break;
      case 2:
        sVar1 = *(short *)(iVar6 + 0x10);
        *(short *)(iVar6 + 0x14) = *(short *)(iVar6 + 0x14) - (short)(0x280 - sVar1 >> 3);
        if (*(short *)(iVar6 + 0x14) < sVar1) {
          *(short *)(iVar6 + 0x14) = sVar1;
        }
        break;
      case 3:
        sVar1 = *(short *)(iVar6 + 0x12);
        *(short *)(iVar6 + 0x16) =
             *(short *)(iVar6 + 0x16) + (short)((int)sVar1 + *(short *)(iVar6 + 0xe) * 2 >> 3);
        if (*(short *)(iVar6 + 0x16) != sVar1 && sVar1 <= *(short *)(iVar6 + 0x16)) {
          *(short *)(iVar6 + 0x16) = sVar1;
        }
        break;
      case 4:
        sVar1 = *(short *)(iVar6 + 0x12);
        *(short *)(iVar6 + 0x16) = *(short *)(iVar6 + 0x16) - (short)(0x1e0 - sVar1 >> 3);
        if (*(short *)(iVar6 + 0x16) < sVar1) {
          *(short *)(iVar6 + 0x16) = sVar1;
        }
        break;
      case 5:
        *(undefined4 *)(iVar6 + 0x18) = 1;
        *(short *)(iVar6 + 0x16) = *(short *)(iVar6 + 0x16) + (*(short *)(iVar6 + 0xc) >> 2);
        *(short *)(iVar6 + 0x14) = *(short *)(iVar6 + 0x14) + (*(short *)(iVar6 + 0xe) >> 2);
      }
      if ((*(short *)(iVar6 + 0x14) == *(short *)(iVar6 + 0x10)) &&
         (*(short *)(iVar6 + 0x16) == *(short *)(iVar6 + 0x12))) {
        *(undefined4 *)(iVar6 + 0x18) = 0;
      }
    }
    else if (*(int *)(iVar6 + 0x18) == 2) {
      switch(*(undefined4 *)(iVar6 + 0x20)) {
      case 0:
        *(undefined2 *)(iVar6 + 0x14) = 0x280;
        *(undefined2 *)(iVar6 + 0x16) = 0x1e0;
        break;
      case 1:
        *(short *)(iVar6 + 0x14) =
             *(short *)(iVar6 + 0x14) -
             (short)((int)*(short *)(iVar6 + 0x10) + *(short *)(iVar6 + 0xc) * 2 >> 3);
        break;
      case 2:
      case 6:
        *(short *)(iVar6 + 0x14) =
             *(short *)(iVar6 + 0x14) + (short)(0x280 - *(short *)(iVar6 + 0x10) >> 3);
        break;
      case 3:
        *(short *)(iVar6 + 0x16) =
             *(short *)(iVar6 + 0x16) -
             (short)((int)*(short *)(iVar6 + 0x12) + *(short *)(iVar6 + 0xe) * 2 >> 3);
        break;
      case 4:
        *(short *)(iVar6 + 0x16) =
             *(short *)(iVar6 + 0x16) + (short)(0x1e0 - *(short *)(iVar6 + 0x12) >> 3);
        break;
      case 5:
        *(undefined4 *)(iVar6 + 0x18) = 1;
        *(short *)(iVar6 + 0x14) = *(short *)(iVar6 + 0x14) - (*(short *)(iVar6 + 0xc) >> 2);
        *(short *)(iVar6 + 0x16) = *(short *)(iVar6 + 0x16) - (*(short *)(iVar6 + 0xe) >> 2);
      }
    }
    else {
      *(undefined2 *)(iVar6 + 0x14) = *(undefined2 *)(iVar6 + 0x10);
      *(undefined2 *)(iVar6 + 0x16) = *(undefined2 *)(iVar6 + 0x12);
    }
  }
  for (iVar6 = *(int *)(DAT_004d7cd4 + 8); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x46)) {
    if (*(int *)(iVar6 + 0x18) == 2) {
      switch(*(undefined4 *)(iVar6 + 0x20)) {
      case 0:
        sVar1 = *(short *)(iVar6 + 0x14);
        if (((SBORROW4((int)sVar1,-(int)*(short *)(iVar6 + 0xc)) ==
              (int)sVar1 + (int)*(short *)(iVar6 + 0xc) < 0) && (sVar1 < 0x280)) &&
           (sVar1 = *(short *)(iVar6 + 0x16),
           SBORROW4((int)sVar1,-(int)*(short *)(iVar6 + 0xe)) ==
           (int)sVar1 + (int)*(short *)(iVar6 + 0xe) < 0)) goto joined_r0x0042aa8f;
LAB_0042aad7:
        sVar1 = *(short *)(iVar6 + 10);
        uVar7 = *(undefined2 *)(iVar6 + 8);
LAB_0042aae1:
        iVar6 = FUN_0042a6c0(uVar7,(int)sVar1);
        break;
      case 1:
        if (SBORROW4((int)*(short *)(iVar6 + 0x14),-(int)*(short *)(iVar6 + 0xc)) !=
            (int)*(short *)(iVar6 + 0x14) + (int)*(short *)(iVar6 + 0xc) < 0) {
          sVar1 = *(short *)(iVar6 + 10);
          uVar7 = *(undefined2 *)(iVar6 + 8);
          goto LAB_0042aae1;
        }
        break;
      case 2:
      case 6:
        if (0x27f < *(short *)(iVar6 + 0x14)) goto LAB_0042aad7;
        break;
      case 3:
        if (SBORROW4((int)*(short *)(iVar6 + 0x16),-(int)*(short *)(iVar6 + 0xe)) !=
            (int)*(short *)(iVar6 + 0x16) + (int)*(short *)(iVar6 + 0xe) < 0) goto LAB_0042aad7;
        break;
      case 4:
        sVar1 = *(short *)(iVar6 + 0x16);
joined_r0x0042aa8f:
        if (0x1df < sVar1) goto LAB_0042aad7;
        break;
      case 5:
        if ((*(short *)(iVar6 + 0x16) < *(short *)(iVar6 + 0x12)) ||
           (*(short *)(iVar6 + 0x14) < *(short *)(iVar6 + 0x10))) goto LAB_0042aad7;
      }
    }
    if (iVar6 == 0) break;
  }
  for (puVar5 = *(undefined4 **)(DAT_004d7cd4 + 8); puVar5 != (undefined4 *)0x0;
      puVar5 = *(undefined4 **)((int)puVar5 + 0x46)) {
    if (*(int *)((int)puVar5 + 0x42) == 0) {
      if (puVar5[8] == 0) {
        sVar1 = *(short *)((int)puVar5 + 0xe);
        uVar8 = *puVar5;
        sVar2 = *(short *)(puVar5 + 3);
        sVar3 = *(short *)((int)puVar5 + 0x12);
        sVar4 = *(short *)(puVar5 + 4);
      }
      else {
        sVar1 = *(short *)((int)puVar5 + 0xe);
        uVar8 = *puVar5;
        sVar2 = *(short *)(puVar5 + 3);
        sVar3 = *(short *)((int)puVar5 + 0x16);
        sVar4 = *(short *)(puVar5 + 5);
      }
      FUN_0043dcb0((int)sVar4,(int)sVar3,(int)sVar2,(int)sVar1,uVar8);
    }
  }
  FUN_0042a490();
  return 0;
}



int ** FUN_0042abb0(int *param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4)

{
  void *_Dst;
  int **ppiVar1;
  undefined4 local_70;
  undefined4 local_6c;
  undefined2 local_68;
  undefined2 local_64;
  undefined4 uStackY_1c;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  if (param_1 == (int *)0x0) {
    return (int **)0x0;
  }
  _Size = 0x4a;
  _Val = 0;
  uStackY_1c = 0x42abd9;
  _Dst = (void *)AllocateMemoryWithCallback();
  uStackY_1c = 0x42abe2;
  ppiVar1 = (int **)_memset(_Dst,_Val,_Size);
  if (ppiVar1 == (int **)0x0) {
    return (int **)0x0;
  }
  *ppiVar1 = param_1;
  uStackY_1c = 0x42ac00;
  _memset(&local_70,0,0x6c);
  local_70 = 0x6c;
  local_6c = 6;
  (**(code **)(*param_1 + 0x58))();
  *(undefined2 *)(ppiVar1 + 3) = local_64;
  *(undefined2 *)((int)ppiVar1 + 0x12) = param_3;
  *(undefined2 *)((int)ppiVar1 + 0xe) = local_68;
  *(undefined2 *)(ppiVar1 + 4) = param_2;
  *(undefined2 *)((int)ppiVar1 + 0x3a) = 0xffff;
  *(undefined2 *)((int)ppiVar1 + 0x26) = 0xffff;
  *(undefined2 *)(ppiVar1 + 9) = 0xffff;
  *(undefined *)(ppiVar1 + 10) = 0xff;
  *(undefined *)((int)ppiVar1 + 0x39) = 0xff;
  *(undefined2 *)(ppiVar1 + 2) = param_4;
  *(undefined *)((int)ppiVar1 + 0x29) = 0;
  return ppiVar1;
}



void FUN_0042ac70(void)

{
  int iVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  
  if ((DAT_005df2c8 != 0) && (DAT_004d7cd4 != 0)) {
    cVar2 = *(char *)(DAT_005df2c8 + 0xf0);
    if (cVar2 == '\0') {
      cVar2 = '\x01';
      *(undefined *)(DAT_005df2c8 + 0xf0) = 1;
    }
    FUN_0042a470();
    iVar3 = 0;
    iVar1 = *(int *)(DAT_004d7cd4 + 8);
    if (0 < *(int *)(DAT_004d7cd4 + 4)) {
      do {
        if ((int)*(short *)(iVar1 + 0x40) == cVar2 + 1) {
          switch(DAT_004cb05c) {
          case 1:
            DAT_005dfe2c = (int)*(short *)(iVar1 + 0x3a);
            break;
          case 2:
            DAT_005dfdc8 = (int)*(short *)(iVar1 + 0x3a);
            break;
          case 3:
          case 9:
            DAT_005df31c = (int)*(short *)(iVar1 + 0x3a);
            break;
          case 4:
            DAT_005df28c = (int)*(short *)(iVar1 + 0x3a);
            break;
          default:
            goto switchD_0042acdf_caseD_5;
          case 0xc:
            DAT_004d80d0 = (int)*(short *)(iVar1 + 0x3a);
            break;
          case 0x11:
            DAT_005df314 = (int)*(short *)(iVar1 + 0x3a);
            break;
          case 0x14:
            DAT_005dfe30 = (int)*(short *)(iVar1 + 0x3a);
          }
          *(char *)(DAT_005df2c8 + 0xf0) = *(char *)(DAT_005df2c8 + 0xf0) + '\x01';
        }
switchD_0042acdf_caseD_5:
        iVar1 = *(int *)(iVar1 + 0x46);
        iVar3 = iVar3 + 1;
      } while (iVar3 < *(int *)(DAT_004d7cd4 + 4));
    }
    iVar1 = DAT_005df2c8;
    if (*(char *)(DAT_005df2c8 + 0xf0) == cVar2) {
      iVar3 = *(int *)(DAT_004d7cd4 + 8);
      cVar2 = '\0';
      iVar4 = 0;
      if (0 < *(int *)(DAT_004d7cd4 + 4)) {
        do {
          if (*(short *)(iVar3 + 0x40) == 1) {
            switch(DAT_004cb05c) {
            case 1:
              DAT_005dfe2c = (int)*(short *)(iVar3 + 0x3a);
              break;
            case 2:
              DAT_005dfdc8 = (int)*(short *)(iVar3 + 0x3a);
              break;
            case 3:
            case 9:
              DAT_005df31c = (int)*(short *)(iVar3 + 0x3a);
              break;
            case 4:
              DAT_005df28c = (int)*(short *)(iVar3 + 0x3a);
              break;
            default:
              goto switchD_0042ad9b_caseD_5;
            case 0xc:
              DAT_004d80d0 = (int)*(short *)(iVar3 + 0x3a);
              break;
            case 0x11:
              DAT_005df314 = (int)*(short *)(iVar3 + 0x3a);
              break;
            case 0x14:
              DAT_005dfe30 = (int)*(short *)(iVar3 + 0x3a);
            }
            *(char *)(iVar1 + 0xf0) = *(char *)(iVar1 + 0xf0) + '\x01';
            iVar1 = DAT_005df2c8;
          }
switchD_0042ad9b_caseD_5:
          iVar3 = *(int *)(iVar3 + 0x46);
          iVar4 = iVar4 + 1;
        } while (iVar4 < *(int *)(DAT_004d7cd4 + 4));
      }
    }
    if (cVar2 == '\0') {
      *(undefined *)(iVar1 + 0xf0) = 0;
    }
    FUN_0042a490();
  }
  return;
}



void FUN_0042aea0(int param_1)

{
  char cVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  short *psVar6;
  bool bVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  
  AdjustStackForLargeAllocations();
  iVar11 = 0;
  bVar7 = false;
  if (((((DAT_00598944 == 0) && (psVar6 = *(short **)(DAT_004d80f0 + 8), *psVar6 != -1)) &&
       (psVar6[4] != -1)) && ((psVar6[8] != -1 && (psVar6[0xc] != -1)))) && (psVar6[0x10] != -1)) {
    bVar7 = true;
  }
  FUN_0042a470();
  iVar10 = *(int *)(DAT_004d7cd4 + 8);
  iVar9 = DAT_005dfdc8;
  if (0 < *(int *)(DAT_004d7cd4 + 4)) {
    do {
      if (DAT_004d80e4 != 0) {
        if (DAT_004cb05c == 2) {
          if (((iVar9 == 4) || (iVar9 == 7)) ||
             ((iVar9 == 10 || ((iVar9 == 0xd || (iVar9 == 0x10)))))) {
            if (((*(short *)(iVar10 + 0x26) != 0x6d) || (bVar7)) &&
               (*(short *)(iVar10 + 0x26) != 0x74)) goto LAB_0042afe8;
            iVar8 = *(int *)(iVar10 + 4);
            goto joined_r0x0042af62;
          }
          if ((((iVar9 != 0x13) && (iVar9 != 0x16)) && (iVar9 != 0x19)) &&
             ((iVar9 != 0x1c && (iVar9 != 0x1f)))) goto LAB_0042afb6;
          if (((*(short *)(iVar10 + 0x26) != 0x6e) && (*(short *)(iVar10 + 0x26) != 0x74)) ||
             (iVar8 = *(int *)(iVar10 + 4), iVar8 == 0)) goto LAB_0042afe8;
          sVar2 = *(short *)(iVar10 + 0xe);
          sVar4 = *(short *)(iVar10 + 0x16);
          sVar3 = *(short *)(iVar10 + 0xc);
          sVar5 = *(short *)(iVar10 + 0x14);
LAB_0042afda:
          FUN_0043dcb0((int)sVar5,(int)sVar4,(int)sVar3,(int)sVar2,iVar8);
          iVar9 = DAT_005dfdc8;
        }
        else {
LAB_0042afb6:
          if (*(short *)(iVar10 + 0x3a) == param_1) {
            iVar8 = *(int *)(iVar10 + 4);
joined_r0x0042af62:
            if (iVar8 != 0) {
              sVar2 = *(short *)(iVar10 + 0xe);
              sVar3 = *(short *)(iVar10 + 0xc);
              sVar4 = *(short *)(iVar10 + 0x16);
              sVar5 = *(short *)(iVar10 + 0x14);
              goto LAB_0042afda;
            }
          }
        }
      }
LAB_0042afe8:
      sVar2 = *(short *)(iVar10 + 0x26);
      if (sVar2 != -1) {
        cVar1 = *(char *)(iVar10 + 0x28);
        if (cVar1 == '\0') {
          uVar13 = 0;
          iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
          iVar8 = *(short *)(iVar10 + 0x14) + 0xf;
LAB_0042b073:
          uVar12 = (&DAT_005ded00)[sVar2];
        }
        else {
          if (cVar1 != '\x01') {
            if (cVar1 != '\x02') goto LAB_0042b08c;
            uVar13 = 2;
            iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
            iVar8 = (int)*(short *)(iVar10 + 0x14) + ((int)*(short *)(iVar10 + 0xc) >> 1);
            goto LAB_0042b073;
          }
          uVar13 = 1;
          iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
          iVar8 = *(short *)(iVar10 + 0xc) + -0xf + (int)*(short *)(iVar10 + 0x14);
          uVar12 = (&DAT_005ded00)[sVar2];
        }
        FUN_00428d60(uVar12,iVar8,iVar9,0,uVar13);
        iVar9 = DAT_005dfdc8;
      }
LAB_0042b08c:
      if (*(char *)(iVar10 + 0x29) != '\0') {
        cVar1 = *(char *)(iVar10 + 0x39);
        if (cVar1 == '\0') {
          uVar13 = 0;
          iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
          iVar8 = *(short *)(iVar10 + 0x14) + 0xf;
        }
        else if (cVar1 == '\x01') {
          uVar13 = 1;
          iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
          iVar8 = *(short *)(iVar10 + 0xc) + -0xf + (int)*(short *)(iVar10 + 0x14);
        }
        else {
          if (cVar1 != '\x02') goto LAB_0042b112;
          uVar13 = 2;
          iVar9 = *(short *)(iVar10 + 0x16) + -8 + ((int)*(short *)(iVar10 + 0xe) >> 1);
          iVar8 = (int)*(short *)(iVar10 + 0x14) + ((int)*(short *)(iVar10 + 0xc) >> 1);
        }
        FUN_00428d60(iVar10 + 0x29,iVar8,iVar9,0,uVar13);
        iVar9 = DAT_005dfdc8;
      }
LAB_0042b112:
      iVar10 = *(int *)(iVar10 + 0x46);
      iVar11 = iVar11 + 1;
    } while (iVar11 < *(int *)(DAT_004d7cd4 + 4));
  }
  FUN_0042a490();
  return;
}



void FUN_0042b130(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  FUN_0042a470();
  if ((DAT_004d7cd4 != 0) && (0 < *(int *)(DAT_004d7cd4 + 4))) {
    iVar4 = 0;
    iVar2 = DAT_004d7cd4;
    iVar3 = *(int *)(DAT_004d7cd4 + 8);
    if (0 < *(int *)(DAT_004d7cd4 + 4)) {
      do {
        iVar1 = *(int *)(iVar3 + 0x46);
        if (iVar3 != 0) {
          FreeMemory(iVar3);
          iVar2 = DAT_004d7cd4;
        }
        iVar4 = iVar4 + 1;
        iVar3 = iVar1;
      } while (iVar4 < *(int *)(iVar2 + 4));
    }
    *(undefined4 *)(iVar2 + 4) = 0;
    *(undefined4 *)(DAT_004d7cd4 + 8) = 0;
  }
  FUN_0042a490();
  return;
}



void FUN_0042b190(void)

{
  HANDLE pvVar1;
  HANDLE *ppvVar2;
  HANDLE pvVar3;
  int iVar4;
  
  FUN_0042a470();
  if ((DAT_004d7cd4 != (HANDLE *)0x0) && (0 < (int)DAT_004d7cd4[1])) {
    iVar4 = 0;
    ppvVar2 = DAT_004d7cd4;
    pvVar3 = DAT_004d7cd4[2];
    if (0 < (int)DAT_004d7cd4[1]) {
      do {
        pvVar1 = *(HANDLE *)((int)pvVar3 + 0x46);
        if (pvVar3 != (HANDLE)0x0) {
          FreeMemory(pvVar3);
          ppvVar2 = DAT_004d7cd4;
        }
        iVar4 = iVar4 + 1;
        pvVar3 = pvVar1;
      } while (iVar4 < (int)ppvVar2[1]);
    }
  }
  FUN_0042a490();
  CloseHandle(*DAT_004d7cd4);
  if (DAT_004d7cd4 != (HANDLE *)0x0) {
    FreeMemory(DAT_004d7cd4);
    DAT_004d7cd4 = (HANDLE *)0x0;
  }
  return;
}



void FUN_0042b210(void)

{
  int iVar1;
  int iVar2;
  
  FUN_0042a470();
  if (0 < *(int *)(DAT_004d7cd4 + 4)) {
    iVar2 = *(int *)(DAT_004d7cd4 + 8);
    while (iVar2 != 0) {
      iVar1 = *(int *)(iVar2 + 0x46);
      if (iVar2 != 0) {
        FreeMemory(iVar2);
      }
      *(int *)(DAT_004d7cd4 + 4) = *(int *)(DAT_004d7cd4 + 4) + -1;
      iVar2 = iVar1;
    }
    *(undefined4 *)(DAT_004d7cd4 + 4) = 0;
    *(undefined4 *)(DAT_004d7cd4 + 8) = 0;
  }
  FUN_0042a490();
  return;
}



undefined4 FUN_0042b270(void)

{
  undefined4 uVar1;
  int iVar2;
  
  FUN_0042a770();
  FUN_0043f980();
  FUN_00492720(1);
  FUN_00492720(3);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 8),0xc0,0x81,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x26) = 0x73;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 0;
    uVar1 = *(undefined4 *)(DAT_005df290 + 0x58);
    *(undefined2 *)(iVar2 + 10) = 5;
    *(undefined4 *)(iVar2 + 4) = uVar1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 8),0xc0,0xbb,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x26) = 6;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    uVar1 = *(undefined4 *)(DAT_005df290 + 0x58);
    *(undefined2 *)(iVar2 + 10) = 6;
    *(undefined4 *)(iVar2 + 4) = uVar1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 8),0xc0,0xf5,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x26) = 5;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 0x40) = 3;
    *(undefined2 *)(iVar2 + 0x3a) = 4;
    uVar1 = *(undefined4 *)(DAT_005df290 + 0x58);
    *(undefined2 *)(iVar2 + 10) = 7;
    *(undefined4 *)(iVar2 + 4) = uVar1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 8),0xc0,0x12f,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x26) = 4;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 0x40) = 4;
    *(undefined2 *)(iVar2 + 0x3a) = 7;
    uVar1 = *(undefined4 *)(DAT_005df290 + 0x58);
    *(undefined2 *)(iVar2 + 10) = 8;
    *(undefined4 *)(iVar2 + 4) = uVar1;
  }
  FUN_0042a520(iVar2);
  FUN_0042a630();
  return 1;
}



void FUN_0042b400(void)

{
  int iVar1;
  
  FUN_0042a470();
  iVar1 = 5;
  do {
    FUN_0042a800(0x36,(int)(short)iVar1);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 9);
  FUN_0042a490();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0042b430(void)

{
  if (DAT_005df2d0 == 1) {
    FUN_0042b270();
    _DAT_004d7ce0 = 0;
    DAT_005df2d0 = 0;
  }
  FUN_0042aea0(DAT_005dfe30);
  return;
}



void FUN_0042b460(void)

{
  if (DAT_004d7cdc == 0) {
    switch(DAT_005dfe30) {
    case 1:
    case 3:
    case 5:
    case 6:
      DAT_004d7cdc = 3;
    }
  }
  return;
}



void FUN_0042b4a0(void)

{
  if (DAT_004d8100 != 0) {
    DAT_005dfe30 = 0;
    DAT_004d8100 = 0;
  }
  if ((0 < DAT_004d7cdc) && (DAT_004d7cdc = DAT_004d7cdc + -1, DAT_004d7cdc == 0)) {
    switch(DAT_005dfe30) {
    case 1:
      FUN_00475bf0(&DAT_005e4c1c,0,4,0);
      FUN_0042a450(1);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe30 = 0;
      FUN_0042b400();
      return;
    case 3:
      FUN_00475bf0(&DAT_005e4c43,0,4,0);
      FUN_0042a450(0x11);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe30 = 2;
      FUN_0042b400();
      break;
    case 5:
      FUN_00475bf0(&DAT_005e4c1c,0,4,0);
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450(0x12);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe30 = 4;
      FUN_0042b400();
      return;
    case 6:
      FUN_00475bf0(&DAT_005e4cdf,0,4,0);
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450(0xe);
      DAT_005dfe30 = 7;
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_004d7bb8 = 0;
      DAT_004d7bbc = 0;
      FUN_0042b400();
      return;
    }
  }
  return;
}



void FUN_0042b620(int param_1)

{
  if (param_1 != -1) {
    DAT_004ca030 = param_1;
  }
  if (DAT_004d7da8 == 0) {
    switch(DAT_005dfe2c) {
    case 1:
    case 3:
    case 5:
    case 7:
    case 9:
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x13:
      DAT_004d7da8 = 1;
    }
  }
  return;
}



undefined4 FUN_0042b6a0(int param_1)

{
  int iVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  bool bVar9;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005df2c8 + 0xcc);
  bVar9 = false;
  if (DAT_004d7da4 != 0) {
    return 1;
  }
  switch(param_1) {
  case 0:
    iVar7 = 1;
    if (0 < iVar1) {
      iVar6 = 0x222;
      do {
        if (iVar7 != DAT_004ca030) {
          iVar3 = *(int *)(DAT_005df2c8 + 0x10);
          if ((*(float *)(iVar6 + 0x200 + iVar3) < *(float *)(iVar3 + 0x200 + DAT_004ca030 * 0x222))
             && (*(float *)(iVar3 + DAT_004ca030 * 0x222 + 0x204) ==
                 *(float *)(iVar6 + 0x204 + iVar3))) {
            DAT_004ca030 = iVar7;
            DAT_004d7da4 = 5;
            DAT_004ca02c = 0;
            DAT_004d7da8 = 0x19;
            DAT_005dfe2c = 0xe;
            return 1;
          }
        }
        iVar7 = iVar7 + 1;
        iVar6 = iVar6 + 0x222;
        if (iVar1 < iVar7) {
          return 1;
        }
      } while( true );
    }
    break;
  case 1:
    if (iVar1 < DAT_004ca030) {
      DAT_005dfe2c = 8;
      return 1;
    }
    iVar7 = 1;
    if (0 < iVar1) {
      iVar6 = 0x222;
      do {
        if (iVar7 != DAT_004ca030) {
          iVar3 = *(int *)(DAT_005df2c8 + 0x10);
          if ((*(float *)(iVar3 + 0x200 + DAT_004ca030 * 0x222) < *(float *)(iVar6 + 0x200 + iVar3))
             && (*(float *)(iVar3 + DAT_004ca030 * 0x222 + 0x204) ==
                 *(float *)(iVar6 + 0x204 + iVar3))) {
            DAT_004d7da4 = 5;
            bVar9 = true;
            DAT_004ca02c = 1;
            DAT_004d7da8 = 0x19;
            DAT_005dfe2c = 0x10;
            DAT_004ca030 = iVar7;
            break;
          }
        }
        iVar7 = iVar7 + 1;
        iVar6 = iVar6 + 0x222;
      } while (iVar7 <= iVar1);
    }
    if (bVar9) {
      return 1;
    }
    goto LAB_0042baaa;
  case 2:
    param_1 = 1;
    if (0 < iVar1) {
      iVar6 = 0x222;
      iVar7 = DAT_004ca030;
      do {
        if (param_1 != iVar7) {
          __ftol(iVar6);
          uVar5 = __ftol();
          iVar3 = FUN_004aed00(uVar5);
          iVar7 = DAT_004ca030;
          if (iVar3 < 0x349) {
            iVar3 = *(int *)(DAT_005df2c8 + 0x10);
            iVar8 = 0x42b77d;
            iVar4 = __ftol(iVar6);
            fVar2 = *(float *)(iVar3 + 0x204 + iVar8 * 2) - (float)iVar4;
            if ((fVar2 <= 360.0) && (0.0 < fVar2)) {
              DAT_004d7da4 = 5;
              DAT_004ca030 = param_1;
              bVar9 = true;
              DAT_004ca02c = 2;
              DAT_004d7da8 = 0x19;
              DAT_005dfe2c = 10;
              break;
            }
          }
        }
        param_1 = param_1 + 1;
        iVar6 = iVar6 + 0x222;
      } while (param_1 <= iVar1);
    }
    if (bVar9) {
      return 1;
    }
LAB_0042baaa:
    DAT_005dfe2c = 0;
    break;
  case 3:
    param_1 = 1;
    iVar7 = DAT_004ca030;
    if (0 < iVar1) {
      do {
        if (param_1 != iVar7) {
          __ftol();
          uVar5 = __ftol();
          iVar6 = FUN_004aed00(uVar5);
          iVar7 = DAT_004ca030;
          if (iVar6 < 0x349) {
            iVar7 = *(int *)(DAT_005df2c8 + 0x10);
            iVar6 = __ftol();
            fVar2 = (float)iVar6 - *(float *)(iVar7 + 0x204 + DAT_004ca030 * 0x222);
            iVar7 = DAT_004ca030;
            if ((fVar2 <= 360.0) && (0.0 < fVar2)) {
              DAT_004d7da4 = 5;
              DAT_004ca030 = param_1;
              DAT_004ca02c = 3;
              DAT_004d7da8 = 0x19;
              DAT_005dfe2c = 0xc;
              return 1;
            }
          }
        }
        param_1 = param_1 + 1;
        if (iVar1 < param_1) {
          return 1;
        }
      } while( true );
    }
  }
  return 1;
}



void FUN_0042bad0(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (DAT_004d8100 != 0) {
    DAT_005dfe2c = 2;
    *(undefined *)(DAT_005df2c8 + 0xf0) = 4;
    iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + DAT_004ca030 * 0x222);
    while ((iVar1 != 0 && (iVar2 < *(int *)(DAT_005df2c8 + 0xcc)))) {
      iVar2 = iVar2 + 1;
      DAT_004ca030 = DAT_004ca030 + 1;
      if (*(int *)(DAT_005df2c8 + 0xcc) < DAT_004ca030) {
        DAT_004ca030 = 1;
      }
      iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + DAT_004ca030 * 0x222);
    }
    DAT_004d7da8 = 0;
    FID_conflict___mbscpy
              (&DAT_005d6540,(char *)(*(int *)(DAT_005df2c8 + 0x10) + DAT_004ca030 * 0x222));
    iVar2 = DAT_005df2c8;
    iVar1 = __ftol();
    *(int *)(iVar2 + 0xe0) = iVar1 + -0x100;
    iVar2 = DAT_005df2c8;
    iVar1 = __ftol();
    *(int *)(iVar2 + 0xe4) = iVar1 + -0xb0;
    DAT_004d8100 = 0;
  }
  FUN_0042ca60();
  if (DAT_004d7da4 != 0) {
    DAT_004d7da4 = DAT_004d7da4 + -1;
  }
  if ((0 < DAT_004d7da8) && (DAT_004d7da8 = DAT_004d7da8 + -1, DAT_004d7da8 == 0)) {
    if (DAT_004ca02c != -1) {
      if (((((DAT_005dfe2c != 0) && (DAT_005dfe2c != 1)) && (DAT_005dfe2c != 4)) &&
          ((DAT_005dfe2c != 5 && (DAT_005dfe2c != 6)))) &&
         ((DAT_005dfe2c != 7 && ((DAT_005dfe2c != 8 && (DAT_005dfe2c != 9)))))) {
        DAT_005dfe2c = 2;
      }
      DAT_004ca02c = -1;
    }
    switch(DAT_005dfe2c) {
    case 1:
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450(0x14);
      DAT_005dfe2c = 0;
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      FUN_0043db20(0);
      FUN_0042c010();
      return;
    case 3:
    case 0x13:
      DAT_005dfe2c = 2;
      if (*(int *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + DAT_004ca030 * 0x222) != 0) {
        FUN_00475da0(1);
        return;
      }
      FUN_00475da0(4);
      FID_conflict___mbscpy
                (&DAT_005d6540,(char *)(*(int *)(DAT_005df2c8 + 0x10) + DAT_004ca030 * 0x222));
      FUN_0042a450(2);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      FUN_0042c010();
      return;
    case 5:
      FUN_0042a450(0x12);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe2c = 6;
      FUN_0042c010();
      return;
    case 7:
      FUN_0042a450(0x11);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe2c = 6;
      FUN_0042c010();
      return;
    case 9:
      FUN_0042a450(4);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_005dfe2c = 8;
      FUN_0042c010();
      return;
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
      DAT_005dfe2c = 2;
    }
  }
  return;
}



undefined4 FUN_0042be10(void)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  
  FUN_0042a770();
  iVar4 = 1;
  if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
    iVar3 = 0x222;
    do {
      iVar1 = *(int *)(DAT_005df2c8 + 0x10) + iVar3;
      if (*(int *)(iVar1 + 0x20e) == 0) {
        uVar2 = *(undefined4 *)(iVar1 + 0x212);
      }
      else {
        uVar2 = *(undefined4 *)(iVar1 + 0x216);
      }
      iVar1 = FUN_0042abb0(uVar2,0,0,0x4b);
      if (iVar1 == 0) {
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x21a + iVar3) = 0;
      }
      else {
        *(undefined4 *)(iVar1 + 0x18) = 3;
        *(short *)(iVar1 + 10) = (short)iVar4;
        *(undefined2 *)(iVar1 + 0x40) = 5;
        *(undefined2 *)(iVar1 + 0x3a) = 2;
        *(undefined2 *)(iVar1 + 0x24) = 0xc3;
        *(int *)(*(int *)(DAT_005df2c8 + 0x10) + 0x21a + iVar3) = iVar1;
      }
      FUN_0042a520(iVar1);
      iVar4 = iVar4 + 1;
      iVar3 = iVar3 + 0x222;
    } while (iVar4 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  iVar4 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15,0x34);
  if (iVar4 != 0) {
    *(undefined4 *)(iVar4 + 0x20) = 2;
    *(undefined2 *)(iVar4 + 0x24) = 0x16;
    *(undefined2 *)(iVar4 + 0x40) = 1;
    *(undefined2 *)(iVar4 + 0x3a) = 0;
    uVar2 = DAT_005df290[0x15];
    *(undefined2 *)(iVar4 + 0x26) = 0x16;
    *(undefined4 *)(iVar4 + 4) = uVar2;
    *(undefined *)(iVar4 + 0x28) = 2;
    *(undefined2 *)(iVar4 + 10) = 0;
  }
  FUN_0042a520(iVar4);
  iVar4 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a,0x34);
  if (iVar4 != 0) {
    *(undefined4 *)(iVar4 + 0x20) = 2;
    *(undefined2 *)(iVar4 + 0x24) = 0x17;
    *(undefined2 *)(iVar4 + 0x40) = 2;
    *(undefined2 *)(iVar4 + 0x3a) = 0x12;
    uVar2 = DAT_005df290[0x15];
    *(undefined2 *)(iVar4 + 0x26) = 0x17;
    *(undefined4 *)(iVar4 + 4) = uVar2;
    *(undefined *)(iVar4 + 0x28) = 2;
    *(undefined2 *)(iVar4 + 10) = 1;
  }
  FUN_0042a520(iVar4);
  iVar4 = FUN_0042abb0(DAT_005df290[2],0x32,0x15,0x36);
  if (iVar4 != 0) {
    *(undefined4 *)(iVar4 + 0x20) = 1;
    *(undefined2 *)(iVar4 + 0x24) = 1;
  }
  FUN_0042a520(iVar4);
  iVar4 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a,0x35);
  if (iVar4 != 0) {
    *(undefined4 *)(iVar4 + 0x20) = 1;
    *(undefined2 *)(iVar4 + 0x24) = 2;
  }
  FUN_0042a520(iVar4);
  iVar4 = FUN_0042abb0(DAT_005df290[0x1c],0x15,0x10e,0x59);
  if (iVar4 != 0) {
    *(undefined4 *)(iVar4 + 0x20) = 1;
    *(undefined2 *)(iVar4 + 0x24) = 9;
  }
  FUN_0042a520(iVar4);
  FUN_0042a630();
  return 1;
}



void FUN_0042c010(void)

{
  int iVar1;
  int iVar2;
  
  FUN_0042a470();
  FUN_0042a770();
  iVar1 = 1;
  if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
    iVar2 = 0x222;
    do {
      iVar1 = iVar1 + 1;
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x21a + iVar2) = 0;
      iVar2 = iVar2 + 0x222;
    } while (iVar1 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  FUN_0042a490();
  return;
}



undefined4 FUN_0042c060(void)

{
  FUN_0042c070();
  return 1;
}



void FUN_0042c070(void)

{
  float fVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df2d0 == 1) {
    FUN_0042be10();
    DAT_004d7db4 = 0;
    DAT_005df2d0 = 0;
  }
  FUN_0042a470();
  FUN_0042a6c0(0x40,0);
  FUN_0042a6c0(0x41,0);
  FUN_0042a6c0(0x42,0);
  FUN_0042a6c0(0x43,0);
  FUN_0042a490();
  FUN_0042c700();
  FUN_0042aea0(DAT_005dfe2c);
  if ((DAT_004ca02c == -1) && (iVar9 = 1, 0 < *(int *)(DAT_005df2c8 + 0xcc))) {
    iVar10 = 0x222;
    do {
      uVar2 = __ftol();
      uVar3 = __ftol(uVar2);
      iVar4 = FUN_004aed00(uVar3);
      iVar6 = DAT_004ca030;
      if (iVar4 < 0x349) {
        iVar4 = *(int *)(DAT_005df2c8 + 0x10);
        iVar8 = 0x42c188;
        iVar5 = __ftol(uVar2);
        fVar1 = *(float *)(iVar4 + 0x204 + iVar8 * 2) - (float)iVar5;
        if ((fVar1 <= 360.0) && (0.0 < fVar1)) {
          iVar6 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 0xb8),0x126,0xa5,0x40);
          if (iVar6 != 0) {
            *(undefined4 *)(iVar6 + 0x18) = 3;
            *(undefined2 *)(iVar6 + 0x24) = 8;
            *(undefined2 *)(iVar6 + 0x3a) = 10;
          }
          FUN_0042a520(iVar6);
          iVar6 = DAT_004ca030;
        }
      }
      iVar6 = iVar6 * 0x111;
      __ftol(iVar6);
      uVar2 = __ftol();
      iVar4 = FUN_004aed00(uVar2);
      if (iVar4 < 0x349) {
        iVar4 = *(int *)(DAT_005df2c8 + 0x10);
        iVar6 = __ftol(iVar6);
        fVar1 = (float)iVar6 - *(float *)(iVar4 + 0x204 + DAT_004ca030 * 0x222);
        if ((fVar1 <= 360.0) && (0.0 < fVar1)) {
          iVar6 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 0xbc),0x126,0x164,0x41);
          if (iVar6 != 0) {
            *(undefined4 *)(iVar6 + 0x18) = 3;
            *(undefined2 *)(iVar6 + 0x24) = 8;
            *(undefined2 *)(iVar6 + 0x3a) = 0xc;
          }
          FUN_0042a520(iVar6);
        }
      }
      iVar6 = *(int *)(DAT_005df2c8 + 0x10);
      if ((*(float *)(iVar10 + 0x200 + iVar6) < *(float *)(iVar6 + 0x200 + DAT_004ca030 * 0x222)) &&
         (*(float *)(iVar6 + DAT_004ca030 * 0x222 + 0x204) == *(float *)(iVar10 + 0x204 + iVar6))) {
        iVar6 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 0xc0),0xcb,0x100,0x42);
        if (iVar6 != 0) {
          *(undefined4 *)(iVar6 + 0x18) = 3;
          *(undefined2 *)(iVar6 + 0x24) = 8;
          *(undefined2 *)(iVar6 + 0x3a) = 0xe;
        }
        FUN_0042a520(iVar6);
      }
      iVar6 = *(int *)(DAT_005df2c8 + 0x10);
      if ((*(float *)(iVar6 + 0x200 + DAT_004ca030 * 0x222) < *(float *)(iVar10 + 0x200 + iVar6)) &&
         (*(float *)(iVar6 + DAT_004ca030 * 0x222 + 0x204) == *(float *)(iVar10 + 0x204 + iVar6))) {
        iVar6 = FUN_0042abb0(*(undefined4 *)(DAT_005df290 + 0xc4),0x18a,0x100,0x43);
        if (iVar6 != 0) {
          *(undefined4 *)(iVar6 + 0x18) = 3;
          *(undefined2 *)(iVar6 + 0x24) = 8;
          *(undefined2 *)(iVar6 + 0x3a) = 0x10;
        }
        FUN_0042a520(iVar6);
      }
      iVar9 = iVar9 + 1;
      iVar10 = iVar10 + 0x222;
    } while (iVar9 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  switch(DAT_005dfe2c) {
  case 2:
  case 0xb:
  case 0xd:
  case 0xf:
  case 0x11:
    if (DAT_004d80e4 == 0) goto switchD_0042c43e_caseD_3;
    switch(DAT_004ca02c) {
    case 0:
      FUN_0043dcb0(0xcb,0x100,0,0,*(undefined4 *)(DAT_005df290 + 0xc0));
      uVar2 = *(undefined4 *)(DAT_005df290 + 0xd0);
      uVar7 = 0x100;
      uVar3 = 0xcb;
      break;
    case 1:
      FUN_0043dcb0(0x18a,0x100,0,0,*(undefined4 *)(DAT_005df290 + 0xc4));
      uVar2 = *(undefined4 *)(DAT_005df290 + 0xd4);
      goto LAB_0042c683;
    case 2:
      FUN_0043dcb0(0x126,0xa5,0,0,*(undefined4 *)(DAT_005df290 + 0xb8));
      uVar2 = *(undefined4 *)(DAT_005df290 + 200);
      uVar7 = 0xa5;
      uVar3 = 0x126;
      break;
    case 3:
      FUN_0043dcb0(0x126,0x164,0,0,*(undefined4 *)(DAT_005df290 + 0xbc));
      uVar2 = *(undefined4 *)(DAT_005df290 + 0xcc);
      uVar7 = 0x164;
      uVar3 = 0x126;
      break;
    default:
      goto switchD_0042c43e_caseD_3;
    }
    break;
  default:
    goto switchD_0042c43e_caseD_3;
  case 10:
    if (DAT_004d80e4 == 0) goto switchD_0042c43e_caseD_3;
    FUN_0043dcb0(0x126,0xa5,0,0,*(undefined4 *)(DAT_005df290 + 0xb8));
    uVar2 = *(undefined4 *)(DAT_005df290 + 200);
    uVar7 = 0xa5;
    uVar3 = 0x126;
    break;
  case 0xc:
    if (DAT_004d80e4 == 0) goto switchD_0042c43e_caseD_3;
    FUN_0043dcb0(0x126,0x164,0,0,*(undefined4 *)(DAT_005df290 + 0xbc));
    uVar2 = *(undefined4 *)(DAT_005df290 + 0xcc);
    uVar7 = 0x164;
    uVar3 = 0x126;
    break;
  case 0xe:
    if (DAT_004d80e4 == 0) goto switchD_0042c43e_caseD_3;
    FUN_0043dcb0(0xcb,0x100,0,0,*(undefined4 *)(DAT_005df290 + 0xc0));
    uVar2 = *(undefined4 *)(DAT_005df290 + 0xd0);
    uVar7 = 0x100;
    uVar3 = 0xcb;
    break;
  case 0x10:
    if (DAT_004d80e4 == 0) goto switchD_0042c43e_caseD_3;
    FUN_0043dcb0(0x18a,0x100,0,0,*(undefined4 *)(DAT_005df290 + 0xc4));
    uVar2 = *(undefined4 *)(DAT_005df290 + 0xd4);
LAB_0042c683:
    uVar7 = 0x100;
    uVar3 = 0x18a;
  }
  FUN_0043dcb0(uVar3,uVar7,0,0,uVar2);
switchD_0042c43e_caseD_3:
  FUN_0043f430();
  FUN_0042c830();
  FUN_0043df50();
  return;
}



void FUN_0042c700(void)

{
  int iVar1;
  int iVar2;
  undefined4 ***local_14;
  
  AdjustStackForLargeAllocations();
  iVar2 = 1;
  if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
    do {
      local_14 = &local_14;
      iVar1 = __ftol(0,0);
      iVar1 = __ftol(iVar1 + 0x165);
      FUN_00417590(*(undefined4 *)(DAT_005df290 + 0x78),iVar1 + 0x5d);
      if ((iVar2 == DAT_004ca030) && ((DAT_005dfe2c == 2 || (DAT_005dfe2c == 3)))) {
        local_14 = &local_14;
        iVar1 = __ftol(0,0);
        iVar1 = __ftol(iVar1 + 0x162);
        FUN_00417590(*(undefined4 *)(DAT_005df290 + 0x74),iVar1 + 0x5a);
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  return;
}



void FUN_0042c830(void)

{
  undefined local_5c [22];
  undefined local_46;
  undefined local_44;
  undefined local_43;
  undefined local_42;
  undefined2 local_3f;
  undefined2 local_3d;
  undefined2 local_3b;
  undefined2 local_39;
  undefined2 local_37;
  undefined2 local_35;
  undefined4 uStackY_30;
  undefined4 uStackY_2c;
  undefined4 *puStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  undefined4 local_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if ((DAT_005dfe2c != DAT_004d7db4) || (DAT_004d7db8 != DAT_004ca030)) {
    if (DAT_005dfe2c == 3) {
      DAT_004d7db8 = DAT_004ca030;
      return;
    }
    if ((((DAT_005dfe2c != 1) && (DAT_005dfe2c != 7)) && (DAT_005dfe2c != 9)) && (DAT_004d8260 == 0)
       ) {
      FUN_00492720();
      FUN_00492720();
      uStackY_18 = 0x42c8b3;
      _memset(local_5c,0,0x3d);
      local_46 = 0xd;
      local_44 = 0;
      local_43 = 0;
      local_42 = 3;
      local_3f = 0x3f;
      local_3d = 0x5b;
      local_3b = 0xa5;
      local_39 = 0xe;
      local_37 = 0;
      local_35 = 0;
      if (DAT_004d7db8 == DAT_004ca030) {
        switch(DAT_005dfe2c) {
        case 0:
          puStackY_28 = DAT_005ded10;
          break;
        default:
          goto switchD_0042c94e_caseD_1;
        case 2:
          FID_conflict___mbscpy
                    ((char *)&local_1c,
                     (char *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + DAT_004ca030 * 0x222));
          ConvertString();
          puStackY_28 = &local_1c;
          break;
        case 4:
          puStackY_28 = DAT_005ded14;
          break;
        case 6:
          puStackY_28 = DAT_005ded18;
          break;
        case 8:
          puStackY_28 = DAT_005ded1c;
        }
      }
      else {
        FID_conflict___mbscpy
                  ((char *)&local_1c,
                   (char *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + DAT_004ca030 * 0x222));
        ConvertString();
        puStackY_28 = &local_1c;
      }
      uStackY_18 = 1;
      local_1c = 5;
      uStackY_20 = 600;
      uStackY_24 = 0;
      uStackY_2c = 1;
      uStackY_30 = 0x42ca06;
      FUN_00492100();
    }
  }
switchD_0042c94e_caseD_1:
  if (((DAT_005dfe2c != 3) && (DAT_005dfe2c != 1)) && ((DAT_005dfe2c != 7 && (DAT_005dfe2c != 9))))
  {
    DAT_004d7db4 = DAT_005dfe2c;
  }
  DAT_004d7db8 = DAT_004ca030;
  return;
}



void FUN_0042ca60(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int unaff_EDI;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  iVar6 = DAT_005df2c8;
  bVar1 = false;
  iVar7 = *(int *)(DAT_005df2c8 + 0xe4);
  iVar5 = *(int *)(DAT_005df2c8 + 0xe0);
  iVar2 = __ftol();
  iVar2 = iVar2 + -0x100;
  iVar3 = __ftol();
  iVar3 = iVar3 + -0xda;
  if (iVar5 != iVar2) {
    iVar4 = iVar2 - iVar5;
    iVar3 = __ftol();
    *(int *)(iVar6 + 0xe0) = iVar5 - iVar3;
    iVar3 = iVar4;
    iVar5 = FUN_004aed00();
    iVar6 = DAT_005df2c8;
    if (iVar5 < 5) {
      if (iVar4 < 1) {
        if (iVar4 < 0) {
          iVar5 = *(int *)(DAT_005df2c8 + 0xe0) + -1;
          goto LAB_0042cb23;
        }
      }
      else {
        iVar5 = *(int *)(DAT_005df2c8 + 0xe0) + 1;
LAB_0042cb23:
        *(int *)(DAT_005df2c8 + 0xe0) = iVar5;
      }
      bVar1 = true;
      iVar6 = DAT_005df2c8;
    }
  }
  if (iVar7 == iVar3) goto LAB_0042cba7;
  iVar7 = iVar3 - iVar7;
  iVar5 = __ftol();
  *(int *)(iVar6 + 0xe4) = *(int *)(iVar6 + 0xe4) + iVar5;
  iVar3 = iVar7;
  iVar5 = FUN_004aed00();
  iVar6 = DAT_005df2c8;
  if (4 < iVar5) goto LAB_0042cba7;
  if (iVar7 < 1) {
    if (iVar7 < 0) {
      iVar7 = *(int *)(DAT_005df2c8 + 0xe4) + -1;
      goto LAB_0042cb91;
    }
  }
  else {
    iVar7 = *(int *)(DAT_005df2c8 + 0xe4) + 1;
LAB_0042cb91:
    *(int *)(DAT_005df2c8 + 0xe4) = iVar7;
  }
  unaff_EDI = 1;
  iVar6 = DAT_005df2c8;
LAB_0042cba7:
  if (((bVar1) || (unaff_EDI != 0)) &&
     ((*(int *)(iVar6 + 0xe0) == iVar2 || (*(int *)(iVar6 + 0xe4) == iVar3)))) {
    FUN_00475d60(&DAT_005e4b80,0,4,0);
  }
  return;
}



void FUN_0042cbe0(void)

{
  if (DAT_005e45d0 == 0) {
    if (DAT_004ca030 < 0x14) {
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x430 + DAT_004ca030 * 0x222) = 0;
      *DAT_004d80f0 = *DAT_004d80f0 + 500;
      *(int *)(DAT_004d80cc + 0x10) = *(int *)(DAT_004d80cc + 0x10) + 500;
    }
    *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + DAT_004ca030 * 0x222) = 1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0042cc60(void)

{
  HANDLE pvVar1;
  char *pcVar2;
  size_t sVar3;
  void *pvVar4;
  char *pcVar5;
  int iVar6;
  int iVar7;
  int unaff_ESI;
  char *pcVar8;
  char *_Dest;
  BOOL _Val;
  undefined local_768 [6];
  float local_762;
  float local_75e;
  undefined4 local_75a;
  char acStackY_755 [1280];
  char local_255;
  char local_250 [300];
  char local_124 [256];
  undefined4 uStackY_24;
  char *pcStackY_20;
  
  AdjustStackForLargeAllocations();
  _Val = 0;
  iVar6 = 0;
  FID_conflict___mbscpy(local_250,&DAT_005d5fe0);
  FID_conflict__strcat(local_250,&DAT_004ca034);
  pvVar1 = FindFirstFileA(local_250,(LPWIN32_FIND_DATAA)(local_250 + 0x100));
  do {
    if (pvVar1 != (HANDLE)0xffffffff) {
      pcVar2 = _strstr(local_124,&DAT_004ca038);
      if (pcVar2 != (char *)0x0) {
        pcVar2 = _strstr(local_124,s_MULTI__004ca040);
        if (pcVar2 == (char *)0x0) {
          iVar6 = iVar6 + 1;
        }
      }
      _Val = FindNextFileA(pvVar1,(LPWIN32_FIND_DATAA)(local_250 + 0x100));
    }
  } while (_Val != 0);
  sVar3 = (iVar6 + 1) * 0x222;
  pcStackY_20 = (char *)0x42cd15;
  pvVar4 = (void *)AllocateMemoryWithCallback();
  pcStackY_20 = (char *)0x42cd1e;
  pvVar4 = _memset(pvVar4,_Val,sVar3);
  *(void **)(DAT_005df2c8 + 0x10) = pvVar4;
  pcVar2 = *(char **)(DAT_005df2c8 + 0x10);
  if (pcVar2 == (char *)0x0) {
    return 0;
  }
  iVar7 = 0;
  pvVar1 = FindFirstFileA(local_250,(LPWIN32_FIND_DATAA)(local_250 + 0x100));
  iVar6 = 0;
  pcVar8 = pcVar2;
  do {
    _Dest = pcVar8;
    if (pvVar1 != (HANDLE)0xffffffff) {
      pcVar5 = _strstr(local_124,&DAT_004ca048);
      if (pcVar5 != (char *)0x0) {
        pcVar5 = _strstr(local_124,&DAT_004ca050);
        if (pcVar5 == (char *)0x0) {
          pcStackY_20 = (char *)0x42cdb0;
          _memset(local_768,0,0x515);
          iVar6 = FUN_0045d1d0();
          if (iVar6 != 0) {
            _Dest = pcVar8 + 0x222;
            iVar7 = iVar7 + 1;
            *(float *)(pcVar8 + 0x422) = local_762 * 420.0;
            *(float *)(pcVar8 + 0x426) = local_75e * 360.0;
            *(undefined4 *)(pcVar8 + 0x42a) = local_75a;
            *(int *)(pcVar8 + 0x440) = (int)local_255;
            FID_conflict___mbscpy(_Dest,local_124);
            sVar3 = _strlen(_Dest);
            _Dest[sVar3 - 3] = 'm';
            _Dest[sVar3 - 2] = 'a';
            _Dest[sVar3 - 1] = 'p';
            iVar6 = FUN_0043ff50();
            FID_conflict___mbscpy(pcVar8 + 0x322,acStackY_755 + iVar6 * 0x80);
          }
        }
      }
      iVar6 = FindNextFileA(pvVar1,(LPWIN32_FIND_DATAA)(local_250 + 0x100));
    }
    pcVar8 = _Dest;
  } while (iVar6 != 0);
  pcStackY_20 = pcVar2 + 0x222;
  uStackY_24 = 0x42ce91;
  FUN_004ae1a0();
  *(int *)(DAT_005df2c8 + 0xcc) = iVar7;
  if (iVar7 == 0) {
    FUN_0042cfc0();
    if (unaff_ESI == 0) {
      return 0;
    }
    iVar6 = FUN_0042d1f0();
    if (iVar6 == 0) {
      return 0;
    }
  }
  iVar6 = 1;
  if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
    iVar7 = 0x222;
    do {
      if (DAT_00598d58 == 0) {
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar7) = 0;
      }
      else {
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar7) = 1;
      }
      iVar6 = iVar6 + 1;
      iVar7 = iVar7 + 0x222;
    } while (iVar6 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  iVar6 = 0x15;
  if (0x14 < *(int *)(DAT_005df2c8 + 0xcc)) {
    iVar7 = 0x2cca;
    do {
      iVar6 = iVar6 + 1;
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar7) = 0;
      iVar7 = iVar7 + 0x222;
    } while (iVar6 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x430) = 0;
  _DAT_004d7dac = 0x3d430c31;
  _DAT_004d7db0 = 0x3daaaaab;
  FUN_004868b0();
  return 1;
}



uint FUN_0042cf90(int param_1,int param_2)

{
  if (*(int *)(param_1 + 0x21e) < *(int *)(param_2 + 0x21e)) {
    return 0xffffffff;
  }
  return (uint)(*(int *)(param_2 + 0x21e) < *(int *)(param_1 + 0x21e));
}



void * FUN_0042cfc0(size_t *param_1)

{
  HANDLE hFindFile;
  char *pcVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  BOOL _Val;
  size_t sVar5;
  char local_374 [256];
  _WIN32_FIND_DATAA local_274;
  char local_134 [256];
  undefined local_34 [16];
  undefined4 uStackY_24;
  char *local_20;
  size_t _Size;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  _Val = 0;
  iVar6 = 0;
  sVar5 = 0;
  FID_conflict___mbscpy(local_374,&DAT_005d54e0);
  FID_conflict__strcat(local_374,&DAT_004ca0bc);
  hFindFile = FindFirstFileA(local_374,&local_274);
  do {
    if (hFindFile != (HANDLE)0xffffffff) {
      pcVar1 = _strstr(local_274.cFileName,s_FluxData_dat_004ca0c0);
      if (pcVar1 != (char *)0x0) {
        iVar6 = iVar6 + 1;
        local_20 = (char *)0x42d046;
        _memset(local_34,0,0x24);
        iVar2 = FUN_004ae940();
        if (iVar2 != 0) {
          return (void *)0x0;
        }
        sVar5 = sVar5 + 1 + (int)local_20;
      }
      _Val = FindNextFileA(hFindFile,&local_274);
    }
  } while (_Val != 0);
  local_20 = (char *)0x42d087;
  _Size = sVar5;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = (char *)0x42d090;
  pvVar3 = _memset(pvVar3,_Val,_Size);
  *param_1 = sVar5;
  iVar2 = 0;
  if (0 < iVar6) {
    do {
      FID_conflict___mbscpy(local_134,&DAT_005d54e0);
      _strlen(local_134);
      if (iVar2 == 0) {
        pcVar1 = s_FluxData_dat_004ca0f8;
      }
      else {
        local_20 = (char *)0x42d0eb;
        FUN_004ae5f0();
        FID_conflict__strcat(local_134,s_FluxData_004ca108);
        FID_conflict__strcat(local_134,&stack0xfffffff0);
        pcVar1 = &DAT_004ca114;
      }
      FID_conflict__strcat(local_134,pcVar1);
      local_20 = (char *)0x42d136;
      _memset(local_34,0,0x24);
      iVar4 = FUN_004ae940();
      if (iVar4 != 0) {
        return (void *)0x0;
      }
      local_20 = local_134;
      uStackY_24 = 0x42d164;
      iVar4 = OpenFileHandle();
      if (iVar4 == -1) {
        return (void *)0x0;
      }
      local_20 = (char *)0x42d17a;
      iVar4 = FUN_004af0c0();
      if (iVar4 != -1) {
        local_20 = (char *)0x42d193;
        ReadFromLockedResource();
        local_20 = (char *)0x42d1a4;
        FUN_004af0c0();
        CloseAndUnlockResource();
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < iVar6);
    DAT_004d7dbc = iVar6;
    return pvVar3;
  }
  DAT_004d7dbc = iVar6;
  return pvVar3;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0042d1f0(int param_1,uint param_2)

{
  char cVar1;
  bool bVar2;
  undefined uVar3;
  uint uVar4;
  void *pvVar5;
  int iVar6;
  int iVar7;
  char *_Source;
  undefined4 uVar8;
  float *pfVar9;
  int iVar10;
  size_t _Size;
  int iVar11;
  int iVar12;
  
  AdjustStackForLargeAllocations();
  uVar4 = 0;
  bVar2 = false;
  iVar12 = 0;
  if (param_2 != 1) {
    do {
      if ((*(char *)(uVar4 + param_1) == '/') && (*(char *)(uVar4 + 1 + param_1) == '*')) {
        bVar2 = true;
      }
      if ((*(char *)(uVar4 + param_1) == '*') && (*(char *)(uVar4 + 1 + param_1) == '/')) {
        *(undefined *)(uVar4 + param_1) = 0;
        *(undefined *)(uVar4 + 1 + param_1) = 0;
        bVar2 = false;
      }
      if (bVar2) {
        *(undefined *)(uVar4 + param_1) = 0;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < param_2 - 1);
  }
  uVar4 = 0;
  if (param_2 != 0) {
    do {
      cVar1 = *(char *)(uVar4 + param_1);
      if (((((cVar1 == '\n') || (cVar1 == '\t')) || (cVar1 == ' ')) ||
          ((cVar1 == '\r' || (cVar1 == ',')))) || ((cVar1 == '{' || (cVar1 == '}')))) {
        *(undefined *)(uVar4 + param_1) = 0;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < param_2);
  }
  _Size = 0x3ffc;
  iVar10 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(0x3ffc);
  pvVar5 = _memset(pvVar5,iVar10,_Size);
  *(void **)(DAT_005df2c8 + 0x10) = pvVar5;
  iVar10 = *(int *)(DAT_005df2c8 + 0x10);
  if (iVar10 != 0) {
    iVar6 = FUN_0043ff50();
    iVar11 = 0;
    param_2 = 1;
    if (0 < DAT_004d7dbc) {
      do {
        param_1 = FUN_0042d490(param_1);
        iVar7 = FUN_004adb80(param_1);
        iVar12 = iVar12 + iVar7;
        iVar7 = iVar7 + param_2;
        if ((int)param_2 < iVar7) {
          pfVar9 = (float *)(iVar10 + 0x200 + param_2 * 0x222);
          do {
            _Source = (char *)FUN_0042d490(param_1);
            FID_conflict___mbscpy((char *)(pfVar9 + -0x80),_Source);
            FID_conflict__strcat((char *)(pfVar9 + -0x80),&DAT_004ca17c);
            iVar10 = 0;
            do {
              _Source = (char *)FUN_0042d490(_Source);
              if (iVar10 % 7 == iVar6) {
                FID_conflict___mbscpy((char *)(pfVar9 + -0x40),_Source);
              }
              iVar10 = iVar10 + 1;
            } while (iVar10 < 7);
            uVar8 = FUN_0042d490(_Source);
            uVar8 = FUN_0042d490(uVar8);
            uVar8 = FUN_0042d490(uVar8);
            iVar10 = FUN_004adb80(uVar8);
            *pfVar9 = (float)iVar10 * 420.0;
            uVar8 = FUN_0042d490(uVar8);
            iVar10 = FUN_004adb80(uVar8);
            pfVar9[1] = (float)iVar10 * 360.0;
            uVar8 = FUN_0042d490(uVar8);
            uVar3 = FUN_004adb80(uVar8);
            *(undefined *)(pfVar9 + 3) = uVar3;
            uVar8 = FUN_0042d490(uVar8);
            uVar3 = FUN_004adb80(uVar8);
            *(undefined *)((int)pfVar9 + 0xd) = uVar3;
            iVar10 = 0x42d401;
            param_1 = FUN_0042d490(uVar8);
            if ((DAT_00598d58 != 0) && (param_2 != 1)) {
              *(undefined4 *)((int)pfVar9 + 0xe) = 1;
            }
            param_2 = param_2 + 1;
            pfVar9 = (float *)((int)pfVar9 + 0x222);
          } while ((int)param_2 < iVar7);
        }
        iVar11 = iVar11 + 1;
        param_2 = iVar7;
      } while (iVar11 < DAT_004d7dbc);
    }
    _DAT_004d7dac = 0x3d430c31;
    _DAT_004d7db0 = 0x3daaaaab;
    FUN_004868b0(iVar12);
    *(int *)(DAT_005df2c8 + 0xcc) = iVar12;
    return 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

char * FUN_0042d490(char *param_1)

{
  char *_Str1;
  bool bVar1;
  size_t sVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  bVar1 = false;
  if (*param_1 == -1) {
    return (char *)0x0;
  }
  if (_DAT_004d7d98 == param_1) {
    sVar2 = _strlen(param_1);
    param_1 = param_1 + sVar2 + 1;
  }
  do {
    if (param_1[iVar4] == '\0') {
      iVar4 = iVar4 + 1;
    }
    else {
      bVar1 = true;
    }
  } while (!bVar1);
  _Str1 = param_1 + iVar4;
  iVar3 = _strcmp(_Str1,s_ASTEROID_004ca184);
  if (iVar3 == 0) {
    iVar4 = iVar4 + 9;
  }
  else {
    iVar3 = _strcmp(_Str1,&DAT_004ca190);
    if (iVar3 == 0) {
      iVar4 = iVar4 + 5;
    }
    else {
      iVar3 = _strcmp(_Str1,s_SIZEBMP_004ca198);
      if (iVar3 == 0) {
        iVar4 = iVar4 + 8;
      }
    }
  }
  bVar1 = false;
  do {
    if (param_1[iVar4] == '\0') {
      iVar4 = iVar4 + 1;
    }
    else {
      bVar1 = true;
    }
  } while (!bVar1);
  _DAT_004d7d98 = param_1 + iVar4;
  return param_1 + iVar4;
}



undefined4 FUN_0042d540(void)

{
  void *pvVar1;
  undefined4 uVar2;
  char local_128 [256];
  char local_28 [16];
  undefined4 uStackY_18;
  int iVar3;
  size_t sVar4;
  
  AdjustStackForLargeAllocations();
  sVar4 = 0x14;
  iVar3 = 0;
  uStackY_18 = 0x42d559;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  uStackY_18 = 0x42d562;
  pvVar1 = _memset(pvVar1,iVar3,sVar4);
  *(void **)(DAT_005df2c8 + 0x14) = pvVar1;
  if (*(int *)(DAT_005df2c8 + 0x14) == 0) {
    return 0;
  }
  FID_conflict___mbscpy(local_28,s_fefx_sparkle1__004ca1a4);
  iVar3 = 0;
  do {
    FID_conflict___mbscpy(local_128,local_28);
    uStackY_18 = 0x42d5b4;
    FUN_004ae5f0();
    FID_conflict__strcat(local_128,&stack0xfffffffa);
    FID_conflict__strcat(local_128,&DAT_004ca1b4);
    uStackY_18 = 0x42d5fc;
    uVar2 = FUN_0044b8d0();
    *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x14) + iVar3 * 4) = uVar2;
    if (*(int *)(*(int *)(DAT_005df2c8 + 0x14) + iVar3 * 4) == 0) {
      return 0;
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 5);
  sVar4 = 0x44;
  iVar3 = 0;
  uStackY_18 = 0x42d62e;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  uStackY_18 = 0x42d637;
  DAT_004d7dc0 = _memset(pvVar1,iVar3,sVar4);
  if (DAT_004d7dc0 == (void *)0x0) {
    return 0;
  }
  *(undefined4 *)((int)DAT_004d7dc0 + 0x10) = 0x41c80000;
  *(undefined4 *)((int)DAT_004d7dc0 + 0x18) = 0x43c80000;
  uStackY_18 = 0x42d679;
  uVar2 = FUN_0044b8d0();
  *(undefined4 *)((int)DAT_004d7dc0 + 0x40) = uVar2;
  uStackY_18 = 0x42d6a4;
  (**(code **)(**(int **)((int)DAT_004d7dc0 + 0x40) + 0x74))();
  return 1;
}



void FUN_0042d6b0(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  int local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 *local_24;
  undefined4 local_20;
  int *local_1c;
  int local_18;
  undefined4 local_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_005e5010;
  local_30 = DAT_004d7dc4;
  local_18 = DAT_004d7dc4;
  local_28 = 0;
  local_24 = (undefined4 *)0x0;
  local_1c = *(int **)(DAT_005e5010 + 0x253c);
  local_14 = 0x42d70b;
  local_48 = __ftol();
  local_38 = 0;
  local_34 = 0;
  local_2c = *(undefined4 *)(iVar1 + 0x253c);
  local_14 = 0x42d734;
  local_20 = local_48;
  local_40 = __ftol();
  local_44 = 0;
  local_3c = *(undefined4 *)(iVar1 + 0x253c);
  local_14 = 0;
  local_1c = &local_18;
  local_18 = 0x1008000;
  local_28 = *(undefined4 *)(iVar1 + 0x7b0);
  local_24 = &local_28;
  local_20 = param_1;
  local_2c = 0x42d761;
  FUN_00424d60();
  local_1c = &local_38;
  local_24 = &local_48;
  local_14 = 0;
  local_18 = 0x1008000;
  local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  local_20 = param_1;
  local_2c = 0x42d785;
  FUN_00424d60();
  DAT_004d7dc4 = DAT_004d7dc4 + param_2;
  if (0x280 < DAT_004d7dc4) {
    DAT_004d7dc4 = 0;
  }
  return;
}



void FUN_0042d7b0(undefined4 param_1)

{
  undefined4 local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  undefined4 local_18;
  undefined4 ***local_14;
  undefined4 local_10;
  int local_c;
  
  AdjustStackForLargeAllocations();
  local_c = 0x280 - DAT_004d7dc4;
  local_14 = &local_14;
  local_10 = 0x1008000;
  local_18 = param_1;
  local_20 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  local_1c = &local_24;
  local_24 = 0x42d821;
  FUN_00424d60();
  if (DAT_004d7dcc == 0) {
    DAT_004d7dc4 = DAT_004d7dc4 + 1;
    if (DAT_004d7dc4 == 0x28) {
      DAT_004d7dcc = 1;
    }
  }
  else {
    DAT_004d7dc4 = DAT_004d7dc4 + -1;
    if (DAT_004d7dc4 == -1) {
      DAT_004d7dcc = 0;
      DAT_004d7dc4 = 0;
    }
  }
  if (DAT_004d7dd0 == 0) {
    DAT_004d7dc8 = DAT_004d7dc8 + 1;
    if (DAT_004d7dc8 == 0x19) {
      DAT_004d7dd0 = 1;
    }
  }
  else {
    DAT_004d7dc8 = DAT_004d7dc8 + -1;
    if (DAT_004d7dc8 == -1) {
      DAT_004d7dd0 = 0;
      DAT_004d7dc8 = 0;
      return;
    }
  }
  return;
}



void FUN_0042d9a0(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 0x14) + param_1 * 4);
  if (iVar1 != 0) {
    uVar2 = __ftol(0,0,iVar1);
    uVar2 = __ftol(uVar2);
    FUN_0043dcb0(uVar2);
  }
  return;
}



void FUN_0042d9e0(float *param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  
  fVar2 = (param_1[1] - param_2[1]) * 1.111111;
  fVar1 = (param_1[2] - param_2[2]) * 1.111111;
  fVar3 = (*param_1 - *param_2) * 1.111111;
  *param_1 = *param_1 - (fVar1 - fVar3) * 16.0 * 0.01 * -0.9;
  param_1[1] = param_1[1] - (fVar1 * fVar3 - fVar2 * 4.0) * 0.01 * -0.9;
  param_1[2] = param_1[2] - ((40.0 - fVar2) * fVar3 - fVar1) * 0.01 * -0.9;
  return;
}



void FUN_0042dae0(void)

{
  if (DAT_005df2d0 != 0) {
    FUN_0042b130();
    DAT_005df2d0 = 0;
  }
  if (DAT_004d80e4 != 0) {
    FUN_004284a0(DAT_005deea4,*(int *)(DAT_005e5010 + 0x2538) >> 1,
                 *(int *)(DAT_005e5010 + 0x253c) >> 1,0,2);
  }
  return;
}



void FUN_0042db30(void)

{
  if ((DAT_004d7dd8 == 0) && ((DAT_005dfe28 == 3 || (DAT_005dfe28 == 1)))) {
    DAT_004d7dd8 = 1;
  }
  return;
}



void FUN_0042db60(void)

{
  if (DAT_004d8100 != 0) {
    DAT_004d8100 = 0;
  }
  if (((0 < DAT_004d7dd8) && (DAT_004d7dd8 = DAT_004d7dd8 + -1, DAT_004d7dd8 == 0)) &&
     ((DAT_005dfe28 == 1 || (DAT_005dfe28 == 3)))) {
    FUN_0042a450(0x12);
    DAT_005df2d0 = 1;
    DAT_004d8100 = 1;
  }
  return;
}



undefined4 FUN_0042dcd0(void)

{
  void *_Dst;
  char local_104 [236];
  undefined4 uStackY_18;
  void *pvStackY_14;
  int _Val;
  char *_Source;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  if ((DAT_004d7de0 == 0) || (DAT_004d7ddc == (void *)0x0)) {
    if (DAT_005df310 == '\0') {
      _Source = &gRootFileDirectory;
    }
    else {
      _Source = &DAT_005d54e0;
    }
    FID_conflict___mbscpy(local_104,_Source);
    FID_conflict__strcat(local_104,s_fedata_dat_004ca1d0);
    DAT_004d7de0 = OpenFileWithFixedFlags0x40();
    if (DAT_004d7de0 == 0) {
      return 0;
    }
    if (DAT_004d7ddc == (void *)0x0) {
      _Size = 0x1a9a;
      _Val = 0;
      pvStackY_14 = (void *)0x42dd6d;
      _Dst = (void *)AllocateMemoryWithCallback();
      pvStackY_14 = (void *)0x42dd76;
      DAT_004d7ddc = _memset(_Dst,_Val,_Size);
      if (DAT_004d7ddc != (void *)0x0) {
        uStackY_18 = 0x42dd96;
        pvStackY_14 = DAT_004d7ddc;
        CopyDataWithLock();
        return 1;
      }
      return 0;
    }
  }
  return 1;
}



void * FUN_0042ddc0(uint param_1,uint param_2,undefined2 *param_3,undefined2 *param_4)

{
  byte *pbVar1;
  byte bVar2;
  undefined2 uVar3;
  uint uVar4;
  void *pvVar5;
  byte *pbVar6;
  void *pvVar7;
  int iVar8;
  size_t sVar9;
  int iVar10;
  size_t _Size;
  
  if ((param_2 & 0xff) == 1) {
    iVar8 = (param_1 & 0xffff) * 0x25;
    iVar10 = *(int *)(DAT_004d7ddc + 0xf + iVar8);
    sVar9 = *(size_t *)(DAT_004d7ddc + 0x13 + iVar8);
    *param_3 = *(undefined2 *)(DAT_004d7ddc + 0x17 + iVar8);
    uVar3 = *(undefined2 *)(DAT_004d7ddc + 0x19 + iVar8);
LAB_0042de77:
    *param_4 = uVar3;
  }
  else {
    if ((param_2 & 0xff) != 2) {
      iVar8 = (param_1 & 0xffff) * 0x25;
      iVar10 = *(int *)(DAT_004d7ddc + 3 + iVar8);
      sVar9 = *(size_t *)(DAT_004d7ddc + 7 + iVar8);
      *param_3 = *(undefined2 *)(DAT_004d7ddc + 0xb + iVar8);
      uVar3 = *(undefined2 *)(DAT_004d7ddc + 0xd + iVar8);
      goto LAB_0042de77;
    }
    uVar4 = param_1 & 0xffff;
    iVar8 = DAT_004d7ddc + uVar4;
    iVar10 = *(int *)(iVar8 + 0x1b + uVar4 * 0x24);
    sVar9 = *(size_t *)(iVar8 + 0x1f + uVar4 * 0x24);
    *param_3 = *(undefined2 *)(iVar8 + uVar4 * 0x24 + 0x23);
    *param_4 = *(undefined2 *)(DAT_004d7ddc + (uVar4 + 1) * 0x25);
  }
  FUN_004af5b0(DAT_004d7de0);
  SeekInResourceWithLock(DAT_004d7de0,iVar10 + 0x1a9a,0);
  iVar10 = 0;
  _Size = sVar9;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar9);
  pbVar6 = (byte *)_memset(pvVar5,iVar10,_Size);
  CopyDataWithLock(pbVar6,1,sVar9,DAT_004d7de0);
  bVar2 = *pbVar6;
  pbVar1 = pbVar6 + 9;
  if (bVar2 == 0) {
    sVar9 = *(size_t *)(pbVar6 + 1);
    iVar10 = 0;
    pvVar5 = (void *)AllocateMemoryWithCallback(sVar9);
    pvVar5 = _memset(pvVar5,iVar10,sVar9);
    FUN_004ad7a0(pvVar5,pbVar1,*(undefined4 *)(pbVar6 + 1));
  }
  else if ((bVar2 & 4) == 0) {
    if ((bVar2 & 1) == 0) {
      pvVar5 = (void *)0x0;
      if ((bVar2 & 2) != 0) {
        pvVar5 = (void *)FUN_00424830(pbVar1,*(undefined4 *)(pbVar6 + 5),*(undefined4 *)(pbVar6 + 1)
                                     );
      }
    }
    else {
      pvVar5 = (void *)FUN_004247d0(pbVar1,*(undefined4 *)(pbVar6 + 5),*(undefined4 *)(pbVar6 + 1));
    }
  }
  else {
    pvVar7 = (void *)FUN_00424a20(pbVar1,&param_1);
    if ((*pbVar6 & 1) == 0) {
      pvVar5 = pvVar7;
      if ((*pbVar6 & 2) == 0) goto LAB_0042df89;
      pvVar5 = (void *)FUN_00424830(pvVar7,param_1,*(undefined4 *)(pbVar6 + 1));
    }
    else {
      pvVar5 = (void *)FUN_004247d0(pvVar7,param_1,*(undefined4 *)(pbVar6 + 1));
    }
    if (pvVar7 != (void *)0x0) {
      FreeMemory(pvVar7);
    }
  }
LAB_0042df89:
  if (pbVar6 != (byte *)0x0) {
    FreeMemory(pbVar6);
  }
  return pvVar5;
}



void FUN_0042dfa0(void)

{
  if (DAT_004d7ddc != 0) {
    FreeMemory(DAT_004d7ddc);
    DAT_004d7ddc = 0;
  }
  FUN_004adcf0(DAT_004d7de0);
  DAT_004d7de0 = 0;
  return;
}



undefined4 FUN_0042dfe0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  int iVar2;
  
  uVar1 = FUN_004af670(0);
  FUN_004af630(uVar1);
  if (DAT_004cb058 == 0) {
    iVar2 = FUN_0042e6b0();
  }
  else {
    iVar2 = FUN_0042e060(param_3);
  }
  if (iVar2 == 0) {
    return 0;
  }
  if (DAT_00598d7c == 0) {
    iVar2 = FUN_0042f280(param_1,param_2);
    if (iVar2 == 0) {
      return 0;
    }
  }
  *(short *)(*(int *)(DAT_005df2c8 + 4) + 4) = (short)param_2;
  *(short *)(*(int *)(DAT_005df2c8 + 4) + 6) = (short)param_1;
  return 1;
}



undefined4 FUN_0042e060(void)

{
  ushort uVar1;
  int iVar2;
  ushort *puVar3;
  undefined4 uVar4;
  int iVar5;
  undefined2 extraout_var;
  int *piVar6;
  undefined2 extraout_var_00;
  int iVar7;
  undefined4 *puVar8;
  char local_460 [256];
  undefined4 local_360 [91];
  undefined4 local_1f4 [16];
  int local_1b4;
  uint local_170;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 uStackY_68;
  int *piStackY_64;
  undefined4 uStackY_60;
  undefined *puStackY_5c;
  int *piStackY_58;
  int *piStackY_54;
  int iStackY_50;
  int *piStackY_4c;
  undefined4 uStackY_48;
  undefined *puStackY_44;
  undefined4 *puVar9;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  puVar8 = (undefined4 *)0x0;
  if (DAT_005dcedc == 0) {
    FUN_00449cf0();
  }
  DAT_004d7dec = 0;
  _memset(local_1f4,0,0x16c);
  local_1f4[0] = 0x16c;
  _memset(local_360,0,0x16c);
  local_360[0] = 0x16c;
  puVar9 = local_360;
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  if (iVar2 != 0) {
    return 0;
  }
  DAT_004d8038 = local_170 >> 0x1a & 1;
  _memset(local_1f4,0,0x16c);
  local_1f4[0] = 0x16c;
  _memset(local_360,0,0x16c);
  local_360[0] = 0x16c;
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = DAT_004d8150;
  if ((local_1b4 == 0) || (*(int *)(DAT_005e5010 + 0x790) == 0)) {
    DAT_004d803c = 1;
  }
  for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0xc)) {
    iVar10 = 0;
    if (*(short *)(iVar2 + 4) != 0) {
      iVar7 = (int)puVar8 * 0x140;
      puVar8 = puVar9;
      do {
        puVar3 = (ushort *)FUN_004420e0();
        uVar1 = *puVar3;
        if (((uVar1 < 0xe2) || (0xfb < uVar1)) && (uVar1 != 0)) {
          FID_conflict___mbscpy((char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + iVar7),local_460);
          ConvertString();
          *(ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + iVar7) = *puVar3;
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x16 + iVar7) = *(undefined *)(puVar3 + 6);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x17 + iVar7) = *(undefined *)(puVar3 + 7);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x18 + iVar7) = *(undefined *)(puVar3 + 8);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x19 + iVar7) =
               *(undefined *)((int)puVar3 + 0xd);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x123 + iVar7) = *(undefined *)(puVar3 + 9);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x124 + iVar7) =
               *(undefined *)((int)puVar3 + 0x13);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x125 + iVar7) = *(undefined *)(puVar3 + 10);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x126 + iVar7) =
               *(undefined *)((int)puVar3 + 0x15);
          *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x127 + iVar7) = *(undefined *)(puVar3 + 0xb);
          if (DAT_00598d7c == 0) {
            uVar4 = FUN_0044c9c0();
            *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar7) = uVar4;
            iVar5 = (**(code **)**(undefined4 **)(*(int *)(DAT_005df2c8 + 8) + iVar7))();
            if (iVar5 != 0) {
              return 0;
            }
            puStackY_44 = (undefined *)CONCAT22(extraout_var_00,*puVar3);
            uStackY_48 = 1;
            piStackY_4c = (int *)0x42e317;
            iVar5 = FUN_0044cb10();
            if (iVar5 == 0) {
              return 0;
            }
            uVar4 = FUN_0044c9c0();
            puStackY_44 = (undefined *)CONCAT22(extraout_var,*puVar3);
            uStackY_48 = 1;
            piStackY_4c = (int *)0x42e344;
            iVar5 = FUN_0044cb10();
            if (iVar5 == 0) {
              return 0;
            }
            puStackY_44 = (undefined *)0x42e35e;
            _memset(&local_88,0,0x6c);
            local_88 = 0x6c;
            local_84 = 7;
            local_7c = 0x20;
            local_80 = 0x20;
            FUN_0044b620();
            iVar5 = FUN_00413f70();
            if (iVar5 != 0) {
              return 1;
            }
            puStackY_44 = (undefined *)0x42e3f8;
            iVar5 = (**(code **)**(undefined4 **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar7))();
            if (iVar5 != 0) {
              return 0;
            }
            piStackY_4c = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar7);
            puStackY_44 = &stack0xffffffe4;
            uStackY_48 = 8;
            iStackY_50 = 0x42e423;
            iVar5 = (**(code **)(*piStackY_4c + 0x74))();
            if (iVar5 != 0) {
              return 0;
            }
            if (DAT_004d8038 == 0) {
              iStackY_50 = 0x10;
              piStackY_54 = (int *)0x0;
              puStackY_5c = (undefined *)0x0;
              uStackY_60 = 0;
              piStackY_64 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar7);
              uStackY_68 = 0x42e468;
              piStackY_58 = (int *)uVar4;
              iVar5 = FUN_00424e90();
              if (iVar5 != 0) {
                return 0;
              }
            }
            else {
              piStackY_54 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 0xc + iVar7);
              piStackY_58 = (int *)0x42e44a;
              iStackY_50 = uVar4;
              (**(code **)(*piStackY_54 + 0x18))();
            }
            piStackY_58 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 0xc + iVar7);
            iStackY_50 = *(int *)(DAT_005df2c8 + 8) + iVar7 + 0x10;
            piStackY_54 = *(int **)(DAT_005e5010 + 8);
            puStackY_5c = (undefined *)0x42e496;
            iVar5 = (**(code **)(*piStackY_58 + 0x10))();
            if (iVar5 != 0) {
              return 0;
            }
            piStackY_64 = *(int **)(*(int *)(DAT_005df2c8 + 8) + iVar7);
            puStackY_5c = &stack0xffffffe4;
            uStackY_60 = 8;
            uStackY_68 = 0x42e4c1;
            iVar5 = (**(code **)(*piStackY_64 + 0x74))();
            if (iVar5 != 0) {
              return 0;
            }
            if (DAT_00598d58 == 0) {
              if (DAT_004cb058 != 0) {
                *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + iVar7) = 0;
              }
            }
            else {
              *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + iVar7) = 1;
            }
            DAT_004d7dec = DAT_004d7dec + 1;
            puVar8 = (undefined4 *)((int)puVar8 + 1);
            iVar7 = iVar7 + 0x140;
          }
        }
        if (puVar3 != (ushort *)0x0) {
          FreeMemory();
        }
        iVar10 = iVar10 + 1;
        puVar9 = puVar8;
      } while (iVar10 < (int)(uint)*(ushort *)(iVar2 + 4));
    }
  }
  if ((*(int *)(DAT_005e5010 + 0x790) == 0) || (DAT_005df2e4 == 0)) {
    FUN_0042e950();
  }
  FUN_004ae1a0();
  FUN_0042eb30();
  if (DAT_00598d58 != 0) {
    iVar2 = 0;
    if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
      iVar10 = 0;
      do {
        iVar7 = *(int *)(DAT_005df2c8 + 8) + iVar10;
        if (*(char *)(iVar7 + 0x19) == '\0') {
          *(undefined4 *)(iVar7 + 0x11a) = 0;
        }
        else {
          *(undefined4 *)(iVar7 + 0x11a) = 1;
        }
        iVar2 = iVar2 + 1;
        iVar10 = iVar10 + 0x140;
      } while (iVar2 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
    }
    iVar10 = 0;
    iVar2 = DAT_005df2c8;
    do {
      iVar5 = 0;
      iVar7 = *(int *)(*(int *)(iVar2 + 4) + 8);
      if (0 < iVar7) {
        piVar6 = (int *)(*(int *)(iVar2 + 8) + 0x11a);
        do {
          if (*piVar6 == 0) {
            *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + iVar10) =
                 *(undefined2 *)(iVar5 * 0x140 + 0x14 + *(int *)(iVar2 + 8));
            *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar10) = (short)iVar5;
            *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 4 + iVar10) =
                 *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar5 * 0x140);
            FUN_004356a0();
            FUN_004357f0();
            iVar2 = DAT_005df2c8;
            break;
          }
          iVar5 = iVar5 + 1;
          piVar6 = piVar6 + 0x50;
        } while (iVar5 < iVar7);
      }
      iVar10 = iVar10 + 8;
    } while (iVar10 < 0x28);
  }
  return 1;
}



undefined4 FUN_0042e6b0(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined2 extraout_var;
  int iVar3;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 uStackY_50;
  int *piStackY_4c;
  undefined4 uStackY_48;
  int *piStackY_44;
  int *piStackY_40;
  int *piStackY_3c;
  int iStackY_38;
  int *piStackY_34;
  undefined4 uStackY_30;
  int *piStackY_2c;
  int local_14;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
    iVar3 = 0;
    do {
      local_14 = 0;
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11e + iVar3) = 0;
      uVar1 = FUN_0044c9c0();
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar3) = uVar1;
      local_14 = *(int *)(DAT_005df2c8 + 8) + iVar3 + 8;
      iVar2 = (**(code **)**(undefined4 **)(*(int *)(DAT_005df2c8 + 8) + iVar3))();
      if (iVar2 != 0) {
        return 0;
      }
      piStackY_2c = (int *)CONCAT22(extraout_var,
                                    *(undefined2 *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + iVar3));
      uStackY_30 = 1;
      piStackY_34 = (int *)0x42e73d;
      FUN_0044cb10();
      uVar1 = FUN_0044c9c0();
      piStackY_2c = (int *)CONCAT22((short)((uint)&stack0xfffffff8 >> 0x10),
                                    *(undefined2 *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + iVar3));
      uStackY_30 = 1;
      piStackY_34 = (int *)0x42e76c;
      iVar2 = FUN_0044cb10();
      if (iVar2 == 0) {
        return 0;
      }
      piStackY_2c = (int *)0x42e783;
      _memset(&local_80,0,0x6c);
      local_80 = 0x6c;
      local_7c = 7;
      local_74 = 0x20;
      local_78 = 0x20;
      FUN_0044b620();
      iVar2 = FUN_00413f70();
      if (iVar2 != 0) {
        return 1;
      }
      piStackY_2c = (int *)0x42e811;
      iVar2 = (**(code **)**(undefined4 **)(*(int *)(DAT_005df2c8 + 8) + iVar3 + 4))();
      if (iVar2 != 0) {
        return 0;
      }
      local_14 = DAT_005e72fc;
      piStackY_34 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar3);
      piStackY_2c = &local_14;
      uStackY_30 = 8;
      iStackY_38 = 0x42e83c;
      iVar2 = (**(code **)(*piStackY_34 + 0x74))();
      if (iVar2 != 0) {
        return 0;
      }
      if (DAT_004d8038 == 0) {
        iStackY_38 = 0x10;
        piStackY_3c = (int *)0x0;
        piStackY_44 = (int *)0x0;
        uStackY_48 = 0;
        piStackY_4c = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar3);
        uStackY_50 = 0x42e881;
        piStackY_40 = (int *)uVar1;
        iVar2 = FUN_00424e90();
        if (iVar2 != 0) {
          return 0;
        }
      }
      else {
        piStackY_3c = *(int **)(*(int *)(DAT_005df2c8 + 8) + 0xc + iVar3);
        piStackY_40 = (int *)0x42e863;
        iStackY_38 = uVar1;
        (**(code **)(*piStackY_3c + 0x18))();
      }
      piStackY_40 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 0xc + iVar3);
      iStackY_38 = *(int *)(DAT_005df2c8 + 8) + iVar3 + 0x10;
      piStackY_3c = *(int **)(DAT_005e5010 + 8);
      piStackY_44 = (int *)0x42e8af;
      iVar2 = (**(code **)(*piStackY_40 + 0x10))();
      if (iVar2 != 0) {
        return 0;
      }
      local_14 = DAT_005e72f8;
      piStackY_4c = *(int **)(*(int *)(DAT_005df2c8 + 8) + iVar3);
      piStackY_44 = &local_14;
      uStackY_48 = 8;
      uStackY_50 = 0x42e8da;
      iVar2 = (**(code **)(*piStackY_4c + 0x74))();
      if (iVar2 != 0) {
        return 0;
      }
      iVar4 = iVar4 + 1;
      iVar3 = iVar3 + 0x140;
    } while (iVar4 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
  }
  uVar1 = DAT_004cb4c8;
  if ((*(int *)(DAT_005e5010 + 0x790) == 0) || (DAT_005df2e4 == 0)) {
    DAT_004cb4c8 = 1;
    local_14 = 0x42e926;
    FUN_0042e950();
  }
  DAT_004cb4c8 = uVar1;
  return 1;
}



bool FUN_0042e950(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  undefined **ppuStackY_38;
  int *piStackY_34;
  int *piStackY_30;
  int iStackY_2c;
  int *piStackY_28;
  undefined4 uStackY_24;
  undefined **ppuStackY_20;
  undefined *local_c;
  undefined *local_8;
  
  local_8 = (undefined *)0x42e95d;
  AdjustStackForLargeAllocations();
  local_8 = (undefined *)0x1;
  local_c = (undefined *)0x10;
  uVar1 = FUN_00440fa0();
  *(undefined4 *)(DAT_005df2c8 + 0xb0) = uVar1;
  local_8 = (undefined *)(DAT_005df2c8 + 0xb8);
  local_c = &DAT_004c0f40;
  iVar2 = (**(code **)**(undefined4 **)(DAT_005df2c8 + 0xb0))();
  if (iVar2 != 0) {
    return false;
  }
  ppuStackY_20 = (undefined **)0x42e9a9;
  _memset(&local_78,0,0x6c);
  local_78 = 0x6c;
  local_74 = 7;
  local_6c = 0x20;
  local_70 = 0x20;
  FUN_0044b620();
  iVar2 = FUN_00413f70();
  if (iVar2 != 0) {
    return true;
  }
  ppuStackY_20 = (undefined **)0x42ea3f;
  iVar2 = (**(code **)**(undefined4 **)(DAT_005df2c8 + 0xb4))();
  if (iVar2 != 0) {
    return false;
  }
  ppuStackY_20 = &local_c;
  local_c = DAT_005e72fc;
  local_8 = DAT_005e72fc;
  uStackY_24 = 8;
  piStackY_28 = *(int **)(DAT_005df2c8 + 0xb4);
  iStackY_2c = 0x42ea6b;
  iVar2 = (**(code **)(*piStackY_28 + 0x74))();
  if (iVar2 != 0) {
    return false;
  }
  if (DAT_004d8038 == 0) {
    iStackY_2c = 0x10;
    piStackY_30 = (int *)0x0;
    piStackY_34 = *(int **)(DAT_005df2c8 + 0xb0);
    piStackY_40 = *(int **)(DAT_005df2c8 + 0xb4);
    ppuStackY_38 = (undefined **)0x0;
    uStackY_3c = 0;
    uStackY_44 = 0x42eb14;
    iVar2 = FUN_00424e90();
    if (iVar2 != 0) {
      return false;
    }
  }
  else {
    piStackY_30 = *(int **)(DAT_005df2c8 + 0xbc);
    iStackY_2c = *(undefined4 *)(DAT_005df2c8 + 0xb8);
    piStackY_34 = (int *)0x42ea97;
    (**(code **)(*piStackY_30 + 0x18))();
  }
  piStackY_34 = *(int **)(DAT_005df2c8 + 0xbc);
  iStackY_2c = DAT_005df2c8 + 0xc0;
  piStackY_30 = *(int **)(DAT_005e5010 + 8);
  ppuStackY_38 = (undefined **)0x42eaba;
  iVar2 = (**(code **)(*piStackY_34 + 0x10))();
  if (iVar2 != 0) {
    return false;
  }
  local_c = DAT_005e72f8;
  local_8 = DAT_005e72f8;
  piStackY_40 = *(int **)(DAT_005df2c8 + 0xb0);
  ppuStackY_38 = &local_c;
  uStackY_3c = 8;
  uStackY_44 = 0x42eae7;
  iVar2 = (**(code **)(*piStackY_40 + 0x74))();
  return iVar2 == 0;
}



void FUN_0042eb30(void)

{
  int iVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  int iVar5;
  size_t sVar6;
  size_t sVar7;
  uint uVar8;
  int iVar9;
  char local_210 [256];
  char local_110 [244];
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  iVar5 = DAT_005df2c8;
  do {
    bVar3 = false;
    iVar9 = 0;
    if (1 < *(int *)(*(int *)(iVar5 + 4) + 8)) {
      do {
        uStackY_1c = 0x42eb74;
        FID_conflict___mbscpy(local_110,(char *)(*(int *)(iVar5 + 8) + 0x1a + iVar9 * 0x140));
        ToUpperCase();
        sVar6 = _strlen(local_110);
        uStackY_1c = 0x42ebb4;
        FID_conflict___mbscpy
                  (local_210,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x15a + iVar9 * 0x140));
        ToUpperCase();
        sVar7 = _strlen(local_210);
        bVar2 = false;
        uVar8 = 0;
        if (sVar6 != 0) {
          do {
            if ((sVar7 <= uVar8) || (bVar2)) break;
            if (local_110[uVar8] != local_210[uVar8]) {
              if (local_210[uVar8] < local_110[uVar8]) {
                uStackY_1c = 0x42ec07;
                FUN_0042ec60();
                bVar2 = true;
                bVar3 = true;
              }
              else {
                bVar2 = true;
              }
            }
            uVar8 = uVar8 + 1;
          } while (uVar8 < sVar6);
        }
        iVar1 = iVar9 + 2;
        iVar5 = DAT_005df2c8;
        iVar9 = iVar9 + 1;
      } while (iVar1 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
    }
    if (!bVar3) {
      bVar4 = true;
    }
    if (bVar4) {
      return;
    }
  } while( true );
}



void FUN_0042ec60(int param_1,int param_2)

{
  undefined local_144 [296];
  undefined4 uStack_1c;
  undefined *puStack_18;
  undefined *puStack_14;
  undefined4 uStack_10;
  
  AdjustStackForLargeAllocations();
  uStack_10 = 0x140;
  puStack_18 = local_144;
  puStack_14 = (undefined *)(*(int *)(DAT_005df2c8 + 8) + param_1 * 0x140);
  uStack_1c = 0x42ec94;
  FUN_004ad7a0();
  uStack_10 = 0x140;
  puStack_14 = (undefined *)(param_2 * 0x140 + *(int *)(DAT_005df2c8 + 8));
  puStack_18 = (undefined *)(*(int *)(DAT_005df2c8 + 8) + param_1 * 0x140);
  uStack_1c = 0x42ecb9;
  FUN_004ad7a0();
  puStack_14 = local_144;
  uStack_10 = 0x140;
  puStack_18 = (undefined *)(*(int *)(DAT_005df2c8 + 8) + param_2 * 0x140);
  uStack_1c = 0x42ecd8;
  FUN_004ad7a0();
  return;
}



uint FUN_0042ecf0(int param_1,int param_2)

{
  if (*(ushort *)(param_1 + 0x14) < *(ushort *)(param_2 + 0x14)) {
    return 0xffffffff;
  }
  return (uint)(*(ushort *)(param_2 + 0x14) < *(ushort *)(param_1 + 0x14));
}



void FUN_0042ed20(void)

{
  float fVar1;
  uint uVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  
  if ((*(int *)(DAT_005e5010 + 0x790) == 0) || (DAT_005df2e4 != 1)) {
    iVar3 = 0;
    if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
      iVar8 = 0;
      iVar5 = DAT_005df2c8;
      do {
        puVar4 = (undefined4 *)(*(int *)(iVar5 + 8) + iVar8);
        iVar6 = *(int *)(*(int *)(iVar5 + 8) + 0x11a + iVar8);
        if (iVar6 == 0) {
LAB_0042ef3b:
          if (*(int *)((int)puVar4 + 0x11e) != 0) {
            FUN_0042f000(iVar3,*puVar4);
            *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11e + iVar8) = 0;
            iVar5 = DAT_005df2c8;
          }
        }
        else if (*(int *)((int)puVar4 + 0x11e) == 0) {
          FUN_0042f000(iVar3,*(undefined4 *)(iVar5 + 0xb0));
          *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11e + iVar8) = 1;
          iVar5 = DAT_005df2c8;
        }
        else if (iVar6 == 0) goto LAB_0042ef3b;
        puVar4 = (undefined4 *)(*(int *)(iVar5 + 8) + iVar8);
        if (*(char *)((int)puVar4 + 0x122) != '\0') {
          if (DAT_004d80e4 == 0) {
LAB_0042efb0:
            if (*(int *)((int)puVar4 + 0x11e) != 0) {
              FUN_0042f000(iVar3,*puVar4);
              *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11e + iVar8) = 0;
              iVar5 = DAT_005df2c8;
            }
          }
          else if (*(int *)((int)puVar4 + 0x11e) == 0) {
            FUN_0042f000(iVar3,*(undefined4 *)(iVar5 + 0xb0));
            *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x11e + iVar8) = 1;
            iVar5 = DAT_005df2c8;
          }
          else if (DAT_004d80e4 == 0) goto LAB_0042efb0;
        }
        iVar3 = iVar3 + 1;
        iVar8 = iVar8 + 0x140;
      } while (iVar3 < *(int *)(*(int *)(iVar5 + 4) + 8));
    }
  }
  else {
    iVar3 = *(int *)(DAT_005df2c8 + 4);
    if (*(int *)(iVar3 + 0x28) == 0) {
      fVar1 = 0.05;
    }
    else {
      fVar1 = -0.05;
    }
    *(float *)(iVar3 + 0x24) = *(float *)(iVar3 + 0x24) - fVar1;
    if (*(float *)(*(int *)(DAT_005df2c8 + 4) + 0x24) < 0.2) {
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 4) + 0x24) = 0x3e4ccccd;
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 4) + 0x28) = 1;
    }
    if (1.0 < *(float *)(*(int *)(DAT_005df2c8 + 4) + 0x24)) {
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 4) + 0x24) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005df2c8 + 4) + 0x28) = 0;
    }
    iVar5 = DAT_005df2c8;
    iVar3 = *(int *)(DAT_005df2c8 + 4);
    uVar2 = __ftol();
    iVar8 = 0;
    uVar2 = ((uVar2 | 0xffffff00) << 8 | uVar2) << 8 | uVar2;
    if (0 < *(int *)(iVar3 + 8)) {
      iVar3 = 0;
      iVar6 = 0;
      do {
        if (*(int *)(*(int *)(iVar5 + 8) + 0x11a + iVar6) == 0) {
          if (*(char *)(*(int *)(iVar5 + 8) + iVar6 + 0x122) == '\0') {
            *(undefined4 *)(DAT_004d8028 + 0x70 + iVar3) = DAT_004d80f4;
            *(undefined4 *)(DAT_004d8028 + 0x50 + iVar3) = DAT_004d80f4;
            *(undefined4 *)(DAT_004d8028 + 0x30 + iVar3) = DAT_004d80f4;
            uVar7 = DAT_004d80f4;
            goto LAB_0042eebc;
          }
          *(uint *)(DAT_004d8028 + 0x70 + iVar3) = uVar2;
          *(uint *)(DAT_004d8028 + 0x50 + iVar3) = uVar2;
          *(uint *)(DAT_004d8028 + 0x30 + iVar3) = uVar2;
          *(uint *)(DAT_004d8028 + 0x10 + iVar3) = uVar2;
        }
        else {
          *(undefined4 *)(DAT_004d8028 + 0x70 + iVar3) = DAT_004d80f8;
          *(undefined4 *)(DAT_004d8028 + 0x50 + iVar3) = DAT_004d80f8;
          *(undefined4 *)(DAT_004d8028 + 0x30 + iVar3) = DAT_004d80f8;
          uVar7 = DAT_004d80f8;
LAB_0042eebc:
          *(undefined4 *)(DAT_004d8028 + 0x10 + iVar3) = uVar7;
        }
        iVar8 = iVar8 + 1;
        iVar6 = iVar6 + 0x140;
        iVar3 = iVar3 + 0x80;
        iVar5 = DAT_005df2c8;
        if (*(int *)(*(int *)(DAT_005df2c8 + 4) + 8) <= iVar8) {
          return;
        }
      } while( true );
    }
  }
  return;
}



undefined4 FUN_0042f000(uint param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  ushort *puVar3;
  int iVar4;
  undefined4 local_f0 [4];
  int local_e0;
  int local_cc;
  undefined4 local_84 [2];
  uint local_7c;
  uint local_78;
  int local_74;
  ushort *local_60;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  int *piStackY_38;
  undefined4 uStackY_34;
  int *piVar5;
  
  AdjustStackForLargeAllocations();
  piStackY_40 = *(int **)(param_1 * 0x140 + 4 + *(int *)(DAT_005df2c8 + 8));
  iVar1 = FUN_00424e90();
  if (iVar1 != 0) {
    _memset(local_f0,0,0x6c);
    local_f0[0] = 0x6c;
    piVar5 = (int *)0x0;
    iVar1 = (**(code **)(*piStackY_40 + 100))();
    if (iVar1 != 0) {
      return 0;
    }
    uStackY_34 = 0x42f08f;
    _memset(local_84,0,0x6c);
    local_84[0] = 0x6c;
    iVar4 = 0;
    uStackY_34 = 0;
    piStackY_38 = param_2;
    uStackY_3c = 0x42f0a5;
    iVar1 = (**(code **)(*param_2 + 100))();
    if (iVar1 != 0) {
      return 0;
    }
    param_1 = 0;
    if (local_7c != 0) {
      do {
        uVar2 = 0;
        puVar3 = local_60;
        if (local_78 != 0) {
          do {
            if ((uint)*puVar3 != *(uint *)(DAT_005e5010 + 0x21b8)) {
              *(ushort *)(local_cc + (uVar2 + iVar4) * 2) = *puVar3;
            }
            uVar2 = uVar2 + 1;
            puVar3 = puVar3 + 1;
            piStackY_40 = piVar5;
          } while (uVar2 < local_78);
        }
        local_60 = local_60 + (local_74 >> 1);
        param_1 = param_1 + 1;
        iVar4 = iVar4 + (local_e0 >> 1);
      } while (param_1 < local_7c);
    }
    uStackY_3c = 0;
    uStackY_44 = 0x42f146;
    (**(code **)(*piStackY_40 + 0x80))();
    uStackY_44 = 0;
    piStackY_48 = param_2;
    uStackY_4c = 0x42f151;
    (**(code **)(*param_2 + 0x80))();
  }
  return 1;
}



undefined4 FUN_0042f280(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *_Dst;
  short sVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined local_a8 [64];
  undefined4 local_68 [2];
  int *local_60;
  int local_5c;
  int local_58;
  undefined4 *puStackY_54;
  undefined **ppuStackY_50;
  undefined *local_38;
  int *local_34;
  undefined4 *puVar10;
  size_t _Size;
  short sVar11;
  
  AdjustStackForLargeAllocations();
  param_2 = param_2 * param_1;
  iVar4 = param_2 * 4;
  iVar1 = iVar4 / 2;
  sVar11 = 0;
  iVar2 = iVar1 / 2;
  *(int *)(*(int *)(DAT_005df2c8 + 4) + 0x20) = iVar4;
  _Size = param_2 * 0x80;
  _Dst = (void *)AllocateMemoryWithCallback();
  DAT_004d8028 = (undefined4 *)_memset(_Dst,iVar4,_Size);
  iVar4 = DAT_005e5010;
  if (DAT_004d8028 == (undefined4 *)0x0) {
    return 0;
  }
  puVar10 = &DAT_004d1ae0;
  puVar9 = &DAT_005dfde0;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar9 = *puVar10;
    puVar10 = puVar10 + 1;
    puVar9 = puVar9 + 1;
  }
  local_60 = *(int **)(iVar4 + 8);
  iVar4 = (**(code **)(*local_60 + 0x3c))();
  if (iVar4 != 0) {
    return 0;
  }
  puVar10 = &DAT_005dfde0;
  iVar4 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
  if (iVar4 != 0) {
    return 0;
  }
  local_34 = (int *)0x42f36d;
  _memset(&stack0xffffffd4,0,0x14);
  DAT_004d7f10 = (int *)0x0;
  local_34 = *(int **)(DAT_005e5010 + 8);
  local_38 = (undefined *)0x42f3a5;
  iVar4 = (**(code **)(*local_34 + 0x18))();
  if (iVar4 == 0) {
    local_38 = &stack0xffffffd4;
    iVar4 = (**(code **)(*DAT_004d7f10 + 0x10))();
    if (iVar4 == 0) {
      puVar9 = puVar10;
      _memset(puVar10,0,param_2 * 0x80 + (iVar2 * 8 + (iVar1 + iVar2 * 6) * 4) * 2);
      *(undefined4 **)(*(int *)(DAT_005df2c8 + 4) + 0xc) = puVar10;
      FUN_004311e0();
      DAT_004d802c = puVar10;
      if (puVar10 != DAT_004d8028) {
        FUN_004ad7a0();
      }
      puVar10 = puVar10 + param_2 * 0x20;
      iVar4 = 0;
      *(undefined *)puVar10 = 5;
      *(undefined *)((int)puVar10 + 1) = 0xc;
      *(undefined2 *)((int)puVar10 + 2) = 1;
      puVar10[2] = DAT_005dfe20;
      puVar10[3] = DAT_005b9ce8;
      puVar10[1] = DAT_005b9ce0;
      *(undefined *)(puVar10 + 4) = 8;
      *(undefined *)((int)puVar10 + 0x11) = 8;
      *(undefined2 *)((int)puVar10 + 0x12) = 6;
      puVar10[5] = 0x12;
      puVar10[6] = 1;
      puVar10[7] = 0x11;
      puVar10[8] = 1;
      puVar10[9] = 0x1c;
      puVar10[10] = 0;
      puVar10[0xb] = 0xf;
      puVar10[0xc] = 0;
      puVar10[0xd] = 0x21;
      puVar10[0xe] = 0;
      puVar10[0xf] = 0x1b;
      puVar10[0x10] = 0;
      puVar7 = puVar10 + 0x11;
      if (0 < iVar2) {
        param_1 = 0;
        do {
          *(undefined *)puVar7 = 9;
          *(undefined *)((int)puVar7 + 1) = 0x10;
          *(undefined2 *)((int)puVar7 + 2) = 1;
          puVar7[1] = 1;
          *(short *)(puVar7 + 2) = sVar11;
          *(short *)((int)puVar7 + 10) = sVar11;
          puVar7[3] = 4;
          puVar7[4] = 0;
          *(undefined *)(puVar7 + 5) = 8;
          *(undefined *)((int)puVar7 + 0x15) = 8;
          *(undefined2 *)((int)puVar7 + 0x16) = 1;
          puVar7[6] = 1;
          if (iVar4 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
            uVar6 = *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + 0x10 + param_1);
          }
          else {
            uVar6 = *(undefined4 *)(DAT_005df2c8 + 0xc0);
          }
          puVar7[7] = uVar6;
          puVar8 = puVar7 + 8;
          if (((uint)puVar8 & 7) == 0) {
            *(undefined *)puVar8 = 3;
            *(undefined *)((int)puVar7 + 0x21) = 8;
            *(undefined2 *)((int)puVar7 + 0x22) = 0;
            puVar8 = puVar7 + 9;
          }
          *(undefined *)puVar8 = 3;
          *(undefined *)((int)puVar8 + 1) = 8;
          *(undefined2 *)((int)puVar8 + 2) = 2;
          *(short *)((int)puVar8 + 6) = sVar11 + 1;
          *(short *)(puVar8 + 1) = sVar11;
          *(short *)(puVar8 + 2) = sVar11 + 2;
          *(undefined2 *)((int)puVar8 + 10) = 0x700;
          *(short *)(puVar8 + 3) = sVar11 + 2;
          sVar3 = sVar11 + 3;
          *(short *)(puVar8 + 4) = sVar11;
          sVar11 = sVar11 + 4;
          *(short *)((int)puVar8 + 0xe) = sVar3;
          *(undefined2 *)((int)puVar8 + 0x12) = 0x700;
          puVar7 = puVar8 + 5;
          iVar4 = iVar4 + 1;
          param_1 = param_1 + 0x140;
        } while (iVar4 < iVar2);
      }
      *(undefined *)puVar7 = 0xb;
      *(undefined *)((int)puVar7 + 1) = 0;
      *(undefined2 *)((int)puVar7 + 2) = 0;
      (**(code **)(*DAT_004d7f10 + 0x14))();
      ppuStackY_50 = (undefined **)0x42f5aa;
      _memset(local_68,0,0x30);
      local_5c = (int)puVar10 - (int)puVar9;
      local_58 = (int)puVar7 + (4 - (int)puVar10);
      local_68[0] = 0x30;
      (**(code **)(*DAT_004d7f10 + 0x18))();
      iVar4 = DAT_005e45e4;
      puVar10 = &DAT_004d1ae0;
      puVar9 = &DAT_005dfde0;
      for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar9 = *puVar10;
        puVar10 = puVar10 + 1;
        puVar9 = puVar9 + 1;
      }
      puVar10 = &DAT_004d1ae0;
      puVar9 = (undefined4 *)(iVar4 + 0x90);
      for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar9 = *puVar10;
        puVar10 = puVar10 + 1;
        puVar9 = puVar9 + 1;
      }
      puVar10 = &DAT_005dfde0;
      puVar9 = (undefined4 *)(DAT_005e45e4 + 0x4c);
      for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar9 = *puVar10;
        puVar10 = puVar10 + 1;
        puVar9 = puVar9 + 1;
      }
      *(undefined4 *)(DAT_005e45e4 + 0x4c) = 0xbf800000;
      *(undefined4 *)(DAT_005e45e4 + 0x54) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x6c) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x74) = 0xbf800000;
      ppuStackY_50 = &local_38;
      puStackY_54 = (undefined4 *)local_a8;
      local_38 = (undefined *)0x0;
      local_34 = (int *)0x3f800000;
      local_58 = 0x42f66a;
      FUN_0045fa30();
      ppuStackY_50 = (undefined **)local_a8;
      puStackY_54 = &DAT_005dfde0;
      local_58 = 0x42f683;
      MultiplyMatrices();
      *(undefined4 *)(DAT_005e45e4 + 0xc0) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0xc4) = 0x42b40000;
      *(float *)(DAT_005e45e4 + 200) =
           -((*(float *)(*(int *)(DAT_005df2c8 + 4) + 0x1c) - 322.289) - -3352.289);
      return 1;
    }
    return 0;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0042f6e0(int *param_1,undefined4 param_2)

{
  int iVar1;
  
  FUN_0042ed20();
  FUN_004ad7a0(DAT_004d802c,DAT_004d8028,*(int *)(*(int *)(DAT_005df2c8 + 4) + 0x20) << 5);
  iVar1 = (**(code **)(*param_1 + 0x20))(param_1,DAT_004d7f10,param_2,1);
  if (iVar1 != 0) {
    (**(code **)(*param_1 + 0x50))(param_1);
    return 0;
  }
  if (_DAT_005dfe18 < 2557.0) {
    _DAT_005dfe18 = _DAT_005dfe18 - -200.0;
  }
  return 1;
}



void FUN_0042f760(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  if (DAT_005df2d0 == 1) {
    FUN_00430710();
    DAT_005df2d0 = 0;
  }
  FUN_0043df50();
  if (DAT_004d80e4 == 0) goto switchD_0042f7a3_caseD_3;
  switch(DAT_005dfdc8) {
  case 2:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x88;
    goto LAB_0042f89c;
  default:
    goto switchD_0042f7a3_caseD_3;
  case 5:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0xb8;
    goto LAB_0042f89c;
  case 8:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0xe8;
    goto LAB_0042f89c;
  case 0xb:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x118;
    goto LAB_0042f89c;
  case 0xe:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x148;
LAB_0042f89c:
    uVar1 = 0x128;
    break;
  case 0x11:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18d;
    uVar1 = 0x164;
    break;
  case 0x14:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x191;
    break;
  case 0x17:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x1bd;
    break;
  case 0x1a:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x1e9;
    break;
  case 0x1d:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18d;
    uVar1 = 0x216;
  }
  FUN_0043dcb0(uVar1,uVar2,0,0,uVar3);
switchD_0042f7a3_caseD_3:
  switch(DAT_005dfdc8) {
  case 4:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x88;
    goto LAB_0042f9bb;
  default:
    goto switchD_0042f8c3_caseD_5;
  case 7:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0xb8;
    goto LAB_0042f9bb;
  case 10:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0xe8;
    goto LAB_0042f9bb;
  case 0xd:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x118;
    goto LAB_0042f9bb;
  case 0x10:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x148;
LAB_0042f9bb:
    uVar1 = 0x128;
    break;
  case 0x13:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18d;
    uVar1 = 0x164;
    break;
  case 0x16:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x191;
    break;
  case 0x19:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x1bd;
    break;
  case 0x1c:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18e;
    uVar1 = 0x1e9;
    break;
  case 0x1f:
    uVar3 = *(undefined4 *)(DAT_005df290 + 0x40);
    uVar2 = 0x18d;
    uVar1 = 0x216;
  }
  FUN_0043dcb0(uVar1,uVar2,0,0,uVar3);
switchD_0042f8c3_caseD_5:
  FUN_0043f430();
  FUN_0042aea0(DAT_005dfdc8);
  FUN_00430c60();
  return;
}



void FUN_0042fa80(void)

{
  int iVar1;
  
  if ((DAT_004d8024 == 0) && (DAT_004d804c == 0)) {
    switch(DAT_005dfdc8) {
    case 1:
    case 0x25:
      DAT_004d804c = 3;
      return;
    case 3:
    case 6:
    case 9:
    case 0xc:
    case 0xf:
      iVar1 = FUN_00431770();
      if (*(int *)(iVar1 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) != 0) {
        FUN_00475da0(1);
        switch(DAT_005dfdc8) {
        case 3:
          DAT_005dfdc8 = 2;
          return;
        default:
          return;
        case 6:
          DAT_005dfdc8 = 5;
          return;
        case 9:
          DAT_005dfdc8 = 8;
          return;
        case 0xc:
          DAT_005dfdc8 = 0xb;
          return;
        case 0xf:
          DAT_005dfdc8 = 0xe;
          return;
        }
      }
    case 0x12:
    case 0x15:
    case 0x18:
    case 0x1b:
    case 0x1e:
      DAT_004d804c = 6;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0042fbd0(void)

{
  int iVar1;
  short sVar2;
  undefined2 uVar3;
  size_t sVar4;
  uint uVar5;
  short *psVar6;
  void *pvVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  undefined local_38 [24];
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  iVar10 = -1;
  DAT_004d8050 = DAT_004d8050 + 3;
  if (DAT_004d8100 != 0) {
    puVar11 = &DAT_004d1ae0;
    puVar12 = &DAT_005dfde0;
    for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
      *puVar12 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar12 = puVar12 + 1;
    }
    _DAT_005dfe18 = 0xc2280000;
    uStackY_20 = 0x42fc4c;
    FUN_0045fa30();
    uStackY_20 = 0x42fc62;
    MultiplyMatrices();
    *(undefined4 *)(DAT_005e45e4 + 0xc0) = 0;
    *(undefined4 *)(DAT_005e45e4 + 0xc4) = 0x42b40000;
    *(float *)(DAT_005e45e4 + 200) =
         -((*(float *)(*(int *)(DAT_005df2c8 + 4) + 0x1c) - 322.289) - -3352.289);
    DAT_005dfdc8 = 8;
    if (DAT_00598d58 == 0) {
      if ((DAT_004d8020 != 0) && (iVar8 = 0, 0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8))) {
        iVar9 = 0;
        do {
          iVar1 = *(int *)(DAT_005df2c8 + 8) + iVar9;
          if (DAT_004ca030 < (int)(uint)*(byte *)(iVar1 + 0x19)) {
            *(undefined4 *)(iVar1 + 0x11a) = 1;
          }
          else {
            *(undefined4 *)(iVar1 + 0x11a) = 0;
          }
          iVar8 = iVar8 + 1;
          iVar9 = iVar9 + 0x140;
        } while (iVar8 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
      }
    }
    else {
      DAT_005dfdc8 = 0x24;
    }
    DAT_004d8100 = 0;
  }
  if (DAT_004d8024 < 1) {
    if (-1 < DAT_004d8024) goto LAB_0042fe10;
    uStackY_20 = 0x42fddb;
    FUN_0045fa30();
    uStackY_20 = 0x42fdf1;
    MultiplyMatrices();
    DAT_004d8024 = DAT_004d8024 + -1;
    if (DAT_004d8024 != -5) goto LAB_0042fe10;
  }
  else {
    uStackY_20 = 0x42fd74;
    FUN_0045fa30();
    uStackY_20 = 0x42fd8a;
    MultiplyMatrices();
    DAT_004d8024 = DAT_004d8024 + 1;
    if (DAT_004d8024 != 5) goto LAB_0042fe10;
  }
  DAT_004d8024 = 0;
  _DAT_004d8040 = 0;
LAB_0042fe10:
  if ((DAT_005d6660 != '\0') && (iVar8 = _strcmp(&DAT_005d6660,&DAT_004d7ef0), iVar8 != 0)) {
    sVar4 = _strlen(&DAT_005d6660);
    if (0 < (int)sVar4) {
      do {
        sVar4 = sVar4 - 1;
        if ((int)sVar4 < 0) break;
        uStackY_20 = 0x42fe5f;
        _memset(local_38,0,0x1e);
        uStackY_20 = 0x42fe71;
        FUN_004ad7a0();
        iVar10 = FUN_00430660();
      } while (iVar10 == -1);
    }
    if (iVar10 != -1) {
      sVar2 = *(short *)(*(int *)(DAT_005df2c8 + 4) + 4);
      FUN_00431770();
      uVar5 = iVar10 / (int)sVar2;
      uStackY_20 = 0x42fef7;
      FUN_0045fa30();
      uStackY_20 = 0x42ff0d;
      MultiplyMatrices();
      if (uVar5 < 5) {
        switch(uVar5) {
        case 0:
          DAT_005dfdc8 = 2;
          break;
        case 1:
          DAT_005dfdc8 = 5;
          break;
        case 2:
          DAT_005dfdc8 = 8;
          break;
        case 3:
          DAT_005dfdc8 = 0xb;
          break;
        case 4:
          DAT_005dfdc8 = 0xe;
        }
      }
    }
    FID_conflict___mbscpy(&DAT_004d7ef0,&DAT_005d6660);
  }
  iVar10 = 0;
  if ((DAT_004d804c != 0) && (DAT_004d804c = DAT_004d804c + -1, DAT_004d804c == 1)) {
    DAT_004d804c = 0;
    switch(DAT_005dfdc8) {
    case 1:
      FUN_0042a450();
      DAT_005dfdc8 = 0;
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      FUN_00430c20();
      puVar11 = &DAT_004d1ae0;
      puVar12 = &DAT_005dfde0;
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *puVar12 = *puVar11;
        puVar11 = puVar11 + 1;
        puVar12 = puVar12 + 1;
      }
      *(undefined4 *)(DAT_005e45e4 + 0x4c) = 0xbf800000;
      *(undefined4 *)(DAT_005e45e4 + 0x54) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x6c) = 0;
      *(undefined4 *)(DAT_005e45e4 + 0x74) = 0xbf800000;
      uStackY_20 = 0x430032;
      FUN_0045fa30();
      return;
    case 3:
    case 6:
    case 9:
    case 0xc:
    case 0xf:
      iVar10 = 0;
      psVar6 = (short *)(*(int *)(DAT_004d80f0 + 8) + 2);
      do {
        if (*psVar6 == -1) {
          *(short *)(DAT_004d80f0 + 0xc) = (short)iVar10;
          iVar8 = FUN_00431770();
          if (*(int *)(iVar8 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) == 0) {
            iVar10 = iVar10 * 8;
            uVar3 = FUN_00431770();
            sVar4 = 0x27;
            iVar8 = 0;
            *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar10) = uVar3;
            *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + iVar10) =
                 *(undefined2 *)
                  (*(int *)(DAT_005df2c8 + 8) + 0x14 +
                  *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar10) * 0x140);
            uStackY_20 = 0x4301f6;
            pvVar7 = (void *)AllocateMemoryWithCallback();
            uStackY_20 = 0x4301ff;
            pvVar7 = _memset(pvVar7,iVar8,sVar4);
            uStackY_20 = 0x430221;
            FUN_00415fa0();
            _AIL_init_sample_4();
            uStackY_20 = 0x430246;
            _AIL_set_sample_address_12();
            _AIL_set_sample_playback_rate_8();
            uStackY_20 = 0x430265;
            _AIL_set_sample_type_12();
            __ftol();
            _AIL_set_sample_volume_8();
            _AIL_set_sample_adpcm_block_size_8();
            _AIL_start_sample_4();
            if (pvVar7 != (void *)0x0) {
              FreeMemory();
            }
            DAT_005dfe24 = (int)*(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar10);
            if (DAT_004d80c0 == 0) {
              FUN_004357f0();
              DAT_004d8100 = 1;
              FUN_0042a450();
              DAT_005df2d0 = 1;
              FUN_00430c20();
            }
            else {
              DAT_004d80c0 = 0;
              FUN_004356a0();
              *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + iVar10 + 4) =
                   *(undefined4 *)
                    (*(int *)(DAT_005df2c8 + 8) +
                    *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar10) * 0x140);
              FUN_004357f0();
            }
          }
          else {
            FUN_00475da0();
          }
          break;
        }
        iVar10 = iVar10 + 1;
        psVar6 = psVar6 + 4;
      } while (iVar10 < 5);
      FUN_00475da0();
      switch(DAT_005dfdc8) {
      case 3:
        DAT_005dfdc8 = 2;
        return;
      case 6:
        DAT_005dfdc8 = 5;
        return;
      case 9:
        DAT_005dfdc8 = 8;
        return;
      case 0xc:
        DAT_005dfdc8 = 0xb;
        return;
      case 0xf:
        DAT_005dfdc8 = 0xe;
        return;
      }
      break;
    case 0x12:
    case 0x15:
    case 0x18:
    case 0x1b:
    case 0x1e:
      switch(DAT_005dfdc8) {
      case 0x12:
        iVar10 = 0;
        break;
      case 0x15:
        iVar10 = 1;
        break;
      case 0x18:
        iVar10 = 2;
        break;
      case 0x1b:
        iVar10 = 3;
        break;
      case 0x1e:
        iVar10 = 4;
      }
      if (*(short *)(*(int *)(DAT_004d80f0 + 8) + iVar10 * 8) == -1) {
        FUN_00475da0();
      }
      if (-1 < *(short *)(*(int *)(DAT_004d80f0 + 8) + iVar10 * 8)) {
        FUN_00475da0();
        *(short *)(DAT_004d80f0 + 0xc) = (short)iVar10;
        DAT_005dfe24 = (int)*(short *)(*(int *)(DAT_004d80f0 + 8) + 2 +
                                      *(short *)(DAT_004d80f0 + 0xc) * 8);
        if (DAT_004d80c0 == 0) {
          FUN_004357f0();
          FUN_0042a450();
          DAT_004d8100 = 1;
          DAT_005df2d0 = 1;
          FUN_00430c20();
        }
        else {
          FUN_00435700();
          *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0xffff;
          *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) =
               0xffff;
          *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 4 + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0;
          DAT_004d80c0 = 0;
        }
      }
      switch(DAT_005dfdc8) {
      case 0x12:
        DAT_005dfdc8 = 0x11;
        return;
      case 0x15:
        DAT_005dfdc8 = 0x14;
        return;
      case 0x18:
        DAT_005dfdc8 = 0x17;
        return;
      case 0x1b:
        DAT_005dfdc8 = 0x1a;
        return;
      case 0x1e:
        DAT_005dfdc8 = 0x1d;
      }
      break;
    case 0x25:
      psVar6 = *(short **)(DAT_004d80f0 + 8);
      if ((((*psVar6 == -1) && (psVar6[4] == -1)) && (psVar6[8] == -1)) &&
         ((psVar6[0xc] == -1 && (psVar6[0x10] == -1)))) {
        DAT_004d7bbc = 6;
        DAT_004c9f04 = DAT_004cb05c;
        FUN_0042a450();
        DAT_004d8100 = 1;
        DAT_005df2d0 = 1;
        DAT_005dfdc8 = 0x24;
        FUN_00430c20();
        return;
      }
      FUN_00416240();
      FUN_0042a450();
      FUN_0048daa0();
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      if (DAT_004d8020 != 0) {
        if (DAT_004ca030 <= *(int *)(DAT_005df2c8 + 0xcc)) {
          iVar8 = DAT_004ca030 * 0x222;
          iVar10 = DAT_004ca030;
          do {
            iVar10 = iVar10 + 1;
            *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar8) = 1;
            iVar8 = iVar8 + 0x222;
          } while (iVar10 <= *(int *)(DAT_005df2c8 + 0xcc));
        }
        iVar10 = 0x15;
        if (0x14 < *(int *)(DAT_005df2c8 + 0xcc)) {
          iVar8 = 0x2cca;
          do {
            iVar10 = iVar10 + 1;
            *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar8) = 0;
            iVar8 = iVar8 + 0x222;
          } while (iVar10 <= *(int *)(DAT_005df2c8 + 0xcc));
        }
        DAT_004d8020 = 0;
        return;
      }
    }
  }
  return;
}



int FUN_00430660(int param_1,int param_2)

{
  size_t sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  iVar4 = 0;
  if (*(int *)(*(int *)(DAT_005df2c8 + 4) + 8) < 1) {
    return -1;
  }
  do {
    sVar1 = _strlen((char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + iVar3));
    iVar2 = 0;
    iVar5 = 0;
    if (0 < (int)sVar1) {
      do {
        if (param_2 <= iVar2) break;
        if (*(char *)(*(int *)(DAT_005df2c8 + 8) + iVar2 + 0x1a + iVar3) ==
            *(char *)(iVar2 + param_1)) {
          iVar5 = iVar5 + 1;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < (int)sVar1);
    }
    if ((iVar5 == param_2) && (param_2 != 0)) {
      return iVar4;
    }
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 0x140;
    if (*(int *)(*(int *)(DAT_005df2c8 + 4) + 8) <= iVar4) {
      return -1;
    }
  } while( true );
}



undefined4 FUN_00430710(void)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = FUN_0042abb0(DAT_005df290[2],0x32,0x15,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a,0x35);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 2;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15,0x34);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x16;
    *(undefined2 *)(iVar2 + 10) = 2;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 0;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x16;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a,0x34);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x17;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 0x24;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x17;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 3;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x22],0x32,0x168,0x94);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 0x6d;
    *(undefined2 *)(iVar2 + 0x3a) = 0x26;
    *(undefined2 *)(iVar2 + 0x26) = 0x6d;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined4 *)(iVar2 + 4) = DAT_005df290[0x23];
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x22],0x32,0x18b,0x94);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 0x6e;
    *(undefined2 *)(iVar2 + 0x3a) = 0x28;
    *(undefined2 *)(iVar2 + 0x26) = 0x6e;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined4 *)(iVar2 + 4) = DAT_005df290[0x23];
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x22],0x32,0x1ae,0x94);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x74;
    *(undefined2 *)(iVar2 + 0x3a) = 0x2a;
    *(undefined2 *)(iVar2 + 0x26) = 0x74;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined4 *)(iVar2 + 4) = DAT_005df290[0x23];
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[7],0x159,0x182,0x3a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x130,0x88,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 3;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    *(undefined2 *)(iVar2 + 10) = 1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x130,0xb7,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 4;
    *(undefined2 *)(iVar2 + 0x3a) = 5;
    *(undefined2 *)(iVar2 + 10) = 2;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x130,0xe5,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 5;
    *(undefined2 *)(iVar2 + 0x3a) = 8;
    *(undefined2 *)(iVar2 + 10) = 3;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x130,0x114,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 6;
    *(undefined2 *)(iVar2 + 0x3a) = 0xb;
    *(undefined2 *)(iVar2 + 10) = 4;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x130,0x143,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 7;
    *(undefined2 *)(iVar2 + 0x3a) = 0xe;
    *(undefined2 *)(iVar2 + 10) = 5;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x16d,0x195,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 8;
    *(undefined2 *)(iVar2 + 0x3a) = 0x11;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
    *(undefined2 *)(iVar2 + 10) = 6;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x19a,0x195,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 9;
    *(undefined2 *)(iVar2 + 0x3a) = 0x14;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
    *(undefined2 *)(iVar2 + 10) = 7;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x1c6,0x195,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 10;
    *(undefined2 *)(iVar2 + 0x3a) = 0x17;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
    *(undefined2 *)(iVar2 + 10) = 8;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x1f2,0x195,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 0xb;
    *(undefined2 *)(iVar2 + 0x3a) = 0x1a;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
    *(undefined2 *)(iVar2 + 10) = 9;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[0x20],0x21f,0x195,0x6c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 0xc;
    *(undefined2 *)(iVar2 + 0x3a) = 0x1d;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
    *(undefined2 *)(iVar2 + 10) = 10;
  }
  FUN_0042a520(iVar2);
  FUN_0042a630();
  return 1;
}



void FUN_00430c20(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  *(float *)(DAT_005e45e4 + 200) =
       -((*(float *)(*(int *)(DAT_005df2c8 + 4) + 0x1c) - 322.289) - -3352.289);
  return;
}



void FUN_00430c60(void)

{
  int iVar1;
  undefined local_48 [22];
  undefined local_32;
  undefined4 local_30;
  undefined uStackY_2c;
  undefined2 local_2b;
  undefined local_29;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  uint uStackY_20;
  undefined4 uStackY_1c;
  undefined4 uStackY_18;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  iVar1 = 0;
  iVar2 = 0;
  if (DAT_004d8024 == 0) {
    iVar2 = FUN_00431770();
  }
  if ((DAT_005dfdc8 == DAT_004d7f18) && (DAT_004ca1fc == iVar2)) goto switchD_00430d6e_caseD_1;
  if (DAT_005dfdc8 == 1) {
    return;
  }
  if (((((DAT_005dfdc8 == 0x25) || (DAT_005dfdc8 == 3)) || (DAT_005dfdc8 == 6)) ||
      ((((DAT_005dfdc8 == 9 || (DAT_005dfdc8 == 0xc)) ||
        ((DAT_005dfdc8 == 0xf || ((DAT_005dfdc8 == 0x12 || (DAT_005dfdc8 == 0x15)))))) ||
       (DAT_005dfdc8 == 0x18)))) || ((DAT_005dfdc8 == 0x1b || (DAT_005dfdc8 == 0x1e))))
  goto switchD_00430d6e_caseD_1;
  uStackY_18 = 0x430d21;
  _memset(local_48,0,0x3d);
  local_32 = 0xd;
  local_30 = CONCAT13(local_30._3_1_,0x30000);
  local_2b = 0x3f;
  local_29 = 0x5b;
  uStackY_28 = 0;
  local_27 = 0xa5;
  local_25 = 0xe;
  uStackY_24 = 0;
  local_23 = 0;
  local_21 = 0;
  uStackY_20 = uStackY_20 & 0xffffff00;
  switch(DAT_005dfdc8) {
  case 0:
    FUN_00492720();
    uStackY_28 = (undefined)DAT_005ded58;
    local_27 = (undefined2)((uint)DAT_005ded58 >> 8);
    local_25 = (undefined)((uint)DAT_005ded58 >> 0x18);
    break;
  default:
    goto switchD_00430d6e_caseD_1;
  case 2:
  case 5:
  case 8:
  case 0xb:
  case 0xe:
    if (DAT_004d8024 != 0) goto switchD_00430d6e_caseD_1;
    FID_conflict___mbscpy(&DAT_004d7f20,&DAT_004d7df0);
    FID_conflict___mbscpy(&DAT_004d7df0,(char *)(iVar2 * 0x140 + 0x1a + *(int *)(DAT_005df2c8 + 8)))
    ;
    ToUpperCase();
    iVar1 = _strcmp(&DAT_004d7df0,&DAT_004d7f20);
    if (iVar1 == 0) goto switchD_00430d6e_caseD_1;
    FUN_00492720();
    local_32 = 0xd;
LAB_00430ec0:
    uStackY_28 = 0xf0;
    local_27 = 0x4d7d;
    local_25 = 0;
    break;
  case 0x11:
  case 0x14:
  case 0x17:
  case 0x1a:
  case 0x1d:
    switch(DAT_005dfdc8) {
    case 0x11:
    case 0x12:
      iVar1 = 0;
      break;
    case 0x14:
    case 0x15:
      iVar1 = 1;
      break;
    case 0x17:
    case 0x18:
      iVar1 = 2;
      break;
    case 0x1a:
    case 0x1b:
      iVar1 = 3;
      break;
    case 0x1d:
    case 0x1e:
      iVar1 = 4;
    }
    if (*(short *)(*(int *)(DAT_004d80f0 + 8) + iVar1 * 8) != -1) {
      FID_conflict___mbscpy(&DAT_004d7f20,&DAT_004d7df0);
      FID_conflict___mbscpy
                (&DAT_004d7df0,
                 (char *)(*(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar1 * 8) * 0x140 + 0x1a +
                         *(int *)(DAT_005df2c8 + 8)));
      ConvertString();
      iVar1 = _strcmp(&DAT_004d7df0,&DAT_004d7f20);
      if (iVar1 == 0) goto switchD_00430d6e_caseD_1;
      FUN_00492720();
      goto LAB_00430ec0;
    }
    FUN_00492720();
    uStackY_28 = (undefined)DAT_005ded64;
    local_27 = (undefined2)((uint)DAT_005ded64 >> 8);
    local_25 = (undefined)((uint)DAT_005ded64 >> 0x18);
    break;
  case 0x24:
    FUN_00492720();
    uStackY_28 = (undefined)DAT_005ded5c;
    local_27 = (undefined2)((uint)DAT_005ded5c >> 8);
    local_25 = (undefined)((uint)DAT_005ded5c >> 0x18);
  }
  uStackY_18 = 1;
  uStackY_1c = 5;
  uStackY_20 = 600;
  local_21 = 0;
  local_23 = 0;
  uStackY_24 = 0;
  uStackY_2c = 1;
  local_2b = 0;
  local_29 = 0;
  local_30 = 0x430f48;
  FUN_00492100();
switchD_00430d6e_caseD_1:
  if (((((DAT_005dfdc8 != 1) && (DAT_005dfdc8 != 0x25)) && (DAT_005dfdc8 != 3)) &&
      (((DAT_005dfdc8 != 6 && (DAT_005dfdc8 != 9)) &&
       ((DAT_005dfdc8 != 0xc && ((DAT_005dfdc8 != 0xf && (DAT_005dfdc8 != 0x12)))))))) &&
     ((DAT_005dfdc8 != 0x15 &&
      ((((DAT_005dfdc8 != 0x18 && (DAT_005dfdc8 != 0x1b)) && (DAT_005dfdc8 != 0x1e)) &&
       (DAT_004d7f18 = DAT_005dfdc8, DAT_004ca1fc != iVar2)))))) {
    DAT_004ca1fc = iVar2;
  }
  return;
}



undefined4 FUN_00431030(void)

{
  undefined2 *puVar1;
  bool bVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  bVar2 = false;
  iVar5 = 0;
  iVar9 = 0;
  iVar11 = 0;
  uVar3 = 0xffffffff;
  iVar7 = DAT_004d80f0;
  do {
    if (bVar2) goto LAB_0043107e;
    if (*(short *)(*(int *)(iVar7 + 8) + 2 + iVar5 * 8) == -1) {
      *(short *)(iVar7 + 0xc) = (short)iVar5;
      bVar2 = true;
      iVar7 = DAT_004d80f0;
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 5);
  if (bVar2) {
LAB_0043107e:
    FUN_004af640();
    iVar7 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
    iVar10 = iVar7;
    iVar4 = __ftol();
    iVar8 = iVar4 * 0x140;
    iVar5 = iVar7;
    do {
      if (iVar5 <= iVar11) break;
      if (*(int *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + iVar8) == 0) {
        bVar2 = false;
        iVar5 = 5;
        psVar6 = (short *)(*(int *)(DAT_004d80f0 + 8) + 2);
        do {
          if (*psVar6 == iVar4) {
            bVar2 = true;
          }
          psVar6 = psVar6 + 4;
          iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
        iVar5 = iVar10;
        if (bVar2) {
          iVar4 = iVar4 + 1;
          iVar8 = iVar8 + 0x140;
          iVar11 = iVar11 + 1;
        }
        else {
          iVar9 = 1;
        }
      }
      else {
        iVar4 = iVar4 + 1;
        iVar8 = iVar8 + 0x140;
        iVar11 = iVar11 + 1;
        if (iVar5 <= iVar4) {
          iVar4 = iVar4 - iVar5;
          iVar8 = iVar8 + iVar7 * -0x140;
        }
      }
    } while (iVar9 == 0);
    *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) = (short)iVar4;
    puVar1 = (undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8);
    *puVar1 = *(undefined2 *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + (short)puVar1[1] * 0x140);
    DAT_005dfe24 = (int)*(short *)(*(int *)(DAT_004d80f0 + 8) + 2 +
                                  *(short *)(DAT_004d80f0 + 0xc) * 8);
    *(undefined4 *)(iVar4 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) = 1;
    uVar3 = CONCAT22((short)((uint)DAT_004d80f0 >> 0x10),
                     *(undefined2 *)
                      (*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8));
  }
  return uVar3;
}



void FUN_004311e0(int param_1,int param_2)

{
  double dVar1;
  float fVar2;
  int iVar3;
  float10 fVar4;
  int local_3c;
  int iStackY_38;
  int local_28;
  int local_24;
  int local_20;
  int iVar5;
  float fVar6;
  
  AdjustStackForLargeAllocations();
  fVar2 = (float)param_1 * 90.0 * 0.1591549 * 0.5;
  *(float *)(*(int *)(DAT_005df2c8 + 4) + 0x1c) = fVar2;
  DAT_005dfdc4 = 6.283185 / (float)(int)*(short *)(*(int *)(DAT_005df2c8 + 4) + 4);
  DAT_004d7de8 = DAT_005dfdc4 * 0.3333333;
  if (0 < param_2) {
    local_24 = 0;
    iStackY_38 = 0;
    local_28 = param_2;
    do {
      fVar6 = 0.0;
      iVar3 = local_24;
      local_20 = param_1;
      iVar5 = iStackY_38;
      if (0 < param_1) {
        do {
          if (*(int *)(*(int *)(DAT_005df2c8 + 8) + 0x10 + iVar5) != 0) {
            dVar1 = (double)fVar6;
            local_3c = SUB84(dVar1,0);
            fVar4 = (float10)FUN_004ae014(dVar1);
            *(float *)(DAT_004d8028 + iVar3) = (float)(fVar4 * (float10)fVar2);
            *(float *)(DAT_004d8028 + 4 + iVar3) = (float)local_3c * 45.0;
            fVar4 = (float10)FUN_004ae0c4(dVar1);
            *(float *)(DAT_004d8028 + 8 + iVar3) = (float)(fVar4 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8028 + 0x18 + iVar3) = 0x3c23d70a;
            dVar1 = (double)(fVar6 - (6.283185 / (float)param_1) * 0.6666667);
            iStackY_38 = (int)((ulonglong)dVar1 >> 0x20);
            local_3c = SUB84(dVar1,0);
            *(undefined4 *)(DAT_004d8028 + 0x1c + iVar3) = 0x3c23d70a;
            fVar4 = (float10)FUN_004ae014(dVar1);
            *(float *)(DAT_004d8028 + 0x20 + iVar3) = (float)(fVar4 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8028 + 0x24 + iVar3) = *(undefined4 *)(DAT_004d8028 + 4 + iVar3)
            ;
            fVar4 = (float10)FUN_004ae0c4(local_3c);
            *(float *)(DAT_004d8028 + 0x28 + iVar3) = (float)(fVar4 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8028 + 0x38 + iVar3) = 0x3f800000;
            *(undefined4 *)(DAT_004d8028 + 0x3c + iVar3) = 0x3c23d70a;
            *(undefined4 *)(DAT_004d8028 + 0x40 + iVar3) =
                 *(undefined4 *)(DAT_004d8028 + 0x20 + iVar3);
            *(float *)(DAT_004d8028 + 0x44 + iVar3) = *(float *)(DAT_004d8028 + 4 + iVar3) - 30.0;
            *(undefined4 *)(DAT_004d8028 + 0x48 + iVar3) =
                 *(undefined4 *)(DAT_004d8028 + 0x28 + iVar3);
            *(undefined4 *)(DAT_004d8028 + 0x58 + iVar3) = 0x3f800000;
            *(undefined4 *)(DAT_004d8028 + 0x5c + iVar3) = 0x3f800000;
            *(undefined4 *)(DAT_004d8028 + 0x60 + iVar3) = *(undefined4 *)(DAT_004d8028 + iVar3);
            *(float *)(DAT_004d8028 + 100 + iVar3) = *(float *)(DAT_004d8028 + 4 + iVar3) - 30.0;
            fVar6 = fVar6 - 6.15993e-39;
            *(undefined4 *)(DAT_004d8028 + 0x68 + iVar3) = *(undefined4 *)(DAT_004d8028 + 8 + iVar3)
            ;
            *(undefined4 *)(DAT_004d8028 + 0x78 + iVar3) = 0x3c23d70a;
            *(undefined4 *)(DAT_004d8028 + 0x7c + iVar3) = 0x3f800000;
          }
          local_20 = local_20 + -1;
          iVar3 = iVar3 + 0x80;
          iVar5 = iVar5 + 0x140;
        } while (local_20 != 0);
      }
      iStackY_38 = iStackY_38 + param_1 * 0x140;
      local_24 = local_24 + param_1 * 0x80;
      local_28 = local_28 + -1;
    } while (local_28 != 0);
  }
  param_2 = param_2 * param_1;
  if (0 < param_2) {
    iVar3 = 0;
    do {
      *(undefined4 *)(DAT_004d8028 + 0x70 + iVar3) = DAT_004d80f4;
      *(undefined4 *)(DAT_004d8028 + 0x50 + iVar3) = DAT_004d80f4;
      *(undefined4 *)(DAT_004d8028 + 0x30 + iVar3) = DAT_004d80f4;
      *(undefined4 *)(DAT_004d8028 + 0x10 + iVar3) = DAT_004d80f4;
      iVar3 = iVar3 + 0x80;
      param_2 = param_2 + -1;
    } while (param_2 != 0);
  }
  return;
}



void FUN_004314d0(int param_1,int param_2)

{
  double dVar1;
  float fVar2;
  int unaff_EBX;
  float10 fVar3;
  int local_38;
  int iStackY_34;
  int local_24;
  int local_20;
  int iVar4;
  int iVar5;
  float fVar6;
  
  AdjustStackForLargeAllocations();
  fVar2 = (float)param_1 * 90.0 * 0.1591549 * 0.5;
  if (0 < param_2) {
    iVar4 = 0;
    local_24 = param_2;
    do {
      fVar6 = 0.0;
      local_20 = param_1;
      iStackY_34 = iVar4;
      iVar5 = unaff_EBX;
      if (0 < param_1) {
        do {
          if (*(int *)(*(int *)(DAT_005df2c8 + 8) + 0x10 + iVar5) != 0) {
            dVar1 = (double)fVar6;
            local_38 = SUB84(dVar1,0);
            fVar3 = (float10)FUN_004ae014(dVar1);
            *(float *)(DAT_004d8030 + iVar4) = (float)(fVar3 * (float10)fVar2);
            *(float *)(DAT_004d8030 + 4 + iVar4) = (float)local_38 * 45.0;
            fVar3 = (float10)FUN_004ae0c4(dVar1);
            *(float *)(DAT_004d8030 + 8 + iVar4) = (float)(fVar3 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8030 + 0x18 + iVar4) = 0x3c23d70a;
            *(undefined4 *)(DAT_004d8030 + 0x1c + iVar4) = 0x3c23d70a;
            dVar1 = (double)(fVar6 - (6.283185 / (float)param_1) * 0.8444445);
            iStackY_34 = (int)((ulonglong)dVar1 >> 0x20);
            local_38 = SUB84(dVar1,0);
            *(undefined4 *)(DAT_004d8030 + 0x10 + iVar4) = DAT_004d80f4;
            fVar3 = (float10)FUN_004ae014(dVar1);
            *(float *)(DAT_004d8030 + 0x20 + iVar4) = (float)(fVar3 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8030 + 0x24 + iVar4) = *(undefined4 *)(DAT_004d8030 + 4 + iVar4)
            ;
            fVar3 = (float10)FUN_004ae0c4(local_38);
            *(float *)(DAT_004d8030 + 0x28 + iVar4) = (float)(fVar3 * (float10)fVar2);
            *(undefined4 *)(DAT_004d8030 + 0x38 + iVar4) = 0x3f800000;
            *(undefined4 *)(DAT_004d8030 + 0x3c + iVar4) = 0x3c23d70a;
            *(undefined4 *)(DAT_004d8030 + 0x30 + iVar4) = DAT_004d80f4;
            *(undefined4 *)(DAT_004d8030 + 0x40 + iVar4) =
                 *(undefined4 *)(DAT_004d8030 + 0x20 + iVar4);
            *(float *)(DAT_004d8030 + 0x44 + iVar4) = *(float *)(DAT_004d8030 + 4 + iVar4) - 38.0;
            *(undefined4 *)(DAT_004d8030 + 0x48 + iVar4) =
                 *(undefined4 *)(DAT_004d8030 + 0x28 + iVar4);
            *(undefined4 *)(DAT_004d8030 + 0x58 + iVar4) = 0x3f800000;
            *(undefined4 *)(DAT_004d8030 + 0x5c + iVar4) = 0x3f800000;
            *(undefined4 *)(DAT_004d8030 + 0x50 + iVar4) = DAT_004d80f4;
            *(undefined4 *)(DAT_004d8030 + 0x60 + iVar4) = *(undefined4 *)(DAT_004d8030 + iVar4);
            *(float *)(DAT_004d8030 + 100 + iVar4) = *(float *)(DAT_004d8030 + 4 + iVar4) - 38.0;
            *(undefined4 *)(DAT_004d8030 + 0x68 + iVar4) = *(undefined4 *)(DAT_004d8030 + 8 + iVar4)
            ;
            fVar6 = fVar6 - 6.160925e-39;
            *(undefined4 *)(DAT_004d8030 + 0x78 + iVar4) = 0x3c23d70a;
            *(undefined4 *)(DAT_004d8030 + 0x7c + iVar4) = 0x3f800000;
            *(undefined4 *)(DAT_004d8030 + 0x70 + iVar4) = DAT_004d80f4;
          }
          iVar4 = iVar4 + 0x80;
          local_20 = local_20 + -1;
          iVar5 = iVar5 + 0x140;
        } while (local_20 != 0);
      }
      unaff_EBX = unaff_EBX + param_1 * 0x140;
      iVar4 = iStackY_34 + param_1 * 0x80;
      local_24 = local_24 + -1;
    } while (local_24 != 0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00431770(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  if (0.0 <= _DAT_005dfde8) {
    FUN_004af934((double)DAT_005dfde0);
  }
  else {
    FUN_004af934((double)DAT_005dfde0);
  }
  iVar2 = *(int *)(DAT_005df2c8 + 4);
  sVar1 = *(short *)(iVar2 + 4);
  iVar3 = __ftol();
  switch(DAT_005dfdc8) {
  case 2:
  case 3:
    iVar4 = 0;
    break;
  case 5:
  case 6:
    iVar4 = 1;
    break;
  case 8:
  case 9:
    iVar4 = 2;
    break;
  case 0xb:
  case 0xc:
    iVar4 = 3;
    break;
  case 0xe:
  case 0xf:
    iVar4 = 4;
  }
  if (DAT_004d8260 == 0) goto LAB_00431893;
  if (DAT_004d833c < 0x7e) {
    if (0xab < DAT_004d833c) goto LAB_00431841;
    if (0xd8 < DAT_004d833c) goto LAB_00431858;
    if (0x106 < DAT_004d833c) goto LAB_0043186f;
    if (DAT_004d833c < 0x135) goto LAB_00431893;
  }
  else {
    if (DAT_004d833c < 0xad) {
      iVar4 = 0;
      goto LAB_00431893;
    }
LAB_00431841:
    if (DAT_004d833c < 0xda) {
      iVar4 = 1;
      goto LAB_00431893;
    }
LAB_00431858:
    if (DAT_004d833c < 0x108) {
      iVar4 = 2;
      goto LAB_00431893;
    }
LAB_0043186f:
    if (DAT_004d833c < 0x136) {
      iVar4 = 3;
      goto LAB_00431893;
    }
  }
  if (DAT_004d833c < 0x158) {
    iVar4 = 4;
  }
LAB_00431893:
  uVar5 = iVar4 * sVar1 + iVar3;
  return (*(int *)(iVar2 + 8) <= (int)uVar5) - 1 & uVar5;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004318e0(int param_1)

{
  undefined4 local_50 [14];
  undefined4 uStack_18;
  undefined *puStack_14;
  undefined4 *local_10;
  undefined4 **local_c;
  undefined4 *local_8;
  
  local_8 = (undefined4 *)0x4318ed;
  AdjustStackForLargeAllocations();
  if (DAT_004d8024 == 0) {
    if (param_1 == 0) {
      local_8 = (undefined4 *)0x0;
      local_c = (undefined4 **)0x4;
      local_10 = (undefined4 *)0x0;
      puStack_14 = &DAT_005e4b80;
      uStack_18 = 0x43199a;
      FUN_00475bf0();
      local_8 = (undefined4 *)0x0;
      local_c = (undefined4 **)0x4319a4;
      FUN_00431a20();
      local_c = &local_10;
      local_10 = local_50;
      local_8 = (undefined4 *)(-(DAT_005dfdc4 / _DAT_004ca1f8) * (float)_DAT_004d8040);
      puStack_14 = (undefined *)0x4319e1;
      FUN_0045fa30();
      local_c = (undefined4 **)local_50;
      local_8 = &DAT_005dfde0;
      local_10 = &DAT_005dfde0;
      puStack_14 = (undefined *)0x4319f7;
      MultiplyMatrices();
      local_8 = (undefined4 *)0x4319ff;
      thunk_FUN_00431770();
      DAT_004d8024 = DAT_004d8024 + -1;
    }
    else if (param_1 == 1) {
      local_8 = (undefined4 *)0x0;
      local_c = (undefined4 **)0x4;
      local_10 = (undefined4 *)0x0;
      puStack_14 = &DAT_005e4b80;
      uStack_18 = 0x43191d;
      FUN_00475bf0();
      local_8 = (undefined4 *)0x1;
      local_c = (undefined4 **)0x431927;
      FUN_00431a20();
      local_c = &local_10;
      local_10 = local_50;
      local_8 = (undefined4 *)((DAT_005dfdc4 / _DAT_004ca1f8) * (float)_DAT_004d8040);
      puStack_14 = (undefined *)0x431962;
      FUN_0045fa30();
      local_c = (undefined4 **)local_50;
      local_8 = &DAT_005dfde0;
      local_10 = &DAT_005dfde0;
      puStack_14 = (undefined *)0x431978;
      MultiplyMatrices();
      local_8 = (undefined4 *)0x431980;
      thunk_FUN_00431770();
      DAT_004d8024 = DAT_004d8024 + 1;
      return;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint thunk_FUN_00431770(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  if (0.0 <= _DAT_005dfde8) {
    FUN_004af934((double)DAT_005dfde0);
  }
  else {
    FUN_004af934((double)DAT_005dfde0);
  }
  iVar2 = *(int *)(DAT_005df2c8 + 4);
  sVar1 = *(short *)(iVar2 + 4);
  iVar3 = __ftol();
  switch(DAT_005dfdc8) {
  case 2:
  case 3:
    iVar4 = 0;
    break;
  case 5:
  case 6:
    iVar4 = 1;
    break;
  case 8:
  case 9:
    iVar4 = 2;
    break;
  case 0xb:
  case 0xc:
    iVar4 = 3;
    break;
  case 0xe:
  case 0xf:
    iVar4 = 4;
  }
  if (DAT_004d8260 == 0) goto LAB_00431893;
  if (DAT_004d833c < 0x7e) {
    if (0xab < DAT_004d833c) goto LAB_00431841;
    if (0xd8 < DAT_004d833c) goto LAB_00431858;
    if (0x106 < DAT_004d833c) goto LAB_0043186f;
    if (DAT_004d833c < 0x135) goto LAB_00431893;
  }
  else {
    if (DAT_004d833c < 0xad) {
      iVar4 = 0;
      goto LAB_00431893;
    }
LAB_00431841:
    if (DAT_004d833c < 0xda) {
      iVar4 = 1;
      goto LAB_00431893;
    }
LAB_00431858:
    if (DAT_004d833c < 0x108) {
      iVar4 = 2;
      goto LAB_00431893;
    }
LAB_0043186f:
    if (DAT_004d833c < 0x136) {
      iVar4 = 3;
      goto LAB_00431893;
    }
  }
  if (DAT_004d833c < 0x158) {
    iVar4 = 4;
  }
LAB_00431893:
  uVar5 = iVar4 * sVar1 + iVar3;
  return (*(int *)(iVar2 + 8) <= (int)uVar5) - 1 & uVar5;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00431a20(int param_1)

{
  FUN_00431770();
  if ((param_1 == 1) || (param_1 == 0)) {
    _DAT_004d8040 = 1;
  }
  return;
}



void FUN_00431a40(char *param_1,int param_2)

{
  char cVar1;
  int iVar2;
  
  param_2 = param_2 - (int)param_1;
  iVar2 = 3;
  do {
    cVar1 = *param_1;
    if ((cVar1 < 'A') || ('Z' < cVar1)) {
      if (('`' < cVar1) && (cVar1 < '{')) {
        cVar1 = cVar1 + -0x20;
        goto LAB_00431a65;
      }
    }
    else {
LAB_00431a65:
      param_1[param_2] = cVar1;
    }
    param_1 = param_1 + 1;
    iVar2 = iVar2 + -1;
    if (iVar2 == 0) {
      return;
    }
  } while( true );
}



int FUN_00431b70(int param_1)

{
  uint3 uVar1;
  
  uVar1 = (uint3)((uint)(param_1 + -0x10) >> 8);
  switch(param_1 + -0x10) {
  case 0:
    return CONCAT31(uVar1,0x51);
  case 1:
    return CONCAT31(uVar1,0x57);
  case 2:
    return CONCAT31(uVar1,0x45);
  case 3:
    return CONCAT31(uVar1,0x52);
  case 4:
    return CONCAT31(uVar1,0x54);
  case 5:
    return CONCAT31(uVar1,0x59);
  case 6:
    return CONCAT31(uVar1,0x55);
  case 7:
    return CONCAT31(uVar1,0x49);
  case 8:
    return CONCAT31(uVar1,0x4f);
  case 9:
    return CONCAT31(uVar1,0x50);
  default:
    return (uint)uVar1 << 8;
  case 0xe:
    return CONCAT31(uVar1,0x41);
  case 0xf:
    return CONCAT31(uVar1,0x53);
  case 0x10:
    return CONCAT31(uVar1,0x44);
  case 0x11:
    return CONCAT31(uVar1,0x46);
  case 0x12:
    return CONCAT31(uVar1,0x47);
  case 0x13:
    return CONCAT31(uVar1,0x48);
  case 0x14:
    return CONCAT31(uVar1,0x4a);
  case 0x15:
    return CONCAT31(uVar1,0x4b);
  case 0x16:
    return CONCAT31(uVar1,0x4c);
  case 0x1c:
    return CONCAT31(uVar1,0x5a);
  case 0x1d:
    return CONCAT31(uVar1,0x58);
  case 0x1e:
    return CONCAT31(uVar1,0x43);
  case 0x1f:
    return CONCAT31(uVar1,0x56);
  case 0x20:
    return CONCAT31(uVar1,0x42);
  case 0x21:
    return CONCAT31(uVar1,0x4e);
  case 0x22:
    return CONCAT31(uVar1,0x4d);
  }
}



void FUN_00431c80(void)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = *(int *)(DAT_005df2c8 + 4);
  if (iVar1 != 0) {
    piVar2 = *(int **)(iVar1 + 0x10);
    if (piVar2 != (int *)0x0) {
      if (*piVar2 == 0) {
        *(undefined4 *)(iVar1 + 0x10) = 0;
      }
      else {
        (**(code **)(*piVar2 + 8))(piVar2);
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 4) + 0x10) = 0;
      }
    }
    if (*(int *)(DAT_005df2c8 + 4) != 0) {
      FreeMemory(*(int *)(DAT_005df2c8 + 4));
      *(undefined4 *)(DAT_005df2c8 + 4) = 0;
    }
  }
  if (DAT_004d8028 != 0) {
    FreeMemory(DAT_004d8028);
    DAT_004d8028 = 0;
  }
  return;
}



undefined4 FUN_00431cf0(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  if (DAT_004d7dec < 1) {
    return 1;
  }
  iVar3 = 0;
  do {
    piVar1 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar3);
    if (piVar1 != (int *)0x0) {
      iVar2 = (**(code **)(*piVar1 + 0x60))(piVar1);
      if (iVar2 == -0x7789fe3e) {
        piVar1 = *(int **)(*(int *)(DAT_005df2c8 + 8) + 4 + iVar3);
        iVar2 = (**(code **)(*piVar1 + 0x6c))(piVar1);
        if (iVar2 != 0) {
          return 0;
        }
      }
    }
    FUN_0045a900(*(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar3 + 4),
                 *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar3));
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 0x140;
  } while (iVar4 < DAT_004d7dec);
  return 1;
}



void * FUN_00431d80(short param_1)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x159;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x159);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  DAT_004d8054 = 1;
  FUN_004a9bb0(9999,pvVar1,(int)param_1,0);
  DAT_004d8054 = 0;
  *(undefined4 *)((int)pvVar1 + 0x74) = 0;
  return pvVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00431de0(undefined2 param_1)

{
  uint uVar1;
  undefined uVar2;
  void *pvVar3;
  LPVOID pvVar4;
  undefined4 *_Dst;
  uint *puVar5;
  int iVar6;
  int iVar7;
  undefined4 local_100 [4];
  int local_f0;
  undefined4 local_dc;
  undefined4 local_94 [4];
  int local_84;
  undefined4 local_70;
  undefined4 uStackY_6c;
  undefined8 uVar8;
  int iVar9;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  _DAT_005df9aa = 0;
  _DAT_005df9ae = 0;
  _DAT_005df9b6 = 0;
  _DAT_005df9ba = 0;
  _DAT_005df580 = 0x3fc8f5c3;
  _DAT_005df584 = param_1;
  DAT_005df586 = 10;
  DAT_005df9a6 = 0x3e800000;
  _DAT_005df9b2 = 0x3e800000;
  if (DAT_004d8064 == (void *)0x0) {
    uVar8 = 0x1000000000000;
    pvVar3 = (void *)AllocateMemoryWithCallback();
    DAT_004d8064 = _memset(pvVar3,(int)uVar8,(size_t)((ulonglong)uVar8 >> 0x20));
    iVar9 = 0;
    iVar10 = 0x70;
    do {
      iVar7 = 0x80;
      iVar6 = iVar9;
      do {
        FUN_004ad534();
        uVar2 = __ftol();
        iVar7 = iVar7 + -1;
        *(undefined *)((int)DAT_004d8064 + iVar6) = uVar2;
        iVar6 = iVar6 + 0x100;
      } while (-0x80 < iVar7);
      iVar9 = iVar9 + 1;
      iVar10 = iVar10 + -1;
    } while (-0x90 < iVar10);
  }
  if (DAT_004d8060 == (LPVOID)0x0) {
    DAT_005df9be = 0;
    _DAT_004d805c = FindResourceA((HMODULE)0x0,&DAT_004ca80c,(LPCSTR)0xa);
    if (((_DAT_004d805c != (HRSRC)0x0) &&
        (_DAT_004d8058 = LoadResource((HMODULE)0x0,_DAT_004d805c), _DAT_004d8058 != (HGLOBAL)0x0))
       && (pvVar4 = LockResource(_DAT_004d8058), DAT_004d8060 = pvVar4, pvVar4 != (LPVOID)0x0)) {
      DAT_004d8060 = (LPVOID)((int)pvVar4 + 0x18);
      puVar5 = &DAT_005df9c2;
      do {
        uVar1 = *(uint *)((int)pvVar4 + -0x5df9aa + (int)puVar5);
        *puVar5 = uVar1;
        if ((uVar1 & 0xf800f8) == 0xf800f8) {
          *puVar5 = 0xf800f7;
        }
        puVar5 = puVar5 + 1;
      } while ((int)puVar5 < 0x5dfdc2);
      DAT_005df9be = 1;
    }
  }
  DAT_005df5a2 = FUN_00431d80();
  FUN_00441c80();
  if (DAT_005df5a2 == 0) {
    return;
  }
  if (DAT_005df58a == (int *)0x0) {
    uVar8 = 0x6c00000000;
    pvVar3 = (void *)AllocateMemoryWithCallback();
    _Dst = (undefined4 *)_memset(pvVar3,(int)uVar8,(size_t)((ulonglong)uVar8 >> 0x20));
    if (_Dst == (undefined4 *)0x0) {
      return;
    }
    _memset(_Dst,0,0x6c);
    *_Dst = 0x6c;
    _Dst[1] = 7;
    _Dst[0x1a] = 0x1800;
    _Dst[3] = 0x100;
    _Dst[2] = 0x100;
    iVar10 = FUN_00413f70();
    if (iVar10 != 0) {
      return;
    }
    (**(code **)(*DAT_005df58a + 0x74))();
    _memset(_Dst,0,0x6c);
    *_Dst = 0x6c;
    _Dst[1] = 0x47;
    _Dst[2] = 0x100;
    _Dst[3] = 0x100;
    _Dst[0x1a] = 0x20000;
    uVar1 = *(uint *)(&DAT_005e5254 + DAT_005e5160 * 0x140);
    if ((uVar1 & 0x400) == 0) {
      if ((uVar1 & 0x800) == 0) {
        if ((uVar1 & 0x100) == 0) {
          if ((uVar1 & 0x200) == 0) {
            return;
          }
          _Dst[6] = 0x18;
        }
        else {
          _Dst[6] = 0x20;
        }
      }
      else {
        _Dst[6] = 8;
      }
    }
    else {
      _Dst[6] = 0x10;
    }
    _Dst[0x1a] = 0x20800;
    iVar10 = FUN_00413f70();
    if (iVar10 != 0) {
      return;
    }
    DAT_005df440 = DAT_005df58a;
    DAT_005df474 = DAT_005df58e;
    _memset(local_94,0,0x6c);
    _memset(local_100,0,0x6c);
    local_94[0] = 0x6c;
    local_100[0] = 0x6c;
    iVar10 = (**(code **)(*DAT_005df440 + 100))();
    if (iVar10 != 0) {
      return;
    }
    iVar10 = (**(code **)(*DAT_005df474 + 100))();
    if (iVar10 != 0) {
      return;
    }
    _DAT_005df44c = local_70;
    _DAT_005df478 = local_dc;
    _DAT_005df48c = 0x100;
    _DAT_005df45c = local_84 >> 1;
    _DAT_005df47c = local_f0 >> 1;
    (**(code **)(*DAT_005df474 + 0x80))();
    (**(code **)(*DAT_005df440 + 0x80))();
    _DAT_005df2d8 = (float)DAT_005e7678 * 0.0015625;
    _DAT_005df2d4 = (float)DAT_005e767c * 0.002083333;
    iVar10 = __ftol();
    iVar9 = __ftol();
    iVar6 = __ftol();
    iVar7 = __ftol();
    uStackY_6c = 0x432206;
    SetRect((LPRECT)&DAT_005df592,iVar7,iVar6,iVar9,iVar10);
    FreeMemory();
  }
  *(int ***)(DAT_005df5a2 + 0x155) = &DAT_005df440;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00432240(float param_1)

{
  _DAT_005df580 = param_1 + _DAT_005df580;
  return;
}



undefined4 FUN_00432260(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 local_68 [16];
  undefined4 uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_005df5a2;
  uStackY_1c = 0x432282;
  _memset(local_68,0,100);
  local_68[0] = 100;
  uStackY_24 = *(undefined4 *)(*(int *)(iVar1 + 0x155) + 0x34);
  uStackY_1c = 0;
  uStackY_20 = 0;
  uStackY_28 = 0x4322b3;
  iVar2 = FUN_00424d60();
  if ((iVar2 != 0) &&
     (iVar2 = *(int *)(*(int *)(iVar1 + 0x155) + 0x3c), iVar4 = param_1[1] * iVar2,
     iVar4 < param_1[3] * iVar2)) {
    do {
      iVar2 = *param_1;
      if (iVar2 < param_1[2]) {
        iVar3 = (iVar4 + iVar2) * 2;
        do {
          iVar2 = iVar2 + 1;
          iVar3 = iVar3 + 2;
          *(undefined2 *)(*(int *)(*(int *)(iVar1 + 0x155) + 0x38) + -2 + iVar3) = 0xffff;
        } while (iVar2 < param_1[2]);
      }
      iVar2 = *(int *)(*(int *)(iVar1 + 0x155) + 0x3c);
      iVar4 = iVar4 + iVar2;
    } while (iVar4 < param_1[3] * iVar2);
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00432320(int param_1,float param_2,int param_3)

{
  int iVar1;
  char cVar2;
  char cVar3;
  uint uVar4;
  float fVar5;
  float fVar6;
  undefined2 uVar7;
  ushort *puVar8;
  int iVar9;
  int iVar10;
  ushort uVar11;
  char *pcVar12;
  float unaff_EBX;
  int iVar13;
  ushort *puVar14;
  int iVar15;
  undefined2 *puVar16;
  int local_24;
  char *local_20;
  float fVar17;
  double dVar18;
  int iVar19;
  int iVar20;
  
  iVar20 = (int)param_2;
  AdjustStackForLargeAllocations();
  fVar6 = (float)(int)param_2;
  iVar1 = (int)param_2 + -0x20;
  fVar5 = 12.568 / unaff_EBX;
  if (0x26 < iVar1) {
    puVar16 = (undefined2 *)&DAT_005df5f2;
    iVar13 = (int)param_2 + -0x46;
    fVar17 = _DAT_005df9aa;
    do {
      dVar18 = (double)fVar17;
      FUN_004ae014(dVar18);
      FUN_004ae014((double)(float)((ulonglong)dVar18 >> 0x20));
      fVar17 = 2.0;
      FUN_004ae014();
      uVar7 = __ftol();
      fVar17 = fVar5 + fVar17;
      *puVar16 = uVar7;
      puVar16 = puVar16 + 1;
      iVar13 = iVar13 + -1;
    } while (iVar13 != 0);
  }
  fVar17 = 18.852 / unaff_EBX;
  iVar13 = (int)param_2 + -0x35;
  DAT_005df9a6 = DAT_005df9a6 - 6.284 / fVar6;
  _DAT_005df9ae = _DAT_005df9ae + fVar5;
  _DAT_005df9aa = _DAT_005df9aa + fVar17;
  param_2 = _DAT_005df9b2;
  local_20 = (char *)_DAT_005df9b6;
  iVar19 = iVar13;
  if (0x12 < iVar13) {
    local_24 = iVar20 + -0x47;
    puVar16 = (undefined2 *)&DAT_005df7ca;
    do {
      FUN_004ae014((double)(float)local_20);
      FUN_004ae014((double)param_2);
      fVar17 = 0.0;
      FUN_004ae014();
      iVar19 = 0x43251c;
      uVar7 = __ftol();
      param_2 = 6.284 / fVar6 + param_2;
      local_20 = (char *)(fVar5 + (float)local_20);
      *puVar16 = uVar7;
      puVar16 = puVar16 + 1;
      local_24 = local_24 + -1;
    } while (local_24 != 0);
  }
  _DAT_005df9b2 = _DAT_005df9b2 + fVar17;
  _DAT_005df9ba = _DAT_005df9ba - fVar5;
  _DAT_005df9b6 = 31.42 / unaff_EBX + _DAT_005df9b6;
  if (DAT_005df9be == 0) {
    if (DAT_005e72d4 == 0) {
      if (0x12 < iVar13) {
        local_20 = &DAT_005df7ca;
        puVar8 = (ushort *)(param_1 + 0x4c + param_3 * 0x24);
        param_1 = iVar20 + -0x47;
        do {
          cVar2 = *local_20;
          if (0x26 < iVar1) {
            pcVar12 = &DAT_005df5f2;
            iVar13 = iVar20 + -0x46;
            puVar14 = puVar8;
            do {
              cVar3 = *pcVar12;
              pcVar12 = pcVar12 + 2;
              uVar11 = (ushort)(char)((char)(cVar2 + cVar3) >> 1 & 0x1f);
              iVar13 = iVar13 + -1;
              *puVar14 = (ushort)(((byte)-(cVar2 + cVar3) & 0x3f | (uint)uVar11 << 6) << 5) | uVar11
              ;
              puVar14 = puVar14 + 1;
            } while (iVar13 != 0);
          }
          local_20 = local_20 + 2;
          puVar8 = puVar8 + param_3;
          param_1 = param_1 + -1;
        } while (param_1 != 0);
        return;
      }
    }
    else if (0x12 < iVar13) {
      local_20 = &DAT_005df7ca;
      puVar8 = (ushort *)(param_1 + 0x4c + param_3 * 0x24);
      param_1 = iVar20 + -0x47;
      do {
        cVar2 = *local_20;
        if (0x26 < iVar1) {
          pcVar12 = &DAT_005df5f2;
          iVar13 = iVar20 + -0x46;
          puVar14 = puVar8;
          do {
            cVar3 = *pcVar12;
            pcVar12 = pcVar12 + 2;
            uVar11 = (ushort)(char)((char)(cVar2 + cVar3) >> 1 & 0x1f);
            iVar13 = iVar13 + -1;
            *puVar14 = (ushort)(((byte)-(cVar2 + cVar3) & 0x1f | (uint)uVar11 << 5) << 5) | uVar11;
            puVar14 = puVar14 + 1;
          } while (iVar13 != 0);
        }
        local_20 = local_20 + 2;
        puVar8 = puVar8 + param_3;
        param_1 = param_1 + -1;
      } while (param_1 != 0);
      return;
    }
  }
  else {
    iVar20 = 0x12;
    if (DAT_005e72d4 == 0) {
      if (0x12 < iVar13) {
        local_20 = &DAT_005df7ca;
        iVar13 = param_3 * 0x12;
        do {
          iVar15 = 0x26;
          cVar2 = *local_20;
          if (0x26 < iVar1) {
            iVar9 = iVar20 + 0x2600;
            pcVar12 = &DAT_005df5f2;
            do {
              if (SBORROW4((uint)*(byte *)(DAT_004d8064 + iVar9),(0x10 - DAT_005df586) * 6) !=
                  (int)((uint)*(byte *)(DAT_004d8064 + iVar9) + (0x10 - DAT_005df586) * -6) < 0) {
                uVar4 = (&DAT_005df9c2)[(byte)(cVar2 + *pcVar12 + 0x80)];
                *(ushort *)(param_1 + (iVar15 + iVar13) * 2) =
                     ((byte)uVar4 & 0xf8) << 8 | (ushort)(uVar4 >> 0x13) & 0x1f |
                     (ushort)(uVar4 >> 5) & 0x7e0;
              }
              iVar15 = iVar15 + 1;
              iVar9 = iVar9 + 0x100;
              pcVar12 = pcVar12 + 2;
            } while (iVar15 < iVar1);
          }
          iVar20 = iVar20 + 1;
          local_20 = local_20 + 2;
          iVar13 = iVar13 + param_3;
        } while (iVar20 < iVar19);
        return;
      }
    }
    else if (0x12 < iVar13) {
      local_20 = &DAT_005df7ca;
      iVar15 = param_3 * 0x12;
      do {
        cVar2 = *local_20;
        iVar9 = 0x26;
        if (0x26 < iVar1) {
          iVar10 = iVar20 + 0x2600;
          pcVar12 = &DAT_005df5f2;
          do {
            if (SBORROW4((uint)*(byte *)(DAT_004d8064 + iVar10),(0x10 - DAT_005df586) * 6) !=
                (int)((uint)*(byte *)(DAT_004d8064 + iVar10) + (0x10 - DAT_005df586) * -6) < 0) {
              uVar4 = (&DAT_005df9c2)[(byte)(cVar2 + *pcVar12 + 0x80)];
              *(ushort *)(param_1 + (iVar9 + iVar15) * 2) =
                   (ushort)(uVar4 >> 6) & 0x3e0 | (ushort)(uVar4 >> 0x13) & 0x1f |
                   (ushort)((uVar4 & 0xf8) << 7);
            }
            iVar9 = iVar9 + 1;
            iVar10 = iVar10 + 0x100;
            pcVar12 = pcVar12 + 2;
            iVar13 = iVar19;
          } while (iVar9 < iVar1);
        }
        iVar20 = iVar20 + 1;
        local_20 = local_20 + 2;
        iVar15 = iVar15 + param_3;
      } while (iVar20 < iVar13);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004328a0(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  int iVar9;
  float10 fVar10;
  tagRECT local_1b4;
  int local_1a4 [4];
  undefined4 local_194;
  undefined4 local_190;
  undefined4 local_18c;
  undefined4 local_188;
  undefined4 local_184;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 local_13c;
  int local_138 [4];
  undefined4 local_128;
  undefined4 local_124;
  undefined4 local_120;
  undefined4 local_11c;
  undefined4 local_118;
  undefined4 local_114;
  int local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  int local_100;
  undefined4 local_fc;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  int local_cc [4];
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  int local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  int local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  int local_60;
  int local_5c;
  int local_58;
  int local_54;
  int local_50;
  uint local_4c;
  int local_48;
  int local_44;
  int local_40 [2];
  float local_38;
  int local_34;
  undefined2 *local_30;
  uint local_2c;
  int local_28;
  undefined2 *puVar11;
  undefined4 uVar12;
  
  AdjustStackForLargeAllocations();
  FUN_00432240();
  iVar3 = DAT_005df5a2;
  local_44 = DAT_005df5a2;
  if (DAT_005df5a2 != 0) {
    if (DAT_005df586 != 0) {
      DAT_005df586 = DAT_005df586 + -1;
    }
    if (*(int *)(DAT_005df5a2 + 0xc) != 0) {
      local_60 = *(int *)(*(int *)(DAT_005df5a2 + 0x155) + 0x4c) - *(int *)(DAT_005df5a2 + 0x38) >>
                 1;
      local_58 = *(int *)(*(int *)(DAT_005df5a2 + 0x155) + 0x4c) - local_60;
      local_54 = *(int *)(*(int *)(DAT_005df5a2 + 0x155) + 0x4c) - local_60;
      local_5c = local_60;
      iVar1 = FUN_00432260();
      if (iVar1 == 0) {
        return;
      }
      iVar1 = *(int *)(iVar3 + 0x155);
      uVar12 = *(undefined4 *)(iVar1 + 0x1c);
      local_50 = *(int *)(iVar1 + 0xc);
      local_48 = *(int *)(iVar1 + 0x38);
      FUN_00432320();
      fVar10 = (float10)FUN_004ae0c4();
      local_38 = (float)fVar10;
      fVar10 = (float10)FUN_004ae014();
      local_30 = (undefined2 *)(float)-fVar10;
      FUN_004ae014();
      FUN_004ae0c4();
      local_6c = __ftol();
      local_68 = __ftol();
      local_28 = local_68;
      local_64 = __ftol();
      local_90 = __ftol();
      local_8c = __ftol();
      local_88 = __ftol();
      local_b4 = __ftol();
      local_b0 = local_28;
      local_ac = __ftol();
      local_78 = __ftol();
      local_74 = 0;
      local_70 = __ftol();
      local_9c = __ftol();
      local_98 = 0;
      local_94 = __ftol();
      local_cc[3] = __ftol();
      local_bc = 0;
      local_b8 = __ftol();
      local_84 = __ftol();
      local_80 = __ftol();
      local_7c = __ftol();
      local_a8 = __ftol();
      local_a4 = __ftol();
      local_a0 = __ftol();
      local_cc[0] = __ftol();
      local_cc[1] = __ftol();
      local_cc[2] = __ftol();
      local_144 = 0xfff00000;
      local_140 = 0xfff00000;
      local_13c = 0xfff00000;
      local_168 = 0;
      local_164 = 0;
      local_160 = 0;
      local_18c = 0x100000;
      local_188 = 0x100000;
      local_184 = 0x100000;
      local_150 = 0xfff00000;
      local_14c = 0xfff00000;
      local_148 = 0xfff00000;
      local_174 = 0;
      local_170 = 0;
      local_16c = 0;
      local_1a4[3] = 0x100000;
      local_194 = 0x100000;
      local_190 = 0x100000;
      local_15c = 0xfff00000;
      local_158 = 0xfff00000;
      local_154 = 0xfff00000;
      local_180 = 0;
      local_17c = 0;
      local_178 = 0;
      local_1a4[0] = 0x100000;
      local_1a4[1] = 0x100000;
      local_1a4[2] = 0x100000;
      local_d8 = __ftol();
      local_d4 = __ftol();
      local_28 = local_d4;
      local_d0 = __ftol();
      local_fc = __ftol();
      local_f8 = __ftol();
      local_f4 = __ftol();
      local_120 = __ftol();
      local_11c = local_28;
      local_118 = __ftol();
      local_e4 = __ftol();
      local_e0 = 0;
      local_dc = __ftol();
      local_108 = __ftol();
      local_104 = 0;
      local_100 = __ftol();
      local_138[3] = __ftol();
      local_128 = 0;
      local_124 = __ftol();
      local_f0 = __ftol();
      local_ec = __ftol();
      local_e8 = __ftol();
      local_114 = __ftol();
      local_110 = __ftol();
      local_10c = __ftol();
      local_138[0] = __ftol();
      local_138[1] = __ftol();
      local_138[2] = __ftol();
      switch(uVar12) {
      case 8:
        uVar12 = 3;
        break;
      default:
        uVar12 = 7;
        break;
      case 0x10:
        uVar12 = 4;
        break;
      case 0x20:
        uVar12 = 5;
        break;
      case 0x40:
        uVar12 = 6;
        break;
      case 0x100:
        uVar12 = 8;
      }
      local_28 = 0;
      iVar1 = *(int *)(*(int *)(iVar3 + 0x155) + 0x1c) << 0x13;
      iVar6 = *(int *)(iVar3 + 0x38) << 0x13;
      if (0 < *(int *)(iVar3 + 0x1c)) {
        iVar9 = 0;
        iVar5 = iVar1;
        do {
          local_4c = 0;
          piVar7 = (int *)(iVar9 + *(int *)(iVar3 + 0xc));
          piVar8 = local_40;
          for (iVar4 = 6; iVar4 != 0; iVar4 = iVar4 + -1) {
            *piVar8 = *piVar7;
            piVar7 = piVar7 + 1;
            piVar8 = piVar8 + 1;
          }
          iVar1 = (int)local_38 * local_a4 + iVar1 + local_40[0] * local_94;
          iVar5 = iVar5 + local_40[1] * 0x100000;
          iVar6 = (int)local_38 * local_110 + iVar6 + local_40[0] * local_100;
          uVar2 = 0xd;
          puVar11 = local_30;
          if (local_2c != 0) {
            do {
              iVar1 = iVar1 + local_cc[uVar2];
              iVar5 = iVar5 + local_1a4[uVar2];
              iVar6 = iVar6 + local_138[uVar2];
              iVar3 = ((iVar5 >> 0x14) << ((byte)uVar12 & 0x1f) | iVar1 >> 0x14) * 2;
              if (iVar6 >> 0x14 < (int)(uint)*(ushort *)(local_48 + iVar3)) {
                *(undefined2 *)(local_50 + iVar3) = *puVar11;
                *(short *)(local_48 + iVar3) = (short)(iVar6 >> 0x14);
              }
              uVar2 = (uint)*(byte *)(local_4c + local_34);
              local_4c = local_4c + 1;
              puVar11 = puVar11 + 1;
            } while (local_4c < local_2c);
          }
          local_28 = local_28 + 1;
          iVar9 = iVar9 + 0x18;
          iVar3 = local_44;
        } while (local_28 < *(int *)(local_44 + 0x1c));
      }
    }
  }
  if (DAT_005df58a != 0) {
    if ((DAT_00598d50 != 0) && (0.9 < _DAT_005df2d8)) {
      local_28 = DAT_005e58f0;
      local_2c = 0x433045;
      FUN_00424e90();
      return;
    }
    iVar3 = __ftol();
    iVar1 = __ftol();
    iVar6 = __ftol();
    iVar5 = __ftol();
    local_28 = 0x4330a4;
    SetRect(&local_1b4,iVar5,iVar6,iVar1,iVar3);
    local_28 = DAT_005e58f0;
    local_2c = 0x4330c4;
    FUN_00424d60();
  }
  return;
}



void FUN_004331f0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_005df5a2 != 0) {
    iVar3 = 0;
    iVar2 = DAT_005df5a2;
    if (0 < *(int *)(DAT_005df5a2 + 0x1c)) {
      iVar4 = 0;
      do {
        iVar1 = *(int *)(*(int *)(iVar2 + 0xc) + 0xc + iVar4);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(DAT_005df5a2 + 0xc) + 0xc + iVar4) = 0;
          iVar2 = DAT_005df5a2;
        }
        iVar1 = *(int *)(*(int *)(iVar2 + 0xc) + 0x10 + iVar4);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(DAT_005df5a2 + 0xc) + 0x10 + iVar4) = 0;
          iVar2 = DAT_005df5a2;
        }
        iVar3 = iVar3 + 1;
        iVar4 = iVar4 + 0x18;
      } while (iVar3 < *(int *)(iVar2 + 0x1c));
    }
    if (*(int *)(iVar2 + 0xc) != 0) {
      FreeMemory(*(int *)(iVar2 + 0xc));
      *(undefined4 *)(DAT_005df5a2 + 0xc) = 0;
      iVar2 = DAT_005df5a2;
    }
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      DAT_005df5a2 = 0;
    }
  }
  if (DAT_004d8064 != 0) {
    FreeMemory(DAT_004d8064);
    DAT_004d8064 = 0;
  }
  return;
}



undefined4 FUN_004332c0(void)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  int iVar3;
  int iVar4;
  char local_218 [256];
  char local_118 [244];
  undefined4 uStackY_24;
  char *pcStackY_20;
  undefined4 uStackY_1c;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  int iVar8;
  char *pcVar9;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  iVar2 = 0;
  uStackY_1c = 0x4332e6;
  FID_conflict___mbscpy(local_118,(char *)0x0);
  uStackY_1c = 0x4332fa;
  FID_conflict__strcat(local_118,s_HedzScore_dat_004cad6c);
  uStackY_1c = 0x43330e;
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 != 0) {
    pcStackY_20 = &stack0xfffffff4;
    uStackY_1c = 4;
    uStackY_24 = 0x43332c;
    CopyDataWithLock();
    if (0 < unaff_ESI) {
      do {
        uVar5 = 1;
        pcStackY_20 = &stack0xffffffe8;
        uStackY_1c = 2;
        uStackY_24 = 0x433348;
        CopyDataWithLock();
        pcVar7 = DAT_004d8068;
        pcVar9 = DAT_005deebc;
        if (iVar2 != 0) {
          pcVar7 = DAT_004d8068 + iVar2 * 0x158;
          pcVar9 = (char *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + (uVar5 & 0xffff) * 0x222);
        }
        uStackY_1c = 0x43339f;
        FID_conflict___mbscpy(pcVar7,pcVar9);
        iVar10 = 10;
        iVar4 = iVar2 * 0x158;
        iVar3 = iVar4 + 0x130;
        do {
          pcStackY_20 = local_218;
          uStackY_1c = 1;
          uStackY_24 = 0x4333d3;
          CopyDataWithLock();
          uStackY_1c = 0x4333ed;
          FID_conflict___mbscpy(DAT_004d8068 + iVar4 + 0x40,local_218);
          pcStackY_20 = &stack0xffffffec;
          uStackY_1c = 4;
          uStackY_24 = 0x433401;
          iVar8 = iVar1;
          CopyDataWithLock();
          iVar4 = iVar4 + 0x18;
          *(int *)(DAT_004d8068 + iVar3) = iVar8;
          iVar3 = iVar3 + 4;
          iVar10 = iVar10 + -1;
        } while (iVar10 != 0);
        iVar2 = iVar2 + 1;
      } while (iVar2 < unaff_ESI);
    }
    FUN_004adcf0();
    return 1;
  }
  uStackY_1c = 0x433453;
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 == 0) {
    return 0;
  }
  pcStackY_20 = &stack0xfffffff4;
  uStackY_1c = 4;
  iVar1 = *(int *)(DAT_005df2c8 + 0xcc) + 1;
  uStackY_24 = 0x433481;
  FUN_004ae3e0();
  uVar5 = 0;
  if (0 < iVar1) {
    do {
      pcStackY_20 = &stack0xffffffe8;
      uStackY_1c = 2;
      uStackY_24 = 0x4334ad;
      uVar6 = uVar5;
      FUN_004ae3e0();
      pcVar7 = DAT_004d8068;
      pcVar9 = DAT_005deebc;
      if (uVar5 != 0) {
        pcVar7 = DAT_004d8068 + uVar5 * 0x158;
        pcVar9 = (char *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + (uVar6 & 0xffff) * 0x222);
      }
      uStackY_1c = 0x433503;
      FID_conflict___mbscpy(pcVar7,pcVar9);
      iVar10 = 0;
      iVar3 = uVar5 * 0x158;
      iVar2 = iVar3 + 0x130;
      do {
        iVar4 = FUN_004af640();
        uStackY_1c = 0x433546;
        FID_conflict___mbscpy(DAT_004d8068 + iVar3 + 0x40,s_Nairb_004ca8d0 + (iVar4 % 0x3b) * 0x14);
        pcStackY_20 = DAT_004d8068 + iVar3 + 0x40;
        uStackY_1c = 1;
        uStackY_24 = 0x433561;
        FUN_004ae3e0();
        pcStackY_20 = &stack0xffffffec;
        iVar4 = 100 - iVar10;
        uStackY_1c = 4;
        uStackY_24 = 0x43357f;
        FUN_004ae3e0();
        iVar10 = iVar10 + 10;
        *(int *)(DAT_004d8068 + iVar2) = iVar4;
        iVar2 = iVar2 + 4;
        iVar3 = iVar3 + 0x18;
      } while (iVar10 < 100);
      uVar5 = uVar5 + 1;
    } while ((int)uVar5 < iVar1);
  }
  FUN_004adcf0();
  return 1;
}



undefined4 FUN_004335d0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_EDI;
  int iVar4;
  char local_118 [244];
  undefined4 uStackY_24;
  int *piStackY_20;
  undefined *puStackY_1c;
  int local_18;
  int iVar5;
  int iVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  DAT_005df320 = 0;
  local_18 = 0x4335f8;
  FID_conflict___mbscpy(local_118,&DAT_005d54e0);
  local_18 = 0x43360c;
  FID_conflict__strcat(local_118,s_HedzScore_dat_004cadb0);
  local_18 = 0x433620;
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 == 0) {
    return 0;
  }
  puStackY_1c = &stack0xfffffff8;
  local_18 = 4;
  iVar2 = *(int *)(DAT_005df2c8 + 0xcc) + 1;
  piStackY_20 = (int *)0x43364a;
  FUN_004ae3e0();
  if (0 < iVar2) {
    iVar7 = 0;
    iVar4 = unaff_EDI;
    do {
      local_18 = iVar4;
      piStackY_20 = &local_18;
      puStackY_1c = (undefined *)0x2;
      uStackY_24 = 0x433678;
      FUN_004ae3e0();
      iVar4 = iVar7 + 0x130;
      iVar3 = iVar7;
      iVar6 = local_18;
      do {
        local_18 = 1;
        puStackY_1c = (undefined *)0x18;
        piStackY_20 = (int *)(DAT_004d8068 + 0x40 + iVar3);
        uStackY_24 = 0x43369d;
        FUN_004ae3e0();
        piStackY_20 = (int *)(DAT_004d8068 + iVar4);
        local_18 = 1;
        puStackY_1c = (undefined *)0x4;
        uStackY_24 = 0x4336b3;
        iVar5 = iVar1;
        FUN_004ae3e0();
        iVar4 = iVar4 + 4;
        iVar3 = iVar3 + 0x18;
      } while (iVar5 != 1);
      iVar7 = iVar7 + 0x158;
      iVar4 = iVar6 + 1;
    } while (iVar6 + 1 < iVar2);
  }
  FUN_004adcf0();
  return 1;
}



void FUN_00433700(int param_1,uint param_2)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  uVar7 = 0xffffffff;
  FUN_004332c0();
  uVar1 = 9;
  iVar5 = param_1 * 0x158;
  puVar2 = (uint *)(DAT_004d8068 + 0x154 + iVar5);
  do {
    if (*puVar2 < param_2) {
      uVar7 = uVar1;
    }
    uVar1 = uVar1 - 1;
    puVar2 = puVar2 + -1;
  } while (uVar1 < 0x80000000);
  if (uVar7 != 0xffffffff) {
    if ((int)uVar7 < 9) {
      iVar4 = iVar5 + 0x154;
      iVar6 = iVar5 + 0xc0;
      iVar3 = 9 - uVar7;
      do {
        FID_conflict___mbscpy
                  ((char *)(DAT_004d8068 + 0x58 + iVar6),(char *)(DAT_004d8068 + 0x40 + iVar6));
        iVar6 = iVar6 + -0x18;
        *(undefined4 *)(DAT_004d8068 + iVar4) = *(undefined4 *)(DAT_004d8068 + -4 + iVar4);
        iVar4 = iVar4 + -4;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
    }
    FID_conflict___mbscpy((char *)(DAT_004d8068 + uVar7 * 0x18 + 0x40 + iVar5),&DAT_005df340);
    *(uint *)(DAT_004d8068 + 0x130 + (uVar7 + param_1 * 0x56) * 4) = param_2;
  }
  return;
}



int FUN_004337f0(int param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  iVar3 = -1;
  FUN_004332c0();
  iVar1 = 9;
  piVar2 = (int *)(DAT_004d8068 + 0x154 + param_1 * 0x158);
  do {
    if (*piVar2 < param_2) {
      iVar3 = iVar1;
    }
    iVar1 = iVar1 + -1;
    piVar2 = piVar2 + -1;
  } while (-1 < iVar1);
  return iVar3 + 1;
}



void FUN_00433840(void)

{
  if (DAT_004d8074 == 0) {
    switch(DAT_005df320) {
    case 1:
    case 3:
    case 5:
    case 7:
    case 9:
      DAT_004d8074 = 0xf;
    }
  }
  return;
}



void FUN_00433890(void)

{
  int iVar1;
  
  FUN_004465d0();
  if (DAT_004d8100 != 0) {
    if (*(int *)(DAT_004d80cc + 0x54) == 0) {
      if (*(int *)(DAT_004d80cc + 0x98) == 0) {
        if (0 < *(int *)(DAT_004d80cc + 0x4c)) {
          DAT_005df320 = 2;
          DAT_004d8070 = *(int *)(DAT_004d80cc + 0x50);
          *(undefined4 *)(DAT_004d80cc + 0x54) = 1;
          goto LAB_004338f5;
        }
        DAT_005df320 = 0;
      }
      DAT_004d8070 = 0;
    }
    else {
      DAT_005df320 = 0;
      DAT_004d8070 = DAT_004ca030;
    }
LAB_004338f5:
    DAT_004d8100 = 0;
    FUN_004332c0();
    _memset(&DAT_005df340,0,0x100);
  }
  if ((0 < DAT_004d8074) && (DAT_004d8074 = DAT_004d8074 + -1, DAT_004d8074 == 0)) {
    switch(DAT_005df320) {
    case 1:
      if ((DAT_004ca030 == 0x14) && (DAT_004d24f0 != '\0')) {
        FUN_00429350();
        FUN_0042a450(0x13);
      }
      else {
        FUN_0042a450(DAT_004c9f04);
        if (DAT_004c9f04 == 0x14) goto LAB_00433a2a;
      }
      DAT_004d8100 = 1;
LAB_00433a2a:
      DAT_005df2d0 = 1;
      FUN_00433cd0();
      return;
    default:
      goto switchD_0043393e_caseD_2;
    case 3:
      if (0 < *(int *)(DAT_004d80cc + 0x4c)) {
        FID_conflict___mbscpy
                  ((char *)(DAT_004d8068 + *(int *)(DAT_004d80cc + 0x4c) * 0x18 + 0x28 +
                           *(int *)(DAT_004d80cc + 0x50) * 0x158),&DAT_005df340);
        FUN_004335d0();
        iVar1 = FUN_004337f0(0,*(undefined4 *)(DAT_004d80cc + 0x14));
        if (0 < iVar1) {
          FUN_00433700(0,*(undefined4 *)(DAT_004d80cc + 0x14));
          FID_conflict___mbscpy((char *)(DAT_004d8068 + 0x28 + iVar1 * 0x18),&DAT_005df340);
          FUN_004335d0();
          DAT_005df320 = 0;
          return;
        }
      }
    case 5:
      DAT_005df320 = 0;
      return;
    case 7:
      DAT_004d8070 = DAT_004d8070 + 1;
      DAT_005df320 = 6;
      if (*(int *)(DAT_005df2c8 + 0xcc) < DAT_004d8070) {
        DAT_004d8070 = 0;
      }
      break;
    case 9:
      DAT_005df320 = 8;
      DAT_004d8070 = DAT_004d8070 + -1;
      if (DAT_004d8070 < 0) {
        DAT_004d8070 = *(int *)(DAT_005df2c8 + 0xcc);
      }
    }
    FUN_0043db20(DAT_004d8068 + DAT_004d8070 * 0x158);
  }
switchD_0043393e_caseD_2:
  return;
}



undefined4 FUN_00433ae0(void)

{
  undefined4 uVar1;
  ushort uVar2;
  int iVar3;
  
  iVar3 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15,0x34);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 2;
    *(undefined2 *)(iVar3 + 0x24) = 0x3a;
    *(undefined2 *)(iVar3 + 0x3a) = 0;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar3 + 0x26) = 0x16;
    *(undefined4 *)(iVar3 + 4) = uVar1;
    *(undefined *)(iVar3 + 0x28) = 2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[2],0x32,0x15,0x36);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 1;
    *(undefined2 *)(iVar3 + 0x24) = 1;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a,0x35);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 1;
    *(undefined2 *)(iVar3 + 0x24) = 2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[0x18],0x78,0x9b,0x55);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 6;
    uVar2 = (ushort)((int)DAT_004d8070 >> 0x1f);
    *(ushort *)(iVar3 + 10) = (((ushort)DAT_004d8070 ^ uVar2) - uVar2 & 1 ^ uVar2) - uVar2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a,0x34);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 2;
    *(undefined2 *)(iVar3 + 0x24) = 0x26;
    *(undefined2 *)(iVar3 + 0x3a) = 6;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar3 + 0x26) = 0x26;
    *(undefined4 *)(iVar3 + 4) = uVar1;
    *(undefined *)(iVar3 + 0x28) = 2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(*DAT_005df290,0x1eb,0x7f,0x34);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 2;
    *(undefined2 *)(iVar3 + 0x24) = 0x27;
    *(undefined2 *)(iVar3 + 0x3a) = 8;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar3 + 0x26) = 0x27;
    *(undefined4 *)(iVar3 + 4) = uVar1;
    *(undefined *)(iVar3 + 0x28) = 2;
  }
  FUN_0042a520(iVar3);
  FUN_0042a630();
  return 1;
}



void FUN_00433cd0(void)

{
  WaitForSingleObject(*DAT_004d7cd4,0xffffffff);
  FUN_0042a770();
  ReleaseMutex(*DAT_004d7cd4);
  return;
}



void FUN_00433d40(void)

{
  HANDLE pvVar1;
  HANDLE unaff_EBX;
  int iVar2;
  int iVar3;
  undefined local_108 [224];
  undefined4 uStackY_28;
  undefined *puStackY_24;
  int iStackY_20;
  int iStackY_1c;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  iVar2 = 0;
  if (DAT_005df2d0 != 0) {
    FUN_00433ae0();
    FUN_0043db20();
    DAT_005df2d0 = 0;
  }
  iStackY_1c = 0x433d9c;
  WaitForSingleObject(*DAT_004d7cd4,0xffffffff);
  for (pvVar1 = DAT_004d7cd4[2]; pvVar1 != (HANDLE)0x0; pvVar1 = *(HANDLE *)((int)pvVar1 + 0x46)) {
    if (*(short *)((int)pvVar1 + 8) == 0x55) {
      unaff_EBX = pvVar1;
    }
  }
  ReleaseMutex(*DAT_004d7cd4);
  iVar4 = 0;
  iVar3 = 0xb6;
  do {
    iStackY_20 = *(short *)((int)unaff_EBX + 0x14) + 0x14;
    puStackY_24 = (undefined *)(DAT_004d8068 + DAT_004d8070 * 0x158 + 0x40 + iVar4);
    uStackY_28 = 0x433e0c;
    iStackY_1c = iVar3;
    FUN_00428d60();
    iStackY_1c = *(undefined4 *)(DAT_004d8068 + 0x130 + (iVar2 + DAT_004d8070 * 0x56) * 4);
    iStackY_20 = 0x433e40;
    FUN_004ae5f0();
    iStackY_20 = *(short *)((int)unaff_EBX + 0xc) + -0x14 + (int)*(short *)((int)unaff_EBX + 0x14);
    puStackY_24 = local_108;
    uStackY_28 = 0x433e61;
    iStackY_1c = iVar3;
    FUN_00428d60();
    iVar3 = iVar3 + 0xe;
    iVar2 = iVar2 + 1;
    iVar4 = iVar4 + 0x18;
  } while (iVar3 < 0x142);
  if (DAT_005df320 == 2) {
    iStackY_1c = (*(int *)(DAT_004d80cc + 0x4c) + 0xc) * 0xe;
    iStackY_20 = 0x93;
    puStackY_24 = &DAT_005df340;
    uStackY_28 = 0x433eaf;
    FUN_00428d60();
    if (DAT_004d80e4 != 0) {
      iStackY_1c = 0;
      iStackY_20 = (*(int *)(DAT_004d80cc + 0x4c) + 0xc) * 0xe;
      puStackY_24 = (undefined *)(*DAT_005df2c8 + 0x93);
      uStackY_28 = 0x433ef2;
      FUN_0043dcb0();
    }
  }
  FUN_0042aea0();
  FUN_00433f10();
  return;
}



void FUN_00433f10(void)

{
  undefined4 uVar1;
  undefined local_44 [20];
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  uint uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df320 == DAT_004d806c) goto switchD_00433fb2_caseD_1;
  if (DAT_005df320 == 3) {
    return;
  }
  if (((DAT_005df320 == 1) || (DAT_005df320 == 7)) || (DAT_005df320 == 9))
  goto switchD_00433fb2_caseD_1;
  uStackY_18 = 0x433f63;
  _memset(local_44,0,0x3d);
  local_2c = CONCAT13(local_2c._3_1_,0x30000);
  local_27 = 0x3f;
  local_25 = 0x5b;
  uStackY_24 = 0;
  local_23 = 0xa5;
  local_21 = 0xe;
  uStackY_20 = 0;
  local_1f = 0;
  local_1d = 0;
  uStackY_1c = uStackY_1c & 0xffffff00;
  FUN_00492720();
  FUN_00492720();
  switch(DAT_005df320) {
  case 0:
    uStackY_28 = (undefined)DAT_005dede8;
    local_27 = (undefined2)((uint)DAT_005dede8 >> 8);
    local_25 = (undefined)((uint)DAT_005dede8 >> 0x18);
    break;
  default:
    goto switchD_00433fb2_caseD_1;
  case 2:
    uVar1 = DAT_005deea8;
    goto LAB_00434018;
  case 6:
    uStackY_28 = (undefined)DAT_005ded98;
    local_27 = (undefined2)((uint)DAT_005ded98 >> 8);
    local_25 = (undefined)((uint)DAT_005ded98 >> 0x18);
    break;
  case 8:
    uVar1 = DAT_005ded9c;
LAB_00434018:
    uStackY_28 = (undefined)uVar1;
    local_27 = (undefined2)((uint)uVar1 >> 8);
    local_25 = (undefined)((uint)uVar1 >> 0x18);
  }
  local_1d = 0;
  local_1f = 2;
  uStackY_20 = 0x58;
  local_21 = 0;
  local_23 = 0;
  uStackY_24 = 0;
  uStackY_18 = 1;
  uStackY_1c = 5;
  local_2c = 1;
  uStackY_30 = 0x434020;
  FUN_00492100();
switchD_00433fb2_caseD_1:
  if (((DAT_005df320 != 3) && (DAT_005df320 != 1)) && ((DAT_005df320 != 7 && (DAT_005df320 != 9))))
  {
    DAT_004d806c = DAT_005df320;
  }
  return;
}



void FUN_00434070(void)

{
  if (DAT_004d8068 != 0) {
    FreeMemory(DAT_004d8068);
    DAT_004d8068 = 0;
  }
  return;
}



undefined4 FUN_004340a0(void)

{
  int iVar1;
  int iVar2;
  ushort *puVar3;
  
  AdjustStackForLargeAllocations();
  if (DAT_004cae04 != -1) {
    iVar2 = 0;
    iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
    if (0 < iVar1) {
      puVar3 = (ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14);
      do {
        if ((uint)*puVar3 == (int)DAT_004cae04) {
          return 0;
        }
        iVar2 = iVar2 + 1;
        puVar3 = puVar3 + 0xa0;
      } while (iVar2 < iVar1);
    }
  }
  return 0;
}



void FUN_00434110(void)

{
  char cVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  char local_10c;
  undefined4 local_10b;
  undefined4 uStackY_28;
  int iStackY_24;
  int iStackY_20;
  int iStackY_1c;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  local_10c = '\0';
  puVar7 = &local_10b;
  for (iVar4 = 0x3f; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar7 = 0;
    puVar7 = puVar7 + 1;
  }
  *(undefined2 *)puVar7 = 0;
  *(undefined *)((int)puVar7 + 2) = 0;
  iVar4 = 0;
  if (DAT_005df2d0 == 1) {
    FUN_00435390();
    iStackY_1c = 0x434173;
    FID_conflict___mbscpy
              (&local_10c,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + DAT_005dfe24 * 0x140));
    ConvertString();
    FUN_0043db20();
    DAT_005df2d0 = 0;
  }
  FUN_0042a470();
  iVar2 = 0;
  for (iVar5 = *(int *)(DAT_004d7cd4 + 8); iVar5 != 0; iVar5 = *(int *)(iVar5 + 0x46)) {
    iVar8 = iVar5;
    if ((*(short *)(iVar5 + 8) != 0x3b) && (iVar8 = iVar2, *(short *)(iVar5 + 8) == 0x38)) {
      iVar6 = iVar5;
    }
    iVar2 = iVar8;
  }
  FUN_0043df50();
  iVar5 = (int)*(short *)(DAT_004d80f0 + 0xc);
  if (-1 < *(short *)(*(int *)(DAT_004d80f0 + 8) + iVar5 * 8)) {
    iVar8 = DAT_005dfe24;
    if (DAT_004cb05c != 3) {
      iVar5 = (int)*(short *)(*(int *)(DAT_004d80f0 + 8) + iVar5 * 8 + 2);
      iVar8 = iVar5;
    }
    if (iVar6 != 0) {
      do {
        if (-1 < *(short *)(iVar6 + 0x16)) {
          iStackY_1c = CONCAT31((int3)((uint)iVar5 >> 8),(&DAT_004d807c)[iVar4]);
          iStackY_24 = 0x434236;
          iStackY_20 = iVar4;
          FUN_00434410();
        }
        cVar3 = (&DAT_004d807c)[iVar4];
        iVar5 = *(int *)(DAT_005df2c8 + 8) + iVar4;
        cVar1 = *(char *)(iVar5 + 0x123 + iVar8 * 0x140);
        if (cVar1 != cVar3) {
          if (cVar3 < cVar1) {
            iVar5 = (int)cVar3;
            if (1 < cVar1 - iVar5) {
              (&DAT_004d807c)[iVar4] = (char)(cVar1 - iVar5 >> 1) + cVar3;
              goto LAB_0043428f;
            }
            cVar3 = cVar3 + '\x01';
          }
          else {
            iVar5 = (int)cVar1;
            if (cVar3 - iVar5 < 2) {
              cVar3 = cVar3 + -1;
            }
            else {
              cVar3 = cVar3 - (char)(cVar3 - iVar5 >> 1);
            }
          }
          (&DAT_004d807c)[iVar4] = cVar3;
        }
LAB_0043428f:
        iVar4 = iVar4 + 1;
      } while (iVar4 < 5);
    }
    iStackY_1c = 0x130;
    iStackY_20 = 0x186;
    iStackY_24 = *(int *)(DAT_005df2c8 + 8) + 0x128 + iVar8 * 0x140;
    uStackY_28 = 0x4342c6;
    FUN_00428d60();
    if (iVar6 != 0) {
      iStackY_1c = *(short *)(iVar6 + 0x16) + 0x15;
      iStackY_20 = *(short *)(iVar6 + 0x14) + 0x19;
      iStackY_24 = DAT_005ded48;
      uStackY_28 = 0x4342f0;
      FUN_00428d60();
      iStackY_1c = *(short *)(iVar6 + 0x16) + 0x39;
      iStackY_20 = *(short *)(iVar6 + 0x14) + 0x19;
      iStackY_24 = DAT_005ded44;
      uStackY_28 = 0x434312;
      FUN_00428d60();
      iStackY_1c = *(short *)(iVar6 + 0x16) + 0x5d;
      iStackY_20 = *(short *)(iVar6 + 0x14) + 0x19;
      iStackY_24 = DAT_005ded40;
      uStackY_28 = 0x434334;
      FUN_00428d60();
      iStackY_1c = *(short *)(iVar6 + 0x16) + 0x81;
      iStackY_20 = *(short *)(iVar6 + 0x14) + 0x19;
      iStackY_24 = DAT_005ded3c;
      uStackY_28 = 0x434359;
      FUN_00428d60();
      iStackY_1c = *(short *)(iVar6 + 0x16) + 0xa5;
      iStackY_20 = *(short *)(iVar6 + 0x14) + 0x19;
      iStackY_24 = DAT_005ded38;
      uStackY_28 = 0x43437e;
      FUN_00428d60();
    }
    if (iVar2 != 0) {
      iStackY_1c = 0x20;
      iStackY_24 = *(short *)(iVar2 + 0x14) + 0xd;
      iStackY_20 = 0x160;
      uStackY_28 = 0x4343e2;
      FUN_0043dcb0();
    }
    FUN_0042a490();
    FUN_0042aea0();
    FUN_0043f430();
    FUN_00434fd0();
  }
  return;
}



void FUN_00434410(undefined4 param_1,int param_2,int param_3,int param_4)

{
  undefined4 local_24;
  undefined4 *local_20;
  int local_1c;
  undefined4 *local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  switch(param_1) {
  case 0:
    param_2 = param_4 + 0x23;
    break;
  case 1:
    param_2 = param_4 + 0x47;
    break;
  case 2:
    param_2 = param_4 + 0x6b;
    break;
  case 3:
    param_2 = param_4 + 0x8f;
    break;
  case 4:
    param_2 = param_4 + 0xb3;
  }
  local_10 = 0x11;
  local_18 = *(undefined4 **)(DAT_005df290 + 0x2c);
  local_24 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  local_14 = 0;
  local_20 = (undefined4 *)param_3;
  local_1c = param_2;
  FUN_00424e90();
  local_14 = 0;
  local_10 = 0x4344aa;
  __ftol();
  local_1c = *(int *)(DAT_005df290 + 0x28);
  local_10 = 0;
  local_18 = &local_14;
  local_14 = 0x1008000;
  local_24 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  local_20 = &local_24;
  FUN_00424d60();
  local_20 = (undefined4 *)(local_1c + -0x10);
  if (local_1c + -0x10 < param_3 + 6) {
    local_20 = (undefined4 *)(param_3 + 6);
  }
  local_10 = 0x11;
  local_14 = 0;
  local_18 = *(undefined4 **)(DAT_005df290 + 0x30);
  local_24 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  local_1c = param_2;
  FUN_00424e90();
  return;
}



undefined4 FUN_00434550(void)

{
  FUN_00434110();
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00434560(void)

{
  void *pvVar1;
  int iVar2;
  undefined4 *puVar3;
  char local_150;
  undefined4 local_14f;
  undefined4 uStackY_2c;
  size_t sVar4;
  
  AdjustStackForLargeAllocations();
  local_150 = '\0';
  puVar3 = &local_14f;
  for (iVar2 = 0x3f; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = 0;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = 0;
  *(undefined *)((int)puVar3 + 2) = 0;
  if (DAT_004d8088 < 1) {
    switch(DAT_005df31c) {
    case 1:
      if (DAT_004cb05c == 3) {
        FUN_00475da0();
      }
      DAT_004d8088 = 3;
      return;
    case 3:
      FUN_00475da0();
      DAT_004d8088 = 3;
      return;
    case 5:
      if (DAT_004cb05c == 3) {
        FUN_00475da0();
        DAT_005dfe24 = DAT_005dfe24 + 1;
        if (*(int *)(*(int *)(DAT_005df2c8 + 4) + 8) <= DAT_005dfe24) {
          DAT_005dfe24 = 0;
        }
        _DAT_004d808c = 1;
        FUN_0045fa30();
        MultiplyMatrices();
        iVar2 = *(int *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + DAT_005dfe24 * 0x140);
        while (iVar2 != 0) {
          DAT_005dfe24 = DAT_005dfe24 + 1;
          if (*(int *)(*(int *)(DAT_005df2c8 + 4) + 8) <= DAT_005dfe24) {
            DAT_005dfe24 = 0;
          }
          FUN_0045fa30();
          MultiplyMatrices();
          iVar2 = *(int *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + DAT_005dfe24 * 0x140);
        }
        (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
        sVar4 = 0x27;
        iVar2 = 0;
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             *(undefined2 *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + DAT_005dfe24 * 0x140);
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             (undefined2)DAT_005dfe24;
        uStackY_2c = 0x434766;
        pvVar1 = (void *)AllocateMemoryWithCallback();
        uStackY_2c = 0x43476f;
        pvVar1 = _memset(pvVar1,iVar2,sVar4);
        uStackY_2c = 0x43478d;
        FUN_00415fa0();
        _AIL_init_sample_4();
        uStackY_2c = 0x4347b2;
        _AIL_set_sample_address_12();
        _AIL_set_sample_playback_rate_8();
        uStackY_2c = 0x4347d3;
        _AIL_set_sample_type_12();
        __ftol();
        _AIL_set_sample_volume_8();
        _AIL_set_sample_adpcm_block_size_8();
        _AIL_start_sample_4();
        if (pvVar1 != (void *)0x0) {
          FreeMemory();
        }
        FID_conflict___mbscpy
                  (&local_150,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + DAT_005dfe24 * 0x140));
        ConvertString();
        FUN_0043db20();
        *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8 + 4) =
             *(undefined4 *)
              (*(int *)(DAT_005df2c8 + 8) +
              *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) *
              0x140);
        FUN_004357f0();
        DAT_005df31c = 4;
        return;
      }
      iVar2 = 0;
      do {
        *(short *)(DAT_004d80f0 + 0xc) = *(short *)(DAT_004d80f0 + 0xc) + 1;
        if (4 < *(short *)(DAT_004d80f0 + 0xc)) {
          *(undefined2 *)(DAT_004d80f0 + 0xc) = 0;
        }
      } while ((*(short *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) == -1)
              && (iVar2 = iVar2 + 1, iVar2 < 5));
      iVar2 = *(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8;
      *(undefined4 *)(iVar2 + 4) =
           *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + *(short *)(iVar2 + 2) * 0x140);
      FUN_004357f0();
      sVar4 = 0x27;
      iVar2 = 0;
      pvVar1 = (void *)AllocateMemoryWithCallback();
      pvVar1 = _memset(pvVar1,iVar2,sVar4);
      FUN_00415fa0();
      _AIL_init_sample_4();
      _AIL_set_sample_address_12();
      _AIL_set_sample_playback_rate_8();
      _AIL_set_sample_type_12();
      __ftol();
      _AIL_set_sample_volume_8();
      _AIL_set_sample_adpcm_block_size_8();
      _AIL_start_sample_4();
      if (pvVar1 != (void *)0x0) {
        FreeMemory();
      }
      FID_conflict___mbscpy
                (&local_150,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + DAT_005dfe24 * 0x140));
      ConvertString();
      FUN_0043db20();
      DAT_005df31c = 4;
      switch(*(undefined2 *)(DAT_004d80f0 + 0xc)) {
      case 0:
        DAT_005dfdc8 = 0x11;
        return;
      case 1:
        DAT_005dfdc8 = 0x14;
        return;
      case 2:
        DAT_005dfdc8 = 0x17;
        return;
      case 3:
        DAT_005dfdc8 = 0x1a;
        return;
      case 4:
        DAT_005dfdc8 = 0x1d;
        return;
      }
      break;
    case 7:
      if (DAT_004cb05c == 3) {
        FUN_00475da0();
        DAT_005dfe24 = DAT_005dfe24 + -1;
        if (DAT_005dfe24 < 0) {
          DAT_005dfe24 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8) + -1;
        }
        _DAT_004d808c = 1;
        FUN_0045fa30();
        MultiplyMatrices();
        iVar2 = *(int *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + DAT_005dfe24 * 0x140);
        while (iVar2 != 0) {
          DAT_005dfe24 = DAT_005dfe24 + -1;
          if (DAT_005dfe24 < 0) {
            DAT_005dfe24 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8) + -1;
          }
          FUN_0045fa30();
          MultiplyMatrices();
          iVar2 = *(int *)(*(int *)(DAT_005df2c8 + 8) + 0x11a + DAT_005dfe24 * 0x140);
        }
        (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
        sVar4 = 0x27;
        iVar2 = 0;
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             *(undefined2 *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + DAT_005dfe24 * 0x140);
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             (undefined2)DAT_005dfe24;
        uStackY_2c = 0x434c31;
        pvVar1 = (void *)AllocateMemoryWithCallback();
        uStackY_2c = 0x434c3a;
        pvVar1 = _memset(pvVar1,iVar2,sVar4);
        uStackY_2c = 0x434c58;
        FUN_00415fa0();
        _AIL_init_sample_4();
        uStackY_2c = 0x434c7d;
        _AIL_set_sample_address_12();
        _AIL_set_sample_playback_rate_8();
        uStackY_2c = 0x434c9e;
        _AIL_set_sample_type_12();
        __ftol();
        _AIL_set_sample_volume_8();
        _AIL_set_sample_adpcm_block_size_8();
        _AIL_start_sample_4();
        if (pvVar1 != (void *)0x0) {
          FreeMemory();
        }
        FID_conflict___mbscpy
                  (&local_150,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + DAT_005dfe24 * 0x140));
        ConvertString();
        FUN_0043db20();
        *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8 + 4) =
             *(undefined4 *)
              (*(int *)(DAT_005df2c8 + 8) +
              *(short *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) *
              0x140);
        FUN_004357f0();
        switch(*(undefined2 *)(DAT_004d80f0 + 0xc)) {
        case 0:
          DAT_005dfdc8 = 0x11;
          DAT_005df31c = 6;
          return;
        case 1:
          DAT_005dfdc8 = 0x14;
          DAT_005df31c = 6;
          return;
        case 2:
          DAT_005dfdc8 = 0x17;
          DAT_005df31c = 6;
          return;
        case 3:
          DAT_005dfdc8 = 0x1a;
          DAT_005df31c = 6;
          return;
        case 4:
          DAT_005dfdc8 = 0x1d;
          DAT_005df31c = 6;
          return;
        }
      }
      else {
        iVar2 = 0;
        do {
          *(short *)(DAT_004d80f0 + 0xc) = *(short *)(DAT_004d80f0 + 0xc) + -1;
          if (*(short *)(DAT_004d80f0 + 0xc) < 0) {
            *(undefined2 *)(DAT_004d80f0 + 0xc) = 4;
          }
        } while ((*(short *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) == -1)
                && (iVar2 = iVar2 + 1, iVar2 < 5));
        iVar2 = *(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8;
        *(undefined4 *)(iVar2 + 4) =
             *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + *(short *)(iVar2 + 2) * 0x140);
        FUN_004357f0();
        sVar4 = 0x27;
        iVar2 = 0;
        pvVar1 = (void *)AllocateMemoryWithCallback();
        pvVar1 = _memset(pvVar1,iVar2,sVar4);
        FUN_00415fa0();
        _AIL_init_sample_4();
        _AIL_set_sample_address_12();
        _AIL_set_sample_playback_rate_8();
        _AIL_set_sample_type_12();
        __ftol();
        _AIL_set_sample_volume_8();
        _AIL_set_sample_adpcm_block_size_8();
        _AIL_start_sample_4();
        if (pvVar1 != (void *)0x0) {
          FreeMemory();
        }
        FID_conflict___mbscpy
                  (&local_150,(char *)(*(int *)(DAT_005df2c8 + 8) + 0x1a + DAT_005dfe24 * 0x140));
        ConvertString();
        FUN_0043db20();
      }
      DAT_005df31c = 6;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00434fd0(void)

{
  undefined4 uVar1;
  undefined local_44 [20];
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  uint uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if ((DAT_005df31c == DAT_004d8078) && (_DAT_004d808c == 0)) goto switchD_0043507e_caseD_1;
  if (DAT_005df31c == 3) {
    _DAT_004d808c = 0;
    return;
  }
  if (((DAT_005df31c == 1) || (DAT_005df31c == 5)) || (DAT_005df31c == 7))
  goto switchD_0043507e_caseD_1;
  uStackY_18 = 0x43502b;
  _memset(local_44,0,0x3d);
  local_2c = CONCAT13(local_2c._3_1_,0x30000);
  local_27 = 0x3f;
  local_25 = 0x5b;
  uStackY_24 = 0;
  local_23 = 0xa5;
  local_21 = 0xe;
  uStackY_20 = 0;
  local_1f = 0;
  local_1d = 0;
  uStackY_1c = uStackY_1c & 0xffffff00;
  FUN_00492720();
  FUN_00492720();
  switch(DAT_005df31c) {
  case 0:
    uVar1 = DAT_005deda0;
    if (DAT_004cb05c == 3) goto LAB_00435105;
    uStackY_28 = (undefined)DAT_005deda4;
    local_27 = (undefined2)((uint)DAT_005deda4 >> 8);
    local_25 = (undefined)((uint)DAT_005deda4 >> 0x18);
    break;
  default:
    goto switchD_0043507e_caseD_1;
  case 2:
    uStackY_28 = (undefined)DAT_005ded58;
    local_27 = (undefined2)((uint)DAT_005ded58 >> 8);
    local_25 = (undefined)((uint)DAT_005ded58 >> 0x18);
    break;
  case 4:
    uStackY_28 = (undefined)DAT_005ded6c;
    local_27 = (undefined2)((uint)DAT_005ded6c >> 8);
    local_25 = (undefined)((uint)DAT_005ded6c >> 0x18);
    break;
  case 6:
    uVar1 = DAT_005ded70;
LAB_00435105:
    uStackY_28 = (undefined)uVar1;
    local_27 = (undefined2)((uint)uVar1 >> 8);
    local_25 = (undefined)((uint)uVar1 >> 0x18);
  }
  local_1d = 0;
  local_1f = 2;
  uStackY_20 = 0x58;
  local_21 = 0;
  local_23 = 0;
  uStackY_24 = 0;
  uStackY_18 = 1;
  uStackY_1c = 5;
  local_2c = 1;
  uStackY_30 = 0x43510d;
  FUN_00492100();
switchD_0043507e_caseD_1:
  if (((DAT_005df31c != 3) && (DAT_005df31c != 1)) && ((DAT_005df31c != 5 && (DAT_005df31c != 7))))
  {
    DAT_004d8078 = DAT_005df31c;
  }
  _DAT_004d808c = 0;
  return;
}



void FUN_00435160(void)

{
  int iVar1;
  undefined4 uVar2;
  
  if (DAT_004d8100 != 0) {
    DAT_005df31c = 0;
    *(undefined *)(DAT_005df2c8 + 0xf0) = 2;
    DAT_004d8100 = 0;
  }
  if ((0 < DAT_004d8088) && (DAT_004d8088 = DAT_004d8088 + -1, DAT_004d8088 < 1)) {
    switch(DAT_005df31c) {
    case 1:
      if (DAT_004cb05c == 9) {
        FUN_00475da0(1);
        FUN_00435700((int)*(short *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8
                                    ),1);
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0xffff;
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             0xffff;
        *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 4 + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0;
      }
      else if (DAT_004cb05c == 3) {
        FUN_004356a0((int)*(short *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8
                                    ));
        iVar1 = *(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8;
        uVar2 = *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + *(short *)(iVar1 + 2) * 0x140);
        *(undefined4 *)(iVar1 + 4) = uVar2;
        FUN_004357f0(CONCAT22((short)((uint)uVar2 >> 0x10),
                              *(undefined2 *)
                               (*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8)),1)
        ;
      }
      FUN_0042a450(2);
      DAT_004d839c._0_1_ = DAT_004d83a0;
      DAT_005df2d0 = 1;
      FUN_00435680();
      DAT_004d8088 = 0;
      return;
    case 3:
      if (DAT_004cb05c == 9) {
        FUN_0042a450(2);
        DAT_004d839c._0_1_ = DAT_004d83a0;
        DAT_005df2d0 = 1;
        FUN_00435680();
        return;
      }
      if (DAT_004cb05c == 3) {
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0xffff;
        *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + *(short *)(DAT_004d80f0 + 0xc) * 8) =
             0xffff;
        *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 4 + *(short *)(DAT_004d80f0 + 0xc) * 8) = 0;
        FUN_0042a450(2);
        DAT_004d839c._0_1_ = DAT_004d83a0;
        DAT_005df2d0 = 1;
        FUN_00435680();
        return;
      }
      break;
    case 5:
      DAT_005df31c = 4;
      DAT_004d8088 = 0;
      return;
    case 7:
      DAT_005df31c = 6;
      DAT_004d8088 = 0;
      return;
    }
    DAT_004d8088 = 0;
  }
  return;
}



undefined4 FUN_00435390(void)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = FUN_0042abb0(DAT_005df290[2],0x32,0x15,0x36);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 1;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a,0x35);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 2;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[4],0x32,0x83,0x37);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 0xb;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[8],0x32,0x153,0x3b);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 0xc;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[5],0x118,0x7a,0x38);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 3;
    *(undefined2 *)(iVar2 + 0x24) = 0xd;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15,0x34);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x16;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    *(undefined2 *)(iVar2 + 10) = 4;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x16;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
  }
  FUN_0042a520(iVar2);
  if (DAT_004cb05c == 3) {
    iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a,0x34);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 2;
      *(undefined2 *)(iVar2 + 0x24) = 0x28;
      *(undefined2 *)(iVar2 + 0x40) = 2;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      uVar1 = DAT_005df290[0x15];
      *(undefined2 *)(iVar2 + 0x26) = 0x6d;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
      *(undefined2 *)(iVar2 + 10) = 5;
    }
  }
  else {
    iVar2 = FUN_0042abb0(*DAT_005df290,0x1c8,0x9d,0x34);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 2;
      *(undefined2 *)(iVar2 + 0x24) = 0x29;
      *(undefined2 *)(iVar2 + 0x40) = 2;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      uVar1 = DAT_005df290[0x15];
      *(undefined2 *)(iVar2 + 0x26) = 0x6e;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
      *(undefined2 *)(iVar2 + 10) = 6;
    }
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1c8,0x113,0x34);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x1c;
    *(undefined2 *)(iVar2 + 0x40) = 4;
    *(undefined2 *)(iVar2 + 0x3a) = 6;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x1c;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 7;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1c8,0xd8,0x34);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x1b;
    *(undefined2 *)(iVar2 + 0x40) = 3;
    *(undefined2 *)(iVar2 + 0x3a) = 4;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x1b;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 8;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(DAT_005df290[7],0x159,0x182,0x3a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0x19;
  }
  FUN_0042a520(iVar2);
  FUN_004340a0();
  return 1;
}



void FUN_00435680(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  FUN_004331f0();
  return;
}



void FUN_004356a0(uint param_1)

{
  int iVar1;
  int iVar2;
  ushort *puVar3;
  int iVar4;
  
  iVar2 = 0;
  iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
  iVar4 = -1;
  if (0 < iVar1) {
    puVar3 = (ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14);
    do {
      iVar4 = iVar2;
      if (*puVar3 == param_1) break;
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 0xa0;
      iVar4 = -1;
    } while (iVar2 < iVar1);
  }
  if (iVar4 != -1) {
    *(undefined4 *)(iVar4 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) = 1;
  }
  return;
}



void FUN_00435700(uint param_1)

{
  int iVar1;
  int iVar2;
  ushort *puVar3;
  int iVar4;
  
  iVar2 = 0;
  iVar1 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
  iVar4 = -1;
  if (0 < iVar1) {
    puVar3 = (ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14);
    do {
      iVar4 = iVar2;
      if (*puVar3 == param_1) break;
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 0xa0;
      iVar4 = -1;
    } while (iVar2 < iVar1);
  }
  if (iVar4 != -1) {
    *(undefined4 *)(iVar4 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) = 0;
  }
  return;
}



undefined4 FUN_00435760(void)

{
  undefined2 extraout_var;
  undefined4 local_c;
  undefined4 *local_8;
  
  local_8 = (undefined4 *)0x43576d;
  AdjustStackForLargeAllocations();
  if (DAT_004cae04 != -1) {
    if (DAT_004d8094 != (int *)0x0) {
      local_8 = &local_c;
      local_c = 8;
      (**(code **)(*DAT_004d8094 + 0x74))(DAT_004d8094);
    }
    if (DAT_004d8090 == 0) {
      local_8 = (undefined4 *)0x4357b2;
      FUN_004331f0();
      local_8 = (undefined4 *)CONCAT22(extraout_var,DAT_004cae04);
      local_c = 0x4357bf;
      FUN_00431de0();
    }
    local_8 = (undefined4 *)0x4357c7;
    FUN_004340a0();
  }
  DAT_004cae04 = 0xffff;
  DAT_004d8094 = (int *)0x0;
  return 1;
}



void FUN_004357f0(undefined2 param_1,undefined4 param_2)

{
  DAT_004cae04 = param_1;
  DAT_004d8090 = param_2;
  return;
}



void FUN_00435810(undefined4 param_1,float param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 local_24;
  undefined4 *local_20;
  undefined4 local_1c;
  undefined4 *local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  if (param_2 < 1.0) {
    local_14 = 0;
    local_10 = 0x43585e;
    __ftol();
  }
  local_10 = *(undefined4 *)(DAT_005df290 + 0x34);
  local_14 = 0x40;
  local_18 = (undefined4 *)0x40;
  local_1c = param_4;
  local_20 = (undefined4 *)param_3;
  local_24 = 0x435887;
  FUN_0043dcb0();
  if (param_2 < 1.0) {
    local_10 = 0;
    local_18 = &local_14;
    local_14 = 0x1008000;
    local_1c = *(undefined4 *)(DAT_005df290 + 0x34);
    local_24 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
    local_20 = &local_24;
    FUN_00424d60();
  }
  return;
}



int FUN_004358d0(int param_1)

{
  return (uint)*(byte *)(param_1 * 0x140 + 0x16 + *(int *)(DAT_005df2c8 + 8)) * 100;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00435910(void)

{
  void *_Dst;
  int iVar1;
  size_t _Size;
  
  _Size = 0x18;
  iVar1 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x18);
  _DAT_004d80a0 = _memset(_Dst,iVar1,_Size);
  if (_DAT_004d80a0 == (void *)0x0) {
    return false;
  }
  iVar1 = FUN_00427b50();
  return iVar1 != 0;
}



undefined4 FUN_00435940(void)

{
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00435950(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 local_68 [16];
  undefined4 local_28;
  undefined4 *puStack_24;
  int iStack_20;
  int iStack_1c;
  undefined4 *puStack_18;
  undefined4 *puStack_14;
  int iVar5;
  int iVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  iVar7 = 0;
  iVar5 = 0;
  iVar6 = 0;
  if (DAT_005df2d0 != 0) {
    if (DAT_004d809c == 0x16) {
      puStack_14 = (undefined4 *)0x435984;
      FUN_00436600();
    }
    else {
      puStack_14 = (undefined4 *)0x43598b;
      FUN_004362d0();
    }
    puStack_14 = (undefined4 *)0x435990;
    FUN_00437c30();
    DAT_005df2d0 = 0;
  }
  puStack_14 = (undefined4 *)0x43599b;
  FUN_0042a470();
  if (DAT_004d809c == 0) {
    puStack_18 = _DAT_005df2f0;
  }
  else {
    puStack_18 = (undefined4 *)0x0;
  }
  puStack_14 = (undefined4 *)DAT_005b938c;
  iStack_1c = 0x4359bf;
  CallMysteryFunction();
  iVar2 = DAT_004d809c;
  for (iVar1 = *(int *)(DAT_004d7cd4 + 8); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x46)) {
    if ((DAT_004d809c == 0x17) || (DAT_004d809c == 0x16)) {
      if ((*(short *)(iVar1 + 10) == 7) && (*(short *)(iVar1 + 8) == 0x67)) {
        iVar4 = iVar1;
      }
      if ((*(short *)(iVar1 + 10) == 8) && (*(short *)(iVar1 + 8) == 0x67)) {
        iVar7 = iVar1;
      }
    }
    else {
      if (*(short *)(iVar1 + 0x3a) == 0) {
        iVar4 = iVar1;
      }
      if (*(short *)(iVar1 + 0x3a) == 5) {
        iVar7 = iVar1;
      }
      if ((*(short *)(iVar1 + 10) == 1) && (*(short *)(iVar1 + 8) == 0x67)) {
        iVar6 = iVar1;
      }
      if ((*(short *)(iVar1 + 10) == 0) && (*(short *)(iVar1 + 8) == 0x94)) {
        iVar5 = iVar1;
      }
    }
  }
  if ((((iVar4 != 0) && (iVar7 != 0)) && (DAT_004d809c != 0x17)) && (DAT_004d809c != 0x16)) {
    iVar3 = 0;
    puStack_14 = (undefined4 *)0x435a7c;
    iVar1 = __ftol();
    if (0 < iVar1) {
      do {
        puStack_14 = *(undefined4 **)(DAT_005dcedc + 0x34);
        iStack_20 = *(short *)(iVar4 + 0x16) + 0x10;
        puStack_18 = (undefined4 *)0x5;
        iStack_1c = 1;
        puStack_24 = (undefined4 *)(iVar3 + 0x6a + (int)*(short *)(iVar4 + 0x14));
        local_28 = 0x435aa4;
        FUN_0043dcb0();
        iVar3 = iVar3 + 2;
        puStack_14 = (undefined4 *)0x435abb;
        iVar1 = __ftol();
        iVar2 = DAT_004d809c;
      } while (iVar3 < iVar1);
    }
    iVar3 = 0;
    puStack_14 = (undefined4 *)0x435ad8;
    iVar1 = __ftol();
    if (0 < iVar1) {
      do {
        puStack_14 = *(undefined4 **)(DAT_005dcedc + 0x34);
        iStack_20 = *(short *)(iVar4 + 0x16) + 0x32;
        puStack_18 = (undefined4 *)0x5;
        iStack_1c = 1;
        puStack_24 = (undefined4 *)(iVar3 + 0x6a + (int)*(short *)(iVar7 + 0x14));
        local_28 = 0x435b02;
        FUN_0043dcb0();
        iVar3 = iVar3 + 2;
        puStack_14 = (undefined4 *)0x435b19;
        iVar1 = __ftol();
        iVar2 = DAT_004d809c;
      } while (iVar3 < iVar1);
    }
  }
  if (DAT_005df2f8 == 2) {
    if ((0x18 < iVar2) && (iVar2 < 0x2d)) {
      puStack_14 = (undefined4 *)0x435c41;
      iVar7 = FUN_0043f290();
      puStack_14 = *(undefined4 **)(DAT_005dcedc + 0x3c);
      puStack_18 = (undefined4 *)0x0;
      iStack_20 = (*(int *)(DAT_005e5010 + 0x253c) >> 1) + -0x5f;
      iStack_1c = 0;
      puStack_24 = (undefined4 *)((*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x2f);
      local_28 = 0x435c73;
      FUN_0043dcb0();
      puStack_14 = *(undefined4 **)(DAT_005df2c8 + 0x38 + iVar7 * 4);
      puStack_18 = (undefined4 *)0x0;
      iStack_20 = (*(int *)(DAT_005e5010 + 0x253c) >> 1) + -0x58;
      iStack_1c = 0;
      puStack_24 = (undefined4 *)((*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x28);
      local_28 = 0x435ca6;
      FUN_0043dcb0();
      iVar4 = *(int *)(DAT_005df2c8 + 0x60 + iVar7 * 4);
      iVar2 = DAT_004d809c;
      if (-1 < iVar4) {
        if ((0 < iVar4) && (iVar6 != 0)) {
          puStack_14 = (undefined4 *)0x0;
          puStack_18 = (undefined4 *)0x0;
          iStack_1c = 100;
          iStack_20 = 0x32;
          puStack_24 = (undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + iVar4 * 0x222);
          local_28 = 0x435ce4;
          FUN_00428d60();
        }
        iStack_1c = *(int *)(DAT_005df2c8 + 0x88 + iVar7 * 4);
        puStack_18 = &local_28;
        puStack_14 = (undefined4 *)0xa;
        iStack_20 = 0x435d00;
        FUN_004ae5f0();
        iVar2 = DAT_004d809c;
        if (iVar5 != 0) {
          iStack_1c = 0x73;
          iStack_20 = 0x32;
          goto LAB_00435d16;
        }
      }
    }
  }
  else if ((0x18 < iVar2) && (iVar2 < 0x2d)) {
    puStack_14 = (undefined4 *)0x435b4c;
    iVar7 = FUN_0043f290();
    puStack_14 = *(undefined4 **)(DAT_005df2c8 + 0x38 + iVar7 * 4);
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0;
    iStack_20 = (*(int *)(DAT_005e5010 + 0x253c) >> 1) + -0x9e;
    puStack_24 = (undefined4 *)((*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x28);
    local_28 = 0x435b82;
    FUN_0043dcb0();
    iVar4 = *(int *)(DAT_005df2c8 + 0x60 + iVar7 * 4);
    iVar2 = DAT_004d809c;
    if (-1 < iVar4) {
      if ((0 < iVar4) && (iVar6 != 0)) {
        puStack_14 = (undefined4 *)0x0;
        puStack_18 = (undefined4 *)0x0;
        iStack_1c = ((int)*(short *)(iVar6 + 0xe) >> 1) + -8 + (int)*(short *)(iVar6 + 0x16);
        iStack_20 = *(short *)(iVar6 + 0x14) + 0xf;
        puStack_24 = (undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + iVar4 * 0x222);
        local_28 = 0x435bd7;
        FUN_00428d60();
      }
      iStack_1c = *(int *)(DAT_005df2c8 + 0x88 + iVar7 * 4);
      puStack_18 = &local_28;
      puStack_14 = (undefined4 *)0xa;
      iStack_20 = 0x435bf8;
      FUN_004ae5f0();
      iVar2 = DAT_004d809c;
      if (iVar5 != 0) {
        iStack_1c = ((int)*(short *)(iVar5 + 0xe) >> 1) + -8 + (int)*(short *)(iVar5 + 0x16);
        iStack_20 = *(short *)(iVar5 + 0x14) + 0xf;
LAB_00435d16:
        puStack_24 = &local_28;
        puStack_14 = (undefined4 *)0x0;
        puStack_18 = (undefined4 *)0x0;
        local_28 = 0x435d1b;
        FUN_00428d60();
        iVar2 = DAT_004d809c;
      }
    }
  }
  if (DAT_005df2f8 != 2) goto LAB_004362aa;
  if ((iVar2 < 0) || (0x15 < iVar2)) {
    if ((iVar2 < 0x16) || (0x17 < iVar2)) {
      if ((0x18 < iVar2) && (iVar2 < 0x2d)) {
        DAT_004d80b8 = 2;
      }
    }
    else {
      DAT_004d80b8 = 1;
    }
  }
  else {
    DAT_004d80b8 = 0;
  }
  if (DAT_004d80b8 == 0) {
    if ((iVar2 != 0) || (iVar4 = 0, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x2c;
      iStack_20 = 100;
      puStack_24 = DAT_005ded74;
      local_28 = 0x4360c5;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    iVar6 = 0;
    puStack_14 = (undefined4 *)0x4360e1;
    iVar5 = __ftol();
    if (0 < iVar5) {
      do {
        puStack_24 = (undefined4 *)(iVar6 + 0x96);
        puStack_14 = *(undefined4 **)(DAT_005dcedc + 0x34);
        puStack_18 = (undefined4 *)0x5;
        iStack_1c = 1;
        iStack_20 = 0x2c;
        local_28 = 0x436101;
        FUN_0043dcb0();
        iVar6 = iVar6 + 2;
        puStack_14 = (undefined4 *)0x436117;
        iVar5 = __ftol();
        iVar4 = DAT_004d809c;
      } while (iVar6 < iVar5);
    }
    if ((iVar4 != 5) || (iVar4 = 5, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x3a;
      iStack_20 = 100;
      puStack_24 = DAT_005ded78;
      local_28 = 0x436142;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    iVar6 = 0;
    puStack_14 = (undefined4 *)0x43615e;
    iVar5 = __ftol();
    if (0 < iVar5) {
      do {
        puStack_24 = (undefined4 *)(iVar6 + 0x96);
        puStack_14 = *(undefined4 **)(DAT_005dcedc + 0x34);
        puStack_18 = (undefined4 *)0x5;
        iStack_1c = 1;
        iStack_20 = 0x3a;
        local_28 = 0x43617e;
        FUN_0043dcb0();
        iVar6 = iVar6 + 2;
        puStack_14 = (undefined4 *)0x436194;
        iVar5 = __ftol();
        iVar4 = DAT_004d809c;
      } while (iVar6 < iVar5);
    }
    if ((iVar4 != 10) || (iVar4 = 10, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x48;
      iStack_20 = 0xa0;
      puStack_24 = DAT_005dedfc;
      local_28 = 0x4361c2;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0xc) || (iVar4 = 0xc, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x56;
      iStack_20 = 0xa0;
      puStack_24 = DAT_005ded1c;
      local_28 = 0x4361ee;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0xe) || (iVar4 = 0xe, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 100;
      iStack_20 = 0xa0;
      puStack_24 = DAT_005ded18;
      local_28 = 0x43621b;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x10) || (iVar4 = 0x10, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x72;
      iStack_20 = 0xa0;
      puStack_24 = DAT_005ded80;
      local_28 = 0x436248;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x12) || (iVar4 = 0x12, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x80;
      iStack_20 = 0xa0;
      puStack_24 = DAT_005ded84;
      local_28 = 0x436277;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 == 0x14) && (DAT_004d80e4 != 0)) goto LAB_004362aa;
    puStack_14 = (undefined4 *)0x2;
    iStack_1c = 0x8e;
    iStack_20 = 0xa0;
    puStack_24 = DAT_005ded88;
  }
  else if (DAT_004d80b8 == 1) {
    puStack_14 = (undefined4 *)0x0;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x41;
    iStack_20 = 0x14;
    puStack_24 = (undefined4 *)DAT_005dedd0;
    local_28 = 0x435f47;
    FUN_00428d60();
    puStack_14 = local_68;
    puStack_18 = (undefined4 *)DAT_004d80cc[0x16];
    iStack_1c = *DAT_004d80cc;
    iStack_20 = 0x435f5f;
    FUN_00437850();
    puStack_24 = local_68;
    puStack_14 = (undefined4 *)0x1;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x41;
    iStack_20 = 300;
    local_28 = 0x435f76;
    FUN_00428d60();
    puStack_14 = (undefined4 *)0x0;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x4f;
    iStack_20 = 0x14;
    puStack_24 = (undefined4 *)DAT_005dedd4;
    local_28 = 0x435f8d;
    FUN_00428d60();
    puStack_14 = local_68;
    puStack_18 = (undefined4 *)DAT_004d80cc[0x17];
    iStack_1c = DAT_004d80cc[1];
    iStack_20 = 0x435fa6;
    FUN_00437850();
    puStack_24 = local_68;
    puStack_14 = (undefined4 *)0x1;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x4f;
    iStack_20 = 300;
    local_28 = 0x435fbd;
    FUN_00428d60();
    puStack_14 = (undefined4 *)0x0;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x5d;
    iStack_20 = 0x14;
    puStack_24 = (undefined4 *)DAT_005dedd8;
    local_28 = 0x435fd4;
    FUN_00428d60();
    puStack_18 = local_68;
    iStack_1c = DAT_004d80cc[2];
    puStack_14 = (undefined4 *)0xa;
    iStack_20 = 0x435feb;
    FUN_004ae5f0();
    puStack_24 = local_68;
    puStack_14 = (undefined4 *)0x1;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x5d;
    iStack_20 = 300;
    local_28 = 0x436002;
    FUN_00428d60();
    puStack_14 = (undefined4 *)0x0;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x6b;
    iStack_20 = 0x14;
    puStack_24 = (undefined4 *)DAT_005deddc;
    local_28 = 0x436018;
    FUN_00428d60();
    puStack_18 = local_68;
    puStack_14 = (undefined4 *)0xa;
    iStack_1c = *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399);
    iStack_20 = 0x436039;
    FUN_004ae5f0();
    puStack_24 = local_68;
    puStack_14 = (undefined4 *)0x1;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x6b;
    iStack_20 = 300;
    local_28 = 0x436050;
    FUN_00428d60();
    puStack_14 = (undefined4 *)0x0;
    puStack_18 = (undefined4 *)0x0;
    iStack_1c = 0x79;
    iStack_20 = 0x14;
    puStack_24 = (undefined4 *)DAT_005dede0;
    local_28 = 0x436067;
    FUN_00428d60();
    puStack_18 = local_68;
    puStack_14 = (undefined4 *)0xa;
    iStack_1c = DAT_004d80cc[2] + *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399);
    iStack_20 = 0x43608f;
    FUN_004ae5f0();
    puStack_24 = local_68;
    puStack_14 = (undefined4 *)0x1;
    iStack_1c = 0x79;
    iStack_20 = 300;
  }
  else {
    if (DAT_004d80b8 != 2) goto LAB_004362aa;
    if ((iVar2 != 0x19) || (iVar4 = 0x19, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 100;
      iStack_20 = 0x78;
      puStack_24 = (undefined4 *)&DAT_004caef8;
      local_28 = 0x435da6;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x1b) || (iVar4 = 0x1b, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x73;
      iStack_20 = 0x78;
      puStack_24 = (undefined4 *)&DAT_004caefc;
      local_28 = 0x435dce;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x1d) || (iVar4 = 0x1d, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x82;
      iStack_20 = 0x78;
      puStack_24 = (undefined4 *)&DAT_004caf00;
      local_28 = 0x435df9;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x1f) || (iVar4 = 0x1f, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x91;
      iStack_20 = 0x78;
      puStack_24 = (undefined4 *)&DAT_004caf04;
      local_28 = 0x435e24;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x21) || (iVar4 = 0x21, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0xa0;
      iStack_20 = 0x78;
      puStack_24 = (undefined4 *)&DAT_004caf08;
      local_28 = 0x435e4f;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x23) || (iVar4 = 0x23, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 100;
      iStack_20 = 200;
      puStack_24 = (undefined4 *)&DAT_004caf0c;
      local_28 = 0x435e7a;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x25) || (iVar4 = 0x25, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x73;
      iStack_20 = 200;
      puStack_24 = (undefined4 *)&DAT_004caf10;
      local_28 = 0x435ea5;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x27) || (iVar4 = 0x27, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x82;
      iStack_20 = 200;
      puStack_24 = (undefined4 *)&DAT_004caf14;
      local_28 = 0x435ed3;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 != 0x29) || (iVar4 = 0x29, DAT_004d80e4 == 0)) {
      puStack_14 = (undefined4 *)0x2;
      puStack_18 = (undefined4 *)0x0;
      iStack_1c = 0x91;
      iStack_20 = 200;
      puStack_24 = (undefined4 *)&DAT_004caf18;
      local_28 = 0x435f01;
      FUN_00428d60();
      iVar4 = DAT_004d809c;
    }
    if ((iVar4 == 0x2b) && (DAT_004d80e4 != 0)) goto LAB_004362aa;
    puStack_14 = (undefined4 *)0x2;
    iStack_1c = 0xa0;
    iStack_20 = 200;
    puStack_24 = (undefined4 *)&DAT_004caf1c;
  }
  puStack_18 = (undefined4 *)0x0;
  local_28 = 0x4362a7;
  FUN_00428d60();
LAB_004362aa:
  puStack_14 = (undefined4 *)0x4362af;
  FUN_0042a490();
  puStack_14 = (undefined4 *)DAT_004d809c;
  puStack_18 = (undefined4 *)0x4362bb;
  FUN_0042aea0();
  return 1;
}



undefined4 FUN_004362d0(void)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_005df2f8 != 2) {
    iVar4 = *(int *)(DAT_005e5010 + 0x253c) / 2;
    iVar3 = *(int *)(DAT_005e5010 + 0x2538) / 2 + -0x9b;
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x38),iVar3,iVar4 + -0x88,0x66);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 0x40) = 1;
      *(undefined2 *)(iVar2 + 0x3a) = 0;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x1d;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 0;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x38),iVar3,iVar4 + -0x66,0x66);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 1;
      *(undefined2 *)(iVar2 + 0x40) = 2;
      *(undefined2 *)(iVar2 + 0x3a) = 5;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x1e;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 0;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + -0x44,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 0x40) = 3;
      *(undefined2 *)(iVar2 + 0x3a) = 10;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x3f;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + -0x22,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 1;
      *(undefined2 *)(iVar2 + 0x40) = 4;
      *(undefined2 *)(iVar2 + 0x3a) = 0xc;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 7;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 2;
      *(undefined2 *)(iVar2 + 0x40) = 5;
      *(undefined2 *)(iVar2 + 0x3a) = 0xe;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 6;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + 0x22,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 3;
      *(undefined2 *)(iVar2 + 0x40) = 6;
      *(undefined2 *)(iVar2 + 0x3a) = 0x10;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x20;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + 0x44,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 4;
      *(undefined2 *)(iVar2 + 0x40) = 7;
      *(undefined2 *)(iVar2 + 0x3a) = 0x12;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x21;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + 0x66,0x67);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 0;
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 5;
      *(undefined2 *)(iVar2 + 0x40) = 8;
      *(undefined2 *)(iVar2 + 0x3a) = 0x14;
      *(undefined2 *)(iVar2 + 0x24) = 0xc3;
      uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
      *(undefined2 *)(iVar2 + 0x26) = 0x22;
      *(undefined4 *)(iVar2 + 4) = uVar1;
      *(undefined *)(iVar2 + 0x28) = 2;
    }
    FUN_0042a520(iVar2);
  }
  return 1;
}



undefined4 FUN_00436600(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(DAT_005e5010 + 0x253c) / 2;
  iVar3 = *(int *)(DAT_005e5010 + 0x2538) / 2 + -0x9b;
  if (DAT_005df2f8 != 2) {
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x55);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x20) = 3;
      *(undefined2 *)(iVar1 + 10) = 6;
      *(undefined2 *)(iVar1 + 0x24) = 0x34;
      *(undefined2 *)(iVar1 + 0x26) = 0x34;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_00437850(*DAT_004d80cc,DAT_004d80cc[0x16]);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x33);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x20) = 3;
      *(undefined2 *)(iVar1 + 10) = 7;
      *(undefined2 *)(iVar1 + 0x24) = 0x35;
      *(undefined2 *)(iVar1 + 0x26) = 0x35;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_00437850(DAT_004d80cc[1],DAT_004d80cc[0x17]);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x11);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x20) = 3;
      *(undefined2 *)(iVar1 + 10) = 8;
      *(undefined2 *)(iVar1 + 0x24) = 0x36;
      *(undefined2 *)(iVar1 + 0x26) = 0x36;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_004ae5f0(DAT_004d80cc[2],&stack0xffffffec);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + 0x11);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x20) = 3;
      *(undefined2 *)(iVar1 + 10) = 9;
      *(undefined2 *)(iVar1 + 0x24) = 0x37;
      *(undefined2 *)(iVar1 + 0x26) = 0x37;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_004ae5f0(*(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399),&stack0xffffffec)
      ;
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + 0x33);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 3;
      *(undefined2 *)(iVar2 + 10) = 10;
      *(undefined2 *)(iVar2 + 0x24) = 0x38;
      *(undefined2 *)(iVar2 + 0x26) = 0x38;
      *(undefined *)(iVar2 + 0x28) = 0;
      FUN_004ae5f0(DAT_004d80cc[2] + *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399),
                   &stack0xffffffec);
      FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar2 + 0x39) = 1;
    }
    FUN_0042a520();
  }
  return 1;
}



undefined4 FUN_004368b0(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df2f8 != 2) {
    iVar5 = *(int *)(DAT_005e5010 + 0x253c) >> 1;
    iVar6 = *(int *)(DAT_005e5010 + 0x2538) >> 1;
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x3c),iVar6 + -0x2f,iVar5 + -0xa5,0x96);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x20) = 3;
    }
    FUN_0042a520(iVar2);
    iVar2 = iVar6 + -0x9b;
    iVar3 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar2,iVar5 + -0x50,0x67);
    if (iVar3 != 0) {
      *(undefined4 *)(iVar3 + 0x20) = 3;
      *(undefined2 *)(iVar3 + 10) = 1;
    }
    FUN_0042a520(iVar3);
    iVar3 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x40),iVar2,iVar5 + -0x2d,0x94);
    if (iVar3 != 0) {
      *(undefined4 *)(iVar3 + 0x20) = 3;
    }
    FUN_0042a520(iVar3);
    iVar3 = 0;
    iVar6 = iVar6 + 5;
    do {
      iVar4 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x40),iVar2,iVar5,0x94,iVar6);
      sVar1 = (short)iVar3;
      if (iVar4 != 0) {
        *(undefined4 *)(iVar4 + 0x20) = 1;
        *(short *)(iVar4 + 10) = sVar1 + 1;
        *(short *)(iVar4 + 0x3a) = sVar1 * 2 + 0x19;
        *(undefined4 *)(iVar4 + 4) = *(undefined4 *)(DAT_005dcedc + 0x44);
        FUN_004ae5f0(iVar3 + 1,&stack0xfffffff8,10);
        FID_conflict___mbscpy((char *)(iVar4 + 0x29),&stack0xfffffff8);
        *(undefined *)(iVar4 + 0x39) = 2;
      }
      FUN_0042a520(iVar4);
      iVar4 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x40),iVar6,iVar5,0x94);
      if (iVar4 != 0) {
        *(undefined4 *)(iVar4 + 0x20) = 2;
        *(short *)(iVar4 + 10) = sVar1 + 6;
        *(short *)(iVar4 + 0x3a) = sVar1 * 2 + 0x23;
        *(undefined4 *)(iVar4 + 4) = *(undefined4 *)(DAT_005dcedc + 0x44);
        FUN_004ae5f0(iVar3 + 6,&stack0xfffffff8,10);
        FID_conflict___mbscpy((char *)(iVar4 + 0x29),&stack0xfffffff8);
        *(undefined *)(iVar4 + 0x39) = 2;
      }
      FUN_0042a520(iVar4);
      iVar3 = iVar3 + 1;
      iVar5 = iVar5 + 0x23;
    } while (iVar3 < 5);
  }
  return 1;
}



void FUN_00436a90(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  return;
}



void FUN_00436aa0(void)

{
  int iVar1;
  
  FUN_0042a470();
  iVar1 = 6;
  do {
    FUN_0042a800(0x67,iVar1);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0xb);
  FUN_0042a490();
  return;
}



void FUN_00436ad0(void)

{
  int iVar1;
  
  FUN_0042a470();
  FUN_0042a6c0(0x67,1);
  FUN_0042a6c0(0x67,2);
  FUN_0042a6c0(0x96,0);
  iVar1 = 0;
  do {
    FUN_0042a6c0(0x94,iVar1);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0xb);
  FUN_0042a490();
  return;
}



void FUN_00436b20(void)

{
  switch(DAT_004d809c) {
  case 2:
  case 4:
  case 7:
  case 9:
  case 0x17:
    DAT_004d80b0 = 1;
  default:
    return;
  case 0xb:
    if (DAT_00598944 != 0) {
      DAT_004d809c = 10;
      return;
    }
switchD_00436b35_caseD_d:
    DAT_004d80b0 = 3;
    return;
  case 0xd:
  case 0xf:
  case 0x11:
  case 0x13:
  case 0x15:
  case 0x18:
  case 0x1a:
  case 0x1c:
  case 0x1e:
  case 0x20:
  case 0x22:
  case 0x24:
  case 0x26:
  case 0x28:
  case 0x2a:
  case 0x2c:
    goto switchD_00436b35_caseD_d;
  }
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00436bf0(void)

{
  int iVar1;
  int unaff_EBX;
  char local_10c [232];
  undefined4 uStackY_24;
  undefined *puStackY_20;
  int iStackY_1c;
  
  AdjustStackForLargeAllocations();
  FUN_00475b10();
  FUN_00492300();
  if (DAT_004d80b0 < 1) {
    FUN_0042a470();
    if (*(int *)(DAT_004d7cd4 + 4) == 0) {
      if (DAT_004d809c == 0x11) {
        DAT_004d809c = 0x10;
        DAT_004cb05c = 8;
        FUN_0048daa0();
        FUN_004858f0();
        *(undefined *)(DAT_004d83a4 + 0x62) = 2;
      }
      else if (DAT_004d809c == 0x13) {
        DAT_004cb05c = 8;
        DAT_004d809c = 0;
        DAT_004d8264 = 0;
        if (DAT_00598944 == 0) {
          FUN_0048daa0();
        }
        *(undefined *)(DAT_004d83a4 + 0x62) = 2;
        FUN_0042a490();
        return;
      }
    }
    FUN_0042a490();
    return;
  }
  DAT_004d80b0 = DAT_004d80b0 + -1;
  if (DAT_004d80b0 == 0) {
    switch(DAT_004d809c) {
    case 2:
      if (0 < _DAT_005df2f0) {
        _DAT_005df2f0 = _DAT_005df2f0 + -1;
        FUN_004010f0();
        iStackY_1c = 0;
        puStackY_20 = &DAT_005e4738;
        uStackY_24 = 0x436c73;
        FUN_00475d60();
        DAT_004d809c = 0;
        return;
      }
      break;
    default:
      return;
    case 4:
      if (_DAT_005df2f0 < 100) {
        _DAT_005df2f0 = _DAT_005df2f0 + 1;
        FUN_004010f0();
        iStackY_1c = 0;
        puStackY_20 = &DAT_005e4738;
        uStackY_24 = 0x436cb2;
        FUN_00475d60();
      }
      break;
    case 7:
      if (DAT_005df2f4 < 1) {
        DAT_004d809c = 5;
        return;
      }
      DAT_005df2f4 = DAT_005df2f4 + -1;
      ApplyStreamVolumes();
      iStackY_1c = 0;
      puStackY_20 = &DAT_005e4738;
      uStackY_24 = 0x436cf0;
      FUN_00475d60();
      DAT_004d809c = 5;
      return;
    case 9:
      if (DAT_005df2f4 < 100) {
        DAT_005df2f4 = DAT_005df2f4 + 1;
        ApplyStreamVolumes();
        iStackY_1c = 0;
        puStackY_20 = &DAT_005e4738;
        uStackY_24 = 0x436d33;
        FUN_00475d60();
      }
      DAT_004d809c = 5;
      return;
    case 0xb:
      DAT_004d809c = 0x16;
      FUN_00436a90();
      DAT_005df2d0 = 1;
      return;
    case 0xd:
      FUN_00436a90();
      FUN_004368b0();
      DAT_004d80b4 = 0xc;
      DAT_004d809c = 0x19;
      iStackY_1c = 0;
      puStackY_20 = &DAT_005e4bce;
      uStackY_24 = 0x436dc0;
      FUN_00475bf0();
      return;
    case 0xf:
      FUN_00436a90();
      FUN_004368b0();
      DAT_004d80b4 = 0xe;
      DAT_004d809c = 0x19;
      iStackY_1c = 0;
      puStackY_20 = &DAT_005e4c43;
      uStackY_24 = 0x436e03;
      FUN_00475bf0();
      return;
    case 0x11:
      FUN_00436a90();
      DAT_005df2d0 = 1;
      DAT_004d7bbc = 9;
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450();
      DAT_004d8100 = 1;
      iStackY_1c = 0;
      puStackY_20 = &DAT_005e4c6a;
      uStackY_24 = 0x436ecf;
      FUN_00475bf0();
      FUN_00437ef0();
      return;
    case 0x13:
      FUN_0042a770();
      FUN_00437ef0();
      return;
    case 0x15:
      FUN_00436a90();
      DAT_005df2d0 = 1;
      DAT_004d7bbc = 10;
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450();
      DAT_004d8100 = 1;
      iStackY_1c = 0;
      puStackY_20 = &DAT_005e4cdf;
      uStackY_24 = 0x436e6f;
      FUN_00475bf0();
      FUN_00437ef0();
      return;
    case 0x17:
      DAT_004d809c = 10;
      FUN_00436aa0();
      DAT_005df2d0 = 1;
      return;
    case 0x18:
      DAT_004d809c = 0xc;
      FUN_00436ad0();
      DAT_005df2d0 = 1;
      FUN_00437ef0();
      return;
    case 0x1a:
    case 0x1c:
    case 0x1e:
    case 0x20:
    case 0x22:
    case 0x24:
    case 0x26:
    case 0x28:
    case 0x2a:
    case 0x2c:
      iStackY_1c = 0x436eed;
      FID_conflict___mbscpy(&DAT_005d6400,s_SaveGame_004caf20);
      iStackY_1c = 0x436efb;
      iStackY_1c = FUN_0043f290();
      iStackY_1c = iStackY_1c + 1;
      puStackY_20 = (undefined *)0x436f02;
      FUN_004ae5f0();
      iStackY_1c = 0x436f13;
      FID_conflict__strcat(&DAT_005d6400,&stack0xfffffff4);
      iStackY_1c = 0x436f25;
      FID_conflict__strcat(&DAT_005d6400,&DAT_004caf2c);
      if (DAT_004d80b4 == 0xe) {
        iStackY_1c = 0x436f47;
        FID_conflict___mbscpy(local_10c,&DAT_005d50e0);
        iStackY_1c = 0x436f5b;
        FID_conflict__strcat(local_10c,&DAT_005d6400);
        iStackY_1c = 0x436f6f;
        iVar1 = OpenFileWithFixedFlags0x40();
        if (iVar1 == 0) {
          iStackY_1c = 0;
          puStackY_20 = &DAT_005e4ba7;
          uStackY_24 = 0x437011;
          FUN_00475bf0();
        }
        else {
          iStackY_1c = 0;
          puStackY_20 = &DAT_005e4c1c;
          uStackY_24 = 0x436f8f;
          FUN_00475bf0();
          puStackY_20 = &stack0xfffffff8;
          iStackY_1c = 4;
          uStackY_24 = 0x436fa4;
          CopyDataWithLock();
          FUN_004adcf0();
          DAT_004d80ac = (uint)(unaff_EBX != 0);
          DAT_004d7bbc = 4;
          DAT_004c9f04 = DAT_004cb05c;
          FUN_0042a450();
          DAT_004d8100 = 1;
          DAT_005df2d0 = 1;
          FUN_00436ad0();
        }
      }
      else {
        iStackY_1c = 0x437025;
        FID_conflict___mbscpy(local_10c,&DAT_005d50e0);
        iStackY_1c = 0x437039;
        FID_conflict__strcat(local_10c,&DAT_005d6400);
        iStackY_1c = 0x43704d;
        iVar1 = OpenFileWithFixedFlags0x40();
        if (iVar1 == 0) {
          iStackY_1c = 0;
          puStackY_20 = &DAT_005e4c1c;
          uStackY_24 = 0x437094;
          FUN_00475bf0();
          FUN_004858f0();
          FUN_0048daa0();
          DAT_004d809c = 0xc;
        }
        else {
          FUN_004adcf0();
          DAT_004d7bbc = 1;
          DAT_004c9f04 = DAT_004cb05c;
          FUN_0042a450();
          DAT_004d8100 = 1;
        }
        FUN_00436ad0();
        DAT_005df2d0 = 1;
      }
      switch(DAT_004d809c) {
      case 0x1a:
        DAT_004d809c = 0x19;
        return;
      default:
        return;
      case 0x1c:
        DAT_004d809c = 0x1b;
        return;
      case 0x1e:
        DAT_004d809c = 0x1d;
        return;
      case 0x20:
        DAT_004d809c = 0x1f;
        return;
      case 0x22:
        DAT_004d809c = 0x21;
        return;
      case 0x24:
        DAT_004d809c = 0x23;
        return;
      case 0x26:
        DAT_004d809c = 0x25;
        return;
      case 0x28:
        DAT_004d809c = 0x27;
        return;
      case 0x2a:
        DAT_004d809c = 0x29;
        return;
      case 0x2c:
        DAT_004d809c = 0x2b;
        return;
      }
    }
    DAT_004d809c = 0;
    return;
  }
  return;
}



void FUN_00437320(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(DAT_005e5010 + 0x253c) / 2;
  iVar3 = *(int *)(DAT_005e5010 + 0x2538) / 2 + -0x9b;
  FUN_0042b130();
  if (DAT_005df2f8 != 2) {
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x55);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x18) = 3;
      *(undefined2 *)(iVar1 + 0x24) = 0x34;
      *(undefined2 *)(iVar1 + 0x26) = 0x34;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_00437850(*DAT_004d80cc,DAT_004d80cc[0x16]);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x33);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x18) = 3;
      *(undefined2 *)(iVar1 + 10) = 1;
      *(undefined2 *)(iVar1 + 0x24) = 0x35;
      *(undefined2 *)(iVar1 + 0x26) = 0x35;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_00437850(DAT_004d80cc[1],DAT_004d80cc[0x17]);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + -0x11);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x18) = 3;
      *(undefined2 *)(iVar1 + 10) = 2;
      *(undefined2 *)(iVar1 + 0x24) = 0x36;
      *(undefined2 *)(iVar1 + 0x26) = 0x36;
      *(undefined *)(iVar1 + 0x28) = 0;
      FUN_004ae5f0(DAT_004d80cc[2],&stack0xffffffec);
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar1 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + 0x11);
    if (iVar1 != 0) {
      *(undefined *)(iVar1 + 0x28) = 0;
      *(undefined4 *)(iVar1 + 0x18) = 3;
      *(undefined2 *)(iVar1 + 10) = 3;
      *(undefined2 *)(iVar1 + 0x24) = 0x37;
      *(undefined2 *)(iVar1 + 0x26) = 0x37;
      FUN_004ae5f0(*(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399),&stack0xffffffec)
      ;
      FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar1 + 0x39) = 1;
    }
    FUN_0042a520();
    iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar2 + 0x33);
    if (iVar2 != 0) {
      *(undefined4 *)(iVar2 + 0x18) = 3;
      *(undefined2 *)(iVar2 + 10) = 4;
      *(undefined2 *)(iVar2 + 0x24) = 0x38;
      *(undefined2 *)(iVar2 + 0x26) = 0x38;
      *(undefined *)(iVar2 + 0x28) = 0;
      FUN_004ae5f0(DAT_004d80cc[2] + *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399),
                   &stack0xffffffec);
      FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
      *(undefined *)(iVar2 + 0x39) = 1;
    }
    FUN_0042a520();
  }
  FUN_0042a630();
  FUN_0042a850();
  FUN_0042aea0();
  return;
}



void FUN_004375e0(void)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  FUN_0042b130();
  iVar4 = *(int *)(DAT_005e5010 + 0x253c) / 2;
  iVar3 = *(int *)(DAT_005e5010 + 0x2538) / 2 + -0x9b;
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x38),iVar3,iVar4 + -0x44,0x66);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x18) = 3;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 0;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
    *(undefined2 *)(iVar2 + 0x26) = 0x1d;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 0;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x38),iVar3,iVar4 + -0x22,0x66);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x18) = 3;
    *(undefined2 *)(iVar2 + 10) = 1;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 5;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
    *(undefined2 *)(iVar2 + 0x26) = 0x1e;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 0;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4,0x67);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x18) = 3;
    *(undefined2 *)(iVar2 + 10) = 4;
    *(undefined2 *)(iVar2 + 0x40) = 7;
    *(undefined2 *)(iVar2 + 0x3a) = 0x12;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
    *(undefined2 *)(iVar2 + 0x26) = 0x21;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
  }
  FUN_0042a520(iVar2);
  iVar2 = FUN_0042abb0(*(undefined4 *)(DAT_005dcedc + 0x2c),iVar3,iVar4 + 0x22,0x67);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x18) = 3;
    *(undefined2 *)(iVar2 + 10) = 5;
    *(undefined2 *)(iVar2 + 0x40) = 8;
    *(undefined2 *)(iVar2 + 0x3a) = 0x14;
    *(undefined2 *)(iVar2 + 0x24) = 0xc3;
    uVar1 = *(undefined4 *)(DAT_005dcedc + 0x30);
    *(undefined2 *)(iVar2 + 0x26) = 0x22;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
  }
  FUN_0042a520(iVar2);
  FUN_0042a850();
  FUN_0042a470();
  iVar2 = *(int *)(DAT_004d7cd4 + 8);
  if (iVar2 != 0) {
    iVar4 = 0;
    iVar3 = __ftol();
    if (0 < iVar3) {
      do {
        FUN_0043dcb0(iVar4 + 0x6a + (int)*(short *)(iVar2 + 0x14),*(short *)(iVar2 + 0x16) + 0x10,1,
                     5,*(undefined4 *)(DAT_005dcedc + 0x34));
        iVar4 = iVar4 + 2;
        iVar3 = __ftol();
      } while (iVar4 < iVar3);
    }
    iVar4 = 0;
    iVar3 = __ftol();
    if (0 < iVar3) {
      do {
        FUN_0043dcb0(iVar4 + 0x6a + (int)*(short *)(iVar2 + 0x14),*(short *)(iVar2 + 0x16) + 0x32,1,
                     5,*(undefined4 *)(DAT_005dcedc + 0x34));
        iVar4 = iVar4 + 2;
        iVar3 = __ftol();
      } while (iVar4 < iVar3);
    }
  }
  FUN_0042a490();
  FUN_0042aea0(DAT_004d809c);
  return;
}



void FUN_00437850(undefined4 param_1,undefined4 param_2,char *param_3)

{
  AdjustStackForLargeAllocations();
  FUN_004ae5f0(param_1,&stack0xfffffff4);
  FID_conflict___mbscpy(param_3,&stack0xfffffff4);
  FID_conflict__strcat(param_3,&DAT_004caf3c);
  FID_conflict__strcat(param_3,DAT_005deec4);
  FID_conflict__strcat(param_3,&DAT_004caf40);
  FUN_004ae5f0(param_2,&stack0xfffffff4);
  FID_conflict__strcat(param_3,&stack0xfffffff4);
  return;
}



undefined4 FUN_004378d0(void)

{
  int *piVar1;
  int iVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined2 *puVar5;
  int iVar6;
  int *piVar7;
  undefined4 local_164 [20];
  undefined4 local_114;
  undefined4 local_100 [4];
  int local_f0;
  undefined2 *local_dc;
  undefined4 local_94 [4];
  int local_84;
  undefined2 *local_70;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  int *piStackY_38;
  undefined4 uStackY_34;
  int *local_20;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  piVar1 = (int *)FUN_0044ca40();
  if (piVar1 != (int *)0x0) {
    _memset(local_164,0,100);
    local_164[0] = 100;
    local_114 = 0xfffa;
    FUN_00424d60();
    _memset(local_100,0,0x6c);
    local_100[0] = 0x6c;
    local_20 = (int *)0x0;
    (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 100))();
    uStackY_34 = 0x437987;
    _memset(local_94,0,0x6c);
    local_94[0] = 0x6c;
    uStackY_34 = 0;
    uStackY_3c = 0x4379a3;
    piStackY_38 = piVar1;
    (**(code **)(*piVar1 + 100))();
    if (*(int *)(DAT_005e5010 + 0x2524) == 0) {
      iVar9 = 4;
      iVar11 = 4;
    }
    else {
      iVar9 = *(int *)(DAT_005e5010 + 0x2538) / 0x50;
      iVar11 = *(int *)(DAT_005e5010 + 0x253c) / 0x3c;
    }
    if ((local_dc != (undefined2 *)0x0) && (local_70 != (undefined2 *)0x0)) {
      iVar8 = 0;
      iVar10 = 0;
      iVar4 = DAT_005e5010;
      do {
        piVar7 = piVar1;
        if (*(int *)(iVar4 + 0x2538) <= iVar10) break;
        iVar2 = 0;
        iVar6 = 0;
        puVar3 = local_70;
        puVar5 = local_dc;
        do {
          if (*(int *)(iVar4 + 0x253c) <= iVar6) break;
          iVar2 = iVar2 + 1;
          *puVar3 = *puVar5;
          puVar5 = puVar5 + iVar11 * (local_f0 >> 1);
          puVar3 = puVar3 + (local_84 >> 1);
          iVar6 = iVar6 + iVar11;
          iVar4 = DAT_005e5010;
        } while (iVar2 < 0x3c);
        piVar7 = (int *)0x0;
        iVar10 = iVar10 + iVar9;
        iVar8 = iVar8 + 1;
        local_70 = local_70 + 1;
        local_dc = local_dc + iVar9;
        piVar1 = local_20;
      } while (iVar8 < 0x50);
      piStackY_40 = *(int **)(iVar4 + 0x7b0);
      uStackY_3c = 0;
      uStackY_44 = 0x437ab0;
      (**(code **)(*piStackY_40 + 0x80))();
      uStackY_44 = 0;
      uStackY_4c = 0x437abb;
      piStackY_48 = piVar7;
      (**(code **)(*piVar7 + 0x80))();
      DAT_004d80a4 = piVar7;
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_00437ae0(int param_1)

{
  int iVar1;
  
  if (param_1 != 0) {
    return DAT_004d80a4;
  }
  iVar1 = FUN_004858c0();
  if (((iVar1 == 4) || (iVar1 == 0x18)) && (DAT_005df290 != 0)) {
    switch(DAT_005d6540) {
    case 0x41:
      return *(undefined4 *)(DAT_005df290 + 0x9c);
    case 0x43:
      return *(undefined4 *)(DAT_005df290 + 0xb4);
    case 0x49:
      return *(undefined4 *)(DAT_005df290 + 0xac);
    case 0x4b:
      return *(undefined4 *)(DAT_005df290 + 0xa8);
    case 0x4f:
      return *(undefined4 *)(DAT_005df290 + 0xa0);
    case 0x53:
      return *(undefined4 *)(DAT_005df290 + 0xb0);
    case 0x57:
      return *(undefined4 *)(DAT_005df290 + 0xa4);
    }
  }
  else if (DAT_005dcedc != 0) {
    switch(DAT_005d6540) {
    case 0x41:
      return *(undefined4 *)(DAT_005dcedc + 0x6c);
    case 0x43:
      return *(undefined4 *)(DAT_005dcedc + 0x84);
    case 0x49:
      return *(undefined4 *)(DAT_005dcedc + 0x7c);
    case 0x4b:
      return *(undefined4 *)(DAT_005dcedc + 0x78);
    case 0x4f:
      return *(undefined4 *)(DAT_005dcedc + 0x70);
    case 0x53:
      return *(undefined4 *)(DAT_005dcedc + 0x80);
    case 0x57:
      return *(undefined4 *)(DAT_005dcedc + 0x74);
    }
  }
  return 0;
}



void FUN_00437c30(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  ushort *puVar4;
  int iVar5;
  ushort *puVar6;
  char local_1a4 [256];
  undefined4 local_a4 [4];
  int local_94;
  ushort *local_80;
  undefined4 uStackY_3c;
  int *local_38;
  ushort *local_34;
  ushort **local_30;
  int *local_2c;
  int local_28;
  int *local_24;
  int ***local_20;
  uint uVar7;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar8 = 0x88;
  do {
    FID_conflict___mbscpy(local_1a4,&DAT_005d50e0);
    FID_conflict__strcat(local_1a4,s_SaveGame_004cafb0);
    local_20 = (int ***)0x437c84;
    FUN_004ae5f0();
    FID_conflict__strcat(local_1a4,(char *)&local_28);
    FID_conflict__strcat(local_1a4,&DAT_004cafbc);
    *(undefined4 *)(DAT_005df2c8 + -0x28 + iVar8) = 0xffffffff;
    *(undefined4 *)(DAT_005df2c8 + iVar8) = 0;
    iVar1 = OpenFileWithFixedFlags0x40();
    if (iVar1 == 0) {
      *(undefined4 *)(DAT_005df2c8 + -0x50 + iVar8) = 0;
    }
    else {
      local_20 = (int ***)&local_38;
      local_24 = (int *)0x437cf4;
      CopyDataWithLock();
      local_20 = (int ***)(DAT_005df2c8 + -0x28 + iVar8);
      local_24 = (int *)0x437d0c;
      CopyDataWithLock();
      local_20 = (int ***)0x437d1c;
      SeekInResourceWithLock();
      local_20 = (int ***)(DAT_005df2c8 + iVar8);
      local_24 = (int *)0x437d31;
      CopyDataWithLock();
      local_20 = (int ***)&local_24;
      local_24 = (int *)0x437d42;
      CopyDataWithLock();
      local_20 = (int ***)0x437d54;
      SeekInResourceWithLock();
      local_20 = (int ***)&local_20;
      local_24 = (int *)0x437d65;
      CopyDataWithLock();
      if ((int)local_20 < 1) {
        *(undefined4 *)(DAT_005df2c8 + -0x50 + iVar8) = 0;
        FUN_004adcf0();
      }
      else {
        local_20 = (int ***)0x437d7e;
        piVar2 = (int *)FUN_0044ca40();
        local_20 = (int ***)0x437d96;
        _memset(local_a4,0,0x6c);
        local_a4[0] = 0x6c;
        uVar7 = 1;
        local_20 = (int ***)0x0;
        local_28 = 0x437db6;
        local_24 = piVar2;
        (**(code **)(*piVar2 + 100))();
        iVar3 = local_94 >> 1;
        if (*(int *)(DAT_005e5010 + 0x2194) == 0) {
          iVar5 = 0x3c;
          puVar4 = local_80;
          do {
            local_2c = (int *)0x50;
            local_30 = (ushort **)0x2;
            local_38 = (int *)0x437e47;
            local_34 = puVar4;
            local_28 = iVar1;
            CopyDataWithLock();
            puVar4 = puVar4 + iVar3;
            iVar5 = iVar5 + -1;
          } while (iVar5 != 0);
        }
        else {
          iVar3 = 0x3c;
          puVar4 = local_80;
          do {
            iVar5 = 0x50;
            puVar6 = puVar4;
            do {
              local_2c = (int *)0x1;
              local_34 = (ushort *)&stack0xffffffe8;
              local_30 = (ushort **)0x2;
              local_38 = (int *)0x437df6;
              local_28 = iVar1;
              CopyDataWithLock();
              iVar5 = iVar5 + -1;
              *puVar6 = (ushort)uVar7 & 0x1f | (ushort)(uVar7 >> 1) & 0x7fe0;
              puVar6 = puVar6 + 1;
            } while (iVar5 != 0);
            puVar4 = (ushort *)((int)puVar4 + (int)local_2c);
            iVar3 = iVar3 + -1;
          } while (iVar3 != 0);
        }
        local_28 = 0;
        local_30 = (ushort **)0x437e63;
        local_2c = piVar2;
        (**(code **)(*piVar2 + 0x80))();
        local_30 = &local_34;
        local_34 = (ushort *)0x8;
        uStackY_3c = 0x437e86;
        local_38 = piVar2;
        (**(code **)(*piVar2 + 0x74))();
        *(int **)(DAT_005df2c8 + -0x50 + iVar8) = piVar2;
        FUN_004adcf0();
      }
    }
    iVar8 = iVar8 + 4;
  } while (iVar8 < 0xb0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00437ef0(void)

{
  void *_Dst;
  char *_Dest;
  LSTATUS LVar1;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 8;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(8);
  _Dest = (char *)_memset(_Dst,_Val,_Size);
  LVar1 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004cafc8,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_004d8098);
  if (LVar1 == 0) {
    FUN_004ae5f0(_DAT_005df2f0,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_MusicLevel_004cafe8,_Dest,8);
    FUN_004ae5f0(DAT_005df2f4,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_SoundLevel_004caff4,_Dest,8);
  }
  return;
}



void FUN_00437fb0(void)

{
  short sVar1;
  short sVar2;
  float fVar3;
  bool bVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  FUN_0042a470();
  if (DAT_004d7cd4 == 0) goto switchD_00438715_caseD_5;
  piVar9 = *(int **)(DAT_004d7cd4 + 8);
  iVar8 = 0;
  iVar6 = DAT_004d809c;
  iVar7 = DAT_005dfdc8;
  if (0 < *(int *)(DAT_004d7cd4 + 4)) {
    do {
      if (bVar4) break;
      sVar1 = *(short *)((int)piVar9 + 0x3a);
      if ((((sVar1 != -1) && (*(short *)(piVar9 + 4) < DAT_004d8338)) &&
          (DAT_004d8338 < (int)*(short *)(piVar9 + 3) + (int)*(short *)(piVar9 + 4))) &&
         ((*(short *)((int)piVar9 + 0x12) < DAT_004d833c &&
          (DAT_004d833c < (int)*(short *)((int)piVar9 + 0xe) + (int)*(short *)((int)piVar9 + 0x12)))
         )) {
        switch(DAT_004cb05c) {
        case 1:
          if ((((DAT_005dfe2c != 1) && (DAT_005dfe2c != 3)) && (DAT_005dfe2c != 5)) &&
             ((DAT_005dfe2c != 7 && (DAT_005dfe2c != 9)))) {
            DAT_005dfe2c = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 2:
          if (((((iVar7 == 1) || (iVar7 == 3)) || ((iVar7 == 6 || ((iVar7 == 9 || (iVar7 == 0xc)))))
               ) || (iVar7 == 0xf)) ||
             ((((((iVar7 == 0x12 || (iVar7 == 0x15)) || (iVar7 == 0x18)) ||
                ((iVar7 == 0x1b || (iVar7 == 0x1e)))) ||
               ((iVar7 == 0x25 || ((iVar7 == 0x27 || (iVar7 == 0x29)))))) || (iVar7 == 0x2b))))
          break;
          if (DAT_004d83a0 == '\x01') {
            sVar2 = *(short *)((int)piVar9 + 0x26);
            if (((sVar2 != 0x74) && (sVar2 != 0x6d)) && (sVar2 != 0x6e)) {
              if ((*piVar9 == *(int *)(DAT_005df290 + 0x80)) &&
                 (iVar5 = FUN_0043ac70(sVar1), iVar6 = DAT_004d809c, iVar7 = DAT_005dfdc8,
                 iVar5 == 1)) {
                DAT_004d80c0 = DAT_004d80c0 + 1;
                bVar4 = true;
              }
              goto LAB_00438228;
            }
            if (((iVar7 != 4) && (iVar7 != 7)) &&
               ((((iVar7 != 10 && ((iVar7 != 0xd && (iVar7 != 0x10)))) && (iVar7 != 0x13)) &&
                ((((iVar7 != 0x16 && (iVar7 != 0x19)) && (iVar7 != 0x1c)) && (iVar7 != 0x1f))))))
            goto LAB_00438228;
            switch(iVar7) {
            case 4:
              iVar7 = 3;
              break;
            default:
              goto switchD_00438b99_caseD_5;
            case 7:
              iVar7 = 6;
              break;
            case 10:
              iVar7 = 9;
              break;
            case 0xd:
              iVar7 = 0xc;
              break;
            case 0x10:
              iVar7 = 0xf;
              break;
            case 0x13:
              iVar7 = 0x12;
              break;
            case 0x16:
              iVar7 = 0x15;
              break;
            case 0x19:
              iVar7 = 0x18;
              break;
            case 0x1c:
              iVar7 = 0x1b;
              break;
            case 0x1f:
              iVar7 = 0x1e;
            }
            bVar4 = true;
            DAT_005dfdc8 = iVar7;
switchD_00438b99_caseD_5:
            if ((*(short *)((int)piVar9 + 0x26) == 0x6d) || (*(short *)((int)piVar9 + 0x26) == 0x6e)
               ) {
              DAT_004d80c0 = DAT_004d80c0 + 1;
            }
            else {
              DAT_004d80c0 = 0;
            }
          }
LAB_00438228:
          if ((((((iVar7 != 4) && (iVar7 != 7)) && (iVar7 != 10)) &&
               ((iVar7 != 0xd && (iVar7 != 0x10)))) && (iVar7 != 0x13)) &&
             (((iVar7 != 0x16 && (iVar7 != 0x19)) &&
              ((iVar7 != 0x1c && ((iVar7 != 0x1f && (!bVar4)))))))) {
            bVar4 = true;
            iVar7 = (int)*(short *)((int)piVar9 + 0x3a);
            DAT_005dfdc8 = iVar7;
          }
          break;
        case 3:
        case 9:
          if ((((DAT_005df31c != 1) && (DAT_005df31c != 3)) && (DAT_005df31c != 5)) &&
             (DAT_005df31c != 7)) {
            DAT_005df31c = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 4:
          if ((((((DAT_005df28c != 3) && (DAT_005df28c != 5)) && (DAT_005df28c != 7)) &&
               (((DAT_005df28c != 9 && (DAT_005df28c != 0xb)) &&
                ((DAT_005df28c != 0xd && ((DAT_005df28c != 0xf && (DAT_005df28c != 0x11)))))))) &&
              (DAT_005df28c != 0x13)) && ((DAT_005df28c != 0x15 && (DAT_005df28c != 1)))) {
            DAT_005df28c = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 0xc:
          if ((DAT_004d80d0 != 3) && (DAT_004d80d0 != 1)) {
            DAT_004d80d0 = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 0xd:
          if (((((((iVar6 != 2) && (iVar6 != 4)) && (iVar6 != 7)) &&
                ((iVar6 != 9 && (iVar6 != 0xb)))) && (iVar6 != 0xd)) &&
              (((iVar6 != 0xf && (iVar6 != 0x11)) &&
               ((iVar6 != 0x13 && (((iVar6 != 0x15 && (iVar6 != 0x17)) && (iVar6 != 0x1a)))))))) &&
             (((iVar6 != 0x1c && (iVar6 != 0x1e)) &&
              ((iVar6 != 0x20 &&
               (((iVar6 != 0x22 && (iVar6 != 0x24)) &&
                ((iVar6 != 0x26 && (((iVar6 != 0x28 && (iVar6 != 0x2a)) && (iVar6 != 0x2c)))))))))))
             ) {
            iVar6 = (int)sVar1;
            bVar4 = true;
            DAT_004d809c = iVar6;
          }
          if (DAT_004d83a0 == '\x01') {
            if (*(short *)((int)piVar9 + 0x3a) == 0) {
              iVar5 = (int)*(short *)(piVar9 + 5);
              if ((((DAT_004d8338 < iVar5 + 0xdc) || (iVar5 + 0x106 < DAT_004d8338)) ||
                  (iVar6 = DAT_004d809c, DAT_004d833c < *(short *)((int)piVar9 + 0x16) + 10)) ||
                 (*(short *)((int)piVar9 + 0x16) + 0x1e < DAT_004d833c)) {
                if (((iVar5 + 0x109 <= DAT_004d8338) && (DAT_004d8338 <= iVar5 + 0x127)) &&
                   ((*(short *)((int)piVar9 + 0x16) + 10 <= DAT_004d833c &&
                    (DAT_004d833c <= *(short *)((int)piVar9 + 0x16) + 0x1e)))) {
                  iVar6 = 4;
                  DAT_004d809c = iVar6;
                }
              }
              else {
                iVar6 = 2;
                DAT_004d809c = iVar6;
              }
            }
            else if (*(short *)((int)piVar9 + 0x3a) == 5) {
              iVar5 = (int)*(short *)(piVar9 + 5);
              if (((DAT_004d8338 < iVar5 + 0xdc) || (iVar5 + 0x106 < DAT_004d8338)) ||
                 ((iVar6 = DAT_004d809c, DAT_004d833c < *(short *)((int)piVar9 + 0x16) + 10 ||
                  (*(short *)((int)piVar9 + 0x16) + 0x1e < DAT_004d833c)))) {
                if ((((iVar5 + 0x109 <= DAT_004d8338) && (DAT_004d8338 <= iVar5 + 0x127)) &&
                    (*(short *)((int)piVar9 + 0x16) + 10 <= DAT_004d833c)) &&
                   (DAT_004d833c <= *(short *)((int)piVar9 + 0x16) + 0x1e)) {
                  iVar6 = 9;
                  DAT_004d809c = iVar6;
                }
              }
              else {
                iVar6 = 7;
                DAT_004d809c = iVar6;
              }
            }
          }
          break;
        case 0xe:
          if ((DAT_004d7bb8 != 1) && (DAT_004d7bb8 != 3)) {
            DAT_004d7bb8 = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 0x11:
          if (((((DAT_005df314 != 3) && (DAT_005df314 != 5)) &&
               ((DAT_005df314 != 7 &&
                (((DAT_005df314 != 9 && (DAT_005df314 != 0xb)) && (DAT_005df314 != 0xd)))))) &&
              ((DAT_005df314 != 0xf && (DAT_005df314 != 0x11)))) &&
             ((DAT_005df314 != 0x13 && ((DAT_005df314 != 0x15 && (DAT_005df314 != 1)))))) {
            DAT_005df314 = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 0x12:
          if ((((DAT_005df320 != 7) && (DAT_005df320 != 9)) && (DAT_005df320 != 1)) &&
             ((DAT_005df320 != 3 && (DAT_005df320 != 2)))) {
            DAT_005df320 = (int)sVar1;
            bVar4 = true;
          }
          break;
        case 0x14:
          if (((DAT_005dfe30 != 1) && (DAT_005dfe30 != 5)) &&
             ((DAT_005dfe30 != 6 && (DAT_005dfe30 != 3)))) {
            DAT_005dfe30 = (int)sVar1;
            bVar4 = true;
          }
        }
        if (*(short *)(piVar9 + 0x10) != 0) {
          *(undefined *)(DAT_005df2c8 + 0xf0) = *(undefined *)(piVar9 + 0x10);
          iVar6 = DAT_004d809c;
          iVar7 = DAT_005dfdc8;
        }
      }
      piVar9 = *(int **)((int)piVar9 + 0x46);
      iVar8 = iVar8 + 1;
    } while (iVar8 < *(int *)(DAT_004d7cd4 + 4));
  }
  if (((DAT_004cb05c == 1) && (DAT_005dfe2c != 1)) &&
     ((DAT_005dfe2c != 5 && ((DAT_005dfe2c != 7 && (DAT_005dfe2c != 9)))))) {
    fVar3 = *(float *)(*(int *)(DAT_005df2c8 + 0x10) + 0x200 + DAT_004ca030 * 0x222) -
            (float)*(int *)(DAT_005df2c8 + 0xe0);
    if ((fVar3 <= (float)DAT_004d8338) && ((float)DAT_004d8338 <= fVar3 - -128.0)) {
      fVar3 = *(float *)(*(int *)(DAT_005df2c8 + 0x10) + DAT_004ca030 * 0x222 + 0x204) -
              (float)*(int *)(DAT_005df2c8 + 0xe4);
      if ((fVar3 <= (float)DAT_004d833c) && ((float)DAT_004d833c <= fVar3 - -128.0)) {
        DAT_005dfe2c = 2;
        bVar4 = true;
      }
    }
  }
  if (bVar4) goto switchD_00438715_caseD_5;
  switch(DAT_004cb05c) {
  case 1:
    if (((DAT_005dfe2c != 1) && (DAT_005dfe2c != 3)) &&
       ((DAT_005dfe2c != 5 && ((DAT_005dfe2c != 7 && (DAT_005dfe2c != 9)))))) {
      DAT_005dfe2c = 0x14;
      FUN_0042a490();
      return;
    }
    break;
  case 2:
    if (DAT_004d83a0 == '\x01') {
      if ((((iVar7 == 4) || (iVar7 == 7)) || ((iVar7 == 10 || ((iVar7 == 0xd || (iVar7 == 0x10))))))
         || ((iVar7 == 0x13 || (((iVar7 == 0x16 || (iVar7 == 0x19)) || (iVar7 == 0x1c))))))
      goto LAB_0043891d;
      if (iVar7 == 0x1f) {
        DAT_005dfdc8 = 0x2c;
        FUN_0042a490();
        return;
      }
    }
    if (((((iVar7 != 1) && (iVar7 != 3)) &&
         (((iVar7 != 6 && ((iVar7 != 9 && (iVar7 != 0xc)))) && (iVar7 != 0xf)))) &&
        (((((((iVar7 != 0x12 && (iVar7 != 0x15)) && (iVar7 != 0x18)) &&
            ((iVar7 != 0x1b && (iVar7 != 0x1e)))) && (iVar7 != 4)) &&
          ((iVar7 != 7 && (iVar7 != 10)))) &&
         ((iVar7 != 0xd && (((iVar7 != 0x10 && (iVar7 != 0x13)) && (iVar7 != 0x16)))))))) &&
       ((((iVar7 != 0x19 && (iVar7 != 0x1c)) && (iVar7 != 0x1f)) && (iVar7 != 0x25)))) {
LAB_0043891d:
      DAT_005dfdc8 = 0x2c;
      FUN_0042a490();
      return;
    }
    break;
  case 3:
  case 9:
    if ((((DAT_005df31c != 1) && (DAT_005df31c != 3)) && (DAT_005df31c != 5)) && (DAT_005df31c != 7)
       ) {
      DAT_005df31c = 8;
      FUN_0042a490();
      return;
    }
    break;
  case 4:
    if (((((DAT_005df28c != 3) && (DAT_005df28c != 5)) &&
         ((DAT_005df28c != 7 &&
          ((((DAT_005df28c != 9 && (DAT_005df28c != 0xb)) && (DAT_005df28c != 0xd)) &&
           ((DAT_005df28c != 0xf && (DAT_005df28c != 0x11)))))))) && (DAT_005df28c != 0x13)) &&
       ((DAT_005df28c != 0x15 && (DAT_005df28c != 1)))) {
      DAT_005df28c = 0x16;
      FUN_0042a490();
      return;
    }
    break;
  case 0xc:
    if ((DAT_004d80d0 != 3) && (DAT_004d80d0 != 1)) {
      DAT_004d80d0 = 7;
      FUN_0042a490();
      return;
    }
    break;
  case 0xd:
    if (((((((iVar6 != 2) && (iVar6 != 4)) && (iVar6 != 7)) &&
          (((iVar6 != 9 && (iVar6 != 0xb)) &&
           ((iVar6 != 0xd && ((iVar6 != 0xf && (iVar6 != 0x11)))))))) &&
         ((iVar6 != 0x13 && (((iVar6 != 0x15 && (iVar6 != 0x17)) && (iVar6 != 0x1a)))))) &&
        ((((iVar6 != 0x1c && (iVar6 != 0x1e)) &&
          ((iVar6 != 0x20 && ((iVar6 != 0x22 && (iVar6 != 0x24)))))) && (iVar6 != 0x26)))) &&
       (((iVar6 != 0x28 && (iVar6 != 0x2a)) && (iVar6 != 0x2c)))) {
      DAT_004d809c = 0x2d;
    }
    break;
  case 0xe:
    if ((DAT_004d7bb8 != 3) && (DAT_004d7bb8 != 1)) {
      DAT_004d7bb8 = 4;
      FUN_0042a490();
      return;
    }
    break;
  case 0x11:
    if ((((((DAT_005df314 != 3) && (DAT_005df314 != 5)) && (DAT_005df314 != 7)) &&
         ((DAT_005df314 != 9 && (DAT_005df314 != 0xb)))) &&
        ((DAT_005df314 != 0xd && ((DAT_005df314 != 0xf && (DAT_005df314 != 0x11)))))) &&
       ((DAT_005df314 != 0x13 && ((DAT_005df314 != 0x15 && (DAT_005df314 != 1)))))) {
      DAT_005df314 = 0x16;
      FUN_0042a490();
      return;
    }
    break;
  case 0x12:
    if (((DAT_005df320 != 7) && (DAT_005df320 != 9)) &&
       ((DAT_005df320 != 1 && ((DAT_005df320 != 3 && (DAT_005df320 != 2)))))) {
      DAT_005df320 = 10;
      FUN_0042a490();
      return;
    }
    break;
  case 0x14:
    if ((((DAT_005dfe30 != 1) && (DAT_005dfe30 != 5)) && (DAT_005dfe30 != 6)) && (DAT_005dfe30 != 3)
       ) {
      DAT_005dfe30 = 8;
      FUN_0042a490();
      return;
    }
  }
switchD_00438715_caseD_5:
  FUN_0042a490();
  return;
}



undefined4 FUN_00438cf0(int param_1)

{
  size_t sVar1;
  
  switch(DAT_004cb05c) {
  case 1:
    switch(DAT_004d83a0) {
    case '\x01':
      switch(DAT_005dfe2c) {
      case 0:
        goto switchD_00438d20_caseD_2;
      case 2:
        DAT_005dfe2c = 3;
        break;
      case 10:
        FUN_00475da0(0);
        FUN_0042b6a0(2);
        DAT_005dfe2c = 0xb;
        break;
      case 0xc:
        FUN_00475da0(0);
        FUN_0042b6a0(3);
        DAT_005dfe2c = 0xd;
        break;
      case 0xe:
        FUN_00475da0(0);
        FUN_0042b6a0(0);
        DAT_005dfe2c = 0xf;
        break;
      case 0x10:
        FUN_00475da0(0);
        FUN_0042b6a0(1);
        DAT_005dfe2c = 0x11;
        break;
      case 0x12:
        DAT_005dfe2c = 0x13;
      }
      break;
    case '\x02':
switchD_00438d20_caseD_2:
      DAT_005dfe2c = 1;
      break;
    case '\x03':
      switch(DAT_005dfe2c) {
      case 2:
      case 10:
      case 0xc:
      case 0xe:
      case 0x10:
        FUN_00475da0(0);
        FUN_0042b6a0(2);
        break;
      case 0x14:
switchD_00438db5_caseD_0:
        DAT_005dfe2c = 2;
      }
      break;
    case '\x04':
      switch(DAT_005dfe2c) {
      case 0:
      case 0x14:
        goto switchD_00438db5_caseD_0;
      case 2:
      case 8:
      case 10:
      case 0xc:
      case 0xe:
      case 0x10:
        DAT_005dfe2c = 2;
        FUN_00475da0(0);
        FUN_0042b6a0(3);
      }
      break;
    case '\x05':
      switch(DAT_005dfe2c) {
      case 2:
      case 10:
      case 0xc:
      case 0xe:
      case 0x10:
        FUN_00475da0(0);
        FUN_0042b6a0(1);
        break;
      case 0x14:
        goto switchD_00438db5_caseD_0;
      }
      break;
    case '\x06':
      switch(DAT_005dfe2c) {
      case 0:
      case 0x14:
        goto switchD_00438db5_caseD_0;
      case 2:
      case 10:
      case 0xc:
      case 0xe:
      case 0x10:
        FUN_00475da0(0);
        FUN_0042b6a0(0);
      }
    default:
      break;
    }
    break;
  case 2:
    switch(DAT_004d83a0) {
    case '\x01':
      if ((((DAT_004d8338 < 0x15b) || (0x248 < DAT_004d8338)) || (DAT_004d833c < 0x88)) ||
         ((0x165 < DAT_004d833c || (DAT_004d8260 == 0)))) {
        if ((((DAT_004d8338 < 0x70) || ((0x122 < DAT_004d8338 || (DAT_004d833c < 0x88)))) ||
            (0x165 < DAT_004d833c)) || (DAT_004d8260 == 0)) {
          switch(DAT_005dfdc8) {
          case 0:
            FUN_00475da0(1);
            DAT_005dfdc8 = 1;
            break;
          case 2:
            DAT_005dfdc8 = (param_1 != 0) + 3;
            break;
          case 3:
          case 6:
          case 9:
          case 0xc:
          case 0xf:
          case 0x12:
          case 0x15:
          case 0x18:
          case 0x1b:
          case 0x1e:
            if (param_1 == 0) goto LAB_00439448;
            break;
          case 4:
          case 7:
          case 10:
          case 0xd:
          case 0x10:
          case 0x13:
          case 0x16:
          case 0x19:
          case 0x1c:
          case 0x1f:
            DAT_004d80c0 = DAT_004d80c0 + 1;
            DAT_005dfdc8 = DAT_005dfdc8 + -1;
            break;
          case 5:
            DAT_005dfdc8 = (param_1 != 0) + 6;
            break;
          case 8:
            DAT_005dfdc8 = (param_1 != 0) + 9;
            break;
          case 0xb:
            DAT_005dfdc8 = (param_1 != 0) + 0xc;
            break;
          case 0xe:
            DAT_005dfdc8 = (param_1 != 0) + 0xf;
            break;
          case 0x11:
            DAT_005dfdc8 = (param_1 != 0) + 0x12;
            break;
          case 0x14:
            DAT_005dfdc8 = (param_1 != 0) + 0x15;
            break;
          case 0x17:
            DAT_005dfdc8 = (param_1 != 0) + 0x18;
            break;
          case 0x1a:
            DAT_005dfdc8 = (param_1 != 0) + 0x1b;
            break;
          case 0x1d:
            DAT_005dfdc8 = (param_1 != 0) + 0x1e;
            break;
          case 0x24:
            FUN_00475da0(4);
            DAT_005dfdc8 = 0x25;
          }
        }
        else {
          FUN_004318e0(0,1);
        }
      }
      else {
        FUN_004318e0(1,1);
      }
      break;
    case '\x02':
      DAT_005dfdc8 = 1;
      goto switchD_00438d08_caseD_5;
    case '\x03':
      FUN_00475da0(0);
      switch(DAT_005dfdc8) {
      case 2:
        DAT_005dfdc8 = 0x24;
        break;
      case 4:
switchD_00439083_caseD_0:
        DAT_005dfdc8 = 2;
        break;
      case 5:
        DAT_005dfdc8 = 2;
        FUN_004318e0(2,1);
        break;
      case 7:
switchD_00439083_caseD_7:
        DAT_005dfdc8 = 5;
        break;
      case 8:
        DAT_005dfdc8 = 5;
        FUN_004318e0(2,1);
        break;
      case 10:
switchD_00439083_caseD_a:
        DAT_005dfdc8 = 8;
        break;
      case 0xb:
        DAT_005dfdc8 = 8;
        FUN_004318e0(2,1);
        break;
      case 0xd:
switchD_00439083_caseD_d:
        DAT_005dfdc8 = 0xb;
        break;
      case 0xe:
        DAT_005dfdc8 = 0xb;
        FUN_004318e0(2,1);
        break;
      case 0x10:
      case 0x11:
      case 0x14:
      case 0x17:
      case 0x1a:
      case 0x1d:
switchD_00439083_caseD_10:
        DAT_005dfdc8 = 0xe;
        break;
      case 0x13:
switchD_00439083_caseD_13:
        DAT_005dfdc8 = 0x11;
        break;
      case 0x16:
switchD_00439083_caseD_16:
        DAT_005dfdc8 = 0x14;
        break;
      case 0x19:
switchD_00439083_caseD_19:
        DAT_005dfdc8 = 0x17;
        break;
      case 0x1c:
switchD_00439083_caseD_1c:
        DAT_005dfdc8 = 0x1a;
        break;
      case 0x1f:
switchD_00439083_caseD_1f:
        DAT_005dfdc8 = 0x1d;
        break;
      case 0x24:
      case 0x2c:
switchD_00439083_caseD_2c:
        DAT_005dfdc8 = 0;
      }
      break;
    case '\x04':
      FUN_00475da0(0);
      switch(DAT_005dfdc8) {
      case 0:
        DAT_005dfdc8 = 0x24;
        break;
      case 2:
        DAT_005dfdc8 = 5;
        FUN_004318e0(3,1);
        break;
      case 4:
        goto switchD_00439083_caseD_0;
      case 5:
        DAT_005dfdc8 = 8;
        FUN_004318e0(3,1);
        break;
      case 7:
        goto switchD_00439083_caseD_7;
      case 8:
        DAT_005dfdc8 = 0xb;
        FUN_004318e0(3,1);
        break;
      case 10:
        goto switchD_00439083_caseD_a;
      case 0xb:
        DAT_005dfdc8 = 0xe;
        FUN_004318e0(3,1);
        break;
      case 0xd:
        goto switchD_00439083_caseD_d;
      case 0xe:
      case 0x13:
        goto switchD_00439083_caseD_13;
      case 0x10:
        goto switchD_00439083_caseD_10;
      case 0x16:
        goto switchD_00439083_caseD_16;
      case 0x19:
        goto switchD_00439083_caseD_19;
      case 0x1c:
        goto switchD_00439083_caseD_1c;
      case 0x1f:
        goto switchD_00439083_caseD_1f;
      case 0x24:
        DAT_005dfdc8 = 2;
        FUN_004318e0(3,1);
        break;
      case 0x2c:
        goto switchD_00439083_caseD_2c;
      }
      break;
    case '\x05':
      switch(DAT_005dfdc8) {
      case 2:
      case 5:
      case 8:
      case 0xb:
      case 0xe:
        FUN_004318e0(1,1);
        break;
      case 4:
        goto switchD_00439083_caseD_0;
      case 7:
        goto switchD_00439083_caseD_7;
      case 10:
        goto switchD_00439083_caseD_a;
      case 0xd:
        goto switchD_00439083_caseD_d;
      case 0x10:
        goto switchD_00439083_caseD_10;
      case 0x11:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x14;
        break;
      case 0x13:
        goto switchD_00439083_caseD_13;
      case 0x14:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x17;
        break;
      case 0x16:
        goto switchD_00439083_caseD_16;
      case 0x17:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x1a;
        break;
      case 0x19:
        goto switchD_00439083_caseD_19;
      case 0x1a:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x1d;
        break;
      case 0x1c:
        goto switchD_00439083_caseD_1c;
      case 0x1f:
        goto switchD_00439083_caseD_1f;
      case 0x2c:
        goto switchD_00439083_caseD_2c;
      }
      break;
    case '\x06':
      switch(DAT_005dfdc8) {
      case 0:
      case 4:
      case 0x24:
        goto switchD_00439083_caseD_0;
      case 2:
      case 5:
      case 8:
      case 0xb:
      case 0xe:
        FUN_004318e0(0,1);
        break;
      case 7:
        goto switchD_00439083_caseD_7;
      case 10:
        goto switchD_00439083_caseD_a;
      case 0xd:
        goto switchD_00439083_caseD_d;
      case 0x10:
        goto switchD_00439083_caseD_10;
      case 0x13:
        goto switchD_00439083_caseD_13;
      case 0x14:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x11;
        break;
      case 0x16:
        goto switchD_00439083_caseD_16;
      case 0x17:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x14;
        break;
      case 0x19:
        goto switchD_00439083_caseD_19;
      case 0x1a:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x17;
        break;
      case 0x1c:
        goto switchD_00439083_caseD_1c;
      case 0x1d:
        FUN_00475da0(0);
        DAT_005dfdc8 = 0x1a;
        break;
      case 0x1f:
        goto switchD_00439083_caseD_1f;
      case 0x2c:
        goto switchD_00439083_caseD_2c;
      }
      break;
    default:
      goto switchD_00438d08_caseD_5;
    case '\n':
      switch(DAT_005dfdc8) {
      case 0x11:
        DAT_005dfdc8 = 0x12;
        break;
      default:
        goto switchD_00439407_caseD_12;
      case 0x14:
        DAT_005dfdc8 = 0x15;
        break;
      case 0x17:
        DAT_005dfdc8 = 0x18;
        break;
      case 0x1a:
        DAT_005dfdc8 = 0x1b;
        break;
      case 0x1d:
        DAT_005dfdc8 = 0x1e;
      }
LAB_00439448:
      DAT_004d80c0 = DAT_004d80c0 + 1;
    }
switchD_00439407_caseD_12:
    DAT_00598d4c._0_1_ = 0;
    _memset(&DAT_005d6660,0,0x1e);
    break;
  case 3:
  case 9:
    switch(DAT_004d83a0) {
    case '\x01':
      switch(DAT_005df31c) {
      case 0:
        DAT_005df31c = 1;
        break;
      case 2:
        goto switchD_0043948f_caseD_2;
      case 4:
        DAT_005df31c = 5;
        break;
      case 6:
        DAT_005df31c = 7;
      }
      break;
    case '\x02':
switchD_0043948f_caseD_2:
      DAT_005df31c = 3;
      break;
    case '\x03':
      FUN_00475da0(0);
      switch(DAT_005df31c) {
      case 0:
      case 8:
        goto switchD_004394cd_caseD_8;
      default:
        break;
      case 4:
switchD_004394cd_caseD_2:
        DAT_005df31c = 0;
        break;
      case 6:
switchD_004394cd_caseD_0:
        DAT_005df31c = 4;
        break;
      }
    case '\x04':
      FUN_00475da0(0);
      switch(DAT_005df31c) {
      case 0:
        goto switchD_004394cd_caseD_0;
      case 2:
        goto switchD_004394cd_caseD_2;
      case 4:
        DAT_005df31c = 6;
        break;
      case 8:
switchD_004394cd_caseD_8:
        DAT_005df31c = 2;
      }
      break;
    default:
      break;
    }
    break;
  case 4:
    switch(DAT_004d83a0) {
    case '\x01':
      switch(DAT_005df28c) {
      case 0:
        goto switchD_00439572_caseD_2;
      case 2:
        DAT_005df28c = 3;
        break;
      case 4:
        DAT_005df28c = 5;
        break;
      case 6:
        DAT_005df28c = 7;
        break;
      case 8:
        DAT_005df28c = 9;
        break;
      case 10:
        DAT_005df28c = 0xb;
        break;
      case 0xc:
        DAT_005df28c = 0xd;
        break;
      case 0xe:
        DAT_005df28c = 0xf;
        break;
      case 0x10:
        DAT_005df28c = 0x11;
        break;
      case 0x12:
        DAT_005df28c = 0x13;
        break;
      case 0x14:
        DAT_005df28c = 0x15;
      }
      break;
    case '\x02':
switchD_00439572_caseD_2:
      DAT_005df28c = 1;
      break;
    case '\x03':
      FUN_00475da0(0);
      switch(DAT_005df28c) {
      case 2:
      case 0xc:
      case 0x16:
switchD_004395ea_caseD_16:
        DAT_005df28c = 0;
        break;
      default:
        break;
      case 4:
switchD_004395ea_caseD_c:
        DAT_005df28c = 2;
        break;
      case 6:
switchD_004395ea_caseD_e:
        DAT_005df28c = 4;
        break;
      case 8:
switchD_004395ea_caseD_10:
        DAT_005df28c = 6;
        break;
      case 10:
switchD_004395ea_caseD_12:
        DAT_005df28c = 8;
        break;
      case 0xe:
switchD_004395ea_caseD_0:
        DAT_005df28c = 0xc;
        break;
      case 0x10:
switchD_0043965f_caseD_4:
        DAT_005df28c = 0xe;
        break;
      case 0x12:
switchD_0043965f_caseD_6:
        DAT_005df28c = 0x10;
        break;
      case 0x14:
switchD_0043965f_caseD_8:
        DAT_005df28c = 0x12;
      }
      break;
    case '\x04':
      FUN_00475da0(0);
      switch(DAT_005df28c) {
      case 0:
        goto switchD_004395ea_caseD_0;
      default:
        break;
      case 2:
        goto switchD_004395ea_caseD_e;
      case 4:
        goto switchD_004395ea_caseD_10;
      case 6:
        goto switchD_004395ea_caseD_12;
      case 8:
switchD_004395ea_caseD_14:
        DAT_005df28c = 10;
        break;
      case 0xc:
        goto switchD_0043965f_caseD_4;
      case 0xe:
        goto switchD_0043965f_caseD_6;
      case 0x10:
        goto switchD_0043965f_caseD_8;
      case 0x12:
switchD_0043965f_caseD_a:
        DAT_005df28c = 0x14;
        break;
      case 0x16:
        goto switchD_004395ea_caseD_16;
      }
    case '\x05':
      FUN_00475da0(0);
      switch(DAT_005df28c) {
      case 2:
        goto switchD_004395ea_caseD_0;
      default:
        break;
      case 4:
        goto switchD_0043965f_caseD_4;
      case 6:
        goto switchD_0043965f_caseD_6;
      case 8:
        goto switchD_0043965f_caseD_8;
      case 10:
        goto switchD_0043965f_caseD_a;
      case 0xc:
      case 0x16:
        goto switchD_004395ea_caseD_16;
      }
    case '\x06':
      FUN_00475da0(0);
      switch(DAT_005df28c) {
      case 0:
        goto switchD_004395ea_caseD_0;
      default:
        break;
      case 0xc:
        goto switchD_004395ea_caseD_c;
      case 0xe:
        goto switchD_004395ea_caseD_e;
      case 0x10:
        goto switchD_004395ea_caseD_10;
      case 0x12:
        goto switchD_004395ea_caseD_12;
      case 0x14:
        goto switchD_004395ea_caseD_14;
      case 0x16:
        goto switchD_004395ea_caseD_16;
      }
    default:
      break;
    }
    break;
  case 0xc:
    if (DAT_004d83a0 == '\x01') {
      if (DAT_004d80d0 == 0) {
        DAT_004d80d0 = 1;
      }
      else if (DAT_004d80d0 == 2) {
        DAT_004d80d0 = 3;
      }
      else if (DAT_004d80d0 == 4) {
        DAT_004d80d0 = 5;
      }
      break;
    }
    if (DAT_004d83a0 == '\x03') {
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_004d80d0 == 0) {
        DAT_004d80d0 = 2;
        break;
      }
      if (DAT_004d80d0 == 4) {
LAB_0043997d:
        DAT_004d80d0 = 0;
        break;
      }
    }
    else {
      if (DAT_004d83a0 != '\x04') break;
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_004d80d0 == 0) {
        DAT_004d80d0 = 4;
        break;
      }
      if (DAT_004d80d0 == 2) goto LAB_0043997d;
    }
    if (DAT_004d80d0 == 7) {
      DAT_004d80d0 = 2;
    }
    break;
  case 0xd:
    switch(DAT_004d83a0) {
    case '\x01':
      switch(DAT_004d809c) {
      case 10:
        DAT_004d809c = 0xb;
        break;
      case 0xc:
        DAT_004d809c = 0xd;
        break;
      case 0xe:
        DAT_004d809c = 0xf;
        break;
      case 0x10:
        DAT_004d809c = 0x11;
        break;
      case 0x12:
        DAT_004d809c = 0x13;
        FUN_00436a90();
        break;
      case 0x14:
        DAT_004d809c = 0x15;
        FUN_00436a90();
        break;
      case 0x16:
        goto switchD_00439f76_caseD_16;
      case 0x19:
        DAT_004d809c = 0x1a;
        break;
      case 0x1b:
        DAT_004d809c = 0x1c;
        break;
      case 0x1d:
        DAT_004d809c = 0x1e;
        break;
      case 0x1f:
        DAT_004d809c = 0x20;
        break;
      case 0x21:
        DAT_004d809c = 0x22;
        break;
      case 0x23:
        DAT_004d809c = 0x24;
        break;
      case 0x25:
        DAT_004d809c = 0x26;
        break;
      case 0x27:
        DAT_004d809c = 0x28;
        break;
      case 0x29:
        DAT_004d809c = 0x2a;
        break;
      case 0x2b:
        DAT_004d809c = 0x2c;
      }
      break;
    case '\x02':
      if (DAT_004d809c != 0x16) {
        if ((DAT_004d809c < 0x19) || (0x2c < DAT_004d809c)) {
          DAT_004d809c = 0x13;
        }
        else {
          DAT_004d809c = 0x18;
        }
        break;
      }
switchD_00439f76_caseD_16:
      DAT_004d809c = 0x17;
      break;
    case '\x03':
      FUN_00475bf0(&DAT_005e4b80,0,2,0);
      switch(DAT_004d809c) {
      case 0:
      case 1:
      case 3:
switchD_00439d5e_caseD_12:
        DAT_004d809c = 0x14;
        break;
      case 5:
      case 6:
      case 8:
      case 0x2d:
switchD_00439e54_caseD_2d:
        DAT_004d809c = 0;
        break;
      case 10:
switchD_00439d5e_caseD_0:
        DAT_004d809c = 5;
        break;
      case 0xc:
switchD_00439d5e_caseD_5:
        DAT_004d809c = 10;
        break;
      case 0xe:
switchD_00439d5e_caseD_a:
        DAT_004d809c = 0xc;
        break;
      case 0x10:
switchD_00439d5e_caseD_c:
        DAT_004d809c = 0xe;
        break;
      case 0x12:
switchD_00439d5e_caseD_e:
        DAT_004d809c = 0x10;
        break;
      case 0x14:
switchD_00439d5e_caseD_10:
        DAT_004d809c = 0x12;
        break;
      case 0x1b:
        DAT_004d809c = 0x19;
        break;
      case 0x1d:
switchD_00439d5e_caseD_19:
        DAT_004d809c = 0x1b;
        break;
      case 0x1f:
switchD_00439d5e_caseD_1b:
        DAT_004d809c = 0x1d;
        break;
      case 0x21:
switchD_00439d5e_caseD_1d:
        DAT_004d809c = 0x1f;
        break;
      case 0x25:
        DAT_004d809c = 0x23;
        break;
      case 0x27:
switchD_00439d5e_caseD_23:
        DAT_004d809c = 0x25;
        break;
      case 0x29:
switchD_00439d5e_caseD_25:
        DAT_004d809c = 0x27;
        break;
      case 0x2b:
switchD_00439d5e_caseD_27:
        DAT_004d809c = 0x29;
      }
      break;
    case '\x04':
      FUN_00475bf0(&DAT_005e4b80,0,2,0);
      switch(DAT_004d809c) {
      case 0:
      case 1:
      case 3:
        goto switchD_00439d5e_caseD_0;
      case 5:
      case 6:
      case 8:
        goto switchD_00439d5e_caseD_5;
      case 10:
        goto switchD_00439d5e_caseD_a;
      case 0xc:
        goto switchD_00439d5e_caseD_c;
      case 0xe:
        goto switchD_00439d5e_caseD_e;
      case 0x10:
        goto switchD_00439d5e_caseD_10;
      case 0x12:
        goto switchD_00439d5e_caseD_12;
      case 0x14:
      case 0x2d:
        goto switchD_00439e54_caseD_2d;
      case 0x19:
        goto switchD_00439d5e_caseD_19;
      case 0x1b:
        goto switchD_00439d5e_caseD_1b;
      case 0x1d:
        goto switchD_00439d5e_caseD_1d;
      case 0x1f:
        DAT_004d809c = 0x21;
        break;
      case 0x23:
        goto switchD_00439d5e_caseD_23;
      case 0x25:
        goto switchD_00439d5e_caseD_25;
      case 0x27:
        goto switchD_00439d5e_caseD_27;
      case 0x29:
        DAT_004d809c = 0x2b;
      }
      break;
    case '\x05':
      switch(DAT_004d809c) {
      case 0:
        DAT_004d809c = 4;
      default:
        goto switchD_00438d08_caseD_5;
      case 5:
        DAT_004d809c = 9;
        goto switchD_00438d08_caseD_5;
      case 0x19:
        DAT_004d809c = 0x23;
        break;
      case 0x1b:
        DAT_004d809c = 0x25;
        break;
      case 0x1d:
        DAT_004d809c = 0x27;
        break;
      case 0x1f:
        DAT_004d809c = 0x29;
        break;
      case 0x21:
        DAT_004d809c = 0x2b;
        break;
      case 0x2d:
        goto switchD_00439e54_caseD_2d;
      }
LAB_00439f36:
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      break;
    case '\x06':
      switch(DAT_004d809c) {
      case 0:
        DAT_004d809c = 2;
      default:
        goto switchD_00438d08_caseD_5;
      case 5:
        DAT_004d809c = 7;
        goto switchD_00438d08_caseD_5;
      case 0x23:
        DAT_004d809c = 0x19;
        break;
      case 0x25:
        DAT_004d809c = 0x1b;
        break;
      case 0x27:
        DAT_004d809c = 0x1d;
        break;
      case 0x29:
        DAT_004d809c = 0x1f;
        break;
      case 0x2b:
        DAT_004d809c = 0x21;
        break;
      case 0x2d:
        goto switchD_00439e54_caseD_2d;
      }
      goto LAB_00439f36;
    default:
      break;
    }
    break;
  case 0xe:
    if (DAT_004d83a0 == '\x01') {
      if (DAT_004d7bb8 == 0) {
        DAT_004d7bb8 = 1;
      }
      else if (DAT_004d7bb8 == 2) {
        DAT_004d7bb8 = 3;
      }
    }
    else if (DAT_004d83a0 == '\x05') {
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_004d7bb8 == 0) {
        DAT_004d7bb8 = 2;
      }
      else if (DAT_004d7bb8 == 4) {
        DAT_004d7bb8 = 2;
      }
    }
    else if (DAT_004d83a0 == '\x06') {
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_004d7bb8 == 2) {
        DAT_004d7bb8 = 0;
      }
      else if (DAT_004d7bb8 == 4) {
        DAT_004d7bb8 = 2;
      }
    }
    break;
  case 0x11:
    switch(DAT_004d83a0) {
    case '\x01':
      switch(DAT_005df314) {
      case 0:
        goto switchD_00439ac5_caseD_2;
      case 2:
        DAT_005df314 = 3;
        break;
      case 4:
        DAT_005df314 = 5;
        break;
      case 6:
        DAT_005df314 = 7;
        break;
      case 8:
        DAT_005df314 = 9;
        break;
      case 10:
        DAT_005df314 = 0xb;
        break;
      case 0xc:
        DAT_005df314 = 0xd;
        break;
      case 0xe:
        DAT_005df314 = 0xf;
        break;
      case 0x10:
        DAT_005df314 = 0x11;
        break;
      case 0x12:
        DAT_005df314 = 0x13;
        break;
      case 0x14:
        DAT_005df314 = 0x15;
      }
      break;
    case '\x02':
switchD_00439ac5_caseD_2:
      DAT_005df314 = 1;
      break;
    case '\x03':
      FUN_00475da0(0);
      switch(DAT_005df314) {
      case 2:
      case 0xc:
      case 0x16:
switchD_00439b3c_caseD_16:
        DAT_005df314 = 0;
        break;
      default:
        break;
      case 4:
switchD_00439b3c_caseD_c:
        DAT_005df314 = 2;
        break;
      case 6:
switchD_00439b3c_caseD_e:
        DAT_005df314 = 4;
        break;
      case 8:
switchD_00439b3c_caseD_10:
        DAT_005df314 = 6;
        break;
      case 10:
switchD_00439b3c_caseD_12:
        DAT_005df314 = 8;
        break;
      case 0xe:
switchD_00439b3c_caseD_0:
        DAT_005df314 = 0xc;
        break;
      case 0x10:
switchD_00439bb1_caseD_4:
        DAT_005df314 = 0xe;
        break;
      case 0x12:
switchD_00439bb1_caseD_6:
        DAT_005df314 = 0x10;
        break;
      case 0x14:
switchD_00439bb1_caseD_8:
        DAT_005df314 = 0x12;
      }
      break;
    case '\x04':
      FUN_00475da0(0);
      switch(DAT_005df314) {
      case 0:
        goto switchD_00439b3c_caseD_0;
      default:
        break;
      case 2:
        goto switchD_00439b3c_caseD_e;
      case 4:
        goto switchD_00439b3c_caseD_10;
      case 6:
        goto switchD_00439b3c_caseD_12;
      case 8:
switchD_00439b3c_caseD_14:
        DAT_005df314 = 10;
        break;
      case 0xc:
        goto switchD_00439bb1_caseD_4;
      case 0xe:
        goto switchD_00439bb1_caseD_6;
      case 0x10:
        goto switchD_00439bb1_caseD_8;
      case 0x12:
switchD_00439bb1_caseD_a:
        DAT_005df314 = 0x14;
        break;
      case 0x16:
        goto switchD_00439b3c_caseD_16;
      }
    case '\x05':
      FUN_00475da0(0);
      switch(DAT_005df314) {
      case 2:
        goto switchD_00439b3c_caseD_0;
      default:
        break;
      case 4:
        goto switchD_00439bb1_caseD_4;
      case 6:
        goto switchD_00439bb1_caseD_6;
      case 8:
        goto switchD_00439bb1_caseD_8;
      case 10:
        goto switchD_00439bb1_caseD_a;
      case 0xc:
      case 0x16:
        goto switchD_00439b3c_caseD_16;
      }
    case '\x06':
      FUN_00475da0(0);
      switch(DAT_005df314) {
      case 0:
        goto switchD_00439b3c_caseD_0;
      default:
        break;
      case 0xc:
        goto switchD_00439b3c_caseD_c;
      case 0xe:
        goto switchD_00439b3c_caseD_e;
      case 0x10:
        goto switchD_00439b3c_caseD_10;
      case 0x12:
        goto switchD_00439b3c_caseD_12;
      case 0x14:
        goto switchD_00439b3c_caseD_14;
      case 0x16:
        goto switchD_00439b3c_caseD_16;
      }
    default:
      break;
    }
    break;
  case 0x12:
    switch(DAT_004d83a0) {
    case '\x01':
      FUN_00475bf0(&DAT_005e4c1c,0,4,0);
      switch(DAT_005df320) {
      case 0:
        goto switchD_00439837_caseD_0;
      case 2:
        sVar1 = _strlen(&DAT_005df340);
        if (sVar1 != 0) {
          DAT_005df320 = 3;
        }
        break;
      case 6:
        DAT_005df320 = 7;
        break;
      case 8:
        DAT_005df320 = 9;
      }
      goto switchD_00438d08_caseD_5;
    case '\x02':
      FUN_00475bf0(&DAT_005e4ba7,0,4,0);
      if (DAT_005df320 == 2) {
        _memset(&DAT_005df340,0,0x100);
        FID_conflict___mbscpy(&DAT_005df340,&DAT_004cb000);
        DAT_005df320 = 3;
        goto switchD_00438d08_caseD_5;
      }
switchD_00439837_caseD_0:
      DAT_005df320 = 1;
      goto switchD_00438d08_caseD_5;
    case '\x03':
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_005df320 != 6) {
        if (DAT_005df320 == 8) goto LAB_00439807;
        goto LAB_004397e3;
      }
      break;
    case '\x04':
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_005df320 == 0) {
LAB_00439807:
        DAT_005df320 = 6;
        goto switchD_00438d08_caseD_5;
      }
      if (DAT_005df320 == 6) {
        DAT_005df320 = 8;
        goto switchD_00438d08_caseD_5;
      }
LAB_004397e3:
      if (DAT_005df320 != 10) goto switchD_00438d08_caseD_5;
      break;
    default:
      goto switchD_00438d08_caseD_5;
    }
    DAT_005df320 = 0;
    break;
  case 0x13:
    if (DAT_004d83a0 == '\x01') {
      FUN_0048daa0(0xf);
    }
    break;
  case 0x14:
    if (DAT_004d83a0 == '\x01') {
      switch(DAT_005dfe30) {
      case 0:
        DAT_005dfe30 = 1;
        break;
      case 2:
        DAT_005dfe30 = 3;
        break;
      case 4:
        DAT_005dfe30 = 5;
        break;
      case 7:
        DAT_005dfe30 = 6;
      }
      break;
    }
    if (DAT_004d83a0 != '\x03') {
      if (DAT_004d83a0 != '\x04') break;
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      switch(DAT_005dfe30) {
      case 0:
        goto switchD_0043a0f7_caseD_0;
      default:
        goto switchD_00438d08_caseD_5;
      case 2:
        goto switchD_0043a0f7_caseD_2;
      case 4:
        goto switchD_0043a0f7_caseD_4;
      case 7:
      case 8:
        goto switchD_0043a0f7_caseD_7;
      }
    }
    FUN_00475bf0(&DAT_005e4b80,0,4,0);
    switch(DAT_005dfe30) {
    case 0:
switchD_0043a0f7_caseD_4:
      DAT_005dfe30 = 7;
      break;
    default:
      break;
    case 2:
    case 8:
switchD_0043a0f7_caseD_7:
      DAT_005dfe30 = 0;
      break;
    case 4:
switchD_0043a0f7_caseD_0:
      DAT_005dfe30 = 2;
      break;
    case 7:
switchD_0043a0f7_caseD_2:
      DAT_005dfe30 = 4;
    }
    break;
  case 0x15:
    if (DAT_004d83a0 == '\x01') {
      FUN_00475bf0(&DAT_005e4b80,0,4,0);
      if (DAT_005dfe28 == 0) {
        DAT_005dfe28 = 1;
      }
      else if (DAT_005dfe28 == 2) {
        DAT_005dfe28 = 3;
      }
    }
  }
switchD_00438d08_caseD_5:
  if (DAT_004d83a0 == '\t') {
    FUN_0042ac70();
  }
  DAT_004d839c._0_1_ = DAT_004d83a0;
  return 1;
}



undefined4 FUN_0043ac70(short param_1)

{
  if ((param_1 == 2) && (DAT_005dfdc8 == 4)) {
    DAT_005dfdc8 = 3;
    return 1;
  }
  if ((param_1 == 5) && (DAT_005dfdc8 == 7)) {
    DAT_005dfdc8 = 6;
    return 1;
  }
  if ((param_1 == 8) && (DAT_005dfdc8 == 10)) {
    DAT_005dfdc8 = 9;
    return 1;
  }
  if ((param_1 == 0xb) && (DAT_005dfdc8 == 0xd)) {
    DAT_005dfdc8 = 0xc;
    return 1;
  }
  if ((param_1 == 0xe) && (DAT_005dfdc8 == 0x10)) {
    DAT_005dfdc8 = 0xf;
    return 1;
  }
  if ((param_1 == 0x11) && (DAT_005dfdc8 == 0x13)) {
    DAT_005dfdc8 = 0x12;
    return 1;
  }
  if ((param_1 == 0x14) && (DAT_005dfdc8 == 0x16)) {
    DAT_005dfdc8 = 0x15;
    return 1;
  }
  if ((param_1 == 0x17) && (DAT_005dfdc8 == 0x19)) {
    DAT_005dfdc8 = 0x18;
    return 1;
  }
  if ((param_1 == 0x1a) && (DAT_005dfdc8 == 0x1c)) {
    DAT_005dfdc8 = 0x1b;
    return 1;
  }
  if ((param_1 == 0x1d) && (DAT_005dfdc8 == 0x1f)) {
    DAT_005dfdc8 = 0x1e;
    return 1;
  }
  return 0;
}



void FUN_0043ada0(void)

{
  switch(DAT_004d83a0) {
  case 1:
    if (DAT_004d809c == 0x12) {
      DAT_004d809c = 0x13;
    }
    else if (DAT_004d809c == 0x14) {
      DAT_004d809c = 0x15;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    break;
  case 3:
    switch(DAT_004d809c) {
    case 0:
    case 1:
    case 3:
switchD_0043adf2_caseD_12:
      DAT_004d809c = 0x14;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    case 5:
    case 6:
    case 8:
    case 0x2d:
switchD_0043adf2_caseD_14:
      DAT_004d809c = 0;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    case 0x12:
switchD_0043adf2_caseD_0:
      DAT_004d809c = 5;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    case 0x14:
switchD_0043adf2_caseD_5:
      DAT_004d809c = 0x12;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    break;
  case 4:
    switch(DAT_004d809c) {
    case 0:
    case 1:
    case 3:
      goto switchD_0043adf2_caseD_0;
    case 5:
    case 6:
    case 8:
      goto switchD_0043adf2_caseD_5;
    case 0x12:
      goto switchD_0043adf2_caseD_12;
    case 0x14:
    case 0x2d:
      goto switchD_0043adf2_caseD_14;
    }
    break;
  case 5:
    if (DAT_004d809c == 0) {
      DAT_004d809c = 4;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    if (DAT_004d809c == 5) {
      DAT_004d809c = 9;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    if (DAT_004d809c == 0x2d) {
      DAT_004d809c = 0;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    break;
  case 6:
    if (DAT_004d809c == 0) {
      DAT_004d809c = 2;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    if (DAT_004d809c == 5) {
      DAT_004d809c = 7;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
    if (DAT_004d809c == 0x2d) {
      DAT_004d809c = 0;
      DAT_004d839c._0_1_ = 0;
      DAT_004d83a0 = 0;
      return;
    }
  }
  DAT_004d839c._0_1_ = 0;
  DAT_004d83a0 = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0043b000(void)

{
  if (DAT_004d80c4 == 0) {
    if ((DAT_004d809c == 0x15) || (DAT_004d809c == 0x13)) {
      DAT_004d80c4 = 3;
      return;
    }
    if ((((DAT_004d809c != 4) && (DAT_004d809c != 2)) && (DAT_004d809c != 9)) && (DAT_004d809c != 7)
       ) {
      return;
    }
    DAT_004d80c4 = 1;
    return;
  }
  DAT_004d80c4 = DAT_004d80c4 + -1;
  if (DAT_004d80c4 != 0) {
    return;
  }
  switch(DAT_004d809c) {
  case 2:
    if (_DAT_005df2f0 < 1) {
      DAT_004d809c = 0;
      return;
    }
    FUN_004010f0();
    _DAT_005df2f0 = _DAT_005df2f0 + -1;
    goto LAB_0043b0d3;
  default:
    goto switchD_0043b070_caseD_3;
  case 4:
    if (99 < _DAT_005df2f0) {
      DAT_004d809c = 0;
      return;
    }
    FUN_004010f0();
    _DAT_005df2f0 = _DAT_005df2f0 + 1;
LAB_0043b0d3:
    FUN_00475d60(&DAT_005e4738,0,4,0);
    DAT_004d809c = 0;
    return;
  case 7:
    if (0 < DAT_005df2f4) {
      DAT_005df2f4 = DAT_005df2f4 + -1;
      ApplyStreamVolumes();
LAB_0043b136:
      FUN_00475d60(&DAT_005e4738,0,4,0);
    }
    break;
  case 9:
    if (DAT_005df2f4 < 100) {
      DAT_005df2f4 = DAT_005df2f4 + 1;
      ApplyStreamVolumes();
      goto LAB_0043b136;
    }
    break;
  case 0x13:
    DAT_004d8268 = 0;
    return;
  case 0x15:
    FUN_0048daa0(6);
    return;
  }
  DAT_004d809c = 5;
switchD_0043b070_caseD_3:
  return;
}



void FUN_0043b190(void)

{
  char cVar1;
  
  if (DAT_005df2d0 == 1) {
    cVar1 = *(char *)(DAT_004d80cc + 0xa0);
    if (cVar1 == '\0') {
      FUN_0043b2f0();
    }
    else if (cVar1 == '\x01') {
      FUN_0043b920();
    }
    else if (cVar1 == '\x02') {
      FUN_0043beb0();
    }
    DAT_005df2d0 = 0;
  }
  FUN_0043df50();
  FUN_0042aea0(DAT_004d80d0);
  FUN_0043b1f0();
  return;
}



void FUN_0043b1f0(void)

{
  undefined local_44 [20];
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  undefined4 uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (DAT_004d80d0 != DAT_004d80d4) {
    if (DAT_004d80d0 == 3) {
      return;
    }
    if ((DAT_004d80d0 != 1) && (DAT_004d8260 == 0)) {
      FUN_00492720();
      FUN_00492720();
      uStackY_18 = 0x43b253;
      _memset(local_44,0,0x3d);
      if (DAT_004d80d0 == 0) {
        uStackY_28 = (undefined)DAT_005dede8;
        local_27 = (undefined2)((uint)DAT_005dede8 >> 8);
        local_25 = (undefined)((uint)DAT_005dede8 >> 0x18);
      }
      else {
        if (DAT_004d80d0 != 2) goto LAB_0043b2d3;
        uStackY_28 = (undefined)DAT_005dedec;
        local_27 = (undefined2)((uint)DAT_005dedec >> 8);
        local_25 = (undefined)((uint)DAT_005dedec >> 0x18);
      }
      uStackY_18 = 1;
      uStackY_1c = 5;
      local_1d = 0;
      local_1f = 2;
      uStackY_20 = 0x58;
      local_21 = 0;
      local_23 = 0;
      uStackY_24 = 0;
      local_2c = 1;
      uStackY_30 = 0x43b2cb;
      FUN_00492100();
    }
  }
LAB_0043b2d3:
  if ((DAT_004d80d0 != 3) && (DAT_004d80d0 != 1)) {
    DAT_004d80d4 = DAT_004d80d0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0043b2f0(void)

{
  int iVar1;
  undefined4 uVar2;
  
  AdjustStackForLargeAllocations();
  FUN_0042a770();
  iVar1 = FUN_0042abb0(DAT_005df290[2],0x32,0x15);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 1;
    *(undefined2 *)(iVar1 + 0x24) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 1;
    *(undefined2 *)(iVar1 + 0x24) = 2;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 0x24) = 0x3b;
    *(undefined2 *)(iVar1 + 0x40) = 1;
    *(undefined2 *)(iVar1 + 0x3a) = 2;
    uVar2 = DAT_005df290[0x15];
    *(undefined2 *)(iVar1 + 0x26) = 0x3b;
    *(undefined4 *)(iVar1 + 4) = uVar2;
    *(undefined *)(iVar1 + 0x28) = 2;
    *(undefined2 *)(iVar1 + 10) = 0;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 0x24) = 0x3a;
    *(undefined2 *)(iVar1 + 0x40) = 2;
    *(undefined2 *)(iVar1 + 0x3a) = 0;
    uVar2 = DAT_005df290[0x15];
    *(undefined2 *)(iVar1 + 0x26) = 0x3a;
    *(undefined4 *)(iVar1 + 4) = uVar2;
    *(undefined *)(iVar1 + 0x28) = 2;
    *(undefined2 *)(iVar1 + 10) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(*DAT_005df290,0x1eb,0x7f);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 0x24) = 7;
    *(undefined2 *)(iVar1 + 0x40) = 3;
    *(undefined2 *)(iVar1 + 0x3a) = 4;
    uVar2 = DAT_005df290[0x15];
    *(undefined2 *)(iVar1 + 0x26) = 7;
    *(undefined4 *)(iVar1 + 4) = uVar2;
    *(undefined *)(iVar1 + 0x28) = 2;
    *(undefined2 *)(iVar1 + 10) = 2;
  }
  FUN_0042a520();
  iVar1 = DAT_004d80cc[0x13];
  if (iVar1 == 1) {
    iVar1 = FUN_0042abb0(DAT_005df290[0x11],0x1cb,0x178);
  }
  else {
    if (iVar1 == 2) {
      uVar2 = DAT_005df290[0x12];
    }
    else {
      if (iVar1 != 3) goto LAB_0043b4f0;
      uVar2 = DAT_005df290[0x13];
    }
    iVar1 = FUN_0042abb0(uVar2,0x1cb,0x178);
  }
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 0x24) = 0x39;
  }
  FUN_0042a520();
LAB_0043b4f0:
  iVar1 = FUN_0042abb0(DAT_005df290[2],0xc0,0x98);
  if (iVar1 != 0) {
    *(undefined2 *)(iVar1 + 0x24) = 0x34;
    *(undefined4 *)(iVar1 + 0x20) = 1;
    *(undefined2 *)(iVar1 + 10) = 1;
    *(undefined2 *)(iVar1 + 0x26) = 0x34;
    *(undefined *)(iVar1 + 0x28) = 0;
    FUN_00437850(*DAT_004d80cc,DAT_004d80cc[0x16]);
    FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar1 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(DAT_005df290[2],0xc0,0xd2);
  if (iVar1 != 0) {
    *(undefined *)(iVar1 + 0x28) = 0;
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 10) = 2;
    *(undefined2 *)(iVar1 + 0x24) = 0x35;
    *(undefined2 *)(iVar1 + 0x26) = 0x35;
    FUN_00437850(DAT_004d80cc[1],DAT_004d80cc[0x17]);
    FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar1 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(DAT_005df290[2],0xc0,0x10c);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 1;
    *(undefined2 *)(iVar1 + 10) = 3;
    *(undefined2 *)(iVar1 + 0x24) = 0x36;
    *(undefined2 *)(iVar1 + 0x26) = 0x36;
    *(undefined *)(iVar1 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[2],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar1 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(DAT_005df290[2],0xc0,0x146);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 2;
    *(undefined2 *)(iVar1 + 10) = 4;
    *(undefined2 *)(iVar1 + 0x24) = 0x37;
    *(undefined2 *)(iVar1 + 0x26) = 0x37;
    *(undefined *)(iVar1 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[3],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar1 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar1 = FUN_0042abb0(DAT_005df290[2],0xc0,0x180);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x20) = 1;
    *(undefined2 *)(iVar1 + 10) = 5;
    *(undefined2 *)(iVar1 + 0x24) = 0x38;
    *(undefined2 *)(iVar1 + 0x26) = 0x38;
    *(undefined *)(iVar1 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[5],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar1 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar1 + 0x39) = 1;
  }
  FUN_0042a520();
  if ((DAT_005e45d0 == 0) && (_DAT_004d7bc0 == 0)) {
    if ((DAT_004d80cc[0x16] <= *DAT_004d80cc) && (DAT_004d80cc[0x16] != 0)) {
      iVar1 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x98);
      if (iVar1 == 0) {
        FUN_0042a520();
      }
      else {
        *(undefined4 *)(iVar1 + 0x20) = 1;
        *(undefined2 *)(iVar1 + 10) = 1;
        *(undefined2 *)(iVar1 + 0x24) = 0x33;
        FUN_0042a520();
      }
    }
    if ((DAT_004d80cc[0x17] <= DAT_004d80cc[1]) && (DAT_004d80cc[0x17] != 0)) {
      iVar1 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0xd2);
      if (iVar1 != 0) {
        *(undefined4 *)(iVar1 + 0x20) = 1;
        *(undefined2 *)(iVar1 + 10) = 2;
        *(undefined2 *)(iVar1 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if ((DAT_004d80cc[0x18] <= DAT_004d80cc[2]) && (DAT_004d80cc[0x18] != 0)) {
      iVar1 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x10c);
      if (iVar1 != 0) {
        *(undefined4 *)(iVar1 + 0x20) = 1;
        *(undefined2 *)(iVar1 + 10) = 3;
        *(undefined2 *)(iVar1 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if ((DAT_004d80cc[0x19] <= DAT_004d80cc[3]) && (DAT_004d80cc[0x19] != 0)) {
      iVar1 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x146);
      if (iVar1 != 0) {
        *(undefined4 *)(iVar1 + 0x20) = 1;
        *(undefined2 *)(iVar1 + 10) = 4;
        *(undefined2 *)(iVar1 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (((((DAT_004d80cc[0x19] <= DAT_004d80cc[3]) && (DAT_004d80cc[0x18] <= DAT_004d80cc[2])) &&
         (DAT_004d80cc[0x17] <= DAT_004d80cc[1])) &&
        ((DAT_004d80cc[0x16] <= *DAT_004d80cc && (DAT_004d80cc[0x19] != 0)))) &&
       ((DAT_004d80cc[0x18] != 0 && ((DAT_004d80cc[0x17] != 0 && (DAT_004d80cc[0x16] != 0)))))) {
      iVar1 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x180);
      if (iVar1 != 0) {
        *(undefined4 *)(iVar1 + 0x20) = 1;
        *(undefined2 *)(iVar1 + 10) = 5;
        *(undefined2 *)(iVar1 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
  }
  FUN_0042a630();
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0043b920(void)

{
  undefined4 uVar1;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  FUN_0042b210();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0x32,0x15);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 2;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x3b;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x3b;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 0;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x3a;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 0;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x3a;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x7f);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 7;
    *(undefined2 *)(iVar2 + 0x40) = 3;
    *(undefined2 *)(iVar2 + 0x3a) = 8;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 7;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 2;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x98);
  if (iVar2 != 0) {
    *(undefined2 *)(iVar2 + 0x24) = 0x34;
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 1;
    *(undefined2 *)(iVar2 + 0x26) = 0x34;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_00437850(*(undefined4 *)(DAT_004d80cc + 0x30),*(undefined4 *)(DAT_004d80cc + 0x88));
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0xd2);
  if (iVar2 != 0) {
    *(undefined *)(iVar2 + 0x28) = 0;
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 10) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x35;
    *(undefined2 *)(iVar2 + 0x26) = 0x35;
    FUN_00437850(*(undefined4 *)(DAT_004d80cc + 0x34),*(undefined4 *)(DAT_004d80cc + 0x8c));
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x10c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 3;
    *(undefined2 *)(iVar2 + 0x24) = 0x36;
    *(undefined2 *)(iVar2 + 0x26) = 0x36;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(*(undefined4 *)(DAT_004d80cc + 0x38),&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x146);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 10) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0x37;
    *(undefined2 *)(iVar2 + 0x26) = 0x37;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(*(undefined4 *)(DAT_004d80cc + 0x3c),&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x180);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 5;
    *(undefined2 *)(iVar2 + 0x24) = 0x38;
    *(undefined2 *)(iVar2 + 0x26) = 0x38;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(*(undefined4 *)(DAT_004d80cc + 0x44),&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  if ((DAT_005e45d0 == 0) && (_DAT_004d7bc0 == 0)) {
    if (*(int *)(DAT_004d80cc + 0x88) <= *(int *)(DAT_004d80cc + 0x30)) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x98);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 1;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (*(int *)(DAT_004d80cc + 0x8c) <= *(int *)(DAT_004d80cc + 0x34)) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0xd2);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 2;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (*(int *)(DAT_004d80cc + 0x90) <= *(int *)(DAT_004d80cc + 0x38)) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x10c);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 3;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (*(int *)(DAT_004d80cc + 0x94) <= *(int *)(DAT_004d80cc + 0x3c)) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x146);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 4;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if ((((*(int *)(DAT_004d80cc + 0x94) <= *(int *)(DAT_004d80cc + 0x3c)) &&
         (*(int *)(DAT_004d80cc + 0x90) <= *(int *)(DAT_004d80cc + 0x38))) &&
        (*(int *)(DAT_004d80cc + 0x8c) <= *(int *)(DAT_004d80cc + 0x34))) &&
       (*(int *)(DAT_004d80cc + 0x88) <= *(int *)(DAT_004d80cc + 0x30))) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x180);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 5;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0043beb0(void)

{
  undefined4 uVar1;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  FUN_0042b210();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0x32,0x15);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 0x24) = 2;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x3b;
    *(undefined2 *)(iVar2 + 0x40) = 1;
    *(undefined2 *)(iVar2 + 0x3a) = 2;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x3b;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 0;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x4a);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x3a;
    *(undefined2 *)(iVar2 + 0x40) = 2;
    *(undefined2 *)(iVar2 + 0x3a) = 0;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 0x3a;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(*DAT_005df290,0x1eb,0x7f);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 7;
    *(undefined2 *)(iVar2 + 0x40) = 3;
    *(undefined2 *)(iVar2 + 0x3a) = 8;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar2 + 0x26) = 7;
    *(undefined4 *)(iVar2 + 4) = uVar1;
    *(undefined *)(iVar2 + 0x28) = 2;
    *(undefined2 *)(iVar2 + 10) = 2;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x98);
  if (iVar2 != 0) {
    *(undefined2 *)(iVar2 + 0x24) = 0x34;
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 1;
    *(undefined2 *)(iVar2 + 0x26) = 0x34;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_00437850(DAT_004d80cc[6],DAT_004d80cc[0x1a]);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0xd2);
  if (iVar2 != 0) {
    *(undefined *)(iVar2 + 0x28) = 0;
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 10) = 2;
    *(undefined2 *)(iVar2 + 0x24) = 0x35;
    *(undefined2 *)(iVar2 + 0x26) = 0x35;
    FUN_00437850(DAT_004d80cc[7],DAT_004d80cc[0x1b]);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x10c);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 3;
    *(undefined2 *)(iVar2 + 0x24) = 0x36;
    *(undefined2 *)(iVar2 + 0x26) = 0x36;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[8],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x146);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 2;
    *(undefined2 *)(iVar2 + 10) = 4;
    *(undefined2 *)(iVar2 + 0x24) = 0x37;
    *(undefined2 *)(iVar2 + 0x26) = 0x37;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[9],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  iVar2 = FUN_0042abb0(DAT_005df290[2],0xc0,0x180);
  if (iVar2 != 0) {
    *(undefined4 *)(iVar2 + 0x20) = 1;
    *(undefined2 *)(iVar2 + 10) = 5;
    *(undefined2 *)(iVar2 + 0x24) = 0x38;
    *(undefined2 *)(iVar2 + 0x26) = 0x38;
    *(undefined *)(iVar2 + 0x28) = 0;
    FUN_004ae5f0(DAT_004d80cc[0xb],&stack0xffffffec);
    FID_conflict___mbscpy((char *)(iVar2 + 0x29),&stack0xffffffec);
    *(undefined *)(iVar2 + 0x39) = 1;
  }
  FUN_0042a520();
  if ((DAT_005e45d0 == 0) && (_DAT_004d7bc0 == 0)) {
    if (DAT_004d80cc[0x16] <= DAT_004d80cc[6]) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x98);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 1;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (DAT_004d80cc[0x17] <= DAT_004d80cc[1]) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0xd2);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 2;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (DAT_004d80cc[0x18] <= DAT_004d80cc[2]) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x10c);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 3;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if (DAT_004d80cc[0x19] <= DAT_004d80cc[3]) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x146);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 4;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
    if ((((DAT_004d80cc[0x1d] <= DAT_004d80cc[3]) && (DAT_004d80cc[0x1c] <= DAT_004d80cc[2])) &&
        (DAT_004d80cc[0x1b] <= DAT_004d80cc[1])) && (DAT_004d80cc[0x1a] <= *DAT_004d80cc)) {
      iVar2 = FUN_0042abb0(DAT_005df290[0x14],0x8c,0x180);
      if (iVar2 != 0) {
        *(undefined4 *)(iVar2 + 0x20) = 1;
        *(undefined2 *)(iVar2 + 10) = 5;
        *(undefined2 *)(iVar2 + 0x24) = 0x33;
      }
      FUN_0042a520();
    }
  }
  return 1;
}



void FUN_0043c420(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  return;
}



void FUN_0043c430(void)

{
  *DAT_004d80cc = 0;
  DAT_004d80cc[1] = 0;
  DAT_004d80cc[2] = 0;
  DAT_004d80cc[3] = 0;
  DAT_004d80cc[5] = 0;
  DAT_004d80cc[4] = 0;
  DAT_004d80cc[0x12] = 0;
  DAT_004d80cc[0x13] = 0;
  DAT_004d80cc[0x14] = 0;
  DAT_004d80cc[0x15] = 0;
  FUN_0043c710();
  return;
}



void FUN_0043c490(void)

{
  if ((DAT_004d80c8 == 0) && (((DAT_004d80d0 == 1 || (DAT_004d80d0 == 3)) || (DAT_004d80d0 == 5))))
  {
    DAT_004d80c8 = 3;
  }
  return;
}



void FUN_0043c4c0(void)

{
  char cVar1;
  int iVar2;
  
  if (DAT_004d8100 != 0) {
    DAT_004d80d0 = 0;
    DAT_004d8100 = 0;
  }
  if (DAT_004d80c8 < 1) {
    return;
  }
  DAT_004d80c8 = DAT_004d80c8 + -1;
  if (DAT_004d80c8 != 0) {
    return;
  }
  if (DAT_004d80d0 != 1) {
    if (DAT_004d80d0 == 3) {
      DAT_004d7bb8 = 0;
      DAT_004c9f04 = DAT_004cb05c;
      FUN_0042a450(0xe);
      DAT_004d8100 = 1;
      DAT_004d7bbc = 8;
      DAT_005df2d0 = 1;
      FUN_0043c420();
      return;
    }
    if (DAT_004d80d0 != 5) {
      return;
    }
    FUN_0042a450(4);
    DAT_004d8100 = 1;
    DAT_005df2d0 = 1;
    DAT_004d80d0 = 4;
    FUN_0043c420();
    return;
  }
  if ((DAT_004ca030 == 0x14) && (*(char *)(DAT_004d80cc + 0xa0) == '\0')) {
    *(undefined *)(DAT_004d80cc + 0xa0) = 2;
    FUN_0043db20(s_GAME_SUMMARY_004cb030);
  }
  else if ((DAT_004ca030 % 5 == 0) &&
          ((DAT_004ca030 < 0x15 && (*(char *)(DAT_004d80cc + 0xa0) == '\0')))) {
    *(undefined *)(DAT_004d80cc + 0xa0) = 1;
    FUN_0043db20(DAT_005deec8);
  }
  else {
    cVar1 = *(char *)(DAT_004d80cc + 0xa0);
    if (cVar1 == '\0') {
      if ((0 < *(int *)(DAT_004d80cc + 0x4c)) && (DAT_005e45d0 == 0)) {
        DAT_004c9f04 = 1;
        FUN_0042a450(0x12);
        goto LAB_0043c6cb;
      }
      iVar2 = *(int *)(DAT_005df2c8 + 0xe8);
      if ((0 < iVar2) && (DAT_005e45d0 == 0)) {
        FUN_0042a450(1);
        goto LAB_0043c6cb;
      }
    }
    else {
      if ((cVar1 == '\x02') && (*(int *)(DAT_005df2c8 + 0xe8) == 0)) {
        FUN_0042a450(0x15);
        DAT_005dfe28 = 0;
        goto LAB_0043c6cb;
      }
      if (cVar1 == '\x02') {
        FUN_0042a450(0x15);
        DAT_005dfe28 = 2;
        goto LAB_0043c6cb;
      }
      if (cVar1 != '\x01') goto LAB_0043c6cb;
      if ((0 < *(int *)(DAT_004d80cc + 0x4c)) && (DAT_005e45d0 == 0)) {
        DAT_004c9f04 = 1;
        FUN_0042a450(0x12);
        goto LAB_0043c6cb;
      }
      iVar2 = *(int *)(DAT_005df2c8 + 0xe8);
      if ((0 < iVar2) && (DAT_005e45d0 == 0)) {
        FUN_0042a450(1);
        goto LAB_0043c6cb;
      }
    }
    if (iVar2 == 0) {
      *(undefined *)(DAT_004d80cc + 0xa0) = 2;
    }
  }
LAB_0043c6cb:
  DAT_004d8100 = 1;
  DAT_005df2d0 = 1;
  FUN_0043c420();
  return;
}



void FUN_0043c700(void)

{
  return;
}



undefined4 FUN_0043c710(void)

{
  ushort uVar1;
  ushort *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  ushort *puVar7;
  byte *pbVar8;
  undefined4 *puVar9;
  ushort **ppuVar10;
  char local_40c;
  undefined4 local_40b;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  puVar7 = (ushort *)0x0;
  local_40c = '\0';
  puVar9 = &local_40b;
  for (iVar5 = 0xf9; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar9 = 0;
    puVar9 = puVar9 + 1;
  }
  *(undefined2 *)puVar9 = 0;
  *(undefined *)((int)puVar9 + 2) = 0;
  iVar11 = 0;
  iVar5 = 0;
  local_14 = 0;
  local_1c = 0;
  iVar4 = *(int *)(DAT_005df318[1] + 10);
  if (*DAT_005df318 + -1 != 0) {
    local_24 = *DAT_005df318 + -1;
    do {
      local_20 = 5;
      ppuVar10 = (ushort **)(*(int *)(iVar4 + 4) + 0x175);
      do {
        puVar2 = *ppuVar10;
        if ((puVar2 != (ushort *)0x0) &&
           ((uVar1 = *puVar2, puVar7 = puVar2, uVar1 < 0xe2 || (0xfb < uVar1)))) {
          iVar11 = iVar11 + 1;
          local_1c = local_1c + 1;
          if ((&local_40c)[uVar1] == '\0') {
            local_18 = (uint)*(byte *)(*(int *)((int)puVar2 + 0x13) + 0x19e) * 100;
            local_14 = 0x43c7d6;
            iVar3 = __ftol();
            iVar5 = iVar5 + iVar3;
          }
          (&local_40c)[uVar1] = '\x01';
        }
        ppuVar10 = ppuVar10 + 1;
        local_20 = local_20 + -1;
      } while (local_20 != 0);
      local_24 = local_24 + -1;
      iVar4 = *(int *)(iVar4 + 10);
    } while (local_24 != 0);
  }
  pbVar8 = &DAT_005dfe80;
  do {
    if ((*(int *)(pbVar8 + 0x10) != 0) && ((*pbVar8 & 8) != 0)) {
      local_18 = (*(byte *)(puVar7 + 2) + 100) *
                 (uint)*(byte *)(*(int *)((int)puVar7 + 0x13) + 0x19e);
      iVar11 = iVar11 + 1;
      local_14 = 0x43c843;
      iVar4 = __ftol();
      iVar5 = iVar5 + iVar4;
    }
    pbVar8 = pbVar8 + 0xe0;
  } while ((int)pbVar8 < 0x5e2180);
  iVar4 = *(int *)(DAT_00598d90 + 0x239);
  if (iVar4 != 0) {
    piVar6 = *(int **)(DAT_00598d90 + 0x230);
    do {
      if ((*(int *)(*piVar6 + 0x9d) != 0) && (*(int *)(*(int *)(*piVar6 + 0x9d) + 0xf) == 10)) {
        local_14 = local_14 + 1;
      }
      piVar6 = piVar6 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  *(undefined4 *)(DAT_004d80cc + 0x58) = DAT_004d86a8;
  *(int *)(DAT_004d80cc + 0x5c) = iVar11;
  *(int *)(DAT_004d80cc + 0x60) = iVar5;
  *(int *)(DAT_004d80cc + 100) = local_14 * 0x32;
  *(int *)(DAT_004d80cc + 0x68) = *(int *)(DAT_004d80cc + 0x68) + *(int *)(DAT_004d80cc + 0x58);
  *(int *)(DAT_004d80cc + 0x6c) = *(int *)(DAT_004d80cc + 0x6c) + *(int *)(DAT_004d80cc + 0x5c);
  *(int *)(DAT_004d80cc + 0x70) = *(int *)(DAT_004d80cc + 0x70) + *(int *)(DAT_004d80cc + 0x60);
  *(int *)(DAT_004d80cc + 0x74) = *(int *)(DAT_004d80cc + 0x74) + *(int *)(DAT_004d80cc + 100);
  if ((((DAT_004ca030 != 6) && (DAT_004ca030 != 0xb)) && (DAT_004ca030 != 0x10)) &&
     (DAT_004ca030 != 0x15)) {
    *(int *)(DAT_004d80cc + 0x88) = *(int *)(DAT_004d80cc + 0x88) + *(int *)(DAT_004d80cc + 0x58);
    *(int *)(DAT_004d80cc + 0x8c) = *(int *)(DAT_004d80cc + 0x8c) + *(int *)(DAT_004d80cc + 0x5c);
    *(int *)(DAT_004d80cc + 0x90) = *(int *)(DAT_004d80cc + 0x90) + *(int *)(DAT_004d80cc + 0x60);
    *(int *)(DAT_004d80cc + 0x94) = *(int *)(DAT_004d80cc + 0x94) + *(int *)(DAT_004d80cc + 100);
    return 1;
  }
  *(undefined4 *)(DAT_004d80cc + 0x88) = *(undefined4 *)(DAT_004d80cc + 0x58);
  *(undefined4 *)(DAT_004d80cc + 0x8c) = *(undefined4 *)(DAT_004d80cc + 0x5c);
  *(undefined4 *)(DAT_004d80cc + 0x90) = *(undefined4 *)(DAT_004d80cc + 0x60);
  *(undefined4 *)(DAT_004d80cc + 0x94) = *(undefined4 *)(DAT_004d80cc + 100);
  return 1;
}



void FUN_0043cac0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int local_20;
  int iStack_1c;
  int *piStack_18;
  undefined4 uStack_14;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  iVar4 = 0;
  if (DAT_005df2d0 == 1) {
    uStack_14 = 0x43cae6;
    FUN_0043eda0();
    uStack_14 = 0x43caeb;
    FUN_00437c30();
    DAT_005df2d0 = 0;
    uStack_14 = DAT_005dedb4;
    DAT_005df314 = 2;
    piStack_18 = (int *)0x43cb06;
    FUN_0043db20();
  }
  uStack_14 = 0x43cb0e;
  FUN_0043df50();
  for (iVar1 = *(int *)(DAT_004d7cd4 + 8); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x46)) {
    if ((*(short *)(iVar1 + 10) == 1) && (*(short *)(iVar1 + 8) == 0x67)) {
      iVar3 = iVar1;
    }
    if ((*(short *)(iVar1 + 10) == 0) && (*(short *)(iVar1 + 8) == 0x94)) {
      iVar4 = iVar1;
    }
  }
  uStack_14 = 0x43cb53;
  iVar2 = FUN_0043f290();
  uStack_14 = *(undefined4 *)(DAT_005df2c8 + 0x38 + iVar2 * 4);
  piStack_18 = (int *)0x0;
  iStack_1c = 0;
  local_20 = 0x66;
  FUN_0043dcb0(0x118);
  iVar1 = *(int *)(DAT_005df2c8 + 0x60 + iVar2 * 4);
  if (((0 < iVar1) && (iVar3 != 0)) && (iVar4 != 0)) {
    uStack_14 = 0;
    piStack_18 = (int *)0x0;
    iStack_1c = *(short *)(iVar3 + 0x16) + -8 + ((int)*(short *)(iVar3 + 0xe) >> 1);
    local_20 = *(short *)(iVar3 + 0x14) + 0xf;
    FUN_00428d60(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + iVar1 * 0x222);
    piStack_18 = &local_20;
    iStack_1c = *(undefined4 *)(DAT_005df2c8 + 0x88 + iVar2 * 4);
    uStack_14 = 10;
    local_20 = 0x43cbe6;
    FUN_004ae5f0();
    iStack_1c = *(short *)(iVar4 + 0x16) + -8 + ((int)*(short *)(iVar4 + 0xe) >> 1);
    uStack_14 = 0;
    piStack_18 = (int *)0x0;
    local_20 = *(short *)(iVar4 + 0x14) + 0xf;
    FUN_00428d60(&local_20);
  }
  uStack_14 = DAT_005df314;
  piStack_18 = (int *)0x43cc1c;
  FUN_0042aea0();
  uStack_14 = 0x43cc24;
  FUN_0043f430();
  uStack_14 = 0x43cc29;
  FUN_0043cc30();
  return;
}



void FUN_0043cc30(void)

{
  undefined local_44 [20];
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  uint uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df314 != DAT_004d80d8) {
    FUN_00492720();
    uStackY_18 = 0x43cc69;
    _memset(local_44,0,0x3d);
    local_2c = CONCAT13(local_2c._3_1_,0x30000);
    local_27 = 0x3f;
    local_25 = 0x5b;
    uStackY_24 = 0;
    local_23 = 0xa5;
    local_21 = 0xe;
    uStackY_20 = 0;
    local_1f = 0;
    local_1d = 0;
    uStackY_1c = uStackY_1c & 0xffffff00;
    FUN_00492720();
    FUN_00492720();
    if (DAT_005df314 == 0) {
      uStackY_28 = (undefined)DAT_005ded58;
      local_27 = (undefined2)((uint)DAT_005ded58 >> 8);
      local_25 = (undefined)((uint)DAT_005ded58 >> 0x18);
    }
    else {
      uStackY_28 = (undefined)DAT_005dedb8;
      local_27 = (undefined2)((uint)DAT_005dedb8 >> 8);
      local_25 = (undefined)((uint)DAT_005dedb8 >> 0x18);
    }
    uStackY_18 = 1;
    uStackY_1c = 5;
    local_1d = 0;
    local_1f = 2;
    uStackY_20 = 0x58;
    local_21 = 0;
    local_23 = 0;
    uStackY_24 = 0;
    local_2c = 1;
    uStackY_30 = 0x43cceb;
    FUN_00492100();
  }
  if (DAT_005df314 != 1) {
    DAT_004d80d8 = DAT_005df314;
  }
  return;
}



void FUN_0043cd10(void)

{
  if (DAT_004d80dc == 0) {
    switch(DAT_005df314) {
    case 1:
    case 3:
    case 5:
    case 7:
    case 9:
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x13:
    case 0x15:
      DAT_004d80dc = 3;
    }
  }
  return;
}



void FUN_0043cd90(void)

{
  int iVar1;
  int unaff_ESI;
  char local_10c [240];
  undefined4 uStackY_1c;
  undefined *puStackY_18;
  int iStackY_14;
  
  AdjustStackForLargeAllocations();
  if (DAT_004d8100 != 0) {
    DAT_005df314 = 0;
    *(undefined4 *)(DAT_005df2c8 + 200) = 0xffffffff;
    DAT_004d8100 = 0;
  }
  if ((0 < DAT_004d80dc) && (DAT_004d80dc = DAT_004d80dc + -1, DAT_004d80dc == 0)) {
    switch(DAT_005df314) {
    case 1:
      FUN_0042a450();
      DAT_005df2d0 = 1;
      DAT_005df314 = 0;
      FUN_0043f020();
      return;
    case 3:
    case 5:
    case 7:
    case 9:
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x13:
    case 0x15:
      iStackY_14 = 0x43ce3b;
      FID_conflict___mbscpy(&DAT_005d6400,s_SaveGame_004cb040);
      iStackY_14 = 0x43ce49;
      iStackY_14 = FUN_0043f290();
      iStackY_14 = iStackY_14 + 1;
      puStackY_18 = (undefined *)0x43ce50;
      FUN_004ae5f0();
      iStackY_14 = 0x43ce61;
      FID_conflict__strcat(&DAT_005d6400,&stack0xfffffff4);
      iStackY_14 = 0x43ce73;
      FID_conflict__strcat(&DAT_005d6400,&DAT_004cb04c);
      iStackY_14 = 0x43ce87;
      FID_conflict___mbscpy(local_10c,&DAT_005d50e0);
      iStackY_14 = 0x43ce9b;
      FID_conflict__strcat(local_10c,&DAT_005d6400);
      iStackY_14 = 0x43ceaf;
      iVar1 = OpenFileWithFixedFlags0x40();
      if (iVar1 == 0) {
        FUN_00475da0();
      }
      else {
        puStackY_18 = &stack0xfffffff8;
        iStackY_14 = 4;
        uStackY_1c = 0x43cec6;
        CopyDataWithLock();
        DAT_004d80ac = (uint)(unaff_ESI != 0);
        DAT_004c9f04 = DAT_004cb05c;
        FUN_0042a450();
        DAT_004d8100 = 1;
        DAT_004d7bbc = 3;
        DAT_005df2d0 = 1;
        FUN_0043f020();
        FUN_004adcf0();
      }
      switch(DAT_005df314) {
      case 3:
        DAT_005df314 = 2;
        return;
      case 5:
        DAT_005df314 = 4;
        return;
      case 7:
        DAT_005df314 = 6;
        return;
      case 9:
        DAT_005df314 = 8;
        return;
      case 0xb:
        DAT_005df314 = 10;
        return;
      case 0xd:
        DAT_005df314 = 0xc;
        return;
      case 0xf:
        DAT_005df314 = 0xe;
        return;
      case 0x11:
        DAT_005df314 = 0x10;
        return;
      case 0x13:
        DAT_005df314 = 0x12;
        return;
      case 0x15:
        DAT_005df314 = 0x14;
      }
    }
  }
  return;
}



bool FUN_0043d070(void)

{
  ushort uVar1;
  void *pvVar2;
  ushort *puVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  size_t sVar7;
  
  LoadHDZFiles();
  sVar7 = 0xe;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0xe);
  DAT_004d80f0 = _memset(pvVar2,iVar6,sVar7);
  if (DAT_004d80f0 == (void *)0x0) {
    return false;
  }
  sVar7 = 0x28;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x28);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)DAT_004d80f0 + 8) = pvVar2;
  iVar6 = 0;
  do {
    iVar6 = iVar6 + 8;
    *(undefined2 *)(*(int *)((int)DAT_004d80f0 + 8) + -8 + iVar6) = 0xffff;
    *(undefined2 *)(*(int *)((int)DAT_004d80f0 + 8) + -6 + iVar6) = 0xffff;
  } while (iVar6 < 0x28);
  sVar7 = 0xf1;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0xf1);
  DAT_005df2c8 = _memset(pvVar2,iVar6,sVar7);
  if (DAT_005df2c8 == (void *)0x0) {
    return false;
  }
  iVar4 = 0;
  for (iVar6 = DAT_004d8150; iVar6 != 0; iVar6 = *(int *)(iVar6 + 0xc)) {
    iVar5 = 0;
    if (*(short *)(iVar6 + 4) != 0) {
      do {
        puVar3 = (ushort *)FUN_004420e0((short)iVar5 + *(short *)(iVar6 + 6),0);
        uVar1 = *puVar3;
        if (((uVar1 < 0xe2) || (0xfb < uVar1)) && (uVar1 != 0)) {
          iVar4 = iVar4 + 1;
        }
        if (puVar3 != (ushort *)0x0) {
          FreeMemory(puVar3);
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < (int)(uint)*(ushort *)(iVar6 + 4));
    }
  }
  sVar7 = iVar4 * 0x140;
  iVar6 = 0;
  DAT_004d80e8 = iVar4;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)DAT_005df2c8 + 8) = pvVar2;
  sVar7 = iVar4 * 2;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)DAT_005df2c8 + 0xc) = pvVar2;
  if (*(int *)((int)DAT_005df2c8 + 8) == 0) {
    return false;
  }
  sVar7 = 0x2c;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x2c);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)DAT_005df2c8 + 4) = pvVar2;
  if (*(int *)((int)DAT_005df2c8 + 4) == 0) {
    return false;
  }
  iVar6 = FUN_0042cc60();
  if (iVar6 == 0) {
    return false;
  }
  sVar7 = 0x328;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x328);
  DAT_005df2cc = _memset(pvVar2,iVar6,sVar7);
  if (DAT_005df2cc == (void *)0x0) {
    return false;
  }
  iVar6 = 0;
  do {
    *(undefined2 *)((int)DAT_005df2cc + iVar6) = 0xffff;
    iVar6 = iVar6 + 8;
  } while (iVar6 < 800);
  sVar7 = 0xa1;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0xa1);
  DAT_004d80cc = _memset(pvVar2,iVar6,sVar7);
  if (DAT_004d80cc == (void *)0x0) {
    return false;
  }
  sVar7 = (*(int *)((int)DAT_005df2c8 + 0xcc) + 1) * 0x158;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
  DAT_004d8068 = _memset(pvVar2,iVar6,sVar7);
  return DAT_004d8068 != (void *)0x0;
}



undefined4 FUN_0043d2c0(void)

{
  short sVar1;
  int iVar2;
  void *_Dst;
  float10 fVar3;
  undefined8 uVar4;
  
  AdjustStackForLargeAllocations();
  DAT_004cb05c = 0;
  FUN_0048daa0();
  DAT_004d80f4 = 0xffffffff;
  DAT_004d80f8 = 0xff333333;
  DAT_004d80fc = 0x7fffffff;
  fVar3 = (float10)FUN_004af9f0();
  if (fVar3 <= (float10)0.0) {
    sVar1 = __ftol();
  }
  else {
    sVar1 = __ftol();
    sVar1 = sVar1 + 1;
  }
  *(short *)(*(int *)(DAT_005df2c8 + 4) + 4) = sVar1;
  fVar3 = (float10)FUN_004af9f0();
  if (fVar3 <= (float10)0.0) {
    sVar1 = __ftol();
  }
  else {
    sVar1 = __ftol();
    sVar1 = sVar1 + 1;
  }
  *(short *)(*(int *)(DAT_005df2c8 + 4) + 6) = sVar1;
  iVar2 = *(int *)(DAT_005df2c8 + 4);
  *(int *)(iVar2 + 8) = (int)*(short *)(iVar2 + 4) * (int)*(short *)(iVar2 + 6);
  iVar2 = FUN_0042dfe0();
  if (iVar2 == 0) {
    return 0;
  }
  if (DAT_00598d7c == 0) {
    uVar4 = 0xd800000000;
    _Dst = (void *)AllocateMemoryWithCallback();
    DAT_005df290 = _memset(_Dst,(int)uVar4,(size_t)((ulonglong)uVar4 >> 0x20));
    if (DAT_005df290 == (void *)0x0) {
      return 0;
    }
    FUN_00440060();
  }
  DAT_004d8100 = 1;
  DAT_005df2d0 = 1;
  FUN_00492780();
  FUN_004a2e60();
  return 1;
}



undefined4 FUN_0043d590(void)

{
  int iVar1;
  undefined4 unaff_EDI;
  char local_108 [232];
  undefined4 uStackY_20;
  undefined4 *puStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_108,&DAT_005d54e0);
  FID_conflict__strcat(local_108,s_LastLoadedHeds_txt_004cb130);
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 != 0) {
    iVar1 = 0;
    do {
      puStackY_1c = (undefined4 *)&stack0xfffffffa;
      uStackY_18 = 2;
      uStackY_20 = 0x43d5f5;
      CopyDataWithLock();
      iVar1 = iVar1 + 8;
      *(short *)(*(int *)(DAT_004d80f0 + 8) + -8 + iVar1) = (short)((uint)unaff_EDI >> 0x10);
    } while (iVar1 < 0x28);
    uStackY_18 = 4;
    puStackY_1c = &DAT_004ca030;
    uStackY_20 = 0x43d621;
    CopyDataWithLock();
    uStackY_18 = 0x43d64c;
    FID_conflict___mbscpy
              (&DAT_005d6540,(char *)(*(int *)(DAT_005df2c8 + 0x10) + DAT_004ca030 * 0x222));
    FUN_004adcf0();
    FUN_0048daa0();
    return 1;
  }
  return 0;
}



void FUN_0043d680(void)

{
  return;
}



void FUN_0043d690(void)

{
  switch(DAT_004cb05c) {
  case 1:
    FUN_0042b620(DAT_004ca030);
    break;
  case 2:
    FUN_0042fa80();
    return;
  case 3:
  case 9:
    FUN_00434560();
    return;
  case 4:
    FUN_0043ea40();
    return;
  case 0xc:
    FUN_0043c490();
    return;
  case 0xd:
    FUN_00436b20();
    return;
  case 0xe:
    FUN_00429cd0();
    return;
  case 0x11:
    FUN_0043cd10();
    return;
  case 0x12:
    FUN_00433840();
    return;
  case 0x14:
    FUN_0042b460();
    return;
  case 0x15:
    FUN_0042db30();
    return;
  }
  return;
}



void FUN_0043d740(void)

{
  switch(DAT_004cb05c) {
  case 1:
    FUN_0042bad0();
    return;
  case 2:
    FUN_0042fbd0();
    return;
  case 3:
  case 9:
    FUN_00435160();
    return;
  case 4:
    FUN_0043eac0();
    return;
  default:
    return;
  case 0xc:
    FUN_0043c4c0();
    return;
  case 0xd:
    FUN_00436bf0();
    return;
  case 0xe:
    FUN_00429cf0();
    return;
  case 0x11:
    FUN_0043cd90();
    return;
  case 0x12:
    FUN_00433890();
    return;
  case 0x13:
    FUN_004295d0();
    return;
  case 0x14:
    FUN_0042b4a0();
    return;
  case 0x15:
    FUN_0042db60();
    return;
  }
}



undefined4 FUN_0043d7f0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar3 = FUN_004858c0();
  DAT_004d8118 = DAT_004d8114;
  DAT_004d8114 = DAT_004cb05c;
  iVar4 = DAT_005df2c8;
  if (iVar3 == 4) {
    DAT_005bb220 = 0;
    FUN_004a3750();
    FUN_004a2440(*DAT_005bbb84);
    FUN_00435760();
    iVar4 = DAT_005df2c8;
    if ((DAT_004cb05c == 1) && (iVar6 = 1, 0 < *(int *)(DAT_005df2c8 + 0xcc))) {
      iVar5 = 0x222;
      do {
        iVar1 = *(int *)(*(int *)(iVar4 + 0x10) + 0x21a + iVar5);
        if (iVar1 != 0) {
          uVar2 = __ftol();
          *(undefined2 *)(iVar1 + 0x10) = uVar2;
          iVar4 = DAT_005df2c8;
          uVar2 = __ftol();
          *(undefined2 *)(*(int *)(*(int *)(iVar4 + 0x10) + 0x21a + iVar5) + 0x12) = uVar2;
          iVar4 = DAT_005df2c8;
        }
        iVar6 = iVar6 + 1;
        iVar5 = iVar5 + 0x222;
      } while (iVar6 <= *(int *)(iVar4 + 0xcc));
    }
  }
  if ((DAT_004cb05c != 3) && (DAT_004cb05c != 9)) {
    FUN_0042a850();
    iVar4 = DAT_005df2c8;
  }
  if (iVar3 == 4) {
    if (((DAT_005dfe2c == 2) && (DAT_004d80e4 != 0)) &&
       (iVar6 = *(int *)(*(int *)(iVar4 + 0x10) + 0x21a + DAT_004ca030 * 0x222), iVar6 != 0)) {
      FUN_0043dcb0((int)*(short *)(iVar6 + 0x10),(int)*(short *)(iVar6 + 0x12),0,0,
                   *(undefined4 *)(DAT_005df290 + 0x7c));
      iVar4 = DAT_005df2c8;
    }
    if ((DAT_005dfe2c == 3) &&
       (iVar4 = *(int *)(*(int *)(iVar4 + 0x10) + 0x21a + DAT_004ca030 * 0x222), iVar4 != 0)) {
      FUN_0043dcb0((int)*(short *)(iVar4 + 0x10),(int)*(short *)(iVar4 + 0x12),0,0,
                   *(undefined4 *)(DAT_005df290 + 0x7c));
    }
  }
  switch(DAT_004cb05c) {
  case 1:
    FUN_0042c060(*(undefined4 *)(DAT_005e5010 + 8),param_2);
    break;
  case 2:
    FUN_0042f760();
    FUN_0042f6e0(*(undefined4 *)(DAT_005e5010 + 8),param_2);
    break;
  case 4:
    FUN_0043f3f0(*(undefined4 *)(DAT_005e5010 + 8),param_2);
    break;
  case 0xc:
    FUN_0043b190();
    break;
  case 0xd:
    FUN_00435950();
    break;
  case 0xe:
    FUN_0042a290();
    break;
  case 0x11:
    FUN_0043cac0();
    break;
  case 0x12:
    FUN_00433d40();
    break;
  case 0x13:
    FUN_00429630();
    break;
  case 0x14:
    FUN_0042b430();
    break;
  case 0x15:
    FUN_0042dae0();
    break;
  case 0x16:
    iVar4 = FUN_0042a850();
    if (iVar4 != 0) {
      FUN_0042a630();
      DAT_004cb05c = DAT_004d7cd0;
    }
  }
  if (iVar3 == 4) {
    FUN_0043db20(0);
    if ((DAT_004cb05c != 3) && (DAT_004cb05c != 9)) {
      FUN_004923e0();
    }
    if (DAT_004d8114 != DAT_004d8118) {
      FUN_0043f430();
      *(undefined *)(DAT_005df2c8 + 0xf0) = 0;
    }
    if (DAT_004cb05c != 0x13) {
      FUN_0043f550();
    }
  }
  return 1;
}



void FUN_0043db20(int param_1)

{
  undefined local_44 [16];
  undefined4 uStackY_34;
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  uint uStackY_1c;
  
  AdjustStackForLargeAllocations();
  if ((DAT_004cb05c != DAT_004d8110) || (param_1 != 0)) {
    uStackY_1c = 0x43db57;
    _memset(local_44,0,0x3d);
    local_2c = CONCAT13(local_2c._3_1_,0x30000);
    local_27 = 0x3f;
    local_25 = 0x26;
    uStackY_24 = 0;
    local_23 = 0xe5;
    local_21 = 0xe;
    uStackY_20 = 0;
    local_1f = 0;
    local_1d = 0;
    uStackY_1c = uStackY_1c & 0xffffff00;
    FUN_00492720();
    if (param_1 == 0) {
      switch(DAT_004cb05c) {
      case 1:
        local_2c = DAT_005ded0c;
        break;
      case 2:
        local_2c = DAT_005ded54;
        break;
      case 3:
        local_2c = DAT_005deda0;
        break;
      default:
        goto switchD_0043dbb4_caseD_4;
      case 9:
        local_2c = DAT_005deda4;
        break;
      case 0xc:
        local_2c = DAT_005dedfc;
        break;
      case 0x12:
        local_2c = DAT_005ded14;
      }
    }
    else {
      local_2c = param_1;
    }
    uStackY_1c = 1;
    local_1d = 0;
    local_1f = 0;
    uStackY_20 = 5;
    local_21 = 0;
    local_23 = 2;
    uStackY_24 = 0x58;
    local_25 = 0;
    local_27 = 0;
    uStackY_28 = 0;
    uStackY_30 = 2;
    uStackY_34 = 0x43dc6a;
    FUN_00492100();
  }
switchD_0043dbb4_caseD_4:
  DAT_004d8110 = DAT_004cb05c;
  return;
}



undefined4 FUN_0043dcb0(undefined4 *param_1,int param_2,int param_3,int param_4,int *param_5)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  undefined4 local_94;
  undefined4 local_90;
  int local_8c;
  int local_88;
  undefined4 uStack_2c;
  int *local_28;
  undefined4 **local_24;
  int *local_20;
  int **local_1c;
  int *local_18;
  undefined4 *local_14;
  
  AdjustStackForLargeAllocations();
  local_18 = (int *)0x0;
  if (param_5 != (int *)0x0) {
    if ((param_3 == 0) || (param_4 == 0)) {
      local_14 = &local_94;
      local_18 = param_5;
      local_94 = 0x6c;
      local_90 = 6;
      local_1c = (int **)0x43dcff;
      (**(code **)(*param_5 + 0x58))();
      param_4 = local_8c;
      param_3 = local_88;
    }
    local_28 = (int *)0x0;
    local_24 = (undefined4 **)0x0;
    local_20 = (int *)param_3;
    local_1c = (int **)param_4;
    if (param_5 == DAT_005bcb30) {
      local_14 = param_1;
      iVar2 = param_4 + param_2;
      iVar3 = param_3 + (int)param_1;
    }
    else {
      local_14 = (undefined4 *)0x43dd30;
      param_2 = __ftol();
      local_14 = (undefined4 *)0x43dd41;
      __ftol();
      local_14 = (undefined4 *)0x43dd5b;
      iVar2 = __ftol();
      local_14 = (undefined4 *)0x43dd77;
      iVar3 = __ftol();
    }
    if (((((-1 < param_2) || (0 < iVar2)) &&
         ((iVar1 = *(int *)(DAT_005e5010 + 0x253c), param_2 < iVar1 || (iVar2 <= iVar1)))) &&
        ((-1 < (int)local_14 || (0 < iVar3)))) &&
       (((int)local_14 < *(int *)(DAT_005e5010 + 0x2538) ||
        (iVar3 <= *(int *)(DAT_005e5010 + 0x2538))))) {
      if (iVar1 < iVar2) {
        iVar5 = iVar2 - iVar1;
        if (param_4 <= iVar5) {
          return 0;
        }
        iVar2 = iVar1 + -1;
        local_1c = (int **)(param_4 - iVar5);
      }
      iVar1 = *(int *)(DAT_005e5010 + 0x2538);
      if (iVar1 < iVar3) {
        local_18 = (int *)(iVar3 - iVar1);
        if (param_3 <= (int)local_18) {
          return 0;
        }
        local_20 = (int *)(param_3 - (int)local_18);
        iVar3 = iVar1 + -1;
      }
      if ((int)local_14 < 0) {
        local_18 = (int *)-(int)local_14;
        if ((int)local_20 <= (int)local_18) {
          return 0;
        }
        local_14 = (undefined4 *)0x0;
      }
      if (param_2 < 0) {
        if ((int)local_1c <= (int)local_18) {
          return 0;
        }
        param_2 = 0;
      }
      if ((((iVar2 <= *(int *)(DAT_005e5010 + 0x253c)) && (iVar3 <= *(int *)(DAT_005e5010 + 0x2538))
           ) && (iVar2 != param_2 && -1 < iVar2 - param_2)) &&
         (((0 < iVar3 - (int)local_14 && (0 < (int)local_1c)) &&
          ((0 < (int)local_20 && (*param_5 != 0)))))) {
        local_14 = (undefined4 *)0x0;
        local_1c = &local_28;
        local_18 = (int *)0x1008000;
        local_28 = *(int **)(DAT_005e5010 + 0x7b0);
        local_20 = param_5;
        local_24 = &local_14;
        uStack_2c = 0x43deca;
        uVar4 = (**(code **)(*local_28 + 0x14))();
        return uVar4;
      }
    }
  }
  return 0;
}



void FUN_0043dee0(int param_1)

{
  if (param_1 == 0) {
    DAT_004cb05c = 0;
  }
  else {
    if (param_1 == 1) {
      DAT_004cb05c = 0x14;
      DAT_004d8100 = 1;
      return;
    }
    if (param_1 == 2) {
      FUN_00453440(&DAT_005d6400,0);
      FUN_00454a20(0);
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      DAT_004cb05c = 1;
      return;
    }
  }
  return;
}



void FUN_0043df50(void)

{
  FUN_004858c0();
  if (((DAT_004cb05c == 2) || (DAT_004cb05c == 3)) || (DAT_004cb05c == 9)) {
    if (*(int *)(*(int *)(DAT_004d80f0 + 8) + 4) != 0) {
      FUN_00435810(1,0x3f800000,0x165,399);
      FUN_0043dcb0(0x16c,0x195,0x20,0x20,*(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 4));
    }
    if (*(int *)(*(int *)(DAT_004d80f0 + 8) + 0xc) != 0) {
      FUN_00435810(1,0x3f800000,0x192,399);
      FUN_0043dcb0(0x199,0x195,0x20,0x20,*(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 0xc));
    }
    if (*(int *)(*(int *)(DAT_004d80f0 + 8) + 0x14) != 0) {
      FUN_00435810(1,0x3f800000,0x1be,399);
      FUN_0043dcb0(0x1c5,0x195,0x20,0x20,*(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 0x14));
    }
    if (*(int *)(*(int *)(DAT_004d80f0 + 8) + 0x1c) != 0) {
      FUN_00435810(1,0x3f800000,0x1ea,399);
      FUN_0043dcb0(0x1f1,0x195,0x20,0x20,*(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 0x1c));
    }
    if (*(int *)(*(int *)(DAT_004d80f0 + 8) + 0x24) != 0) {
      FUN_00435810(1,0x3f800000,0x217,399);
      FUN_0043dcb0(0x21e,0x195,0x20,0x20,*(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + 0x24));
    }
  }
  return;
}



void FUN_0043e0f0(void)

{
  return;
}



void FUN_0043e100(void)

{
  void *_Dst;
  undefined4 uVar1;
  int _Val;
  size_t _Size;
  
  if (DAT_004d8104 == (undefined4 *)0x0) {
    _Size = 0x30;
    _Val = 0;
    _Dst = (void *)AllocateMemoryWithCallback(0x30);
    DAT_004d8104 = (undefined4 *)_memset(_Dst,_Val,_Size);
    if (DAT_004d8104 != (undefined4 *)0x0) {
      uVar1 = FUN_00440fa0(0x26,0);
      *DAT_004d8104 = uVar1;
    }
  }
  return;
}



void FUN_0043e140(void)

{
  if ((DAT_004d8104 == (undefined4 *)0x0) && (FUN_0043e100(), DAT_004d8104 == (undefined4 *)0x0)) {
    return;
  }
  (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 0x14))
            (*(int **)(DAT_005e5010 + 0x7b0),0,*DAT_004d8104,0,0x1000000,0);
  return;
}



undefined4 FUN_0043e190(void)

{
  return 1;
}



void FUN_0043e1a0(void)

{
  if ((DAT_004cb05c != 0) && (DAT_004cb05c != 7)) {
    FUN_0043e190();
  }
  return;
}



void FUN_0043e1c0(void)

{
  undefined4 uVar1;
  
  if (DAT_004d811c != 0) goto LAB_0043e239;
  if (DAT_005df2fc < 0xb) {
    if (DAT_005df2fc == 10) {
      uVar1 = 0xaf;
    }
    else {
      if (DAT_005df2fc != 7) goto LAB_0043e216;
      uVar1 = 0xb2;
    }
  }
  else if (DAT_005df2fc < 0x14) {
    if (DAT_005df2fc == 0x13) {
      uVar1 = 0xb1;
    }
    else if (DAT_005df2fc == 0x10) {
      uVar1 = 0xad;
    }
    else {
LAB_0043e216:
      uVar1 = 0x1e;
    }
  }
  else if (DAT_005df2fc == 0x1d) {
    uVar1 = 0xae;
  }
  else {
    if (DAT_005df2fc != 0x40c) goto LAB_0043e216;
    uVar1 = 0xb0;
  }
  DAT_004d811c = FUN_00440fa0(uVar1,0);
LAB_0043e239:
  (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 0x14))
            (*(int **)(DAT_005e5010 + 0x7b0),0,DAT_004d811c,0,0x1000000,0);
  FUN_00414850(DAT_005d6518 != 0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0043e270(void)

{
  ushort uVar1;
  short sVar2;
  undefined2 *puVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  ushort *puVar9;
  short *psVar10;
  int iVar11;
  bool bVar12;
  int iVar13;
  
  AdjustStackForLargeAllocations();
  iVar7 = *(int *)(DAT_005df318 + 4);
  iVar11 = 0;
  iVar13 = 0;
  *(undefined *)(DAT_004ca030 * 0x37 + DAT_005b9440) = 1;
  iVar5 = DAT_004d80f0;
  if ((DAT_00598f20 != 0) || (DAT_004d8248 != 0)) {
    iVar7 = 0;
    do {
      iVar7 = iVar7 + 8;
      *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -8 + iVar7) = 0xffff;
      *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -6 + iVar7) = 0xffff;
      *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + -4 + iVar7) = 0;
    } while (iVar7 < 0x28);
    return;
  }
  iVar8 = 0;
  do {
    iVar4 = iVar8 + 8;
    *(undefined2 *)((int)&DAT_005df2a0 + iVar8) = *(undefined2 *)(iVar8 + *(int *)(iVar5 + 8));
    *(undefined2 *)((int)&DAT_005df2a2 + iVar8) = *(undefined2 *)(iVar8 + 2 + *(int *)(iVar5 + 8));
    iVar8 = iVar4;
  } while (iVar4 < 0x28);
  *(undefined4 *)(DAT_005df2c8 + 0xec) = 0;
  iVar5 = 0;
  do {
    if (*(int *)(iVar5 + 0x175 + *(int *)(iVar7 + 4)) != 0) {
      *(int *)(DAT_005df2c8 + 0xec) = *(int *)(DAT_005df2c8 + 0xec) + 1;
    }
    iVar5 = iVar5 + 4;
  } while (iVar5 < 0x14);
  iVar5 = 0x1b;
  piVar6 = (int *)(*(int *)(iVar7 + 4) + 0x109);
  do {
    if (*piVar6 != 0) {
      iVar13 = iVar13 + 1;
    }
    piVar6 = piVar6 + 1;
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  iVar5 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
  iVar8 = iVar5;
  if (0 < iVar5) {
    do {
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
  }
  iVar8 = 0;
  if (0 < iVar5) {
    iVar5 = 0;
    do {
      iVar8 = iVar8 + 1;
      *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x122 + iVar5) = 0;
      iVar5 = iVar5 + 0x140;
    } while (iVar8 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
  }
  if ((DAT_005e45d0 == 0) && (_DAT_004d7bc0 == 0)) {
    if (0 < *(int *)(DAT_005df2c8 + 0xec)) {
      iVar5 = 0;
      do {
        puVar3 = *(undefined2 **)(iVar5 + 0x175 + *(int *)(iVar7 + 4));
        if (puVar3 != (undefined2 *)0x0) {
          FUN_00435700(*puVar3,3);
          bVar12 = true;
          uVar1 = **(ushort **)(iVar5 + 0x175 + *(int *)(iVar7 + 4));
          psVar10 = *(short **)(DAT_004d80f0 + 8);
          iVar11 = 5;
          do {
            if ((int)*psVar10 == (uint)uVar1) {
              bVar12 = false;
            }
            psVar10 = psVar10 + 4;
            iVar11 = iVar11 + -1;
          } while (iVar11 != 0);
          if (bVar12) {
            iVar8 = 0;
            iVar11 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
            if (0 < iVar11) {
              puVar9 = (ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14);
              do {
                if (*puVar9 == uVar1) {
                  *(undefined *)(iVar8 * 0x140 + 0x122 + *(int *)(DAT_005df2c8 + 8)) = 1;
                  break;
                }
                iVar8 = iVar8 + 1;
                puVar9 = puVar9 + 0xa0;
              } while (iVar8 < iVar11);
            }
          }
        }
        iVar5 = iVar5 + 4;
      } while (iVar5 < 0x14);
      if (0 < iVar13) {
        iVar5 = 0;
        do {
          psVar10 = *(short **)(iVar5 + 0x109 + *(int *)(iVar7 + 4));
          if (psVar10 != (short *)0x0) {
            iVar13 = 0;
            iVar11 = *(int *)(*(int *)(DAT_005df2c8 + 4) + 8);
            if (0 < iVar11) {
              sVar2 = *psVar10;
              psVar10 = (short *)(*(int *)(DAT_005df2c8 + 8) + 0x14);
              do {
                if (sVar2 == *psVar10) {
                  if (*(int *)(iVar13 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) != 0) {
                    FUN_00435700(sVar2,0);
                    bVar12 = true;
                    psVar10 = *(short **)(DAT_004d80f0 + 8);
                    iVar11 = 5;
                    do {
                      if ((int)*psVar10 == (uint)**(ushort **)(iVar5 + 0x109 + *(int *)(iVar7 + 4)))
                      {
                        bVar12 = false;
                      }
                      psVar10 = psVar10 + 4;
                      iVar11 = iVar11 + -1;
                    } while (iVar11 != 0);
                    if (bVar12) {
                      *(undefined *)(*(int *)(DAT_005df2c8 + 8) + 0x122 + iVar13 * 0x140) = 1;
                    }
                  }
                  break;
                }
                iVar13 = iVar13 + 1;
                psVar10 = psVar10 + 0xa0;
              } while (iVar13 < iVar11);
            }
          }
          iVar5 = iVar5 + 4;
        } while (iVar5 < 0x6c);
      }
    }
  }
  else if (0 < *(int *)(DAT_005df2c8 + 0xec)) {
    do {
      *(short *)(DAT_004d80f0 + 0xc) = (short)iVar11;
      sVar2 = *(short *)(*(int *)(DAT_004d80f0 + 8) + iVar11 * 8);
      if (sVar2 != -1) {
        FUN_00435700((int)sVar2,1);
      }
      iVar11 = iVar11 + 1;
    } while (iVar11 < 5);
  }
  iVar7 = 0;
  do {
    iVar7 = iVar7 + 8;
    *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -8 + iVar7) = 0xffff;
    *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + -6 + iVar7) = 0xffff;
    *(undefined4 *)(*(int *)(DAT_004d80f0 + 8) + -4 + iVar7) = 0;
  } while (iVar7 < 0x28);
  iVar5 = 0;
  *(undefined4 *)(DAT_005df2c8 + 0xe8) = 0;
  iVar7 = DAT_005df2c8;
  if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
    iVar11 = 0;
    do {
      if (*(int *)(*(int *)(iVar7 + 8) + 0x11a + iVar11) == 0) {
        *(int *)(iVar7 + 0xe8) = *(int *)(iVar7 + 0xe8) + 1;
        iVar7 = DAT_005df2c8;
      }
      iVar5 = iVar5 + 1;
      iVar11 = iVar11 + 0x140;
    } while (iVar5 < *(int *)(*(int *)(iVar7 + 4) + 8));
  }
  if (((DAT_005e45d0 == 0) && (_DAT_004d7bc0 == 0)) && (0 < *(int *)(iVar7 + 0xec))) {
    if (DAT_004d24f0 != '\0') {
      FUN_0042cbe0();
    }
    iVar7 = 0;
    DAT_004d80cc[3] = *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399);
    *(undefined4 *)(DAT_004d80f0 + 4) = 0;
    if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
      iVar11 = 0;
      iVar5 = DAT_005df2c8;
      do {
        if (*(int *)(*(int *)(iVar5 + 8) + 0x11a + iVar11) == 0) {
          piVar6 = (int *)(DAT_004d80f0 + 4);
          iVar5 = FUN_004358d0(iVar7);
          *piVar6 = *piVar6 + iVar5;
          iVar5 = DAT_005df2c8;
        }
        iVar7 = iVar7 + 1;
        iVar11 = iVar11 + 0x140;
      } while (iVar7 < *(int *)(*(int *)(iVar5 + 4) + 8));
    }
    DAT_004d80cc[5] = DAT_004d80cc[2] + DAT_004d80cc[3];
    *(int *)(DAT_004d80f0 + 4) = *(int *)(DAT_004d80f0 + 4) + DAT_004d80cc[5];
    iVar7 = FUN_004337f0(DAT_004ca030,DAT_004d80cc[5]);
    DAT_004d80cc[0x13] = iVar7;
    if (0 < DAT_004d80cc[0x13]) {
      _memset(&DAT_005df340,0,0x100);
      FUN_00433700(DAT_004ca030,DAT_004d80cc[5]);
      FUN_004335d0();
    }
    DAT_004d80cc[0x14] = DAT_004ca030;
    DAT_004d80cc[6] = DAT_004d80cc[6] + *DAT_004d80cc;
    DAT_004d80cc[7] = DAT_004d80cc[7] + DAT_004d80cc[1];
    DAT_004d80cc[8] = DAT_004d80cc[8] + DAT_004d80cc[2];
    DAT_004d80cc[9] = DAT_004d80cc[9] + DAT_004d80cc[3];
    DAT_004d80cc[10] = DAT_004d80cc[10] + DAT_004d80cc[4];
    DAT_004d80cc[0xb] = DAT_004d80cc[0xb] + DAT_004d80cc[5];
    if (((DAT_004ca030 == 6) || (DAT_004ca030 == 0xb)) ||
       ((DAT_004ca030 == 0x10 || (DAT_004ca030 == 0x15)))) {
      DAT_004d80cc[0xc] = *DAT_004d80cc;
      DAT_004d80cc[0xd] = DAT_004d80cc[1];
      DAT_004d80cc[0xe] = DAT_004d80cc[2];
      DAT_004d80cc[0xf] = DAT_004d80cc[3];
      DAT_004d80cc[0x10] = DAT_004d80cc[4];
      DAT_004d80cc[0x11] = DAT_004d80cc[5];
      iVar7 = DAT_005df2c8;
    }
    else {
      DAT_004d80cc[0xc] = DAT_004d80cc[0xc] + *DAT_004d80cc;
      DAT_004d80cc[0xd] = DAT_004d80cc[0xd] + DAT_004d80cc[1];
      DAT_004d80cc[0xe] = DAT_004d80cc[0xe] + DAT_004d80cc[2];
      DAT_004d80cc[0xf] = DAT_004d80cc[0xf] + DAT_004d80cc[3];
      DAT_004d80cc[0x10] = DAT_004d80cc[0x10] + DAT_004d80cc[4];
      DAT_004d80cc[0x11] = DAT_004d80cc[0x11] + DAT_004d80cc[5];
      iVar7 = DAT_005df2c8;
    }
  }
  else {
    iVar5 = 0;
    if (0 < *(int *)(*(int *)(iVar7 + 4) + 8)) {
      iVar11 = 0;
      do {
        if (*(short *)(*(int *)(iVar7 + 0xc) + iVar5 * 2) != 0) {
          *(undefined4 *)(*(int *)(iVar7 + 8) + 0x11a + iVar11) = 0;
          iVar7 = DAT_005df2c8;
        }
        iVar5 = iVar5 + 1;
        iVar11 = iVar11 + 0x140;
      } while (iVar5 < *(int *)(*(int *)(iVar7 + 4) + 8));
    }
  }
  _memset(*(void **)(iVar7 + 0xc),0,*(size_t *)(*(int *)(iVar7 + 4) + 8));
  return;
}



void FUN_0043e8e0(void)

{
  return;
}



void FUN_0043e8f0(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = 0x38;
  iVar2 = DAT_005df2c8;
  do {
    if (*(int *)(iVar2 + iVar1) != 0) {
      *(undefined4 *)(iVar2 + iVar1) = 0;
      iVar2 = DAT_005df2c8;
    }
    iVar1 = iVar1 + 4;
  } while (iVar1 < 0x60);
  return;
}



void FUN_0043e920(void)

{
  FUN_0043e8e0();
  FUN_00429330();
  FUN_00431c80();
  if (*(int *)(DAT_005df2c8 + 0x10) != 0) {
    FreeMemory(*(int *)(DAT_005df2c8 + 0x10));
    *(undefined4 *)(DAT_005df2c8 + 0x10) = 0;
  }
  if (DAT_005df2c8 != 0) {
    FreeMemory(DAT_005df2c8);
    DAT_005df2c8 = 0;
  }
  FUN_0042b190();
  FUN_0043ffb0();
  FUN_00434070();
  if (DAT_005df2cc != 0) {
    FreeMemory(DAT_005df2cc);
    DAT_005df2cc = 0;
  }
  if (DAT_004d80cc != 0) {
    FreeMemory(DAT_004d80cc);
    DAT_004d80cc = 0;
  }
  if (DAT_004d80f0 != 0) {
    if (*(int *)(DAT_004d80f0 + 8) != 0) {
      FreeMemory(*(int *)(DAT_004d80f0 + 8));
      *(undefined4 *)(DAT_004d80f0 + 8) = 0;
    }
    if (DAT_004d80f0 != 0) {
      FreeMemory(DAT_004d80f0);
      DAT_004d80f0 = 0;
    }
  }
  FUN_00416240();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0043e9f0(void)

{
  _DAT_005df2d8 = (float)*(int *)(DAT_005e5010 + 0x2538) * 0.0015625;
  _DAT_005df2d4 = (float)*(int *)(DAT_005e5010 + 0x253c) * 0.002083333;
  FUN_00427b50();
  return 1;
}



undefined4 FUN_0043ea30(void)

{
  FUN_00429330();
  return 1;
}



void FUN_0043ea40(void)

{
  if (DAT_004d812c < 1) {
    switch(DAT_005df28c) {
    case 1:
    case 3:
    case 5:
    case 7:
    case 9:
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x13:
    case 0x15:
      DAT_004d812c = 3;
    }
  }
  return;
}



void FUN_0043eac0(void)

{
  int iVar1;
  char local_108 [244];
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  if (DAT_004d8100 != 0) {
    DAT_005df28c = 0;
    uStackY_14 = 0x43eaf1;
    _memset(&DAT_005d6400,0,0x100);
    DAT_004d8100 = 0;
  }
  if ((0 < DAT_004d812c) && (DAT_004d812c = DAT_004d812c + -1, DAT_004d812c == 0)) {
    switch(DAT_005df28c) {
    case 1:
      FUN_0042a450();
      DAT_005df2d0 = 1;
      FUN_0043f020();
      DAT_005df28c = 0;
      return;
    case 3:
    case 5:
    case 7:
    case 9:
    case 0xb:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x13:
    case 0x15:
      FID_conflict___mbscpy(&DAT_005d6400,s_SaveGame_004cb1fc);
      FUN_0043f290();
      uStackY_14 = 0x43eb80;
      FUN_004ae5f0();
      FID_conflict__strcat(&DAT_005d6400,&stack0xfffffff8);
      FID_conflict__strcat(&DAT_005d6400,&DAT_004cb208);
      FID_conflict___mbscpy(local_108,&DAT_005d50e0);
      FID_conflict__strcat(local_108,&DAT_005d6400);
      iVar1 = OpenFileWithFixedFlags0x40();
      if (iVar1 == 0) {
        FUN_004858f0();
        FUN_0048daa0();
        FUN_0042a450();
        DAT_004d8100 = 1;
        DAT_005df2d0 = 1;
        FUN_0043f020();
        FUN_00475da0();
      }
      else {
        FUN_004adcf0();
        DAT_004c9f04 = DAT_004cb05c;
        FUN_0042a450();
        DAT_004d8100 = 1;
        DAT_004d7bbc = 1;
        DAT_005df2d0 = 1;
        FUN_0043f020();
      }
      switch(DAT_005df28c) {
      case 3:
        DAT_005df28c = 2;
        return;
      case 5:
        DAT_005df28c = 4;
        return;
      case 7:
        DAT_005df28c = 6;
        return;
      case 9:
        DAT_005df28c = 8;
        return;
      case 0xb:
        DAT_005df28c = 10;
        return;
      case 0xd:
        DAT_005df28c = 0xc;
        return;
      case 0xf:
        DAT_005df28c = 0xe;
        return;
      case 0x11:
        DAT_005df28c = 0x10;
        return;
      case 0x13:
        DAT_005df28c = 0x12;
        return;
      case 0x15:
        DAT_005df28c = 0x14;
      }
    }
  }
  return;
}



undefined4 FUN_0043eda0(void)

{
  undefined4 uVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  iVar3 = FUN_0042abb0(DAT_005df290[2],0x32,0x15,0x36);
  iVar5 = 0;
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 1;
    *(undefined2 *)(iVar3 + 0x24) = 1;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[1],0x32,0x4a,0x35);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 1;
    *(undefined2 *)(iVar3 + 0x24) = 2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(*DAT_005df290,0x1eb,0x15,0x34);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 2;
    *(undefined2 *)(iVar3 + 0x24) = 0x16;
    *(undefined2 *)(iVar3 + 0x3a) = 0;
    uVar1 = DAT_005df290[0x15];
    *(undefined2 *)(iVar3 + 0x26) = 0x16;
    *(undefined4 *)(iVar3 + 4) = uVar1;
    *(undefined *)(iVar3 + 0x28) = 2;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[0x25],0xa5,0xb1,0x67);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 3;
    *(undefined2 *)(iVar3 + 10) = 1;
  }
  FUN_0042a520(iVar3);
  iVar3 = FUN_0042abb0(DAT_005df290[0x22],0xa5,0xd4,0x94);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 3;
  }
  FUN_0042a520(iVar3);
  iVar3 = 0x100;
  do {
    iVar4 = FUN_0042abb0(DAT_005df290[0x22],0xa5,iVar3,0x94);
    if (iVar4 != 0) {
      sVar2 = (short)iVar5 + 1;
      *(undefined4 *)(iVar4 + 0x20) = 1;
      *(short *)(iVar4 + 10) = sVar2;
      *(short *)(iVar4 + 0x3a) = sVar2 * 2;
      *(undefined4 *)(iVar4 + 4) = DAT_005df290[0x23];
      FUN_004ae5f0(iVar5 + 1,&stack0xfffffff8,10);
      FID_conflict___mbscpy((char *)(iVar4 + 0x29),&stack0xfffffff8);
      *(undefined *)(iVar4 + 0x39) = 2;
    }
    FUN_0042a520(iVar4);
    iVar4 = FUN_0042abb0(DAT_005df290[0x22],0x141,iVar3,0x94);
    if (iVar4 != 0) {
      sVar2 = (short)iVar5 + 6;
      *(undefined4 *)(iVar4 + 0x20) = 2;
      *(short *)(iVar4 + 10) = sVar2;
      *(short *)(iVar4 + 0x3a) = sVar2 * 2;
      *(undefined4 *)(iVar4 + 4) = DAT_005df290[0x23];
      FUN_004ae5f0(iVar5 + 6,&stack0xfffffff8,10);
      FID_conflict___mbscpy((char *)(iVar4 + 0x29),&stack0xfffffff8);
      *(undefined *)(iVar4 + 0x39) = 2;
    }
    FUN_0042a520(iVar4);
    iVar3 = iVar3 + 0x23;
    iVar5 = iVar5 + 1;
  } while (iVar3 < 0x1af);
  iVar3 = FUN_0042abb0(DAT_005df290[0x24],0x111,0x5f,0x96);
  if (iVar3 != 0) {
    *(undefined4 *)(iVar3 + 0x20) = 3;
  }
  FUN_0042a520(iVar3);
  FUN_0042a630();
  return 1;
}



void FUN_0043f020(void)

{
  FUN_0042a470();
  FUN_0042a770();
  FUN_0042a490();
  return;
}



void FUN_0043f030(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int local_20;
  int iStack_1c;
  int *piStack_18;
  undefined4 uStack_14;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  iVar4 = 0;
  if (DAT_005df2d0 == 1) {
    uStack_14 = 0x43f056;
    FUN_0043eda0();
    uStack_14 = 0x43f05b;
    FUN_00437c30();
    DAT_005df28c = 2;
    uStack_14 = DAT_005dedb4;
    piStack_18 = (int *)0x43f070;
    FUN_0043db20();
    DAT_005df2d0 = 0;
  }
  uStack_14 = 0x43f07e;
  FUN_0043df50();
  uStack_14 = 0x43f083;
  FUN_0042a470();
  for (iVar1 = *(int *)(DAT_004d7cd4 + 8); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x46)) {
    if ((*(short *)(iVar1 + 10) == 1) && (*(short *)(iVar1 + 8) == 0x67)) {
      iVar3 = iVar1;
    }
    if ((*(short *)(iVar1 + 10) == 0) && (*(short *)(iVar1 + 8) == 0x94)) {
      iVar4 = iVar1;
    }
  }
  uStack_14 = 0x43f0c8;
  iVar2 = FUN_0043f290();
  uStack_14 = *(undefined4 *)(DAT_005df2c8 + 0x38 + iVar2 * 4);
  piStack_18 = (int *)0x0;
  iStack_1c = 0;
  local_20 = 0x66;
  FUN_0043dcb0(0x118);
  iVar1 = *(int *)(DAT_005df2c8 + 0x60 + iVar2 * 4);
  if (((0 < iVar1) && (iVar3 != 0)) && (iVar4 != 0)) {
    uStack_14 = 0;
    piStack_18 = (int *)0x0;
    iStack_1c = *(short *)(iVar3 + 0x16) + -8 + ((int)*(short *)(iVar3 + 0xe) >> 1);
    local_20 = *(short *)(iVar3 + 0x14) + 0xf;
    FUN_00428d60(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + iVar1 * 0x222);
    piStack_18 = &local_20;
    iStack_1c = *(undefined4 *)(DAT_005df2c8 + 0x88 + iVar2 * 4);
    uStack_14 = 10;
    local_20 = 0x43f15b;
    FUN_004ae5f0();
    iStack_1c = *(short *)(iVar4 + 0x16) + -8 + ((int)*(short *)(iVar4 + 0xe) >> 1);
    uStack_14 = 0;
    piStack_18 = (int *)0x0;
    local_20 = *(short *)(iVar4 + 0x14) + 0xf;
    FUN_00428d60(&local_20);
  }
  uStack_14 = 0x43f18a;
  FUN_0042a490();
  uStack_14 = DAT_005df28c;
  piStack_18 = (int *)0x43f196;
  FUN_0042aea0();
  uStack_14 = 0x43f19e;
  FUN_0043f430();
  uStack_14 = 0x43f1a3;
  FUN_0043f1b0();
  return;
}



void FUN_0043f1b0(void)

{
  undefined local_44 [20];
  undefined4 uStackY_30;
  undefined4 local_2c;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  uint uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df28c != DAT_004d8124) {
    FUN_00492720();
    uStackY_18 = 0x43f1e9;
    _memset(local_44,0,0x3d);
    local_2c = CONCAT13(local_2c._3_1_,0x30000);
    local_27 = 0x3f;
    local_25 = 0x5b;
    uStackY_24 = 0;
    local_23 = 0xa5;
    local_21 = 0xe;
    uStackY_20 = 0;
    local_1f = 0;
    local_1d = 0;
    uStackY_1c = uStackY_1c & 0xffffff00;
    FUN_00492720();
    FUN_00492720();
    if (DAT_005df28c == 0) {
      uStackY_28 = (undefined)DAT_005ded58;
      local_27 = (undefined2)((uint)DAT_005ded58 >> 8);
      local_25 = (undefined)((uint)DAT_005ded58 >> 0x18);
    }
    else {
      uStackY_28 = (undefined)DAT_005ded1c;
      local_27 = (undefined2)((uint)DAT_005ded1c >> 8);
      local_25 = (undefined)((uint)DAT_005ded1c >> 0x18);
    }
    uStackY_18 = 1;
    uStackY_1c = 5;
    local_1d = 0;
    local_1f = 2;
    uStackY_20 = 0x58;
    local_21 = 0;
    local_23 = 0;
    uStackY_24 = 0;
    local_2c = 1;
    uStackY_30 = 0x43f26b;
    FUN_00492100();
  }
  if (DAT_005df28c != 1) {
    DAT_004d8124 = DAT_005df28c;
  }
  return;
}



undefined4 FUN_0043f290(void)

{
  if (DAT_004cb05c == 4) {
    switch(DAT_005df28c) {
    case 4:
    case 5:
      goto switchD_0043f2b4_caseD_1b;
    case 6:
    case 7:
      goto switchD_0043f2b4_caseD_1d;
    case 8:
    case 9:
      goto switchD_0043f2b4_caseD_1f;
    case 10:
    case 0xb:
      goto switchD_0043f2b4_caseD_21;
    case 0xc:
    case 0xd:
      goto switchD_0043f2b4_caseD_23;
    case 0xe:
    case 0xf:
      goto switchD_0043f2b4_caseD_25;
    case 0x10:
    case 0x11:
      goto switchD_0043f2b4_caseD_27;
    case 0x12:
    case 0x13:
      goto switchD_0043f2b4_caseD_29;
    case 0x14:
    case 0x15:
      goto switchD_0043f2b4_caseD_2b;
    }
  }
  else if (DAT_004cb05c == 0x11) {
    switch(DAT_005df314) {
    case 4:
    case 5:
      goto switchD_0043f2b4_caseD_1b;
    case 6:
    case 7:
      goto switchD_0043f2b4_caseD_1d;
    case 8:
    case 9:
      goto switchD_0043f2b4_caseD_1f;
    case 10:
    case 0xb:
      goto switchD_0043f2b4_caseD_21;
    case 0xc:
    case 0xd:
      goto switchD_0043f2b4_caseD_23;
    case 0xe:
    case 0xf:
      goto switchD_0043f2b4_caseD_25;
    case 0x10:
    case 0x11:
      goto switchD_0043f2b4_caseD_27;
    case 0x12:
    case 0x13:
      goto switchD_0043f2b4_caseD_29;
    case 0x14:
    case 0x15:
      goto switchD_0043f2b4_caseD_2b;
    }
  }
  else {
    switch(DAT_004d809c) {
    case 0x1b:
    case 0x1c:
switchD_0043f2b4_caseD_1b:
      return 1;
    case 0x1d:
    case 0x1e:
switchD_0043f2b4_caseD_1d:
      return 2;
    case 0x1f:
    case 0x20:
switchD_0043f2b4_caseD_1f:
      return 3;
    case 0x21:
    case 0x22:
switchD_0043f2b4_caseD_21:
      return 4;
    case 0x23:
    case 0x24:
switchD_0043f2b4_caseD_23:
      return 5;
    case 0x25:
    case 0x26:
switchD_0043f2b4_caseD_25:
      return 6;
    case 0x27:
    case 0x28:
switchD_0043f2b4_caseD_27:
      return 7;
    case 0x29:
    case 0x2a:
switchD_0043f2b4_caseD_29:
      return 8;
    case 0x2b:
    case 0x2c:
switchD_0043f2b4_caseD_2b:
      return 9;
    }
  }
  return 0;
}



undefined4 FUN_0043f3f0(void)

{
  FUN_0043f030();
  return 1;
}



undefined4 FUN_0043f400(void)

{
  FUN_00453440(&DAT_005d6400,0);
  FUN_00454a20(0);
  return 1;
}



void FUN_0043f430(void)

{
  short sVar1;
  int iVar2;
  void *pvVar3;
  undefined4 *_Val;
  undefined4 *puVar4;
  int iVar5;
  int iVar6;
  int *_Val_00;
  int iVar7;
  size_t sVar8;
  
  if (DAT_005dece4 == (int *)0x0) {
    sVar8 = 8;
    _Val_00 = DAT_005dece4;
    pvVar3 = (void *)AllocateMemoryWithCallback(8);
    DAT_005dece4 = (int *)_memset(pvVar3,(int)_Val_00,sVar8);
    if (DAT_005dece4 == (int *)0x0) {
      return;
    }
  }
  FUN_0043f980();
  FUN_0042a470();
  if (DAT_004d7cd4 != 0) {
    iVar5 = *(int *)(DAT_004d7cd4 + 8);
    if (DAT_005dece4[1] == 0) {
      sVar8 = 0xc;
      iVar7 = 0;
      pvVar3 = (void *)AllocateMemoryWithCallback(0xc);
      pvVar3 = _memset(pvVar3,iVar7,sVar8);
      DAT_005dece4[1] = (int)pvVar3;
    }
    iVar6 = 0;
    _Val = (undefined4 *)DAT_005dece4[1];
    iVar7 = DAT_004d7cd4;
    puVar4 = _Val;
    if (0 < *(int *)(DAT_004d7cd4 + 4)) {
      do {
        iVar2 = *(int *)(iVar5 + 0x18);
        if (((iVar2 == 0) || (iVar2 == 1)) || (iVar2 == 3)) {
          if (_Val == (undefined4 *)0x0) {
            sVar8 = 0xc;
            pvVar3 = (void *)AllocateMemoryWithCallback(0xc);
            _Val = (undefined4 *)_memset(pvVar3,(int)_Val,sVar8);
          }
          _Val[1] = iVar5;
          sVar1 = *(short *)(iVar5 + 0x24);
          if ((sVar1 == -1) || (0xc2 < sVar1)) {
            *_Val = 0;
          }
          else {
            *_Val = (&DAT_005ded00)[sVar1];
          }
          if (0 < iVar6) {
            puVar4[2] = _Val;
            puVar4 = _Val;
          }
          _Val = (undefined4 *)0x0;
          *DAT_005dece4 = *DAT_005dece4 + 1;
          iVar7 = DAT_004d7cd4;
        }
        iVar5 = *(int *)(iVar5 + 0x46);
        iVar6 = iVar6 + 1;
      } while (iVar6 < *(int *)(iVar7 + 4));
    }
  }
  FUN_0042a490();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0043f550(void)

{
  char *pcVar1;
  bool bVar2;
  int iVar3;
  char *pcVar4;
  int iVar5;
  int iVar6;
  char **ppcVar7;
  int iVar8;
  char local_150 [256];
  undefined local_50 [22];
  undefined local_3a;
  undefined4 local_38;
  undefined uStackY_34;
  undefined2 local_33;
  undefined local_31;
  undefined uStackY_30;
  undefined2 local_2f;
  undefined local_2d;
  undefined uStackY_2c;
  undefined2 local_2b;
  undefined local_29;
  uint uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  bVar2 = false;
  if (((DAT_004cb05c != 2) ||
      ((((DAT_005dfdc8 != 2 && (DAT_005dfdc8 != 5)) && (DAT_005dfdc8 != 8)) &&
       ((DAT_005dfdc8 != 0xb && (DAT_005dfdc8 != 0xe)))))) &&
     ((DAT_005dece4 != (int *)0x0 && (DAT_004d8260 != 0)))) {
    uStackY_20 = 0x43f5c5;
    _memset(local_50,0,0x3d);
    local_3a = 0xd;
    local_38 = CONCAT13(local_38._3_1_,0x30000);
    local_33 = 0x3f;
    local_31 = 0x5b;
    uStackY_30 = 0;
    local_2f = 0xa5;
    local_2d = 0xe;
    uStackY_2c = 0;
    local_2b = 0;
    local_29 = 0;
    uStackY_28 = uStackY_28 & 0xffffff00;
    ppcVar7 = (char **)DAT_005dece4[1];
    iVar9 = 0;
    iVar6 = DAT_004d813c;
    iVar8 = DAT_004d8138;
    if (0 < *DAT_005dece4) {
      do {
        if (bVar2) {
          return;
        }
        pcVar1 = ppcVar7[1];
        if (((pcVar1 != (char *)0x0) &&
            (iVar5 = (int)*(short *)(pcVar1 + 0x10), iVar5 < DAT_004d8338)) &&
           ((DAT_004d8338 < iVar5 + *(short *)(pcVar1 + 0xc) &&
            ((iVar3 = (int)*(short *)(pcVar1 + 0x12), iVar3 < DAT_004d833c &&
             (DAT_004d833c < *(short *)(pcVar1 + 0xe) + iVar3)))))) {
          if ((iVar6 != iVar3) || (iVar8 != iVar5)) {
            FUN_00492720();
            FUN_00492720();
            pcVar4 = *ppcVar7;
            if (pcVar4 == (char *)0x0) {
              if ((DAT_004cb05c == 1) && ((DAT_005dfe2c == 2 || (DAT_005dfe2c == 3)))) {
                FID_conflict___mbscpy
                          (local_150,
                           (char *)(*(int *)(DAT_005df2c8 + 0x10) + 0x100 + DAT_004ca030 * 0x222));
                ConvertString();
                pcVar4 = local_150;
                goto LAB_0043f727;
              }
            }
            else {
LAB_0043f727:
              uStackY_20 = 1;
              uStackY_24 = 5;
              uStackY_28 = 600;
              local_29 = 0;
              local_2b = 0;
              uStackY_2c = 0;
              uStackY_30 = SUB41(pcVar4,0);
              local_2f = (undefined2)((uint)pcVar4 >> 8);
              local_2d = (undefined)((uint)pcVar4 >> 0x18);
              uStackY_34 = 3;
              local_33 = 0;
              local_31 = 0;
              local_38 = 0x43f72f;
              FUN_00492100();
            }
            if (*(short *)(pcVar1 + 0x3a) != -1) {
              switch(DAT_004cb05c) {
              case 1:
                if (((DAT_005dfe2c != 1) && (DAT_005dfe2c != 3)) &&
                   ((DAT_005dfe2c != 5 && ((DAT_005dfe2c != 7 && (DAT_005dfe2c != 9)))))) {
                  DAT_005dfe2c = (int)*(short *)(ppcVar7[1] + 0x3a);
                }
                break;
              case 2:
                if (((((DAT_005dfdc8 != 1) && (DAT_005dfdc8 != 3)) &&
                     ((DAT_005dfdc8 != 6 && ((DAT_005dfdc8 != 9 && (DAT_005dfdc8 != 0xc)))))) &&
                    (DAT_005dfdc8 != 0xf)) &&
                   ((((((DAT_005dfdc8 != 0x12 && (DAT_005dfdc8 != 0x15)) && (DAT_005dfdc8 != 0x18))
                      && ((DAT_005dfdc8 != 0x1b && (DAT_005dfdc8 != 0x1e)))) &&
                     ((((DAT_005dfdc8 != 0x25 && ((DAT_005dfdc8 != 4 && (DAT_005dfdc8 != 7)))) &&
                       (DAT_005dfdc8 != 10)) &&
                      ((((DAT_005dfdc8 != 0xd && (DAT_005dfdc8 != 0x10)) && (DAT_005dfdc8 != 0x13))
                       && ((DAT_005dfdc8 != 0x16 && (DAT_005dfdc8 != 0x19)))))))) &&
                    ((DAT_005dfdc8 != 0x1c && (DAT_005dfdc8 != 0x1f)))))) {
                  DAT_005dfdc8 = (int)*(short *)(ppcVar7[1] + 0x3a);
                }
                break;
              case 3:
              case 9:
                if ((((DAT_005df31c != 1) && (DAT_005df31c != 3)) && (DAT_005df31c != 5)) &&
                   (DAT_005df31c != 7)) {
                  DAT_005df31c = (int)*(short *)(ppcVar7[1] + 0x3a);
                }
                break;
              case 0xc:
                if ((DAT_004d80d0 != 3) && (DAT_004d80d0 != 1)) {
                  DAT_004d80d0 = (int)*(short *)(ppcVar7[1] + 0x3a);
                }
                break;
              case 0xe:
                if ((DAT_004d7bb8 != 1) && (DAT_004d7bb8 != 3)) {
                  DAT_004d7bb8 = (int)*(short *)(ppcVar7[1] + 0x3a);
                }
              }
              if (*(short *)(pcVar1 + 0x40) != 0) {
                *(char *)(DAT_005df2c8 + 0xf0) = pcVar1[0x40];
              }
            }
          }
          iVar8 = (int)*(short *)(pcVar1 + 0x10);
          bVar2 = true;
          _DAT_004d8140 = (int)*(short *)(pcVar1 + 0xc) + (int)*(short *)(pcVar1 + 0x10);
          iVar6 = (int)*(short *)(pcVar1 + 0x12);
          _DAT_004d8144 = (int)*(short *)(pcVar1 + 0xe) + (int)*(short *)(pcVar1 + 0x12);
          DAT_004d8138 = iVar8;
          DAT_004d813c = iVar6;
        }
        ppcVar7 = (char **)ppcVar7[2];
        iVar9 = iVar9 + 1;
      } while (iVar9 < *DAT_005dece4);
    }
    if (!bVar2) {
      FUN_00492720();
    }
  }
  return;
}



void FUN_0043f980(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  
  if (DAT_005dece4 != (int *)0x0) {
    iVar4 = 0;
    piVar2 = DAT_005dece4;
    iVar3 = DAT_005dece4[1];
    if (0 < *DAT_005dece4) {
      do {
        iVar1 = *(int *)(iVar3 + 8);
        if (iVar3 != 0) {
          FreeMemory(iVar3);
          piVar2 = DAT_005dece4;
        }
        iVar4 = iVar4 + 1;
        iVar3 = iVar1;
      } while (iVar4 < *piVar2);
    }
    *piVar2 = 0;
    DAT_005dece4[1] = 0;
  }
  return;
}



undefined4 FUN_0043f9d0(void)

{
  byte bVar1;
  int iVar2;
  void *pvVar3;
  byte *pbVar4;
  uint uVar5;
  void *pvVar6;
  void **ppvVar7;
  byte *pbVar8;
  char local_154 [256];
  undefined local_54 [20];
  int local_40;
  int local_2c;
  int local_28;
  int local_24;
  void *local_20;
  undefined uVar9;
  undefined uVar10;
  undefined2 uVar11;
  int iVar12;
  
  AdjustStackForLargeAllocations();
  local_2c = FUN_0043ff50();
  if (DAT_005df310 == '\0') {
    uVar9 = 0x61;
  }
  else {
    uVar9 = 0x54;
  }
  FID_conflict___mbscpy(local_154,(char *)CONCAT22(0x5d,CONCAT11(uVar9,0xe0)));
  FID_conflict__strcat(local_154,s_Hdztext_dat_004cb214);
  local_20 = (void *)0x43fa43;
  _memset(local_54,0,0x24);
  iVar2 = FUN_004ae940();
  if (((iVar2 != 0) || (local_40 == 0)) || (local_24 = OpenFileWithFixedFlags0x40(), local_24 == 0))
  {
    return 0;
  }
  uVar9 = (undefined)local_40;
  uVar10 = (undefined)((uint)local_40 >> 8);
  uVar11 = (undefined2)((uint)local_40 >> 0x10);
  iVar2 = 0;
  local_20 = (void *)0x43fa99;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = (void *)0x43faa2;
  pvVar3 = _memset(pvVar3,iVar2,CONCAT22(uVar11,CONCAT11(uVar10,uVar9)));
  local_24 = 0x43fab7;
  local_20 = pvVar3;
  CopyDataWithLock();
  pbVar4 = (byte *)FUN_00424a20();
  bVar1 = *pbVar4;
  local_20 = (void *)0x43fae1;
  FUN_004ad7a0();
  iVar2 = FUN_004adb80();
  pbVar8 = pbVar4 + bVar1 + 1;
  iVar12 = 0;
  local_20 = (void *)(iVar2 * 0xc3);
  local_28 = iVar2;
  if (0 < (int)local_20) {
    ppvVar7 = (void **)&DAT_005ded00;
    do {
      uVar5 = (uint)*pbVar8;
      if (uVar5 == 0) break;
      if (iVar12 % iVar2 == local_2c) {
        uVar9 = (undefined)(uVar5 + 1);
        uVar10 = (undefined)(uVar5 + 1 >> 8);
        uVar11 = 0;
        iVar2 = 0;
        local_20 = (void *)0x43fb39;
        pvVar6 = (void *)AllocateMemoryWithCallback();
        local_20 = (void *)0x43fb42;
        pvVar6 = _memset(pvVar6,iVar2,CONCAT22(uVar11,CONCAT11(uVar10,uVar9)));
        *ppvVar7 = pvVar6;
        if (pvVar6 == (void *)0x0) {
          return 0;
        }
        local_20 = (void *)0x43fb53;
        FUN_004ad7a0();
        *(undefined *)(uVar5 + (int)*ppvVar7) = 0;
        ConvertString();
        ppvVar7 = ppvVar7 + 1;
        iVar2 = local_28;
      }
      pbVar8 = pbVar8 + uVar5 + 1;
      iVar12 = iVar12 + 1;
    } while (iVar12 < (int)local_20);
  }
  FUN_004adcf0();
  if (pvVar3 != (void *)0x0) {
    FreeMemory();
  }
  if (pbVar4 != (byte *)0x0) {
    FreeMemory();
  }
  return 1;
}



undefined4 FUN_0043fbc0(void)

{
  byte bVar1;
  int iVar2;
  void *pvVar3;
  byte *pbVar4;
  uint uVar5;
  void *pvVar6;
  void **ppvVar7;
  char local_154 [256];
  undefined local_54 [20];
  size_t local_40;
  int local_2c;
  int local_28;
  byte *local_24;
  void *local_20;
  char *_Source;
  size_t _Size;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  local_20 = (void *)FUN_0043ff50();
  if (DAT_005df310 == '\0') {
    _Source = &gRootFileDirectory;
  }
  else {
    _Source = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_154,_Source);
  FID_conflict__strcat(local_154,s_HdzLoc_dat_004cb2dc);
  local_20 = (void *)0x43fc33;
  _memset(local_54,0,0x24);
  iVar2 = FUN_004ae940();
  if (((iVar2 != 0) || (local_40 == 0)) || (iVar2 = OpenFileWithFixedFlags0x40(), iVar2 == 0)) {
    return 0;
  }
  iVar2 = 0;
  local_20 = (void *)0x43fc89;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  local_20 = (void *)0x43fc92;
  pvVar3 = _memset(pvVar3,iVar2,local_40);
  local_24 = (byte *)0x43fca7;
  local_20 = pvVar3;
  CopyDataWithLock();
  pbVar4 = (byte *)FUN_00424a20();
  bVar1 = *pbVar4;
  local_20 = (void *)0x43fccc;
  local_24 = pbVar4;
  FUN_004ad7a0();
  iVar2 = FUN_004adb80();
  pbVar4 = pbVar4 + bVar1 + 1;
  iVar8 = 0;
  local_2c = iVar2 * 0x9b;
  local_28 = iVar2;
  if (0 < local_2c) {
    ppvVar7 = (void **)&DAT_005df020;
    do {
      uVar5 = (uint)*pbVar4;
      if (uVar5 == 0) break;
      if ((void *)(iVar8 % iVar2) == local_20) {
        _Size = uVar5 + 1;
        iVar2 = 0;
        local_20 = (void *)0x43fd1f;
        pvVar6 = (void *)AllocateMemoryWithCallback();
        local_20 = (void *)0x43fd28;
        pvVar6 = _memset(pvVar6,iVar2,_Size);
        *ppvVar7 = pvVar6;
        if (pvVar6 == (void *)0x0) {
          return 0;
        }
        local_20 = (void *)0x43fd39;
        FUN_004ad7a0();
        pvVar6 = *ppvVar7;
        ppvVar7 = ppvVar7 + 1;
        *(undefined *)(uVar5 + (int)pvVar6) = 0;
        iVar2 = local_28;
      }
      pbVar4 = pbVar4 + uVar5 + 1;
      iVar8 = iVar8 + 1;
    } while (iVar8 < local_2c);
  }
  FUN_004adcf0();
  if (pvVar3 != (void *)0x0) {
    FreeMemory();
  }
  if (local_24 != (byte *)0x0) {
    FreeMemory();
  }
  return 1;
}



// /*
//  * Function: ConvertString (originally FUN_0043fda0)
//  * Description:
//  *   This function takes a string, converts it to uppercase using `ToUpperCase`, and then
// performs
//  *   further character transformations on characters with byte values greater than 0xDF. The
// character
//  *   codes from 0xE0 to 0xFE are mapped to specific negative values in the signed byte range.
//  *
//  * Parameters:
//  *   param_1 - Pointer to the input string to be converted and transformed
//  */

void ConvertString(char *param_1)

{
  size_t sVar1;
  int iVar2;
  uint uVar3;
  
  ToUpperCase(param_1);
  sVar1 = _strlen(param_1);
  iVar2 = 0;
  if (0 < (int)sVar1) {
    do {
      if (0xdf < (byte)param_1[iVar2]) {
        uVar3 = (uint)(byte)param_1[iVar2];
        if (uVar3 < 0xe1) {
          if (uVar3 == 0xe0) {
            param_1[iVar2] = -0x40;
          }
          else if (uVar3 == 0xffffffea) {
            param_1[iVar2] = -0x36;
          }
        }
        else {
          switch(uVar3) {
          case 0xe1:
            param_1[iVar2] = -0x3f;
            break;
          case 0xe2:
            param_1[iVar2] = -0x3e;
            break;
          case 0xe3:
            param_1[iVar2] = -0x3d;
            break;
          case 0xe4:
            param_1[iVar2] = -0x3c;
            break;
          case 0xe5:
            param_1[iVar2] = -0x3b;
            break;
          case 0xe6:
            param_1[iVar2] = -0x3a;
            break;
          case 0xe7:
            param_1[iVar2] = -0x39;
            break;
          case 0xe8:
            param_1[iVar2] = -0x38;
            break;
          case 0xe9:
            param_1[iVar2] = -0x37;
            break;
          case 0xeb:
            param_1[iVar2] = -0x35;
            break;
          case 0xec:
            param_1[iVar2] = -0x34;
            break;
          case 0xed:
            param_1[iVar2] = -0x33;
            break;
          case 0xee:
            param_1[iVar2] = -0x32;
            break;
          case 0xef:
            param_1[iVar2] = -0x31;
            break;
          case 0xf0:
            param_1[iVar2] = -0x30;
            break;
          case 0xf1:
            param_1[iVar2] = -0x2f;
            break;
          case 0xf2:
            param_1[iVar2] = -0x2e;
            break;
          case 0xf3:
            param_1[iVar2] = -0x2d;
            break;
          case 0xf4:
            param_1[iVar2] = -0x2c;
            break;
          case 0xf5:
            param_1[iVar2] = -0x2b;
            break;
          case 0xf6:
            param_1[iVar2] = -0x2a;
            break;
          case 0xf8:
            param_1[iVar2] = -0x28;
            break;
          case 0xf9:
            param_1[iVar2] = -0x27;
            break;
          case 0xfa:
            param_1[iVar2] = -0x26;
            break;
          case 0xfb:
            param_1[iVar2] = -0x25;
            break;
          case 0xfc:
            param_1[iVar2] = -0x24;
            break;
          case 0xfd:
            param_1[iVar2] = -0x23;
            break;
          case 0xfe:
            param_1[iVar2] = -0x22;
          }
        }
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)sVar1);
  }
  return;
}



undefined4 FUN_0043ff50(void)

{
  if (DAT_005df2fc < 0x11) {
    if (DAT_005df2fc == 0x10) {
      return 3;
    }
    if (DAT_005df2fc == 7) {
      return 1;
    }
    if ((DAT_005df2fc != 9) && (DAT_005df2fc == 10)) {
      return 2;
    }
  }
  else if (DAT_005df2fc < 0x1e) {
    if (DAT_005df2fc == 0x1d) {
      return 6;
    }
    if (DAT_005df2fc == 0x11) {
      return 7;
    }
    if (DAT_005df2fc == 0x13) {
      return 5;
    }
  }
  else if (DAT_005df2fc == 0x40c) {
    return 4;
  }
  return 0;
}



void FUN_0043ffb0(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  
  if (DAT_005dece4 != (int *)0x0) {
    iVar4 = 0;
    piVar3 = DAT_005dece4;
    iVar2 = DAT_005dece4[1];
    if (0 < *DAT_005dece4) {
      do {
        iVar1 = *(int *)(iVar2 + 8);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          piVar3 = DAT_005dece4;
        }
        iVar4 = iVar4 + 1;
        iVar2 = iVar1;
      } while (iVar4 < *piVar3);
    }
    if (piVar3 != (int *)0x0) {
      FreeMemory(piVar3);
      DAT_005dece4 = (int *)0x0;
    }
  }
  piVar3 = &DAT_005ded00;
  do {
    if (*piVar3 != 0) {
      FreeMemory(*piVar3);
      *piVar3 = 0;
    }
    piVar3 = piVar3 + 1;
  } while ((int)piVar3 < 0x5df00c);
  return;
}



void FUN_00440030(void)

{
  int *piVar1;
  
  piVar1 = &DAT_005df020;
  do {
    if (*piVar1 != 0) {
      FreeMemory(*piVar1);
      *piVar1 = 0;
    }
    piVar1 = piVar1 + 1;
  } while ((int)piVar1 < 0x5df28c);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00440060(void)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 uVar4;
  
  iVar3 = 1;
  DAT_004cb4c8 = 1;
  iVar1 = FUN_0042dcd0();
  if (iVar1 != 0) {
    if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
      iVar1 = 0x222;
      do {
        switch(*(undefined *)(*(int *)(DAT_005df2c8 + 0x10) + iVar1)) {
        default:
          uVar2 = 0x4e;
          uVar4 = 0xa9;
          break;
        case 0x43:
          uVar2 = 0x48;
          uVar4 = 0xa3;
          break;
        case 0x49:
          uVar2 = 0x4a;
          uVar4 = 0xa5;
          break;
        case 0x4b:
          uVar2 = 0x49;
          uVar4 = 0xa4;
          break;
        case 0x4f:
          uVar2 = 0x4d;
          uVar4 = 0xa8;
          break;
        case 0x53:
          uVar2 = 0x4b;
          uVar4 = 0xa6;
          break;
        case 0x57:
          uVar2 = 0x4c;
          uVar4 = 0xa7;
        }
        uVar2 = FUN_00440fc0(uVar2,0);
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + 0x212 + iVar1) = uVar2;
        uVar2 = FUN_00440fc0(uVar4,0);
        iVar3 = iVar3 + 1;
        iVar1 = iVar1 + 0x222;
        *(undefined4 *)(*(int *)(DAT_005df2c8 + 0x10) + -0xc + iVar1) = uVar2;
      } while (iVar3 <= *(int *)(DAT_005df2c8 + 0xcc));
    }
    uVar2 = FUN_00440fc0(0x34,0);
    *DAT_005df290 = uVar2;
    uVar2 = FUN_00440fc0(0x4f,0);
    DAT_005df290[0x15] = uVar2;
    uVar2 = FUN_00440fc0(0x35,0);
    DAT_005df290[1] = uVar2;
    uVar2 = FUN_00440fc0(0x36,0);
    DAT_005df290[2] = uVar2;
    uVar2 = FUN_00440fc0(0xb3,0);
    DAT_005df290[0x16] = uVar2;
    uVar2 = FUN_00440fc0(0xb4,0);
    DAT_005df290[3] = uVar2;
    uVar2 = FUN_00440fc0(0x39,0);
    DAT_005df290[6] = uVar2;
    uVar2 = FUN_00440fc0(0x37,0);
    DAT_005df290[4] = uVar2;
    uVar2 = FUN_00440fc0(0x38,0);
    DAT_005df290[5] = uVar2;
    uVar2 = FUN_00440fc0(0x3a,0);
    DAT_005df290[7] = uVar2;
    uVar2 = FUN_00440fc0(0x3b,0);
    DAT_005df290[8] = uVar2;
    uVar2 = FUN_00440fc0(0x93,0);
    DAT_005df290[9] = uVar2;
    uVar2 = FUN_00440fc0(0x3c,0);
    DAT_005df290[10] = uVar2;
    uVar2 = FUN_00440fc0(0x3d,0);
    DAT_005df290[0xb] = uVar2;
    uVar2 = FUN_00440fc0(0x3e,0);
    DAT_005df290[0xc] = uVar2;
    uVar2 = FUN_00440fc0(0x22,0);
    DAT_005df290[0xd] = uVar2;
    uVar2 = FUN_00440fc0(0x21,0);
    DAT_005df290[0xe] = uVar2;
    uVar2 = FUN_00440fc0(0x3f,0);
    DAT_005df290[0xf] = uVar2;
    uVar2 = FUN_00440fc0(0x47,0);
    DAT_005df290[0x10] = uVar2;
    uVar2 = FUN_00440fc0(0x6b,0);
    DAT_005df290[0x1f] = uVar2;
    uVar2 = FUN_00440fc0(0x9e,0);
    DAT_005df290[0x27] = uVar2;
    uVar2 = FUN_00440fc0(0x9d,0);
    DAT_005df290[0x28] = uVar2;
    uVar2 = FUN_00440fc0(0x98,0);
    DAT_005df290[0x2d] = uVar2;
    uVar2 = FUN_00440fc0(0x9a,0);
    DAT_005df290[0x2b] = uVar2;
    uVar2 = FUN_00440fc0(0x9c,0);
    DAT_005df290[0x29] = uVar2;
    uVar2 = FUN_00440fc0(0x9b,0);
    DAT_005df290[0x2c] = uVar2;
    uVar2 = FUN_00440fc0(0x99,0);
    DAT_005df290[0x2a] = uVar2;
    uVar2 = FUN_00440fc0(0x40,0);
    DAT_005df290[0x2e] = uVar2;
    uVar2 = FUN_00440fc0(0x41,0);
    DAT_005df290[0x2f] = uVar2;
    uVar2 = FUN_00440fc0(0x42,0);
    DAT_005df290[0x30] = uVar2;
    uVar2 = FUN_00440fc0(0x43,0);
    DAT_005df290[0x31] = uVar2;
    uVar2 = FUN_00440fc0(0x50,0);
    DAT_005df290[0x32] = uVar2;
    uVar2 = FUN_00440fc0(0x51,0);
    DAT_005df290[0x33] = uVar2;
    uVar2 = FUN_00440fc0(0x52,0);
    DAT_005df290[0x34] = uVar2;
    uVar2 = FUN_00440fc0(0x53,0);
    DAT_005df290[0x35] = uVar2;
    uVar2 = FUN_00440fc0(0x44,0);
    DAT_005df290[0x11] = uVar2;
    uVar2 = FUN_00440fc0(0x45,0);
    DAT_005df290[0x12] = uVar2;
    uVar2 = FUN_00440fc0(0x46,0);
    DAT_005df290[0x13] = uVar2;
    uVar2 = FUN_00440fc0(0x58,0);
    DAT_005df290[0x14] = uVar2;
    uVar2 = FUN_00440fc0(0x54,0);
    DAT_005df290[0x17] = uVar2;
    uVar2 = FUN_00440fc0(0x55,0);
    DAT_005df290[0x18] = uVar2;
    uVar2 = FUN_00440fc0(0x56,0);
    DAT_005df290[0x19] = uVar2;
    uVar2 = FUN_00440fc0(0x57,0);
    DAT_005df290[0x1a] = uVar2;
    uVar2 = FUN_00440fc0(0x29,0);
    DAT_005df290[0x1b] = uVar2;
    uVar2 = FUN_00440fc0(0x59,0);
    DAT_005df290[0x1c] = uVar2;
    uVar2 = FUN_00440fc0(0x5a,0);
    DAT_005df290[0x1e] = uVar2;
    uVar2 = FUN_00440fc0(0x5b,0);
    DAT_005df290[0x1d] = uVar2;
    uVar2 = FUN_00440fc0(0x6c,0);
    DAT_005df290[0x20] = uVar2;
    uVar2 = FUN_00440fc0(0x6d,0);
    DAT_005df290[0x21] = uVar2;
    uVar2 = FUN_00440fc0(0x94,0);
    DAT_005df290[0x22] = uVar2;
    uVar2 = FUN_00440fc0(0x95,0);
    DAT_005df290[0x23] = uVar2;
    uVar2 = FUN_00440fc0(0x96,0);
    DAT_005df290[0x24] = uVar2;
    uVar2 = FUN_00440fc0(0x67,0);
    DAT_005df290[0x25] = uVar2;
    uVar2 = FUN_00440fc0(0x68,0);
    DAT_005df290[0x26] = uVar2;
    _DAT_005dec48 = FUN_00440fc0(0x6e,0);
    _DAT_005dec4c = FUN_00440fc0(0x6f,0);
    _DAT_005dec50 = FUN_00440fc0(0x70,0);
    _DAT_005dec54 = FUN_00440fc0(0x71,0);
    _DAT_005dec58 = FUN_00440fc0(0x72,0);
    _DAT_005dec5c = FUN_00440fc0(0x73,0);
    _DAT_005dec60 = FUN_00440fc0(0x74,0);
    _DAT_005dec68 = FUN_00440fc0(0x75,0);
    _DAT_005dec6c = FUN_00440fc0(0x76,0);
    _DAT_005dec70 = FUN_00440fc0(0x77,0);
    _DAT_005dec74 = FUN_00440fc0(0x78,0);
    _DAT_005dec78 = FUN_00440fc0(0x79,0);
    _DAT_005dec7c = FUN_00440fc0(0x7a,0);
    _DAT_005dec80 = FUN_00440fc0(0x7b,0);
    _DAT_005dec84 = FUN_00440fc0(0x7c,0);
    _DAT_005dec88 = FUN_00440fc0(0x7d,0);
    _DAT_005dec8c = FUN_00440fc0(0x7e,0);
    _DAT_005dec90 = FUN_00440fc0(0x7f,0);
    _DAT_005dec94 = FUN_00440fc0(0x80,0);
    _DAT_005dec98 = FUN_00440fc0(0x81,0);
    _DAT_005dec9c = FUN_00440fc0(0x82,0);
    _DAT_005deca0 = FUN_00440fc0(0x83,0);
    _DAT_005deca4 = FUN_00440fc0(0x84,0);
    _DAT_005deca8 = FUN_00440fc0(0x85,0);
    _DAT_005decac = FUN_00440fc0(0x86,0);
    _DAT_005decb0 = FUN_00440fc0(0x87,0);
    _DAT_005decb4 = FUN_00440fc0(0x88,0);
    _DAT_005decb8 = FUN_00440fc0(0x89,0);
    _DAT_005decbc = FUN_00440fc0(0x8a,0);
    _DAT_005decc0 = FUN_00440fc0(0x8b,0);
    _DAT_005decc4 = FUN_00440fc0(0x8c,0);
    _DAT_005decc8 = FUN_00440fc0(0x8d,0);
    _DAT_005deccc = FUN_00440fc0(0x8e,0);
    _DAT_005decd0 = FUN_00440fc0(0x8f,0);
    _DAT_005decd8 = FUN_00440fc0(0x90,0);
    _DAT_005decdc = FUN_00440fc0(0x91,0);
    _DAT_005dece0 = FUN_00440fc0(0x92,0);
    return 1;
  }
  return 0;
}



undefined4 FUN_00440920(void)

{
  int iVar1;
  undefined4 uVar2;
  
  DAT_004cb4c8 = 0;
  iVar1 = FUN_0042dcd0();
  if (iVar1 == 0) {
    return 0;
  }
  if (DAT_005d66a4 == 0) {
    uVar2 = FUN_00440fc0(2,0);
    *DAT_00598e5c = uVar2;
    uVar2 = 1;
  }
  else {
    uVar2 = FUN_00440fc0(4,0);
    *DAT_00598e5c = uVar2;
    uVar2 = 3;
  }
  uVar2 = FUN_00440fc0(uVar2,0);
  DAT_00598e5c[1] = uVar2;
  uVar2 = FUN_00440fc0(10,0);
  DAT_00598e5c[0x10] = uVar2;
  uVar2 = FUN_00440fc0(8,0);
  DAT_00598e5c[0x11] = uVar2;
  uVar2 = FUN_00440fc0(0xc,0);
  DAT_00598e5c[0x12] = uVar2;
  uVar2 = FUN_00440fc0(6,0);
  DAT_00598e5c[0x13] = uVar2;
  uVar2 = FUN_00440fc0(9,0);
  DAT_00598e5c[0x14] = uVar2;
  uVar2 = FUN_00440fc0(5,0);
  DAT_00598e5c[0x15] = uVar2;
  uVar2 = FUN_00440fc0(0xb,0);
  DAT_00598e5c[0x16] = uVar2;
  uVar2 = FUN_00440fc0(7,0);
  DAT_00598e5c[0x17] = uVar2;
  uVar2 = FUN_00440fc0(0x2a,0);
  DAT_00598e5c[0xe] = uVar2;
  uVar2 = FUN_00440fc0(0x2b,0);
  DAT_00598e5c[0xf] = uVar2;
  uVar2 = FUN_00440fc0(0x24,0);
  DAT_00598e5c[2] = uVar2;
  uVar2 = FUN_00440fc0(0x28,1);
  DAT_00598e5c[0x18] = uVar2;
  uVar2 = FUN_00440fc0(0xe,0);
  *DAT_005dcedc = uVar2;
  uVar2 = FUN_00440fc0(0xd,0);
  DAT_005dcedc[1] = uVar2;
  uVar2 = FUN_00440fc0(0x33,0);
  DAT_005dcedc[2] = uVar2;
  uVar2 = FUN_00440fc0(0x11,0);
  DAT_005dcedc[3] = uVar2;
  uVar2 = FUN_00440fc0(0x5c,0);
  DAT_005dcedc[4] = uVar2;
  uVar2 = FUN_00440fc0(0x5f,0);
  DAT_005dcedc[5] = uVar2;
  uVar2 = FUN_00440fc0(0x60,0);
  DAT_005dcedc[6] = uVar2;
  uVar2 = FUN_00440fc0(0x62,0);
  DAT_005dcedc[7] = uVar2;
  uVar2 = FUN_00440fc0(0x61,0);
  DAT_005dcedc[8] = uVar2;
  uVar2 = FUN_00440fc0(0x22,1);
  DAT_005dcedc[0x18] = uVar2;
  uVar2 = FUN_00440fc0(0x21,1);
  DAT_005dcedc[0x19] = uVar2;
  uVar2 = FUN_00440fc0(0x97,0);
  DAT_005dcedc[0x1a] = uVar2;
  uVar2 = FUN_00440fc0(0,0);
  *DAT_004d79b4 = uVar2;
  uVar2 = FUN_00440fc0(0xf,0);
  DAT_004d79b4[2] = uVar2;
  uVar2 = FUN_00440fc0(0x10,0);
  DAT_004d79b4[1] = uVar2;
  uVar2 = FUN_00440fc0(0x12,0);
  DAT_004d79b4[3] = uVar2;
  uVar2 = FUN_00440fc0(0x69,0);
  DAT_004d79b4[4] = uVar2;
  uVar2 = FUN_00440fc0(0x6a,0);
  DAT_004d79b4[5] = uVar2;
  uVar2 = FUN_00440fc0(0x5d,0);
  DAT_004d79b4[6] = uVar2;
  uVar2 = FUN_00440fc0(0x5e,0);
  DAT_004d79b4[7] = uVar2;
  uVar2 = FUN_00440fc0(99,0);
  DAT_005dcedc[9] = uVar2;
  uVar2 = FUN_00440fc0(100,0);
  DAT_005dcedc[10] = uVar2;
  uVar2 = FUN_00440fc0(0x67,0);
  DAT_005dcedc[0xb] = uVar2;
  uVar2 = FUN_00440fc0(0x68,0);
  DAT_005dcedc[0xc] = uVar2;
  uVar2 = FUN_00440fc0(0x66,0);
  DAT_005dcedc[0xe] = uVar2;
  uVar2 = FUN_00440fc0(0x65,0);
  DAT_005dcedc[0xd] = uVar2;
  uVar2 = FUN_00440fc0(0x96,0);
  DAT_005dcedc[0xf] = uVar2;
  uVar2 = FUN_00440fc0(0x94,0);
  DAT_005dcedc[0x10] = uVar2;
  uVar2 = FUN_00440fc0(0x95,0);
  DAT_005dcedc[0x11] = uVar2;
  uVar2 = FUN_00440fc0(0x9e,0);
  DAT_005dcedc[0x1b] = uVar2;
  uVar2 = FUN_00440fc0(0x9d,0);
  DAT_005dcedc[0x1c] = uVar2;
  uVar2 = FUN_00440fc0(0x9c,0);
  DAT_005dcedc[0x1d] = uVar2;
  uVar2 = FUN_00440fc0(0x99,0);
  DAT_005dcedc[0x1e] = uVar2;
  uVar2 = FUN_00440fc0(0x9a,0);
  DAT_005dcedc[0x1f] = uVar2;
  uVar2 = FUN_00440fc0(0x9b,0);
  DAT_005dcedc[0x20] = uVar2;
  uVar2 = FUN_00440fc0(0x98,0);
  DAT_005dcedc[0x21] = uVar2;
  uVar2 = FUN_00440fc0(0x55,0);
  DAT_005dcedc[0x12] = uVar2;
  uVar2 = FUN_00440fc0(0x56,0);
  DAT_005dcedc[0x15] = uVar2;
  uVar2 = FUN_00440fc0(0x57,0);
  DAT_005dcedc[0x16] = uVar2;
  uVar2 = FUN_00440fc0(0x4f,0);
  DAT_005dcedc[0x17] = uVar2;
  uVar2 = FUN_00440fc0(0xac,0);
  DAT_005dcedc[0x13] = uVar2;
  uVar2 = FUN_00440fc0(0xb7,0);
  DAT_005dcedc[0x14] = uVar2;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00440e20(void)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FUN_0042dcd0();
  if (iVar1 == 0) {
    return 0;
  }
  uVar2 = FUN_00440fc0(0x20,0);
  *DAT_005dfe3c = uVar2;
  uVar2 = FUN_00440fc0(0x1f,0);
  DAT_005dfe3c[1] = uVar2;
  uVar2 = FUN_00440fc0(0x23,0);
  DAT_005dfe3c[2] = uVar2;
  uVar2 = FUN_00440fc0(0x1d,0);
  DAT_005dfe3c[4] = uVar2;
  uVar2 = FUN_00440fc0(0x13,0);
  DAT_005dfe3c[5] = uVar2;
  uVar2 = FUN_00440fc0(0x14,0);
  DAT_005dfe3c[6] = uVar2;
  uVar2 = FUN_00440fc0(0x15,0);
  DAT_005dfe3c[7] = uVar2;
  uVar2 = FUN_00440fc0(0x16,0);
  DAT_005dfe3c[8] = uVar2;
  uVar2 = FUN_00440fc0(0x17,0);
  DAT_005dfe3c[9] = uVar2;
  uVar2 = FUN_00440fc0(0x18,0);
  DAT_005dfe3c[10] = uVar2;
  uVar2 = FUN_00440fc0(0x19,0);
  DAT_005dfe3c[0xb] = uVar2;
  uVar2 = FUN_00440fc0(0x1a,0);
  DAT_005dfe3c[0xc] = uVar2;
  uVar2 = FUN_00440fc0(0x1b,0);
  DAT_005dfe3c[0xd] = uVar2;
  uVar2 = FUN_00440fc0(0x1c,0);
  DAT_005dfe3c[0xe] = uVar2;
  DAT_005bcb30 = FUN_00440fc0(0x2f,0);
  _DAT_005bcb34 = FUN_00440fc0(0x30,0);
  _DAT_005bcb38 = FUN_00440fc0(0x31,0);
  _DAT_005bcb3c = FUN_00440fc0(0x32,0);
  return 1;
}



void FUN_00440fa0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = FUN_0042dcd0();
  if (iVar1 == 0) {
    return;
  }
  FUN_00440fc0(param_1,param_2);
  return;
}



int * FUN_00440fc0(uint param_1,int param_2)

{
  int iVar1;
  ushort *puVar2;
  ushort unaff_BX;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined4 local_7c [4];
  int local_6c;
  ushort *local_58;
  undefined4 uStackY_34;
  ushort *puStackY_30;
  int *piStackY_2c;
  int iStackY_28;
  int *piStackY_24;
  uint uStackY_20;
  
  AdjustStackForLargeAllocations();
  piVar3 = (int *)0x0;
  uStackY_20 = param_1;
  piStackY_24 = (int *)0x440ffa;
  iVar1 = FUN_0042ddc0();
  if (iVar1 != 0) {
    uStackY_20 = 0x441024;
    piVar3 = (int *)FUN_0044ca40();
    uStackY_20 = 0x441039;
    _memset(local_7c,0,0x6c);
    local_7c[0] = 0x6c;
    uStackY_20 = 0;
    iStackY_28 = 0x441053;
    piStackY_24 = piVar3;
    (**(code **)(*piVar3 + 100))();
    iVar4 = 0;
    if (unaff_BX != 0) {
      do {
        iStackY_28 = (param_1 & 0xffff) * 2;
        piStackY_2c = (int *)(iVar1 + iVar4 * (param_1 & 0xffff) * 2);
        puStackY_30 = local_58 + (((uint)unaff_BX - iVar4) + -1) * (local_6c >> 1);
        uStackY_34 = 0x441091;
        FUN_004ad7a0();
        iVar4 = iVar4 + 1;
      } while (iVar4 < (int)(uint)unaff_BX);
    }
    iVar4 = DAT_005e72dc;
    if (param_2 == 0) {
      iVar4 = DAT_005e72d4;
    }
    if ((iVar4 != 0) && (iVar4 = 0, unaff_BX != 0)) {
      do {
        iVar5 = 0;
        puVar2 = local_58;
        if ((short)param_1 != 0) {
          do {
            iVar5 = iVar5 + 1;
            *puVar2 = *puVar2 & 0x1f | *puVar2 >> 1 & 0x7fe0;
            puVar2 = puVar2 + 1;
          } while (iVar5 < (int)(param_1 & 0xffff));
        }
        iVar4 = iVar4 + 1;
        local_58 = local_58 + (local_6c >> 1);
      } while (iVar4 < (int)(uint)unaff_BX);
    }
    iStackY_28 = 0;
    puStackY_30 = (ushort *)0x441127;
    piStackY_2c = piVar3;
    (**(code **)(*piVar3 + 0x80))();
    uStackY_34 = 0x441130;
    puStackY_30 = (ushort *)iVar1;
    FreeMemory();
  }
  return piVar3;
}



void FUN_00441160(float *param_1,int param_2,float param_3)

{
  byte *pbVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  float fVar8;
  float10 fVar9;
  
  AdjustStackForLargeAllocations();
  for (iVar6 = *(int *)(DAT_005df318 + 4); iVar6 != 0; iVar6 = *(int *)(iVar6 + 0x16)) {
    iVar7 = *(int *)(iVar6 + 4);
    if (((((*(uint *)(iVar7 + 0x8a) & 2) == 0) ||
         ((*(byte *)(*(int *)(*(int *)(param_2 + 0xa3) + 4) + 0x8a) & 2) == 0)) &&
        ((*(uint *)(iVar7 + 0x8a) & 0x400000) != 0)) &&
       ((*(int *)(param_2 + 0xa3) != iVar6 || ((*(byte *)(param_2 + 0xb3) & 0x10) == 0)))) {
      fVar2 = *(float *)(iVar7 + 0x3a);
      fVar3 = *(float *)(iVar7 + 0x3e);
      fVar4 = param_1[1];
      fVar5 = param_1[2];
      fVar8 = param_3 - -5.0;
      fVar9 = (float10)FUN_004ad3c0((double)(*(float *)(iVar7 + 0x36) - *param_1));
      if ((fVar9 < (float10)fVar8) &&
         ((fVar9 = (float10)FUN_004ad3c0((double)(fVar3 - fVar5)), fVar9 < (float10)fVar8 &&
          (fVar9 = (float10)FUN_004ad3c0((double)(fVar2 - fVar4)), fVar9 < (float10)fVar8)))) {
        if (*(short *)(param_2 + 0xb4) != 0) {
          FUN_00443000(*(undefined4 *)(param_2 + 0xa3),iVar6);
          FUN_004412c0(iVar6,*(undefined4 *)(param_2 + 0xa3),
                       *(undefined4 *)(*(int *)(iVar6 + 4) + 0x86),*(undefined *)(param_2 + 0xb4));
        }
        if ((*(byte *)(*(int *)(iVar6 + 4) + 0x8a) & 2) != 0) {
          pbVar1 = (byte *)(*(int *)(*(int *)(iVar6 + 4) + 0x100) + 0x58);
          *pbVar1 = *pbVar1 | 2;
        }
      }
    }
  }
  return;
}



// WARNING: Type propagation algorithm not settling

void FUN_004412c0(undefined4 ******param_1,undefined4 ******param_2,int param_3)

{
  byte bVar1;
  uint uVar2;
  undefined4 uVar3;
  int *piVar4;
  undefined4 ******ppppppuVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  float10 fVar9;
  byte param_4;
  undefined4 local_30;
  undefined4 *local_2c;
  float *local_28;
  float local_24;
  undefined4 ******local_20;
  undefined4 ******local_1c;
  undefined4 *******local_18;
  undefined4 *******local_14;
  int iVar10;
  undefined4 *****pppppuVar11;
  undefined4 *****pppppuVar12;
  
  AdjustStackForLargeAllocations();
  pppppuVar12 = param_1[1];
  iVar10 = 1;
  uVar2 = *(uint *)((int)pppppuVar12 + 0x8a);
  if ((uVar2 & 4) != 0) goto LAB_004419c4;
  if ((char)DAT_00598944 == '\0') {
    if (((DAT_004d79b0 != 0) && (*(int *)(DAT_004d79b0 + 8) == 0)) &&
       (param_1 == *(undefined4 *******)(DAT_005df318 + 4))) {
      iVar10 = 0;
    }
    if (DAT_00598d6c != 0) {
      return;
    }
    if (((uVar2 & 1) != 0) && (DAT_00598d60 != 0)) {
      return;
    }
    if ((uVar2 & 0x2000000) != 0) {
      return;
    }
    if (((*(byte *)((int)pppppuVar12 + 0x8a) & 2) != 0) &&
       (*(int *)((int)pppppuVar12[0x40] + 0x32) != 0)) {
      return;
    }
  }
  else {
    if ((uVar2 & 0x2000000) != 0) {
      return;
    }
    if (*(char *)((int)pppppuVar12 + 0x189) == '\0') {
      local_14 = (undefined4 *******)0x0;
      local_1c = (undefined4 ******)((int)pppppuVar12 + 6);
      local_18 = (undefined4 *******)0x4;
      local_20 = (undefined4 ******)&DAT_005e4849;
      local_24 = 6.254212e-39;
      FUN_00475bf0();
      return;
    }
  }
  uVar2 = *(uint *)((int)pppppuVar12 + 0x8a);
  if ((uVar2 & 0x100000) != 0) {
    return;
  }
  if (*(char *)((int)pppppuVar12 + 0x189) == '\0') {
    if (iVar10 == 0) {
      return;
    }
    local_14 = (undefined4 *******)0x0;
    local_1c = (undefined4 ******)((int)pppppuVar12 + 6);
    local_18 = (undefined4 *******)0x4;
    local_20 = (undefined4 ******)&DAT_005e4849;
    local_24 = 6.251869e-39;
    FUN_00475bf0();
    local_14 = (undefined4 *******)param_1;
    local_18 = (undefined4 *******)0x4413b4;
    FUN_00410b60();
    pppppuVar12[0x2b] = (undefined4 ****)0x0;
    pppppuVar12[0x29] = (undefined4 ****)0x0;
    if (*(char *)(pppppuVar12 + 0x42) == '\0') {
      return;
    }
    local_14 = *(undefined4 ********)((int)pppppuVar12 + 0x3a);
    local_18 = &local_18;
    local_1c = param_1;
    local_20 = (undefined4 ******)0x4413ee;
    FUN_004250f0();
    return;
  }
  if ((uVar2 & 0x1800000) != 0) {
    local_14 = (undefined4 *******)param_1;
    local_18 = (undefined4 *******)0x4419c1;
    FUN_0046c680();
    goto LAB_004419c4;
  }
  pppppuVar11 = pppppuVar12;
  if (*(float *)(*(int *)(param_3 + 0x13) + 0x77) == 1.0) {
    param_4 = 100;
  }
  else {
    local_14 = (undefined4 *******)0x441437;
    param_4 = __ftol();
    if (param_4 < 2) {
      param_4 = 1;
    }
  }
  if (((uVar2 & 2) != 0) &&
     (local_14 = (undefined4 *******)pppppuVar12[0x40], (*(byte *)(local_14 + 0x16) & 2) == 0)) {
    local_18 = (undefined4 *******)0x44145e;
    FUN_00404620();
  }
  bVar1 = *(byte *)(param_3 + 4);
  if (param_4 < bVar1) {
    *(byte *)(param_3 + 4) = bVar1 - param_4;
    if ((char)DAT_00598944 != '\0') {
      if (param_2 == (undefined4 ******)0x0) {
        local_24 = 0.0;
      }
      else {
        local_24 = (float)(uint)*(ushort *)((int)param_2[1] + 0x1aa);
      }
      local_14 = (undefined4 *******)0x0;
      local_18 = (undefined4 *******)0x0;
      local_20 = (undefined4 ******)-(int)(char)param_4;
      local_1c = (undefined4 ******)0x0;
      local_28 = (float *)0x13;
      local_2c = (undefined4 *)0x441814;
      FUN_00466530();
    }
    local_14 = (undefined4 *******)param_1;
    local_18 = (undefined4 *******)0x44181d;
    FUN_00410b60();
    if (param_1 == *(undefined4 *******)(DAT_005df318 + 4)) {
      *(undefined4 *)(DAT_004d83a4 + 0x58) = 0xc;
    }
    local_18 = *(undefined4 ********)((int)pppppuVar12 + 0x36);
    if (iVar10 != 0) {
      if (((bVar1 < 0x22) || (0x41 < bVar1)) || (0x20 < *(byte *)(param_3 + 4))) {
        if ((0x42 < bVar1) && (*(byte *)(param_3 + 4) < 0x42)) {
          bVar1 = *(byte *)(pppppuVar12 + 0x42);
          if (0x20 < *(byte *)(param_3 + 4)) goto joined_r0x0044189f;
          if (bVar1 < 2) goto LAB_004418b0;
          local_18 = &local_18;
          local_14 = (undefined4 *******)0x0;
          local_1c = param_1;
          local_20 = (undefined4 ******)0x441892;
          FUN_00425290();
          goto LAB_004418a7;
        }
      }
      else {
        bVar1 = *(byte *)(pppppuVar12 + 0x42);
joined_r0x0044189f:
        if (bVar1 != 0) {
LAB_004418a7:
          local_18 = &local_18;
          local_14 = (undefined4 *******)0x0;
          local_1c = param_1;
          local_20 = (undefined4 ******)0x4418ad;
          FUN_00425290();
        }
      }
    }
LAB_004418b0:
    if (((*(byte *)((int)pppppuVar12 + 0x8a) & 8) != 0) && (DAT_005e4a64 != 0)) {
      local_14 = (undefined4 *******)0x0;
      local_1c = (undefined4 ******)((int)param_1[1] + 6);
      local_18 = (undefined4 *******)0x4;
      local_20 = (undefined4 ******)(DAT_005e4a64 + 0x8af);
      local_24 = 6.253726e-39;
      FUN_00475bf0();
    }
    iVar7 = 0;
    local_30 = *(undefined4 *)((int)pppppuVar11 + 0x36);
    local_2c = *(undefined4 **)((int)pppppuVar11 + 0x3a);
    local_28 = *(float **)((int)pppppuVar11 + 0x3e);
    iVar6 = 100 - (uint)*(byte *)(param_3 + 4);
    iVar10 = iVar6 >> 0x1f;
    iVar6 = iVar6 / 0x14 + iVar10;
    if (iVar6 != iVar10 && -1 < iVar6 - iVar10) {
      do {
        local_14 = (undefined4 *******)0x44191c;
        fVar9 = (float10)FUN_0045e9e0();
        local_24 = (float)(fVar9 - (float10)0.5);
        local_14 = (undefined4 *******)0x44192a;
        fVar9 = (float10)FUN_0045e9e0();
        local_20 = (undefined4 ******)(float)(fVar9 * (float10)0.5);
        local_14 = (undefined4 *******)0x441938;
        FUN_0045e9e0();
        local_14 = (undefined4 *******)(2 - (uint)((*(uint *)((int)param_1[1] + 0x8a) & 2) != 0));
        local_18 = (undefined4 *******)0x0;
        local_1c = (undefined4 ******)0x44195b;
        fVar9 = (float10)FUN_0045e9e0();
        local_28 = &local_24;
        local_2c = &local_30;
        local_1c = (undefined4 ******)(float)((fVar9 - (float10)-1.0) * (float10)0.1);
        local_20 = (undefined4 ******)0x1;
        local_24 = 2.242078e-44;
        local_30 = 3;
        FUN_0046cb20();
        iVar7 = iVar7 + 1;
      } while (iVar7 < (int)(100 - (uint)*(byte *)(param_3 + 4)) / 0x14);
    }
  }
  else {
    local_14 = (undefined4 *******)param_1;
    *(undefined *)(param_3 + 4) = 0;
    local_18 = (undefined4 *******)0x44147c;
    uVar3 = FUN_0048b5d0();
    if ((*(byte *)((int)pppppuVar12 + 0x8a) & 8) == 0) {
      if ((char)DAT_00598944 == '\0') {
        local_14 = *(undefined4 ********)((int)pppppuVar12 + 0x3a);
        local_18 = (undefined4 *******)
                   CONCAT31((int3)((uint)local_14 >> 8),*(undefined *)((int)param_1[1] + 0x18a));
        local_1c = param_1;
        local_20 = (undefined4 ******)0x441746;
        local_14 = (undefined4 *******)FUN_00442710();
        local_18 = &local_18;
        local_1c = param_1;
        local_20 = (undefined4 ******)0x441754;
        FUN_00424fa0();
        if ((*(char *)(pppppuVar12 + 0x42) != '\0') && (iVar10 != 0)) {
          local_18 = &local_18;
          local_14 = (undefined4 *******)0x0;
          local_1c = param_1;
          local_20 = (undefined4 ******)0x44177c;
          FUN_00425290();
          if ((0x21 < param_4) && (*(char *)(pppppuVar11 + 0x42) != '\0')) {
            local_18 = &local_18;
            local_14 = (undefined4 *******)0x0;
            local_1c = param_1;
            local_20 = (undefined4 ******)0x4417a7;
            FUN_00425290();
            if ((0x42 < param_4) && (*(char *)(pppppuVar11 + 0x42) != '\0')) {
              local_18 = &local_18;
              local_14 = (undefined4 *******)0x0;
              local_1c = param_1;
              local_20 = (undefined4 ******)0x4417d2;
              FUN_00425290();
            }
          }
        }
      }
      else {
        local_14 = (undefined4 *******)0x0;
        local_18 = (undefined4 *******)
                   CONCAT31((int3)((uint)uVar3 >> 8),*(undefined *)((int)param_1[1] + 0x18a));
        local_1c = param_1;
        local_20 = (undefined4 ******)0x44169e;
        ppppppuVar5 = (undefined4 ******)FUN_00442710();
        local_14 = (undefined4 *******)0x0;
        local_1c = param_1;
        local_20 = (undefined4 ******)0x4416ac;
        local_18 = (undefined4 *******)ppppppuVar5;
        FUN_00425ce0();
        if ((*(byte *)((int)pppppuVar12 + 0x8a) & 1) != 0) {
          if ((param_2 == (undefined4 ******)0x0) || (param_2 == param_1)) {
            bVar1 = *(byte *)((int)ppppppuVar5 + 9);
            local_24 = 0.0;
          }
          else {
            bVar1 = *(byte *)((int)ppppppuVar5 + 9);
            local_24 = (float)(*(ushort *)((int)param_2[1] + 0x1aa) + 1);
          }
          local_20 = (undefined4 ******)(uint)bVar1;
          local_14 = (undefined4 *******)0x0;
          local_18 = (undefined4 *******)0x0;
          local_1c = (undefined4 ******)0x0;
          local_28 = (float *)&DAT_00000008;
          local_2c = (undefined4 *)0x4416f5;
          FUN_00466530();
        }
        if ((param_2 != (undefined4 ******)0x0) && (param_2 != param_1)) {
          local_14 = (undefined4 *******)0x1;
          local_18 = (undefined4 *******)0x0;
          local_1c = param_1;
          local_20 = param_2;
          local_24 = 6.25308e-39;
          FUN_00465f80();
        }
        local_14 = (undefined4 *******)0x1;
        local_18 = (undefined4 *******)0x2;
        local_1c = param_1;
        local_20 = (undefined4 ******)0x0;
        local_24 = 6.253101e-39;
        FUN_00465f80();
      }
    }
    else {
      if (DAT_005e4a64 != 0) {
        local_14 = (undefined4 *******)0x0;
        local_1c = (undefined4 ******)((int)param_1[1] + 6);
        local_18 = (undefined4 *******)0x4;
        local_20 = (undefined4 ******)(DAT_005e4a64 + 0x8af);
        local_24 = 6.252229e-39;
        FUN_00475bf0();
      }
      iVar8 = 0;
      local_30 = *(undefined4 *)((int)pppppuVar11 + 0x36);
      local_2c = *(undefined4 **)((int)pppppuVar11 + 0x3a);
      local_28 = *(float **)((int)pppppuVar11 + 0x3e);
      iVar7 = 100 - (uint)*(byte *)(param_3 + 4);
      iVar6 = iVar7 >> 0x1f;
      iVar7 = iVar7 / 0x14 + iVar6;
      if (iVar7 != iVar6 && -1 < iVar7 - iVar6) {
        do {
          local_14 = (undefined4 *******)0x4414ec;
          fVar9 = (float10)FUN_0045e9e0();
          local_24 = (float)(fVar9 - (float10)0.5);
          local_14 = (undefined4 *******)0x4414fa;
          fVar9 = (float10)FUN_0045e9e0();
          local_20 = (undefined4 ******)(float)(fVar9 * (float10)0.5);
          local_14 = (undefined4 *******)0x441508;
          FUN_0045e9e0();
          local_14 = (undefined4 *******)0x1;
          local_18 = (undefined4 *******)0x0;
          local_1c = (undefined4 ******)0x44151a;
          fVar9 = (float10)FUN_0045e9e0();
          local_28 = &local_24;
          local_2c = &local_30;
          local_1c = (undefined4 ******)(float)((fVar9 - (float10)-1.0) * (float10)0.1);
          local_20 = (undefined4 ******)0x1;
          local_24 = 2.242078e-44;
          local_30 = 3;
          FUN_0046cb20();
          iVar8 = iVar8 + 1;
        } while (iVar8 < (int)(100 - (uint)*(byte *)(param_3 + 4)) / 0x14);
      }
      if (iVar10 != 0) {
        local_18 = &local_18;
        local_14 = (undefined4 *******)0x0;
        local_1c = param_1;
        local_20 = (undefined4 ******)0x44158a;
        FUN_004250f0();
      }
      iVar10 = 0;
      piVar4 = &DAT_005dcc64;
      do {
        if ((param_1 == (undefined4 ******)piVar4[-0x11]) && (1 < *piVar4)) {
          local_14 = (undefined4 *******)param_1;
          *(undefined4 *)((int)&DAT_005dcc64 + iVar10 * 0x62) = 0;
          local_18 = (undefined4 *******)0x4415c7;
          FUN_004759a0();
          if ((DAT_004ca030 == 1) && (DAT_004d814c == 0)) {
            iVar10 = *(int *)((int)pppppuVar11[0x40] + 0x92);
            if ((-1 < iVar10) && (iVar10 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245))) {
              local_1c = (undefined4 ******)
                         CONCAT22((short)((uint)iVar10 >> 0x10),
                                  *(undefined2 *)((int)pppppuVar11[0x40] + 0x92));
              local_14 = (undefined4 *******)DAT_00598d90;
              local_18 = (undefined4 *******)0x1;
              local_24 = 6.252742e-39;
              local_20 = (undefined4 ******)(DAT_00598d90 + 0x245);
              FUN_00472ec0();
            }
            DAT_004d040c = 1;
            DAT_004d814c = 1;
          }
          if (DAT_005e4a64 != 0) {
            local_14 = (undefined4 *******)0x44163a;
            iVar10 = FUN_0048b030();
            *(undefined4 *)(iVar10 + 9) = *(undefined4 *)(DAT_005e4a64 + 0x8f6);
            *(int *)(iVar10 + 4) = (int)param_1[1] + 6;
            local_18 = (undefined4 *******)0x44165a;
            local_14 = (undefined4 *******)iVar10;
            FUN_00475dd0();
            *(undefined *)(iVar10 + 8) = 0;
          }
          local_14 = &local_18;
          local_18 = (undefined4 *******)param_1;
          *(ushort *)((int)param_1[1] + 0x8e) = *(ushort *)((int)param_1[1] + 0x8e) & 0xefff;
          local_1c = (undefined4 ******)0x441677;
          FUN_0046d130();
          break;
        }
        piVar4 = (int *)((int)piVar4 + 0x62);
        iVar10 = iVar10 + 1;
      } while ((int)piVar4 < 0x5dcdec);
    }
  }
  pppppuVar12 = pppppuVar11;
  if ((*(byte *)((int)param_1[1] + 0x8a) & 2) != 0) {
    local_14 = (undefined4 *******)param_1;
    local_18 = (undefined4 *******)0x4419b9;
    FUN_00404640();
    pppppuVar12 = pppppuVar11;
  }
LAB_004419c4:
  if (*(char *)((int)pppppuVar12 + 0x189) == '\0') {
    local_14 = (undefined4 *******)param_1;
    local_18 = (undefined4 *******)0x4419d7;
    FUN_00410b60();
    pppppuVar12[0x2b] = (undefined4 ****)0x0;
    pppppuVar12[0x29] = (undefined4 ****)0x0;
    local_14 = (undefined4 *******)0x0;
    local_1c = (undefined4 ******)((int)param_1[1] + 6);
    local_18 = (undefined4 *******)0x4;
    local_20 = (undefined4 ******)&DAT_005e4849;
    local_24 = 6.254139e-39;
    FUN_00475bf0();
  }
  return;
}



uint FUN_00441a40(uint param_1)

{
  uint uVar1;
  
  uVar1 = param_1 & 0xff;
  param_1 = param_1 & 0x1f;
  return ((uVar1 >> 4 & 4) * param_1 | (uVar1 >> 3 & 4) * param_1 * 0x100) << 8 |
         (uVar1 >> 5 & 4) * param_1;
}



undefined4 FUN_00441a80(undefined4 param_1)

{
  ushort *puVar1;
  int iVar2;
  
  if (DAT_005dec30 == (int *)0x0) {
    DAT_005dec30 = (int *)FUN_00441bd0();
  }
  if (*DAT_005dec30 == 0) {
    iVar2 = FUN_00441b30(param_1);
    FUN_00441c30(iVar2);
    return *(undefined4 *)(iVar2 + 2);
  }
  for (puVar1 = (ushort *)DAT_005dec30[1]; (puVar1 != (ushort *)0x0 && (*puVar1 < (ushort)param_1));
      puVar1 = *(ushort **)(puVar1 + 3)) {
  }
  if (puVar1 == (ushort *)0x0) {
    iVar2 = FUN_00441b30(param_1);
    if (iVar2 != 0) {
      FUN_00441c30(iVar2);
      return *(undefined4 *)(iVar2 + 2);
    }
    return 0;
  }
  if (*puVar1 == (ushort)param_1) {
    return *(undefined4 *)(puVar1 + 1);
  }
  iVar2 = FUN_00441b30(param_1);
  if (iVar2 != 0) {
    FUN_00441bf0(iVar2,puVar1);
    return *(undefined4 *)(iVar2 + 2);
  }
  return 0;
}



undefined2 * FUN_00441b30(undefined2 param_1)

{
  void *pvVar1;
  undefined2 *puVar2;
  undefined local_54 [2];
  size_t local_52;
  undefined4 uStackY_20;
  undefined *puStackY_1c;
  int iVar3;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 0xe;
  iVar3 = 0;
  puStackY_1c = (undefined *)0x441b4a;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  puStackY_1c = (undefined *)0x441b53;
  puVar2 = (undefined2 *)_memset(pvVar1,iVar3,_Size);
  *puVar2 = param_1;
  iVar3 = FUN_00442690();
  if (iVar3 != 0) {
    puStackY_1c = local_54;
    uStackY_20 = 0x441b7f;
    CopyDataWithLock();
    iVar3 = 0;
    puStackY_1c = (undefined *)0x441b8e;
    pvVar1 = (void *)AllocateMemoryWithCallback();
    puStackY_1c = (undefined *)0x441b97;
    pvVar1 = _memset(pvVar1,iVar3,local_52);
    *(void **)(puVar2 + 1) = pvVar1;
    puStackY_1c = (undefined *)0x441ba9;
    SeekInResourceWithLock();
    puStackY_1c = *(undefined **)(puVar2 + 1);
    uStackY_20 = 0x441bbc;
    CopyDataWithLock();
    return puVar2;
  }
  return (undefined2 *)0x0;
}



void FUN_00441bd0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0xc;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0xc);
  _memset(_Dst,_Val,_Size);
  return;
}



void FUN_00441bf0(int param_1,int param_2)

{
  *(int *)(param_1 + 6) = param_2;
  *(undefined4 *)(param_1 + 10) = *(undefined4 *)(param_2 + 10);
  if (DAT_005dec30[1] == param_2) {
    DAT_005dec30[1] = param_1;
    *(int *)(param_2 + 10) = param_1;
    *DAT_005dec30 = *DAT_005dec30 + 1;
    return;
  }
  *(int *)(*(int *)(param_2 + 10) + 6) = param_1;
  *(int *)(param_2 + 10) = param_1;
  *DAT_005dec30 = *DAT_005dec30 + 1;
  return;
}



void FUN_00441c30(int param_1)

{
  if (*DAT_005dec30 == 0) {
    DAT_005dec30[1] = param_1;
    DAT_005dec30[2] = param_1;
    *DAT_005dec30 = *DAT_005dec30 + 1;
    return;
  }
  *(int *)(param_1 + 10) = DAT_005dec30[2];
  *(int *)(DAT_005dec30[2] + 6) = param_1;
  DAT_005dec30[2] = param_1;
  *DAT_005dec30 = *DAT_005dec30 + 1;
  return;
}



void FUN_00441c80(ushort param_1)

{
  ushort *puVar1;
  
  if ((*DAT_005dec30 != 0) && (puVar1 = (ushort *)DAT_005dec30[1], puVar1 != (ushort *)0x0)) {
    do {
      if (param_1 <= *puVar1) break;
      puVar1 = *(ushort **)(puVar1 + 3);
    } while (puVar1 != (ushort *)0x0);
    if (puVar1 != (ushort *)0x0) {
      if (*(int *)(puVar1 + 1) != 0) {
        FreeMemory(*(int *)(puVar1 + 1));
        *(undefined4 *)(puVar1 + 1) = 0;
      }
      if (*(int *)(puVar1 + 5) != 0) {
        *(undefined4 *)(*(int *)(puVar1 + 5) + 6) = *(undefined4 *)(puVar1 + 3);
      }
      if (*(int *)(puVar1 + 3) != 0) {
        *(undefined4 *)(*(int *)(puVar1 + 3) + 10) = *(undefined4 *)(puVar1 + 5);
      }
      if (puVar1 == (ushort *)DAT_005dec30[1]) {
        DAT_005dec30[1] = *(int *)(puVar1 + 3);
      }
      if (puVar1 == (ushort *)DAT_005dec30[2]) {
        DAT_005dec30[2] = *(int *)(puVar1 + 5);
      }
      FreeMemory(puVar1);
      *DAT_005dec30 = *DAT_005dec30 + -1;
    }
  }
  return;
}



undefined4 FUN_00441d30(undefined4 param_1,int param_2,int param_3,int param_4,int *param_5)

{
  FUN_004ad7a0(param_1,param_4 + *param_5,param_3 * param_2);
  *param_5 = *param_5 + param_3 * param_2;
  return 1;
}



void FUN_00441d70(void)

{
  int iVar1;
  int iVar2;
  
  if (DAT_005dec30 != 0) {
    iVar1 = *(int *)(DAT_005dec30 + 4);
    while (iVar2 = iVar1, iVar2 != 0) {
      iVar1 = *(int *)(iVar2 + 6);
      if (*(int *)(iVar2 + 2) != 0) {
        FreeMemory(*(int *)(iVar2 + 2));
        *(undefined4 *)(iVar2 + 2) = 0;
      }
      if (iVar2 != 0) {
        FreeMemory(iVar2);
      }
    }
    if (DAT_005dec30 != 0) {
      FreeMemory(DAT_005dec30);
    }
    DAT_005dec30 = 0;
  }
  return;
}



undefined4 FUN_00441dd0(undefined2 *param_1)

{
  byte *pbVar1;
  undefined2 extraout_var;
  int iVar2;
  undefined local_dc [76];
  undefined local_90 [18];
  undefined local_7e;
  undefined local_7d;
  undefined local_7c;
  undefined local_7b;
  undefined local_7a;
  undefined2 local_79;
  undefined local_77;
  undefined local_76;
  undefined4 local_75;
  undefined2 local_71;
  undefined4 local_6f;
  undefined local_6b;
  undefined uStack_6a;
  undefined2 uStack_69;
  undefined uStack_67;
  undefined uStack_66;
  undefined4 local_65;
  undefined4 local_61;
  undefined local_5d;
  undefined local_5c;
  undefined4 local_5b;
  undefined4 local_57;
  undefined4 local_53;
  undefined uStack_4f;
  undefined4 local_4e;
  undefined uStack_4a;
  undefined4 local_49;
  undefined4 local_45;
  undefined4 local_41;
  undefined4 local_3d;
  undefined4 local_39;
  undefined4 local_2d;
  undefined2 local_29;
  undefined local_27;
  undefined2 local_26;
  undefined2 uStack_24;
  undefined2 local_22;
  undefined4 uStack_20;
  undefined2 uStack_1c;
  undefined2 local_1a;
  undefined2 uStack_18;
  undefined2 local_16;
  undefined4 local_14;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  local_10 = (undefined *)CONCAT22(extraout_var,*param_1);
  local_14 = 0x441df2;
  iVar2 = FUN_00441a80();
  if (iVar2 == 0) {
    return 0;
  }
  local_10 = &stack0xfffffff8;
  uStack_20 = local_dc;
  uStack_18 = 1;
  local_16 = 0;
  uStack_1c = 0x4a;
  local_1a = 0;
  uStack_24 = 0x1e16;
  local_22 = 0x44;
  local_14 = iVar2;
  FUN_00441d30();
  local_10 = &stack0xfffffff8;
  uStack_20 = local_90;
  uStack_18 = 1;
  local_16 = 0;
  uStack_1c = 0x87;
  local_1a = 0;
  uStack_24 = 0x1e3a;
  local_22 = 0x44;
  local_14 = iVar2;
  FUN_00441d30();
  *(undefined2 *)(*(int *)((int)param_1 + 0x13) + 0x9f) = local_79;
  *(undefined *)((int)param_1 + 0xb) = local_77;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x19e) = local_76;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x102) = local_5d;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x103) = local_5c;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x84) = local_75;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x104) = local_5b;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x6b) = local_57;
  *(undefined2 *)(*(int *)((int)param_1 + 0x13) + 0xa1) = local_71;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x110) = local_6f;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x77) = local_6f;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0x114) = CONCAT11(uStack_6a,local_6b) & 0xff;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0x7b) = CONCAT21(uStack_69,uStack_6a) & 0xff;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0x6f) =
       CONCAT13(uStack_66,CONCAT12(uStack_67,uStack_69));
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x10c) = local_65;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x73) = local_61;
  *(byte *)(*(int *)((int)param_1 + 0x13) + 0x19d) = local_10._3_1_ & 1;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xb1) = local_53 & 0xff;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xb5) = CONCAT13(uStack_4f,local_53._1_3_);
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0x7f) = local_4e & 0xff;
  if (((uint)local_10 & 0x2000000) != 0) {
    pbVar1 = (byte *)(*(int *)((int)param_1 + 0x13) + 0xef);
    *pbVar1 = *pbVar1 | 4;
  }
  if (((uint)local_10 & 0x4000000) != 0) {
    pbVar1 = (byte *)(*(int *)((int)param_1 + 0x13) + 0xef);
    *pbVar1 = *pbVar1 | 8;
  }
  if (((uint)local_10 & 0x8000000) != 0) {
    pbVar1 = (byte *)(*(int *)((int)param_1 + 0x13) + 0xef);
    *pbVar1 = *pbVar1 | 0x10;
  }
  if (((uint)local_10 & 0x10000000) != 0) {
    pbVar1 = (byte *)(*(int *)((int)param_1 + 0x13) + 0xef);
    *pbVar1 = *pbVar1 | 0x20;
  }
  if (((uint)local_10 & 0x20000000) != 0) {
    pbVar1 = (byte *)(*(int *)((int)param_1 + 0x13) + 0xef);
    *pbVar1 = *pbVar1 | 2;
  }
  iVar2 = *(int *)((int)param_1 + 0x13);
  if (*(int *)(iVar2 + 0x7f) == 0x17) {
    *(undefined4 *)(iVar2 + 0xb9) = 0x46ea6000;
  }
  else {
    *(uint *)(iVar2 + 0xb9) = CONCAT13(uStack_4a,local_4e._1_3_);
  }
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xbd) = local_49;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xc1) = local_45;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xc9) = local_41;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xc5) = local_3d;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xa5) = local_39;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xad) = local_39;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xa9) = local_39;
  *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0xd1) = local_2d;
  *(undefined2 *)(*(int *)((int)param_1 + 0x13) + 0xd5) = local_29;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0xeb) = local_27;
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xd7) = CONCAT22(uStack_24,local_26);
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xdb) = CONCAT22((undefined2)uStack_20,local_22);
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xdf) = CONCAT22(uStack_1c,uStack_20._2_2_);
  *(uint *)(*(int *)((int)param_1 + 0x13) + 0xe3) = CONCAT22(uStack_18,local_1a);
  *(undefined2 *)(*(int *)((int)param_1 + 0x13) + 0xe7) = local_16;
  *(undefined2 *)(*(int *)((int)param_1 + 0x13) + 0xe9) = (undefined2)local_14;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0xed) = local_14._2_1_;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0xee) = local_14._3_1_;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0xec) = (undefined)local_10;
  param_1[1] = local_10._1_2_;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x19f) = local_7e;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x1a0) = local_7d;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x1a1) = local_7c;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x1a2) = local_7b;
  *(undefined *)(*(int *)((int)param_1 + 0x13) + 0x1a3) = local_7a;
  return 1;
}



void * FUN_004420e0(undefined4 param_1,int param_2)

{
  void *pvVar1;
  uint uVar2;
  undefined local_58 [52];
  undefined4 uStackY_24;
  undefined *puStackY_20;
  int iVar3;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  uVar2 = 0;
  _Size = 0x87;
  iVar3 = 0;
  puStackY_20 = (undefined *)0x442102;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  puStackY_20 = (undefined *)0x44210b;
  pvVar1 = _memset(pvVar1,iVar3,_Size);
  iVar3 = FUN_00442690();
  if (iVar3 == 0) {
    return pvVar1;
  }
  puStackY_20 = local_58;
  uStackY_24 = 0x44213b;
  CopyDataWithLock();
  puStackY_20 = (undefined *)0x44214e;
  SeekInResourceWithLock();
  uStackY_24 = 0x44215f;
  puStackY_20 = (undefined *)pvVar1;
  CopyDataWithLock();
  if (param_2 == 0) {
    return pvVar1;
  }
  if (DAT_005df2fc < 0x11) {
    if (DAT_005df2fc == 0x10) {
      param_1 = 3;
      goto LAB_004421e0;
    }
    if (DAT_005df2fc == 7) {
      param_1 = 1;
      goto LAB_004421e0;
    }
    if ((DAT_005df2fc != 9) && (DAT_005df2fc == 10)) {
      param_1 = 2;
      goto LAB_004421e0;
    }
  }
  else if (DAT_005df2fc < 0x1e) {
    if (DAT_005df2fc == 0x1d) {
      param_1 = 6;
      goto LAB_004421e0;
    }
    if (DAT_005df2fc == 0x11) {
      param_1 = 7;
      goto LAB_004421e0;
    }
    if (DAT_005df2fc == 0x13) {
      param_1 = 5;
      goto LAB_004421e0;
    }
  }
  else if (DAT_005df2fc == 0x40c) {
    param_1 = 4;
    goto LAB_004421e0;
  }
  param_1 = 0;
LAB_004421e0:
  do {
    puStackY_20 = (undefined *)param_2;
    uStackY_24 = 0x4421f3;
    CopyDataWithLock();
    *(undefined *)(param_2 + (uint)*(byte *)(uVar2 + 2 + (int)pvVar1)) = 0;
    if (uVar2 == param_1) {
      return pvVar1;
    }
    uVar2 = uVar2 + 1;
  } while (uVar2 < 10);
  return pvVar1;
}



void FUN_00442220(int param_1,undefined2 param_2)

{
  int iVar1;
  size_t sVar2;
  void *_Dst;
  char *_Dest;
  char local_104 [228];
  undefined4 uStackY_20;
  int _Val;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_004420e0();
  sVar2 = _strlen(local_104);
  sVar2 = sVar2 + 1;
  _Val = 0;
  uStackY_20 = 0x442264;
  _strlen(local_104);
  uStackY_20 = 0x44226e;
  _Dst = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x442277;
  _Dest = (char *)_memset(_Dst,_Val,sVar2);
  *(char **)(param_1 + 3) = _Dest;
  FID_conflict___mbscpy(_Dest,local_104);
  *(undefined2 *)(param_1 + 1) = param_2;
  *(undefined *)(param_1 + 7) = *(undefined *)(iVar1 + 0xe);
  *(undefined *)(param_1 + 8) = *(undefined *)(iVar1 + 0xf);
  *(undefined *)(param_1 + 9) = *(undefined *)(iVar1 + 0xc);
  *(undefined *)(param_1 + 10) = *(undefined *)(iVar1 + 0x11);
  if (iVar1 != 0) {
    FreeMemory();
  }
  return;
}



void FUN_004422c0(void)

{
  DAT_005dec2e = 8;
  return;
}



uint FUN_004422d0(undefined4 param_1,undefined4 param_2)

{
  int3 iVar1;
  byte bVar2;
  
  bVar2 = 0;
  if (DAT_005dec2e == '\b') {
    FUN_00441d30(&DAT_005dec34,1,1,param_1,param_2);
    DAT_005dec2e = '\0';
  }
  iVar1 = (int3)(DAT_005dec2e >> 7);
  switch(DAT_005dec2e) {
  case '\0':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34) & 0xffffff01;
  case '\x01':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 1) & 0xffffff01;
  case '\x02':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 2) & 0xffffff01;
  case '\x03':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 3) & 0xffffff01;
  case '\x04':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 4) & 0xffffff01;
  case '\x05':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 5) & 0xffffff01;
  case '\x06':
    DAT_005dec2e = DAT_005dec2e + '\x01';
    return CONCAT31(iVar1,DAT_005dec34 >> 6) & 0xffffff01;
  case '\a':
    bVar2 = DAT_005dec34 >> 7;
  }
  DAT_005dec2e = DAT_005dec2e + '\x01';
  return CONCAT31(iVar1,bVar2);
}



// // Function: AllocateAndInsertResource
// // Description: Allocates memory for a resource, locks the resource for data reading, and inserts
// the resource into a sorted linked list. The sorting is based on the second component of the
// 64-bit parameter.
// // Old Name: FUN_004423f0
// //
// // Arguments:
// //   param_1 (void **): A pointer to the head of a linked list where the resource node will be
// inserted.
// //   param_2 (undefined8): A 64-bit value used to determine the sorting and data processing
// criteria. This includes size information for memory allocation and sorting.
// //   param_4 (undefined4): A handle or ID representing the resource from which data will be read
// and inserted into the list.
// //
// // Return Value:
// //   This function does not return a value. It modifies the linked list in place by inserting the
// newly allocated resource node.
// 

void AllocateAndInsertResource(void **param_1,undefined8 param_2,undefined4 param_4)

{
  void *pvVar1;
  uint uVar2;
  void *pvVar3;
  undefined4 *puVar4;
  int iVar5;
  size_t sVar6;
  
  uVar2 = param_2._1_4_;
  sVar6 = 0x10;
  iVar5 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0x10);
  puVar4 = (undefined4 *)_memset(pvVar3,iVar5,sVar6);
  if (puVar4 != (undefined4 *)0x0) {
    *puVar4 = param_4;
    *(short *)(puVar4 + 1) = (short)((ulonglong)param_2 >> 8);
    *(ushort *)((int)puVar4 + 6) = param_2._3_2_;
    SeekInResourceWithLock(param_4,5,0);
    sVar6 = (uVar2 & 0xffff) * 4;
    iVar5 = 0;
    pvVar3 = (void *)AllocateMemoryWithCallback(sVar6);
    pvVar3 = _memset(pvVar3,iVar5,sVar6);
    puVar4[2] = pvVar3;
    CopyDataWithLock(pvVar3,4,uVar2 & 0xffff,param_4);
    puVar4[3] = 0;
    pvVar3 = (void *)0x0;
    for (pvVar1 = *param_1;
        (pvVar1 != (void *)0x0 &&
        (*(ushort *)((int)pvVar1 + 6) <= param_2._3_2_ &&
         param_2._3_2_ != *(ushort *)((int)pvVar1 + 6))); pvVar1 = *(void **)((int)pvVar1 + 0xc)) {
      pvVar3 = pvVar1;
    }
    if (pvVar3 == (void *)0x0) {
      puVar4[3] = *param_1;
      *param_1 = puVar4;
      return;
    }
    *(undefined4 **)((int)pvVar3 + 0xc) = puVar4;
    puVar4[3] = pvVar1;
  }
  return;
}



// // Function: LoadHDZFiles
// // Description: This function searches the file system for files with the `.hdz` extension in the
// specified directory. It processes each file found and performs operations to load them into
// memory.
// // Old Name: FUN_004424b0
// //
// // Arguments: None (global variables and file system paths are used)
// 

void LoadHDZFiles(void)

{
  HANDLE hFindFile;
  uint uVar1;
  _WIN32_FIND_DATAA local_34c;
  char local_20c [256];
  char local_10c [232];
  undefined4 uStackY_24;
  undefined *puStackY_20;
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  uVar1 = 0;
  if (DAT_004d8150 == 0) {
    if (DAT_005df310 == '\0') {
      uStackY_1c = 0x4424e9;
      FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
      uStackY_1c = 0x4424fd;
      FID_conflict__strcat(local_10c,s_hedz_hdz_004cb8b8);
      uStackY_1c = 0x442511;
      OpenFileWithFixedFlags0x40();
      puStackY_20 = &stack0xfffffff4;
      uStackY_1c = 5;
      uStackY_24 = 0x442524;
      CopyDataWithLock();
      AdjustStackForLargeAllocations();
      uStackY_1c = 0x442549;
      AllocateAndInsertResource();
    }
    FID_conflict___mbscpy(local_20c,&DAT_005d54e0);
    FID_conflict__strcat(local_20c,s___hdz_004cb8c8);
    hFindFile = FindFirstFileA(local_20c,&local_34c);
    do {
      if (hFindFile != (HANDLE)0xffffffff) {
        FID_conflict___mbscpy(local_10c,&DAT_005d54e0);
        FID_conflict__strcat(local_10c,local_34c.cFileName);
        OpenFileWithFixedFlags0x40();
        uStackY_1c = 0x4425e1;
        CopyDataWithLock();
        AdjustStackForLargeAllocations();
        AllocateAndInsertResource();
        uVar1 = FindNextFileA(hFindFile,&local_34c);
        uVar1 = uVar1 & 0xff;
      }
    } while ((char)uVar1 != '\0');
    FindClose(hFindFile);
  }
  return;
}



void FUN_00442630(void)

{
  int *piVar1;
  int *piVar2;
  
  piVar2 = DAT_004d8150;
  if (DAT_004d8150 != (int *)0x0) {
    do {
      piVar1 = (int *)piVar2[3];
      if (*piVar2 != 0) {
        FUN_004adcf0(*piVar2);
      }
      *piVar2 = 0;
      if (piVar2[2] != 0) {
        FreeMemory(piVar2[2]);
        piVar2[2] = 0;
      }
      if (piVar2 != (int *)0x0) {
        FreeMemory(piVar2);
      }
      piVar2 = piVar1;
    } while (piVar1 != (int *)0x0);
  }
  DAT_004d8150 = (int *)0x0;
  return;
}



undefined4 FUN_00442690(ushort param_1,undefined4 *param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  
  puVar3 = DAT_004d8150;
  if (DAT_004d8150 == (undefined4 *)0x0) {
    return 0;
  }
  while ((param_1 < *(ushort *)((int)puVar3 + 6) ||
         ((uint)*(ushort *)(puVar3 + 1) + (uint)*(ushort *)((int)puVar3 + 6) <= (uint)param_1))) {
    piVar1 = puVar3 + 3;
    puVar3 = (undefined4 *)*piVar1;
    if ((undefined4 *)*piVar1 == (undefined4 *)0x0) {
      return 0;
    }
  }
  iVar2 = (uint)(ushort)(param_1 - *(short *)((int)puVar3 + 6)) * 4;
  SeekInResourceWithLock(*puVar3,*(undefined4 *)(puVar3[2] + iVar2),0);
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = *(undefined4 *)(puVar3[2] + iVar2);
  }
  return *puVar3;
}



undefined4 FUN_00442710(int param_1,byte param_2,char param_3)

{
  byte *pbVar1;
  undefined4 uVar2;
  int iVar3;
  bool bVar4;
  byte bVar5;
  byte bVar6;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  uVar7 = 0;
  bVar6 = param_2;
  if (param_3 != '\0') {
    bVar5 = 0;
    uVar7 = 0;
    do {
      iVar3 = *(int *)(*(int *)(param_1 + 4) + 0x175 + uVar7 * 4);
      if ((iVar3 != 0) && (bVar6 = bVar5, *(byte *)(iVar3 + 9) == param_2)) break;
      bVar5 = bVar5 + 1;
      uVar7 = (uint)bVar5;
      bVar6 = 0;
    } while (bVar5 < 5);
  }
  FUN_0048b5d0(param_1);
  uVar2 = *(undefined4 *)(*(int *)(param_1 + 4) + 0x175 + (uint)bVar6 * 4);
  *(undefined4 *)(*(int *)(param_1 + 4) + 0x175 + (uint)bVar6 * 4) = 0;
  *(char *)(*(int *)(param_1 + 4) + 0x189) = *(char *)(*(int *)(param_1 + 4) + 0x189) + -1;
  iVar3 = *(int *)(param_1 + 4);
  bVar5 = bVar6;
  if (*(char *)(iVar3 + 0x189) == '\0') {
    *(undefined4 *)(iVar3 + 0x86) = DAT_005d873c;
    if ((char)DAT_00598944 == '\0') {
      if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) == 0) {
        FUN_00475490(param_1,100);
      }
      else {
        DAT_00598fd4 = 1;
        FUN_004632d0();
      }
    }
LAB_004428a5:
    if (!bVar4) goto LAB_004428d3;
  }
  else {
    do {
      bVar5 = bVar5 + 1;
      uVar7 = (uint)bVar5;
      if (4 < bVar5) goto LAB_00442853;
    } while (*(int *)(iVar3 + 0x175 + uVar7 * 4) == 0);
    bVar4 = true;
    *(undefined4 *)(iVar3 + 0x86) = *(undefined4 *)(iVar3 + 0x175 + uVar7 * 4);
    *(byte *)(*(int *)(param_1 + 4) + 0x18a) = bVar5;
LAB_00442853:
    if (!bVar4) {
      bVar5 = 0;
      uVar7 = 0;
      if (bVar6 != 0) {
        iVar3 = *(int *)(param_1 + 4);
        do {
          if (*(int *)(iVar3 + 0x175 + uVar7 * 4) != 0) {
            bVar4 = true;
            *(undefined4 *)(iVar3 + 0x86) = *(undefined4 *)(iVar3 + 0x175 + uVar7 * 4);
            *(byte *)(*(int *)(param_1 + 4) + 0x18a) = bVar5;
            break;
          }
          bVar5 = bVar5 + 1;
          uVar7 = (uint)bVar5;
        } while (bVar5 < bVar6);
      }
      goto LAB_004428a5;
    }
  }
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0) {
    *(undefined4 *)(DAT_004d83a4 + 0x28) = 1;
    *(uint *)(DAT_004d83a4 + 0x54) = uVar7;
  }
LAB_004428d3:
  *(int *)(*(int *)(param_1 + 4) + 0x98) =
       *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x104;
  FUN_00410870(param_1);
  pbVar1 = (byte *)(*(int *)(param_1 + 4) + 0x8e);
  *pbVar1 = *pbVar1 | 1;
  FUN_0040f4a0(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x40,param_1,1);
  FUN_0048b540(param_1);
  *(undefined *)(*(int *)(param_1 + 4) + 200) = 0;
  uVar7 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
  if ((uVar7 & 2) == 0) {
    *(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar7 | 0x2000000;
  }
  return uVar2;
}



undefined2 * FUN_00442950(undefined2 param_1)

{
  undefined uVar1;
  undefined2 *puVar2;
  undefined4 uVar3;
  
  puVar2 = (undefined2 *)FUN_00425fa0();
  *puVar2 = param_1;
  uVar1 = __ftol();
  *(undefined *)(puVar2 + 2) = uVar1;
  *(undefined4 *)((int)puVar2 + 5) = 0x640;
  *(undefined *)(puVar2 + 5) = 0;
  uVar3 = FUN_0040a500(*(undefined4 *)(DAT_005e5010 + 8),puVar2,param_1);
  *(undefined4 *)((int)puVar2 + 0x13) = uVar3;
  return puVar2;
}



int FUN_004429a0(int param_1,undefined4 param_2,undefined4 param_3)

{
  uint uVar1;
  bool bVar2;
  char cVar3;
  int iVar4;
  
  bVar2 = false;
  if (((short)param_2 == 0xe7) || ((short)param_2 == 0xe8)) {
    param_2 = 0xe2;
  }
  iVar4 = FUN_00442950(param_2,param_3);
  cVar3 = FUN_00442a60(param_1,iVar4);
  *(char *)(iVar4 + 0xe) = cVar3 + '\x01';
  uVar1 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
  if ((((uVar1 & 1) == 0) && ((uVar1 & 2) != 0)) &&
     (2 < *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x48))) {
    *(undefined4 *)(iVar4 + 0xf) = 0;
    bVar2 = true;
  }
  if (!bVar2) {
    if ((short)param_2 == 0xe2) {
      *(undefined4 *)(iVar4 + 0xf) = 0;
      bVar2 = true;
    }
    if (!bVar2) {
      FUN_00474f20(iVar4);
    }
  }
  FUN_0046d7e0(iVar4);
  FUN_0046d770(param_1,0);
  *(int *)(*(int *)(param_1 + 4) + 0x98) = *(int *)(iVar4 + 0x13) + 0x104;
  return iVar4;
}



byte FUN_00442a60(int param_1,short *param_2)

{
  byte *pbVar1;
  short *psVar2;
  bool bVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  byte bVar7;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  bVar7 = 0;
  if ((char)DAT_00598944 != '\0') {
    uVar4 = 0;
    do {
      psVar2 = *(short **)(*(int *)(param_1 + 4) + 0x175 + uVar4 * 4);
      if ((psVar2 != (short *)0x0) && (*psVar2 == *param_2)) {
        bVar3 = true;
        uVar4 = 5;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < 5);
    if (bVar3) {
      FUN_00425ce0(param_1,param_2,0);
      return 0;
    }
  }
  iVar5 = *(int *)(param_1 + 4);
  if (*(char *)(iVar5 + 0x189) == '\x05') {
    if ((char)DAT_00598944 == '\0') goto LAB_00442ce0;
    iVar6 = *(byte *)((int)param_2 + 9) - 1;
    iVar5 = iVar6 * 0xe0;
    (&DAT_005e2181)[iVar5] = 0;
    (&DAT_005e2180)[iVar5] = (&DAT_005e2180)[iVar5] & 0x30;
    (&DAT_005e222b)[iVar6 * 0x38] = 0;
    FUN_00425ce0(param_1,*(undefined4 *)(*(int *)(param_1 + 4) + 0x86),0);
    *(char *)(param_2 + 7) = *(char *)(*(int *)(param_1 + 4) + 0x18a) + '\x01';
    *(short **)(*(int *)(param_1 + 4) + 0x175 + (uint)*(byte *)(*(int *)(param_1 + 4) + 0x18a) * 4)
         = param_2;
    *(short **)(*(int *)(param_1 + 4) + 0x86) = param_2;
    *(int *)(*(int *)(param_1 + 4) + 0x98) = *(int *)((int)param_2 + 0x13) + 0x104;
    *(undefined4 *)(*(int *)(param_1 + 4) + 0x94) = 0x200;
    FUN_0046cdc0(param_1);
    FUN_00410870(param_1);
    pbVar1 = (byte *)(*(int *)(param_1 + 4) + 0x8e);
    *pbVar1 = *pbVar1 | 1;
    FUN_0040f4a0(*(int *)((int)param_2 + 0x13) + 0x40,param_1,1);
  }
  else {
    iVar6 = *(int *)(iVar5 + 0x175);
    while (iVar6 != 0) {
      bVar7 = bVar7 + 1;
      iVar6 = *(int *)(iVar5 + 0x175 + (uint)bVar7 * 4);
    }
    *(byte *)(param_2 + 7) = bVar7 + 1;
    if ((char)DAT_00598944 != '\0') {
      *(undefined4 *)(&DAT_005e214b + (uint)*(byte *)((int)param_2 + 9) * 0xe0) = 0;
    }
    *(short **)(*(int *)(param_1 + 4) + 0x175 + (uint)bVar7 * 4) = param_2;
    *(char *)(*(int *)(param_1 + 4) + 0x189) = *(char *)(*(int *)(param_1 + 4) + 0x189) + '\x01';
    if (*(char *)(*(int *)(param_1 + 4) + 0x189) != '\x01') goto LAB_00442ce0;
    *(short **)(*(int *)(param_1 + 4) + 0x86) = param_2;
    *(undefined *)(*(int *)(param_1 + 4) + 0x18a) = 0;
    *(int *)(*(int *)(param_1 + 4) + 0x98) = *(int *)((int)param_2 + 0x13) + 0x104;
    *(undefined4 *)(*(int *)(param_1 + 4) + 0x94) = 0x200;
    if ((*(byte *)(*(int *)(param_1 + 4) + 0x8f) & 0x10) != 0) {
      FUN_0046cdc0(param_1);
    }
    if ((((DAT_004d83a4 != 0) && ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0)) &&
        (*(undefined4 *)(DAT_004d83a4 + 0x28) = 1, DAT_004d79b0 != 0)) &&
       (*(int *)(DAT_004d79b0 + 8) != 0)) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 0;
    }
    if (DAT_004d8154 != 0) goto LAB_00442ce0;
    FUN_00410870(param_1);
    pbVar1 = (byte *)(*(int *)(param_1 + 4) + 0x8e);
    *pbVar1 = *pbVar1 | 1;
    FUN_0040f4a0(*(int *)((int)param_2 + 0x13) + 0x40,param_1,1);
    iVar5 = FUN_004858c0();
    if (iVar5 != 2) goto LAB_00442ce0;
  }
  FUN_0048b540(param_1);
LAB_00442ce0:
  if ((DAT_004d83a4 != 0) && ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0)) {
    *(byte *)((int)param_2 + 0x1f) = *(byte *)((int)param_2 + 0x1f) | 8;
  }
  return bVar7;
}



undefined4 FUN_00442d10(int param_1,byte param_2,char param_3)

{
  ushort *puVar1;
  int iVar2;
  uint uVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  byte bVar7;
  
  bVar4 = param_2;
  AdjustStackForLargeAllocations();
  if (param_2 < 5) {
    bVar7 = param_2;
    if (param_3 != '\0') {
      bVar5 = 0;
      _param_2 = 0;
      do {
        iVar2 = *(int *)(*(int *)(param_1 + 4) + 0x175 + _param_2 * 4);
        if ((iVar2 != 0) && (bVar7 = bVar5, *(byte *)(iVar2 + 9) == bVar4)) break;
        bVar5 = bVar5 + 1;
        _param_2 = (uint)bVar5;
        bVar7 = 0;
      } while (bVar5 < 5);
    }
    iVar2 = *(int *)(param_1 + 4);
    if (bVar7 != *(byte *)(iVar2 + 0x18a)) {
      uVar6 = (uint)bVar7;
      if (*(int *)(iVar2 + 0x175 + uVar6 * 4) != 0) {
        *(uint *)(iVar2 + 0xc9) = *(uint *)(iVar2 + 0xc9) & 0xffffffcf;
        FUN_0048b5d0(param_1);
        *(byte *)(*(int *)(param_1 + 4) + 0x197) = bVar7;
        *(undefined *)(*(int *)(param_1 + 4) + 0x198) = 0;
        *(undefined4 *)(*(int *)(param_1 + 4) + 0x86) =
             *(undefined4 *)(*(int *)(param_1 + 4) + 0x175 + uVar6 * 4);
        *(byte *)(*(int *)(param_1 + 4) + 0x18a) = bVar7;
        if (((char)DAT_00598944 != '\0') && ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0)) {
          FUN_00466530(0xe,*(undefined *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 9),0,0,0,0);
        }
        uVar3 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
        if ((uVar3 & 1) == 0) {
          if ((uVar3 & 2) != 0) {
            *(undefined *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x6b) = 0xff;
          }
        }
        else {
          *(undefined4 *)(DAT_004d83a4 + 0x28) = 1;
          if ((DAT_004d79b0 != 0) && (*(int *)(DAT_004d79b0 + 8) != 0)) {
            *(uint *)(DAT_004d83a4 + 0x54) = uVar6;
          }
        }
        *(undefined4 *)(*(int *)(param_1 + 4) + 0x94) = 0x200;
        FUN_0046cdc0(param_1);
        *(int *)(*(int *)(param_1 + 4) + 0x98) =
             *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x104;
        *(undefined *)(*(int *)(param_1 + 4) + 4) = 1;
        FUN_00410870(param_1);
        puVar1 = (ushort *)(*(int *)(param_1 + 4) + 0x8e);
        *puVar1 = *puVar1 | 1;
        FUN_0040f4a0(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x40,param_1,1);
        FUN_0048b540(param_1);
        DAT_005990a0 = 0;
        DAT_005de380 = 1;
        return 1;
      }
      if ((*(byte *)(iVar2 + 0x8a) & 1) != 0) {
        *(undefined4 *)(DAT_004d83a4 + 0x28) = 1;
        *(uint *)(DAT_004d83a4 + 0x54) = uVar6;
      }
    }
  }
  return 0;
}



void FUN_00442f00(int param_1)

{
  byte bVar1;
  int iVar2;
  bool bVar3;
  byte bVar4;
  uint uVar5;
  byte bVar6;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  iVar2 = *(int *)(param_1 + 4);
  bVar6 = 0;
  bVar1 = *(byte *)(iVar2 + 0x18a);
  bVar4 = bVar1;
  if (1 < *(byte *)(iVar2 + 0x189)) {
    do {
      bVar6 = bVar4 + 1;
      if (4 < bVar6) goto LAB_00442f59;
      bVar4 = bVar6;
    } while (*(int *)(iVar2 + 0x175 + (uint)bVar6 * 4) == 0);
    bVar3 = true;
LAB_00442f59:
    if (!bVar3) {
      bVar6 = 0;
      if (bVar1 != 0xffffffff) {
        uVar5 = 0;
        do {
          if (*(int *)(iVar2 + 0x175 + uVar5 * 4) != 0) break;
          bVar6 = bVar6 + 1;
          uVar5 = (uint)bVar6;
        } while (uVar5 < bVar1 + 1);
      }
    }
  }
  FUN_00442d10(param_1,bVar6,0);
  return;
}



undefined4 FUN_00442fa0(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  _memset(&DAT_005debc0,0,0x6e);
  _memset(&DAT_005de760,0,0x460);
  uVar1 = DAT_005a88c0;
  puVar2 = &DAT_005debc0;
  puVar3 = &DAT_005de7bb;
  do {
    puVar2[1] = uVar1;
    *puVar2 = puVar3;
    *(code **)((int)puVar2 + 0x12) = FUN_0049f140;
    puVar3 = puVar3 + 0x38;
    puVar2 = (undefined4 *)((int)puVar2 + 0x16);
  } while ((int)puVar3 < 0x5dec1b);
  return 0;
}



void FUN_00443000(int param_1,int param_2)

{
  if ((param_1 != *(int *)(DAT_005df318 + 4)) ||
     (DAT_004d8158 = *(int *)(*(int *)(param_2 + 4) + 0x86),
     *(char *)(*(int *)(*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86) + 0x13) + 0x103)
     != *(char *)(*(int *)(DAT_004d8158 + 0x13) + 0x102))) {
    DAT_004d8158 = 0;
  }
  return;
}



undefined4 FUN_00443050(int param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  
  if (((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) == 0) && (DAT_004d8158 == param_3)) {
    iVar2 = 0;
    piVar1 = &DAT_005de770;
    do {
      if (*piVar1 == 0) {
        (&DAT_005de761)[iVar2 * 0xe0] = 0x19;
        (&DAT_005de770)[iVar2 * 0x38] = param_3;
        (&DAT_005de76e)[iVar2 * 0x70] = 0x32;
        FUN_00475bf0(&DAT_005e4600,*(int *)(param_1 + 4) + 6,1,0);
        FUN_0046d2a0(&DAT_005de774 + iVar2 * 0xe0,param_1,param_2,(float)(DAT_004d8328 % 6),
                     0x3fc00000,0);
        return 1;
      }
      piVar1 = piVar1 + 0x38;
      iVar2 = iVar2 + 1;
    } while ((int)piVar1 < 0x5debd0);
    return 0;
  }
  return 0;
}



undefined4 FUN_00443120(void)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int *piVar6;
  int iVar7;
  float10 fVar8;
  undefined *puVar9;
  undefined4 ***local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005df318 + 4);
  iVar7 = 0;
  piVar6 = &DAT_005de80b;
  iVar2 = *(int *)(iVar1 + 4);
  fVar3 = *(float *)(iVar2 + 0x36);
  fVar4 = *(float *)(iVar2 + 0x3a);
  fVar5 = *(float *)(iVar2 + 0x3e);
  do {
    if ((*(int *)((int)piVar6 + -0x9b) != 0) && (*piVar6 != 0)) {
      if (*(char *)((int)piVar6 + -0xaa) == '\0') {
        if ((*(byte *)(*(int *)(iVar1 + 4) + 0x8a) & 1) != 0) {
          local_18 = (double)(fVar3 - (float)piVar6[-0x18]);
          local_1c = (undefined4 ***)0x443192;
          fVar8 = (float10)FUN_004ad3c0();
          if (fVar8 < (float10)2.559999942779541) {
            local_18 = (double)(fVar5 - (float)piVar6[-0x16]);
            local_1c = (undefined4 ***)0x4431b3;
            fVar8 = (float10)FUN_004ad3c0();
            if (fVar8 < (float10)2.559999942779541) {
              local_18 = (double)(fVar4 - (float)piVar6[-0x17]);
              local_1c = (undefined4 ***)0x4431d4;
              fVar8 = (float10)FUN_004ad3c0();
              if (fVar8 < (float10)2.559999942779541) {
                local_18 = *(double *)(&DAT_005de7af + iVar7 * 0x38);
                local_1c = (undefined4 ***)0x44323b;
                fVar8 = (float10)FUN_0045e9e0();
                local_1c = (undefined4 ***)(float)(fVar8 - (float10)-0.5);
                FUN_0046cc80(&local_1c,0x14,1);
                local_1c = &local_1c;
                local_18 = (double)CONCAT44(1,(uint)(ushort)(&DAT_005de76e)[iVar7 * 0x70]);
                FUN_0049cca0();
                *(uint *)(*(int *)(iVar1 + 4) + 399) =
                     *(int *)(*(int *)(iVar1 + 4) + 399) +
                     (uint)(ushort)(&DAT_005de76e)[iVar7 * 0x70];
                if (*(char *)(*(int *)(iVar1 + 4) + 0x189) == '\0') {
                  puVar9 = &DAT_005e4870;
                }
                else {
                  puVar9 = &DAT_005e4627;
                }
                local_1c = (undefined4 ***)(*(int *)(iVar1 + 4) + 6);
                local_18 = 4.940656458412465e-324;
                FUN_00475bf0(puVar9);
                (&DAT_005de770)[iVar7 * 0x38] = 0;
                (&DAT_005de761)[iVar7 * 0xe0] = 0;
                (&DAT_005de80b)[iVar7 * 0x38] = 0;
                return 1;
              }
            }
          }
        }
      }
      else {
        *(char *)((int)piVar6 + -0xaa) = *(char *)((int)piVar6 + -0xaa) + -1;
      }
    }
    piVar6 = piVar6 + 0x38;
    iVar7 = iVar7 + 1;
  } while ((int)piVar6 < 0x5dec6b);
  return 1;
}



undefined4 FUN_004432f0(void)

{
  int iVar1;
  float *pfVar2;
  
  AdjustStackForLargeAllocations();
  FUN_00443120();
  pfVar2 = (float *)&DAT_005de7af;
  do {
    if (*(int *)((int)pfVar2 + -0x3f) != 0) {
      if (pfVar2[0x17] == 4.203895e-45) {
        iVar1 = FUN_00422ac0();
        if (iVar1 != 0) {
          pfVar2[-1] = (*(float *)(iVar1 + 0x36) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x6f)) +
                       pfVar2[-1];
          *pfVar2 = (*(float *)(iVar1 + 0x3a) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x73)) + *pfVar2
          ;
          pfVar2[1] = (*(float *)(iVar1 + 0x3e) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x77)) +
                      pfVar2[1];
        }
      }
      else if (pfVar2[0x17] != 5.605194e-45) {
        FUN_004a4bc0();
      }
    }
    pfVar2 = pfVar2 + 0x38;
  } while ((int)pfVar2 < 0x5dec0f);
  return 1;
}



void FUN_004433c0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  if (DAT_004d8388 != 0) {
    _Size = 0x4b0;
    _Val = 0;
    _Dst = (void *)AllocateMemoryWithCallback(0x4b0);
    DAT_004d8164 = _memset(_Dst,_Val,_Size);
  }
  return;
}



void FUN_004433f0(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  size_t sVar2;
  int iVar3;
  int iVar4;
  char acStackY_107 [227];
  undefined4 uStackY_24;
  int iStackY_20;
  undefined4 uStackY_1c;
  char *pcVar5;
  
  AdjustStackForLargeAllocations();
  uVar1 = DAT_004d8328;
  if (DAT_004d816c == 100) {
    if (DAT_004d8168 == 0) {
      uStackY_1c = 0x44342f;
      FID_conflict___mbscpy(acStackY_107 + 3,&DAT_005de660);
      sVar2 = _strlen(&DAT_005de660);
      pcVar5 = &DAT_005de660;
      acStackY_107[sVar2] = 'k';
      sVar2 = _strlen(pcVar5);
      pcVar5 = &DAT_005de660;
      acStackY_107[sVar2 + 1] = 'p';
      sVar2 = _strlen(pcVar5);
      acStackY_107[sVar2 + 2] = 'r';
      uStackY_1c = 0x44348c;
      DAT_004d8168 = OpenFileWithFixedFlags0x40();
    }
    iVar4 = 0;
    if (0 < DAT_004d816c) {
      iVar3 = 0;
      do {
        iStackY_20 = DAT_004d8164 + iVar3;
        uStackY_1c = 4;
        uStackY_24 = 0x4434ba;
        FUN_004ae3e0();
        iStackY_20 = DAT_004d8164 + 4 + iVar3;
        uStackY_1c = 4;
        uStackY_24 = 0x4434d7;
        FUN_004ae3e0();
        iStackY_20 = DAT_004d8164 + 8 + iVar3;
        uStackY_1c = 4;
        uStackY_24 = 0x4434f4;
        FUN_004ae3e0();
        iVar4 = iVar4 + 1;
        iVar3 = iVar3 + 0xc;
      } while (iVar4 < DAT_004d816c);
    }
    DAT_004d816c = 0;
  }
  *(undefined4 *)(DAT_004d8164 + DAT_004d816c * 0xc) = uVar1;
  *(undefined4 *)(DAT_004d8164 + 4 + DAT_004d816c * 0xc) = param_2;
  *(undefined4 *)(DAT_004d8164 + 8 + DAT_004d816c * 0xc) = param_1;
  DAT_004d816c = DAT_004d816c + 1;
  return;
}



void FUN_00443560(void)

{
  size_t sVar1;
  int iVar2;
  void *_Dst;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  uint uVar3;
  char acStackY_137 [279];
  uint local_20;
  undefined *puStackY_1c;
  undefined4 uStackY_18;
  undefined4 uVar4;
  char *pcVar5;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(acStackY_137 + 3,&DAT_005de660);
  sVar1 = _strlen(&DAT_005de660);
  pcVar5 = &DAT_005de660;
  acStackY_137[sVar1] = 'k';
  sVar1 = _strlen(pcVar5);
  pcVar5 = &DAT_005de660;
  acStackY_137[sVar1 + 1] = 'p';
  sVar1 = _strlen(pcVar5);
  acStackY_137[sVar1 + 2] = 'r';
  iVar2 = FUN_004ae940();
  if (iVar2 == 0) {
    DAT_004d8168 = OpenFileWithFixedFlags0x40();
    uVar3 = local_20 / 0xc;
    sVar1 = uVar3 * 0xc;
    iVar2 = 0;
    uStackY_18 = 0x443621;
    DAT_004d8160 = uVar3;
    _Dst = (void *)AllocateMemoryWithCallback();
    uStackY_18 = 0x44362a;
    DAT_004d8164 = _memset(_Dst,iVar2,sVar1);
    if (uVar3 != 0) {
      iVar2 = 0;
      do {
        puStackY_1c = &stack0xfffffff4;
        uStackY_18 = 4;
        local_20 = 0x44364c;
        CopyDataWithLock();
        *(undefined4 *)((int)DAT_004d8164 + iVar2) = unaff_ESI;
        puStackY_1c = &stack0xfffffff0;
        uStackY_18 = 4;
        local_20 = 0x44366f;
        uVar4 = DAT_004d8168;
        CopyDataWithLock();
        *(undefined4 *)((int)DAT_004d8164 + iVar2 + 4) = uVar4;
        puStackY_1c = &stack0xfffffff8;
        uStackY_18 = 4;
        local_20 = 0x443692;
        CopyDataWithLock();
        *(undefined4 *)((int)DAT_004d8164 + iVar2 + 8) = unaff_EDI;
        iVar2 = iVar2 + 0xc;
        uVar3 = uVar3 - 1;
      } while (uVar3 != 0);
    }
    FUN_004adcf0();
  }
  return;
}



void FUN_004436c0(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  
  AdjustStackForLargeAllocations();
  iVar2 = 0;
  if (DAT_004d8160 == 0) {
    DAT_004d8384 = 0;
  }
  DAT_004cb9c0 = DAT_004d8328;
  piVar1 = DAT_004d8164;
  if (0 < DAT_004d8160) {
    do {
      if (*piVar1 == DAT_004d8328) {
        piVar4 = DAT_004d8164 + iVar2 * 3;
        break;
      }
      iVar2 = iVar2 + 1;
      piVar1 = piVar1 + 3;
      piVar4 = DAT_004d8164;
    } while (iVar2 < DAT_004d8160);
    if (iVar2 < DAT_004d8160) {
      iVar3 = iVar2 * 0xc;
      do {
        if (*(int *)((int)DAT_004d8164 + iVar3) != DAT_004cb9c0) {
          return;
        }
        if (piVar4[1] == 0) {
          FUN_00444e60(*(undefined4 *)((int)DAT_004d8164 + iVar3 + 8));
        }
        else {
          FUN_00444930(*(undefined4 *)((int)DAT_004d8164 + iVar3 + 8));
        }
        DAT_004d816c = DAT_004d816c + 1;
        iVar2 = iVar2 + 1;
        iVar3 = iVar3 + 0xc;
        if (iVar2 == DAT_004d8160) {
          if (DAT_004d8164 != (int *)0x0) {
            FreeMemory(DAT_004d8164);
            DAT_004d8164 = (int *)0x0;
          }
          FUN_004858f0(8);
          FUN_0048daa0(0);
        }
      } while (iVar2 < DAT_004d8160);
    }
  }
  return;
}



void FUN_004437c0(void)

{
  size_t sVar1;
  int iVar2;
  int iVar3;
  char acStackY_107 [231];
  undefined4 uStackY_20;
  int iStackY_1c;
  undefined4 uStackY_18;
  char *pcVar4;
  
  AdjustStackForLargeAllocations();
  if (DAT_004d8388 != 0) {
    if (DAT_004d8168 == 0) {
      uStackY_18 = 0x4437f6;
      FID_conflict___mbscpy(acStackY_107 + 3,&DAT_005de660);
      sVar1 = _strlen(&DAT_005de660);
      pcVar4 = &DAT_005de660;
      acStackY_107[sVar1] = 'k';
      sVar1 = _strlen(pcVar4);
      pcVar4 = &DAT_005de660;
      acStackY_107[sVar1 + 1] = 'p';
      sVar1 = _strlen(pcVar4);
      acStackY_107[sVar1 + 2] = 'r';
      uStackY_18 = 0x443853;
      DAT_004d8168 = OpenFileWithFixedFlags0x40();
    }
    iVar3 = 0;
    if (0 < DAT_004d816c) {
      iVar2 = 0;
      do {
        iStackY_1c = DAT_004d8164 + iVar2;
        uStackY_18 = 4;
        uStackY_20 = 0x443881;
        FUN_004ae3e0();
        iStackY_1c = DAT_004d8164 + 4 + iVar2;
        uStackY_18 = 4;
        uStackY_20 = 0x44389e;
        FUN_004ae3e0();
        iStackY_1c = DAT_004d8164 + 8 + iVar2;
        uStackY_18 = 4;
        uStackY_20 = 0x4438bb;
        FUN_004ae3e0();
        iVar3 = iVar3 + 1;
        iVar2 = iVar2 + 0xc;
      } while (iVar3 < DAT_004d816c);
    }
    FUN_004adcf0();
    DAT_004d8168 = 0;
    if (DAT_004d8164 != 0) {
      FreeMemory();
      DAT_004d8164 = 0;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_00443910(void)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  DAT_004d81c0 = FUN_004858c0();
  if (DAT_004d837c != 0) {
    if (DAT_004d8378 == 0) {
      iVar2 = (**(code **)(*DAT_004d8374 + 0x1c))(DAT_004d8374);
      if (iVar2 < 0) {
        return 0;
      }
      DAT_004d8378 = 1;
      FUN_00444020();
    }
    iVar2 = (**(code **)(*DAT_004d8374 + 100))(DAT_004d8374);
    piVar1 = DAT_004d8374;
    if (iVar2 < 0) {
      DAT_004d8378 = 0;
      return 0;
    }
    puVar3 = &DAT_004d81c8;
    puVar4 = &DAT_004d8170;
    for (iVar2 = 0x14; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    (**(code **)(*piVar1 + 0x24))(piVar1,0x50,&DAT_004d81c8);
    DAT_005de644 = 0;
    DAT_005de640 = 0;
    if ((DAT_004d81c8 < 100) && (-100 < DAT_004d81c8)) {
      DAT_004d81c8 = 0;
    }
    if ((DAT_004d81cc < 100) && (-100 < DAT_004d81cc)) {
      DAT_004d81cc = 0;
    }
    if (DAT_004d81c8 == 0) {
      if ((DAT_004d8224 == 1) && (_DAT_004d8228 != 0)) {
        DAT_004d824c = DAT_004d824c & 0xfffffff3;
      }
    }
    else {
      if (DAT_004d81c8 < 0x65) {
        DAT_005de644 = DAT_004d81c8 + 100;
        DAT_004d824c = DAT_004d824c | 4;
      }
      else {
        DAT_005de644 = DAT_004d81c8 + -100;
        DAT_004d824c = DAT_004d824c | 8;
      }
      DAT_004d8224 = 1;
    }
    if (DAT_004d81cc == 0) {
      if ((DAT_004d8224 == 1) && (_DAT_004d822c != 0)) {
        DAT_004d824c = DAT_004d824c & 0xfffffffc;
      }
    }
    else {
      DAT_005de640 = DAT_004d81cc + -100;
      if (DAT_004d81cc < 0x65) {
        DAT_004d8224 = 1;
        DAT_004d824c = DAT_004d824c & 0xfffffffd | 1;
      }
      else {
        DAT_004d8224 = 1;
        DAT_004d824c = DAT_004d824c & 0xfffffffe | 2;
      }
    }
    if ((DAT_004d81c8 == 0) && (DAT_004d81cc == 0)) {
      DAT_004d8224 = 0;
    }
    _DAT_004d8228 = DAT_004d81c8;
    _DAT_004d822c = DAT_004d81cc;
    iVar2 = (**(code **)(*DAT_004d8374 + 0x28))(DAT_004d8374,0x10,0,&stack0xfffffff8,1);
    if ((-1 < iVar2) &&
       (iVar2 = (**(code **)(*DAT_004d8374 + 0x28))
                          (DAT_004d8374,0x10,&DAT_005de500,&stack0xfffffff8,0), -1 < iVar2)) {
      uVar5 = 0;
      puVar3 = (undefined4 *)&DAT_005de500;
      do {
        DAT_004d839c._0_1_ = DAT_004d83a0;
        DAT_004d8394._0_1_ = DAT_004d8398;
        if ((*(byte *)(puVar3 + 1) & 0xf0) == 0) {
          iVar2 = FUN_00443f30(*puVar3);
        }
        else {
          iVar2 = FUN_00443ea0(*puVar3);
        }
        if (iVar2 != 0) {
          DAT_004d8224 = 1;
        }
        uVar5 = uVar5 + 1;
        puVar3 = puVar3 + 4;
      } while (uVar5 < 0x14);
    }
  }
  return DAT_004d8224;
}



undefined4 FUN_00443ba0(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  iVar1 = 0xff;
  uVar4 = 0;
  if (((DAT_004d8170 - DAT_004d81c8 < 0x65) || (-0x65 < DAT_004d81c8)) ||
     ((DAT_004d8220 & 0xc) != 0)) {
    if (((DAT_004d81c8 - DAT_004d8170 < 0x65) || (DAT_004d81c8 < 0x65)) ||
       ((DAT_004d8220 & 0xc) != 0)) goto LAB_00443c10;
    iVar1 = 0xe5;
    DAT_004d8220 = DAT_004d8220 | 8;
  }
  else {
    iVar1 = 0xe4;
    DAT_004d8220 = DAT_004d8220 | 4;
  }
  uVar4 = 1;
LAB_00443c10:
  if (iVar1 != 0xff) {
    if (0 < DAT_004d8390) {
      puVar2 = &DAT_005ddc44;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445250(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d8390);
    }
    FUN_00448020(DAT_004d81c0,DAT_004d8254,DAT_004cba3c,(&DAT_005ddc44)[iVar3 * 2]);
  }
  return uVar4;
}



undefined4 FUN_00443c70(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  iVar1 = 0xff;
  uVar4 = 0;
  if (((DAT_004d8174 - DAT_004d81cc < 0x65) || (-0x65 < DAT_004d81cc)) || ((DAT_004d8220 & 3) != 0))
  {
    if (((DAT_004d81cc - DAT_004d8174 < 0x65) || (DAT_004d81cc < 0x65)) || ((DAT_004d8220 & 3) != 0)
       ) goto LAB_00443ce0;
    iVar1 = 0xe7;
    DAT_004d8220 = DAT_004d8220 | 2;
  }
  else {
    iVar1 = 0xe6;
    DAT_004d8220 = DAT_004d8220 | 1;
  }
  uVar4 = 1;
LAB_00443ce0:
  if (iVar1 != 0xff) {
    if (0 < DAT_004d8390) {
      puVar2 = &DAT_005ddc44;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445250(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d8390);
    }
    FUN_00448020(DAT_004d81c0,DAT_004d8254,DAT_004cba3c,(&DAT_005ddc44)[iVar3 * 2]);
  }
  return uVar4;
}



void FUN_00443e40(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < DAT_004d8390) {
    puVar1 = &DAT_005ddc44;
    do {
      if (puVar1[-1] == param_1) {
        FUN_00445e40(*puVar1);
      }
      iVar2 = iVar2 + 1;
      puVar1 = puVar1 + 2;
    } while (iVar2 < DAT_004d8390);
  }
  FUN_00448130(DAT_004d81c0,DAT_004d8254,DAT_004cba3c,(&DAT_005ddc44)[iVar2 * 2]);
  return;
}



undefined4 FUN_00443ea0(uint param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  iVar1 = 0xff;
  if ((0x2f < param_1) && (param_1 < 0x3c)) {
    iVar1 = param_1 + 0xbb;
  }
  if (iVar1 != 0xff) {
    iVar3 = 0;
    if (0 < DAT_004d8390) {
      puVar2 = &DAT_005ddc44;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445250(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d8390);
    }
    FUN_00448020(DAT_004d81c0,DAT_004d8254,DAT_004cba3c,(&DAT_005ddc44)[iVar3 * 2]);
    return 1;
  }
  return 0;
}



undefined4 FUN_00443f30(uint param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  iVar1 = 0xff;
  if ((0x2f < param_1) && (param_1 < 0x3c)) {
    iVar1 = param_1 + 0xbb;
  }
  if (iVar1 != 0xff) {
    iVar3 = 0;
    if (0 < DAT_004d8390) {
      puVar2 = &DAT_005ddc44;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445e40(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d8390);
    }
    FUN_00448130(DAT_004d81c0,DAT_004d8254,DAT_004cba3c,(&DAT_005ddc44)[iVar3 * 2]);
    return 1;
  }
  return 0;
}



void FUN_00443fc0(void)

{
  int iVar1;
  int local_8;
  
  local_8 = 0x443fcd;
  AdjustStackForLargeAllocations();
  if (DAT_004d837c != 0) {
    local_8 = 1;
    iVar1 = (**(code **)(*DAT_004d8374 + 0x28))(DAT_004d8374,0x10,0,&local_8);
    if ((-1 < iVar1) && (local_8 != 0)) {
      (**(code **)(*DAT_004d8374 + 0x28))(DAT_004d8374,0x10,&DAT_005de500,&local_8,0);
    }
  }
  return;
}



void FUN_00444020(void)

{
  DAT_004d8220 = 0;
  DAT_004d824c = 0;
  DAT_004cba3c = 0xff;
  DAT_004d8394._0_1_ = 0;
  DAT_004d8398 = 0;
  DAT_004d839c._0_1_ = 0;
  DAT_004d83a0 = 0;
  _memset(&DAT_004d8170,0,0x50);
  _memset(&DAT_004d81c8,0,0x50);
  return;
}



undefined4 FUN_00444070(void)

{
  int *piVar1;
  int iVar2;
  uint *puVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  AdjustStackForLargeAllocations();
  uVar4 = 0;
  DAT_004d81c0 = FUN_004858c0();
  if (DAT_004d837c != 0) {
    if (DAT_004d8378 == 0) {
      iVar2 = (**(code **)(*DAT_004d8374 + 0x1c))(DAT_004d8374);
      if (iVar2 < 0) {
        return 0;
      }
      DAT_004d8378 = 1;
      FUN_00444020();
    }
    iVar2 = (**(code **)(*DAT_004d8374 + 100))(DAT_004d8374);
    piVar1 = DAT_004d8374;
    if (iVar2 < 0) {
      DAT_004d8378 = 0;
      return 0;
    }
    puVar5 = &DAT_004d81c8;
    puVar6 = &DAT_004d8170;
    for (iVar2 = 0x14; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar6 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar6 = puVar6 + 1;
    }
    (**(code **)(*piVar1 + 0x24))(piVar1,0x50,&DAT_004d81c8);
    iVar2 = (**(code **)(*DAT_004d8374 + 0x28))(DAT_004d8374,0x10,0,&stack0xfffffff8,1);
    if ((-1 < iVar2) &&
       (iVar2 = (**(code **)(*DAT_004d8374 + 0x28))
                          (DAT_004d8374,0x10,&DAT_005de500,&stack0xfffffff8,0), -1 < iVar2)) {
      iVar2 = 0x14;
      DAT_004d839c._0_1_ = DAT_004d83a0;
      DAT_004d8394._0_1_ = DAT_004d8398;
      puVar3 = (uint *)&DAT_005de500;
      do {
        if ((((*(byte *)(puVar3 + 1) & 0xf0) != 0) && (0x2f < *puVar3)) && (*puVar3 < 0x3c)) {
          uVar4 = 1;
          DAT_004d8234 = *(char *)puVar3 + -0x45;
        }
        puVar3 = puVar3 + 4;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
  }
  return uVar4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004441a0(void)

{
  int iVar1;
  int *piVar2;
  undefined4 uVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  if (DAT_005de230 == 0) {
    iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
    if (iVar1 < 0) {
      return 0;
    }
    DAT_005de230 = 1;
    FUN_004444b0();
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x28))(DAT_005ddc24,0x10,0,&stack0xfffffff8,1);
  if (iVar1 < 0) {
    if ((iVar1 == -0x7ff8ffe2) || (iVar1 == -0x7ff8fff4)) {
      DAT_005de230 = 0;
      iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
      if (-1 < iVar1) {
        DAT_005de230 = 1;
        if ((DAT_005df318 != 0) && (DAT_005e45e8 != 0)) {
          *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9) = 0;
          *(undefined4 *)(*(int *)(DAT_005e45e8 + 4) + 0xc9) = 0;
        }
        FUN_004444b0();
      }
    }
  }
  else {
    iVar1 = (**(code **)(*DAT_005ddc24 + 0x28))(DAT_005ddc24,0x10,&DAT_005de3a0,&stack0xfffffff8,0);
    if (-1 < iVar1) {
      uVar4 = 0;
      piVar2 = (int *)&DAT_005de3a0;
      do {
        if (DAT_004d8230 == 0) {
          DAT_004d8394._0_1_ = DAT_004d8398;
          DAT_004d839c._0_1_ = DAT_004d83a0;
          if ((*(byte *)(piVar2 + 1) & 0xf0) == 0) {
            FUN_00444e60(*piVar2);
            uVar3 = 1;
          }
          else {
            if (DAT_00598fe8 == '\0') {
              FUN_00444930(*piVar2);
              uVar3 = 1;
            }
            if (*piVar2 == 0x4a) {
              if ((DAT_004d784c != 0) && (100 < DAT_004c5714)) {
                _DAT_004d7858 = 1;
                DAT_004c5710 = DAT_004c5710 + -0x20;
                DAT_004c5714 = DAT_004c5714 + -0x14;
              }
            }
            else if (((*piVar2 == 0x4e) && (DAT_004d784c != 0)) &&
                    (DAT_004c5710 < *(int *)(DAT_005e5010 + 0x2514))) {
              DAT_004c5710 = DAT_004c5710 + 0x20;
              DAT_004c5714 = DAT_004c5714 + 0x14;
              _DAT_004d7858 = 1;
            }
          }
        }
        uVar4 = uVar4 + 1;
        piVar2 = piVar2 + 4;
      } while (uVar4 < 0x14);
      return uVar3;
    }
  }
  return 0;
}



undefined4 FUN_00444390(void)

{
  int iVar1;
  uint *puVar2;
  undefined4 uVar3;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  if (DAT_005de230 == 0) {
    iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
    if (iVar1 < 0) {
      return 0;
    }
    DAT_005de230 = 1;
    FUN_004444b0();
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x28))(DAT_005ddc24,0x10,0,&stack0xfffffff8,1);
  if ((-1 < iVar1) &&
     (iVar1 = (**(code **)(*DAT_005ddc24 + 0x28))
                        (DAT_005ddc24,0x10,&DAT_005de3a0,&stack0xfffffff8,0), -1 < iVar1)) {
    iVar1 = 0x14;
    puVar2 = (uint *)&DAT_005de3a0;
    do {
      if (((*(byte *)(puVar2 + 1) & 0xf0) != 0) && ((*puVar2 < 0x3b || (0x44 < *puVar2)))) {
        DAT_004d8234 = *(undefined *)puVar2;
        uVar3 = 1;
      }
      puVar2 = puVar2 + 4;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  return uVar3;
}



void FUN_00444460(void)

{
  int iVar1;
  int local_8;
  
  local_8 = 0x44446d;
  AdjustStackForLargeAllocations();
  local_8 = 0x14;
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x28))(DAT_005ddc24,0x10,0,&local_8);
  if ((-1 < iVar1) && (local_8 != 0)) {
    (**(code **)(*DAT_005ddc24 + 0x28))(DAT_005ddc24,0x10,&DAT_005de3a0,&local_8,0);
  }
  return;
}



void FUN_004444b0(void)

{
  int iVar1;
  
  DAT_004d824c = 0;
  DAT_004d8394._0_1_ = 0;
  DAT_004d8398 = 0;
  DAT_004d839c._0_1_ = 0;
  DAT_004d83a0 = 0;
  DAT_004cba3c = 0xff;
  _memset(&DAT_004d8280,0,0x3c);
  _memset(&DAT_004d82e0,0,0x3c);
  _memset(&DAT_004d82c0,0,0x1e);
  iVar1 = FUN_0048da70();
  if ((((iVar1 == 2) && (DAT_005df318 != 0)) && (*(int *)(DAT_005df318 + 4) != 0)) &&
     (iVar1 = *(int *)(*(int *)(DAT_005df318 + 4) + 4), iVar1 != 0)) {
    *(undefined4 *)(iVar1 + 0xc9) = 0;
  }
  return;
}



undefined4 FUN_00444540(void)

{
  int iVar1;
  
  DAT_005de380 = 0;
  iVar1 = FUN_00446480(0);
  if ((iVar1 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20240000) == 0)) {
    FUN_00418480(0);
    DAT_005de380 = 1;
  }
  iVar1 = FUN_00446480(1);
  if ((iVar1 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20240000) == 0)) {
    FUN_00418480(0);
    DAT_005de380 = 1;
  }
  iVar1 = FUN_00446480(2);
  if ((iVar1 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20240000) == 0)) {
    FUN_00418480(0);
    DAT_005de380 = 1;
  }
  iVar1 = FUN_00446480(3);
  if ((iVar1 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20240000) == 0)) {
    FUN_00418480(0);
    DAT_005de380 = 1;
  }
  FUN_00446480(4);
  iVar1 = FUN_00446480(5);
  if ((iVar1 != 0) &&
     ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20240000) == 0)) {
    FUN_00418480(0);
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00444660(void)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  iVar5 = 0;
  bVar2 = false;
  if (((DAT_004d79b0 != 0) && (DAT_004d8238 != 10)) && (*(int *)(DAT_004d79b0 + 8) != 0)) {
    bVar2 = true;
  }
  DAT_004d8238 = FUN_004858c0();
  if ((((DAT_004d8238 == 4) || (DAT_004d8238 == 10)) || ((DAT_004d8254 == '\x04' && (bVar2)))) ||
     (((char)DAT_00598944 != '\0' && (DAT_004d8268 != 0)))) {
    DAT_004cba3c = -1;
  }
  if (DAT_004d8238 == 10) {
    bVar2 = false;
  }
  _DAT_004d8324 = FUN_0048da70();
  if (_DAT_004d8324 == 1) {
    DAT_004d8328 = DAT_004d8328 + 1;
  }
  DAT_004d8250 = DAT_004d824c;
  if (_DAT_004d8324 == 1) {
    iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    if (*(char *)(iVar3 + 0xd1) == '\x03') {
      *(undefined *)(iVar3 + 0xd1) = 0;
      *(undefined *)(iVar3 + 0xd2) = 0;
    }
    else {
      bVar1 = *(byte *)(iVar3 + 0xd2);
      if (bVar1 < 2) {
        if (bVar1 == 1) {
          *(undefined *)(iVar3 + 0xd2) = 0;
          *(undefined *)(iVar3 + 0xd1) = 0;
        }
      }
      else {
        *(byte *)(iVar3 + 0xd2) = bVar1 - 1;
      }
    }
  }
  if ((DAT_004d8388 == 0) && (DAT_004d8384 == 0)) {
    iVar3 = FUN_00443910();
    iVar4 = FUN_00446db0();
  }
  else {
    iVar4 = 0;
    iVar3 = 0;
  }
  if (DAT_004d8384 == 0) {
    iVar5 = FUN_004441a0();
  }
  else if (_DAT_004d8324 == 1) {
    FUN_004436c0(DAT_004d8238);
    iVar5 = FUN_00444390();
  }
  if (_DAT_004d8324 == 7) {
    return DAT_004d824c;
  }
  if (DAT_00598f20 == 0) {
LAB_004447ee:
    if ((((DAT_004d8238 == 2) && ((DAT_005e45ec == 0 || (DAT_005e45ec == 2)))) &&
        (((char)DAT_00598944 == '\0' || (DAT_004d8268 == 0)))) &&
       ((DAT_005e45e8 != 0 && (*(int *)(DAT_005e45e8 + 4) != 0)))) {
      *(undefined4 *)(*(int *)(DAT_005e45e8 + 4) + 0xc9) = DAT_004d824c;
    }
  }
  else if (DAT_004d8238 == 2) {
    if (((iVar5 != 0) || (iVar4 != 0)) || (iVar3 != 0)) {
      DAT_00598f20 = 0;
      DAT_004d8248 = 1;
      _DAT_004d7bc0 = 1;
      DAT_005e45d0 = 1;
      FUN_004858f0(8);
      FUN_0048daa0(0);
    }
    goto LAB_004447ee;
  }
  if (((char)DAT_00598944 == '\0') || (DAT_004d8268 == 0)) {
    if ((((DAT_004cb05c != 8) && ((DAT_004cb05c != 7 && (DAT_004cb05c != 0)))) ||
        (DAT_004d8238 == 10)) || (bVar2)) {
      FUN_004465d0();
      if (((DAT_004cba3c == -1) || (DAT_004d83a0 == '\0')) && (iVar4 == 0)) goto LAB_004448d2;
      _DAT_004d8270 = 0;
      DAT_004d8260 = iVar4;
      if (iVar4 != 0) {
        FUN_00437fb0();
      }
      FUN_00438cf0(iVar4);
      if (bVar2) {
        FUN_00417970();
      }
      else {
        FUN_0043d690();
      }
    }
  }
  else {
    if (((DAT_004cba3c != -1) && (DAT_004d83a0 != '\0')) || (iVar4 != 0)) {
      FUN_0043ada0();
    }
    FUN_0043b000();
  }
  if (iVar4 != 0) {
    DAT_004d80bc = 5;
    DAT_004d80e4 = 1;
    return DAT_004d824c;
  }
LAB_004448d2:
  if ((iVar3 == 0) && (iVar5 == 0)) {
    DAT_004d80bc = DAT_004d80bc + 1;
    DAT_004d80e4 = (uint)(5 < DAT_004d80bc);
    if (10 < DAT_004d80bc) {
      DAT_004d80bc = 0;
      return DAT_004d824c;
    }
    return DAT_004d824c;
  }
  DAT_004d80e4 = 1;
  DAT_004d80bc = 5;
  return DAT_004d824c;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00444930(uint param_1)

{
  byte *pbVar1;
  bool bVar2;
  undefined4 uVar3;
  
  if (DAT_004d8264 == 0) {
    if ((DAT_004d8238 == 4) || (DAT_004d8238 == 10)) {
      bVar2 = param_1 == 200;
      if (bVar2) {
LAB_00444a3c:
        uVar3 = 0;
      }
      else {
        bVar2 = param_1 == 0xcd;
        if (bVar2) {
LAB_00444a54:
          uVar3 = 3;
        }
        else {
          bVar2 = param_1 == 0xcb;
          if (bVar2) {
LAB_00444a6c:
            uVar3 = 2;
          }
          else {
            bVar2 = param_1 == 0xd0;
            if (bVar2) {
LAB_00444a84:
              uVar3 = 1;
            }
            else {
              if (((param_1 == 0x9c) || (param_1 == 0x1c)) || (param_1 == 0x1d)) {
                bVar2 = true;
              }
              else {
                bVar2 = false;
              }
              if (bVar2 == false) {
                bVar2 = DAT_005dce02 == param_1;
                if (bVar2) {
                  uVar3 = 0x16;
                }
                else {
                  bVar2 = DAT_005dcdea == param_1;
                  if (bVar2) {
                    uVar3 = 0xe;
                  }
                  else {
                    bVar2 = DAT_005dcdf6 == param_1;
                    if (bVar2) {
                      uVar3 = 0x12;
                    }
                    else {
                      bVar2 = (DAT_005dcdf0 & 0xff) == param_1;
                      if (!bVar2) goto LAB_00444b21;
                      uVar3 = 0x10;
                    }
                  }
                }
              }
              else {
                uVar3 = 0xd;
              }
            }
          }
        }
      }
LAB_00444b11:
      FUN_00445250(uVar3);
      if (bVar2 != false) goto LAB_00444e13;
    }
    else {
      bVar2 = (DAT_005dcdc0 & 0xff) == param_1;
      if ((bVar2) || (bVar2 = param_1 == 200, bVar2)) goto LAB_00444a3c;
      bVar2 = DAT_005dcdc9 == param_1;
      if ((bVar2) || (bVar2 = param_1 == 0xcd, bVar2)) goto LAB_00444a54;
      bVar2 = DAT_005dcdc6 == param_1;
      if ((bVar2) || (bVar2 = param_1 == 0xcb, bVar2)) goto LAB_00444a6c;
      bVar2 = DAT_005dcdc0 >> 0x18 == param_1;
      if (bVar2) goto LAB_00444a84;
      bVar2 = param_1 == 0xd0;
      if (bVar2) {
        uVar3 = 1;
        goto LAB_00444b11;
      }
    }
LAB_00444b21:
    if (DAT_004d8238 != 10) {
      bVar2 = DAT_005dcdd5 == param_1;
      if (bVar2) {
        uVar3 = 7;
      }
      else {
        bVar2 = DAT_005dcdd2 == param_1;
        if (bVar2) {
          uVar3 = 6;
        }
        else {
          bVar2 = DAT_005dcdcc >> 0x18 == param_1;
          if (bVar2) {
            FUN_00445250(5);
            if (DAT_004d8238 == 2) {
              pbVar1 = (byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8f);
              *pbVar1 = *pbVar1 | 0x20;
            }
            goto LAB_00444e0f;
          }
          bVar2 = (DAT_005dcdcc & 0xff) == param_1;
          if (bVar2) {
            uVar3 = 4;
          }
          else {
            bVar2 = DAT_005dcdde == param_1;
            if (bVar2) {
              uVar3 = 10;
            }
            else {
              bVar2 = DAT_005dcdfc >> 0x18 == param_1;
              if (bVar2) {
                uVar3 = 0x15;
              }
              else {
                bVar2 = DAT_005dce05 == param_1;
                if (bVar2) {
                  uVar3 = 0x17;
                }
                else {
                  bVar2 = DAT_005dce02 == param_1;
                  if (bVar2) {
                    uVar3 = 0x16;
                  }
                  else {
                    bVar2 = DAT_005dcde4 >> 0x18 == param_1;
                    if ((bVar2) || (bVar2 = param_1 == 0x9c, bVar2)) {
                      uVar3 = 0xd;
                    }
                    else {
                      bVar2 = DAT_005dcdea == param_1;
                      if (bVar2) {
                        uVar3 = 0xe;
                      }
                      else {
                        bVar2 = DAT_005dcdf6 == param_1;
                        if (bVar2) {
                          uVar3 = 0x12;
                        }
                        else {
                          bVar2 = DAT_005dcdf0 >> 0x18 == param_1;
                          if (bVar2) goto LAB_00444e13;
                          bVar2 = (DAT_005dcde4 & 0xff) == param_1;
                          if (bVar2) {
                            uVar3 = 0xc;
                          }
                          else {
                            bVar2 = DAT_005dcdf9 == param_1;
                            if (bVar2) {
                              uVar3 = 0x13;
                            }
                            else {
                              bVar2 = (DAT_005dcdfc & 0xff) == param_1;
                              if (bVar2) {
                                uVar3 = 0x14;
                              }
                              else {
                                bVar2 = (DAT_005dcdf0 & 0xff) == param_1;
                                if (bVar2) {
                                  uVar3 = 0x10;
                                }
                                else {
                                  bVar2 = (DAT_005dce08 & 0xff) == param_1;
                                  if (bVar2) {
                                    uVar3 = 0x18;
                                  }
                                  else {
                                    bVar2 = DAT_005dce08 >> 0x18 == param_1;
                                    if (bVar2) {
                                      uVar3 = 0x19;
                                    }
                                    else {
                                      bVar2 = DAT_005dce0e == param_1;
                                      if (bVar2) {
                                        uVar3 = 0x1a;
                                      }
                                      else {
                                        bVar2 = DAT_005dce11 == param_1;
                                        if (bVar2) {
                                          uVar3 = 0x1b;
                                        }
                                        else {
                                          bVar2 = (DAT_005dce14 & 0xff) == param_1;
                                          if (bVar2) {
                                            uVar3 = 0x1c;
                                          }
                                          else {
                                            bVar2 = (DAT_005dcdd8 & 0xff) == param_1;
                                            if (bVar2) {
                                              uVar3 = 8;
                                            }
                                            else {
                                              bVar2 = DAT_005dcdd8 >> 0x18 == param_1;
                                              if (bVar2) {
                                                uVar3 = 9;
                                              }
                                              else {
                                                bVar2 = DAT_005dce14 >> 0x18 == param_1;
                                                if (!bVar2) {
                                                  return false;
                                                }
                                                uVar3 = 0x1d;
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      goto LAB_00444e07;
    }
  }
  else {
    bVar2 = (DAT_005dcde4 & 0xff) == param_1;
    if (!bVar2) {
      return false;
    }
    uVar3 = 0xc;
LAB_00444e07:
    FUN_00445250(uVar3);
  }
LAB_00444e0f:
  if (bVar2 == false) {
    return false;
  }
LAB_00444e13:
  FUN_00448020(DAT_004d8238,DAT_004d8254,DAT_004cba3c,param_1);
  if ((DAT_004d8388 != 0) && (_DAT_004d8324 == 1)) {
    FUN_004433f0(param_1,1);
  }
  return bVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00444e60(uint param_1)

{
  bool bVar1;
  undefined4 uVar2;
  
  bVar1 = (DAT_005dcdc0 & 0xff) == param_1;
  if ((bVar1) || (bVar1 = param_1 == 200, bVar1)) {
    uVar2 = 0;
LAB_004451d3:
    FUN_00445e40(uVar2);
    if (bVar1 != false) goto LAB_004451e8;
  }
  else {
    bVar1 = DAT_005dcdc9 == param_1;
    if ((bVar1) || (bVar1 = param_1 == 0xcd, bVar1)) {
      uVar2 = 3;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdc6 == param_1;
    if ((bVar1) || (bVar1 = param_1 == 0xcb, bVar1)) {
      uVar2 = 2;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdc0 >> 0x18 == param_1;
    if ((bVar1) || (bVar1 = param_1 == 0xd0, bVar1)) {
      uVar2 = 1;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdd5 == param_1;
    if (bVar1) {
      uVar2 = 7;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdd2 == param_1;
    if (bVar1) {
      uVar2 = 6;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdcc >> 0x18 == param_1;
    if (bVar1) {
      uVar2 = 5;
      goto LAB_004451d3;
    }
    bVar1 = (DAT_005dcdcc & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 4;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdde == param_1;
    if (bVar1) {
      uVar2 = 10;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdfc >> 0x18 == param_1;
    if (bVar1) {
      uVar2 = 0x15;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dce05 == param_1;
    if (bVar1) {
      uVar2 = 0x17;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dce02 == param_1;
    if (bVar1) {
      uVar2 = 0x16;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcde4 >> 0x18 == param_1;
    if (bVar1) {
      uVar2 = 0xd;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdea == param_1;
    if (bVar1) {
      uVar2 = 0xe;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdf6 == param_1;
    if (bVar1) {
      uVar2 = 0x12;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdf0 >> 0x18 == param_1;
    if (bVar1) goto LAB_004451e8;
    bVar1 = (DAT_005dcde4 & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 0xc;
      goto LAB_004451d3;
    }
    if ((DAT_004d8238 == 4) && (bVar1 = (DAT_005dcdf0 & 0xff) == param_1, bVar1)) {
      uVar2 = 0x10;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdf9 == param_1;
    if (bVar1) {
      uVar2 = 0x13;
      goto LAB_004451d3;
    }
    bVar1 = (DAT_005dcdfc & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 0x14;
      goto LAB_004451d3;
    }
    bVar1 = (DAT_005dce08 & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 0x18;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dce08 >> 0x18 == param_1;
    if (bVar1) {
      uVar2 = 0x19;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dce0e == param_1;
    if (bVar1) {
      uVar2 = 0x1a;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dce11 == param_1;
    if (bVar1) {
      uVar2 = 0x1b;
      goto LAB_004451d3;
    }
    bVar1 = (DAT_005dce14 & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 0x1c;
      goto LAB_004451d3;
    }
    bVar1 = (DAT_005dcdd8 & 0xff) == param_1;
    if (bVar1) {
      uVar2 = 8;
      goto LAB_004451d3;
    }
    bVar1 = DAT_005dcdd8 >> 0x18 == param_1;
    if (bVar1) {
      uVar2 = 9;
      goto LAB_004451d3;
    }
    if (((param_1 == 0x9c) || (param_1 == 0x1c)) || (param_1 == 0x1d)) {
      bVar1 = true;
    }
    else {
      bVar1 = false;
    }
    if (bVar1 != false) {
      uVar2 = 0xd;
      goto LAB_004451d3;
    }
  }
  if (DAT_005df320 != 2) {
    return bVar1;
  }
LAB_004451e8:
  FUN_00448130(DAT_004d8238,DAT_004d8254,DAT_004cba3c,param_1);
  if (((DAT_004d8388 != 0) && (_DAT_004d8324 == 1)) &&
     ((FUN_004433f0(param_1,0), DAT_004cba3c == '\x11' && (DAT_004d8168 != 0)))) {
    FUN_004adcf0(DAT_004d8168);
  }
  return bVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00445250(uint param_1)

{
  uint *puVar1;
  ushort uVar2;
  int iVar3;
  bool bVar4;
  bool bVar5;
  int iVar6;
  undefined uVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  bVar5 = false;
  iVar6 = FUN_004858c0();
  if (((DAT_004d79b0 != 0) && (iVar6 != 10)) && (*(int *)(DAT_004d79b0 + 8) != 0)) {
    bVar4 = true;
  }
  if (((param_1 & 0x40000000) != 0) && (param_1 = param_1 & 0xbfffffff, DAT_004d867c != 0)) {
    bVar5 = true;
    DAT_004d824c = DAT_004d824c | 0x40000000;
  }
  if (((param_1 & 0x80000000) != 0) && (param_1 = param_1 & 0x7fffffff, DAT_004d867c != 0)) {
    bVar5 = true;
    DAT_004d824c = DAT_004d824c | 0x80000000;
  }
  switch(param_1) {
  case 0:
    if (iVar6 == 2) {
      iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar3 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar3 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xdfffffff;
        _DAT_004c71b8 = 0;
        _DAT_004c71bc = 0;
        _DAT_004c71c0 = 0x3f800000;
      }
      uVar2 = *(ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e);
      if (((uVar2 & 0x80) == 0) && ((uVar2 & 0x100) == 0)) goto LAB_00445364;
    }
    else {
LAB_00445364:
      if (!bVar5) {
        DAT_004d824c = DAT_004d824c | 1;
        DAT_004cba3c = bVar5;
        DAT_004d8254 = bVar5;
      }
    }
    if (((iVar6 == 2) &&
        ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x1800000) != 0)) && (!bVar5)
       ) {
      DAT_004d8254 = bVar5;
      DAT_004cba3c = bVar5;
      DAT_004d824c = DAT_004d824c | 1;
      return;
    }
    break;
  case 1:
    if (iVar6 == 2) {
      iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar3 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar3 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xdfffffff;
        _DAT_004c71b8 = 0;
        _DAT_004c71bc = 0;
        _DAT_004c71c0 = 0x3f800000;
      }
      uVar2 = *(ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e);
      if (((uVar2 & 0x80) == 0) && ((uVar2 & 0x100) == 0)) goto LAB_0044543e;
    }
    else {
LAB_0044543e:
      if (!bVar5) {
        DAT_004d824c = DAT_004d824c | 2;
        DAT_004cba3c = 1;
        DAT_004d8254 = bVar5;
      }
    }
    if (((iVar6 == 2) &&
        ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x1800000) != 0)) && (!bVar5)
       ) {
      DAT_004d8254 = bVar5;
      DAT_004cba3c = 1;
      DAT_004d824c = DAT_004d824c | 2;
      return;
    }
    break;
  case 2:
    if (iVar6 == 2) {
      iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar6 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar6 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xdfffffff;
        _DAT_004c71b8 = 0;
        _DAT_004c71bc = 0;
        _DAT_004c71c0 = 0x3f800000;
      }
    }
    DAT_004d8254 = 0;
    DAT_004cba3c = 2;
    DAT_004d824c = DAT_004d824c | 4;
    return;
  case 3:
    if (iVar6 == 2) {
      iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar6 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar6 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) & 0xdfffffff;
        _DAT_004c71b8 = 0;
        _DAT_004c71bc = 0;
        _DAT_004c71c0 = 0x3f800000;
      }
    }
    DAT_004d8254 = 0;
    DAT_004cba3c = 3;
    DAT_004d824c = DAT_004d824c | 8;
    return;
  case 4:
    if ((iVar6 != 2) || ((*(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e) & 0x80) == 0))
    {
      DAT_004d824c = DAT_004d824c | 0x10;
      if ((iVar6 != 2) ||
         (DAT_004d8254 = 2,
         (*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x20000000) == 0)) {
        DAT_004d8254 = 0;
      }
      DAT_004cba3c = 4;
      if (iVar6 == 2) {
        iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        if (*(char *)(iVar6 + 0xd1) == '\0') {
          *(undefined *)(iVar6 + 0xd1) = 1;
          return;
        }
        if (*(char *)(iVar6 + 0xd1) == '\x02') {
          *(undefined *)(iVar6 + 0xd1) = 3;
          return;
        }
      }
    }
    break;
  case 5:
    if (((iVar6 != 2) ||
        (iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4), (*(byte *)(iVar3 + 0x8f) & 1) == 0)) ||
       (*(int *)(*(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x7f) == 0x1e)) {
      DAT_004d8254 = 1;
      DAT_004d824c = DAT_004d824c | 0x20;
      DAT_004cba3c = 5;
      if (iVar6 != 2) {
        DAT_004cba3c = 5;
        DAT_004d8254 = 1;
        return;
      }
      iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      *(int *)(iVar3 + 0x98) = *(int *)(*(int *)(iVar3 + 0x86) + 0x13) + 0x6b;
    }
    if (iVar6 == 2) {
      iVar6 = *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86);
      iVar3 = *(int *)(*(int *)(iVar6 + 0x13) + 0x7f);
      if (((iVar3 == 0x15) || (iVar3 == 0x16)) && (*(char *)(iVar6 + 10) == '\0')) {
        DAT_004d8254 = 1;
        DAT_004d824c = DAT_004d824c | 0x20;
        DAT_004cba3c = 5;
        iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        *(int *)(iVar6 + 0x98) = *(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x6b;
        return;
      }
    }
    break;
  case 6:
    if ((iVar6 != 2) ||
       ((uVar2 = *(ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e), (uVar2 & 0x80) == 0
        && ((uVar2 & 0x100) == 0)))) {
      DAT_004d8254 = 0;
      DAT_004d824c = DAT_004d824c | 0x40;
      DAT_004cba3c = 6;
      DAT_005de384 = 1;
    }
    if ((iVar6 == 2) &&
       ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x1800000) != 0)) {
      DAT_004d8254 = 0;
      DAT_004cba3c = 6;
      DAT_004d824c = DAT_004d824c | 0x40;
      DAT_005de384 = 1;
      return;
    }
    break;
  case 7:
    if (iVar6 == 2) {
      puVar1 = (uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
      *puVar1 = *puVar1 | 0x20000000;
    }
    DAT_004d8254 = 0;
    DAT_004cba3c = 7;
    DAT_004d824c = DAT_004d824c | 0x80;
    return;
  case 8:
    if (iVar6 == 2) {
      iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar3 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar3 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xdfffffff;
      }
    }
    uVar8 = 0x100;
    uVar7 = 8;
    if (iVar6 != 2) goto LAB_00445844;
    uVar2 = *(ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e);
joined_r0x0044583d:
    if (((uVar2 & 0x80) == 0) && ((uVar2 & 0x100) == 0)) goto LAB_00445844;
    goto LAB_0044585d;
  case 9:
    if (iVar6 == 2) {
      iVar3 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      if (((*(uint *)(iVar3 + 0x8a) & 0x20000000) != 0) && ((*(byte *)(iVar3 + 0xc9) & 0x80) == 0))
      {
        *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) & 0xdfffffff;
      }
    }
    uVar8 = 0x200;
    uVar7 = 9;
    if (iVar6 == 2) {
      uVar2 = *(ushort *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e);
      goto joined_r0x0044583d;
    }
LAB_00445844:
    DAT_004d8254 = 0;
    DAT_004d824c = DAT_004d824c | uVar8;
    DAT_004cba3c = uVar7;
LAB_0044585d:
    if ((iVar6 == 2) &&
       ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x1800000) != 0)) {
      DAT_004d8254 = 0;
      DAT_004cba3c = uVar7;
      DAT_004d824c = DAT_004d824c | uVar8;
      return;
    }
    break;
  case 10:
    if ((DAT_004d824c & 0x20) == 0) {
      DAT_004d824c = DAT_004d824c | 0x400;
      DAT_004d8254 = 3;
      DAT_004cba3c = 10;
      if ((DAT_004d83a4 != 0) &&
         (*(int *)(DAT_004d83a4 + 0x54) = *(int *)(DAT_004d83a4 + 0x54) + 1,
         4 < *(int *)(DAT_004d83a4 + 0x54))) {
        *(undefined4 *)(DAT_004d83a4 + 0x54) = 0;
        return;
      }
    }
    break;
  case 0xc:
    if ((char)DAT_00598944 == '\0') {
      if (iVar6 == 2) {
        DAT_004d824c = DAT_004d824c | 0x1000;
        DAT_004d8264 = 1;
        DAT_005de4e0 = 1;
        FUN_0048daa0(0x12);
      }
      if ((iVar6 == 1) || (iVar6 == 0)) {
        DAT_004d8264 = 0;
        FUN_0048daa0(0x13);
        return;
      }
    }
    break;
  case 0xd:
    if (((DAT_004d824c & 0x20) == 0) && ((DAT_004d824c & 0x1f200400) == 0)) {
      DAT_004d824c = DAT_004d824c | 0x2000;
      if (bVar4) {
        if (iVar6 == 2) {
          DAT_004d8254 = 4;
        }
      }
      else {
        DAT_004d8254 = 5;
        if ((iVar6 == 2) && (DAT_00598e18 == 0)) {
          iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
          if (*(char *)(iVar6 + 0x189) != '\0') {
            FUN_00417e80(*(int *)(DAT_005df318 + 4),*(undefined4 *)(iVar6 + 0x86));
            DAT_004cba3c = 0xd;
            return;
          }
        }
      }
      DAT_004cba3c = 0xd;
      return;
    }
    break;
  case 0xe:
    if ((DAT_004cb05c != 0x12) || (DAT_005df320 != 2)) {
      DAT_004d8254 = 5;
      DAT_004cba3c = 0xe;
      DAT_004d824c = DAT_004d824c | 0x4000;
      return;
    }
    break;
  case 0x10:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x10;
    DAT_004d824c = DAT_004d824c | 0x10000;
    return;
  case 0x12:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x12;
    DAT_004d824c = DAT_004d824c | 0x40000;
    return;
  case 0x13:
    DAT_004d8254 = 4;
    DAT_004cba3c = 0x13;
    DAT_004d824c = DAT_004d824c | 0x80000;
    return;
  case 0x14:
    DAT_004d8254 = 4;
    DAT_004cba3c = 0x14;
    DAT_004d824c = DAT_004d824c | 0x100000;
    return;
  case 0x15:
    if ((DAT_004d824c & 0x20) == 0) {
      DAT_004d824c = DAT_004d824c | 0x200000;
      DAT_004d8254 = 3;
      DAT_004cba3c = 0x15;
      if ((DAT_004d83a4 != 0) &&
         (*(int *)(DAT_004d83a4 + 0x54) = *(int *)(DAT_004d83a4 + 0x54) + -1,
         *(int *)(DAT_004d83a4 + 0x54) < 0)) {
        *(undefined4 *)(DAT_004d83a4 + 0x54) = 4;
        return;
      }
    }
    break;
  case 0x16:
    if ((((((char)DAT_00598944 == '\0') && (iVar6 != 10)) &&
         ((iVar6 != 0xb && ((DAT_004cb05c == 8 && (DAT_00598e18 == 0)))))) && (DAT_00598fd4 == 0))
       && (DAT_00598fac == 0)) {
      *(undefined *)(DAT_004d83a4 + 0x62) = 1;
    }
    DAT_004d824c = DAT_004d824c | 0x400000;
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x16;
    if ((char)DAT_00598944 != '\0') {
      DAT_004d8268 = (uint)(DAT_004d8268 == 0);
      DAT_004d809c = 0;
      return;
    }
    break;
  case 0x17:
    if ((((char)DAT_00598944 == '\0') && (iVar6 == 2)) && (DAT_004d79b0 != 0)) {
      *(uint *)(DAT_004d79b0 + 8) = (uint)(*(int *)(DAT_004d79b0 + 8) == 0);
      if (*(int *)(DAT_004d79b0 + 8) != 0) {
        FUN_00475bf0(&DAT_005e4d54,0,4,0);
        DAT_004d824c = DAT_004d824c | 0x800000;
        DAT_004d8254 = 4;
        DAT_004cba3c = 0x17;
        FUN_00417b70(*(undefined4 *)(DAT_005df318 + 4));
        return;
      }
      FUN_00475bf0(&DAT_005e4d7b,0,4,0);
      return;
    }
    break;
  case 0x18:
    if ((DAT_004d824c & 0x20) != 0) {
      return;
    }
    DAT_004d824c = DAT_004d824c | 0x1000000;
    DAT_004cba3c = 0x18;
    if (DAT_004d83a4 != 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 0;
      DAT_004d8254 = 5;
      return;
    }
    goto LAB_00445dba;
  case 0x19:
    if ((DAT_004d824c & 0x20) != 0) {
      return;
    }
    DAT_004d824c = DAT_004d824c | 0x2000000;
    DAT_004cba3c = 0x19;
    if (DAT_004d83a4 != 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 1;
      DAT_004d8254 = 5;
      return;
    }
    goto LAB_00445dba;
  case 0x1a:
    if ((DAT_004d824c & 0x20) != 0) {
      return;
    }
    DAT_004d824c = DAT_004d824c | 0x4000000;
    DAT_004cba3c = 0x1a;
    if (DAT_004d83a4 != 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 2;
      DAT_004d8254 = 5;
      return;
    }
    goto LAB_00445dba;
  case 0x1b:
    if ((DAT_004d824c & 0x20) != 0) {
      return;
    }
    DAT_004d824c = DAT_004d824c | 0x8000000;
    DAT_004cba3c = 0x1b;
    if (DAT_004d83a4 != 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 3;
      DAT_004d8254 = 5;
      return;
    }
    goto LAB_00445dba;
  case 0x1c:
    if ((DAT_004d824c & 0x20) != 0) {
      return;
    }
    DAT_004d824c = DAT_004d824c | 0x10000000;
    DAT_004cba3c = 0x1c;
    if (DAT_004d83a4 != 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x54) = 4;
    }
LAB_00445dba:
    DAT_004d8254 = 5;
  }
  return;
}



void FUN_00445e40(uint param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  bool bVar3;
  bool bVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  bVar3 = false;
  if (((DAT_004d79b0 != 0) && (DAT_004d8238 != 10)) && (*(int *)(DAT_004d79b0 + 8) != 0)) {
    bVar4 = true;
  }
  if (((param_1 & 0x40000000) != 0) && (param_1 = param_1 & 0xbfffffff, DAT_004d867c != 0)) {
    DAT_004d824c = DAT_004d824c & 0xbfffffff;
    bVar3 = true;
  }
  if (((param_1 & 0x80000000) != 0) && (param_1 = param_1 & 0x7fffffff, DAT_004d867c != 0)) {
    DAT_004d824c = DAT_004d824c & 0x7fffffff;
    bVar3 = true;
  }
  switch(param_1) {
  case 0:
    if (!bVar3) {
      DAT_004d8254 = 0;
      DAT_004cba3c = 0;
      DAT_004d824c = DAT_004d824c & 0xfffffffe;
      return;
    }
    break;
  case 1:
    if (!bVar3) {
      DAT_004d8254 = 0;
      DAT_004cba3c = 1;
      DAT_004d824c = DAT_004d824c & 0xfffffffd;
      return;
    }
    break;
  case 2:
    DAT_004d8254 = 0;
    DAT_004cba3c = 2;
    DAT_004d824c = DAT_004d824c & 0xfffffffb;
    return;
  case 3:
    DAT_004d8254 = 0;
    DAT_004cba3c = 3;
    DAT_004d824c = DAT_004d824c & 0xfffffff7;
    return;
  case 4:
    DAT_004cba3c = 4;
    DAT_004d824c = DAT_004d824c & 0xffffffef;
    DAT_004d8254 = 2;
    if ((DAT_004d8238 == 2) &&
       (iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4), *(char *)(iVar5 + 0xd1) == '\x01')) {
      *(undefined *)(iVar5 + 0xd1) = 2;
      *(undefined *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xd2) = 10;
      return;
    }
    break;
  case 5:
    if ((DAT_004d824c & 0x20) != 0) {
      DAT_004d8254 = 1;
      DAT_004d824c = DAT_004d824c & 0xffffffdf;
      DAT_004cba3c = 5;
      if (DAT_004d8238 == 2) {
        iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        *(int *)(iVar5 + 0x98) = *(int *)(*(int *)(iVar5 + 0x86) + 0x13) + 0x104;
        iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        if (((*(uint *)(iVar5 + 0x8a) & 0x400) != 0) &&
           (iVar5 = FUN_00409bd0(*(int *)(DAT_005df318 + 4),
                                 *(int *)(*(int *)(iVar5 + 0x86) + 0x13) + 0x8d,0), iVar5 != 0)) {
          uVar1 = *(undefined4 *)(DAT_005e45e4 + 0xc4);
          uVar2 = *(undefined4 *)(DAT_005e45e4 + 200);
          iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
          *(undefined4 *)(iVar5 + 0xf3) = *(undefined4 *)(DAT_005e45e4 + 0xc0);
          *(undefined4 *)(iVar5 + 0xf7) = uVar1;
          *(undefined4 *)(iVar5 + 0xfb) = uVar2;
          FUN_00477080(&stack0xfffffff0,*(undefined4 *)(DAT_005df318 + 4));
          iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
          *(uint *)(iVar5 + 0x8a) = *(uint *)(iVar5 + 0x8a) & 0xfffffbff;
          DAT_004d7a30 = 1;
          return;
        }
        iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
        if ((((*(uint *)(iVar5 + 0x8a) & 0x400) == 0) &&
            (*(int *)(*(int *)(*(int *)(iVar5 + 0x86) + 0x13) + 0x7f) == 0x17)) &&
           (*(char *)(*(int *)(iVar5 + 0x86) + 10) == '\0')) {
          *(uint *)(iVar5 + 0x8a) = *(uint *)(iVar5 + 0x8a) | 0x400;
          return;
        }
      }
    }
    break;
  case 6:
    DAT_005de384 = 0;
    DAT_004d8254 = 0;
    DAT_004d824c = DAT_004d824c & 0xffffffbf;
    DAT_004cba3c = 6;
    return;
  case 7:
    DAT_004d8254 = 0;
    DAT_004cba3c = 7;
    DAT_004d824c = DAT_004d824c & 0xffffff7f;
    return;
  case 8:
    DAT_004d8254 = 0;
    DAT_004cba3c = 8;
    DAT_004d824c = DAT_004d824c & 0xfffffeff;
    return;
  case 9:
    DAT_004d8254 = 0;
    DAT_004cba3c = 9;
    DAT_004d824c = DAT_004d824c & 0xfffffdff;
    return;
  case 10:
    DAT_004cba3c = 10;
    DAT_004d824c = DAT_004d824c & 0xfffffbff;
    DAT_004d8254 = bVar4 + '\x03';
    return;
  case 0xb:
    DAT_004d824c = DAT_004d824c & 0xfffff7ff;
    return;
  case 0xc:
    DAT_004d824c = DAT_004d824c & 0xffffefff;
    return;
  case 0xd:
    DAT_004cba3c = 0xd;
    DAT_004d824c = DAT_004d824c & 0xffffdfff;
    DAT_004d8254 = !bVar4 + '\x04';
    return;
  case 0xe:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0xe;
    DAT_004d824c = DAT_004d824c & 0xffffbfff;
    return;
  case 0x10:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x10;
    DAT_004d824c = DAT_004d824c & 0xfffeffff;
    return;
  case 0x12:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x12;
    DAT_004d824c = DAT_004d824c & 0xfffbffff;
    return;
  case 0x13:
    DAT_004d8254 = 4;
    DAT_004cba3c = 0x13;
    DAT_004d824c = DAT_004d824c & 0xfff7ffff;
    return;
  case 0x14:
    DAT_004d8254 = 4;
    DAT_004cba3c = 0x14;
    DAT_004d824c = DAT_004d824c & 0xffefffff;
    return;
  case 0x15:
    DAT_004cba3c = 0x15;
    DAT_004d824c = DAT_004d824c & 0xffdfffff;
    DAT_004d8254 = bVar4 + '\x03';
    return;
  case 0x16:
    DAT_004d8254 = 5;
    DAT_004cba3c = 0x16;
    DAT_004d824c = DAT_004d824c & 0xffbfffff;
    return;
  case 0x17:
    DAT_004d8254 = 4;
    DAT_004cba3c = 0x17;
    DAT_004d824c = DAT_004d824c & 0xff7fffff;
    return;
  case 0x18:
    DAT_004cba3c = 0x18;
    DAT_004d8254 = 5;
    DAT_004d824c = DAT_004d824c & 0xfeffffff;
    return;
  case 0x19:
    DAT_004cba3c = 0x19;
    DAT_004d8254 = 5;
    DAT_004d824c = DAT_004d824c & 0xfdffffff;
    return;
  case 0x1a:
    DAT_004cba3c = 0x1a;
    DAT_004d8254 = 5;
    DAT_004d824c = DAT_004d824c & 0xfbffffff;
    return;
  case 0x1b:
    DAT_004cba3c = 0x1b;
    DAT_004d8254 = 5;
    DAT_004d824c = DAT_004d824c & 0xf7ffffff;
    return;
  case 0x1c:
    DAT_004cba3c = 0x1c;
    DAT_004d824c = DAT_004d824c & 0xefffffff;
    DAT_004d8254 = 5;
  }
  return;
}



uint FUN_00446480(undefined param_1)

{
  switch(param_1) {
  case 0:
    return DAT_004d824c & 1;
  case 1:
    return DAT_004d824c & 2;
  case 2:
    return DAT_004d824c & 4;
  case 3:
    return DAT_004d824c & 8;
  case 4:
    return DAT_004d824c & 0x10;
  case 5:
    return DAT_004d824c & 0x20;
  default:
    return 0;
  case 8:
    return DAT_004d824c & 0x100;
  case 9:
    return DAT_004d824c & 0x200;
  case 10:
    return DAT_004d824c & 0x400;
  case 0xd:
    return DAT_004d824c & 0x2000;
  case 0xe:
    return DAT_004d824c & 0x4000;
  case 0x15:
    return DAT_004d824c & 0x200000;
  case 0x18:
    return DAT_004d824c & 0x1000000;
  case 0x19:
    return DAT_004d824c & 0x2000000;
  case 0x1a:
    return DAT_004d824c & 0x4000000;
  case 0x1b:
    return DAT_004d824c & 0x8000000;
  case 0x1c:
    return DAT_004d824c & 0x10000000;
  }
}



void FUN_004465d0(void)

{
  if ((DAT_004d8250 & (DAT_004d8250 ^ DAT_004d824c)) != 0) {
    if (((DAT_004d8250 & 1) != 0) && ((DAT_004d824c & 1) == 0)) {
      DAT_004d82c0 = 0;
      DAT_004d82e0 = 0;
    }
    if (((DAT_004d8250 & 2) != 0) && ((DAT_004d824c & 2) == 0)) {
      DAT_004d82e2 = 0;
      DAT_004d82c1 = 0;
    }
    if (((DAT_004d8250 & 4) != 0) && ((DAT_004d824c & 4) == 0)) {
      DAT_004d82e4 = 0;
      DAT_004d82c2 = '\0';
    }
    if (((DAT_004d8250 & 8) != 0) && ((DAT_004d824c & 8) == 0)) {
      DAT_004d82e6 = 0;
      DAT_004d82c3 = '\0';
    }
    if (((DAT_004d8250 & 0x400) != 0) && ((DAT_004d824c & 0x400) == 0)) {
      DAT_004d82f4 = 0;
      DAT_004d82ca = 0;
    }
    if (((DAT_004d8250 & 0x200000) != 0) && ((DAT_004d824c & 0x200000) == 0)) {
      DAT_004d830a = 0;
      DAT_004d82d5 = 0;
    }
  }
  if (((DAT_004d824c & 1) == 0) || ((DAT_004d8250 & 1) == 0)) {
    if (((DAT_004d824c & 2) == 0) || ((DAT_004d8250 & 2) == 0)) {
      if (((DAT_004d824c & 4) == 0) || ((DAT_004d8250 & 4) == 0)) {
        if (((DAT_004d824c & 8) == 0) || ((DAT_004d8250 & 8) == 0)) {
          if ((((DAT_004d824c & 0x400) == 0) || ((DAT_004d8250 & 0x400) == 0)) ||
             (DAT_004cba3c == '\n')) {
            if ((((DAT_004d824c & 0x200000) != 0) && ((DAT_004d8250 & 0x200000) != 0)) &&
               ((DAT_004cba3c != '\x15' &&
                ((DAT_004d830a = DAT_004d830a + 1, 7 < DAT_004d830a || (DAT_004d8238 == 10)))))) {
              DAT_004cba3c = '\x15';
              DAT_004d830a = 0;
            }
          }
          else {
            DAT_004d82f4 = DAT_004d82f4 + 1;
            if ((7 < DAT_004d82f4) || (DAT_004d8238 == 10)) {
              DAT_004cba3c = 10;
              DAT_004d82f4 = 0;
              return;
            }
          }
        }
        else {
          DAT_004d82e6 = DAT_004d82e6 + 1;
          if (((int)((-(uint)(DAT_004d82c3 != '\0') & 0xfffffffb) + 8) <= (int)DAT_004d82e6) ||
             (DAT_004d8238 == 10)) {
            DAT_004cba3c = 3;
            DAT_004d82c3 = 1;
            DAT_004d82e6 = 0;
            return;
          }
        }
      }
      else {
        DAT_004d82e4 = DAT_004d82e4 + 1;
        if (((int)((-(uint)(DAT_004d82c2 != '\0') & 0xfffffffb) + 8) <= (int)DAT_004d82e4) ||
           (DAT_004d8238 == 10)) {
          DAT_004cba3c = 2;
          DAT_004d82c2 = 1;
          DAT_004d82e4 = 0;
          return;
        }
      }
    }
    else {
      DAT_004d82e2 = DAT_004d82e2 + 1;
      if (7 < DAT_004d82e2) {
        DAT_004cba3c = 1;
        DAT_004d82c1 = 1;
        DAT_004d82e2 = 0;
        return;
      }
    }
  }
  else {
    DAT_004d82e0 = DAT_004d82e0 + 1;
    if (7 < DAT_004d82e0) {
      DAT_004cba3c = 0;
      DAT_004d82c0 = 1;
      DAT_004d82e0 = 0;
      return;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00446840(int param_1,int param_2)

{
  int iVar1;
  bool bVar2;
  char cVar3;
  undefined4 uVar4;
  undefined3 uVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
  bVar2 = false;
  uVar4 = *(undefined4 *)(iVar1 + 0x193);
  if ((char)DAT_00598944 == '\0') {
    switch(uVar4) {
    case 0:
      if (param_1 != 0) {
        *(undefined4 *)(iVar1 + 0x193) = 1;
        if (param_2 != 1) {
          FUN_00475bf0(&DAT_005e4b80,0,4,0);
          cVar3 = *(char *)(iVar1 + 0x197);
          goto LAB_00446a33;
        }
        FUN_00475bf0(&DAT_005e4b80,0,4,0);
        cVar3 = *(char *)(iVar1 + 0x197);
        goto LAB_00446a05;
      }
      break;
    case 1:
      goto switchD_0044687c_caseD_1;
    case 2:
      if (param_1 == 0) {
        _DAT_004d8274 = _DAT_004d8274 + 1;
      }
      else if (param_2 == 1) {
        FUN_00475bf0(&DAT_005e4b80,0,4,0);
        if (*(char *)(iVar1 + 0x197) == '\x04') {
          *(undefined *)(iVar1 + 0x197) = 0;
          *(undefined4 *)(iVar1 + 0x193) = 1;
        }
        else {
          *(undefined4 *)(iVar1 + 0x193) = 1;
          *(char *)(iVar1 + 0x197) = *(char *)(iVar1 + 0x197) + '\x01';
        }
      }
      else {
        FUN_00475bf0(&DAT_005e4b80,0,4,0);
        if (*(char *)(iVar1 + 0x197) == '\0') {
          *(undefined *)(iVar1 + 0x197) = 4;
          *(undefined4 *)(iVar1 + 0x193) = 1;
        }
        else {
          *(undefined4 *)(iVar1 + 0x193) = 1;
          *(char *)(iVar1 + 0x197) = *(char *)(iVar1 + 0x197) + -1;
        }
      }
      if (_DAT_004d8274 == 10) {
        if (DAT_004d83a4 != 0) {
          iVar7 = *(int *)(DAT_004d83a4 + 0x54);
          bVar2 = false;
          if (4 < iVar7) {
            iVar7 = iVar7 + -5;
          }
          iVar6 = 0;
          piVar8 = (int *)(iVar1 + 0x175);
          do {
            if ((*piVar8 != 0) && (*(byte *)(*piVar8 + 0xe) - 1 == iVar7)) {
              *(char *)(iVar1 + 0x197) = (char)iVar6;
              bVar2 = true;
              break;
            }
            iVar6 = iVar6 + 1;
            piVar8 = piVar8 + 1;
          } while (iVar6 < 5);
        }
        _DAT_004d8274 = 0;
        *(undefined4 *)(iVar1 + 0x193) = 0;
        if (((char)DAT_00598944 != '\0') || (bVar2)) {
          FUN_00442d10(*(undefined4 *)(DAT_005df318 + 4),*(undefined *)(DAT_004d83a4 + 0x54),0);
          return;
        }
      }
      break;
    case 3:
      if (param_1 == 0) {
        _DAT_004d8278 = 0;
        *(undefined4 *)(iVar1 + 0x193) = 2;
      }
      else {
        _DAT_004d8278 = _DAT_004d8278 + 1;
      }
      if (_DAT_004d8278 != 10) {
        return;
      }
      cVar3 = *(char *)(iVar1 + 0x197);
      if (param_2 == 1) goto LAB_00446bd0;
      if (cVar3 == '\0') {
        *(undefined *)(iVar1 + 0x197) = 4;
        _DAT_004d8278 = 0;
        return;
      }
      goto LAB_00446c14;
    }
  }
  else {
    switch(uVar4) {
    case 0:
      if (param_1 != 0) {
        *(undefined4 *)(iVar1 + 0x193) = 1;
        cVar3 = *(char *)(iVar1 + 0x197);
        if (param_2 != 1) {
LAB_00446a33:
          if (cVar3 != '\0') {
            *(char *)(iVar1 + 0x197) = cVar3 + -1;
            return;
          }
          *(undefined *)(iVar1 + 0x197) = 4;
          return;
        }
LAB_00446a05:
        if (cVar3 != '\x04') {
          *(char *)(iVar1 + 0x197) = cVar3 + '\x01';
          return;
        }
        *(undefined *)(iVar1 + 0x197) = 0;
        return;
      }
      break;
    case 1:
switchD_0044687c_caseD_1:
      if (param_1 == 0) {
        *(undefined4 *)(iVar1 + 0x193) = 2;
        _DAT_004d8274 = 0;
        return;
      }
      *(undefined4 *)(iVar1 + 0x193) = 3;
      return;
    case 2:
      if (param_1 == 0) {
        _DAT_004d8274 = _DAT_004d8274 + 1;
      }
      else if (param_2 == 1) {
        uVar4 = FUN_00475bf0(&DAT_005e4b80,0,4,0);
        cVar3 = *(char *)(iVar1 + 0x197);
        uVar5 = (undefined3)((uint)uVar4 >> 8);
        uVar4 = CONCAT31(uVar5,cVar3);
        if (cVar3 == '\x04') {
          *(undefined *)(iVar1 + 0x197) = 0;
          *(undefined4 *)(iVar1 + 0x193) = 1;
        }
        else {
          uVar4 = CONCAT31(uVar5,cVar3 + '\x01');
          *(undefined4 *)(iVar1 + 0x193) = 1;
          *(char *)(iVar1 + 0x197) = cVar3 + '\x01';
        }
      }
      else {
        uVar4 = FUN_00475bf0(&DAT_005e4b80,0,4,0);
        cVar3 = *(char *)(iVar1 + 0x197);
        uVar5 = (undefined3)((uint)uVar4 >> 8);
        uVar4 = CONCAT31(uVar5,cVar3);
        if (cVar3 == '\0') {
          *(undefined *)(iVar1 + 0x197) = 4;
          *(undefined4 *)(iVar1 + 0x193) = 1;
        }
        else {
          uVar4 = CONCAT31(uVar5,cVar3 + -1);
          *(undefined4 *)(iVar1 + 0x193) = 1;
          *(char *)(iVar1 + 0x197) = cVar3 + -1;
        }
      }
      if (_DAT_004d8274 == 10) {
        _DAT_004d8274 = 0;
        *(undefined4 *)(iVar1 + 0x193) = 0;
        FUN_00442d10(*(undefined4 *)(DAT_005df318 + 4),
                     CONCAT31((int3)((uint)uVar4 >> 8),*(undefined *)(DAT_004d83a4 + 0x54)),0);
        return;
      }
      break;
    case 3:
      if (param_1 == 0) {
        _DAT_004d8278 = 0;
        *(undefined4 *)(iVar1 + 0x193) = 2;
      }
      else {
        _DAT_004d8278 = _DAT_004d8278 + 1;
      }
      if (_DAT_004d8278 != 10) {
        return;
      }
      cVar3 = *(char *)(iVar1 + 0x197);
      if (param_2 == 1) {
LAB_00446bd0:
        if (cVar3 != '\x04') {
          *(char *)(iVar1 + 0x197) = cVar3 + '\x01';
          _DAT_004d8278 = 0;
          return;
        }
        *(undefined *)(iVar1 + 0x197) = 0;
        _DAT_004d8278 = 0;
        return;
      }
      if (cVar3 == '\0') {
        *(undefined *)(iVar1 + 0x197) = 4;
        _DAT_004d8278 = 0;
        return;
      }
LAB_00446c14:
      *(char *)(iVar1 + 0x197) = cVar3 + -1;
      _DAT_004d8278 = 0;
    }
  }
  return;
}



undefined FUN_00446c50(void)

{
  if (DAT_004d8238 == 2) {
    return *(undefined *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xd1);
  }
  return 0;
}



char FUN_00446c80(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = 0;
  iVar2 = 0;
  iVar3 = 0;
  DAT_004d8234 = '\0';
  FUN_00446d20();
  while (DAT_004d8234 == '\0') {
    iVar2 = FUN_00444070();
    if ((iVar2 == 0) && (iVar3 = FUN_004476e0(), iVar3 == 0)) {
      iVar1 = FUN_00444390();
    }
  }
  if (iVar2 != 0) {
    FUN_00444020();
    *param_1 = 1;
    return DAT_004d8234;
  }
  if (iVar3 != 0) {
    FUN_00447840();
    *param_1 = 2;
    return DAT_004d8234;
  }
  if (iVar1 != 0) {
    *param_1 = 0;
  }
  return DAT_004d8234;
}



void FUN_00446d20(void)

{
  FUN_004444b0();
  FUN_00444020();
  FUN_00447840();
  FUN_00444460();
  FUN_004477f0();
  FUN_00443fc0();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00446d40(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x24))(DAT_005ddc20,0x10,&DAT_004d8348);
  if (-1 < iVar1) {
    DAT_004d8370 = DAT_004d834c;
    DAT_004d836c = DAT_004d8348;
    DAT_004d834c = 0;
    DAT_004d835c = 0;
    DAT_004d8348 = 0;
    DAT_004d8358 = 0;
    _DAT_004d8360 = DAT_004d8350;
    _DAT_004d8364 = DAT_004d8354;
    return 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00446db0(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  uint local_18;
  undefined4 *puVar5;
  uint uVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  local_18 = 0;
  uVar6 = 0;
  puVar5 = (undefined4 *)0x446dd0;
  DAT_004d8330 = FUN_004858c0();
  if (*(int *)(DAT_005e5010 + 0x2524) != 0) {
    if (DAT_005ddf20 == 0) {
      iVar2 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
      if (iVar2 < 0) {
        return 0;
      }
      FUN_00447840();
      DAT_005ddf20 = 1;
    }
    DAT_004d8358 = DAT_004d8348;
    DAT_004d835c = DAT_004d834c;
    _DAT_004d8360 = DAT_004d8350;
    _DAT_004d8364 = DAT_004d8354;
    puVar5 = &DAT_004d8348;
    local_18 = 0x10;
    iVar2 = (**(code **)(*DAT_005ddc20 + 0x24))(DAT_005ddc20);
    if (iVar2 < 0) {
      if ((iVar2 == -0x7ff8ffe2) || (iVar2 == -0x7ff8fff4)) {
        DAT_005ddf20 = 0;
        iVar2 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
        if (-1 < iVar2) {
          FUN_00447840();
          DAT_005ddf20 = 1;
        }
      }
    }
    else {
      DAT_004d8348 = DAT_004d8348 - DAT_004d836c;
      DAT_004d834c = DAT_004d834c - DAT_004d8370;
      DAT_005de238 = DAT_004d8348 - DAT_004d8358;
      DAT_005de234 = DAT_004d834c - DAT_004d835c;
      if (DAT_004d8680 != 0) {
        DAT_005de234 = -DAT_005de234;
      }
      DAT_004d8338 = DAT_004d8338 + DAT_005de238;
      DAT_004d833c = DAT_004d833c + DAT_005de234;
      if (DAT_004d8338 < 0) {
        DAT_004d8338 = 0;
      }
      if (DAT_004d833c < 0) {
        DAT_004d833c = 0;
      }
      if (*(int *)(DAT_005e5010 + 0x2538) < DAT_004d8338) {
        DAT_004d8338 = *(int *)(DAT_005e5010 + 0x2538) + -0x10;
      }
      if (*(int *)(DAT_005e5010 + 0x253c) < DAT_004d833c) {
        DAT_004d833c = *(int *)(DAT_005e5010 + 0x253c) + -0x10;
      }
      if ((DAT_004d8330 == 4) || (DAT_004d8330 == 10)) {
        uVar3 = 1;
      }
      if (DAT_004d8348 != DAT_004d8358) {
        local_18 = FUN_004470b0(uVar3);
      }
      if (DAT_004d834c != DAT_004d835c) {
        puVar5 = (undefined4 *)FUN_004471c0(uVar3);
      }
      if (DAT_004d8348 == DAT_004d8358) {
        local_18 = FUN_004473d0(uVar3);
      }
      if (DAT_004d834c == DAT_004d835c) {
        puVar5 = (undefined4 *)FUN_00447460(uVar3);
      }
      iVar7 = -1;
      iVar2 = (**(code **)(*DAT_005ddc20 + 0x28))(DAT_005ddc20,0x10,0,&stack0xfffffff8,1);
      if (-1 < iVar2) {
        do {
          iVar7 = iVar7 + -1;
          iVar2 = (**(code **)(*DAT_005ddc20 + 0x28))
                            (DAT_005ddc20,0x10,&DAT_005de240,&stack0xfffffff4,0);
          if (-1 < iVar2) {
            iVar2 = 0;
            piVar4 = &DAT_005de240;
            do {
              DAT_004d839c._0_1_ = DAT_004d83a0;
              iVar1 = *piVar4;
              DAT_004d8394._0_1_ = DAT_004d8398;
              if (((iVar1 != 0) && (iVar1 != 4)) && (iVar1 != 8)) {
                if ((*(byte *)(piVar4 + 1) & 0xf0) == 0) {
                  FUN_00447650(iVar1);
                }
                else {
                  FUN_00447590();
                }
                uVar6 = 1;
              }
              iVar2 = iVar2 + 1;
              piVar4 = piVar4 + 4;
            } while (iVar2 == 0);
          }
        } while (iVar7 != 0);
        return uVar6 | (uint)puVar5 | local_18;
      }
    }
  }
  return (uint)puVar5 | local_18;
}



undefined4 FUN_004470b0(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  undefined4 *puVar5;
  int iVar6;
  undefined4 uVar7;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  iVar4 = 0xff;
  uVar7 = 0;
  if (DAT_00598f28 == 1) {
    return 0;
  }
  if ((DAT_004d8348 < DAT_004d8358) && ((DAT_004d8368 & 4) == 0)) {
    uVar2 = DAT_004d8368 >> 8;
    uVar3 = DAT_004d8368 | 4;
    iVar4 = 0xe0;
    uVar1 = DAT_004d8368 & 8;
    DAT_004d8368 = uVar3;
    if (uVar1 != 0) {
      DAT_004d8368 = CONCAT31((int3)uVar2,(char)uVar3) & 0xfffffff7;
      FUN_00445e40(3);
    }
    uVar7 = 1;
  }
  if ((DAT_004d8358 < DAT_004d8348) && ((DAT_004d8368 & 8) == 0)) {
    uVar2 = DAT_004d8368 >> 8;
    uVar3 = DAT_004d8368 | 8;
    iVar4 = 0xe1;
    uVar1 = DAT_004d8368 & 4;
    uVar7 = 1;
    DAT_004d8368 = uVar3;
    if (uVar1 != 0) {
      DAT_004d8368 = CONCAT31((int3)uVar2,(char)uVar3) & 0xfffffffb;
      FUN_00445e40(2);
    }
  }
  if ((param_1 == 0) && (iVar4 != 0xff)) {
    if (0 < DAT_004d838c) {
      puVar5 = &DAT_005ddf64;
      do {
        if (puVar5[-1] == iVar4) {
          FUN_00445250(*puVar5);
        }
        iVar6 = iVar6 + 1;
        puVar5 = puVar5 + 2;
      } while (iVar6 < DAT_004d838c);
    }
    FUN_00448020(DAT_004d8330,DAT_004d8254,DAT_004cba3c,(&DAT_005ddf64)[iVar6 * 2]);
  }
  return uVar7;
}



undefined4 FUN_004471c0(int param_1)

{
  int iVar1;
  bool bVar2;
  bool bVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint *puVar8;
  int iVar9;
  undefined4 uVar10;
  
  AdjustStackForLargeAllocations();
  bVar3 = false;
  uVar10 = 0;
  bVar2 = false;
  iVar4 = FUN_004858c0();
  if (DAT_00598f28 == 1) {
    return 0;
  }
  if (iVar4 == 2) {
    iVar9 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    iVar1 = *(int *)(*(int *)(iVar9 + 0x98) + 0x10);
    if (((((iVar1 == 4) || (iVar1 == 5)) ||
         ((iVar1 = *(int *)(*(int *)(iVar9 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) == 6 &&
          (*(char *)(iVar9 + 4) == '\x03')))) ||
        ((*(int *)(iVar1 + 0x7b) == 8 &&
         ((*(char *)(iVar9 + 4) == '\x05' || (*(char *)(iVar9 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar9 + 0x8a) & 0x100000) != 0)) {
      bVar2 = true;
    }
    if ((((*(uint *)(iVar9 + 0x8a) & 0x400) != 0) ||
        (((*(int *)(*(int *)(*(int *)(iVar9 + 0x86) + 0x13) + 0x7f) == 0x1b &&
          ((*(byte *)(iVar9 + 0xc9) & 0x20) != 0)) &&
         (*(char *)(*(int *)(iVar9 + 0x86) + 10) == '\0')))) ||
       ((*(uint *)(iVar9 + 0x8a) & 0x20340000) != 0)) {
      bVar3 = true;
    }
  }
  uVar7 = 0xff;
  if ((DAT_004d834c < DAT_004d835c) && ((DAT_004d8368 & 1) == 0)) {
    if (((!bVar2) && (!bVar3)) && (DAT_004d867c == 0)) {
      DAT_004d77d4 = 0;
      goto LAB_00447329;
    }
    uVar5 = DAT_004d8368 | 1;
    uVar7 = 0xe2;
    uVar6 = DAT_004d8368 & 2;
    DAT_004d8368 = uVar5;
    if (uVar6 != 0) {
      uVar10 = 1;
LAB_0044731a:
      FUN_00445e40(uVar10);
    }
  }
  else {
    if ((DAT_004d834c <= DAT_004d835c) || ((DAT_004d8368 & 1) != 0)) goto LAB_00447329;
    if (((!bVar2) && (!bVar3)) && (DAT_004d867c == 0)) {
      DAT_004d77d4 = 0;
      goto LAB_00447329;
    }
    uVar5 = DAT_004d8368 | 2;
    uVar7 = 0xe3;
    uVar6 = DAT_004d8368 & 1;
    DAT_004d8368 = uVar5;
    if (uVar6 != 0) {
      uVar10 = 0;
      goto LAB_0044731a;
    }
  }
  uVar10 = 1;
LAB_00447329:
  if ((param_1 == 0) && (uVar7 != 0xff)) {
    iVar9 = 0;
    if (0 < DAT_004d838c) {
      puVar8 = &DAT_005ddf64;
      do {
        uVar6 = puVar8[-1];
        if (uVar6 == uVar7) {
          if (uVar6 == DAT_005dcdc0._2_1_) {
            uVar6 = *puVar8 | 0x40000000;
          }
          else if (uVar6 == DAT_005dcdc5) {
            uVar6 = *puVar8 | 0x80000000;
          }
          else {
            uVar6 = *puVar8;
          }
          FUN_00445250(uVar6);
        }
        iVar9 = iVar9 + 1;
        puVar8 = puVar8 + 2;
      } while (iVar9 < DAT_004d838c);
    }
    FUN_00448020(iVar4,DAT_004d8254,DAT_004cba3c,(&DAT_005ddf64)[iVar9 * 2]);
  }
  return uVar10;
}



undefined4 FUN_004473d0(int param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (DAT_00598f28 == 1) {
    return uVar1;
  }
  if ((DAT_004d8358 == DAT_004d8348) && ((DAT_004d8368 & 4) != 0)) {
    if (param_1 == 0) {
      FUN_004474f0(0xe0);
    }
    DAT_004d8368 = DAT_004d8368 & 0xfffffffb;
    return 1;
  }
  if ((DAT_004d8358 == DAT_004d8348) && ((DAT_004d8368 & 8) != 0)) {
    if (param_1 == 0) {
      FUN_004474f0(0xe1);
    }
    DAT_004d8368 = DAT_004d8368 & 0xfffffff7;
    uVar1 = 1;
  }
  return uVar1;
}



undefined4 FUN_00447460(int param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (DAT_00598f28 == 1) {
    return uVar1;
  }
  if ((DAT_004d835c == DAT_004d834c) && ((DAT_004d8368 & 1) != 0)) {
    if (param_1 == 0) {
      FUN_004474f0(0xe2);
    }
    DAT_004d8368 = DAT_004d8368 & 0xfffffffe;
    return 1;
  }
  if ((DAT_004d835c == DAT_004d834c) && ((DAT_004d8368 & 2) != 0)) {
    if (param_1 == 0) {
      FUN_004474f0(0xe3);
    }
    DAT_004d8368 = DAT_004d8368 & 0xfffffffd;
    uVar1 = 1;
  }
  return uVar1;
}



void FUN_004474f0(uint param_1)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  
  iVar3 = 0;
  if (0 < DAT_004d838c) {
    puVar2 = &DAT_005ddf64;
    do {
      if (puVar2[-1] == param_1) {
        if (param_1 == DAT_005dcdc0._2_1_) {
          uVar1 = *puVar2 | 0x40000000;
        }
        else if (param_1 == DAT_005dcdc5) {
          uVar1 = *puVar2 | 0x80000000;
        }
        else {
          uVar1 = *puVar2;
        }
        FUN_00445e40(uVar1);
      }
      iVar3 = iVar3 + 1;
      puVar2 = puVar2 + 2;
    } while (iVar3 < DAT_004d838c);
  }
  if (DAT_00598f28 != 1) {
    FUN_00448130(DAT_004d8330,DAT_004d8254,DAT_004cba3c,(&DAT_005ddf64)[iVar3 * 2]);
  }
  return;
}



void FUN_00447590(uint param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  iVar1 = 0xff;
  if ((0xb < param_1) && (param_1 < 0xf)) {
    iVar1 = param_1 + 0xdc;
  }
  if (iVar1 != 0xff) {
    iVar3 = 0;
    if (0 < DAT_004d838c) {
      puVar2 = &DAT_005ddf64;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445250(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d838c);
    }
    if (DAT_00598f28 == 1) {
      FUN_00495860(DAT_004d833c << 0x10 | DAT_004d8338 & 0xffff);
      return;
    }
    FUN_00448020(DAT_004d8330,DAT_004d8254,DAT_004cba3c,(&DAT_005ddf64)[iVar3 * 2]);
  }
  return;
}



void FUN_00447650(uint param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  iVar1 = 0xff;
  if ((0xb < param_1) && (param_1 < 0xf)) {
    iVar1 = param_1 + 0xdc;
  }
  if (iVar1 != 0xff) {
    iVar3 = 0;
    if (0 < DAT_004d838c) {
      puVar2 = &DAT_005ddf64;
      do {
        if (puVar2[-1] == iVar1) {
          FUN_00445e40(*puVar2);
        }
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 2;
      } while (iVar3 < DAT_004d838c);
    }
    if (DAT_00598f28 != 1) {
      FUN_00448130(DAT_004d8330,DAT_004d8254,DAT_004cba3c,(&DAT_005ddf64)[iVar3 * 2]);
    }
  }
  return;
}



undefined4 FUN_004476e0(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined4 uVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  uVar4 = 0;
  DAT_004d8330 = FUN_004858c0();
  if (DAT_005ddf20 == 0) {
    iVar2 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
    if (iVar2 < 0) {
      return 0;
    }
    FUN_00447840();
    DAT_005ddf20 = 1;
  }
  iVar5 = -1;
  iVar2 = (**(code **)(*DAT_005ddc20 + 0x28))(DAT_005ddc20,0x10,0,&stack0xfffffff8,1);
  if (-1 < iVar2) {
    do {
      iVar5 = iVar5 + -1;
      iVar2 = (**(code **)(*DAT_005ddc20 + 0x28))
                        (DAT_005ddc20,0x10,&DAT_005de240,&stack0xfffffff4,0);
      if (-1 < iVar2) {
        iVar2 = 1;
        piVar3 = &DAT_005de240;
        do {
          iVar1 = *piVar3;
          if ((((iVar1 != 0) && (iVar1 != 4)) && (iVar1 != 8)) &&
             ((*(byte *)(piVar3 + 1) & 0xf0) != 0)) {
            if (iVar1 == 0xc) {
              DAT_004d8234 = 0xe8;
            }
            else if (iVar1 == 0xd) {
              DAT_004d8234 = 0xe9;
            }
            else {
              if (iVar1 != 0xe) goto LAB_004477c3;
              DAT_004d8234 = 0xea;
            }
            uVar4 = 1;
          }
LAB_004477c3:
          piVar3 = piVar3 + 4;
          iVar2 = iVar2 + -1;
        } while (iVar2 != 0);
      }
    } while (iVar5 != 0);
  }
  return uVar4;
}



void FUN_004477f0(void)

{
  int iVar1;
  int local_8;
  
  local_8 = 0x4477fd;
  AdjustStackForLargeAllocations();
  local_8 = 0x14;
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x28))(DAT_005ddc20,0x10,0,&local_8);
  if ((-1 < iVar1) && (local_8 != 0)) {
    (**(code **)(*DAT_005ddc20 + 0x28))(DAT_005ddc20,0x10,&DAT_005de240,&local_8,0);
  }
  return;
}



void FUN_00447840(void)

{
  AdjustStackForLargeAllocations();
  FUN_00446d40();
  DAT_004d8368 = 0;
  DAT_004d824c = 0;
  DAT_004cba3c = 0xff;
  _memset(&DAT_004d8358,0,0x10);
  _memset(&DAT_004d8348,0,0x10);
  DAT_004d8394._0_1_ = 0;
  DAT_004d8398 = 0;
  DAT_004d839c._0_1_ = 0;
  DAT_004d83a0 = 0;
  DAT_004d8338 = 0;
  DAT_004d833c = 0;
  DAT_005de238 = 0;
  if (DAT_005ddf20 != 0) {
    (**(code **)(*DAT_005ddc20 + 0x28))(DAT_005ddc20,0x10,0,&stack0xfffffff8,0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004478e0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 *local_18;
  undefined4 local_14;
  
  AdjustStackForLargeAllocations();
  local_14 = 0x4478f5;
  FUN_004433c0();
  if (DAT_004d8384 != 0) {
    local_14 = 0x447905;
    FUN_00443560();
  }
  _DAT_005ddf14 = 0x11cfd5a0;
  local_14 = 0;
  _DAT_005ddf10 = 0x6f1d2b61;
  local_18 = &DAT_005ddf40;
  _DAT_005ddf18 = 0x4544c7bf;
  _DAT_005ddf1c = 0x5453;
  iVar1 = DirectInputCreateA(param_2,0x500);
  if (iVar1 != 0) {
    return 0;
  }
  local_14 = 0;
  local_18 = &DAT_005ddc24;
  iVar1 = (**(code **)(*DAT_005ddf40 + 0xc))(DAT_005ddf40,&DAT_005ddf10);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x2c))(DAT_005ddc24,&DAT_004bf3a0);
  if (iVar1 != 0) {
    return 0;
  }
  local_18 = (undefined4 *)0x14;
  local_14 = 0x10;
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x18))(DAT_005ddc24,1,&local_18);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x34))(DAT_005ddc24,param_1,6);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
  _DAT_005ddf30 = 0x6f1d2b60;
  DAT_005de230 = (uint)(-1 < iVar1);
  _DAT_005ddf3c = 0x5453;
  _DAT_005ddf34 = 0x11cfd5a0;
  _DAT_005ddf38 = 0x4544c7bf;
  iVar1 = (**(code **)(*DAT_005ddf40 + 0xc))(DAT_005ddf40,&DAT_005ddf30,&DAT_005ddc20,0);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x2c))(DAT_005ddc20,&DAT_004be380);
  if (iVar1 != 0) {
    return 0;
  }
  local_18 = (undefined4 *)0x14;
  local_14 = 0x10;
  (**(code **)(*DAT_005ddc20 + 0x18))(DAT_005ddc20,1,&local_18);
  local_18 = (undefined4 *)0x14;
  local_14 = 0x10;
  (**(code **)(*DAT_005ddc20 + 0x18))(DAT_005ddc20,2,&local_18);
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x34))(DAT_005ddc20,param_1,5);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
  if (iVar1 < 0) {
    DAT_005ddf20 = 0;
  }
  else {
    DAT_005ddf20 = 1;
    FUN_00446d40();
  }
  iVar1 = (**(code **)(*DAT_005ddf40 + 0x10))(DAT_005ddf40,4,FUN_00447c70,DAT_005ddf40,0x101);
  if ((iVar1 == 0) && (DAT_004d8374 != 0)) {
    DAT_004d837c = 1;
    _DAT_004d8380 = 1;
    FUN_00447b80();
    return 1;
  }
  _DAT_004d8380 = 0;
  iVar1 = (**(code **)(*DAT_005ddf40 + 0x10))(DAT_005ddf40,4,FUN_00447c70,DAT_005ddf40,1);
  if ((iVar1 != 0) || (DAT_004d837c = 1, DAT_004d8374 == 0)) {
    DAT_004d837c = 0;
  }
  FUN_00447b80();
  return 1;
}



void FUN_00447b80(void)

{
  byte bVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  DAT_004d838c = 0;
  DAT_004d8390 = 0;
  _memset(&DAT_005ddf60,0,8);
  _memset(&DAT_005ddc40,0,8);
  puVar6 = &DAT_005dcdc0;
  do {
    iVar5 = 0;
    piVar2 = &DAT_005ddf64 + DAT_004d838c * 2;
    piVar3 = &DAT_005ddc44 + DAT_004d8390 * 2;
    do {
      bVar1 = *(byte *)(iVar5 + (int)puVar6);
      if (((((bVar1 == 0xe0) || (bVar1 == 0xe1)) || (bVar1 == 0xe2)) ||
          ((bVar1 == 0xe3 || (bVar1 == 0xe8)))) || ((bVar1 == 0xe9 || (bVar1 == 0xea)))) {
        DAT_004d838c = DAT_004d838c + 1;
        piVar2[-1] = (uint)bVar1;
        *piVar2 = iVar4;
        piVar2 = piVar2 + 2;
      }
      else if ((((bVar1 == 0xe4) || (bVar1 == 0xe5)) || ((bVar1 == 0xe6 || (bVar1 == 0xe7)))) ||
              ((0xea < bVar1 && (bVar1 < 0xf7)))) {
        piVar3[-1] = (uint)bVar1;
        DAT_004d8390 = DAT_004d8390 + 1;
        *piVar3 = iVar4;
        piVar3 = piVar3 + 2;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 3);
    iVar4 = iVar4 + 1;
    puVar6 = (undefined4 *)((int)puVar6 + 3);
  } while ((int)puVar6 < 0x5dce1a);
  return;
}



undefined4 FUN_00447c70(int *param_1)

{
  int iVar1;
  char *pcVar2;
  char local_24c [476];
  undefined4 uStackY_70;
  int *piStackY_6c;
  undefined4 uStackY_68;
  undefined4 uStackY_64;
  undefined4 uStackY_60;
  
  AdjustStackForLargeAllocations();
  iVar1 = (**(code **)(*DAT_005ddf40 + 0xc))();
  if (iVar1 != 0) {
    OutputDebugStringA(s_IDirectInput__CreateDevice_FAILE_004cbba8);
    return 1;
  }
  (**(code **)(*param_1 + 0x3c))();
  pcVar2 = _strstr(local_24c,s_Joystick_004cbbcc);
  if (pcVar2 != (char *)0x0) {
    (**(code **)*param_1)();
    FUN_00447ef0();
  }
  iVar1 = (**(code **)(*param_1 + 0x2c))();
  if (iVar1 != 0) {
    OutputDebugStringA(s_IDirectInputDevice__SetDataForma_004cbc04);
    (**(code **)(*param_1 + 8))();
    return 1;
  }
  iVar1 = (**(code **)(*param_1 + 0x34))();
  if (iVar1 != 0) {
    OutputDebugStringA(s_IDirectInputDevice__SetCooperati_004cbc30);
    (**(code **)(*param_1 + 8))();
    return 1;
  }
  iVar1 = (**(code **)(*param_1 + 0x18))();
  if (iVar1 != 0) {
    FUN_004491c0();
    if (iVar1 == 0) {
      (**(code **)(*param_1 + 8))();
      return 0;
    }
  }
  iVar1 = (**(code **)(*param_1 + 0x18))();
  if (iVar1 != 0) {
    FUN_004491c0();
    (**(code **)(*param_1 + 8))();
    return 0;
  }
  iVar1 = (**(code **)(*param_1 + 0x18))();
  if (iVar1 == 0) {
    uStackY_60 = 1;
    uStackY_64 = 0;
    uStackY_68 = 5;
    piStackY_6c = param_1;
    uStackY_70 = 0x447e4c;
    iVar1 = FUN_00447ea0();
    if (iVar1 == 0) {
      uStackY_60 = 1;
      uStackY_64 = 4;
      uStackY_68 = 5;
      piStackY_6c = param_1;
      uStackY_70 = 0x447e6b;
      iVar1 = FUN_00447ea0();
      if (iVar1 == 0) {
        return 1;
      }
      pcVar2 = s_IDirectInputDevice__SetProperty__004cbccc;
    }
    else {
      pcVar2 = s_IDirectInputDevice__SetProperty__004cbc94;
    }
  }
  else {
    pcVar2 = s_IDirectInputDevice__SetProperty__004cbc60;
  }
  uStackY_60 = 0x447e7d;
  OutputDebugStringA(pcVar2);
  uStackY_60 = 0x447e86;
  (**(code **)(*param_1 + 8))();
  return 0;
}



void FUN_00447ea0(int *param_1,undefined4 param_2)

{
  undefined4 local_18;
  undefined4 local_14;
  int *local_10;
  undefined4 local_c;
  undefined4 *local_8;
  
  local_8 = (undefined4 *)0x447ead;
  AdjustStackForLargeAllocations();
  local_8 = &local_18;
  local_c = param_2;
  local_10 = param_1;
  local_18 = 0x14;
  local_14 = 0x447ede;
  (**(code **)(*param_1 + 0x18))();
  return;
}



undefined4 FUN_00447ef0(void)

{
  int iVar1;
  
  if (DAT_004d8374 != (int *)0x0) {
    iVar1 = (**(code **)(*DAT_004d8374 + 0x1c))(DAT_004d8374);
    if (-1 < iVar1) {
      DAT_004d8378 = 1;
      return 1;
    }
    DAT_004d8378 = 0;
  }
  return 0;
}



void FUN_00447f80(void)

{
  FUN_004437c0();
  if (DAT_005de230 != 0) {
    (**(code **)(*DAT_005ddc24 + 0x20))(DAT_005ddc24);
    DAT_005de230 = 0;
  }
  if (DAT_005ddc24 != (int *)0x0) {
    (**(code **)(*DAT_005ddc24 + 8))(DAT_005ddc24);
  }
  if (DAT_005ddf20 != 0) {
    (**(code **)(*DAT_005ddc20 + 0x20))(DAT_005ddc20);
    DAT_005ddf20 = 0;
  }
  if (DAT_004d8378 != 0) {
    (**(code **)(*DAT_004d8374 + 0x20))(DAT_004d8374);
    DAT_004d8378 = 0;
  }
  if (DAT_004d8374 != (int *)0x0) {
    (**(code **)(*DAT_004d8374 + 8))(DAT_004d8374);
  }
  if (DAT_005ddc20 != (int *)0x0) {
    (**(code **)(*DAT_005ddc20 + 8))(DAT_005ddc20);
  }
  if (DAT_005ddf40 != (int *)0x0) {
    (**(code **)(*DAT_005ddf40 + 8))(DAT_005ddf40);
  }
  return;
}



void FUN_00448020(undefined4 param_1,char param_2,uint param_3)

{
  byte bVar1;
  int iVar2;
  
  iVar2 = FUN_004858c0();
  if (((DAT_004cb05c == 8) && (iVar2 != 10)) && ((DAT_00598944 == 0 || (DAT_004d8268 == 0)))) {
    if (param_2 == '\0') {
      iVar2 = FUN_00448700(1,DAT_004d824c,param_3);
      if (iVar2 != -1) {
        DAT_004d8398 = (char)iVar2;
        return;
      }
    }
    else if (param_2 == '\x04') {
      iVar2 = FUN_00448210(1,DAT_004d824c,param_3);
      if (iVar2 != -1) {
        DAT_004d83a0 = (char)iVar2;
        return;
      }
    }
    else if (param_2 == '\x05') {
      bVar1 = (byte)param_3;
      if ((((0x17 < bVar1) && (bVar1 < 0x1d)) && (DAT_005df318 != 0)) &&
         (*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x115 + (param_3 & 0xff) * 4) != 0)) {
        FUN_00442d10(*(int *)(DAT_005df318 + 4),bVar1 - 0x18,0);
        return;
      }
    }
  }
  else {
    iVar2 = FUN_00448210(1,DAT_004d824c,param_3);
    if (iVar2 != -1) {
      DAT_004d83a0 = (undefined)iVar2;
    }
  }
  return;
}



void FUN_00448130(undefined4 param_1,char param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  
  iVar1 = FUN_004858c0();
  if ((DAT_004cb05c == 8) && (iVar1 != 10)) {
    if (param_2 == '\0') {
      iVar2 = FUN_00448700(0,DAT_004d824c,param_3);
      if (iVar2 != -1) {
        DAT_004d8398 = (undefined)iVar2;
      }
      goto LAB_004481ce;
    }
    if (param_2 != '\x04') goto LAB_004481ce;
    iVar2 = FUN_00448210(0,DAT_004d824c,param_3);
  }
  else {
    if (DAT_005df320 == 2) {
      FUN_00448a80(param_4);
      DAT_004cbd30 = (undefined)param_4;
      goto LAB_004481ce;
    }
    iVar2 = FUN_00448210(0,DAT_004d824c,param_3);
  }
  if (iVar2 != -1) {
    DAT_004d83a0 = (undefined)iVar2;
  }
LAB_004481ce:
  if (((iVar1 != 4) && (DAT_00598944 != 0)) && (DAT_004d823c != DAT_004d824c)) {
    FUN_00462f20(DAT_004d824c,DAT_004d823c);
    DAT_004d823c = DAT_004d824c;
  }
  return;
}



uint FUN_00448210(char param_1,uint param_2,byte param_3)

{
  bool bVar1;
  int iVar2;
  size_t sVar3;
  byte bVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  bVar4 = 0;
  uVar5 = 0;
  bVar1 = false;
  iVar2 = FUN_004858c0();
  if (((DAT_004d79b0 != 0) && (iVar2 != 10)) && (*(int *)(DAT_004d79b0 + 8) == 1)) {
    bVar1 = true;
  }
  if (param_1 == '\x01') {
    switch(DAT_004d839c & 0xff) {
    case 0:
      goto code_r0x00448282;
    default:
      goto switchD_0044826a_caseD_1;
    case 3:
      switch(param_3) {
      case 4:
switchD_004483a7_caseD_4:
        if (DAT_005df320 == 2) goto switchD_0044826a_caseD_1;
        bVar4 = 1;
        break;
      case 5:
      case 0xd:
switchD_004483a7_caseD_5:
        bVar4 = 1;
        break;
      default:
        goto switchD_0044826a_caseD_1;
      case 0xe:
      case 0x16:
        goto switchD_004483a7_caseD_e;
      case 0x12:
        goto switchD_004483a7_caseD_12;
      }
      goto LAB_0044844f;
    case 4:
      switch(param_3) {
      case 4:
        goto switchD_004483a7_caseD_4;
      case 5:
      case 0xd:
        goto switchD_004483a7_caseD_5;
      default:
        goto switchD_0044826a_caseD_1;
      case 0xe:
      case 0x16:
        goto switchD_004483a7_caseD_e;
      case 0x12:
        goto switchD_004483a7_caseD_12;
      }
    case 5:
      switch(param_3) {
      case 4:
        goto switchD_004483a7_caseD_4;
      case 5:
      case 0xd:
        goto switchD_004483a7_caseD_5;
      default:
        goto switchD_0044826a_caseD_1;
      case 0xe:
      case 0x16:
        goto switchD_004483a7_caseD_e;
      case 0x12:
        goto switchD_004483a7_caseD_12;
      }
    case 6:
      switch(param_3) {
      case 4:
        goto switchD_004483a7_caseD_4;
      case 5:
      case 0xd:
        goto switchD_004483a7_caseD_5;
      default:
        goto switchD_0044826a_caseD_1;
      case 0xe:
      case 0x16:
        goto switchD_004483a7_caseD_e;
      case 0x12:
        goto switchD_004483a7_caseD_12;
      }
    case 7:
    case 8:
    case 9:
      switch(param_3) {
      case 4:
        goto switchD_004483a7_caseD_4;
      case 5:
      case 0xd:
        goto switchD_004483a7_caseD_5;
      default:
        goto switchD_0044826a_caseD_1;
      case 0xe:
      case 0x16:
        goto switchD_004483a7_caseD_e;
      case 0x12:
        goto switchD_004483a7_caseD_12;
      }
    }
  }
  switch(DAT_004d839c & 0xff) {
  case 1:
    if ((param_3 < 4) || ((5 < param_3 && (param_3 != 0xd)))) goto switchD_0044826a_caseD_1;
    if ((param_2 & 0x4000) != 0) goto switchD_004483a7_caseD_e;
    break;
  case 2:
    if ((param_3 != 0xe) && (param_3 != 0x16)) goto switchD_0044826a_caseD_1;
    if ((param_2 & 0xd) != 0) {
      bVar4 = 1;
      goto LAB_0044844f;
    }
    break;
  case 3:
    if (param_3 != 0) goto switchD_0044826a_caseD_1;
    goto LAB_00448433;
  case 4:
    if (param_3 != 1) goto switchD_0044826a_caseD_1;
    if ((param_2 & 1) != 0) {
      bVar4 = 3;
      goto LAB_0044844f;
    }
    goto LAB_0044843c;
  case 5:
    if ((param_3 != 3) && (param_3 != 0x14)) goto switchD_0044826a_caseD_1;
    if ((param_2 & 4) != 0) goto switchD_0044828a_caseD_13;
    goto LAB_00448419;
  case 6:
    if ((param_3 != 2) && (param_3 != 0x13)) goto switchD_0044826a_caseD_1;
    if ((param_2 & 8) != 0) {
      bVar4 = 5;
      goto LAB_0044844f;
    }
LAB_00448419:
    if ((param_2 & 1) == 0) {
      bVar4 = ((byte)param_2 & 2) << 1;
    }
    else {
      bVar4 = 3;
    }
    goto LAB_0044844f;
  case 7:
  case 8:
  case 10:
    if (param_3 != 0xe) goto switchD_0044826a_caseD_1;
    if ((param_2 & 0xd) != 0) goto switchD_004483a7_caseD_5;
    if ((param_2 & 1) != 0) goto switchD_0044828a_caseD_0;
LAB_00448433:
    if ((param_2 & 2) == 0) goto LAB_0044843c;
switchD_0044828a_caseD_1:
    bVar4 = 4;
    goto LAB_0044844f;
  default:
    goto switchD_0044826a_caseD_1;
  }
  if ((param_2 & 1) == 0) {
    if ((param_2 & 2) == 0) {
LAB_0044843c:
      if ((param_2 & 8) == 0) {
        bVar4 = -((param_2 & 4) != 0) & 6;
      }
      else {
switchD_0044828a_caseD_14:
        bVar4 = 5;
      }
    }
    else {
      bVar4 = 4;
    }
  }
  else {
    bVar4 = 3;
  }
LAB_0044844f:
  uVar5 = (uint)bVar4;
switchD_0044826a_caseD_1:
  if ((byte)DAT_004d839c != bVar4) {
    return uVar5;
  }
  return 0xffffffff;
code_r0x00448282:
  switch(param_3) {
  case 0:
switchD_0044828a_caseD_0:
    bVar4 = 3;
    break;
  case 1:
    goto switchD_0044828a_caseD_1;
  case 2:
    if (bVar1) goto switchD_0044826a_caseD_1;
    bVar4 = 6;
    break;
  case 3:
    if (bVar1) goto switchD_0044826a_caseD_1;
    bVar4 = 5;
    break;
  case 4:
    if ((DAT_005df320 == 2) || (bVar1)) goto switchD_0044826a_caseD_1;
    bVar4 = 1;
    break;
  case 5:
  case 0xd:
    if (DAT_005df320 != 2) goto switchD_004483a7_caseD_5;
    sVar3 = _strlen(&DAT_005df340);
    if (sVar3 == 0) goto switchD_0044826a_caseD_1;
    bVar4 = 1;
    break;
  default:
    goto switchD_0044826a_caseD_1;
  case 0xe:
  case 0x16:
    goto switchD_004483a7_caseD_e;
  case 0x10:
    bVar4 = 9;
    break;
  case 0x12:
switchD_004483a7_caseD_12:
    bVar4 = 10;
    break;
  case 0x13:
switchD_0044828a_caseD_13:
    bVar4 = 6;
    break;
  case 0x14:
    goto switchD_0044828a_caseD_14;
  }
  goto LAB_0044844f;
switchD_004483a7_caseD_e:
  bVar4 = 2;
  goto LAB_0044844f;
}



undefined4 FUN_004486b0(char param_1,undefined4 param_2,char param_3)

{
  AdjustStackForLargeAllocations();
  if ((param_1 != '\0') && (param_3 == '\x05')) {
    return 1;
  }
  return 0;
}



uint FUN_00448700(char param_1,byte param_2,char param_3)

{
  byte bVar1;
  uint local_8;
  
  AdjustStackForLargeAllocations();
  bVar1 = 0;
  local_8 = 0;
  if (param_1 == '\x01') {
    switch(DAT_004d8394 & 0xff) {
    case 0:
      switch(param_3) {
      case '\0':
switchD_0044874e_caseD_0:
        bVar1 = 1;
        break;
      case '\x01':
switchD_0044874e_caseD_1:
        bVar1 = 2;
        break;
      case '\x02':
switchD_0044874e_caseD_2:
        bVar1 = 4;
        break;
      case '\x03':
switchD_0044874e_caseD_3:
        bVar1 = 3;
        break;
      default:
        goto switchD_00448735_caseD_9;
      }
      break;
    case 1:
      if (param_3 == '\x02') {
LAB_0044893c:
        bVar1 = 5;
      }
      else {
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = 6;
      }
      break;
    case 2:
      if (param_3 == '\x02') {
LAB_00448943:
        bVar1 = 7;
      }
      else {
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = 8;
      }
      break;
    case 3:
      if (param_3 == '\0') goto LAB_00448905;
      if (param_3 != '\x01') goto switchD_00448735_caseD_9;
      bVar1 = 8;
      break;
    case 4:
      if (param_3 == '\0') goto LAB_0044893c;
      if (param_3 != '\x01') goto switchD_00448735_caseD_9;
      bVar1 = 7;
      break;
    case 5:
      if (param_3 == '\x03') goto switchD_0044874e_caseD_0;
      if (param_3 != '\x0e') goto switchD_00448735_caseD_9;
      bVar1 = 4;
      break;
    case 6:
      if (param_3 == '\x02') goto switchD_0044874e_caseD_0;
      if (param_3 != '\x0e') goto switchD_00448735_caseD_9;
      bVar1 = 3;
      break;
    case 7:
      if (param_3 == '\0') goto switchD_0044874e_caseD_2;
      if (param_3 != '\x03') goto switchD_00448735_caseD_9;
      bVar1 = 2;
      break;
    case 8:
      if (param_3 == '\0') goto switchD_0044874e_caseD_3;
      if (param_3 != '\x02') goto switchD_00448735_caseD_9;
      bVar1 = 2;
      break;
    default:
      goto switchD_00448735_caseD_9;
    }
  }
  else {
    switch(DAT_004d8394 & 0xff) {
    case 0:
      switch(param_3) {
      case '\0':
        goto switchD_0044874e_caseD_1;
      case '\x01':
        goto switchD_0044874e_caseD_0;
      case '\x02':
        goto switchD_0044874e_caseD_3;
      case '\x03':
        goto switchD_0044874e_caseD_2;
      default:
        goto switchD_00448735_caseD_9;
      }
    case 1:
      if (param_3 == '\0') {
        bVar1 = param_2 & 2;
      }
      else if (param_3 == '\x02') {
LAB_00448905:
        bVar1 = 6;
      }
      else {
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = 5;
      }
      break;
    case 2:
      if (param_3 == '\x01') {
        bVar1 = param_2 & 1;
      }
      else {
        if (param_3 == '\x02') goto LAB_0044890c;
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = 7;
      }
      break;
    case 3:
      if (param_3 == '\0') {
LAB_0044890c:
        bVar1 = 8;
      }
      else {
        if (param_3 == '\x01') goto LAB_00448905;
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = param_2 & 4;
      }
      break;
    case 4:
      if (param_3 == '\0') goto LAB_00448943;
      if (param_3 == '\x01') goto LAB_0044893c;
      if (param_3 != '\x02') goto switchD_00448735_caseD_9;
      bVar1 = -((param_2 & 8) != 0) & 3;
      break;
    case 5:
      if (param_3 == '\0') {
        bVar1 = (-((param_2 & 2) != 0) & 3U) + 4;
      }
      else {
        if (param_3 != '\x02') goto switchD_00448735_caseD_9;
        bVar1 = (-((param_2 & 8) != 0) & 5U) + 1;
      }
      break;
    case 6:
      if (param_3 == '\0') {
        bVar1 = -((param_2 & 2) != 0) & 5;
LAB_004489f6:
        bVar1 = bVar1 + 3;
      }
      else {
        if (param_3 != '\x03') goto switchD_00448735_caseD_9;
        bVar1 = param_2 & 4 | 1;
      }
      break;
    case 7:
      if (param_3 == '\x01') {
        bVar1 = param_2 & 1 | 4;
      }
      else {
        if (param_3 != '\x02') goto switchD_00448735_caseD_9;
        bVar1 = (-((param_2 & 8) != 0) & 6U) + 2;
      }
      break;
    case 8:
      if (param_3 == '\x01') {
        bVar1 = -((param_2 & 1) != 0) & 3;
        goto LAB_004489f6;
      }
      if (param_3 != '\x03') goto switchD_00448735_caseD_9;
      bVar1 = (-((param_2 & 4) != 0) & 5U) + 2;
      break;
    default:
      goto switchD_00448735_caseD_9;
    }
  }
  local_8 = (uint)bVar1;
switchD_00448735_caseD_9:
  if ((byte)DAT_004d8394 == bVar1) {
    return 0xffffffff;
  }
  return local_8;
}



void FUN_00448a80(uint param_1)

{
  size_t sVar1;
  int iVar2;
  
  FID_conflict___mbscpy(&DAT_005ddb20,&DAT_005df340);
  if ((((((1 < param_1) && (param_1 < 0xc)) || ((0xf < param_1 && (param_1 < 0x1a)))) ||
       ((0x1d < param_1 && (param_1 < 0x27)))) || ((0x2b < param_1 && (param_1 < 0x33)))) ||
     ((param_1 == 0xe || (param_1 == 0x39)))) {
    sVar1 = _strlen(&DAT_005ddb20);
    if ((param_1 == 0xe) && (sVar1 != 0)) {
      (&DAT_005ddb1f)[sVar1] = 0;
    }
    else if (sVar1 < 0xb) {
      iVar2 = FUN_00448f90(param_1);
      if (0 < iVar2) {
        (&DAT_005ddb20)[sVar1] = (char)iVar2;
        (&DAT_005ddb21)[sVar1] = 0;
      }
    }
    FID_conflict___mbscpy(&DAT_005df340,&DAT_005ddb20);
  }
  return;
}



undefined FUN_00448b30(undefined param_1)

{
  undefined uVar1;
  
  uVar1 = 0;
  switch(param_1) {
  case 9:
    return 0xf;
  case 0x10:
    return 0x2a;
  case 0x11:
    return 0x1d;
  case 0x20:
    return 0x39;
  case 0x25:
    return 0xcb;
  case 0x26:
    return 200;
  case 0x27:
    return 0xcd;
  case 0x28:
    return 0xd0;
  case 0x29:
    return 0x1c;
  case 0x30:
    return 0xb;
  case 0x31:
    return 2;
  case 0x32:
    return 3;
  case 0x33:
    return 4;
  case 0x34:
    return 5;
  case 0x35:
    return 6;
  case 0x36:
    return 7;
  case 0x37:
    return 8;
  case 0x38:
    return 9;
  case 0x39:
    uVar1 = 10;
    break;
  case 0x41:
    return 0x1e;
  case 0x42:
    return 0x30;
  case 0x43:
    return 0x2e;
  case 0x44:
    return 0x20;
  case 0x45:
    return 0x12;
  case 0x46:
    return 0x21;
  case 0x47:
    return 0x22;
  case 0x48:
    return 0x23;
  case 0x49:
    return 0x17;
  case 0x4a:
    return 0x24;
  case 0x4b:
    return 0x25;
  case 0x4c:
    return 0x26;
  case 0x4d:
    return 0x32;
  case 0x4e:
    return 0x31;
  case 0x4f:
    return 0x18;
  case 0x50:
    return 0x19;
  case 0x51:
    return 0x10;
  case 0x52:
    return 0x13;
  case 0x53:
    return 0x1f;
  case 0x54:
    return 0x14;
  case 0x55:
    return 0x16;
  case 0x56:
    return 0x2f;
  case 0x57:
    return 0x11;
  case 0x58:
    return 0x2d;
  case 0x59:
    return 0x15;
  case 0x5a:
    return 0x2c;
  }
  return uVar1;
}



undefined FUN_00448d20(undefined param_1)

{
  undefined uVar1;
  
  uVar1 = 0;
  switch(param_1) {
  case 2:
    return 0x31;
  case 3:
    return 0x32;
  case 4:
    return 0x33;
  case 5:
    return 0x34;
  case 6:
    return 0x35;
  case 7:
    return 0x36;
  case 8:
    return 0x37;
  case 9:
    return 0x38;
  case 10:
    uVar1 = 0x39;
    break;
  case 0xb:
    return 0x30;
  case 0xf:
    return 9;
  case 0x10:
    return 0x51;
  case 0x11:
    return 0x57;
  case 0x12:
    return 0x45;
  case 0x13:
    return 0x52;
  case 0x14:
    return 0x54;
  case 0x15:
    return 0x59;
  case 0x16:
    return 0x55;
  case 0x17:
    return 0x49;
  case 0x18:
    return 0x4f;
  case 0x19:
    return 0x50;
  case 0x1c:
    return 0x29;
  case 0x1d:
    return 0x11;
  case 0x1e:
    return 0x41;
  case 0x1f:
    return 0x53;
  case 0x20:
    return 0x44;
  case 0x21:
    return 0x46;
  case 0x22:
    return 0x47;
  case 0x23:
    return 0x48;
  case 0x24:
    return 0x4a;
  case 0x25:
    return 0x4b;
  case 0x26:
    return 0x4c;
  case 0x2a:
    return 0x10;
  case 0x2c:
    return 0x5a;
  case 0x2d:
    return 0x58;
  case 0x2e:
    return 0x43;
  case 0x2f:
    return 0x56;
  case 0x30:
    return 0x42;
  case 0x31:
    return 0x4e;
  case 0x32:
    return 0x4d;
  case 0x39:
    return 0x20;
  case 200:
    return 0x26;
  case 0xcb:
    return 0x25;
  case 0xcd:
    return 0x27;
  case 0xd0:
    return 0x28;
  }
  return uVar1;
}



uint FUN_00448f90(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = FUN_0043ff50();
  switch(param_1) {
  case 2:
    return 0x31;
  case 3:
    return 0x32;
  case 4:
    return 0x33;
  case 5:
    return 0x34;
  case 6:
    return 0x35;
  case 7:
    return 0x36;
  case 8:
    return 0x37;
  case 9:
    return 0x38;
  case 10:
    return 0x39;
  case 0xb:
    return 0x30;
  default:
    return 0;
  case 0x10:
    return (-(uint)(iVar1 != 4) & 0x10) + 0x41;
  case 0x11:
    return (-(uint)(iVar1 != 4) & 0xfffffffd) + 0x5a;
  case 0x12:
    return 0x45;
  case 0x13:
    return 0x52;
  case 0x14:
    return 0x54;
  case 0x15:
    return 0x5a - (iVar1 != 1);
  case 0x16:
    return 0x55;
  case 0x17:
    return 0x49;
  case 0x18:
    return 0x4f;
  case 0x19:
    return 0x50;
  case 0x1e:
    return (-(uint)(iVar1 != 4) & 0xfffffff0) + 0x51;
  case 0x1f:
    return 0x53;
  case 0x20:
    return 0x44;
  case 0x21:
    return 0x46;
  case 0x22:
    return 0x47;
  case 0x23:
    return 0x48;
  case 0x24:
    return 0x4a;
  case 0x25:
    return 0x4b;
  case 0x26:
    return 0x4c;
  case 0x2c:
    break;
  case 0x2d:
    return 0x58;
  case 0x2e:
    return 0x43;
  case 0x2f:
    return 0x56;
  case 0x30:
    return 0x42;
  case 0x31:
    return 0x4e;
  case 0x32:
    return -(uint)(iVar1 != 4) & 0x4d;
  case 0x39:
    return 0x20;
  }
  if (iVar1 == 4) {
    return 0x57;
  }
  return (iVar1 != 1) + 0x59;
}



void FUN_004491c0(void)

{
  return;
}



void FUN_004491d0(int param_1,int param_2,int param_3,int param_4,undefined2 param_5,int param_6,
                 int param_7)

{
  undefined2 *puVar1;
  float fVar2;
  undefined2 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  
  uVar3 = param_5;
  AdjustStackForLargeAllocations();
  iVar9 = 0;
  if ((param_1 <= param_3) && (param_2 <= param_4)) {
    iVar9 = 1;
    goto LAB_00449235;
  }
  if (param_1 <= param_3) {
    if (param_4 < param_2) {
      iVar9 = 2;
      goto LAB_00449235;
    }
    if (param_1 <= param_3) goto LAB_00449235;
  }
  if (param_4 < param_2) {
    iVar9 = 3;
  }
  else if ((param_3 < param_1) && (param_2 <= param_4)) {
    iVar9 = 4;
  }
LAB_00449235:
  iVar4 = param_4 - param_2;
  iVar7 = param_3 - param_1;
  iVar5 = param_7 * param_2;
  fVar2 = (float)iVar4 / (float)iVar7;
  *(undefined2 *)(param_6 + (iVar5 + param_1) * 2) = param_5;
  if (iVar9 == 1) {
    if (1.0 < fVar2) {
      param_3 = param_1;
      iVar9 = iVar4 * 2 - iVar7;
      if (param_4 <= param_2) {
        return;
      }
      do {
        iVar6 = iVar7;
        if (0 < iVar9) {
          param_3 = param_3 + 1;
          iVar6 = iVar7 - iVar4;
        }
        iVar9 = iVar9 + iVar6 * 2;
        param_2 = param_2 + 1;
        iVar5 = iVar5 + param_7;
        *(undefined2 *)(param_6 + (param_3 + iVar5) * 2) = param_5;
        *(undefined2 *)(param_6 + 2 + (param_3 + iVar5) * 2) = param_5;
      } while (param_2 < param_4);
      return;
    }
    if (fVar2 <= 1.0) {
      iVar9 = iVar4 * 2 - iVar7;
      if (param_3 <= param_1) {
        return;
      }
      do {
        iVar6 = iVar4 * 2;
        if (0 < iVar9) {
          iVar5 = iVar5 + param_7;
          iVar6 = (iVar4 - iVar7) * 2;
        }
        param_1 = param_1 + 1;
        iVar9 = iVar9 + iVar6;
        *(undefined2 *)(param_6 + (param_1 + iVar5) * 2) = param_5;
        *(undefined2 *)(param_6 + (param_7 + param_1 + iVar5) * 2) = param_5;
      } while (param_1 < param_3);
      return;
    }
  }
  if (iVar9 == 2) {
    if (-1.0 <= fVar2) {
      iVar4 = (param_2 - param_4) + -1;
      iVar9 = iVar4 * 2;
      iVar6 = iVar9 - iVar7;
      if (param_3 <= param_1) {
        return;
      }
      do {
        iVar8 = iVar9;
        if (0 < iVar6) {
          iVar5 = iVar5 - param_7;
          iVar8 = (iVar4 - iVar7) * 2;
        }
        param_1 = param_1 + 1;
        iVar6 = iVar6 + iVar8;
        *(undefined2 *)(param_6 + (param_1 + iVar5) * 2) = param_5;
        *(undefined2 *)(param_6 + (param_7 + param_1 + iVar5) * 2) = param_5;
      } while (param_1 < param_3);
      return;
    }
    if (fVar2 < -1.0) {
      iVar9 = (param_2 * 2 - param_4) + -1;
      iVar4 = iVar9 - param_2;
      iVar6 = iVar4 * 2 - iVar7;
      param_3 = param_1;
      if (iVar9 <= param_2) {
        return;
      }
      do {
        iVar8 = iVar7;
        if (0 < iVar6) {
          param_3 = param_3 + 1;
          iVar8 = iVar7 - iVar4;
        }
        iVar6 = iVar6 + iVar8 * 2;
        param_2 = param_2 + 1;
        iVar5 = iVar5 - param_7;
        puVar1 = (undefined2 *)(param_6 + (param_3 + iVar5) * 2);
        *puVar1 = param_5;
        puVar1[-1] = param_5;
      } while (param_2 < iVar9);
      return;
    }
  }
  if (iVar9 == 3) {
    if (1.0 < fVar2) {
      iVar4 = (param_2 * 2 - param_4) + -1;
      iVar7 = iVar4 - param_2;
      iVar9 = (param_1 - param_3) + -1;
      _param_5 = iVar7 * 2 - iVar9;
      param_3 = param_1;
      if (iVar4 < param_2) {
        return;
      }
      iVar5 = iVar5 + param_1 * 2;
      do {
        iVar6 = iVar9;
        if (0 < _param_5) {
          param_3 = param_3 + 1;
          iVar6 = iVar9 - iVar7;
        }
        _param_5 = _param_5 + iVar6 * 2;
        param_2 = param_2 + 1;
        iVar5 = iVar5 - param_7;
        *(undefined2 *)(param_6 + 2 + (iVar5 - param_3) * 2) = uVar3;
        *(undefined2 *)(param_6 + -2 + (iVar5 - param_3) * 2) = uVar3;
      } while (param_2 <= iVar4);
      return;
    }
    if (fVar2 <= 1.0) {
      iVar4 = param_1 * 2;
      iVar8 = (iVar4 - param_3) + -1;
      iVar7 = iVar8 - param_1;
      iVar6 = (param_2 - param_4) + -1;
      iVar9 = iVar6 * 2;
      _param_5 = iVar9 - iVar7;
      if (iVar8 < param_1) {
        return;
      }
      param_3 = iVar5;
      do {
        iVar5 = iVar9;
        if (0 < _param_5) {
          param_3 = param_3 - param_7;
          iVar5 = (iVar6 - iVar7) * 2;
        }
        _param_5 = _param_5 + iVar5;
        param_1 = param_1 + 1;
        *(undefined2 *)(param_6 + 2 + ((param_3 - param_1) + iVar4) * 2) = uVar3;
        *(undefined2 *)(param_6 + (((param_3 - param_7) - param_1) + iVar4) * 2) = uVar3;
      } while (param_1 <= iVar8);
      return;
    }
  }
  if (iVar9 == 4) {
    if (fVar2 < -1.0) {
      if (fVar2 < -1.0) {
        iVar9 = (param_1 - param_3) + -1;
        _param_5 = iVar4 * 2 - iVar9;
        param_3 = param_1;
        if (param_2 < param_4) {
          iVar5 = param_1 * 2 + iVar5;
          do {
            iVar7 = iVar9;
            if (0 < _param_5) {
              param_3 = param_3 + 1;
              iVar7 = iVar9 - iVar4;
            }
            _param_5 = _param_5 + iVar7 * 2;
            param_2 = param_2 + 1;
            iVar5 = iVar5 + param_7;
            *(undefined2 *)(param_6 + 2 + (iVar5 - param_3) * 2) = uVar3;
          } while (param_2 < param_4);
        }
      }
    }
    else {
      iVar9 = param_1 * 2;
      iVar7 = (iVar9 - param_3) + -1;
      iVar6 = iVar7 - param_1;
      _param_5 = iVar4 * 2 - iVar6;
      if (param_1 <= iVar7) {
        do {
          iVar8 = iVar4 * 2;
          if (0 < _param_5) {
            iVar5 = iVar5 + param_7;
            iVar8 = (iVar4 - iVar6) * 2;
          }
          _param_5 = _param_5 + iVar8;
          param_1 = param_1 + 1;
          *(undefined2 *)(param_6 + 2 + ((iVar5 - param_1) + iVar9) * 2) = uVar3;
          *(undefined2 *)(param_6 + (((iVar5 - param_7) - param_1) + iVar9) * 2) = uVar3;
        } while (param_1 <= iVar7);
        return;
      }
    }
  }
  return;
}



void FUN_00449720(void)

{
  int *piVar1;
  
  if (DAT_005dcedc != 0) {
    FreeMemory(DAT_005dcedc);
    DAT_005dcedc = 0;
  }
  if (DAT_004d83a4 != (int **)0x0) {
    if (DAT_004d83a4[4] != (int *)0x0) {
      FreeMemory(DAT_004d83a4[4]);
      DAT_004d83a4[4] = (int *)0x0;
    }
    piVar1 = *DAT_004d83a4;
    if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
      *DAT_004d83a4 = (int *)0x0;
    }
    else {
      (**(code **)(*piVar1 + 8))(piVar1);
      *DAT_004d83a4 = (int *)0x0;
    }
    if (DAT_004d83a4 != (int **)0x0) {
      FreeMemory(DAT_004d83a4);
    }
    DAT_004d83a4 = (int **)0x0;
    if (DAT_005ddb14 != 0) {
      FreeMemory(DAT_005ddb14);
      DAT_005ddb14 = 0;
    }
  }
  return;
}



undefined4 FUN_004497c0(void)

{
  int iVar1;
  void *_Dst;
  size_t _Size;
  
  if ((DAT_00598d50 == 0) &&
     ((*(int *)(DAT_005e5010 + 0x2538) == 0x140 || (*(int *)(DAT_005e5010 + 0x2538) == 0x280)))) {
    DAT_00598d50 = 1;
  }
  FUN_0044aac0();
  iVar1 = FUN_00416320();
  if (iVar1 == 0) {
    return 0;
  }
  if (DAT_004d83a4 == (void *)0x0) {
    _Size = 99;
    iVar1 = 0;
    _Dst = (void *)AllocateMemoryWithCallback(99);
    DAT_004d83a4 = _memset(_Dst,iVar1,_Size);
    if (DAT_004d83a4 == (void *)0x0) {
      return 0;
    }
    iVar1 = FUN_00440920();
    if (iVar1 == 0) {
      return 0;
    }
    iVar1 = FUN_0044bc00(*(undefined4 *)(DAT_005e5010 + 0x7a4));
    if (iVar1 == 0) {
      return 0;
    }
  }
  FUN_00449e60();
  return 1;
}



undefined4 FUN_00449860(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  while ((iVar1 = *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x175 + iVar2 * 4), iVar1 == 0
         || (iVar1 = FUN_0044c060(iVar1,*(undefined4 *)
                                         (*(int *)(DAT_004d83a4 + 0x10) + -4 +
                                         (uint)*(byte *)(iVar1 + 0xe) * 4)), iVar1 != 0))) {
    FUN_0044d100(iVar2);
    FUN_0044c540(*(undefined4 *)(*(int *)(DAT_004d83a4 + 0x10) + 0x1c + iVar2 * 4),1,iVar2);
    iVar2 = iVar2 + 1;
    if (4 < iVar2) {
      iVar2 = FUN_00449900(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
                           *(undefined4 *)(DAT_005e5010 + 8));
      if (iVar2 == 0) {
        return 0;
      }
      *(undefined4 *)(DAT_004d83a4 + 0x28) = 1;
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_00449900(undefined4 param_1,undefined4 param_2,int *param_3)

{
  undefined *puVar1;
  void *_Dst;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  short sVar6;
  void *unaff_EDI;
  bool bVar7;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  int local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df318 == 0) {
    return 0;
  }
  FUN_00449c80();
  WaitForSingleObject(DAT_005d66b4,0xffffffff);
  uVar2 = AllocateMemoryWithCallback();
  DAT_004d83a4[2] = uVar2;
  _Dst = (void *)DAT_004d83a4[2];
  local_20 = (int *)0x449962;
  _memset(_Dst,0,0xbe0);
  ReleaseMutex(DAT_005d66b4);
  if (_Dst == (void *)0x0) {
    return 0;
  }
  local_20 = (int *)0x44998a;
  _memset(&local_20,0,0x14);
  local_20 = param_3;
  iVar3 = (**(code **)(*param_3 + 0x18))();
  if (iVar3 != 0) {
    return 0;
  }
  iVar3 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar3 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0x1460);
  DAT_004d83a4[1] = unaff_EDI;
  if (unaff_EDI != _Dst) {
    FUN_004ad7a0();
  }
  puVar1 = (undefined *)((int)unaff_EDI + 0xbe0);
  *puVar1 = 9;
  *(undefined *)((int)unaff_EDI + 0xbe1) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0xbe2) = 1;
  *(undefined4 *)((int)unaff_EDI + 0xbe4) = 2;
  *(undefined2 *)((int)unaff_EDI + 0xbe8) = 0;
  *(undefined2 *)((int)unaff_EDI + 0xbea) = 0;
  *(undefined4 *)((int)unaff_EDI + 0xbec) = 0x44;
  *(undefined4 *)((int)unaff_EDI + 0xbf0) = 0;
  bVar7 = DAT_005d66a4 == 0;
  *(undefined *)((int)unaff_EDI + 0xbf4) = 8;
  *(undefined *)((int)unaff_EDI + 0xbf5) = 8;
  if (bVar7) {
    *(undefined2 *)((int)unaff_EDI + 0xbf6) = 2;
    *(undefined4 *)((int)unaff_EDI + 0xbf8) = 7;
    *(undefined4 *)((int)unaff_EDI + 0xbfc) = 0;
    puVar4 = (undefined4 *)((int)unaff_EDI + 0xc00);
  }
  else {
    *(undefined2 *)((int)unaff_EDI + 0xbf6) = 1;
    puVar4 = (undefined4 *)((int)unaff_EDI + 0xbf8);
  }
  *puVar4 = 1;
  puVar4[1] = DAT_004d83a4[7];
  puVar5 = puVar4 + 2;
  if (((uint)puVar5 & 7) == 0) {
    *(undefined *)puVar5 = 3;
    *(undefined *)((int)puVar4 + 9) = 8;
    *(undefined2 *)((int)puVar4 + 10) = 0;
    puVar5 = puVar4 + 3;
  }
  *(undefined *)puVar5 = 3;
  *(undefined *)((int)puVar5 + 1) = 8;
  *(undefined2 *)((int)puVar5 + 2) = 0x22;
  iVar3 = 0;
  puVar4 = puVar5 + 1;
  do {
    puVar5 = puVar4;
    sVar6 = (short)iVar3 * 4;
    *(short *)puVar5 = sVar6;
    *(short *)((int)puVar5 + 2) = sVar6 + 1;
    *(short *)(puVar5 + 1) = sVar6 + 2;
    *(short *)(puVar5 + 2) = sVar6 + 2;
    *(short *)((int)puVar5 + 10) = sVar6 + 3;
    *(short *)(puVar5 + 3) = sVar6;
    iVar3 = iVar3 + 1;
    puVar4 = puVar5 + 4;
  } while (iVar3 < 0x11);
  *(undefined *)(puVar5 + 4) = 9;
  *(undefined *)((int)puVar5 + 0x11) = 0x10;
  *(undefined2 *)((int)puVar5 + 0x12) = 1;
  puVar5[5] = 2;
  *(undefined2 *)(puVar5 + 6) = 0x44;
  *(undefined2 *)((int)puVar5 + 0x1a) = 0x44;
  puVar5[7] = 0x1b;
  puVar5[8] = 0;
  bVar7 = DAT_005d66a4 == 0;
  *(undefined *)(puVar5 + 9) = 8;
  *(undefined *)((int)puVar5 + 0x25) = 8;
  *(undefined2 *)((int)puVar5 + 0x26) = 2;
  if (bVar7) {
    puVar5[10] = 1;
    puVar5[0xb] = DAT_004d83a4[7];
    puVar5[0xc] = 0x1b;
  }
  else {
    puVar5[10] = 1;
    puVar5[0xb] = DAT_004d83a4[7];
    puVar5[0xc] = 0x21;
  }
  puVar5[0xd] = 1;
  puVar4 = puVar5 + 0xe;
  if (((uint)puVar4 & 7) == 0) {
    *(undefined *)puVar4 = 3;
    *(undefined *)((int)puVar5 + 0x39) = 8;
    *(undefined2 *)((int)puVar5 + 0x3a) = 0;
    puVar4 = puVar5 + 0xf;
  }
  *(undefined *)puVar4 = 3;
  *(undefined *)((int)puVar4 + 1) = 8;
  *(undefined2 *)((int)puVar4 + 2) = 0xd;
  iVar3 = 0x11;
  puVar4 = puVar4 + 1;
  do {
    puVar5 = puVar4;
    sVar6 = (short)iVar3 * 4;
    *(short *)puVar5 = sVar6;
    *(short *)((int)puVar5 + 2) = sVar6 + 1;
    *(short *)(puVar5 + 1) = sVar6 + 2;
    *(short *)(puVar5 + 2) = sVar6 + 2;
    *(short *)((int)puVar5 + 10) = sVar6 + 3;
    *(short *)(puVar5 + 3) = sVar6;
    iVar3 = iVar3 + 1;
    puVar4 = puVar5 + 4;
  } while (iVar3 < 0x17);
  *(undefined2 *)(puVar5 + 4) = 0x5c;
  *(undefined2 *)((int)puVar5 + 0x12) = 0x5d;
  *(undefined2 *)(puVar5 + 5) = 0x5e;
  bVar7 = DAT_005d66a4 == 0;
  *(undefined *)(puVar5 + 6) = 8;
  *(undefined *)((int)puVar5 + 0x19) = 8;
  if (bVar7) {
    *(undefined2 *)((int)puVar5 + 0x1a) = 2;
    puVar5[7] = 7;
    puVar5[8] = 1;
    puVar5 = puVar5 + 9;
    *puVar5 = 0x1b;
  }
  else {
    *(undefined2 *)((int)puVar5 + 0x1a) = 1;
    puVar5 = puVar5 + 7;
    *puVar5 = 0x21;
  }
  puVar5[1] = 0;
  *(undefined *)(puVar5 + 2) = 0xb;
  *(undefined *)((int)puVar5 + 9) = 0;
  *(undefined2 *)((int)puVar5 + 10) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x449c2c;
  _memset(local_50,0,0x30);
  local_40 = (int)puVar5 + (0xc - (int)puVar1);
  local_44 = (int)puVar1 - (int)unaff_EDI;
  local_50[0] = 0x30;
  local_48 = 0x5f;
  (**(code **)(iRam00000000 + 0x18))();
  *DAT_004d83a4 = 0;
  return 1;
}



void FUN_00449c80(void)

{
  void *_Dst;
  undefined4 uVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x640;
  _Val = 0;
  DAT_004d80f4 = 0xffffffff;
  DAT_004d80fc = 0x7fffffff;
  DAT_005df2dc = 0xff7f7f7f;
  _Dst = (void *)AllocateMemoryWithCallback(0x640);
  DAT_005ddb14 = _memset(_Dst,_Val,_Size);
  FUN_00449d30(0x10,200,DAT_005ddb14);
  uVar1 = FUN_004af670(0);
  FUN_004af630(uVar1);
  return;
}



bool FUN_00449cf0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0x88;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x88);
  DAT_005dcedc = _memset(_Dst,_Val,_Size);
  return DAT_005dcedc != (void *)0x0;
}



void FUN_00449d30(int param_1,float param_2,int *param_3)

{
  float fVar1;
  int iVar2;
  int *piVar3;
  
  piVar3 = param_3;
  param_3 = (int *)param_2;
  AdjustStackForLargeAllocations();
  fVar1 = (float)(int)param_2;
  param_2 = 0.0;
  if (0 < (int)param_3) {
    do {
      FUN_004ae014((double)param_2);
      iVar2 = __ftol();
      *piVar3 = iVar2 + param_1;
      FUN_004ae0c4();
      iVar2 = __ftol();
      param_2 = 6.283185 / fVar1 + param_2;
      piVar3[1] = param_1 - iVar2;
      param_3 = (int *)((int)param_3 + -1);
      piVar3 = piVar3 + 2;
    } while (param_3 != (int *)0x0);
  }
  return;
}



void FUN_00449dd0(int *param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  if (0 < param_2) {
    do {
      uVar1 = __ftol();
      uVar2 = __ftol();
      *param_1 = (uVar1 | (uVar2 | 0xffffff00) << 8) << 8;
      iVar3 = iVar3 + 1;
      param_1 = param_1 + 1;
    } while (iVar3 < param_2);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00449e60(void)

{
  float *pfVar1;
  float *pfVar2;
  float fVar3;
  int iVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  
  AdjustStackForLargeAllocations();
  iVar4 = DAT_005e5010;
  puVar8 = &DAT_004cc468;
  puVar9 = &DAT_005dd9e0;
  for (iVar5 = 0xd; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar9 = *puVar8;
    puVar8 = puVar8 + 1;
    puVar9 = puVar9 + 1;
  }
  puVar8 = &DAT_004cc430;
  puVar9 = &DAT_005dda60;
  for (iVar5 = 0xd; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar9 = *puVar8;
    puVar8 = puVar8 + 1;
    puVar9 = puVar9 + 1;
  }
  if ((DAT_005df2f8 == 1) && (*(int *)(iVar4 + 0x2524) != 0)) {
    DAT_004d83a8 = 0x41400000;
    _DAT_004d83ac = 0x40a00000;
    DAT_005dda40 = 331.2;
    _DAT_005dda44 = 366.4;
    _DAT_005dda48 = 400.8;
    _DAT_005dda4c = 436.0;
    _DAT_005dda50 = 471.2;
    _DAT_005dda20 = 348.8;
    DAT_005dda30 = 348.8;
    _DAT_005dda2c = 348.8;
    _DAT_005dda28 = 348.8;
    _DAT_005dda24 = 348.8;
    iVar4 = 0;
    do {
      iVar5 = iVar4 + 4;
      *(float *)((int)&DAT_005ddaa0 + iVar4) = *(float *)((int)&DAT_005dda60 + iVar4) - -0.1875;
      *(float *)((int)&DAT_005ddae0 + iVar4) = *(float *)((int)&DAT_005dd9e0 + iVar4) - -0.1875;
      iVar4 = iVar5;
    } while (iVar5 < 0x14);
    pfVar6 = (float *)&DAT_005dda08;
    iVar4 = 0;
    pfVar7 = (float *)&DAT_005ddb08;
    do {
      fVar3 = *pfVar6;
      iVar5 = iVar4 + 4;
      pfVar6 = pfVar6 + 1;
      *(float *)((int)&DAT_005ddac8 + iVar4) = *(float *)((int)&DAT_005dda88 + iVar4) - -0.265625;
      *pfVar7 = fVar3 - -0.265625;
      iVar4 = iVar5;
      pfVar7 = pfVar7 + 1;
    } while (iVar5 < 8);
  }
  else if ((DAT_005df2f8 == 2) || (*(int *)(iVar4 + 0x2524) == 0)) {
    DAT_004d83a8 = 0x41000000;
    _DAT_004d83ac = 0x40400000;
    DAT_005dda40 = 208.0;
    _DAT_005dda44 = 230.0;
    _DAT_005dda48 = 252.0;
    _DAT_005dda4c = 274.0;
    _DAT_005dda50 = 296.0;
    _DAT_005dda20 = 182.6812;
    DAT_005dda30 = 182.6812;
    _DAT_005dda2c = 182.6812;
    _DAT_005dda28 = 182.6812;
    _DAT_005dda24 = 182.6812;
    if (*(int *)(iVar4 + 0x2524) == 0) {
      iVar4 = 0;
      do {
        iVar5 = iVar4 + 4;
        *(float *)((int)&DAT_005ddaa0 + iVar4) = *(float *)((int)&DAT_005dda60 + iVar4) - -0.25;
        *(float *)((int)&DAT_005ddae0 + iVar4) = *(float *)((int)&DAT_005dd9e0 + iVar4) - -0.25;
        iVar4 = iVar5;
      } while (iVar5 < 0x14);
      pfVar6 = (float *)&DAT_005dda08;
      iVar4 = 0;
      pfVar7 = (float *)&DAT_005ddb08;
      do {
        fVar3 = *pfVar6;
        iVar5 = iVar4 + 4;
        pfVar6 = pfVar6 + 1;
        *(float *)((int)&DAT_005ddac8 + iVar4) = *(float *)((int)&DAT_005dda88 + iVar4) - -0.34375;
        *pfVar7 = fVar3 - -0.34375;
        iVar4 = iVar5;
        pfVar7 = pfVar7 + 1;
      } while (iVar5 < 8);
    }
    else {
      iVar4 = 0;
      do {
        iVar5 = iVar4 + 4;
        *(float *)((int)&DAT_005ddaa0 + iVar4) = *(float *)((int)&DAT_005dda60 + iVar4) - -0.125;
        *(float *)((int)&DAT_005ddae0 + iVar4) = *(float *)((int)&DAT_005dd9e0 + iVar4) - -0.125;
        iVar4 = iVar5;
      } while (iVar5 < 0x14);
      pfVar6 = (float *)&DAT_005dda08;
      iVar4 = 0;
      pfVar7 = (float *)&DAT_005ddb08;
      do {
        fVar3 = *pfVar6;
        iVar5 = iVar4 + 4;
        pfVar6 = pfVar6 + 1;
        *(float *)((int)&DAT_005ddac8 + iVar4) = *(float *)((int)&DAT_005dda88 + iVar4) - -0.171875;
        *pfVar7 = fVar3 - -0.171875;
        iVar4 = iVar5;
        pfVar7 = pfVar7 + 1;
      } while (iVar5 < 8);
    }
  }
  else {
    DAT_004d83a8 = 0x41800000;
    _DAT_005dda20 = (float)(int)DAT_004d8430 - -436.0;
    _DAT_005dda50 = (float)(int)DAT_004d842c;
    _DAT_004d83ac = 0x40c00000;
    DAT_005dda40 = _DAT_005dda50 - -415.0;
    _DAT_005dda44 = _DAT_005dda50 - -459.0;
    _DAT_005dda48 = _DAT_005dda50 - -503.0;
    _DAT_005dda4c = _DAT_005dda50 - -547.0;
    _DAT_005dda50 = _DAT_005dda50 - -591.0;
    iVar4 = 0;
    _DAT_005dda24 = _DAT_005dda20;
    _DAT_005dda28 = _DAT_005dda20;
    _DAT_005dda2c = _DAT_005dda20;
    DAT_005dda30 = _DAT_005dda20;
    do {
      iVar5 = iVar4 + 4;
      *(float *)((int)&DAT_005ddaa0 + iVar4) = *(float *)((int)&DAT_005dda60 + iVar4) - -0.25;
      *(float *)((int)&DAT_005ddae0 + iVar4) = *(float *)((int)&DAT_005dd9e0 + iVar4) - -0.25;
      iVar4 = iVar5;
    } while (iVar5 < 0x14);
    pfVar6 = (float *)&DAT_005dda08;
    iVar4 = 0;
    pfVar7 = (float *)&DAT_005ddb08;
    do {
      fVar3 = *pfVar6;
      iVar5 = iVar4 + 4;
      pfVar6 = pfVar6 + 1;
      *(float *)((int)&DAT_005ddac8 + iVar4) = *(float *)((int)&DAT_005dda88 + iVar4) - -0.34375;
      *pfVar7 = fVar3 - -0.34375;
      iVar4 = iVar5;
      pfVar7 = pfVar7 + 1;
    } while (iVar5 < 8);
  }
  pfVar6 = (float *)&DAT_005dd9f4;
  iVar4 = 0;
  pfVar7 = (float *)&DAT_005ddaf4;
  do {
    fVar3 = *pfVar6;
    iVar5 = iVar4 + 4;
    pfVar6 = pfVar6 + 1;
    *(float *)((int)&DAT_005ddab4 + iVar4) = *(float *)((int)&DAT_005dda74 + iVar4) - -0.25;
    *pfVar7 = fVar3 - -0.25;
    iVar4 = iVar5;
    pfVar7 = pfVar7 + 1;
  } while (iVar5 < 0x14);
  _DAT_005ddad0 = DAT_005dda90 - -0.125;
  _DAT_005ddb10 = _DAT_005dda10 - -0.125;
  if (DAT_005d66a4 == 0) {
    iVar4 = 0;
    do {
      pfVar7 = (float *)((int)&DAT_005ddae0 + iVar4);
      pfVar6 = (float *)((int)&DAT_005ddaa0 + iVar4);
      *(float *)((int)&DAT_005dda60 + iVar4) = *(float *)((int)&DAT_005dda60 + iVar4) - -0.0078125;
      pfVar1 = (float *)((int)&DAT_005ddae0 + iVar4);
      pfVar2 = (float *)((int)&DAT_005ddaa0 + iVar4);
      *(float *)((int)&DAT_005dd9e0 + iVar4) = *(float *)((int)&DAT_005dd9e0 + iVar4) - -0.0078125;
      iVar4 = iVar4 + 4;
      *pfVar2 = *pfVar6 - 0.0078125;
      *pfVar1 = *pfVar7 - 0.0078125;
    } while (iVar4 < 0x34);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0044a320(undefined4 param_1,int param_2,undefined4 param_3,float param_4,int param_5)

{
  int iVar1;
  short sVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float *pfVar9;
  float unaff_EBX;
  float fVar10;
  float unaff_ESI;
  int iVar11;
  float unaff_EDI;
  float local_14;
  float fVar12;
  
  iVar1 = (int)param_4;
  AdjustStackForLargeAllocations();
  sVar2 = *(short *)(DAT_004d83a4 + 0x60);
  param_4 = 0.0;
  iVar11 = 0;
  fVar10 = 0.0;
  if (iVar1 == 0) {
    local_14 = 0.0;
  }
  else {
    local_14 = (float)(uint)*(byte *)(iVar1 + 4) * 0.01;
  }
  fVar12 = unaff_ESI;
  fVar7 = 0.0;
  fVar8 = 0.0;
  switch(param_2) {
  case 0:
    unaff_EBX = _DAT_004d83ac + DAT_004d83a8;
    unaff_EDI = 1.0;
    iVar11 = 0;
    fVar10 = DAT_004d80f4;
    fVar12 = DAT_005ddb0c;
    fVar7 = DAT_005dda8c;
    fVar8 = DAT_005ddacc;
    param_4 = DAT_005dda0c;
    if (((iVar1 != 0) && (*(byte *)(iVar1 + 4) < 6)) && (DAT_004d8464 != 0)) {
      fVar10 = DAT_005df2dc;
    }
    break;
  case 1:
    unaff_EBX = _DAT_004d83ac + DAT_004d83a8;
    iVar11 = 0x14;
    fVar12 = DAT_005ddb08;
    fVar7 = DAT_005dda88;
    fVar8 = DAT_005ddac8;
    if (iVar1 != 0) {
      unaff_EDI = (float)(uint)*(byte *)(iVar1 + 4) * 0.01;
      param_4 = DAT_005ddb08 - (DAT_005ddb08 - DAT_005dda08) * local_14;
      fVar10 = DAT_004d80f4;
      if ((*(byte *)(iVar1 + 4) < 6) && (DAT_004d8464 != 0)) {
        fVar10 = DAT_005df2dc;
      }
    }
    break;
  case 2:
    param_4 = (float)(&DAT_005dd9e0)[param_5];
    iVar11 = 0x28;
    fVar10 = DAT_004d80f4;
    fVar12 = (float)(&DAT_005ddae0)[param_5];
    unaff_EBX = DAT_004d83a8;
    fVar7 = (float)(&DAT_005dda60)[param_5];
    fVar8 = (float)(&DAT_005ddaa0)[param_5];
    break;
  case 3:
    param_4 = (float)(&DAT_005dd9f4)[param_5];
    iVar11 = 0x44;
    fVar10 = DAT_004d80fc;
    fVar12 = (float)(&DAT_005ddaf4)[param_5];
    unaff_EBX = DAT_004d83a8;
    fVar7 = (float)(&DAT_005dda74)[param_5];
    fVar8 = (float)(&DAT_005ddab4)[param_5];
  }
  iVar1 = param_5 * 4;
  iVar3 = *(int *)(DAT_004d83a4 + 8);
  iVar11 = iVar11 + iVar1;
  fVar4 = (float)(&DAT_005dda40)[param_5];
  pfVar9 = (float *)(iVar11 * 0x20 + iVar3);
  fVar5 = (fVar4 - unaff_EBX) + (float)(int)sVar2;
  *pfVar9 = fVar5;
  if (param_2 == 1) {
    fVar6 = (unaff_EBX + *(float *)(&DAT_005dda20 + iVar1)) -
            (unaff_EDI * unaff_EBX + unaff_EDI * unaff_EBX);
  }
  else {
    fVar6 = *(float *)(&DAT_005dda20 + iVar1) - unaff_EBX;
  }
  pfVar9[1] = fVar6;
  fVar4 = (float)(int)sVar2 + fVar4 + unaff_EBX;
  *(float *)((iVar11 + 1) * 0x20 + iVar3) = fVar4;
  if (param_2 == 1) {
    pfVar9[9] = pfVar9[1];
  }
  else {
    pfVar9[9] = *(float *)(&DAT_005dda20 + iVar1) - unaff_EBX;
  }
  *(float *)((iVar11 + 2) * 0x20 + iVar3) = fVar4;
  if (param_2 == 0) {
    fVar4 = unaff_EDI * unaff_EBX + unaff_EDI * unaff_EBX +
            (*(float *)(&DAT_005dda20 + iVar1) - unaff_EBX);
  }
  else {
    fVar4 = unaff_EBX + *(float *)(&DAT_005dda20 + iVar1);
  }
  pfVar9[0x11] = fVar4;
  *(float *)((iVar11 + 3) * 0x20 + iVar3) = fVar5;
  if (param_2 == 0) {
    pfVar9[0x19] = pfVar9[0x11];
  }
  else {
    pfVar9[0x19] = unaff_EBX + *(float *)(&DAT_005dda20 + iVar1);
  }
  pfVar9[6] = fVar7;
  pfVar9[7] = param_4;
  pfVar9[4] = fVar10;
  pfVar9[0xe] = fVar8;
  pfVar9[0xf] = param_4;
  pfVar9[0xc] = fVar10;
  pfVar9[0x16] = fVar8;
  pfVar9[0x17] = fVar12;
  pfVar9[0x14] = fVar10;
  pfVar9[0x1e] = fVar7;
  pfVar9[0x1f] = fVar12;
  pfVar9[0x1c] = fVar10;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0044a650(undefined4 param_1,int param_2,undefined4 param_3,float param_4,int param_5)

{
  byte bVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float *pfVar8;
  int iVar9;
  float fVar10;
  float unaff_ESI;
  int iVar11;
  float unaff_EDI;
  float local_1c;
  float local_18;
  float local_14;
  float fVar12;
  
  iVar9 = (int)param_4;
  AdjustStackForLargeAllocations();
  fVar10 = 0.0;
  local_1c = (float)(int)*(short *)(DAT_004d83a4 + 0x60);
  fVar6 = 0.0;
  fVar7 = 0.0;
  local_14 = 0.0;
  local_18 = 0.0;
  if (local_1c == 20.0) {
    local_1c = 0.0;
  }
  if (param_4 == 0.0) {
    param_4 = 0.0;
  }
  else {
    param_4 = (float)(uint)*(byte *)((int)param_4 + 4) * 0.01;
  }
  iVar11 = param_2;
  fVar12 = 0.0;
  switch(param_2) {
  case 0:
    unaff_ESI = _DAT_004d83ac + DAT_004d83a8;
    iVar11 = 0;
    local_14 = DAT_005ddb0c;
    local_18 = 1.0;
    unaff_EDI = DAT_005ddacc;
    fVar6 = DAT_005dda8c;
    fVar7 = DAT_005dda0c;
    if (iVar9 != 0) {
      bVar1 = *(byte *)(iVar9 + 4);
      goto joined_r0x0044a7fe;
    }
    break;
  case 1:
    unaff_ESI = _DAT_004d83ac + DAT_004d83a8;
    local_14 = DAT_005ddb08;
    iVar11 = 0x14;
    unaff_EDI = DAT_005ddac8;
    fVar12 = unaff_ESI;
    fVar6 = DAT_005dda88;
    fVar7 = DAT_005ddb08;
    if (iVar9 == 0) goto switchD_0044a6ff_caseD_4;
    bVar1 = *(byte *)(iVar9 + 4);
    local_18 = (float)(uint)bVar1 * 0.01;
    fVar7 = DAT_005ddb08 - (DAT_005ddb08 - DAT_005dda08) * param_4;
joined_r0x0044a7fe:
    unaff_ESI = _DAT_004d83ac + DAT_004d83a8;
    if ((bVar1 < 6) &&
       (unaff_ESI = _DAT_004d83ac + DAT_004d83a8, fVar10 = DAT_005df2dc, fVar12 = unaff_ESI,
       DAT_004d8464 != 0)) goto switchD_0044a6ff_caseD_4;
    break;
  case 2:
    iVar11 = 0x28;
    local_14 = (float)(&DAT_005ddae0)[param_5];
    unaff_EDI = (float)(&DAT_005ddaa0)[param_5];
    unaff_ESI = DAT_004d83a8;
    fVar6 = (float)(&DAT_005dda60)[param_5];
    fVar7 = (float)(&DAT_005dd9e0)[param_5];
    break;
  case 3:
    local_14 = (float)(&DAT_005ddaf4)[param_5];
    fVar10 = DAT_004d80fc;
    iVar11 = 0x44;
    unaff_EDI = (float)(&DAT_005ddab4)[param_5];
    unaff_ESI = DAT_004d83a8;
    fVar12 = DAT_004d83a8;
    fVar6 = (float)(&DAT_005dda74)[param_5];
    fVar7 = (float)(&DAT_005dd9f4)[param_5];
  default:
    goto switchD_0044a6ff_caseD_4;
  }
  fVar10 = DAT_004d80f4;
  fVar12 = unaff_ESI;
switchD_0044a6ff_caseD_4:
  iVar9 = param_5 * 4;
  iVar2 = *(int *)(DAT_004d83a4 + 8);
  iVar11 = iVar11 + iVar9;
  fVar3 = (float)(&DAT_005dda40)[param_5];
  pfVar8 = (float *)(iVar11 * 0x20 + iVar2);
  fVar4 = (fVar3 - unaff_ESI) + local_1c;
  *pfVar8 = fVar4;
  if (param_2 == 1) {
    fVar5 = (fVar12 + *(float *)(&DAT_005dda20 + iVar9)) - (local_18 * fVar12 + local_18 * fVar12);
  }
  else {
    fVar5 = *(float *)(&DAT_005dda20 + iVar9) - fVar12;
  }
  pfVar8[1] = fVar5;
  fVar3 = local_1c + fVar3 + unaff_ESI;
  *(float *)((iVar11 + 1) * 0x20 + iVar2) = fVar3;
  if (param_2 == 1) {
    pfVar8[9] = pfVar8[1];
  }
  else {
    pfVar8[9] = *(float *)(&DAT_005dda20 + iVar9) - fVar12;
  }
  *(float *)((iVar11 + 2) * 0x20 + iVar2) = fVar3;
  if (param_2 == 0) {
    fVar3 = local_18 * fVar12 + local_18 * fVar12 + (*(float *)(&DAT_005dda20 + iVar9) - fVar12);
  }
  else {
    fVar3 = fVar12 + *(float *)(&DAT_005dda20 + iVar9);
  }
  pfVar8[0x11] = fVar3;
  *(float *)((iVar11 + 3) * 0x20 + iVar2) = fVar4;
  if (param_2 == 0) {
    pfVar8[0x19] = pfVar8[0x11];
  }
  else {
    pfVar8[0x19] = fVar12 + *(float *)(&DAT_005dda20 + iVar9);
  }
  pfVar8[6] = fVar6;
  pfVar8[7] = fVar7;
  pfVar8[4] = fVar10;
  pfVar8[0xe] = unaff_EDI;
  pfVar8[0xf] = fVar7;
  pfVar8[0xc] = fVar10;
  pfVar8[0x16] = unaff_EDI;
  pfVar8[0x17] = local_14;
  pfVar8[0x14] = fVar10;
  pfVar8[0x1e] = fVar6;
  pfVar8[0x1f] = local_14;
  pfVar8[0x1c] = fVar10;
  if (DAT_00598d50 == 0) {
    iVar9 = 4;
    do {
      iVar9 = iVar9 + -1;
      *pfVar8 = (local_1c + *pfVar8) - -50.0;
      pfVar8[1] = pfVar8[1] - -100.0;
      pfVar8 = pfVar8 + 8;
    } while (iVar9 != 0);
  }
  return;
}



void FUN_0044a9e0(void)

{
  short sVar1;
  int iVar2;
  
  sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  if ((DAT_004d79b4 != 0) && (iVar2 = *(int *)(DAT_004d79b4 + 4), iVar2 != 0)) {
    if (DAT_005df2f8 == 1) {
      iVar2 = __ftol(iVar2,0,0x11);
      iVar2 = __ftol(iVar2 + -0xc);
      iVar2 = iVar2 + -0xc + (int)sVar1;
    }
    else {
      if (DAT_005df2f8 == 2) {
        iVar2 = __ftol(iVar2,0,0x11);
        iVar2 = __ftol(iVar2 + -8);
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),iVar2 + -8 + (int)sVar1);
        return;
      }
      iVar2 = __ftol(iVar2,0,0x11);
      iVar2 = __ftol(iVar2 + -0x10);
      iVar2 = iVar2 + -0x10 + (int)sVar1;
    }
    FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),iVar2);
  }
  return;
}



undefined4 FUN_0044aac0(void)

{
  if (DAT_005df2f8 == 1) {
    DAT_004d83cc = 0x132;
    DAT_004d842c = 0;
    DAT_004d8430 = 0;
    DAT_004d83b4 = 0x144;
    DAT_004d8434 = 0xd;
    DAT_004d8438 = 0x154;
    DAT_004d843c = 0x1b2;
    DAT_004d8440 = 6;
    return 1;
  }
  if (DAT_005df2f8 == 2) {
    DAT_004d83cc = 0xbf;
    DAT_004d842c = 0;
    DAT_004d8430 = 0;
    DAT_004d83b4 = 0xa2;
    DAT_004d8434 = 8;
    DAT_004d8438 = 0xad;
    DAT_004d843c = 0x105;
    DAT_004d8440 = 4;
    return 1;
  }
  DAT_004d83cc = 0x180;
  DAT_004d83b4 = 0x195;
  DAT_004d8434 = 0x11;
  DAT_004d8438 = 0x1aa;
  DAT_004d843c = 0x21e;
  DAT_004d8440 = 8;
  if (*(int *)(DAT_005e5010 + 0x2524) != 0) {
    DAT_004d842c = *(short *)(DAT_005e5010 + 0x2538) + -0x280;
    DAT_004d8430 = *(short *)(DAT_005e5010 + 0x253c) + -0x1e0;
  }
  return 1;
}



void FUN_0044abe0(int param_1)

{
  short sVar1;
  uint uVar2;
  int *piVar3;
  undefined4 *puVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  undefined4 local_28;
  undefined4 *puStackY_24;
  uint uStackY_20;
  int iVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  iVar7 = -1;
  iVar9 = 0;
  iVar8 = 0;
  uStackY_20 = 0x44ac13;
  _memset(&local_28,0,0x18);
  uVar2 = *(uint *)(DAT_004d83a4 + 0x58);
  if ((uVar2 == 0) || (uVar5 = (int)uVar2 >> 0x1f, ((uVar2 ^ uVar5) - uVar5 & 1 ^ uVar5) == uVar5))
  {
    *(undefined4 *)(DAT_004d83a4 + 0x5c) = 0;
  }
  else {
    *(undefined4 *)(DAT_004d83a4 + 0x5c) = 1;
  }
  if (0 < *(int *)(DAT_004d83a4 + 0x58)) {
    *(int *)(DAT_004d83a4 + 0x58) = *(int *)(DAT_004d83a4 + 0x58) + -1;
  }
  if ((*(char *)(param_1 + 0x189) != '\0') && (DAT_004d83a4 != 0)) {
    iVar7 = *(int *)(DAT_004d83a4 + 0x54);
  }
  if (DAT_005df2f8 != 2) {
    if (*(char *)(DAT_004d83a4 + 0x62) == '\0') {
      uStackY_20 = DAT_004d83b4 + DAT_004d8430;
      puStackY_24 = (undefined4 *)(DAT_004d83cc + DAT_004d842c + (int)sVar1);
      local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      FUN_00424e90();
    }
    else {
      if (*(int *)(DAT_004d83a4 + 0x5c) == 0) {
        uStackY_20 = DAT_004d83cc + DAT_004d842c + (int)sVar1;
        puStackY_24 = (undefined4 *)DAT_005dcedc[1];
      }
      else {
        uStackY_20 = DAT_004d83cc + DAT_004d842c + (int)sVar1;
        puStackY_24 = (undefined4 *)DAT_005dcedc[2];
      }
      local_28 = 0x44ad43;
      FUN_004173e0();
    }
  }
  if (DAT_004d79b0 != 0) {
    if ((*(int *)(DAT_004d79b0 + 8) == 0) || (*(int *)(DAT_005e5010 + 0x2538) <= (int)DAT_004d843c))
    {
      if ((*(int *)(DAT_004d79b0 + 8) == 0) && (DAT_004cc49c == 0)) {
        DAT_004d843c = DAT_004d843c + -0x14;
        if (DAT_005df2f8 == 1) {
          if (DAT_004d843c + -0x14 < 0x1b2) {
            DAT_004cc49c = 1;
            DAT_004d843c = 0x1b2;
          }
        }
        else if (DAT_005df2f8 == 2) {
          if (DAT_004d843c + -0x14 < 0x105) {
            DAT_004cc49c = 1;
            DAT_004d843c = 0x105;
          }
        }
        else if (DAT_004d843c + -0x14 < 0x21e) {
          DAT_004cc49c = 1;
          DAT_004d843c = 0x21e;
        }
      }
    }
    else {
      DAT_004d843c = DAT_004d843c + 0x14;
      DAT_004cc49c = 0;
    }
  }
  if (DAT_00598944 == 0) {
    uStackY_20 = (int)DAT_004d843c + (int)DAT_004d842c + (int)sVar1;
    puStackY_24 = (undefined4 *)DAT_005dcedc[4];
    local_28 = 0x44ae53;
    FUN_004173e0();
  }
  if (DAT_005df2f8 == 1) {
    if (DAT_00598944 == 0) {
      uStackY_20 = 0x44af8d;
      FUN_004ae5f0();
      uStackY_20 = DAT_004d843c + 0x24 + (int)sVar1;
      puStackY_24 = &local_28;
      local_28 = 0x44afb7;
      FUN_00428d60();
    }
    if (iVar7 != -1) {
      iVar9 = __ftol();
      iVar8 = DAT_004d83b4 + -0x13;
    }
  }
  else if (DAT_005df2f8 == 2) {
    if (DAT_00598944 == 0) {
      uStackY_20 = 0x44af0c;
      FUN_004ae5f0();
      uStackY_20 = DAT_004d843c + 0x16 + (int)sVar1;
      puStackY_24 = &local_28;
      local_28 = 0x44af36;
      FUN_00428d60();
    }
    if (iVar7 != -1) {
      iVar9 = __ftol();
      iVar8 = DAT_004d83b4 + -0xc;
    }
  }
  else {
    if (DAT_00598944 == 0) {
      uStackY_20 = (uint)*(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x108);
      puStackY_24 = (undefined4 *)0x44aeb1;
      FUN_00429170();
    }
    if (iVar7 != -1) {
      iVar9 = __ftol();
      iVar8 = DAT_004d83b4 + -0x15;
    }
  }
  if (DAT_00598944 == 0) {
    iVar6 = (int)sVar1;
    if (*(char *)(DAT_004d83a4 + 0x62) == '\0') {
      uStackY_20 = (int)DAT_004d8438 + (int)DAT_004d8430;
      puStackY_24 = (undefined4 *)(DAT_004d8434 - iVar6);
      local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      FUN_00424e90();
    }
    else {
      uStackY_20 = DAT_004d8434 - iVar6;
      puStackY_24 = (undefined4 *)*DAT_005dcedc;
      local_28 = 0x44b067;
      FUN_004173e0();
    }
    if (DAT_005df2f8 == 1) {
      uStackY_20 = 0x44b0f8;
      FUN_004ae5f0();
      uStackY_20 = (DAT_004d8434 - iVar6) + 0xbe;
    }
    else {
      if (DAT_005df2f8 != 2) {
        uStackY_20 = *(uint *)(param_1 + 399);
        puStackY_24 = (undefined4 *)0x44b0a9;
        FUN_00429170();
        goto LAB_0044b125;
      }
      uStackY_20 = 0x44b0c3;
      FUN_004ae5f0();
      uStackY_20 = (DAT_004d8434 - iVar6) + 0x78;
    }
    puStackY_24 = &local_28;
    local_28 = 0x44b122;
    FUN_00428d60();
  }
LAB_0044b125:
  if (DAT_00598d50 == 0) {
    iVar9 = iVar9 + 0x32;
    iVar8 = __ftol();
  }
  if (*(char *)(param_1 + 0x189) != '\0') {
    if (*(int *)(DAT_005e5010 + 0x2524) == 0) {
      uStackY_20 = 0x44b1b9;
      FUN_004ae5f0();
      uStackY_20 = *(int *)(DAT_005e5010 + 0x2538) + -0x14 + (int)DAT_004d842c;
      puStackY_24 = &local_28;
      local_28 = 0x44b1e3;
      FUN_00428d60();
      uStackY_20 = iVar7 * 0x16 + 0xf3;
      puStackY_24 = (undefined4 *)DAT_005dcedc[3];
      local_28 = 0x44b20b;
      FUN_004173e0();
    }
    else {
      local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      uStackY_20 = iVar8 + DAT_004d8430;
      puStackY_24 = (undefined4 *)(iVar9 + sVar1);
      FUN_00424e90();
    }
  }
  iVar7 = 0x10;
  if ((((DAT_004d8400 != 0) || (DAT_004d8404 != 0)) || (DAT_004d8408 != 0)) ||
     ((DAT_004d840c != 0 || (DAT_004d8410 != 0)))) {
    piVar3 = &DAT_004d8400;
    do {
      iVar9 = *piVar3;
      *piVar3 = iVar9 + -1;
      if (iVar9 + -1 < 0) {
        *piVar3 = 0;
      }
      piVar3 = piVar3 + 1;
    } while ((int)piVar3 < 0x4d8414);
    if (DAT_005df2f8 == 1) {
      uStackY_20 = 0xd;
      puVar4 = (undefined4 *)((*(int *)(DAT_005e5010 + 0x2538) >> 1) + -0x1a);
    }
    else {
      iVar9 = *(int *)(DAT_005e5010 + 0x2538) >> 1;
      if (DAT_005df2f8 == 2) {
        puVar4 = (undefined4 *)(iVar9 + -0x10);
        uStackY_20 = 8;
      }
      else {
        puVar4 = (undefined4 *)(iVar9 + -0x20);
        uStackY_20 = 0x10;
      }
    }
    if (*(int *)(DAT_005e5010 + 0x2524) != 0) {
      local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      puStackY_24 = puVar4;
      FUN_00424e90();
    }
  }
  if (*(int *)(DAT_005e5010 + 0x2524) != 0) {
    if (DAT_005df2f8 == 1) {
      iVar7 = 0xd;
      param_1 = 0xb;
    }
    else if (DAT_005df2f8 == 2) {
      iVar7 = 8;
      param_1 = 7;
    }
    else {
      param_1 = 0x10;
    }
    iVar9 = 0;
    iVar8 = 0;
    do {
      iVar6 = *(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x175 + iVar9);
      if ((iVar6 != 0) && (*(char *)(iVar6 + 10) != '\0')) {
        uStackY_20 = 0x44b342;
        iVar6 = __ftol();
        uStackY_20 = iVar6 - param_1;
        puStackY_24 = (undefined4 *)0x44b353;
        iVar6 = __ftol();
        puStackY_24 = (undefined4 *)((iVar6 - iVar7) + (int)sVar1);
        local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
        FUN_00424e90();
      }
      iVar8 = iVar8 + -4;
      iVar9 = iVar9 + 4;
    } while (-0x14 < iVar8);
  }
  return;
}



void FUN_0044b390(int param_1)

{
  if ((&DAT_004d8400)[param_1] == 0) {
    (&DAT_004d8400)[param_1] = 0xc;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x0044b529)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0044b3b0(void)

{
  void *pvVar1;
  int *piVar2;
  undefined4 *puVar3;
  int iVar4;
  int **ppiVar5;
  undefined4 local_34c [91];
  undefined4 local_1e0 [91];
  undefined4 local_74;
  undefined4 local_70;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  int *piStackY_3c;
  undefined4 uStackY_38;
  int **ppiStackY_34;
  int _Val;
  size_t sVar6;
  
  AdjustStackForLargeAllocations();
  iVar4 = 10;
  do {
    sVar6 = 0x40;
    _Val = 0;
    pvVar1 = (void *)AllocateMemoryWithCallback();
    DAT_005dcff4 = _memset(pvVar1,_Val,sVar6);
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  DAT_005dcff4 = (void *)0x8d;
  _DAT_005dd10c = 0x8e;
  _DAT_005dd224 = 0x8f;
  _DAT_005dd33c = 0x90;
  _DAT_005dd454 = 0x91;
  _DAT_005dd56c = 0x92;
  _DAT_005dd684 = 0x93;
  _DAT_005dd79c = 0x94;
  _DAT_005dd8b4 = 0x95;
  _DAT_005dd9cc = 0x96;
  ppiVar5 = (int **)&DAT_005dcfe0;
  while( true ) {
    LoadBitmapA(DAT_005d6504,(LPCSTR)ppiVar5[5]);
    piVar2 = (int *)FUN_0044ba00();
    iVar4 = (**(code **)*piVar2)();
    if (iVar4 != 0) {
      return 0;
    }
    _memset(&local_74,0,0x6c);
    local_74 = 0x6c;
    iVar4 = (**(code **)(*piVar2 + 0x58))();
    if (iVar4 != 0) {
      return 0;
    }
    ppiStackY_34 = (int **)0x44b4ce;
    _memset(local_1e0,0,0x16c);
    local_1e0[0] = 0x16c;
    ppiStackY_34 = (int **)0x44b4e6;
    _memset(local_34c,0,0x16c);
    local_34c[0] = 0x16c;
    ppiStackY_34 = (int **)0x44b50f;
    iVar4 = (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
    if (iVar4 != 0) {
      return 0;
    }
    local_70 = 7;
    FUN_0044b620();
    iVar4 = FUN_00413f70();
    if (iVar4 != 0) break;
    iVar4 = (**(code **)**ppiVar5)();
    if (iVar4 != 0) {
      return 0;
    }
    sVar6 = 8;
    pvVar1 = (void *)AllocateMemoryWithCallback();
    puVar3 = (undefined4 *)_memset(pvVar1,iVar4,sVar6);
    *puVar3 = DAT_005e7300;
    puVar3[1] = DAT_005e7300;
    (**(code **)(**ppiVar5 + 0x74))();
    ppiStackY_34 = (int **)0x44b5c2;
    iVar4 = (**(code **)(*ppiVar5[2] + 0x18))();
    if (iVar4 != 0) {
      piStackY_48 = *ppiVar5;
      ppiStackY_34 = (int **)0x0;
      uStackY_38 = 0x1000000;
      piStackY_3c = (int *)0x0;
      uStackY_44 = 0;
      uStackY_4c = 0x44b5da;
      piStackY_40 = piVar2;
      FUN_00424d60();
    }
    piStackY_3c = ppiVar5[2];
    ppiStackY_34 = ppiVar5 + 3;
    uStackY_38 = *(undefined4 *)(DAT_005e5010 + 8);
    piStackY_40 = (int *)0x44b5f2;
    iVar4 = (**(code **)(*piStackY_3c + 0x10))();
    if (iVar4 != 0) {
      return 0;
    }
    ppiVar5 = ppiVar5 + 0x46;
    if (0x5ddacf < (int)ppiVar5) {
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_0044b620(int param_1,int param_2)

{
  int iVar1;
  
  if (param_2 == 0) {
    iVar1 = *(int *)(DAT_005e5010 + 0x2194);
  }
  else {
    iVar1 = *(int *)(DAT_005e5010 + 0x219c);
  }
  if (iVar1 == 0) {
    *(undefined4 *)(param_1 + 0x48) = 0x20;
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 0x1000;
    *(undefined4 *)(param_1 + 0x4c) = 0x40;
    *(undefined4 *)(param_1 + 0x58) = 0xf800;
    *(undefined4 *)(param_1 + 0x5c) = 0x7e0;
  }
  else {
    *(undefined4 *)(param_1 + 0x48) = 0x20;
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 0x1000;
    *(undefined4 *)(param_1 + 0x4c) = 0x40;
    *(undefined4 *)(param_1 + 0x58) = 0x7c00;
    *(undefined4 *)(param_1 + 0x5c) = 0x3e0;
  }
  *(undefined4 *)(param_1 + 0x60) = 0x1f;
  *(undefined4 *)(param_1 + 100) = 0;
  *(undefined4 *)(param_1 + 0x54) = 0x10;
  return 1;
}



undefined4 FUN_0044b6b0(int param_1)

{
  int **ppiVar1;
  int **ppiVar2;
  void *_Dst;
  undefined4 *puVar3;
  uint unaff_EDI;
  undefined4 local_364 [91];
  undefined4 local_1f8 [16];
  uint local_1b8;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 uStackY_6c;
  int *piStackY_68;
  undefined4 uStackY_64;
  undefined4 uStackY_60;
  int *piStackY_5c;
  undefined4 uStackY_58;
  int iStackY_54;
  int *piStackY_50;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  undefined *puStackY_40;
  int *piStackY_3c;
  undefined4 *puStackY_38;
  int **ppiStackY_34;
  int iVar4;
  size_t _Size;
  undefined *puVar5;
  
  AdjustStackForLargeAllocations();
  _Size = 8;
  iVar4 = 0;
  _Dst = (void *)AllocateMemoryWithCallback();
  puVar3 = (undefined4 *)_memset(_Dst,iVar4,_Size);
  *puVar3 = DAT_005e7300;
  puVar3[1] = DAT_005e7300;
  ppiStackY_34 = (int **)0x44b717;
  iVar4 = FUN_0045a100();
  if (iVar4 == 0) {
    return 0;
  }
  puVar5 = &stack0xfffffff4;
  iVar4 = (**ppcRam00000000)();
  if (iVar4 != 0) {
    return 0;
  }
  _memset(&local_8c,0,0x6c);
  local_8c = 0x6c;
  iVar4 = (*ppcRam00000000[0x16])();
  if (iVar4 != 0) {
    return 0;
  }
  ppiStackY_34 = (int **)0x44b78f;
  _memset(local_1f8,0,0x16c);
  local_1f8[0] = 0x16c;
  ppiStackY_34 = (int **)0x44b7a6;
  _memset(local_364,0,0x16c);
  local_364[0] = 0x16c;
  ppiStackY_34 = (int **)0x44b7cf;
  iVar4 = (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  if (iVar4 != 0) {
    return 0;
  }
  if ((unaff_EDI <= local_1b8) || (DAT_005e58d0 == 0)) {
    puStackY_38 = &local_8c;
    ppiStackY_34 = (int **)0x1;
    local_88 = 7;
    piStackY_3c = (int *)0x44b81f;
    FUN_0044b620();
    ppiVar1 = (int **)(param_1 + 0x100);
    puStackY_38 = &local_8c;
    piStackY_3c = (int *)0x44b835;
    ppiStackY_34 = ppiVar1;
    iVar4 = FUN_00413f70();
    if (iVar4 != 0) {
      return 0;
    }
    piStackY_3c = *ppiVar1;
    ppiVar2 = (int **)(param_1 + 0x108);
    puStackY_38 = (undefined4 *)&DAT_004c0f40;
    puStackY_40 = (undefined *)0x44b858;
    ppiStackY_34 = ppiVar2;
    iVar4 = (**(code **)*piStackY_3c)();
    puStackY_40 = puVar5;
    if (iVar4 != 0) {
      return 0;
    }
    piStackY_48 = *ppiVar1;
    uStackY_44 = 8;
    uStackY_4c = 0x44b873;
    (**(code **)(*piStackY_48 + 0x74))();
    piStackY_50 = *ppiVar2;
    uStackY_4c = 0;
    iStackY_54 = 0x44b87f;
    iVar4 = (**(code **)(*piStackY_50 + 0x18))();
    if (iVar4 != 0) {
      piStackY_68 = *ppiVar1;
      iStackY_54 = 0;
      uStackY_58 = 0x1000000;
      piStackY_5c = (int *)0x0;
      uStackY_60 = 0;
      uStackY_64 = 0;
      uStackY_6c = 0x44b89a;
      FUN_00424d60();
    }
    piStackY_5c = *ppiVar2;
    iStackY_54 = param_1 + 0x10c;
    uStackY_58 = *(undefined4 *)(DAT_005e5010 + 8);
    uStackY_60 = 0x44b8b6;
    iVar4 = (**(code **)(*piStackY_5c + 0x10))();
    if (iVar4 != 0) {
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_0044b8d0(undefined4 param_1,char *param_2,char *param_3)

{
  void *_Dst;
  undefined4 *_Dst_00;
  HANDLE h;
  char local_128 [256];
  undefined4 local_28;
  undefined4 uVar1;
  LPCSTR name;
  int iVar2;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_128,param_3);
  FID_conflict__strcat(local_128,param_2);
  _Size = 0x6c;
  iVar2 = 0;
  _Dst = (void *)AllocateMemoryWithCallback();
  _Dst_00 = (undefined4 *)_memset(_Dst,iVar2,_Size);
  if (_Dst_00 == (undefined4 *)0x0) {
    return 0;
  }
  name = local_128;
  uVar1 = 0;
  local_28 = 0x44b949;
  h = LoadImageA((HINSTANCE)0x0,name,0,0,0,0x2010);
  if (h == (HANDLE)0x0) {
    return 0;
  }
  GetObjectA(h,0x18,&local_28);
  _memset(_Dst_00,0,0x6c);
  *_Dst_00 = 0x6c;
  _Dst_00[1] = 7;
  _Dst_00[0x1a] = 0x840;
  _Dst_00[3] = uVar1;
  _Dst_00[2] = name;
  FUN_0044b620();
  iVar2 = FUN_00413f70();
  if (iVar2 != 0) {
    return 0;
  }
  local_28 = 0x44b9c5;
  FUN_0044bae0();
  (**(code **)(iRam00000000 + 0x74))();
  DeleteObject(h);
  FreeMemory();
  return 0;
}



int * FUN_0044ba00(undefined4 param_1,int *param_2)

{
  void *_Dst;
  undefined4 *_Dst_00;
  int *local_24;
  int *local_20;
  undefined4 uVar1;
  int iVar2;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  GetObjectA(param_2,0x18,&local_24);
  _Size = 0x6c;
  iVar2 = 0;
  _Dst = (void *)AllocateMemoryWithCallback();
  _Dst_00 = (undefined4 *)_memset(_Dst,iVar2,_Size);
  if (_Dst_00 == (undefined4 *)0x0) {
    return (int *)0x0;
  }
  uVar1 = 0x44ba4c;
  _memset(_Dst_00,0,0x6c);
  *_Dst_00 = 0x6c;
  _Dst_00[1] = 7;
  _Dst_00[0x1a] = 0x840;
  _Dst_00[3] = local_20;
  _Dst_00[2] = uVar1;
  FUN_0044b620();
  iVar2 = FUN_00413f70();
  if (iVar2 != 0) {
    return (int *)0x0;
  }
  local_20 = param_2;
  local_24 = param_2;
  FUN_0044bae0();
  (**(code **)(*param_2 + 0x74))();
  local_20 = (int *)0x44bac9;
  DeleteObject(param_2);
  return param_2;
}



int FUN_0044bae0(int *param_1,HDC param_2,int param_3,int param_4,int param_5,undefined *param_6)

{
  HDC hdc;
  HGDIOBJ h;
  int local_84;
  int local_80;
  int iVar1;
  undefined *pv;
  
  AdjustStackForLargeAllocations();
  if ((param_2 != (HDC)0x0) && (param_1 != (int *)0x0)) {
    (**(code **)(*param_1 + 0x6c))();
    hdc = CreateCompatibleDC((HDC)0x0);
    if (hdc == (HDC)0x0) {
      OutputDebugStringA(s_createcompatible_dc_failed_004ccad0);
    }
    h = SelectObject(hdc,param_2);
    pv = &stack0xffffffe0;
    iVar1 = 0x18;
    GetObjectA(param_2,0x18,pv);
    if (param_5 == 0) {
      param_5 = iVar1;
    }
    if (param_6 == (undefined *)0x0) {
      param_6 = pv;
    }
    (**(code **)(*param_1 + 0x58))();
    iVar1 = (**(code **)(*param_1 + 0x44))();
    if (iVar1 == 0) {
      StretchBlt(param_2,0,0,local_80,local_84,hdc,param_3,param_4,param_5,(int)param_6,0xcc0020);
      (**(code **)(*param_1 + 0x68))();
    }
    SelectObject(param_2,h);
    DeleteDC(hdc);
    DeleteObject(param_2);
    return iVar1;
  }
  return -0x7fffbffb;
}



undefined4 FUN_0044bc00(void)

{
  void *pvVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 local_34c [91];
  undefined4 local_1e0 [16];
  uint local_1a0;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 uStackY_30;
  int iStackY_2c;
  int iVar4;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df2f8 == 1) {
    uVar3 = 0x18;
  }
  else if (DAT_005df2f8 == 2) {
    uVar3 = 0x10;
  }
  else {
    uVar3 = 0x20;
  }
  if (DAT_004d83a4 == 0) {
    return 0;
  }
  _Size = 0x30;
  iVar4 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  pvVar1 = _memset(pvVar1,iVar4,_Size);
  *(void **)(DAT_004d83a4 + 0x10) = pvVar1;
  if (*(int *)(DAT_004d83a4 + 0x10) == 0) {
    return 0;
  }
  _memset(local_1e0,0,0x16c);
  local_1e0[0] = 0x16c;
  _memset(local_34c,0,0x16c);
  local_34c[0] = 0x16c;
  iVar4 = (**(code **)(*DAT_005e58e4 + 0x2c))();
  if (iVar4 != 0) {
    return 0;
  }
  if ((DAT_005e58d0 != 0) && (local_1a0 < 0x8000)) {
    return 0;
  }
  iStackY_2c = 0x44bd05;
  _memset(&local_74,0,0x6c);
  local_74 = 0x6c;
  local_70 = 7;
  iVar4 = 0;
  do {
    local_6c = uVar3;
    local_68 = uVar3;
    FUN_0044b620();
    iVar2 = FUN_00413f70();
    if (iVar2 != 0) {
      return 0;
    }
    local_6c = 0x20;
    local_68 = 0x20;
    FUN_0044b620();
    iVar2 = FUN_00413f70();
    if (iVar2 != 0) {
      return 0;
    }
    iVar4 = iVar4 + 4;
  } while (iVar4 < 0x14);
  local_6c = 0x80;
  local_68 = 0x80;
  FUN_0044b620();
  iVar4 = FUN_00413f70();
  if (iVar4 != 0) {
    return 0;
  }
  iStackY_2c = DAT_004d83a4 + 0x1c;
  uStackY_30 = 0x44bddf;
  uVar3 = FUN_0044be60();
  *(undefined4 *)(DAT_004d83a4 + 0x18) = uVar3;
  if (*(int *)(DAT_004d83a4 + 0x18) == 0) {
    return 0;
  }
  iStackY_2c = 0x44be13;
  FUN_0044c540();
  iStackY_2c = 0x44be28;
  FUN_0044c540();
  iStackY_2c = 0x44be3e;
  FUN_0044c540();
  FUN_0044c970();
  return 1;
}



undefined4 FUN_0044be60(undefined4 param_1,int **param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 uStackY_30;
  int *piStackY_2c;
  undefined4 uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  undefined4 uStackY_1c;
  undefined *puStackY_18;
  
  AdjustStackForLargeAllocations();
  puStackY_18 = (undefined *)0x44be82;
  _memset(&local_7c,0,0x6c);
  local_7c = 0x6c;
  local_78 = 7;
  FUN_0044b620();
  local_74 = param_3;
  local_70 = param_3;
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return 0;
  }
  puStackY_18 = (undefined *)0x44beef;
  iVar1 = (**ppcRam00000000)();
  if (iVar1 != 0) {
    return 0;
  }
  puStackY_18 = &stack0xfffffff0;
  uStackY_1c = 8;
  uStackY_20 = 0;
  uStackY_24 = 0x44bf38;
  iVar1 = (*ppcRam00000000[0x1d])();
  if (iVar1 != 0) {
    return 0;
  }
  piStackY_2c = *param_2;
  uStackY_24 = param_1;
  uStackY_28 = *(undefined4 *)(DAT_005e5010 + 8);
  uStackY_30 = 0x44bf59;
  iVar1 = (**(code **)(*piStackY_2c + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  return 0;
}



bool FUN_0044bf70(int *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 uStackY_2c;
  int *piStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  int *piStackY_1c;
  undefined4 uStackY_18;
  undefined *local_14;
  
  AdjustStackForLargeAllocations();
  local_14 = (undefined *)0x44bf9c;
  _memset(&local_7c,0,0);
  local_14 = (undefined *)((-(uint)(DAT_005e58d0 != 0) & 0x3800) + 0x1800);
  local_7c = 0x6c;
  local_78 = 7;
  FUN_0044b620();
  local_70 = param_3;
  local_74 = param_4;
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return false;
  }
  piStackY_28 = (int *)&stack0xfffffff8;
  local_14 = (undefined *)0x44c00b;
  iVar1 = (**(code **)*param_1)();
  if (iVar1 != 0) {
    return false;
  }
  local_14 = &stack0xfffffff0;
  uStackY_18 = 8;
  piStackY_1c = param_1;
  uStackY_20 = 0x44c024;
  iVar1 = (**(code **)(*param_1 + 0x74))();
  if (iVar1 != 0) {
    return false;
  }
  uStackY_20 = param_2;
  uStackY_24 = *(undefined4 *)(DAT_005e5010 + 8);
  uStackY_2c = 0x44c045;
  iVar1 = (**(code **)(*piStackY_28 + 0x10))();
  return iVar1 == 0;
}



undefined4 FUN_0044c060(undefined2 *param_1)

{
  int iVar1;
  int iVar2;
  undefined2 extraout_var;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)((int)param_1 + 0xf);
  if (iVar1 == 0) {
    iVar1 = FUN_0044c9c0((-(DAT_005df2ec != 0) & 0x10U) + 0x10,0);
    iVar2 = FUN_0044cb10(1,CONCAT22(extraout_var,*param_1),&stack0xfffffff8,0,0);
    if (iVar2 == 0) {
      return 0;
    }
  }
  iVar1 = FUN_0044c3a0(1,iVar1,*(undefined4 *)
                                (*(int *)(DAT_004d83a4 + 0x10) + -4 +
                                (uint)*(byte *)(param_1 + 7) * 4));
  if (iVar1 != 0) {
    FUN_0044c540(*(undefined4 *)
                  (*(int *)(DAT_004d83a4 + 0x10) + -4 + (uint)*(byte *)(param_1 + 7) * 4),0,
                 (uint)*(byte *)(param_1 + 7));
    return 1;
  }
  return 0;
}



undefined4
FUN_0044c110(int *param_1,int param_2,int param_3,int param_4,undefined4 param_5,int *param_6)

{
  void *pvVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  int iVar4;
  int unaff_ESI;
  int iVar5;
  int unaff_EDI;
  undefined4 local_104 [4];
  int local_f4;
  int local_e0;
  undefined4 local_98 [4];
  int local_88;
  int local_74;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  int *piStackY_38;
  undefined4 uStackY_34;
  int iVar6;
  int iVar7;
  int iVar8;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  piStackY_40 = (int *)0x0;
  _memset(&stack0xffffffd8,0,0x10);
  _memset(&stack0xffffffe8,0,0x10);
  _Size = 0x6c;
  iVar7 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  pvVar1 = _memset(pvVar1,iVar7,_Size);
  if (pvVar1 == (void *)0x0) {
    return 0;
  }
  if (DAT_005df2ec == 0) {
    if (param_4 == 0) {
      unaff_ESI = (param_3 + 1) * 0x18;
      unaff_EDI = (param_2 + 1) * 0x18;
      piStackY_40 = param_6;
    }
    if (param_4 == 1) {
      unaff_ESI = (param_3 + 1) * 0x10;
      unaff_EDI = (param_2 + 1) * 0x10;
      piStackY_40 = param_6;
    }
  }
  else {
    if (param_4 == 0) {
      unaff_ESI = (param_3 + 1) * 0x30;
      unaff_EDI = (param_2 + 1) * 0x30;
      piStackY_40 = param_6;
    }
    if (param_4 == 1) {
      unaff_ESI = (param_3 + 1) * 0x20;
      unaff_EDI = (param_2 + 1) * 0x20;
      piStackY_40 = param_6;
    }
  }
  _memset(local_104,0,0x6c);
  local_104[0] = 0x6c;
  param_4 = 0;
  iVar8 = 1;
  iVar7 = (**(code **)(*param_1 + 100))();
  if (iVar7 == 0) {
    uStackY_34 = 0x44c2bb;
    _memset(local_98,0,0x6c);
    local_98[0] = 0x6c;
    iVar6 = 0;
    uStackY_34 = 0;
    uStackY_3c = 0x44c2d8;
    piStackY_38 = piStackY_40;
    iVar7 = (**(code **)(*piStackY_40 + 100))();
    if (iVar7 == 0) {
      if (param_4 < unaff_ESI) {
        iVar7 = param_4 * (local_f4 >> 1);
        iVar5 = (int)param_1 * (local_88 >> 1);
        do {
          if (iVar8 < unaff_EDI) {
            puVar3 = (undefined2 *)(local_74 + (iVar6 + iVar5) * 2);
            puVar2 = (undefined2 *)(local_e0 + (iVar8 + iVar7) * 2);
            iVar4 = iVar8;
            do {
              iVar4 = iVar4 + 1;
              *puVar3 = *puVar2;
              puVar2 = puVar2 + 1;
              puVar3 = puVar3 + 1;
            } while (iVar4 < unaff_EDI);
          }
          iVar7 = iVar7 + (local_f4 >> 1);
          iVar5 = iVar5 + (local_88 >> 1);
          param_4 = param_4 + 1;
        } while (param_4 < unaff_ESI);
      }
      uStackY_3c = 0;
      uStackY_44 = 0x44c37f;
      (**(code **)(*piStackY_40 + 0x80))();
      uStackY_44 = 0;
      piStackY_48 = param_1;
      uStackY_4c = 0x44c389;
      (**(code **)(*param_1 + 0x80))();
      return 1;
    }
    return 0;
  }
  return 0;
}



undefined4 FUN_0044c3a0(undefined4 param_1,int *param_2,int *param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 local_110 [2];
  int local_108;
  int local_104;
  int local_100;
  int local_ec;
  undefined4 local_a4 [2];
  int local_9c;
  int local_98;
  int local_94;
  int local_80;
  undefined4 uStackY_5c;
  int *piStackY_58;
  undefined4 uStackY_54;
  int *piStackY_50;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int local_30;
  undefined4 *puVar7;
  
  AdjustStackForLargeAllocations();
  _memset(local_110,0,0x6c);
  local_110[0] = 0x6c;
  (**(code **)(*param_2 + 0x58))();
  _memset(local_a4,0,0x6c);
  local_a4[0] = 0x6c;
  (**(code **)(*param_3 + 0x58))();
  _memset(local_110,0,0x6c);
  puVar7 = local_110;
  local_110[0] = 0x6c;
  local_30 = 0;
  iVar2 = (**(code **)(*param_2 + 100))();
  if (iVar2 != 0) {
    return 0;
  }
  uStackY_44 = 0x44c473;
  _memset(local_a4,0,0x6c);
  local_a4[0] = 0x6c;
  uStackY_44 = 0;
  piStackY_48 = param_3;
  uStackY_4c = 0x44c492;
  iVar2 = (**(code **)(*param_3 + 100))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = 0;
  if (0 < local_108) {
    iVar5 = 0;
    iVar4 = 0;
    do {
      if (local_9c <= iVar2) break;
      iVar3 = 0;
      iVar6 = local_104;
      if (0 < local_104) {
        do {
          local_104 = iVar6;
          if (local_98 <= iVar3) break;
          iVar6 = iVar3 + iVar4;
          iVar1 = iVar3 + iVar5;
          iVar3 = iVar3 + 1;
          *(undefined2 *)(local_80 + iVar1 * 2) = *(undefined2 *)(local_ec + iVar6 * 2);
          local_104 = 0;
          iVar6 = local_30;
        } while (iVar3 < 0);
      }
      iVar4 = iVar4 + (local_100 >> 1);
      iVar2 = iVar2 + 1;
      iVar5 = iVar5 + (local_94 >> 1);
    } while (iVar2 < (int)puVar7);
  }
  uStackY_4c = 0;
  piStackY_50 = param_3;
  uStackY_54 = 0x44c523;
  (**(code **)(*param_3 + 0x80))();
  uStackY_54 = 0;
  piStackY_58 = param_2;
  uStackY_5c = 0x44c531;
  (**(code **)(*param_2 + 0x80))();
  return 1;
}



undefined4 FUN_0044c540(int *param_1,int param_2,int param_3)

{
  undefined4 uVar1;
  ushort uVar2;
  ushort *puVar3;
  ushort *puVar4;
  int iVar5;
  int *piVar6;
  int unaff_EDI;
  undefined4 local_fc [4];
  int local_ec;
  int local_d8;
  int local_90 [2];
  int local_88;
  int local_84;
  int local_80;
  ushort *local_6c;
  undefined4 uStackY_54;
  int *piStackY_50;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  int *piVar7;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffec,0,0x10);
  _memset(local_90,0,0x6c);
  piVar7 = local_90;
  local_90[0] = 0x6c;
  (**(code **)(*param_1 + 0x58))();
  iVar5 = unaff_EDI;
  switch(param_2) {
  case 0:
    if (param_3 < 5) {
      piVar7 = (int *)(param_3 * 0x20 + -0x20);
      iVar5 = 0;
    }
    else {
      piVar7 = (int *)0x0;
      iVar5 = 0x20;
    }
    break;
  case 1:
    if (param_3 < 4) {
      piVar7 = (int *)(param_3 << 5);
      iVar5 = 0x20;
    }
    else if (param_3 == 4) {
      piVar7 = (int *)0x0;
      iVar5 = 0x40;
    }
    else {
      iVar5 = unaff_EDI;
      if (param_3 == 5) {
        piVar7 = (int *)0x0;
        iVar5 = 0x60;
      }
    }
    break;
  case 2:
    piVar7 = (int *)0x20;
    iVar5 = 0x40;
    break;
  case 3:
    piVar7 = (int *)0x4c;
    iVar5 = 0x40;
    break;
  case 4:
    piVar7 = (int *)0x70;
    iVar5 = 0x70;
  }
  param_3 = iVar5;
  local_84 = local_84 + (int)piVar7;
  local_88 = param_3 + local_88;
  if (0x80 < local_84) {
    local_84 = 0x80;
  }
  if (0x80 < local_88) {
    local_88 = 0x80;
  }
  _memset(local_90,0,0x6c);
  piStackY_40 = local_90;
  local_90[0] = 0x6c;
  (**(code **)(*param_1 + 100))();
  uStackY_3c = 0x44c6a5;
  _memset(local_fc,0,0x6c);
  local_fc[0] = 0x6c;
  uStackY_3c = 0;
  uStackY_44 = 0x44c6c4;
  piStackY_48 = piStackY_40;
  (**(code **)(*piStackY_40 + 100))();
  local_ec = local_ec >> 1;
  local_80 = local_80 >> 1;
  if ((param_2 == 0) && (DAT_005e72d4 != DAT_005e72dc)) {
    if (DAT_005e72d4 == 0) {
      if (param_3 < local_88) {
        iVar5 = local_ec * param_3;
        uVar1 = DAT_005e72fc;
        piVar6 = piVar7;
        puVar4 = local_6c;
        do {
          for (; (int)piVar6 < local_84; piVar6 = (int *)((int)piVar6 + 1)) {
            uVar2 = *local_6c;
            if (uVar2 == DAT_005e72f8) {
              DAT_005e72fc._0_2_ = (ushort)uVar1;
            }
            else {
              DAT_005e72fc._0_2_ = uVar2 & 0x1f | uVar2 >> 1 & 0x7fe0;
            }
            local_6c = local_6c + 1;
            *(ushort *)(local_d8 + ((int)piVar6 + iVar5) * 2) = (ushort)DAT_005e72fc;
            DAT_005e72fc = uVar1;
            uVar1 = DAT_005e72fc;
          }
          local_6c = puVar4 + local_80;
          iVar5 = iVar5 + local_ec;
          param_3 = param_3 + 1;
          DAT_005e72fc = uVar1;
          piVar6 = piVar7;
          puVar4 = local_6c;
        } while (param_3 < local_88);
      }
    }
    else if (param_3 < local_88) {
      iVar5 = local_ec * param_3;
      uVar1 = DAT_005e72fc;
      piVar6 = piVar7;
      puVar4 = local_6c;
      do {
        for (; (int)piVar6 < local_84; piVar6 = (int *)((int)piVar6 + 1)) {
          uVar2 = *local_6c;
          if (uVar2 == DAT_005e72f8) {
            DAT_005e72fc._0_2_ = (ushort)uVar1;
          }
          else {
            DAT_005e72fc._0_2_ = (ushort)((uVar2 & 0xffe0) << 1) | uVar2 & 0x1f;
          }
          local_6c = local_6c + 1;
          *(ushort *)(local_d8 + ((int)piVar6 + iVar5) * 2) = (ushort)DAT_005e72fc;
          DAT_005e72fc = uVar1;
          uVar1 = DAT_005e72fc;
        }
        local_6c = puVar4 + local_80;
        iVar5 = iVar5 + local_ec;
        param_3 = param_3 + 1;
        DAT_005e72fc = uVar1;
        piVar6 = piVar7;
        puVar4 = local_6c;
      } while (param_3 < local_88);
    }
  }
  else if ((DAT_005e72dc == 0) || (DAT_005e72e4 == 0)) {
    if (param_3 < local_88) {
      iVar5 = local_ec * param_3;
      do {
        if ((int)piVar7 < local_84) {
          puVar4 = (ushort *)(local_d8 + ((int)piVar7 + iVar5) * 2);
          puVar3 = local_6c;
          piVar6 = piVar7;
          do {
            uVar2 = *puVar3;
            puVar3 = puVar3 + 1;
            *puVar4 = uVar2;
            piVar6 = (int *)((int)piVar6 + 1);
            puVar4 = puVar4 + 1;
          } while ((int)piVar6 < local_84);
        }
        iVar5 = iVar5 + local_ec;
        local_6c = local_6c + local_80;
        param_3 = param_3 + 1;
      } while (param_3 < local_88);
    }
  }
  else if (param_3 < local_88) {
    iVar5 = local_ec * param_3;
    do {
      if ((int)piVar7 < local_84) {
        puVar4 = (ushort *)(local_d8 + ((int)piVar7 + iVar5) * 2);
        puVar3 = local_6c;
        piVar6 = piVar7;
        do {
          if (*puVar3 == DAT_005e72f8) {
            uVar2 = (ushort)DAT_005e72fc;
          }
          else {
            uVar2 = *puVar3 | 0x8000;
          }
          *puVar4 = uVar2;
          puVar3 = puVar3 + 1;
          piVar6 = (int *)((int)piVar6 + 1);
          puVar4 = puVar4 + 1;
        } while ((int)piVar6 < local_84);
      }
      local_6c = local_6c + local_80;
      param_3 = param_3 + 1;
      iVar5 = iVar5 + local_ec;
    } while (param_3 < local_88);
  }
  uStackY_44 = 0;
  uStackY_4c = 0x44c93e;
  (**(code **)(*piStackY_48 + 0x80))();
  uStackY_4c = 0;
  piStackY_50 = param_1;
  uStackY_54 = 0x44c94c;
  (**(code **)(*param_1 + 0x80))();
  return 1;
}



void FUN_0044c970(void)

{
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  local_8 = 0x44c97d;
  AdjustStackForLargeAllocations();
  local_8 = 0;
  local_c = 0x1000000;
  local_10 = 0;
  local_14 = *(undefined4 *)(DAT_004d83a4 + 0x14);
  FUN_00424d60(*(undefined4 *)(DAT_004d83a4 + 0x18),&local_14);
  return;
}



uint FUN_0044c9c0(undefined4 param_1)

{
  int iVar1;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 uStackY_14;
  undefined *puVar2;
  
  AdjustStackForLargeAllocations();
  uStackY_14 = 0x44c9e1;
  _memset(&local_74,0,0);
  local_74 = 0x6c;
  local_70 = 7;
  local_6c = param_1;
  local_68 = param_1;
  FUN_0044b620();
  puVar2 = &stack0xfffffff8;
  iVar1 = FUN_00413f70();
  return ~-(uint)(iVar1 != 0) & (uint)puVar2;
}



undefined4 FUN_0044ca40(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uStackY_18 = 0x44ca62;
  _memset(&local_7c,0,0x6c);
  local_7c = 0x6c;
  local_78 = 7;
  local_70 = param_1;
  local_74 = param_2;
  FUN_0044b620();
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return 0;
  }
  uStackY_18 = 0x44cafa;
  (**(code **)(iRam00000000 + 0x74))();
  return 0;
}



undefined4 FUN_0044cb10(undefined4 param_1,undefined4 param_2,int **param_3,int param_4)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined local_1bf4 [6912];
  undefined4 local_f4 [4];
  int local_e4;
  int local_d0;
  undefined local_88 [76];
  undefined local_3c [12];
  undefined2 uStackY_30;
  undefined2 uStackY_2e;
  int *local_2c;
  undefined *local_28;
  int *local_24;
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  if ((*param_3 != (int *)0x0) && (iVar2 = FUN_00442690(), iVar2 != 0)) {
    uStackY_20 = (int **)local_88;
    local_24 = (int *)0x44cb5a;
    CopyDataWithLock();
    uStackY_20 = (int **)0x44cbaa;
    SeekInResourceWithLock();
    uStackY_20 = (int **)local_3c;
    local_24 = (int *)0x44cbbb;
    CopyDataWithLock();
    uStackY_20 = &local_2c;
    local_24 = (int *)0x44cbcc;
    CopyDataWithLock();
    uStackY_20 = (int **)0x44cbde;
    SeekInResourceWithLock();
    if (((int)local_24 < 0x31) && ((int)local_28 < 0x31)) {
      if ((uStackY_20._2_2_ == 8) || (uStackY_20._2_2_ == 0x18)) {
        uStackY_20 = (int **)local_1bf4;
        local_24 = (int *)0x44cc32;
        CopyDataWithLock();
      }
      uStackY_20 = (int **)0x44cc45;
      _memset(local_f4,0,0x6c);
      local_24 = *param_3;
      local_f4[0] = 0x6c;
      uStackY_20 = (int **)0x0;
      local_28 = (undefined *)0x44cc67;
      iVar2 = (**(code **)(*local_24 + 100))();
      if (iVar2 == 0) {
        iVar2 = 0;
        if (0 < (int)local_24) {
          do {
            iVar5 = 0;
            if (0 < (int)local_28) {
              do {
                local_28 = local_1bf4 + ((int)local_28 * iVar2 + iVar5) * 3;
                local_2c = (int *)0x44ccaf;
                uVar3 = FUN_0044cd60();
                uVar1 = (ushort)uVar3;
                if (uVar1 == 0xf81f) {
                  if ((short)param_4 == 0) {
                    uVar1 = (ushort)*(undefined4 *)(DAT_005e5010 + 0x21b8);
                  }
                  else {
                    uVar1 = (ushort)*(undefined4 *)(DAT_005e5010 + 0x21bc);
                  }
                }
                else {
                  if (param_4 == 0) {
                    iVar4 = *(int *)(DAT_005e5010 + 0x2194);
                  }
                  else {
                    iVar4 = *(int *)(DAT_005e5010 + 0x219c);
                  }
                  if (iVar4 != 0) {
                    uVar1 = (ushort)(uVar3 >> 1) & 0x7fe0 | uVar1 & 0x1f;
                  }
                }
                iVar4 = (int)(local_28 + (-1 - iVar2)) * (local_e4 >> 1) + iVar5;
                iVar5 = iVar5 + 1;
                *(ushort *)(local_d0 + iVar4 * 2) = uVar1;
              } while (iVar5 < (int)local_28);
            }
            iVar2 = iVar2 + 1;
          } while (iVar2 < (int)local_24);
        }
        local_28 = (undefined *)0x0;
        local_2c = *param_3;
        uStackY_30 = 0xcd45;
        uStackY_2e = 0x44;
        (**(code **)(*local_2c + 0x80))();
        return 1;
      }
    }
  }
  return 0;
}



uint __fastcall FUN_0044cd60(undefined4 param_1_00,undefined4 param_2,byte *param_1)

{
  undefined4 in_EAX;
  uint uVar1;
  uint uVar2;
  ushort uVar3;
  
  uVar1 = CONCAT31((int3)((uint)in_EAX >> 8),param_1[2]) & 0xfffffff8;
  uVar2 = CONCAT31((int3)((uint)param_2 >> 8),param_1[1]) & 0xfffffffc;
  uVar3 = (ushort)(uVar2 >> 0x10);
  return (CONCAT22((short)(uVar1 >> 0x10),(ushort)(byte)uVar1) << 5 |
         CONCAT22(uVar3,(ushort)(byte)uVar2)) << 3 |
         CONCAT31((int3)(((uint)uVar3 << 0x10) >> 8),*param_1 >> 3);
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0044cd90(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 local_9c [4];
  int local_8c;
  undefined4 local_78;
  undefined4 uStackY_44;
  undefined4 uStackY_40;
  undefined4 uStackY_3c;
  undefined4 uStackY_38;
  undefined4 uStackY_34;
  uint local_30;
  int *piStackY_2c;
  uint local_28;
  int *piStackY_24;
  int local_20;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  iVar9 = 0;
  iVar6 = _DAT_004d845c;
  if (DAT_004cb05c == 8) {
    DAT_004d8448 = 0;
    uVar8 = 0;
    DAT_004d844c = 0;
    _DAT_004d8450 = 0;
    _DAT_004d8454 = 0;
    _DAT_004d8458 = 0;
    do {
      puVar5 = *(undefined4 **)(*(int *)(param_1 + 4) + 0x175 + uVar8 * 4);
      if ((puVar5 != (undefined4 *)0x0) && (*(char *)((int)puVar5 + 0xe) != '\0')) {
        uVar7 = *(uint *)((int)puVar5 + 5);
        if (uVar7 == 0x640) {
          if (*(short *)(puVar5 + 3) != 0x640) {
            uVar7 = uVar8;
            FUN_0044d100();
            (&DAT_004d8448)[uVar7 & 0xff] = 1;
          }
        }
        else {
          if (*(ushort *)(puVar5 + 3) < uVar7) {
            piStackY_2c = (int *)0x0;
            local_30 = uVar7;
            iVar2 = __ftol();
            iVar9 = iVar2 * 2;
            iVar3 = __ftol();
            uVar7 = 0x6c;
            local_20 = 0x44ce82;
            _memset(local_9c,0,0x6c);
            local_9c[0] = 0x6c;
            piStackY_24 = *(int **)(*(int *)(DAT_004d83a4 + 0x10) + 0x1c + (uVar7 & 0xff) * 4);
            puVar5 = local_9c;
            iVar6 = 1;
            local_20 = 0;
            local_28 = 0x44ceb8;
            iVar4 = (**(code **)(*piStackY_24 + 100))();
            uVar1 = local_78;
            if (iVar4 != 0) {
              return;
            }
            iVar4 = iVar2 * -2 + 200;
            local_20 = iVar3 * -2 + 200;
            iVar2 = local_8c >> 1;
            if (iVar4 < local_20) {
              do {
                local_30 = CONCAT22((short)((uint)uVar1 >> 0x10),
                                    *(undefined2 *)(DAT_005e5010 + 0x21bc));
                uStackY_34 = *(undefined4 *)(DAT_005ddb14 + 4 + iVar4 * 8);
                uStackY_38 = *(undefined4 *)(DAT_005ddb14 + iVar4 * 8);
                uStackY_3c = 0x10;
                uStackY_40 = 0x10;
                uStackY_44 = 0x44cf14;
                local_28 = iVar2;
                FUN_004491d0();
                iVar4 = iVar4 + 1;
              } while (iVar4 < local_20);
            }
          }
          else {
            if ((uVar7 == 0x640) || (*(ushort *)(puVar5 + 3) <= uVar7)) goto LAB_0044d02d;
            piStackY_24 = (int *)0x0;
            local_28 = uVar7;
            iVar2 = __ftol();
            iVar9 = iVar2 * 2;
            iVar3 = __ftol();
            uVar7 = 0x6c;
            local_20 = 0x44cf7a;
            _memset(local_9c,0,0x6c);
            local_9c[0] = 0x6c;
            piStackY_24 = *(int **)(*(int *)(DAT_004d83a4 + 0x10) + 0x1c + (uVar7 & 0xff) * 4);
            puVar5 = local_9c;
            iVar6 = 1;
            local_20 = 0;
            local_28 = 0x44cfb0;
            iVar4 = (**(code **)(*piStackY_24 + 100))();
            if (iVar4 != 0) {
              return;
            }
            iVar4 = local_8c >> 1;
            for (iVar3 = iVar3 * -2 + 200; iVar3 < iVar2 * -2 + 200; iVar3 = iVar3 + 1) {
              uStackY_34 = *(undefined4 *)(DAT_005ddb14 + 4 + iVar3 * 8);
              uStackY_38 = *(undefined4 *)(DAT_005ddb14 + iVar3 * 8);
              local_30 = 0;
              uStackY_3c = 0x10;
              uStackY_40 = 0x10;
              uStackY_44 = 0x44cff9;
              local_28 = iVar4;
              FUN_004491d0();
            }
          }
          local_28 = 0;
          piStackY_2c = *(int **)(*(int *)(DAT_004d83a4 + 0x10) + 0x1c + iVar6 * 4);
          local_30 = 0x44d01c;
          (**(code **)(*piStackY_2c + 0x80))();
          (&DAT_004d8448)[iVar6] = 1;
        }
LAB_0044d02d:
        *(undefined2 *)(puVar5 + 3) = *(undefined2 *)((int)puVar5 + 5);
      }
      uVar8 = uVar8 + 1;
      iVar6 = iVar9;
    } while ((int)uVar8 < 5);
  }
  _DAT_004d845c = iVar6;
  return;
}



void FUN_0044d060(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if ((*(char *)(DAT_004d83a4 + 0x62) != '\x03') && (*(int *)(DAT_004d83a4 + 0x28) == 1)) {
    DAT_004d8460 = DAT_004d8460 + 1;
    if (DAT_004d8460 == 0xc) {
      DAT_004d8464 = (uint)(DAT_004d8464 == 0);
    }
    if (DAT_004d8460 == 0x18) {
      DAT_004d8464 = (uint)(DAT_004d8464 == 0);
      DAT_004d8460 = 0;
    }
  }
  iVar2 = 0x1c;
  iVar3 = 0;
  iVar1 = DAT_004d83a4;
  do {
    if (*(int *)((int)&DAT_004d842c + iVar2) != 0) {
      FUN_0044c540(*(undefined4 *)(*(int *)(iVar1 + 0x10) + iVar2),1,iVar3 + 1);
      iVar1 = DAT_004d83a4;
    }
    iVar2 = iVar2 + 4;
    iVar3 = iVar3 + 1;
  } while (iVar2 < 0x30);
  return;
}



void FUN_0044d100(int param_1)

{
  int iVar1;
  int iVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined4 local_70 [4];
  int local_60;
  undefined2 *local_4c;
  undefined4 uStackY_30;
  int *piStackY_2c;
  undefined4 uStackY_28;
  
  AdjustStackForLargeAllocations();
  _memset(local_70,0,0x6c);
  local_70[0] = 0x6c;
  iVar1 = param_1 * 4 + 0x1c;
  iVar2 = (**(code **)(**(int **)(*(int *)(DAT_004d83a4 + 0x10) + iVar1) + 100))();
  if (iVar2 == 0) {
    iVar2 = 0x20;
    do {
      iVar4 = 0x20;
      puVar3 = local_4c;
      do {
        *puVar3 = (undefined2)DAT_005e72fc;
        puVar3 = puVar3 + 1;
        iVar4 = iVar4 + -1;
      } while (iVar4 != 0);
      local_4c = local_4c + (local_60 >> 1);
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    uStackY_28 = 0;
    piStackY_2c = *(int **)(*(int *)(DAT_004d83a4 + 0x10) + iVar1);
    uStackY_30 = 0x44d19a;
    (**(code **)(*piStackY_2c + 0x80))();
  }
  return;
}



void FUN_0044d1b0(undefined4 *param_1,undefined4 *param_2,int *param_3)

{
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (param_3 != (int *)0x0) {
    uStackY_18 = 0x44d1d2;
    _memset(&local_70,0,0x6c);
    local_70 = 0x6c;
    local_6c = 6;
    (**(code **)(*param_3 + 0x58))();
    *param_1 = local_64;
    *param_2 = local_68;
  }
  return;
}



undefined4 FUN_0044d210(void)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = *(int **)(DAT_004d79b0 + 0x38);
  if (piVar1 != (int *)0x0) {
    iVar2 = (**(code **)(*piVar1 + 0x60))(piVar1);
    if (iVar2 == -0x7789fe3e) {
      iVar2 = (**(code **)(**(int **)(DAT_004d79b0 + 0x38) + 0x6c))(*(int **)(DAT_004d79b0 + 0x38));
      if (iVar2 != 0) {
        return 0;
      }
    }
  }
  return 1;
}



undefined4 FUN_0044d250(void)

{
  if (DAT_004d83a4 != 0) {
    FUN_0044d6e0();
    if (*(char *)(DAT_004d83a4 + 0x62) == '\x01') {
      *(short *)(DAT_004d83a4 + 0x60) =
           *(short *)(DAT_004d83a4 + 0x60) + (short)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
      if (*(int *)(DAT_005e5010 + 0x2538) >> 1 < (int)*(short *)(DAT_004d83a4 + 0x60)) {
        *(undefined *)(DAT_004d83a4 + 0x62) = 3;
        DAT_005de4e0 = FUN_0048da70();
        FUN_004858f0(0xb);
        FUN_0048daa0(0);
        FUN_00446d20();
        return 1;
      }
    }
    else if (*(char *)(DAT_004d83a4 + 0x62) == '\x02') {
      *(short *)(DAT_004d83a4 + 0x60) =
           *(short *)(DAT_004d83a4 + 0x60) - (short)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
      if (*(short *)(DAT_004d83a4 + 0x60) < 1) {
        *(undefined2 *)(DAT_004d83a4 + 0x60) = 0;
        *(undefined *)(DAT_004d83a4 + 0x62) = 0;
      }
    }
  }
  return 1;
}



void FUN_0044d300(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  short *psVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  
  AdjustStackForLargeAllocations();
  if (DAT_004cb05c != 8) {
    return;
  }
  if (DAT_004d83a4 == 0) {
    return;
  }
  if (*(char *)(DAT_004d83a4 + 0x62) == '\x03') {
    return;
  }
  sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  iVar3 = DAT_005df318;
  if (*(char *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x189) != '\0') {
    iVar6 = 0;
    iVar5 = DAT_004d83a4;
    do {
      iVar2 = *(int *)(*(int *)(*(int *)(iVar3 + 4) + 4) + 0x175 + iVar6);
      if ((iVar2 != 0) && ((*(byte *)(iVar2 + 0x1f) & 8) != 0)) {
        iVar3 = FUN_0044c060(iVar2,*(undefined4 *)
                                    (*(int *)(iVar5 + 0x10) + -4 + (uint)*(byte *)(iVar2 + 0xe) * 4)
                            );
        if (iVar3 == 0) {
          return;
        }
        *(byte *)(iVar2 + 0x1f) = *(byte *)(iVar2 + 0x1f) & 0xf7;
        iVar3 = DAT_005df318;
        iVar5 = DAT_004d83a4;
      }
      iVar6 = iVar6 + 4;
    } while (iVar6 < 0x14);
  }
  FUN_0044abe0(*(undefined4 *)(*(int *)(iVar3 + 4) + 4));
  FUN_0044cd90(*(undefined4 *)(DAT_005df318 + 4));
  FUN_00416710();
  if ((DAT_005a4b88 == (int *)0x0) || (iVar3 = DAT_005a4b88[1], *(char *)(iVar3 + 0x189) == '\0')) {
    iVar3 = 0;
  }
  else {
    if ((*(byte *)(iVar3 + 0x8a) & 2) == 0) {
      psVar4 = *(short **)(*DAT_005a4b88 + 0x86);
    }
    else {
      psVar4 = *(short **)(*DAT_005a4b88 + 0x86);
      if (2 < *(int *)(*(int *)(iVar3 + 0x100) + 0x48)) {
        if (*psVar4 == 0xe7) {
          iVar3 = *(int *)(DAT_005dcedc + 0x1c);
        }
        else if (*psVar4 == 0xe8) {
          iVar3 = *(int *)(DAT_005dcedc + 0x20);
        }
        else {
          iVar3 = *(int *)(DAT_005dcedc + 0x18);
        }
        goto LAB_0044d439;
      }
    }
    iVar3 = *(int *)((int)psVar4 + 0xf);
  }
LAB_0044d439:
  if (iVar3 == 0) {
    if (DAT_005df2f8 == 1) {
      iVar3 = *(int *)(DAT_005dcedc + 0x14);
      iVar5 = DAT_00598e64 + 0x5a;
      iVar6 = 0x12;
    }
    else {
      iVar3 = *(int *)(DAT_005dcedc + 0x14);
      if (DAT_005df2f8 == 2) {
        iVar5 = DAT_00598e64 + 0x39;
        iVar6 = 0xb;
      }
      else {
        iVar5 = DAT_00598e64 + 0x6e;
        iVar6 = 0x13;
      }
    }
  }
  else {
    if (DAT_005df2f8 == 1) {
      if (DAT_00598944 == 0) {
        iVar5 = 0x5f;
      }
      else {
        iVar5 = DAT_00598e64 + 0x5e;
      }
      iVar6 = 0x17 - sVar1;
      uVar7 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      goto LAB_0044d55f;
    }
    if (DAT_005df2f8 == 2) {
      if (DAT_00598944 == 0) {
        iVar5 = 0x3c;
        iVar6 = 0xe;
      }
      else {
        iVar5 = DAT_00598e64 + 0x3c;
        iVar6 = 0xe;
      }
    }
    else if (DAT_00598944 == 0) {
      iVar5 = 0x74;
      iVar6 = 0x19;
    }
    else {
      iVar5 = DAT_00598e64 + 0x74;
      iVar6 = 0x19;
    }
  }
  iVar6 = iVar6 - sVar1;
  uVar7 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
LAB_0044d55f:
  FUN_00424e90(uVar7,iVar6,iVar5,iVar3,0,0x11);
  if (DAT_00598d50 != 0) {
    iVar3 = 0;
    do {
      if (*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x175 + iVar3 * 4) == 0) {
        FUN_0044a9e0(iVar3);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < 5);
  }
  FUN_0044c970();
  return;
}



void FUN_0044d5b0(void)

{
  WaitForSingleObject(DAT_005d66b4,0xffffffff);
  FUN_0044d740(*(undefined4 *)(DAT_005df318 + 4));
  FUN_004ad7a0(*(undefined4 *)(DAT_004d83a4 + 4),*(undefined4 *)(DAT_004d83a4 + 8),0xbe0);
  ReleaseMutex(DAT_005d66b4);
  return;
}



undefined4 FUN_0044d600(int *param_1,undefined4 param_2)

{
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  if (((DAT_004cb05c == 8) && (DAT_004d83a4 != (undefined4 *)0x0)) &&
     (*(char *)((int)DAT_004d83a4 + 0x62) != '\x03')) {
    FUN_00480e20();
    pfVar1 = (float *)DAT_004d83a4[1];
    if (0 < *(short *)(DAT_004d83a4 + 0x18)) {
      iVar3 = 0x5f;
      pfVar2 = pfVar1;
      do {
        if (0.0 <= *pfVar2) {
          if ((float)*(int *)(DAT_005e5010 + 0x2538) <= *pfVar2) {
            *pfVar2 = (float)(*(int *)(DAT_005e5010 + 0x2538) + -1);
          }
        }
        else {
          *pfVar2 = 0.0;
        }
        pfVar2 = pfVar2 + 8;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
    }
    pfVar1 = pfVar1 + 3;
    iVar3 = 0x5f;
    do {
      *pfVar1 = 1.0;
      pfVar1 = pfVar1 + 8;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    iVar3 = (**(code **)(*param_1 + 0x20))(param_1,*DAT_004d83a4,param_2,2);
    if (iVar3 != 0) {
      (**(code **)(*param_1 + 0x50))(param_1);
      return 0;
    }
    FUN_00416e40();
  }
  return 1;
}



void FUN_0044d6e0(void)

{
  if (*(int *)(DAT_004d83a4 + 0x38) == 0) {
    *(uint *)(DAT_004d83a4 + 0x34) =
         (uint)*(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x197);
    if (4 < *(int *)(DAT_004d83a4 + 0x34)) {
      *(undefined4 *)(DAT_004d83a4 + 0x34) = 0;
      return;
    }
  }
  else {
    *(int *)(DAT_004d83a4 + 0x34) = *(int *)(DAT_004d83a4 + 0x34) + -1;
    if (*(int *)(DAT_004d83a4 + 0x34) < 0) {
      *(undefined4 *)(DAT_004d83a4 + 0x34) = 0;
      *(undefined4 *)(DAT_004d83a4 + 0x38) = 0;
      *(undefined4 *)(DAT_004d83a4 + 0x3c) = 0;
    }
  }
  return;
}



void FUN_0044d740(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int local_18 [2];
  
  AdjustStackForLargeAllocations();
  local_18[1] = 0;
  iVar3 = 0;
  local_18[0] = 0;
  puVar1 = (undefined4 *)(*(int *)(DAT_004d83a4 + 8) + 0x10);
  iVar2 = 0x5f;
  do {
    puVar1[-1] = 0x3f800000;
    *puVar1 = DAT_004d80f4;
    puVar1 = puVar1 + 8;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  do {
    iVar2 = *(int *)(iVar3 + 0x175 + *(int *)(param_1 + 4));
    if (iVar2 != 0) {
      local_18[0] = iVar2;
      if ((DAT_005df2f8 == 2) || (*(int *)(DAT_005e5010 + 0x2524) == 0)) {
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        FUN_0044a650(3,0,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a650(3,1,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a650(3,2,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a650(3,3,param_1);
      }
      else {
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        FUN_0044a320(3,0,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a320(3,1,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a320(3,2,param_1);
        local_18[1] = *(byte *)(iVar2 + 0xe) - 1;
        local_18[0] = iVar2;
        FUN_0044a320(3,3,param_1);
      }
      *(undefined4 *)((int)local_18 + iVar3) = 1;
    }
    iVar3 = iVar3 + 4;
  } while (iVar3 < 0x14);
  iVar2 = 0;
  piVar4 = local_18;
  do {
    if (*piVar4 == 0) {
      local_18[1] = iVar2;
      if (((DAT_005df2f8 == 3) || (DAT_005df2f8 == 2)) || (*(int *)(DAT_005e5010 + 0x2524) == 0)) {
        local_18[0] = 0;
        FUN_0044a650(3,0,0);
      }
      else {
        local_18[0] = 0;
        FUN_0044a320(3,0,0);
      }
    }
    iVar2 = iVar2 + 1;
    piVar4 = piVar4 + 1;
  } while (iVar2 < 5);
  local_18[1] = 0x44d8c9;
  FUN_0044d8e0();
  *(undefined4 *)(DAT_004d83a4 + 0x28) = 1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0044d8e0(void)

{
  short sVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  undefined4 uVar7;
  int iVar8;
  undefined4 *puVar9;
  float fVar10;
  float fVar11;
  
  AdjustStackForLargeAllocations();
  sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  if ((DAT_005a4b88 == 0) ||
     (iVar8 = DAT_005a4b88, *(char *)(*(int *)(DAT_005a4b88 + 4) + 0x189) == '\0')) {
    iVar8 = 0;
  }
  iVar2 = *(int *)(DAT_004d83a4 + 8);
  if (iVar8 == 0) {
    _memset((void *)(iVar2 + 0x780),0,0x100);
    _DAT_004d8468 = 0;
  }
  else {
    _DAT_004d8468 = 1;
    fVar11 = (float)(uint)*(byte *)(*(int *)(*(int *)(iVar8 + 4) + 0x86) + 4) * 0.01;
    fVar4 = DAT_005ddb08 - (DAT_005ddb08 - DAT_005dda08) * fVar11;
    if (DAT_005df2f8 == 1) {
      fVar6 = 90.0;
      fVar5 = (1.0 - fVar11) * 34.0;
      fVar11 = (float)(0x12 - sVar1);
      fVar10 = 34.0;
      if (DAT_00598944 != 0) {
        fVar6 = DAT_00598e68 - -90.0;
      }
    }
    else if (DAT_005df2f8 == 2) {
      fVar6 = 57.0;
      fVar5 = (1.0 - fVar11) * 22.0;
      fVar11 = (float)(0xb - sVar1);
      fVar10 = 22.0;
      if (DAT_00598944 != 0) {
        fVar6 = DAT_00598e68 - -57.0;
      }
    }
    else {
      fVar6 = 110.0;
      fVar5 = (1.0 - fVar11) * 44.0;
      fVar11 = (float)(0x13 - sVar1);
      fVar10 = 44.0;
      if (DAT_00598944 != 0) {
        fVar6 = DAT_00598e68 - -110.0;
      }
    }
    fVar3 = fVar10 + fVar11;
    *(float *)(iVar2 + 0x780) = fVar11;
    *(float *)(iVar2 + 0x784) = fVar6;
    fVar10 = fVar10 + fVar6;
    *(undefined4 *)(iVar2 + 0x798) = DAT_005dda8c;
    uVar7 = DAT_005dda0c;
    *(float *)(iVar2 + 0x7a0) = fVar3;
    *(undefined4 *)(iVar2 + 0x79c) = uVar7;
    *(float *)(iVar2 + 0x7a4) = fVar6;
    *(undefined4 *)(iVar2 + 0x7b8) = DAT_005ddacc;
    uVar7 = DAT_005dda0c;
    *(float *)(iVar2 + 0x7c0) = fVar3;
    *(undefined4 *)(iVar2 + 0x7bc) = uVar7;
    *(float *)(iVar2 + 0x7c4) = fVar10;
    *(undefined4 *)(iVar2 + 0x7d8) = DAT_005ddacc;
    uVar7 = DAT_005ddb0c;
    *(float *)(iVar2 + 0x7e0) = fVar11;
    *(undefined4 *)(iVar2 + 0x7dc) = uVar7;
    *(float *)(iVar2 + 0x7e4) = fVar10;
    *(undefined4 *)(iVar2 + 0x7f8) = DAT_005dda8c;
    *(undefined4 *)(iVar2 + 0x7fc) = DAT_005ddb0c;
    *(float *)(iVar2 + 0x800) = fVar11;
    *(float *)(iVar2 + 0x804) = fVar6 + fVar5;
    *(undefined4 *)(iVar2 + 0x818) = DAT_005dda88;
    *(float *)(iVar2 + 0x81c) = fVar4;
    *(float *)(iVar2 + 0x820) = fVar3;
    *(float *)(iVar2 + 0x824) = fVar6 + fVar5;
    uVar7 = DAT_005ddac8;
    *(float *)(iVar2 + 0x83c) = fVar4;
    *(undefined4 *)(iVar2 + 0x838) = uVar7;
    *(float *)(iVar2 + 0x840) = fVar3;
    *(float *)(iVar2 + 0x844) = fVar10;
    *(undefined4 *)(iVar2 + 0x858) = DAT_005ddac8;
    fVar4 = DAT_005ddb08;
    *(float *)(iVar2 + 0x860) = fVar11;
    *(float *)(iVar2 + 0x85c) = fVar4;
    *(float *)(iVar2 + 0x864) = fVar10;
    *(undefined4 *)(iVar2 + 0x878) = DAT_005dda88;
    *(float *)(iVar2 + 0x87c) = DAT_005ddb08;
  }
  puVar9 = (undefined4 *)(iVar2 + 0x790);
  iVar8 = 8;
  do {
    *puVar9 = DAT_004d80f4;
    puVar9 = puVar9 + 8;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0044dc30(void)

{
  void *pvVar1;
  LSTATUS LVar2;
  undefined1 *puVar3;
  int iVar4;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 0x5b;
  iVar4 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x5b);
  pvVar1 = _memset(pvVar1,iVar4,_Size);
  if (pvVar1 == (void *)0x0) {
    return 0;
  }
  LVar2 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004cd44c,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_004d8678);
  if ((LVar2 == 0) && (HKEY_00598b70 != (HKEY)0x0)) {
    iVar4 = FUN_004674d0(s_KeyDefinitions_004cd46c,pvVar1,&stack0xfffffff8);
    if (iVar4 == 0) {
      puVar3 = &DAT_005dce20;
      do {
        iVar4 = 0;
        do {
          if (*(char *)((int)pvVar1 + (int)(puVar3 + iVar4 + -0x5dce20)) == -1) {
            puVar3[iVar4] = 0;
          }
          else {
            puVar3[iVar4] = *(char *)((int)pvVar1 + (int)(puVar3 + iVar4 + -0x5dce20));
          }
          iVar4 = iVar4 + 1;
        } while (iVar4 < 3);
        puVar3 = puVar3 + 3;
      } while ((int)puVar3 < 0x5dce7a);
      iVar4 = FUN_004674d0(s_MouseMovementSensitivity_004cd47c,pvVar1,&stack0xfffffff8);
      if (iVar4 == 0) {
        iVar4 = FUN_004adb80(pvVar1);
        _DAT_004cd118 = (float)iVar4 * 0.01 - -0.5;
        iVar4 = FUN_004674d0(s_JoystickRotateSensitivity_004cd498,pvVar1,&stack0xfffffff8);
        if (iVar4 == 0) {
          iVar4 = FUN_004adb80(pvVar1);
          _DAT_004cd11c = (float)iVar4 * 0.1;
          _DAT_004cd120 = _DAT_004cd11c;
          RegCloseKey(HKEY_00598b70);
          return 1;
        }
      }
    }
    else {
      FUN_004ad7a0(&DAT_005dcdc0,&DAT_004cd3f0,0x5a);
    }
    return 0;
  }
  return 1;
}



undefined4 FUN_0044ddb0(void)

{
  char cVar1;
  void *pvVar2;
  LSTATUS LVar3;
  int iVar4;
  undefined4 uVar5;
  void *pvVar6;
  int iVar7;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 0x5b;
  iVar7 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x5b);
  pvVar2 = _memset(pvVar2,iVar7,_Size);
  if (pvVar2 == (void *)0x0) {
    return 0;
  }
  LVar3 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004cd4b4,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_004d8678);
  if ((LVar3 == 0) && (HKEY_00598b70 != (HKEY)0x0)) {
    iVar7 = 0x1e;
    pvVar6 = pvVar2;
    do {
      iVar4 = 0;
      do {
        cVar1 = *(char *)((int)pvVar6 + (int)&DAT_005dcdc0 + (iVar4 - (int)pvVar2));
        if (cVar1 == '\0') {
          *(undefined *)(iVar4 + (int)pvVar6) = 0xff;
        }
        else {
          *(char *)(iVar4 + (int)pvVar6) = cVar1;
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < 3);
      pvVar6 = (void *)((int)pvVar6 + 3);
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
    FUN_00467470(s_KeyDefinitions_004cd4d4,pvVar2,0x5b);
    uVar5 = __ftol(pvVar2,10);
    FUN_004ae5f0(uVar5);
    FUN_00467470(s_MouseMovementSensitivity_004cd4e4,pvVar2,0x5b);
    uVar5 = __ftol();
    FUN_004ae5f0(uVar5,pvVar2,10);
    FUN_00467470(s_JoystickRotateSensitivity_004cd500,pvVar2,0x5b);
    RegCloseKey(HKEY_00598b70);
  }
  return 1;
}



int FUN_0044dee0(void)

{
  int iVar1;
  
  iVar1 = FUN_0044dc30();
  if (iVar1 != 0) {
    FUN_004ad7a0(&DAT_005dcdc0,&DAT_005dce20,0x5a);
  }
  FUN_00447b80();
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0044df10(HWND param_1,uint param_2,uint param_3,LONG param_4)

{
  uint uVar1;
  HWND pHVar2;
  LRESULT LVar3;
  INT_PTR IVar4;
  HWND hWnd;
  int iVar5;
  undefined4 *puVar6;
  CHAR local_84;
  undefined4 local_83;
  undefined4 uStackY_28;
  UINT UVar7;
  WPARAM WVar8;
  LPSTR lpString;
  LPARAM LVar9;
  
  AdjustStackForLargeAllocations();
  local_84 = '\0';
  puVar6 = &local_83;
  for (iVar5 = 0x1f; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar6 = 0;
    puVar6 = puVar6 + 1;
  }
  *(undefined2 *)puVar6 = 0;
  *(undefined *)((int)puVar6 + 2) = 0;
  if (param_2 < 0x4f) {
    if (((param_2 == 0x4e) && (param_3 >> 0x10 != 0x300)) && (param_3 >> 0x10 == 0x700)) {
      GetKeyNameTextA(param_4,&local_84,0x18);
      uVar1 = FUN_0044ec80();
      SetDlgItemTextA(param_1,uVar1 & 0xffff,&local_84);
      return 0;
    }
  }
  else if (param_2 == 0x110) {
    SetWindowTextA(param_1,DAT_005df1a4);
    pHVar2 = GetDlgItem(param_1,0x4df);
    SetWindowTextA(pHVar2,DAT_005df1a4);
    pHVar2 = GetDlgItem(param_1,0x491);
    SetWindowTextA(pHVar2,DAT_005df084);
    pHVar2 = GetDlgItem(param_1,1);
    SetWindowTextA(pHVar2,DAT_005df07c);
    pHVar2 = GetDlgItem(param_1,2);
    SetWindowTextA(pHVar2,DAT_005df03c);
    pHVar2 = GetDlgItem(param_1,0x4b1);
    SetWindowTextA(pHVar2,DAT_005df094);
    pHVar2 = GetDlgItem(param_1,0x4b4);
    SetWindowTextA(pHVar2,DAT_005df098);
    pHVar2 = GetDlgItem(param_1,0x4b5);
    SetWindowTextA(pHVar2,DAT_005df09c);
    pHVar2 = GetDlgItem(param_1,0x4b6);
    SetWindowTextA(pHVar2,DAT_005df0a0);
    pHVar2 = GetDlgItem(param_1,0x4b7);
    SetWindowTextA(pHVar2,DAT_005df0a4);
    pHVar2 = GetDlgItem(param_1,0x4b8);
    SetWindowTextA(pHVar2,DAT_005df0a8);
    pHVar2 = GetDlgItem(param_1,0x4b9);
    SetWindowTextA(pHVar2,DAT_005df0ac);
    pHVar2 = GetDlgItem(param_1,0x4ba);
    SetWindowTextA(pHVar2,DAT_005df0b0);
    pHVar2 = GetDlgItem(param_1,0x4bb);
    SetWindowTextA(pHVar2,DAT_005df0b4);
    pHVar2 = GetDlgItem(param_1,0x4bc);
    SetWindowTextA(pHVar2,DAT_005df0b8);
    pHVar2 = GetDlgItem(param_1,0x4bd);
    SetWindowTextA(pHVar2,DAT_005df0bc);
    pHVar2 = GetDlgItem(param_1,0x4be);
    SetWindowTextA(pHVar2,DAT_005df0c0);
    pHVar2 = GetDlgItem(param_1,0x4bf);
    SetWindowTextA(pHVar2,DAT_005df0c4);
    pHVar2 = GetDlgItem(param_1,0x4c0);
    SetWindowTextA(pHVar2,DAT_005df0c8);
    pHVar2 = GetDlgItem(param_1,0x4c1);
    SetWindowTextA(pHVar2,DAT_005df0cc);
    pHVar2 = GetDlgItem(param_1,0x4c2);
    SetWindowTextA(pHVar2,DAT_005df0d0);
    pHVar2 = GetDlgItem(param_1,0x4c3);
    SetWindowTextA(pHVar2,DAT_005df02c);
    pHVar2 = GetDlgItem(param_1,0x4d9);
    SetWindowTextA(pHVar2,DAT_005df19c);
    pHVar2 = GetDlgItem(param_1,0x4db);
    SetWindowTextA(pHVar2,DAT_005df19c);
    pHVar2 = GetDlgItem(param_1,0x4da);
    SetWindowTextA(pHVar2,DAT_005df1a0);
    pHVar2 = GetDlgItem(param_1,0x4dc);
    SetWindowTextA(pHVar2,DAT_005df1a0);
    pHVar2 = GetDlgItem(param_1,0x4d7);
    SetWindowTextA(pHVar2,DAT_005df194);
    pHVar2 = GetDlgItem(param_1,0x4d8);
    SetWindowTextA(pHVar2,DAT_005df198);
    pHVar2 = GetDlgItem(param_1,0x420);
    SendMessageA(pHVar2,0x406,1,0x640000);
    LVar9 = 0xf0005;
    WVar8 = 1;
    UVar7 = 0x406;
    uStackY_28 = 0x44e40c;
    hWnd = GetDlgItem(param_1,0x4c6);
    SendMessageA(hWnd,UVar7,WVar8,LVar9);
    iVar5 = FUN_0044dc30();
    if (iVar5 == 0) {
      FUN_004ad7a0();
    }
    LVar9 = __ftol();
    SendMessageA(pHVar2,0x405,1,LVar9);
    LVar9 = __ftol();
    WVar8 = 1;
    UVar7 = 0x405;
    uStackY_28 = 0x44e472;
    pHVar2 = GetDlgItem(param_1,0x4c6);
    SendMessageA(pHVar2,UVar7,WVar8,LVar9);
    FUN_004ad7a0();
    FUN_0044ea70();
    FUN_0044f210();
    DAT_004d8680._0_1_ = 0;
  }
  else if ((param_2 == 0x111) && (DAT_00598d44 == '\0')) {
    param_3 = param_3 & 0xffff;
    switch(param_3) {
    case 0x42a:
    case 0x435:
    case 0x436:
    case 0x439:
    case 0x43a:
    case 0x43b:
    case 0x43c:
    case 0x43d:
    case 0x43e:
    case 0x43f:
    case 0x440:
    case 0x441:
    case 0x443:
switchD_0044e0b6_caseD_42a:
      _DAT_004d8688 = FUN_0044f110();
      iVar5 = 0x100;
      lpString = &DAT_004d8578;
      DAT_004d868c = param_3;
      pHVar2 = GetDlgItem(param_1,_DAT_004d8688);
      GetWindowTextA(pHVar2,lpString,iVar5);
      DAT_004d8470 = FUN_0044ef00();
      if (DAT_004d8470 != 0xff) {
        uStackY_28 = 0x44e11d;
        IVar4 = DialogBoxParamA(DAT_005d6504,(LPCSTR)0xb2,(HWND)0x0,FUN_0044e530,0);
        if ((IVar4 == 1) && (FUN_0044eb90(), DAT_004cd124 != -1)) {
          DAT_004d868c = FUN_0044f010();
          FUN_0044eb90();
        }
      }
      LVar9 = 0;
      WVar8 = 0;
      UVar7 = 8;
      uStackY_28 = 0x44e16f;
      pHVar2 = GetDlgItem(param_1,param_3);
      SendMessageA(pHVar2,UVar7,WVar8,LVar9);
      return 0;
    case 0x42b:
    case 0x42c:
    case 0x42d:
    case 0x42e:
    case 0x42f:
    case 0x430:
    case 0x431:
    case 0x432:
    case 0x433:
    case 0x434:
    case 0x437:
    case 0x438:
    case 0x442:
    case 0x444:
    case 0x445:
    case 0x446:
    case 0x447:
    case 0x448:
    case 0x449:
    case 0x44a:
    case 1099:
    case 0x44c:
    case 0x44d:
    case 0x44e:
    case 0x44f:
    case 0x450:
    case 0x451:
    case 0x452:
    case 0x453:
    case 0x454:
    case 0x455:
    case 0x456:
    case 0x457:
    case 0x458:
    case 0x459:
    case 0x45a:
    case 0x45b:
    case 0x45c:
    case 0x45d:
    case 0x45e:
    case 0x45f:
    case 0x460:
    case 0x461:
    case 0x462:
    case 0x463:
    case 0x464:
    case 0x465:
    case 0x466:
    case 0x467:
    case 0x468:
    case 0x469:
    case 0x46a:
    case 0x46b:
    case 0x46c:
    case 0x46d:
    case 0x46e:
    case 0x46f:
    case 0x470:
    case 0x471:
    case 0x472:
    case 0x473:
    case 0x474:
    case 0x475:
    case 0x476:
    case 0x477:
    case 0x478:
    case 0x479:
    case 0x47a:
    case 0x47b:
    case 0x47c:
    case 0x47d:
    case 0x47e:
    case 0x47f:
    case 0x480:
    case 0x481:
    case 0x482:
    case 0x483:
    case 0x484:
    case 0x485:
    case 0x486:
    case 0x487:
    case 0x488:
    case 0x489:
    case 0x48a:
    case 0x48b:
    case 0x48c:
    case 0x48d:
    case 0x48e:
    case 0x48f:
    case 0x490:
      break;
    case 0x491:
      FUN_004ad7a0();
      FUN_0044ea70();
      LVar9 = 0x32;
      WVar8 = 1;
      UVar7 = 0x405;
      uStackY_28 = 0x44e1b8;
      pHVar2 = GetDlgItem(param_1,0x420);
      SendMessageA(pHVar2,UVar7,WVar8,LVar9);
      LVar9 = 10;
      WVar8 = 1;
      UVar7 = 0x405;
      uStackY_28 = 0x44e1d2;
      pHVar2 = GetDlgItem(param_1,0x4c6);
      SendMessageA(pHVar2,UVar7,WVar8,LVar9);
      return 0;
    default:
      if (0x424 < param_3) goto switchD_0044e0b6_caseD_42a;
      if (param_3 == 1) {
        FUN_0044f3b0();
        FUN_004ad7a0();
        FUN_00447b80();
        LVar9 = 0;
        WVar8 = 0;
        UVar7 = 0x400;
        uStackY_28 = 0x44e039;
        pHVar2 = GetDlgItem(param_1,0x420);
        LVar3 = SendMessageA(pHVar2,UVar7,WVar8,LVar9);
        LVar9 = 0;
        WVar8 = 0;
        UVar7 = 0x400;
        _DAT_004cd118 = (float)LVar3 * 0.01 - -0.5;
        uStackY_28 = 0x44e06b;
        pHVar2 = GetDlgItem(param_1,0x4c6);
        LVar3 = SendMessageA(pHVar2,UVar7,WVar8,LVar9);
        _DAT_004cd11c = (float)LVar3 * 0.1;
        _DAT_004cd120 = _DAT_004cd11c;
        FUN_0044ddb0();
        EndDialog(param_1,1);
        return 0;
      }
      if (param_3 == 2) {
        FUN_0044f3b0();
        EndDialog(param_1,0);
        return 0;
      }
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0044e530(HWND param_1,int param_2,short param_3)

{
  char cVar1;
  int iVar2;
  HWND pHVar3;
  char *pcVar4;
  int unaff_EBX;
  int unaff_ESI;
  int unaff_EDI;
  UINT Msg;
  int iVar5;
  WPARAM wParam;
  LPARAM lParam;
  LPCSTR pCVar6;
  
  AdjustStackForLargeAllocations();
  wParam = DAT_004d8694;
  iVar5 = DAT_004d8470;
  cVar1 = DAT_004d8234;
  if (DAT_004d8234 == '\0') {
    if (param_2 == 0xf) {
      DAT_004d86a0 = DAT_004d86a0 + 1;
      if ((100 < DAT_004d86a0) && (DAT_004d869c == 0)) {
        DAT_004d869c = 1;
        FUN_00446c80();
      }
    }
    else {
      if (param_2 == 0x110) {
        if (DAT_004cd128 != 0) {
          pCVar6 = &DAT_004d8578;
          pHVar3 = GetDlgItem(param_1,0x4c7);
          SetWindowTextA(pHVar3,pCVar6);
          pCVar6 = DAT_005df258;
          pHVar3 = GetDlgItem(param_1,0x4e0);
          SetWindowTextA(pHVar3,pCVar6);
          pHVar3 = GetParent(param_1);
          if (pHVar3 == (HWND)0x0) {
            pHVar3 = GetDesktopWindow();
          }
          GetWindowRect(pHVar3,(LPRECT)&stack0xffffffdc);
          iVar5 = 0x44e85f;
          pHVar3 = param_1;
          GetWindowRect(param_1,(LPRECT)&stack0xffffffec);
          SetWindowPos(param_1,(HWND)0x0,(iVar5 >> 1) - (unaff_ESI + -0x41 >> 1),
                       ((int)pHVar3 >> 1) - (unaff_EBX - unaff_EDI >> 1),0,0,0x41);
          UpdateWindow(param_1);
          DAT_004d8234 = '\0';
          DAT_004cd128 = 0;
          DAT_004d8698 = 0;
          _memset(&DAT_004d8478,0,0x100);
          DAT_004d869c = 0;
        }
        return 1;
      }
      if (param_2 != 0x111) {
        return 0;
      }
      if (param_3 != 1) {
        if (param_3 == 2) {
          DAT_004d8684 = 0;
          DAT_004cd128 = 1;
          EndDialog(param_1,1);
          return 1;
        }
        return 1;
      }
      if (DAT_004d8698 != 0) {
        EndDialog(param_1,1);
        DAT_004cd128 = 1;
        return 1;
      }
    }
    return 1;
  }
  if ((((((DAT_004d8234 == '\x14') || (DAT_004d8234 == 'N')) || (DAT_004d8234 == 'J')) ||
       ((DAT_004d8234 == '\x01' || (DAT_004d8234 == '\x02')))) || (DAT_004d8234 == '\x03')) ||
     (((DAT_004d8234 == '\x04' || (DAT_004d8234 == '\x05')) || (DAT_004d8234 == '\x06')))) {
    DAT_004d8234 = 0;
    DAT_004d8698 = 1;
    DAT_004cd128 = 1;
    _DAT_004d86a4 = 1;
    EndDialog(param_1,0);
    return 1;
  }
  if ((((DAT_004d8694 == 2) || (DAT_004d8694 == 1)) &&
      ((DAT_004d8470 == 0 || (((DAT_004d8470 == 1 || (DAT_004d8470 == 2)) || (DAT_004d8470 == 3)))))
      ) && (((DAT_004d8234 == -0x18 || (DAT_004d8234 == -0x17)) ||
            ((((DAT_004d8234 == -0x16 ||
               ((((DAT_004d8234 == -0x15 || (DAT_004d8234 == -0x14)) ||
                 ((DAT_004d8234 == -0x13 ||
                  (((DAT_004d8234 == -0x12 || (DAT_004d8234 == -0x11)) || (DAT_004d8234 == -0x10))))
                 )) || ((DAT_004d8234 == -0xf || (DAT_004d8234 == -0xe)))))) ||
              (DAT_004d8234 == -0xd)) ||
             (((DAT_004d8234 == -0xc || (DAT_004d8234 == -0xb)) || (DAT_004d8234 == -10)))))))) {
    DAT_004d8234 = 0;
    DAT_004d8698 = 1;
    DAT_004cd128 = 1;
    _DAT_004d86a4 = 1;
    EndDialog(param_1,0);
    return 1;
  }
  DAT_004cd124 = -1;
  iVar2 = 0;
  pcVar4 = &DAT_005dce20 + DAT_004d8694;
  do {
    if (*pcVar4 == DAT_004d8234) {
      DAT_004cd124 = iVar2;
      (&DAT_005dce20)[DAT_004d8694 + iVar2 * 3] = 0;
      break;
    }
    iVar2 = iVar2 + 1;
    pcVar4 = pcVar4 + 3;
  } while (iVar2 < 0x1e);
  iVar2 = DAT_004d8690;
  lParam = 0;
  Msg = 0x14e;
  (&DAT_005dce20)[wParam + iVar5 * 3] = cVar1;
  pHVar3 = GetDlgItem(param_1,iVar2);
  SendMessageA(pHVar3,Msg,wParam,lParam);
  FUN_0044f560();
  DAT_004d8234 = 0;
  DAT_004d8698 = 1;
  DAT_004cd128 = 1;
  _DAT_004d86a4 = 1;
  EndDialog(param_1,1);
  return 1;
}



void FUN_0044e910(HWND param_1)

{
  CHAR local_a0 [52];
  CHAR local_6c [52];
  CHAR local_38 [20];
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  uStackY_24 = 0x44e935;
  SendMessageA(param_1,0x144,0,0);
  uStackY_24 = 0x44e941;
  SendMessageA(param_1,0x144,1,0);
  uStackY_24 = 0x44e94d;
  SendMessageA(param_1,0x144,2,0);
  uStackY_24 = 0x44e967;
  LoadStringA(DAT_005d63e0,0x171,local_6c,0x32);
  uStackY_24 = 0x44e975;
  SendMessageA(param_1,0x14a,0,(LPARAM)local_6c);
  uStackY_24 = 0x44e989;
  LoadStringA(DAT_005d63e0,0x172,local_38,0x32);
  uStackY_24 = 0x44e997;
  SendMessageA(param_1,0x14a,1,(LPARAM)local_38);
  uStackY_24 = 0x44e9ae;
  LoadStringA(DAT_005d63e0,0x173,local_a0,0x32);
  uStackY_24 = 0x44e9bf;
  SendMessageA(param_1,0x14a,2,(LPARAM)local_a0);
  uStackY_24 = 0x44e9cb;
  SendMessageA(param_1,0x14e,0,0);
  return;
}



void FUN_0044e9e0(HWND param_1,uint param_2)

{
  HWND hWnd;
  uint uVar1;
  UINT Msg;
  WPARAM wParam;
  LPARAM lParam;
  
  AdjustStackForLargeAllocations();
  lParam = 0;
  wParam = 0;
  Msg = 0x147;
  hWnd = GetDlgItem(param_1,param_2 & 0xffff);
  SendMessageA(hWnd,Msg,wParam,lParam);
  uVar1 = FUN_0044ecf0();
  FUN_0044ef00();
  FUN_0044f560();
  SetDlgItemTextA(param_1,uVar1 & 0xffff,&stack0xffffffe4);
  return;
}



void FUN_0044ea70(undefined4 param_1)

{
  FUN_0044eb90(2,0x42a,param_1);
  FUN_0044eb90(3,0x425,param_1);
  FUN_0044eb90(0,0x435,param_1);
  FUN_0044eb90(1,0x436,param_1);
  FUN_0044eb90(4,0x427,param_1);
  FUN_0044eb90(5,0x426,param_1);
  FUN_0044eb90(6,0x439,param_1);
  FUN_0044eb90(8,0x43a,param_1);
  FUN_0044eb90(9,0x43b,param_1);
  FUN_0044eb90(10,0x43c,param_1);
  FUN_0044eb90(0x15,0x43d,param_1);
  FUN_0044eb90(0x17,0x440,param_1);
  FUN_0044eb90(0xd,0x43e,param_1);
  FUN_0044eb90(0x13,0x441,param_1);
  FUN_0044eb90(0x14,0x43f,param_1);
  FUN_0044eb90(7,0x443,param_1);
  FUN_0044eb90(0x16,0x442,param_1);
  return;
}



void FUN_0044eb90(int param_1,int param_2,HWND param_3)

{
  bool bVar1;
  int iVar2;
  undefined4 *puVar3;
  char local_c4;
  undefined4 local_c3;
  char local_44;
  undefined4 local_43;
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  local_c4 = '\0';
  puVar3 = &local_c3;
  for (iVar2 = 0x1f; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = 0;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = 0;
  *(undefined *)((int)puVar3 + 2) = 0;
  local_44 = '\0';
  puVar3 = &local_43;
  for (iVar2 = 0xf; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = 0;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = 0;
  *(undefined *)((int)puVar3 + 2) = 0;
  bVar1 = true;
  if ((((param_1 == 0) || (param_1 == 1)) || (param_1 == 2)) || (param_1 == 3)) {
    if ((&DAT_005dce20)[param_1 * 3] != '\0') {
      FUN_0044f560();
      FID_conflict__strcat(&local_c4,&local_44);
    }
  }
  else {
    iVar2 = 0;
    do {
      if ((&DAT_005dce20)[iVar2 + param_1 * 3] != '\0') {
        if (!bVar1) {
          FID_conflict__strcat(&local_c4,&DAT_004cd544);
        }
        FUN_0044f560();
        FID_conflict__strcat(&local_c4,&local_44);
        bVar1 = false;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 3);
  }
  uStackY_1c = 0x44ec79;
  SetDlgItemTextA(param_3,param_2,&local_c4);
  return;
}



undefined2 FUN_0044ec80(uint param_1,uint param_2,HWND param_3)

{
  undefined uVar1;
  undefined2 uVar2;
  int iVar3;
  HWND hWnd;
  LRESULT LVar4;
  UINT Msg;
  WPARAM wParam;
  LPARAM lParam;
  
  param_1 = (int)param_1 >> 9 & 0xff;
  iVar3 = FUN_0044ef00(param_2);
  uVar2 = FUN_0044ee00(param_2);
  lParam = 0;
  wParam = 0;
  Msg = 0x147;
  hWnd = GetDlgItem(param_3,param_2 & 0xffff);
  LVar4 = SendMessageA(hWnd,Msg,wParam,lParam);
  uVar1 = FUN_00448b30(param_1);
  (&DAT_005dce20)[LVar4 + iVar3 * 3] = uVar1;
  return uVar2;
}



int FUN_0044ecf0(uint param_1)

{
  ushort uVar1;
  
  uVar1 = (ushort)((param_1 & 0xffff) - 0x487 >> 0x10);
  switch(param_1 & 0xffff) {
  case 0x487:
    return CONCAT22(uVar1,0x42a);
  default:
    return (uint)uVar1 << 0x10;
  case 0x49e:
    return CONCAT22(uVar1,0x436);
  case 0x49f:
    return CONCAT22(uVar1,0x425);
  case 0x4a1:
    return CONCAT22(uVar1,0x427);
  case 0x4a2:
    return CONCAT22(uVar1,0x426);
  case 0x4a3:
    return CONCAT22(uVar1,0x439);
  case 0x4a4:
    return CONCAT22(uVar1,0x43a);
  case 0x4a5:
    return CONCAT22(uVar1,0x43b);
  case 0x4a9:
    return CONCAT22(uVar1,0x435);
  case 0x4aa:
    return CONCAT22(uVar1,0x440);
  case 0x4ab:
    return CONCAT22(uVar1,0x441);
  case 0x4ac:
    return CONCAT22(uVar1,0x43c);
  case 0x4ad:
    return CONCAT22(uVar1,0x43f);
  case 0x4ae:
    return CONCAT22(uVar1,0x43d);
  case 0x4af:
    return CONCAT22(uVar1,0x43e);
  case 0x4b2:
    return CONCAT22(uVar1,0x443);
  case 0x4b3:
    return CONCAT22(uVar1,0x442);
  }
}



int FUN_0044ee00(uint param_1)

{
  ushort uVar1;
  
  uVar1 = (ushort)((param_1 & 0xffff) - 0x425 >> 0x10);
  switch(param_1 & 0xffff) {
  case 0x425:
    return CONCAT22(uVar1,0x49f);
  case 0x426:
    return CONCAT22(uVar1,0x4a2);
  case 0x427:
    return CONCAT22(uVar1,0x4a1);
  default:
    return (uint)uVar1 << 0x10;
  case 0x42a:
    return CONCAT22(uVar1,0x487);
  case 0x435:
    return CONCAT22(uVar1,0x4a9);
  case 0x436:
    return CONCAT22(uVar1,0x49e);
  case 0x439:
    return CONCAT22(uVar1,0x4a3);
  case 0x43a:
    return CONCAT22(uVar1,0x4a4);
  case 0x43b:
    return CONCAT22(uVar1,0x4a5);
  case 0x43c:
    return CONCAT22(uVar1,0x4ac);
  case 0x43d:
    return CONCAT22(uVar1,0x4ae);
  case 0x43e:
    return CONCAT22(uVar1,0x4af);
  case 0x43f:
    return CONCAT22(uVar1,0x4ad);
  case 0x440:
    return CONCAT22(uVar1,0x4aa);
  case 0x441:
    return CONCAT22(uVar1,0x4ab);
  case 0x442:
    return CONCAT22(uVar1,0x4b3);
  case 0x443:
    return CONCAT22(uVar1,0x4b2);
  }
}



undefined4 FUN_0044ef00(undefined2 param_1)

{
  switch(param_1) {
  case 0x425:
    return 3;
  case 0x426:
    return 5;
  case 0x427:
    return 4;
  default:
    return 0xff;
  case 0x42a:
    return 2;
  case 0x435:
    return 0;
  case 0x436:
    return 1;
  case 0x439:
    return 6;
  case 0x43a:
    return 8;
  case 0x43b:
    return 9;
  case 0x43c:
    return 10;
  case 0x43d:
    return 0x15;
  case 0x43e:
    return 0xd;
  case 0x43f:
    return 0x14;
  case 0x440:
    return 0x17;
  case 0x441:
    return 0x13;
  case 0x442:
    return 0x16;
  case 0x443:
    return 7;
  }
}



undefined4 FUN_0044f010(undefined2 param_1)

{
  switch(param_1) {
  case 0:
    return 0x435;
  case 1:
    return 0x436;
  case 2:
    return 0x42a;
  case 3:
    return 0x425;
  case 4:
    return 0x427;
  case 5:
    return 0x426;
  case 6:
    return 0x439;
  case 7:
    return 0x443;
  case 8:
    return 0x43a;
  case 9:
    return 0x43b;
  case 10:
    return 0x43c;
  default:
    return 0;
  case 0xd:
    return 0x43e;
  case 0x13:
    return 0x441;
  case 0x14:
    return 0x43f;
  case 0x15:
    return 0x43d;
  case 0x16:
    return 0x442;
  case 0x17:
    return 0x440;
  }
}



int FUN_0044f110(uint param_1)

{
  int iVar1;
  
  iVar1 = (param_1 & 0xffff) - 0x425;
  switch(param_1 & 0xffff) {
  case 0x425:
    return 0x4b4;
  case 0x426:
    return 0x4b8;
  case 0x427:
    return 0x4b7;
  case 0x42a:
    return 0x4b1;
  case 0x435:
    return 0x4b5;
  case 0x436:
    return 0x4b6;
  case 0x439:
    return 0x4b9;
  case 0x43a:
    return 0x4ba;
  case 0x43b:
    return 0x4bb;
  case 0x43c:
    return 0x4bc;
  case 0x43d:
    return 0x4bd;
  case 0x43e:
    return 0x4bf;
  case 0x43f:
    return 0x4c0;
  case 0x440:
    return 0x4be;
  case 0x441:
    return 0x4c1;
  case 0x443:
    iVar1 = 0x4b2;
  }
  return iVar1;
}



undefined4 FUN_0044f210(void)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  
  AdjustStackForLargeAllocations();
  if ((DAT_005de230 != 0) &&
     (unaff_ESI = (**(code **)(*DAT_005ddc24 + 0x20))(DAT_005ddc24), -1 < unaff_ESI)) {
    DAT_005de230 = 0;
  }
  if (((DAT_004d8378 != 0) && (DAT_004d837c != 0)) &&
     (unaff_ESI = (**(code **)(*DAT_004d8374 + 0x20))(DAT_004d8374), -1 < unaff_ESI)) {
    DAT_004d8378 = 0;
  }
  if ((DAT_005ddf20 != 0) &&
     (unaff_ESI = (**(code **)(*DAT_005ddc20 + 0x20))(DAT_005ddc20), -1 < unaff_ESI)) {
    DAT_005ddf20 = 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x34))(DAT_005ddc24,DAT_005d6530,10);
  if (iVar1 != 0) {
    FUN_004491c0(unaff_ESI);
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
  if (iVar1 < 0) {
    FUN_004491c0(iVar1);
  }
  DAT_005de230 = (uint)(iVar1 >= 0);
  iVar2 = (**(code **)(*DAT_005ddc20 + 0x34))(DAT_005ddc20,DAT_005d6530,10);
  if (iVar2 != 0) {
    FUN_004491c0(iVar1);
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
  if (iVar1 < 0) {
    FUN_004491c0(iVar1);
    DAT_005ddf20 = 0;
  }
  else {
    DAT_005ddf20 = 1;
    FUN_00446d40();
  }
  if (DAT_004d837c != 0) {
    iVar2 = (**(code **)(*DAT_004d8374 + 0x34))(DAT_004d8374,DAT_005d6530,10);
    if (iVar2 != 0) {
      FUN_004491c0(iVar1);
      return 0;
    }
    iVar1 = (**(code **)(*DAT_004d8374 + 0x1c))(DAT_004d8374);
    if (-1 < iVar1) {
      DAT_004d8378 = 1;
      return 1;
    }
    FUN_004491c0(iVar1);
    DAT_004d8378 = 0;
  }
  return 1;
}



undefined4 FUN_0044f3b0(void)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  
  AdjustStackForLargeAllocations();
  if ((DAT_005de230 != 0) &&
     (unaff_ESI = (**(code **)(*DAT_005ddc24 + 0x20))(DAT_005ddc24), -1 < unaff_ESI)) {
    DAT_005de230 = 0;
  }
  if (((DAT_004d8378 != 0) && (DAT_004d837c != 0)) &&
     (unaff_ESI = (**(code **)(*DAT_004d8374 + 0x20))(DAT_004d8374), -1 < unaff_ESI)) {
    DAT_004d8378 = 0;
  }
  if ((DAT_005ddf20 != 0) &&
     (unaff_ESI = (**(code **)(*DAT_005ddc20 + 0x20))(DAT_005ddc20), -1 < unaff_ESI)) {
    DAT_005ddf20 = 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x34))(DAT_005ddc24,DAT_005d6530,6);
  if (iVar1 != 0) {
    FUN_004491c0(unaff_ESI);
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc24 + 0x1c))(DAT_005ddc24);
  if (iVar1 < 0) {
    FUN_004491c0(iVar1);
  }
  DAT_005de230 = (uint)(iVar1 >= 0);
  iVar2 = (**(code **)(*DAT_005ddc20 + 0x34))(DAT_005ddc20,DAT_005d6530,6);
  if (iVar2 != 0) {
    FUN_004491c0(iVar1);
    return 0;
  }
  iVar1 = (**(code **)(*DAT_005ddc20 + 0x1c))(DAT_005ddc20);
  if (iVar1 < 0) {
    FUN_004491c0(iVar1);
    DAT_005ddf20 = 0;
  }
  else {
    DAT_005ddf20 = 1;
    FUN_00446d40();
  }
  if (DAT_004d837c != 0) {
    iVar2 = (**(code **)(*DAT_004d8374 + 0x34))(DAT_004d8374,DAT_005d6530,6);
    if (iVar2 != 0) {
      FUN_004491c0(iVar1);
      return 0;
    }
    iVar1 = (**(code **)(*DAT_004d8374 + 0x1c))(DAT_004d8374);
    if (-1 < iVar1) {
      DAT_004d8378 = 1;
      return 1;
    }
    FUN_004491c0(iVar1);
    DAT_004d8378 = 0;
  }
  return 1;
}



undefined4 FUN_0044f550(void)

{
  return 0;
}



void FUN_0044f560(undefined param_1,char *param_2)

{
  int iVar1;
  
  iVar1 = FUN_0043ff50();
  switch(param_1) {
  case 0:
    FID_conflict___mbscpy(param_2,&DAT_004cd728);
    return;
  case 1:
    FID_conflict___mbscpy(param_2,DAT_005def64);
    return;
  case 2:
    FID_conflict___mbscpy(param_2,&DAT_004cd548);
    return;
  case 3:
    FID_conflict___mbscpy(param_2,&DAT_004cd54c);
    return;
  case 4:
    FID_conflict___mbscpy(param_2,&DAT_004cd550);
    return;
  case 5:
    FID_conflict___mbscpy(param_2,&DAT_004cd554);
    return;
  case 6:
    FID_conflict___mbscpy(param_2,&DAT_004cd558);
    return;
  case 7:
    FID_conflict___mbscpy(param_2,&DAT_004cd55c);
    return;
  case 8:
    FID_conflict___mbscpy(param_2,&DAT_004cd560);
    return;
  case 9:
    FID_conflict___mbscpy(param_2,&DAT_004cd564);
    return;
  case 10:
    FID_conflict___mbscpy(param_2,&DAT_004cd568);
    return;
  case 0xb:
    FID_conflict___mbscpy(param_2,&DAT_004cd56c);
    return;
  case 0xc:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd570);
      return;
    case 1:
      *param_2 = -0x1f;
      param_2[1] = '\0';
      return;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd574);
      return;
    case 3:
      FID_conflict___mbscpy(param_2,&DAT_004cd578);
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd57c);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd580);
      return;
    case 6:
      FID_conflict___mbscpy(param_2,&DAT_004cd584);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd588);
      return;
    }
    break;
  case 0xd:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd58c);
      return;
    case 1:
      FID_conflict___mbscpy(param_2,&DAT_004cd590);
      return;
    case 2:
    case 3:
      *param_2 = -0x53;
      param_2[1] = '\0';
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd594);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd598);
      return;
    case 6:
      FID_conflict___mbscpy(param_2,&DAT_004cd59c);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd5a0);
      return;
    }
    break;
  case 0xe:
    FID_conflict___mbscpy(param_2,DAT_005def68);
    return;
  case 0xf:
    FID_conflict___mbscpy(param_2,DAT_005def6c);
    return;
  case 0x10:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd5a8);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd5a4);
    return;
  case 0x11:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd5b0);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd5ac);
    return;
  case 0x12:
    FID_conflict___mbscpy(param_2,&DAT_004cd5b4);
    return;
  case 0x13:
    FID_conflict___mbscpy(param_2,&DAT_004cd5b8);
    return;
  case 0x14:
    FID_conflict___mbscpy(param_2,&DAT_004cd5bc);
    return;
  case 0x15:
    if (iVar1 != 1) {
      FID_conflict___mbscpy(param_2,&DAT_004cd5c4);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd5c0);
    return;
  case 0x16:
    FID_conflict___mbscpy(param_2,&DAT_004cd5c8);
    return;
  case 0x17:
    FID_conflict___mbscpy(param_2,&DAT_004cd5cc);
    return;
  case 0x18:
    FID_conflict___mbscpy(param_2,&DAT_004cd5d0);
    return;
  case 0x19:
    FID_conflict___mbscpy(param_2,&DAT_004cd5d4);
    return;
  case 0x1a:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd5d8);
      return;
    case 1:
      *param_2 = -5;
      param_2[1] = '\0';
      return;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd5dc);
      return;
    case 3:
      *param_2 = -0x18;
      param_2[1] = '\0';
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd5e0);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd5e4);
      return;
    case 6:
switchD_0044fb60_caseD_1:
      *param_2 = -0x71;
      param_2[1] = '\0';
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd5e8);
      return;
    }
    break;
  case 0x1b:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd5ec);
      return;
    case 1:
      FID_conflict___mbscpy(param_2,&DAT_004cd5f0);
      return;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd5f4);
      return;
    case 3:
      FID_conflict___mbscpy(param_2,&DAT_004cd5f8);
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd5fc);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd600);
      return;
    case 6:
      FID_conflict___mbscpy(param_2,&DAT_004cd604);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd608);
      return;
    }
    break;
  case 0x1c:
    FID_conflict___mbscpy(param_2,DAT_005def70);
    return;
  case 0x1d:
    FID_conflict___mbscpy(param_2,DAT_005def74);
    return;
  case 0x1e:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd610);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd60c);
    return;
  case 0x1f:
    FID_conflict___mbscpy(param_2,&DAT_004cd614);
    return;
  case 0x20:
    FID_conflict___mbscpy(param_2,&DAT_004cd618);
    return;
  case 0x21:
    FID_conflict___mbscpy(param_2,&DAT_004cd61c);
    return;
  case 0x22:
    FID_conflict___mbscpy(param_2,&DAT_004cd620);
    return;
  case 0x23:
    FID_conflict___mbscpy(param_2,&DAT_004cd624);
    return;
  case 0x24:
    FID_conflict___mbscpy(param_2,&DAT_004cd628);
    return;
  case 0x25:
    FID_conflict___mbscpy(param_2,&DAT_004cd62c);
    return;
  case 0x26:
    FID_conflict___mbscpy(param_2,&DAT_004cd630);
    return;
  case 0x27:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd634);
      return;
    case 1:
    case 6:
      *param_2 = -0x67;
      param_2[1] = '\0';
      return;
    case 2:
      *param_2 = -0x2f;
      param_2[1] = '\0';
      return;
    case 3:
      *param_2 = -0x1d;
      param_2[1] = '\0';
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd638);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd63c);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd640);
      return;
    }
    break;
  case 0x28:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd644);
      return;
    case 1:
    case 6:
      goto switchD_0044fb60_caseD_1;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd648);
      return;
    case 3:
      *param_2 = -0x49;
      param_2[1] = '\0';
      return;
    case 4:
      *param_2 = -0x15;
      param_2[1] = '\0';
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd64c);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd650);
      return;
    }
    break;
  case 0x29:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd654);
      return;
    case 1:
      FID_conflict___mbscpy(param_2,&DAT_004cd658);
      return;
    case 2:
      *param_2 = -0x59;
      param_2[1] = '\0';
      return;
    case 3:
      FID_conflict___mbscpy(param_2,&DAT_004cd65c);
      return;
    case 4:
      *param_2 = -3;
      param_2[1] = '\0';
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd660);
      return;
    case 6:
      *param_2 = '\x15';
      param_2[1] = '\0';
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd664);
      return;
    }
    break;
  case 0x2a:
    FID_conflict___mbscpy(param_2,DAT_005def78);
    return;
  case 0x2b:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd668);
      return;
    case 1:
      FID_conflict___mbscpy(param_2,&DAT_004cd66c);
      return;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd670);
      return;
    case 3:
      *param_2 = -7;
      param_2[1] = '\0';
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd674);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd678);
      return;
    case 6:
      FID_conflict___mbscpy(param_2,&DAT_004cd67c);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd680);
      return;
    }
    break;
  case 0x2c:
    if (iVar1 == 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd684);
      return;
    }
    if (iVar1 != 1) {
      FID_conflict___mbscpy(param_2,&DAT_004cd68c);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd688);
    return;
  case 0x2d:
    FID_conflict___mbscpy(param_2,&DAT_004cd690);
    return;
  case 0x2e:
    FID_conflict___mbscpy(param_2,&DAT_004cd694);
    return;
  case 0x2f:
    FID_conflict___mbscpy(param_2,&DAT_004cd698);
    return;
  case 0x30:
    FID_conflict___mbscpy(param_2,&DAT_004cd69c);
    return;
  case 0x31:
    FID_conflict___mbscpy(param_2,&DAT_004cd6a0);
    return;
  case 0x32:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd6a8);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd6a4);
    return;
  case 0x33:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd6b0);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd6ac);
    return;
  case 0x34:
    if (iVar1 != 4) {
      FID_conflict___mbscpy(param_2,&DAT_004cd6b8);
      return;
    }
    FID_conflict___mbscpy(param_2,&DAT_004cd6b4);
    return;
  case 0x35:
    switch(iVar1) {
    case 0:
      FID_conflict___mbscpy(param_2,&DAT_004cd6bc);
      return;
    case 1:
      FID_conflict___mbscpy(param_2,&DAT_004cd6c0);
      return;
    case 2:
      FID_conflict___mbscpy(param_2,&DAT_004cd6c4);
      return;
    case 3:
      FID_conflict___mbscpy(param_2,&DAT_004cd6c8);
      return;
    case 4:
      FID_conflict___mbscpy(param_2,&DAT_004cd6cc);
      return;
    case 5:
      FID_conflict___mbscpy(param_2,&DAT_004cd6d0);
      return;
    case 6:
      FID_conflict___mbscpy(param_2,&DAT_004cd6d4);
      return;
    case 7:
      FID_conflict___mbscpy(param_2,&DAT_004cd6d8);
      return;
    }
    break;
  case 0x36:
    FID_conflict___mbscpy(param_2,DAT_005def7c);
    return;
  case 0x37:
    FID_conflict___mbscpy(param_2,&DAT_004cd6dc);
    return;
  case 0x38:
    FID_conflict___mbscpy(param_2,DAT_005defac);
    return;
  case 0x39:
    FID_conflict___mbscpy(param_2,DAT_005def80);
    return;
  case 0x3a:
    FID_conflict___mbscpy(param_2,DAT_005def84);
    return;
  default:
    FID_conflict___mbscpy(param_2,&DAT_004cd72c);
    break;
  case 0x45:
    FID_conflict___mbscpy(param_2,DAT_005def88);
    return;
  case 0x46:
    FID_conflict___mbscpy(param_2,DAT_005def8c);
    return;
  case 0x47:
    FID_conflict___mbscpy(param_2,&DAT_004cd6e0);
    return;
  case 0x48:
    FID_conflict___mbscpy(param_2,&DAT_004cd6e4);
    return;
  case 0x49:
    FID_conflict___mbscpy(param_2,&DAT_004cd6e8);
    return;
  case 0x4a:
    FID_conflict___mbscpy(param_2,&DAT_004cd6ec);
    return;
  case 0x4b:
    FID_conflict___mbscpy(param_2,&DAT_004cd6f0);
    return;
  case 0x4c:
    FID_conflict___mbscpy(param_2,&DAT_004cd6f4);
    return;
  case 0x4d:
    FID_conflict___mbscpy(param_2,&DAT_004cd6f8);
    return;
  case 0x4e:
    FID_conflict___mbscpy(param_2,&DAT_004cd6fc);
    return;
  case 0x4f:
    FID_conflict___mbscpy(param_2,&DAT_004cd700);
    return;
  case 0x50:
    FID_conflict___mbscpy(param_2,&DAT_004cd704);
    return;
  case 0x51:
    FID_conflict___mbscpy(param_2,&DAT_004cd708);
    return;
  case 0x52:
    FID_conflict___mbscpy(param_2,&DAT_004cd70c);
    return;
  case 0x53:
    FID_conflict___mbscpy(param_2,&DAT_004cd710);
    return;
  case 0x8d:
    FID_conflict___mbscpy(param_2,&DAT_004cd714);
    return;
  case 0x92:
    FID_conflict___mbscpy(param_2,&DAT_004cd718);
    return;
  case 0x93:
    FID_conflict___mbscpy(param_2,&DAT_004cd71c);
    return;
  case 0x9c:
    FID_conflict___mbscpy(param_2,DAT_005def90);
    return;
  case 0x9d:
    FID_conflict___mbscpy(param_2,DAT_005def94);
    return;
  case 0xb3:
    FID_conflict___mbscpy(param_2,&DAT_004cd720);
    return;
  case 0xb5:
    FID_conflict___mbscpy(param_2,&DAT_004cd724);
    return;
  case 0xb8:
    FID_conflict___mbscpy(param_2,DAT_005defa8);
    return;
  case 200:
    FID_conflict___mbscpy(param_2,DAT_005def98);
    return;
  case 0xcb:
    FID_conflict___mbscpy(param_2,DAT_005def9c);
    return;
  case 0xcd:
    FID_conflict___mbscpy(param_2,DAT_005defa0);
    return;
  case 0xd0:
    FID_conflict___mbscpy(param_2,DAT_005defa4);
    return;
  case 0xe0:
    FID_conflict___mbscpy(param_2,DAT_005defb0);
    return;
  case 0xe1:
    FID_conflict___mbscpy(param_2,DAT_005defb4);
    return;
  case 0xe2:
    FID_conflict___mbscpy(param_2,DAT_005defb8);
    return;
  case 0xe3:
    FID_conflict___mbscpy(param_2,DAT_005defbc);
    return;
  case 0xe4:
    FID_conflict___mbscpy(param_2,DAT_005defcc);
    return;
  case 0xe5:
    FID_conflict___mbscpy(param_2,DAT_005defd0);
    return;
  case 0xe6:
    FID_conflict___mbscpy(param_2,DAT_005defd4);
    return;
  case 0xe7:
    FID_conflict___mbscpy(param_2,DAT_005defd8);
    return;
  case 0xe8:
    FID_conflict___mbscpy(param_2,DAT_005defc0);
    return;
  case 0xe9:
    FID_conflict___mbscpy(param_2,DAT_005defc4);
    return;
  case 0xea:
    FID_conflict___mbscpy(param_2,DAT_005defc8);
    return;
  case 0xeb:
    FID_conflict___mbscpy(param_2,DAT_005defdc);
    return;
  case 0xec:
    FID_conflict___mbscpy(param_2,DAT_005defe0);
    return;
  case 0xed:
    FID_conflict___mbscpy(param_2,DAT_005defe4);
    return;
  case 0xee:
    FID_conflict___mbscpy(param_2,DAT_005defe8);
    return;
  case 0xef:
    FID_conflict___mbscpy(param_2,DAT_005defec);
    return;
  case 0xf0:
    FID_conflict___mbscpy(param_2,DAT_005deff0);
    return;
  case 0xf1:
    FID_conflict___mbscpy(param_2,DAT_005deff4);
    return;
  case 0xf2:
    FID_conflict___mbscpy(param_2,DAT_005deff8);
    return;
  case 0xf3:
    FID_conflict___mbscpy(param_2,DAT_005deffc);
    return;
  case 0xf4:
    FID_conflict___mbscpy(param_2,DAT_005df000);
    return;
  case 0xf5:
    FID_conflict___mbscpy(param_2,DAT_005df004);
    return;
  case 0xf6:
    FID_conflict___mbscpy(param_2,DAT_005df008);
    return;
  }
  return;
}



void FUN_00450740(void)

{
  DWORD dwMessageId;
  int iVar1;
  undefined4 *puVar2;
  CHAR local_104;
  undefined4 local_103;
  undefined4 uStackY_28;
  DWORD dwLanguageId;
  CHAR *lpBuffer;
  DWORD nSize;
  va_list *Arguments;
  
  AdjustStackForLargeAllocations();
  local_104 = '\0';
  Arguments = (va_list *)0x0;
  puVar2 = &local_103;
  for (iVar1 = 0x3f; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined2 *)puVar2 = 0;
  *(undefined *)((int)puVar2 + 2) = 0;
  lpBuffer = &local_104;
  nSize = 0x100;
  dwLanguageId = 0x400;
  dwMessageId = GetLastError();
  uStackY_28 = 0x45078e;
  FormatMessageA(0x1000,(LPCVOID)0x0,dwMessageId,dwLanguageId,lpBuffer,nSize,Arguments);
  return;
}



undefined4 FUN_004507a0(uint param_1)

{
  int iVar1;
  int *piVar2;
  size_t sVar3;
  void *pvVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  iVar8 = 0;
  iVar7 = 0;
  iVar9 = *(int *)(DAT_005df318[1] + 10);
  FUN_00442fa0();
  if (1 < *DAT_005df318) {
    iVar1 = *DAT_005df318 - 1;
    do {
      iVar6 = 5;
      piVar2 = (int *)(*(int *)(iVar9 + 4) + 0x175);
      do {
        if (((*piVar2 != 0) && (iVar5 = *(int *)(*piVar2 + 0x17), iVar5 != 0)) &&
           (-1 < *(int *)(iVar5 + 0x10))) {
          iVar7 = iVar7 + 1;
        }
        piVar2 = piVar2 + 1;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
      iVar9 = *(int *)(iVar9 + 10);
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  DAT_004d86a8 = iVar7 + param_1;
  if (DAT_004d86ac != (void *)0x0) {
    FreeMemory(DAT_004d86ac);
    DAT_004d86ac = (void *)0x0;
  }
  sVar3 = DAT_004d86a8 * 0xe0;
  iVar9 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  DAT_004d86ac = _memset(pvVar4,iVar9,sVar3);
  param_1 = 1;
  iVar9 = *(int *)(DAT_005df318[1] + 10);
  if (1 < *DAT_005df318) {
    do {
      iVar1 = 0;
      iVar7 = iVar8 * 0xe0;
      do {
        iVar6 = *(int *)(*(int *)(iVar9 + 4) + 0x175 + iVar1);
        iVar5 = iVar7;
        if (((iVar6 != 0) && (*(int *)(iVar6 + 0x17) != 0)) &&
           (-1 < *(int *)(*(int *)(iVar6 + 0x17) + 0x10))) {
          iVar8 = iVar8 + 1;
          *(int *)((int)DAT_004d86ac + iVar7 + 0x10) = iVar6;
          iVar5 = iVar7 + 0xe0;
          *(undefined2 *)((int)DAT_004d86ac + iVar7 + 0xe) =
               *(undefined2 *)(*(int *)(iVar6 + 0x17) + 0x10);
        }
        iVar1 = iVar1 + 4;
        iVar7 = iVar5;
      } while (iVar1 < 0x14);
      iVar9 = *(int *)(iVar9 + 10);
      param_1 = param_1 + 1;
    } while (param_1 < *DAT_005df318);
  }
  if (DAT_005a1108 != (void *)0x0) {
    FreeMemory(DAT_005a1108);
    DAT_005a1108 = (void *)0x0;
  }
  sVar3 = DAT_004d86a8 * 0x16;
  iVar9 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar3);
  DAT_005a1108 = _memset(pvVar4,iVar9,sVar3);
  iVar9 = 0;
  if (0 < DAT_004d86a8) {
    iVar8 = 0;
    iVar7 = 0;
    do {
      iVar9 = iVar9 + 1;
      *(undefined4 *)((int)DAT_005a1108 + iVar7 + 4) = DAT_005a88c0;
      iVar1 = iVar8 + 0x5b;
      iVar8 = iVar8 + 0xe0;
      *(int *)((int)DAT_005a1108 + iVar7) = (int)DAT_004d86ac + iVar1;
      *(code **)((int)DAT_005a1108 + iVar7 + 0x12) = FUN_004a1770;
      iVar7 = iVar7 + 0x16;
    } while (iVar9 < DAT_004d86a8);
  }
  return 0;
}



void FUN_00450980(void)

{
  if (DAT_005a1108 != 0) {
    FreeMemory(DAT_005a1108);
    DAT_005a1108 = 0;
  }
  if (DAT_004d86ac != 0) {
    FreeMemory(DAT_004d86ac);
    DAT_004d86ac = 0;
  }
  return;
}



undefined4 FUN_004509c0(int param_1)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  
  iVar2 = *(int *)(DAT_005df318 + 4);
  uVar3 = (uint)*(ushort *)(param_1 * 0xe0 + 0xe + DAT_004d86ac);
  if ((((uVar3 < *(ushort *)(DAT_00598d90 + 0x245)) &&
       (FUN_00472ec0(DAT_00598d90 + 0x245,uVar3,1,DAT_00598d90), DAT_00598e18 == 0)) &&
      (*(int *)(DAT_005d87e0 + uVar3 * 4) != 0)) &&
     (FUN_004625e0(1,DAT_005e45e4 + 0x90,DAT_005e45e4 + 0x4c,uVar3,1), (char)DAT_00598944 == '\0'))
  {
    puVar1 = (uint *)(*(int *)(iVar2 + 4) + 0x8a);
    *puVar1 = *puVar1 | 0x2000000;
  }
  return 1;
}



undefined4 FUN_00450a60(int param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0) {
    return 0;
  }
  iVar4 = 0;
  iVar6 = 0;
  if (0 < DAT_004d86a8) {
    do {
      iVar1 = *(int *)(DAT_004d86ac + 0x10 + iVar4);
      if (iVar1 == param_3) {
        iVar2 = *(int *)(param_1 + 4);
        if (*(char *)(iVar2 + 0x189) == '\0') {
          *(undefined *)(DAT_004d86ac + 1 + iVar4) = 0x19;
          *(undefined4 *)(DAT_004d86ac + 0x10 + iVar4) = 0;
          FUN_00475bf0(&DAT_005e4600,*(int *)(param_1 + 4) + 6,1,0);
          FUN_0046d2a0(DAT_004d86ac + 0x14 + iVar4,param_1,param_2,(float)(DAT_004d8328 % 6),
                       0x3c23d70a,0);
        }
        else {
          uVar3 = *(byte *)(iVar2 + 0x18a) + 1;
          iVar5 = *(int *)(iVar2 + 0x175 + (uVar3 % 5) * 4);
          while ((iVar5 == 0 && ((int)uVar3 < 10))) {
            uVar3 = uVar3 + 1;
            iVar5 = *(int *)(iVar2 + 0x175 + ((int)uVar3 % 5) * 4);
          }
          iVar5 = ((int)uVar3 % 5) * 4;
          FUN_004ad7a0(*(undefined4 *)(*(int *)(iVar5 + 0x175 + iVar2) + 0x17),
                       *(undefined4 *)(iVar1 + 0x17),0x14);
          *(undefined4 *)(DAT_004d86ac + 0x10 + iVar4) =
               *(undefined4 *)(*(int *)(param_1 + 4) + 0x175 + iVar5);
        }
      }
      iVar6 = iVar6 + 1;
      iVar4 = iVar4 + 0xe0;
    } while (iVar6 < DAT_004d86a8);
  }
  return 1;
}



undefined4 FUN_00450bd0(void)

{
  char cVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  float10 fVar9;
  float local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  iVar5 = *(int *)(DAT_005df318 + 4);
  iVar7 = DAT_004d86ac;
  if (iVar5 == 0) {
    return 1;
  }
  do {
    iVar6 = *(int *)(iVar5 + 4);
    if (((*(uint *)(iVar6 + 0x8a) & 0x400000) != 0) && ((*(uint *)(iVar6 + 0x8a) & 2) == 0)) {
      fVar2 = *(float *)(iVar6 + 0x36);
      iVar8 = 0;
      fVar3 = *(float *)(iVar6 + 0x3a);
      fVar4 = *(float *)(iVar6 + 0x3e);
      if (0 < DAT_004d86a8) {
        iVar6 = 0;
        do {
          if ((*(int *)(iVar7 + 0x10 + iVar6) == 0) && (*(int *)(iVar7 + 0xab + iVar6) != 0)) {
            cVar1 = *(char *)(iVar7 + 1 + iVar6);
            if (cVar1 == '\0') {
              local_18 = (double)(fVar2 - *(float *)(iVar7 + 0x4b + iVar6));
              local_1c = 6.341111e-39;
              fVar9 = (float10)FUN_004ad3c0();
              iVar7 = DAT_004d86ac;
              if (fVar9 < (float10)2.559999942779541) {
                local_18 = (double)(fVar4 - *(float *)(DAT_004d86ac + 0x53 + iVar6));
                local_1c = 6.341167e-39;
                fVar9 = (float10)FUN_004ad3c0();
                iVar7 = DAT_004d86ac;
                if (fVar9 < (float10)2.559999942779541) {
                  local_18 = (double)(fVar3 - *(float *)(DAT_004d86ac + 0x4f + iVar6));
                  local_1c = 6.341223e-39;
                  fVar9 = (float10)FUN_004ad3c0();
                  iVar7 = DAT_004d86ac;
                  if (fVar9 < (float10)2.559999942779541) {
                    iVar7 = iVar8 * 0xe0;
                    *(undefined4 *)(DAT_004d86ac + 0x10 + iVar7) =
                         *(undefined4 *)(*(int *)(iVar5 + 4) + 0x86);
                    if ((*(byte *)(*(int *)(iVar5 + 4) + 0x8a) & 1) != 0) {
                      local_18 = (double)CONCAT44(iVar8,0x450d36);
                      FUN_004509c0();
                      *DAT_004d80cc = *DAT_004d80cc + 1;
                    }
                    local_18 = (double)CONCAT44(*(undefined4 *)(DAT_004d86ac + 0x53 + iVar7),
                                                *(undefined4 *)(DAT_004d86ac + 0x4f + iVar7));
                    local_1c = 6.341451e-39;
                    fVar9 = (float10)FUN_0045e9e0();
                    local_1c = (float)(fVar9 - (float10)-0.5);
                    FUN_0046cc80(&local_1c,0x14,1);
                    local_18 = 4.940656458412465e-324;
                    local_1c = 0.0;
                    FUN_00475bf0(&DAT_005e495a);
                    *(undefined *)(DAT_004d86ac + 1 + iVar7) = 0;
                    *(undefined4 *)(DAT_004d86ac + 0xab + iVar7) = 0;
                    return 1;
                  }
                }
              }
            }
            else {
              *(char *)(iVar7 + 1 + iVar6) = cVar1 + -1;
              iVar7 = DAT_004d86ac;
            }
          }
          iVar8 = iVar8 + 1;
          iVar6 = iVar6 + 0xe0;
        } while (iVar8 < DAT_004d86a8);
      }
    }
    iVar5 = *(int *)(iVar5 + 0x16);
  } while (iVar5 != 0);
  return 1;
}



undefined4 FUN_00450dd0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 ***local_1c;
  undefined *local_18;
  undefined4 local_14;
  
  AdjustStackForLargeAllocations();
  FUN_00450bd0();
  iVar3 = 0;
  if (0 < DAT_004d86a8) {
    iVar4 = 0;
    do {
      iVar1 = DAT_004d86ac + iVar4;
      iVar2 = *(int *)(DAT_004d86ac + 0xab + iVar4);
      if (0 < iVar2) {
        if (iVar2 == 3) {
          local_14 = *(undefined4 *)(iVar1 + 0x53);
          local_18 = &stack0xfffffff0;
          local_1c = &local_1c;
          iVar2 = FUN_00422ac0();
          if (iVar2 != 0) {
            *(float *)(iVar1 + 0x4b) =
                 (*(float *)(iVar2 + 0x36) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x6f)) +
                 *(float *)(iVar1 + 0x4b);
            *(float *)(iVar1 + 0x4f) =
                 (*(float *)(iVar2 + 0x3a) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x73)) +
                 *(float *)(iVar1 + 0x4f);
            *(float *)(iVar1 + 0x53) =
                 (*(float *)(iVar2 + 0x3e) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x77)) +
                 *(float *)(iVar1 + 0x53);
          }
        }
        else if (iVar2 != 4) {
          local_14 = 0;
          local_18 = (undefined *)0x0;
          local_1c = (undefined4 ***)0x1;
          FUN_004a4bc0(iVar1 + 0x14);
        }
      }
      iVar3 = iVar3 + 1;
      iVar4 = iVar4 + 0xe0;
    } while (iVar3 < DAT_004d86a8);
  }
  return 1;
}



undefined4 FUN_00450ec0(void)

{
  undefined4 uVar1;
  code **ppcVar2;
  
  if ((DAT_005d66c8 & 0x800) != 0) {
    FUN_0046bcd0();
  }
  if ((DAT_005d66c8 & 0x4000) != 0) {
    FUN_0046bd10();
  }
  if ((DAT_005d66c8 & 0x8000) != 0) {
    FUN_0046bd50();
  }
  uVar1 = DAT_005a88c0;
  ppcVar2 = (code **)&DAT_005dcc7e;
  do {
    *(undefined4 *)((int)ppcVar2 + -0xe) = uVar1;
    *ppcVar2 = FUN_00451290;
    *(int *)((int)ppcVar2 + -0x12) = (int)ppcVar2 + -0x5a;
    ppcVar2 = (code **)((int)ppcVar2 + 0x62);
  } while ((int)ppcVar2 < 0x5dce06);
  return 1;
}



undefined4 FUN_00450f20(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = &DAT_005dcc20;
  iVar2 = 0;
  do {
    if (*piVar1 == 0) {
      *piVar1 = param_1;
      if (param_2 != 0) {
        *(int **)(param_1 + 0x1e) = piVar1;
      }
      if (((DAT_004ca030 == 1) && (*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x92) != -1))
         && (DAT_004d814c == 0)) {
        piVar1[0x11] = 2;
      }
      return 1;
    }
    piVar1 = (int *)((int)piVar1 + 0x62);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 4);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00450f80(void)

{
  byte bVar1;
  short sVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined2 uVar5;
  uint uVar6;
  undefined4 uVar7;
  float *pfVar8;
  float *pfVar9;
  float *pfVar10;
  float10 fVar11;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  float local_20;
  undefined4 local_1c;
  undefined8 local_18;
  int *piVar12;
  int iVar13;
  
  AdjustStackForLargeAllocations();
  iVar13 = 0;
  pfVar8 = (float *)&DAT_005dcc28;
  do {
    if ((((int)pfVar8[0xf] < 2) || (piVar12 = (int *)pfVar8[-2], piVar12 == (int *)0x0)) ||
       ((*(uint *)(piVar12[1] + 0x8a) & 0x400000) == 0)) goto LAB_00451243;
    uVar6 = _DAT_005a1124 & 0x7f;
    pfVar9 = (float *)(*piVar12 + 6);
    pfVar10 = pfVar8 + -1;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar10 = *pfVar9;
      pfVar9 = pfVar9 + 1;
      pfVar10 = pfVar10 + 1;
    }
    local_18 = (double)((float)uVar6 * 0.2 + (float)iVar13);
    local_1c = 0x450ff9;
    fVar11 = (float10)FUN_004ae014();
    local_18 = (double)CONCAT44((int)&local_18 + 4,pfVar8 + -1);
    local_1c = 0x3fc00000;
    pfVar8[0xc] = (float)(((float10)pfVar8[0xc] - fVar11 * (float10)-0.5) - (float10)-1.0);
    local_20 = 6.342434e-39;
    iVar4 = FUN_004a2710();
    if (iVar4 == 0) goto LAB_00451243;
    *(uint *)((int)pfVar8 + 0x4e) = (iVar4 != 1) + 1;
    local_20 = pfVar8[7];
    local_2c = *(undefined4 *)(DAT_005e45e4 + 0x54);
    local_28 = *(undefined4 *)(DAT_005e45e4 + 100);
    local_24 = *(undefined4 *)(DAT_005e45e4 + 0x74);
    local_18 = (double)CONCAT44(&local_2c,&local_20);
    local_1c = 0x45106f;
    fVar11 = (float10)FUN_0045eba0();
    if (fVar11 <= (float10)0.8) {
      if (fVar11 <= (float10)-0.1) {
        uVar7 = 3;
      }
      else {
        local_20 = pfVar8[-1];
        local_2c = *(undefined4 *)(DAT_005e45e4 + 0x54);
        local_28 = *(undefined4 *)(DAT_005e45e4 + 100);
        local_24 = *(undefined4 *)(DAT_005e45e4 + 0x74);
        local_18 = (double)CONCAT44(&local_2c,&local_20);
        local_1c = 0x4510c6;
        fVar11 = (float10)FUN_0045eba0();
        if ((float10)0.0 <= fVar11) {
          uVar7 = 2;
        }
        else {
          uVar7 = 1;
        }
      }
    }
    else {
      uVar7 = 0;
    }
    sVar2 = **(short **)(piVar12[1] + 0x86);
    if (sVar2 == 0xe7) {
      puVar3 = &DAT_005dcc0c;
    }
    else if (sVar2 == 0xe8) {
      puVar3 = &DAT_005dcc14;
    }
    else {
      puVar3 = &DAT_005dcc04;
    }
    bVar1 = *(byte *)(piVar12[1] + 4);
    if ((bVar1 < 5) || (6 < bVar1)) {
      switch(uVar7) {
      case 0:
        uVar5 = *puVar3;
        goto LAB_0045118b;
      case 1:
        *(undefined2 *)(pfVar8 + 0x13) = puVar3[1];
        goto LAB_0045118f;
      case 2:
        uVar5 = puVar3[1];
        *(undefined4 *)((int)pfVar8 + 0x52) = 1;
        *(undefined2 *)(pfVar8 + 0x13) = uVar5;
        break;
      case 3:
        uVar5 = puVar3[2];
LAB_0045118b:
        *(undefined2 *)(pfVar8 + 0x13) = uVar5;
        goto LAB_0045118f;
      }
      goto switchD_00451129_caseD_4;
    }
    switch(uVar7) {
    case 0:
      *(undefined2 *)(pfVar8 + 0x13) = puVar3[3];
      goto LAB_0045118f;
    case 1:
      uVar5 = puVar3[3];
      goto LAB_0045118b;
    case 2:
      uVar5 = puVar3[3];
      *(undefined4 *)((int)pfVar8 + 0x52) = 1;
      *(undefined2 *)(pfVar8 + 0x13) = uVar5;
      break;
    case 3:
      *(undefined2 *)(pfVar8 + 0x13) = puVar3[2];
LAB_0045118f:
      *(undefined4 *)((int)pfVar8 + 0x52) = 0;
    }
switchD_00451129_caseD_4:
    if (pfVar8[0xf] == 4.203895e-45) {
      *(code **)((int)pfVar8 + 0x56) = FUN_00451350;
    }
    else {
      *(code **)((int)pfVar8 + 0x56) = FUN_00451290;
    }
    iVar4 = DAT_005e45e4;
    local_18 = (double)CONCAT44(pfVar8 + 0x11,local_18._4_4_);
    pfVar8[-1] = *(float *)(DAT_005e45e4 + 0x238) * 0.4;
    *pfVar8 = *(float *)(iVar4 + 0x248) * 0.4;
    pfVar8[1] = *(float *)(iVar4 + 600) * 0.4;
    pfVar8[3] = *(float *)(iVar4 + 0x23c) * 0.4;
    pfVar8[4] = *(float *)(iVar4 + 0x24c) * 0.4;
    pfVar8[5] = *(float *)(iVar4 + 0x25c) * 0.4;
    pfVar8[7] = *(float *)(iVar4 + 0x240) * 0.4;
    pfVar8[8] = *(float *)(iVar4 + 0x250) * 0.4;
    pfVar8[9] = *(float *)(iVar4 + 0x260) * 0.4;
    local_1c = 0x451240;
    FUN_00485990();
LAB_00451243:
    pfVar8 = (float *)((int)pfVar8 + 0x62);
    iVar13 = iVar13 + 1;
    if (3 < iVar13) {
      return 1;
    }
  } while( true );
}



void FUN_00451290(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  
  iVar3 = DAT_005a88c4;
  iVar1 = *(int *)(param_1 + 0xe);
  *(undefined4 *)(DAT_005a88c4 + 0x10) = 0xffffffff;
  *(undefined4 *)(iVar3 + 8) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3c75c28f;
  }
  else {
    uVar2 = 0x3f7c28f6;
  }
  *(undefined4 *)(iVar3 + 0x18) = uVar2;
  *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x30) = 0xffffffff;
  *(undefined4 *)(iVar3 + 0x28) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3c75c28f;
  }
  else {
    uVar2 = 0x3f7c28f6;
  }
  *(undefined4 *)(iVar3 + 0x38) = uVar2;
  *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x50) = 0xffffffff;
  *(undefined4 *)(iVar3 + 0x48) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3f7c28f6;
  }
  else {
    uVar2 = 0x3c75c28f;
  }
  *(undefined4 *)(iVar3 + 0x58) = uVar2;
  *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x70) = 0xffffffff;
  *(undefined4 *)(iVar3 + 0x68) = 0;
  if (iVar1 != 0) {
    *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
    *(undefined4 *)(iVar3 + 0x78) = 0x3c75c28f;
    return;
  }
  *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
  return;
}



void FUN_00451350(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  
  iVar3 = DAT_005a88c4;
  iVar1 = *(int *)(param_1 + 0xe);
  *(undefined4 *)(DAT_005a88c4 + 0x10) = 0xffff0000;
  *(undefined4 *)(iVar3 + 8) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3c75c28f;
  }
  else {
    uVar2 = 0x3f7c28f6;
  }
  *(undefined4 *)(iVar3 + 0x18) = uVar2;
  *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x30) = 0xffff0000;
  *(undefined4 *)(iVar3 + 0x28) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3c75c28f;
  }
  else {
    uVar2 = 0x3f7c28f6;
  }
  *(undefined4 *)(iVar3 + 0x38) = uVar2;
  *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x50) = 0xffff0000;
  *(undefined4 *)(iVar3 + 0x48) = 0;
  if (iVar1 == 0) {
    uVar2 = 0x3f7c28f6;
  }
  else {
    uVar2 = 0x3c75c28f;
  }
  *(undefined4 *)(iVar3 + 0x58) = uVar2;
  *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x70) = 0xffff0000;
  *(undefined4 *)(iVar3 + 0x68) = 0;
  if (iVar1 != 0) {
    *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
    *(undefined4 *)(iVar3 + 0x78) = 0x3c75c28f;
    return;
  }
  *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
  return;
}



int FUN_00451410(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  piVar2 = &DAT_005dcc20;
  iVar3 = 0;
  while( true ) {
    iVar1 = *piVar2;
    if ((((DAT_004d040c != 0) && (iVar1 != 0)) && (piVar2[0x11] == 0)) &&
       ((DAT_004ca030 != 1 || (*(int *)(*(int *)(*(int *)(iVar1 + 4) + 0x100) + 0x92) == -1))))
    break;
    piVar2 = (int *)((int)piVar2 + 0x62);
    iVar3 = iVar3 + 1;
    if (3 < iVar3) {
      return 0;
    }
  }
  piVar2[0x11] = 1;
  piVar2[0x12] = 0;
  return iVar1;
}



undefined4 FUN_00451480(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = FUN_00451410(param_2);
  if (iVar1 != 0) {
    iVar1 = *(int *)(iVar1 + 4);
    *(undefined4 *)(iVar1 + 0x36) = *param_1;
    *(undefined4 *)(iVar1 + 0x3a) = param_1[1];
    *(undefined4 *)(iVar1 + 0x3e) = param_1[2];
    *(undefined *)(*(int *)(iVar1 + 0x86) + 4) = 100;
    *(undefined4 *)(iVar1 + 0x104) = param_3;
    return 1;
  }
  return 0;
}



void FUN_004514d0(void)

{
  ushort *puVar1;
  int iVar2;
  undefined4 ***pppuVar3;
  int *piVar4;
  undefined4 ****local_14;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  piVar4 = &DAT_005dcc20;
  iVar5 = 4;
  do {
    iVar2 = piVar4[0x11];
    if (iVar2 == 1) {
      iVar2 = piVar4[0x12];
      piVar4[0x12] = iVar2 + 1;
      if (iVar2 + 1 == 0x5dc) {
        iVar2 = *(int *)(*(int *)(*piVar4 + 4) + 0x104);
        if ((iVar2 == 0) || (*(int *)(iVar2 + 0x97) == 0)) {
          piVar4[0x11] = 0;
        }
        else {
          piVar4[0x12] = 0;
          *(int **)(*piVar4 + 0x1e) = piVar4;
          *(uint *)(*(int *)(*piVar4 + 4) + 0x8a) =
               *(uint *)(*(int *)(*piVar4 + 4) + 0x8a) | 0x400000;
          local_14 = (undefined4 ****)*piVar4;
          FUN_00475860();
          if (DAT_005e4a64 != 0) {
            local_14 = (undefined4 ****)0x1;
            FUN_00475bf0(DAT_005e4a64 + 0x8d6,*(int *)(*piVar4 + 4) + 6,1);
          }
        }
      }
    }
    else if (iVar2 == 2) {
      piVar4[0x12] = piVar4[0x12] + 1;
      iVar2 = *(int *)(*(int *)(*piVar4 + 4) + 0x104);
      if (((iVar2 != 0) && (*(int *)(iVar2 + 0x97) == 0)) && ((uint)piVar4[0x12] < 0x21b1)) {
        piVar4[0x12] = 0x21b1;
      }
      iVar2 = DAT_005e4a64;
      if (piVar4[0x12] == 9000) {
        if ((DAT_004ca030 == 1) && (*(int *)(*(int *)(*(int *)(*piVar4 + 4) + 0x100) + 0x92) != -1))
        {
          piVar4[0x12] = 0;
        }
        else {
          piVar4[0x11] = 0;
          if (iVar2 != 0) {
            local_14 = (undefined4 ****)0x451631;
            pppuVar3 = (undefined4 ***)FUN_0048b030();
            *(undefined4 *)((int)pppuVar3 + 9) = *(undefined4 *)(DAT_005e4a64 + 0x8f6);
            pppuVar3[1] = (undefined4 **)(*(int *)(*piVar4 + 4) + 6);
            local_14 = (undefined4 ****)pppuVar3;
            FUN_00475dd0();
            *(undefined *)(pppuVar3 + 2) = 0;
          }
          local_14 = (undefined4 ****)*piVar4;
          FUN_004759a0();
          puVar1 = (ushort *)(*(int *)(*piVar4 + 4) + 0x8e);
          *puVar1 = *puVar1 & 0xefff;
          local_14 = &local_14;
          FUN_0046d130(*piVar4);
        }
      }
    }
    else if (iVar2 == 3) {
      piVar4[0x12] = piVar4[0x12] + 1;
      if (*(char *)(*(int *)(*piVar4 + 4) + 0x108) == '\0') {
        piVar4[0x11] = 2;
        piVar4[0x12] = 0x21b1;
      }
      iVar2 = DAT_005e4a64;
      if (piVar4[0x12] == 0x1194) {
        piVar4[0x11] = 0;
        if (iVar2 != 0) {
          local_14 = (undefined4 ****)0x451546;
          pppuVar3 = (undefined4 ***)FUN_0048b030();
          *(undefined4 *)((int)pppuVar3 + 9) = *(undefined4 *)(DAT_005e4a64 + 0x8f6);
          pppuVar3[1] = (undefined4 **)(*(int *)(*piVar4 + 4) + 6);
          local_14 = (undefined4 ****)pppuVar3;
          FUN_00475dd0();
          *(undefined *)(pppuVar3 + 2) = 0;
        }
        local_14 = (undefined4 ****)*piVar4;
        FUN_00426080();
        local_14 = (undefined4 ****)*piVar4;
        FUN_004759a0();
        puVar1 = (ushort *)(*(int *)(*piVar4 + 4) + 0x8e);
        *puVar1 = *puVar1 & 0xefff;
        local_14 = &local_14;
        FUN_0046d130(*piVar4);
      }
    }
    piVar4 = (int *)((int)piVar4 + 0x62);
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  return;
}



void FUN_00451780(char *param_1,char *param_2)

{
  size_t sVar1;
  HANDLE hFile;
  HANDLE hFile_00;
  LONG LVar2;
  char acStackY_117 [231];
  undefined4 uStackY_30;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(acStackY_117 + 3,param_2);
  FID_conflict__strcat(acStackY_117 + 3,param_1);
  sVar1 = _strlen(acStackY_117 + 3);
  acStackY_117[sVar1] = 'c';
  acStackY_117[sVar1 + 1] = 'm';
  acStackY_117[sVar1 + 2] = 'f';
  FID_conflict___mbscpy((char *)(DAT_00598d90 + 0x3e9),param_2);
  FID_conflict__strcat((char *)(DAT_00598d90 + 0x3e9),param_1);
  sVar1 = _strlen((char *)(DAT_00598d90 + 0x3e9));
  *(undefined *)(sVar1 + 0x3e6 + DAT_00598d90) = 0x6c;
  *(undefined *)(sVar1 + 999 + DAT_00598d90) = 0x67;
  *(undefined *)(sVar1 + 1000 + DAT_00598d90) = 0x74;
  DAT_004cd800 = 0;
  uStackY_30 = 0x45186c;
  hFile = CreateFileA(acStackY_117 + 3,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,
                      (HANDLE)0x0);
  uStackY_30 = 0x45188d;
  hFile_00 = CreateFileA((LPCSTR)(DAT_00598d90 + 0x3e9),0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,
                         0x8000000,(HANDLE)0x0);
  if ((hFile != (HANDLE)0xffffffff) && (hFile_00 != (HANDLE)0xffffffff)) {
    GetFileTime(hFile,(LPFILETIME)0x0,(LPFILETIME)0x0,(LPFILETIME)&stack0xfffffff4);
    GetFileTime(hFile_00,(LPFILETIME)0x0,(LPFILETIME)0x0,(LPFILETIME)&stack0xffffffec);
    LVar2 = CompareFileTime((FILETIME *)&stack0xfffffff4,(FILETIME *)&stack0xffffffec);
    if (LVar2 < 1) goto LAB_004518d1;
  }
  DAT_004cd800 = 1;
LAB_004518d1:
  if (hFile != (HANDLE)0xffffffff) {
    CloseHandle(hFile);
  }
  if (hFile_00 != (HANDLE)0xffffffff) {
    CloseHandle(hFile_00);
  }
  return;
}



undefined4 FUN_004518f0(void)

{
  void *pvVar1;
  uint uVar2;
  int iVar3;
  size_t sVar4;
  
  DAT_005dcbe4 = 0;
  if (DAT_004cd800 == 0) {
    DAT_005dcbe8 = OpenFileWithFixedFlags0x40(DAT_00598d90 + 0x3e9,&DAT_004cd804);
    CopyDataWithLock(&DAT_005dcbe0,4,1,DAT_005dcbe8);
    if (DAT_005dcbe0 == 0) {
      if (DAT_005dcbe8 != 0) {
        FUN_004adcf0(DAT_005dcbe8);
      }
      DAT_004cd800 = 1;
    }
    else {
      iVar3 = 0;
      sVar4 = DAT_005dcbe0;
      pvVar1 = (void *)AllocateMemoryWithCallback(DAT_005dcbe0);
      DAT_005dcbdc = _memset(pvVar1,iVar3,sVar4);
      CopyDataWithLock(DAT_005dcbdc,DAT_005dcbe0,1,DAT_005dcbe8);
    }
    if (DAT_004cd800 == 0) {
      return 1;
    }
  }
  DAT_005dcbe8 = OpenFileWithFixedFlags0x40(DAT_00598d90 + 0x3e9,&DAT_004cd83c);
  iVar3 = *(ushort *)(DAT_00598ff0 + 0xe) + 1;
  iVar3 = (uint)*(ushort *)(DAT_00598ff0 + 4) * iVar3 * iVar3;
  uVar2 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar3 = iVar3 + **(int **)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar2 * 4) + 0x56);
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
  }
  DAT_005dcbe0 = iVar3 << 2;
  if (DAT_005dcbe8 != 0) {
    FUN_004ae3e0(&DAT_005dcbe0,4,1,DAT_005dcbe8);
  }
  iVar3 = 0;
  sVar4 = DAT_005dcbe0;
  pvVar1 = (void *)AllocateMemoryWithCallback(DAT_005dcbe0);
  DAT_005dcbdc = _memset(pvVar1,iVar3,sVar4);
  return 1;
}



uint FUN_00451a60(float *param_1,float *param_2,undefined4 *param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  float *pfVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  float *pfVar8;
  float **ppfVar9;
  float10 fVar10;
  float10 fVar11;
  float10 fVar12;
  float local_1030 [384];
  float local_a30 [384];
  undefined local_430 [512];
  undefined local_230 [512];
  float local_30;
  float local_2c;
  float local_28;
  float *local_24;
  undefined *local_20;
  undefined *local_1c;
  float *local_18;
  float **local_14;
  float fVar13;
  float fVar14;
  float fVar15;
  
  AdjustStackForLargeAllocations();
  if (param_2 == (float *)0x0) {
    local_14 = (float **)param_1;
    local_18 = (float *)0x451aa9;
    uVar7 = FUN_00452000();
    if (uVar7 != 0) {
      return uVar7;
    }
    local_14 = &local_18 + 1;
    local_18 = local_a30;
    local_1c = local_430;
    local_20 = local_230;
    local_24 = param_1;
    local_28 = 6.346272e-39;
    FUN_00452160();
  }
  else {
    local_14 = &local_18 + 1;
    local_18 = local_a30;
    local_1c = local_430;
    local_20 = local_230;
    local_24 = param_1;
    local_28 = 6.346198e-39;
    FUN_00451de0();
  }
  uVar7 = 0;
  if (local_14 != (float **)0x0) {
    iVar6 = 0;
    do {
      local_14 = (float **)((int)local_a30 + iVar6);
      local_18 = (float *)&stack0xfffffff0;
      local_1c = (undefined *)0x451af2;
      puVar2 = (undefined4 *)FUN_004523e0();
      uVar7 = uVar7 + 1;
      *(undefined4 *)((int)local_1030 + iVar6) = *puVar2;
      uVar1 = puVar2[2];
      *(undefined4 *)((int)local_1030 + iVar6 + 4) = puVar2[1];
      *(undefined4 *)((int)local_1030 + iVar6 + 8) = uVar1;
      iVar6 = iVar6 + 0xc;
    } while (uVar7 < local_14);
  }
  local_14 = (float **)0x451b1c;
  fVar10 = (float10)FUN_0045e9e0();
  local_20 = (undefined *)(float)(fVar10 * (float10)0.1);
  local_14 = (float **)0x451b2a;
  fVar10 = (float10)FUN_0045e9e0();
  local_1c = (undefined *)(float)(fVar10 * (float10)0.1);
  local_14 = (float **)0x451b38;
  FUN_0045e9e0();
  if (local_14 != (float **)0x0) {
    pfVar3 = local_1030 + 1;
    do {
      local_20 = (undefined *)(pfVar3[-1] + (float)local_20);
      local_1c = (undefined *)((float)local_1c + *pfVar3);
      pfVar3 = pfVar3 + 3;
      local_14 = (float **)((int)local_14 + -1);
    } while (local_14 != (float **)0x0);
  }
  local_14 = (float **)&local_20;
  local_18 = (float *)0x451b80;
  local_24 = (float *)FUN_0045eab0();
  if (local_14 == (float **)0x0) {
    *local_24 = 0.0;
    local_24[1] = 1.0;
    local_24[2] = 0.0;
  }
  local_18 = (float *)&DAT_005dcbd0;
  local_1c = (undefined *)0x451ba4;
  local_14 = (float **)local_24;
  fVar10 = (float10)FUN_0045eba0();
  fVar10 = (float10)0.3 - (fVar10 - (float10)-1.0) * (float10)0.5 * (float10)-0.5;
  fVar13 = (float)fVar10;
  fVar14 = (float)fVar10;
  fVar15 = (float)fVar10;
  for (pfVar3 = DAT_005dcbc0; pfVar3 != (float *)0x0; pfVar3 = (float *)pfVar3[8]) {
    local_14 = &param_2;
    local_1c = (undefined *)0x451beb;
    local_18 = pfVar3;
    AdjustStackForLargeAllocations();
    pfVar8 = param_1;
    ppfVar9 = &local_18;
    for (iVar6 = 8; iVar6 != 0; iVar6 = iVar6 + -1) {
      *ppfVar9 = (float *)*pfVar8;
      pfVar8 = pfVar8 + 1;
      ppfVar9 = (float **)((float *)ppfVar9 + 1);
    }
    local_1c = (undefined *)0x451bfc;
    iVar6 = FUN_00453350();
    if (iVar6 != 0) {
      if (pfVar3[7] == 0.0) {
        param_2 = (float *)(1.0 - (float)param_2 / pfVar3[6]);
        fVar13 = (float)param_2 * *pfVar3 * fVar13;
        fVar14 = pfVar3[1] * (float)param_2 * fVar14;
        fVar15 = pfVar3[2] * (float)param_2 * fVar15;
      }
      else {
        param_3 = local_24;
        local_30 = *param_1 - pfVar3[3];
        param_2 = &local_30;
        local_2c = param_1[1] - pfVar3[4];
        local_28 = param_1[2] - pfVar3[5];
        param_1 = (float *)0x451c3e;
        fVar10 = (float10)FUN_0045eba0();
        if ((float10)0.1 < fVar10) {
          fVar11 = (float10)1.0 - (float10)(float)param_2 / (float10)pfVar3[6];
          fVar12 = fVar10 * (float10)*pfVar3 * fVar11;
          if ((float10)fVar13 <= fVar12) {
            fVar13 = (float)fVar12;
          }
          fVar12 = (float10)pfVar3[1] * fVar10 * fVar11;
          if ((float10)fVar14 <= fVar12) {
            fVar14 = (float)fVar12;
          }
          fVar11 = (float10)pfVar3[2] * fVar10 * fVar11;
          if ((float10)fVar15 <= fVar11) {
            fVar15 = (float)fVar11;
          }
        }
      }
    }
  }
  local_14 = (float **)0x451da4;
  uVar7 = __ftol();
  local_14 = (float **)0x451dbd;
  uVar4 = __ftol();
  local_14 = (float **)0x451dd0;
  uVar5 = __ftol();
  return uVar5 | ((uVar7 | 0xffffff00) << 8 | uVar4) << 8;
}



void FUN_00451de0(int param_1,int param_2,int param_3,int param_4,int *param_5)

{
  short sVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  int *piVar5;
  uint uVar6;
  int *piVar7;
  int *piVar8;
  int unaff_ESI;
  int *piVar9;
  int iVar10;
  uint local_1c;
  int local_14;
  
  AdjustStackForLargeAllocations();
  sVar1 = *(short *)((int)DAT_00598ff0 + 0xe);
  local_1c = 0;
  iVar3 = *param_5;
  if (*(short *)(DAT_00598ff0 + 1) != 0) {
    local_14 = 0;
    piVar7 = DAT_00598ff0;
    do {
      piVar9 = (int *)(*piVar7 + local_14);
      if ((*piVar9 != 0) && ((sVar1 * sVar1 & 0x7fffU) != 0)) {
        piVar8 = (int *)(param_4 + iVar3 * 0xc);
        puVar4 = (undefined4 *)(param_3 + iVar3 * 4);
        iVar10 = 0;
        piVar5 = (int *)(param_2 + iVar3 * 4);
        iVar3 = unaff_ESI;
        do {
          local_14 = (uint)*(ushort *)(iVar10 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
          local_1c = 0x451e75;
          iVar2 = FUN_00452360();
          if (iVar2 == 0) {
            local_14 = (uint)*(ushort *)(iVar10 + 2 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
            local_1c = 0x451ee1;
            iVar2 = FUN_00452360();
            if (iVar2 != 0) {
              *piVar5 = iVar10 + *(int *)((int)piVar9 + 10);
              *puVar4 = 2;
              *piVar8 = (uint)*(ushort *)(iVar10 + 2 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
              piVar8[1] = (uint)*(ushort *)(iVar10 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
              uVar6 = (uint)*(ushort *)(iVar10 + 4 + *(int *)((int)piVar9 + 10));
              goto LAB_00451f96;
            }
            local_14 = (uint)*(ushort *)(iVar10 + 4 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
            local_1c = 0x451f4a;
            iVar2 = FUN_00452360();
            if (iVar2 != 0) {
              *piVar5 = iVar10 + *(int *)((int)piVar9 + 10);
              *puVar4 = 3;
              *piVar8 = (uint)*(ushort *)(iVar10 + 4 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
              piVar8[1] = (uint)*(ushort *)(iVar10 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
              uVar6 = (uint)*(ushort *)(iVar10 + 2 + *(int *)((int)piVar9 + 10));
              goto LAB_00451f96;
            }
          }
          else {
            *piVar5 = iVar10 + *(int *)((int)piVar9 + 10);
            *puVar4 = 1;
            *piVar8 = (uint)*(ushort *)(iVar10 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
            piVar8[1] = (uint)*(ushort *)(iVar10 + 2 + *(int *)((int)piVar9 + 10)) * 0x20 + *piVar9;
            uVar6 = (uint)*(ushort *)(iVar10 + 4 + *(int *)((int)piVar9 + 10));
LAB_00451f96:
            piVar5 = piVar5 + 1;
            iVar3 = iVar3 + 1;
            piVar8[2] = uVar6 * 0x20 + *piVar9;
            puVar4 = puVar4 + 1;
            piVar8 = piVar8 + 3;
          }
          iVar10 = iVar10 + 0xc;
          piVar7 = DAT_00598ff0;
          unaff_ESI = iVar3;
        } while (param_1 != 1);
      }
      local_14 = local_14 + 0x3e;
      local_1c = local_1c + 1;
    } while (local_1c < *(ushort *)(piVar7 + 1));
  }
  *param_5 = iVar3;
  return;
}



undefined4 FUN_00452000(undefined4 param_1)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  uint uVar5;
  int *piVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  uVar4 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
          2;
  uVar8 = 0;
  if (*(short *)(DAT_00598ff0 + 1) == 0) {
    return 0;
  }
  iVar9 = 0;
  piVar3 = DAT_00598ff0;
  do {
    piVar6 = (int *)(*piVar3 + iVar9);
    if (*piVar6 != 0) {
      uVar5 = 0;
      uVar1 = uVar4 & 0xffff;
      if (uVar1 != 0) {
        iVar7 = 0;
        do {
          iVar2 = FUN_00452360(param_1,(uint)*(ushort *)(*(int *)((int)piVar6 + 10) + iVar7) * 0x20
                                       + *piVar6);
          if (iVar2 != 0) {
            return *(undefined4 *)
                    (*piVar6 + 0x10 +
                    (uint)*(ushort *)(*(int *)((int)piVar6 + 10) + uVar5 * 0xc) * 0x20);
          }
          iVar2 = FUN_00452360(param_1,(uint)*(ushort *)(*(int *)((int)piVar6 + 10) + 2 + iVar7) *
                                       0x20 + *piVar6);
          if (iVar2 != 0) {
            return *(undefined4 *)
                    (*piVar6 + 0x10 +
                    (uint)*(ushort *)(*(int *)((int)piVar6 + 10) + 2 + uVar5 * 0xc) * 0x20);
          }
          uVar4 = (uint)*(ushort *)(*(int *)((int)piVar6 + 10) + 4 + iVar7) * 0x20 + *piVar6;
          iVar2 = FUN_00452360(param_1);
          if (iVar2 != 0) {
            return *(undefined4 *)
                    (*piVar6 + 0x10 +
                    (uint)*(ushort *)(*(int *)((int)piVar6 + 10) + 4 + uVar5 * 0xc) * 0x20);
          }
          uVar5 = uVar5 + 1;
          iVar7 = iVar7 + 0xc;
          piVar3 = DAT_00598ff0;
        } while (uVar5 < uVar1);
      }
    }
    uVar8 = uVar8 + 1;
    iVar9 = iVar9 + 0x3e;
    if (*(ushort *)(piVar3 + 1) <= uVar8) {
      return 0;
    }
  } while( true );
}



void FUN_00452160(uint param_1,int param_2,int param_3,int param_4,int *param_5)

{
  ushort uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 *puVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  int unaff_EDI;
  int iVar9;
  int local_14;
  
  AdjustStackForLargeAllocations();
  uVar4 = 0;
  iVar6 = *param_5;
  iVar3 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar9 = 0;
      iVar2 = *(int *)(*(int *)(*(int *)(iVar3 + 0x230) + uVar4 * 4) + 0x56);
      if ((iVar2 != 0) && (*(int *)(iVar2 + 8) != 0)) {
        piVar8 = (int *)(param_4 + iVar6 * 0xc);
        puVar5 = (undefined4 *)(param_3 + iVar6 * 4);
        piVar7 = (int *)(param_2 + iVar6 * 4);
        iVar6 = unaff_EDI;
        do {
          local_14 = (uint)*(ushort *)(iVar9 + *(int *)(iVar2 + 0xc)) * 0x20 + *(int *)(iVar2 + 4);
          iVar3 = FUN_00452360();
          if (iVar3 == 0) {
            local_14 = (uint)*(ushort *)(iVar9 + 2 + *(int *)(iVar2 + 0xc)) * 0x20 +
                       *(int *)(iVar2 + 4);
            iVar3 = FUN_00452360();
            if (iVar3 != 0) {
              *piVar7 = iVar9 + *(int *)(iVar2 + 0xc);
              *puVar5 = 2;
              *piVar8 = (uint)*(ushort *)(iVar9 + 2 + *(int *)(iVar2 + 0xc)) * 0x20 +
                        *(int *)(iVar2 + 4);
              uVar1 = *(ushort *)(iVar9 + *(int *)(iVar2 + 0xc));
              goto LAB_0045227c;
            }
            local_14 = (uint)*(ushort *)(iVar9 + *(int *)(iVar2 + 0xc)) * 0x20 + *(int *)(iVar2 + 4)
            ;
            iVar3 = FUN_00452360();
            if (iVar3 != 0) {
              *piVar7 = iVar9 + *(int *)(iVar2 + 0xc);
              *puVar5 = 3;
              *piVar8 = (uint)*(ushort *)(iVar9 + 4 + *(int *)(iVar2 + 0xc)) * 0x20 +
                        *(int *)(iVar2 + 4);
              piVar8[1] = (uint)*(ushort *)(iVar9 + *(int *)(iVar2 + 0xc)) * 0x20 +
                          *(int *)(iVar2 + 4);
              uVar1 = *(ushort *)(iVar9 + 2 + *(int *)(iVar2 + 0xc));
              goto LAB_004522fc;
            }
          }
          else {
            *piVar7 = iVar9 + *(int *)(iVar2 + 0xc);
            *puVar5 = 1;
            *piVar8 = (uint)*(ushort *)(iVar9 + *(int *)(iVar2 + 0xc)) * 0x20 + *(int *)(iVar2 + 4);
            uVar1 = *(ushort *)(iVar9 + 2 + *(int *)(iVar2 + 0xc));
LAB_0045227c:
            piVar8[1] = (uint)uVar1 * 0x20 + *(int *)(iVar2 + 4);
            uVar1 = *(ushort *)(iVar9 + 4 + *(int *)(iVar2 + 0xc));
LAB_004522fc:
            piVar7 = piVar7 + 1;
            iVar6 = iVar6 + 1;
            piVar8[2] = (uint)uVar1 * 0x20 + *(int *)(iVar2 + 4);
            puVar5 = puVar5 + 1;
            piVar8 = piVar8 + 3;
          }
          iVar9 = iVar9 + 0xc;
          uVar4 = param_1;
          iVar3 = DAT_00598d90;
          unaff_EDI = iVar6;
        } while (local_14 + 1U < *(uint *)(iVar2 + 8));
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(uint *)(iVar3 + 0x239));
  }
  *param_5 = iVar6;
  return;
}



undefined4 FUN_00452360(float *param_1,float *param_2)

{
  float10 fVar1;
  
  if (param_1 == param_2) {
    return 1;
  }
  fVar1 = (float10)FUN_004ad3c0((double)(*param_1 - *param_2));
  if (((fVar1 < (float10)1.0) &&
      (fVar1 = (float10)FUN_004ad3c0((double)(param_1[1] - param_2[1])), fVar1 < (float10)1.0)) &&
     (fVar1 = (float10)FUN_004ad3c0((double)(param_1[2] - param_2[2])), fVar1 < (float10)1.0)) {
    return 1;
  }
  return 0;
}



undefined4 * FUN_004523e0(undefined4 *param_1,float **param_2)

{
  undefined4 *puVar1;
  undefined local_28 [12];
  float local_1c;
  undefined4 local_18;
  float local_14;
  float *local_10;
  float **local_c;
  
  AdjustStackForLargeAllocations();
  local_1c = *param_2[2] - **param_2;
  local_14 = param_2[2][2] - (*param_2)[2];
  local_c = &local_10;
  local_10 = &local_1c;
  local_18 = 0x45243c;
  FUN_0045eb50();
  local_c = (float **)local_28;
  local_10 = (float *)0x452448;
  puVar1 = (undefined4 *)FUN_0045eab0();
  *param_1 = *puVar1;
  param_1[1] = puVar1[1];
  param_1[2] = puVar1[2];
  return param_1;
}



void FUN_00452470(void)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  uint uVar9;
  int *piVar10;
  int iVar11;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  float local_24;
  float local_20;
  undefined4 *local_1c;
  float local_18;
  undefined4 *local_14;
  int *piVar12;
  
  AdjustStackForLargeAllocations();
  local_44 = 0;
  local_40 = 0;
  local_3c = 0;
  if (DAT_004cd7fc != 0) {
    local_14 = (undefined4 *)0x4524a9;
    FUN_004518f0();
    uVar9 = 0;
    iVar6 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        iVar11 = *(int *)(*(int *)(iVar6 + 0x230) + uVar9 * 4);
        if ((*(char **)(iVar11 + 0x9d) != (char *)0x0) && (**(char **)(iVar11 + 0x9d) == '\a')) {
          local_14 = &local_44;
          local_18 = (float)(iVar11 + 6);
          local_1c = &local_64;
          local_20 = 6.349886e-39;
          FUN_0045f520();
          iVar6 = *(int *)(iVar11 + 0x9d);
          local_14 = (undefined4 *)(*(byte *)(iVar6 + 5) & 2);
          local_18 = (float)(uint)(*(byte *)(iVar6 + 6) >> 1);
          local_1c = (undefined4 *)((float)*(int *)(iVar6 + 0x17) * 0.003921569);
          local_20 = (float)*(int *)(iVar6 + 0x13) * 0.003921569;
          local_24 = (float)*(int *)(iVar6 + 0xf) * 0.003921569;
          uStack_28 = local_5c;
          uStack_2c = local_60;
          uStack_30 = local_64;
          uStack_34 = 0x452543;
          FUN_00453260();
          iVar6 = DAT_00598d90;
        }
        uVar9 = uVar9 + 1;
      } while (uVar9 < *(uint *)(iVar6 + 0x239));
    }
  }
  iVar6 = *(ushort *)((int)DAT_00598ff0 + 0xe) + 1;
  iVar6 = iVar6 * iVar6;
  if (DAT_004cd7fc != 0) {
    uVar9 = 0;
    if (DAT_004cd800 == 0) {
      if (*(short *)(DAT_00598ff0 + 1) != 0) {
        local_18 = 0.0;
        piVar4 = DAT_00598ff0;
        do {
          iVar11 = *piVar4;
          if ((*(int *)(iVar11 + (int)local_18) != 0) && (iVar6 != 0)) {
            iVar3 = 0;
            iVar7 = iVar6;
            do {
              iVar3 = iVar3 + 0x20;
              *(undefined4 *)(*(int *)(iVar11 + (int)local_18) + -0x10 + iVar3) =
                   *(undefined4 *)(DAT_005dcbdc + DAT_005dcbe4 * 4);
              DAT_005dcbe4 = DAT_005dcbe4 + 1;
              iVar7 = iVar7 + -1;
              piVar4 = DAT_00598ff0;
            } while (iVar7 != 0);
          }
          uVar9 = uVar9 + 1;
          local_18 = (float)((int)local_18 + 0x3e);
        } while (uVar9 < *(ushort *)(piVar4 + 1));
      }
    }
    else {
      piVar4 = DAT_00598ff0;
      iVar11 = iVar6;
      if (*(short *)(DAT_00598ff0 + 1) != 0) {
        local_18 = 0.0;
        do {
          piVar10 = (int *)(*piVar4 + (int)local_18);
          if ((*piVar10 != 0) && (iVar6 != 0)) {
            iVar7 = 0;
            local_24 = (float)iVar6;
            piVar12 = piVar10;
            do {
              if (*(int *)(*piVar10 + iVar7 + 0x10) == 0) {
                local_14 = (undefined4 *)0x1;
                local_1c = (undefined4 *)0x4525d2;
                local_18 = (float)(*piVar10 + iVar7);
                uVar2 = FUN_00451a60();
                local_20 = 0.0;
                *(undefined4 *)(*piVar10 + 0x10 + iVar7) = uVar2;
                piVar4 = DAT_00598ff0;
                if (*(short *)(DAT_00598ff0 + 1) != 0) {
                  local_14 = (undefined4 *)0x0;
                  iVar6 = iVar11;
                  do {
                    piVar8 = (int *)(*piVar4 + (int)local_14);
                    if (*piVar8 != 0) {
                      iVar11 = 0;
                      piVar10 = piVar12;
                      do {
                        local_14 = (undefined4 *)(*piVar8 + iVar11);
                        local_18 = (float)(*piVar10 + iVar7);
                        local_1c = (undefined4 *)0x452614;
                        iVar3 = FUN_00452360();
                        if (iVar3 != 0) {
                          *(undefined4 *)(*piVar8 + 0x10 + iVar11) =
                               *(undefined4 *)(*piVar10 + 0x10 + iVar7);
                        }
                        iVar11 = iVar11 + 0x20;
                        piVar4 = DAT_00598ff0;
                        piVar12 = piVar10;
                      } while (local_1c != (undefined4 *)0x1);
                    }
                    local_14 = (undefined4 *)((int)local_14 + 0x3e);
                    local_20 = (float)((int)local_20 + 1);
                    iVar11 = iVar6;
                  } while ((uint)local_20 < (uint)*(ushort *)(piVar4 + 1));
                }
              }
              iVar7 = iVar7 + 0x20;
              local_24 = (float)((int)local_24 + -1);
            } while (local_24 != 0.0);
          }
          uVar9 = uVar9 + 1;
          local_18 = (float)((int)local_18 + 0x3e);
        } while (uVar9 < *(ushort *)(piVar4 + 1));
      }
      uVar9 = 0;
      if (*(short *)(piVar4 + 1) != 0) {
        local_18 = 0.0;
        do {
          iVar7 = *piVar4;
          iVar3 = iVar6;
          if ((*(int *)(iVar7 + (int)local_18) != 0) && (iVar6 != 0)) {
            iVar5 = 0;
            do {
              puVar1 = (undefined4 *)(*(int *)(iVar7 + (int)local_18) + 0x10 + iVar5);
              iVar5 = iVar5 + 0x20;
              *(undefined4 *)(DAT_005dcbdc + DAT_005dcbe4 * 4) = *puVar1;
              DAT_005dcbe4 = DAT_005dcbe4 + 1;
              iVar6 = iVar6 + -1;
              piVar4 = DAT_00598ff0;
              iVar3 = iVar11;
            } while (iVar6 != 0);
          }
          uVar9 = uVar9 + 1;
          local_18 = (float)((int)local_18 + 0x3e);
          iVar6 = iVar3;
        } while (uVar9 < *(ushort *)(piVar4 + 1));
        return;
      }
    }
  }
  return;
}



undefined4 FUN_00452770(int param_1)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint unaff_EDI;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  uVar2 = 0;
  iVar3 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      puVar1 = *(uint **)(*(int *)(*(int *)(iVar3 + 0x230) + uVar2 * 4) + 0x56);
      if ((puVar1 != (uint *)0x0) && (uVar4 = 0, *puVar1 != 0)) {
        iVar5 = 0;
        do {
          iVar3 = FUN_00452360(param_1,puVar1[1] + iVar5);
          if ((iVar3 != 0) && (*(int *)(puVar1[1] + 0x10 + iVar5) == 0)) {
            *(undefined4 *)(puVar1[1] + 0x10 + iVar5) = *(undefined4 *)(param_1 + 0x10);
          }
          uVar4 = uVar4 + 1;
          iVar5 = iVar5 + 0x20;
          uVar2 = unaff_EDI;
          iVar3 = DAT_00598d90;
        } while (uVar4 < *puVar1);
      }
      uVar2 = uVar2 + 1;
      unaff_EDI = uVar2;
    } while (uVar2 < *(uint *)(iVar3 + 0x239));
  }
  return 1;
}



undefined4 FUN_00452810(float *param_1,float *param_2,undefined4 param_3,float *param_4)

{
  float *pfVar1;
  float10 fVar2;
  undefined local_28 [12];
  float local_1c;
  undefined4 local_18;
  float local_14;
  double local_10;
  
  AdjustStackForLargeAllocations();
  local_1c = *param_4 - *param_2;
  local_14 = param_4[2] - param_2[2];
  local_10 = (double)CONCAT44(&local_10,&local_1c);
  local_18 = 0x45286a;
  FUN_0045eb50();
  local_10 = (double)CONCAT44(local_28,0x452876);
  pfVar1 = (float *)FUN_0045eab0();
  *param_1 = *pfVar1;
  param_1[1] = pfVar1[1];
  param_1[2] = pfVar1[2];
  local_10 = (double)*param_1;
  local_14 = 6.351216e-39;
  fVar2 = (float10)FUN_004ad3c0();
  if (fVar2 <= (float10)0.9950000047683716) {
    local_10 = (double)param_1[1];
    local_14 = 6.351258e-39;
    fVar2 = (float10)FUN_004ad3c0();
    if (fVar2 <= (float10)0.9950000047683716) {
      local_10 = (double)param_1[2];
      local_14 = 6.3513e-39;
      fVar2 = (float10)FUN_004ad3c0();
      if (fVar2 <= (float10)0.9950000047683716) {
        return 0;
      }
    }
  }
  return 1;
}



undefined4 FUN_00452900(void)

{
  float *pfVar1;
  float fVar2;
  ushort *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  float *pfVar9;
  float *pfVar10;
  float unaff_EDI;
  float *pfVar11;
  float **ppfVar12;
  float10 fVar13;
  float10 fVar14;
  float10 fVar15;
  undefined local_4c [12];
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float *local_28;
  float *local_24;
  undefined *local_20;
  float *local_1c;
  float *local_18 [2];
  float *pfVar16;
  
  AdjustStackForLargeAllocations();
  local_20 = (undefined *)0x0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar8 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + (int)local_20 * 4);
      if (iVar8 != 0) {
        local_1c = *(float **)(iVar8 + 0x56);
        if ((*(int *)(iVar8 + 0x9d) == 0) || ((*(byte *)(*(int *)(iVar8 + 0x9d) + 1) & 4) == 0)) {
          if (local_1c[2] != 0.0) {
            iVar8 = 0;
            do {
              fVar2 = local_1c[1];
              puVar3 = (ushort *)(iVar8 + (int)local_1c[3]);
              pfVar9 = (float *)((uint)puVar3[2] * 0x20 + (int)fVar2);
              pfVar11 = (float *)((uint)puVar3[1] * 0x20 + (int)fVar2);
              pfVar10 = (float *)((uint)*puVar3 * 0x20 + (int)fVar2);
              local_20 = local_4c;
              local_24 = (float *)0x4529cf;
              local_28 = pfVar9;
              local_1c = pfVar10;
              local_18[0] = pfVar11;
              local_18[1] = pfVar9;
              pfVar16 = pfVar10;
              iVar4 = FUN_00452810();
              if (iVar4 != 0) {
                local_18[1] = (float *)0x0;
                do {
                  pfVar1 = pfVar11;
                  if ((local_18[1] == (float *)0x1) ||
                     (pfVar1 = pfVar9, local_18[1] == (float *)0x2)) {
                    pfVar10 = pfVar1;
                    pfVar16 = pfVar10;
                  }
                  if (pfVar10[4] == 0.0) {
                    local_18[1] = (float *)local_4c;
                    local_18[0] = (float *)&DAT_005dcbd0;
                    local_1c = (float *)0x452a0d;
                    fVar13 = (float10)FUN_0045eba0();
                    fVar13 = (float10)0.3 - (fVar13 - (float10)-1.0) * (float10)0.5 * (float10)-0.5;
                    local_34 = (float)fVar13;
                    local_30 = (float)fVar13;
                    local_2c = (float)fVar13;
                    for (pfVar9 = DAT_005dcbc0; pfVar9 != (float *)0x0; pfVar9 = (float *)pfVar9[8])
                    {
                      local_18[1] = (float *)&stack0xfffffff4;
                      local_1c = (float *)0x452a54;
                      local_18[0] = pfVar9;
                      AdjustStackForLargeAllocations();
                      ppfVar12 = local_18;
                      for (iVar4 = 8; iVar4 != 0; iVar4 = iVar4 + -1) {
                        *ppfVar12 = (float *)*pfVar10;
                        pfVar10 = pfVar10 + 1;
                        ppfVar12 = (float **)((float *)ppfVar12 + 1);
                      }
                      local_1c = (float *)0x452a62;
                      iVar4 = FUN_00453350();
                      if (iVar4 != 0) {
                        if (pfVar9[7] == 0.0) {
                          unaff_EDI = 1.0 - unaff_EDI / pfVar9[6];
                          local_34 = *pfVar9 * unaff_EDI * local_34;
                          local_30 = pfVar9[1] * unaff_EDI * local_30;
                          local_2c = pfVar9[2] * unaff_EDI * local_2c;
                        }
                        else {
                          local_40 = *pfVar16 - pfVar9[3];
                          local_3c = pfVar16[1] - pfVar9[4];
                          local_38 = pfVar16[2] - pfVar9[5];
                          fVar13 = (float10)FUN_0045eba0();
                          if ((float10)0.1 < fVar13) {
                            fVar14 = (float10)1.0 - (float10)unaff_EDI / (float10)pfVar9[6];
                            fVar15 = (float10)*pfVar9 * fVar13 * fVar14;
                            if ((float10)local_34 <= fVar15) {
                              local_34 = (float)fVar15;
                            }
                            fVar15 = (float10)pfVar9[1] * fVar13 * fVar14;
                            if ((float10)local_30 <= fVar15) {
                              local_30 = (float)fVar15;
                            }
                            fVar14 = (float10)pfVar9[2] * fVar13 * fVar14;
                            if ((float10)local_2c <= fVar14) {
                              local_2c = (float)fVar14;
                            }
                          }
                        }
                      }
                      pfVar10 = pfVar16;
                      pfVar11 = local_24;
                    }
                    if (1.0 < local_34) {
                      local_34 = 1.0;
                    }
                    if (1.0 < local_30) {
                      local_30 = 1.0;
                    }
                    if (1.0 < local_2c) {
                      local_2c = 1.0;
                    }
                    if (local_34 < DAT_004cd7f8) {
                      local_34 = DAT_004cd7f8;
                    }
                    if (local_30 < DAT_004cd7f8) {
                      local_30 = DAT_004cd7f8;
                    }
                    if (local_2c < DAT_004cd7f8) {
                      local_2c = DAT_004cd7f8;
                    }
                    local_18[1] = (float *)0x452c11;
                    uVar5 = __ftol();
                    local_18[1] = (float *)0x452c2a;
                    uVar6 = __ftol();
                    local_18[1] = (float *)0x452c3d;
                    uVar7 = __ftol();
                    pfVar10[4] = (float)(((uVar5 | 0xffffff00) << 8 | uVar6) << 8 | uVar7);
                    pfVar9 = local_28;
                  }
                  local_18[1] = (float *)((int)local_18[1] + 1);
                } while (local_18[1] < 3);
              }
              iVar8 = iVar8 + 0xc;
            } while ((undefined *)((int)local_18[0] + 1) < (undefined *)local_1c[2]);
          }
        }
        else {
          fVar2 = 0.0;
          if (*local_1c != 0.0) {
            iVar8 = 0;
            do {
              fVar2 = (float)((int)fVar2 + 1);
              *(undefined4 *)(iVar8 + 0x10 + (int)local_1c[1]) = 0xb2ffffff;
              iVar8 = iVar8 + 0x20;
            } while ((uint)fVar2 < (uint)*local_1c);
          }
        }
      }
      local_20 = local_20 + 1;
    } while (local_20 < *(undefined **)(DAT_00598d90 + 0x239));
  }
  return 1;
}



void FUN_00452ca0(void)

{
  uint *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined local_68 [48];
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  int local_20;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  local_20 = 0x452cbd;
  _memset(local_68,0,0x40);
  if (DAT_004cd800 == 0) {
    uVar5 = 0;
    iVar2 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        puVar1 = *(uint **)(*(int *)(*(int *)(iVar2 + 0x230) + uVar5 * 4) + 0x56);
        if ((puVar1 != (uint *)0x0) && (uVar4 = 0, *puVar1 != 0)) {
          iVar3 = 0;
          do {
            *(undefined4 *)(iVar3 + 0x10 + puVar1[1]) =
                 *(undefined4 *)(DAT_005dcbdc + DAT_005dcbe4 * 4);
            DAT_005dcbe4 = DAT_005dcbe4 + 1;
            uVar4 = uVar4 + 1;
            iVar3 = iVar3 + 0x20;
            iVar2 = DAT_00598d90;
          } while (uVar4 < *puVar1);
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 < *(uint *)(iVar2 + 0x239));
    }
  }
  else {
    uVar5 = 0;
    iVar2 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        puVar1 = *(uint **)(*(int *)(*(int *)(iVar2 + 0x230) + uVar5 * 4) + 0x56);
        if ((puVar1 != (uint *)0x0) && (uVar4 = 0, *puVar1 != 0)) {
          iVar3 = 0;
          do {
            local_20 = 0x452d1b;
            FUN_0045f520();
            uVar4 = uVar4 + 1;
            *(undefined4 *)(iVar3 + puVar1[1]) = local_28;
            *(undefined4 *)(iVar3 + 4 + puVar1[1]) = local_24;
            *(int *)(iVar3 + 8 + puVar1[1]) = local_20;
            *(undefined4 *)(iVar3 + 0x10 + puVar1[1]) = 0;
            iVar2 = DAT_00598d90;
            iVar3 = iVar3 + 0x20;
          } while (uVar4 < *puVar1);
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 < *(uint *)(iVar2 + 0x239));
    }
    FUN_00452900();
    uVar5 = 0;
    iVar2 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        if (*(int *)(*(int *)(iVar2 + 0x230) + uVar5 * 4) != 0) {
          FUN_00453010();
          iVar2 = DAT_00598d90;
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 < *(uint *)(iVar2 + 0x239));
    }
    uVar5 = 0;
    if (*(int *)(iVar2 + 0x239) != 0) {
      do {
        puVar1 = *(uint **)(*(int *)(*(int *)(iVar2 + 0x230) + uVar5 * 4) + 0x56);
        FUN_0045fcd0();
        local_38 = 0;
        local_34 = 0;
        local_30 = 0;
        local_2c = 0x3f800000;
        if ((puVar1 != (uint *)0x0) && (uVar4 = 0, *puVar1 != 0)) {
          iVar2 = 0;
          do {
            *(float *)(iVar2 + puVar1[1]) =
                 *(float *)(iVar2 + puVar1[1]) -
                 *(float *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar5 * 4) + 0x36);
            *(float *)(iVar2 + 4 + puVar1[1]) =
                 *(float *)(iVar2 + 4 + puVar1[1]) -
                 *(float *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar5 * 4) + 0x3a);
            *(float *)(iVar2 + 8 + puVar1[1]) =
                 *(float *)(iVar2 + 8 + puVar1[1]) -
                 *(float *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar5 * 4) + 0x3e);
            local_20 = 0x452e82;
            FUN_0045f520();
            uVar4 = uVar4 + 1;
            *(undefined4 *)(iVar2 + puVar1[1]) = local_28;
            *(undefined4 *)(iVar2 + 4 + puVar1[1]) = local_24;
            *(int *)(iVar2 + 8 + puVar1[1]) = local_20;
            iVar2 = iVar2 + 0x20;
          } while (uVar4 < *puVar1);
        }
        uVar5 = uVar5 + 1;
        iVar2 = DAT_00598d90;
      } while (uVar5 < *(uint *)(DAT_00598d90 + 0x239));
    }
    uVar5 = 0;
    if (*(int *)(iVar2 + 0x239) != 0) {
      do {
        puVar1 = *(uint **)(*(int *)(*(int *)(iVar2 + 0x230) + uVar5 * 4) + 0x56);
        if ((puVar1 != (uint *)0x0) && (uVar4 = 0, *puVar1 != 0)) {
          iVar3 = 0;
          do {
            iVar2 = iVar3 + 0x10;
            iVar3 = iVar3 + 0x20;
            *(undefined4 *)(DAT_005dcbdc + DAT_005dcbe4 * 4) = *(undefined4 *)(iVar2 + puVar1[1]);
            DAT_005dcbe4 = DAT_005dcbe4 + 1;
            uVar4 = uVar4 + 1;
            iVar2 = DAT_00598d90;
          } while (uVar4 < *puVar1);
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 < *(uint *)(iVar2 + 0x239));
    }
    if (DAT_005dcbe8 != 0) {
      local_20 = DAT_005dcbdc;
      local_24 = 0x452f56;
      FUN_004ae3e0();
    }
  }
  if (DAT_005dcbe8 != 0) {
    FUN_004adcf0();
    DAT_005dcbe8 = 0;
  }
  if (DAT_005dcbdc != 0) {
    FreeMemory();
    DAT_005dcbdc = 0;
  }
  return;
}



void FUN_00453010(int param_1)

{
  uint *puVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  
  puVar1 = *(uint **)(param_1 + 0x56);
  uVar3 = puVar1[1];
  if ((DAT_004cd800 != 0) && (uVar4 = 0, *puVar1 != 0)) {
    do {
      if (*(int *)(uVar3 + 0x10) == 0) {
        uVar2 = FUN_00451a60(uVar3,0);
        *(undefined4 *)(uVar3 + 0x10) = uVar2;
        FUN_00452770(uVar3);
      }
      uVar4 = uVar4 + 1;
      uVar3 = uVar3 + 0x20;
    } while (uVar4 < *puVar1);
  }
  return;
}



void thunk_FUN_004533b0(void)

{
  int iVar1;
  
  if (DAT_005dcbc0 != 0) {
    do {
      iVar1 = *(int *)(DAT_005dcbc0 + 0x20);
      if (DAT_005dcbc0 != 0) {
        iVar1 = DAT_005dcbc0;
        DAT_005dcbc0 = *(int *)(DAT_005dcbc0 + 0x20);
        FreeMemory(iVar1);
        iVar1 = DAT_005dcbc0;
      }
      DAT_005dcbc0 = iVar1;
    } while (DAT_005dcbc0 != 0);
  }
  return;
}



uint FUN_00453070(int param_1,int param_2,int param_3,int param_4)

{
  ushort *puVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  undefined local_28 [12];
  undefined4 local_1c;
  undefined *local_18;
  undefined8 local_14;
  
  AdjustStackForLargeAllocations();
  puVar1 = (ushort *)(param_2 + param_3 * 0xc);
  iVar2 = (uint)*puVar1 * 0x20 + param_1;
  local_18 = local_28;
  local_14 = (double)CONCAT44((int)&local_14 + 4,
                              *(float *)((uint)puVar1[2] * 0x20 + param_1 + 8) -
                              *(float *)(iVar2 + 8));
  local_1c = 0x4530f5;
  FUN_0045eb50();
  local_14 = (double)CONCAT44(local_28,0x453101);
  uVar3 = FUN_0045eab0();
  local_14 = (double)CONCAT44(uVar3,&DAT_005dcbd0);
  local_18 = (undefined *)0x45310f;
  FUN_0045eba0();
  if ((param_4 != 0) && (*(float *)(iVar2 + 4) < 0.0)) {
    local_14 = (double)(*(float *)(iVar2 + 4) / *(float *)(DAT_00598d90 + 0x10c));
    local_18 = (undefined *)0x453165;
    FUN_004ad3c0();
  }
  local_14 = (double)CONCAT44(0x45319d,(undefined4)local_14);
  uVar4 = __ftol();
  return ((uVar4 | 0xffffff00) << 8 | uVar4) << 8 | uVar4;
}



uint FUN_004531c0(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  iVar4 = param_1 % 3;
  fVar5 = (float)(param_1 % 9) * 0.1 - -0.1;
  if (((iVar4 != 0) && (iVar4 != 1)) && (iVar4 == 2)) {
    fVar5 = 0.0;
  }
  uVar1 = __ftol(fVar5);
  uVar2 = __ftol();
  uVar3 = __ftol();
  return uVar3 | (uVar1 | (uVar2 | 0xffffff00) << 8) << 8;
}



void FUN_00453260(float param_1,float param_2,float param_3,float param_4,float param_5,
                 float param_6,float param_7,float param_8)

{
  void *_Dst;
  float *pfVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x24;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x24);
  pfVar1 = (float *)_memset(_Dst,_Val,_Size);
  pfVar1[3] = param_1;
  pfVar1[5] = param_3;
  pfVar1[4] = param_2;
  pfVar1[7] = param_8;
  if (param_8 == 0.0) {
    *pfVar1 = param_4 + param_4;
    pfVar1[1] = param_5 + param_5;
    pfVar1[2] = param_6 + param_6;
  }
  else {
    *pfVar1 = param_4;
    pfVar1[1] = param_5;
    pfVar1[2] = param_6;
  }
  pfVar1[6] = param_7 * param_7;
  pfVar1[8] = (float)DAT_005dcbc0;
  DAT_005dcbc0 = pfVar1;
  return;
}



void FUN_004532f0(undefined4 param_1,undefined4 param_2,undefined4 param_3,float param_4,
                 undefined4 param_5)

{
  void *_Dst;
  undefined4 *puVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x24;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x24);
  puVar1 = (undefined4 *)_memset(_Dst,_Val,_Size);
  puVar1[7] = param_5;
  puVar1[3] = param_1;
  puVar1[4] = param_2;
  puVar1[6] = param_4 * param_4;
  puVar1[5] = param_3;
  *puVar1 = 0x3f800000;
  puVar1[1] = 0x3f800000;
  puVar1[2] = 0x3f800000;
  puVar1[8] = DAT_005dcbc0;
  DAT_005dcbc0 = puVar1;
  return;
}



undefined4 FUN_00453350(float param_1,float param_2,float param_3)

{
  float fVar1;
  int param_9;
  float *param_10;
  
  param_1 = *(float *)(param_9 + 0xc) - param_1;
  param_2 = *(float *)(param_9 + 0x10) - param_2;
  param_3 = *(float *)(param_9 + 0x14) - param_3;
  fVar1 = param_3 * param_3 + param_2 * param_2 + param_1 * param_1;
  *param_10 = fVar1;
  if (fVar1 < *(float *)(param_9 + 0x18)) {
    return 1;
  }
  return 0;
}



void FUN_004533b0(void)

{
  int iVar1;
  
  if (DAT_005dcbc0 != 0) {
    do {
      iVar1 = *(int *)(DAT_005dcbc0 + 0x20);
      if (DAT_005dcbc0 != 0) {
        iVar1 = DAT_005dcbc0;
        DAT_005dcbc0 = *(int *)(DAT_005dcbc0 + 0x20);
        FreeMemory(iVar1);
        iVar1 = DAT_005dcbc0;
      }
      DAT_005dcbc0 = iVar1;
    } while (DAT_005dcbc0 != 0);
  }
  return;
}



void FUN_004533e0(uint *param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = *param_1;
  uVar1 = uVar2 & 0xff;
  uVar3 = uVar2 >> 8 & 0xff;
  uVar2 = uVar2 >> 0x10 & 0xff;
  if (uVar1 < 0x80) {
    uVar1 = 0x80;
  }
  if (uVar3 < 0x80) {
    uVar3 = 0x80;
  }
  if (uVar2 < 0x80) {
    uVar2 = 0x80;
  }
  *param_1 = ((uVar1 | 0xffffff00) << 8 | uVar3) << 8 | uVar2;
  return;
}



undefined4 FUN_00453440(undefined2 *param_1,int param_2)

{
  int *piVar1;
  byte *pbVar2;
  ushort *puVar3;
  byte bVar4;
  void *pvVar5;
  int iVar6;
  size_t sVar7;
  uint uVar8;
  int unaff_EBX;
  undefined4 *puVar9;
  int unaff_ESI;
  undefined4 *puVar10;
  undefined4 unaff_EDI;
  undefined4 *puVar11;
  int local_26cc [2400];
  char local_14c [256];
  int local_4c;
  undefined local_48 [4];
  int local_44;
  undefined local_40 [4];
  undefined4 local_3c;
  undefined4 local_38;
  int local_34;
  uint local_30;
  int local_2c;
  int local_28;
  undefined4 local_24;
  uint *local_20;
  undefined4 uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  undefined uVar16;
  
  AdjustStackForLargeAllocations();
  DAT_00598d58 = 0;
  if (param_2 == 0) {
    FID_conflict___mbscpy(local_14c,&DAT_005d50e0);
    FID_conflict__strcat(local_14c,(char *)param_1);
  }
  else {
    FID_conflict___mbscpy(local_14c,(char *)param_1);
  }
  DAT_005dcbbc = OpenFileWithFixedFlags0x40();
  if (DAT_005dcbbc == 0) {
    return 0;
  }
  local_20 = (uint *)&local_44;
  local_24 = 0x4534d0;
  CopyDataWithLock();
  if (param_2 == 0) {
    local_20 = (uint *)&DAT_004ca030;
    local_24 = 0x4534ef;
    CopyDataWithLock();
    local_20 = (uint *)DAT_004d80cc;
    local_24 = 0x45350a;
    CopyDataWithLock();
    local_20 = (uint *)(DAT_004d80cc + 0x14);
    local_24 = 0x453526;
    CopyDataWithLock();
    local_20 = (uint *)&local_34;
    local_24 = 0x45353b;
    CopyDataWithLock();
    if (*(int *)(DAT_005df2c8 + 0xc) != 0) {
      FreeMemory();
      *(undefined4 *)(DAT_005df2c8 + 0xc) = 0;
    }
    sVar7 = local_34 * 2;
    iVar13 = 0;
    local_20 = (uint *)0x45356a;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    local_20 = (uint *)0x453573;
    pvVar5 = _memset(pvVar5,iVar13,sVar7);
    *(void **)(DAT_005df2c8 + 0xc) = pvVar5;
    local_20 = *(uint **)(DAT_005df2c8 + 0xc);
    local_24 = 0x45359a;
    CopyDataWithLock();
    local_20 = (uint *)&local_4c;
    local_24 = 0x4535b0;
    CopyDataWithLock();
    if (local_4c < 1) goto LAB_004535e7;
    local_20 = (uint *)local_26cc;
  }
  else {
    local_20 = (uint *)&DAT_004ca030;
  }
  local_24 = 0x4535e4;
  CopyDataWithLock();
LAB_004535e7:
  if (local_44 != 0) {
    local_20 = &DAT_005df300;
    local_24 = 0x453603;
    CopyDataWithLock();
    if (param_2 != 0) {
      local_20 = (uint *)&DAT_004d8328;
      local_24 = 0x45361e;
      CopyDataWithLock();
      DAT_004d8328 = DAT_004d8328 + 1;
      DAT_005990a0 = 0;
    }
    local_20 = (uint *)&DAT_005d6540;
    local_24 = 0x45364a;
    CopyDataWithLock();
    local_20 = (uint *)(DAT_005e45e4 + 0x90);
    local_24 = 0x453668;
    CopyDataWithLock();
    local_20 = (uint *)(DAT_005e45e4 + 0x4c);
    local_24 = 0x453683;
    CopyDataWithLock();
    local_20 = (uint *)&local_2c;
    DAT_004c71a4 = 1;
    local_24 = 0x45369f;
    CopyDataWithLock();
    param_1 = (undefined2 *)0x0;
    if (0 < local_2c) {
      do {
        iVar13 = FUN_00474a30();
        local_20 = &local_30;
        local_24 = 0x4536d5;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0x18a);
        local_24 = 0x4536ef;
        CopyDataWithLock();
        if ((char)local_30 == '\0') {
          *(undefined4 *)(*(int *)(iVar13 + 4) + 0x86) = DAT_005d873c;
          FUN_00475490();
        }
        else {
          iVar6 = 0;
          if ((char)local_30 != '\0') {
            do {
              local_20 = (uint *)&stack0xffffffec;
              local_24 = 0x453735;
              CopyDataWithLock();
              local_20 = (uint *)&stack0xffffffeb;
              local_24 = 0x45374a;
              iVar14 = DAT_005dcbbc;
              CopyDataWithLock();
              uVar16 = (undefined)((uint)iVar14 >> 0x18);
              local_20 = (uint *)0x45375c;
              iVar14 = FUN_004429a0();
              *(undefined *)(iVar14 + 4) = uVar16;
              if (0 < (int)param_1) {
                sVar7 = 0x14;
                iVar15 = 0;
                local_20 = (uint *)0x453779;
                pvVar5 = (void *)AllocateMemoryWithCallback();
                local_20 = (uint *)0x453782;
                local_20 = (uint *)_memset(pvVar5,iVar15,sVar7);
                *(uint **)(iVar14 + 0x17) = local_20;
                local_24 = 0x453798;
                CopyDataWithLock();
              }
              local_24 = 0x4537af;
              local_20 = (uint *)(int *)(iVar14 + 5);
              CopyDataWithLock();
              local_20 = (uint *)(iVar14 + 10);
              local_24 = 0x4537c5;
              CopyDataWithLock();
              local_24 = 0x4537dc;
              local_20 = (uint *)(ushort *)(iVar14 + 0xc);
              CopyDataWithLock();
              *(ushort *)(iVar14 + 0xc) = -(ushort)(*(int *)(iVar14 + 5) != 0x640) & 0x640;
              iVar6 = iVar6 + 1;
            } while (iVar6 < (int)(local_30 & 0xff));
          }
          iVar6 = *(int *)(iVar13 + 4);
          *(undefined4 *)(iVar6 + 0x86) =
               *(undefined4 *)(iVar6 + 0x175 + (uint)*(byte *)(iVar6 + 0x18a) * 4);
        }
        local_20 = (uint *)&stack0xfffffff4;
        local_24 = 0x45383c;
        CopyDataWithLock();
        unaff_EBX = 0;
        if (0 < unaff_ESI) {
          do {
            local_20 = (uint *)&stack0xffffffec;
            local_24 = 0x453860;
            CopyDataWithLock();
            local_24 = 0;
            local_20 = (uint *)0x453887;
            iVar6 = FUN_00474bd0();
            *(undefined4 *)(*(int *)(iVar13 + 4) + 0x109 + unaff_EBX * 4) =
                 (&DAT_005dfe90)[iVar6 * 0x38];
            (&DAT_005dff2b)[iVar6 * 0x38] = 0;
            local_20 = (uint *)&stack0xfffffff3;
            local_24 = 0x4538c1;
            CopyDataWithLock();
            *(char *)(*(int *)(*(int *)(iVar13 + 4) + 0x109 + unaff_EBX * 4) + 4) =
                 (char)((uint)unaff_EDI >> 0x18);
            uVar16 = 0;
            local_20 = (uint *)&stack0xffffffea;
            local_24 = 0x4538e9;
            CopyDataWithLock();
            *(undefined *)(*(int *)(*(int *)(iVar13 + 4) + 0x109 + unaff_EBX * 4) + 0x1f) = uVar16;
            local_20 = (uint *)local_40;
            local_24 = 0x453911;
            CopyDataWithLock();
            *(undefined *)(*(int *)(*(int *)(iVar13 + 4) + 0x109 + unaff_EBX * 4) + 10) =
                 local_40[0];
            local_20 = &local_38;
            local_24 = 0x45393a;
            CopyDataWithLock();
            *(undefined4 *)(*(int *)(*(int *)(iVar13 + 4) + 0x109 + unaff_EBX * 4) + 5) = local_38;
            unaff_EBX = unaff_EBX + 1;
          } while (unaff_EBX < unaff_ESI);
        }
        *(char *)(*(int *)(iVar13 + 4) + 0x108) = (char)unaff_ESI;
        *(int *)(*(int *)(iVar13 + 4) + 0x98) =
             *(int *)(*(int *)(*(int *)(iVar13 + 4) + 0x86) + 0x13) + 0x104;
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 6);
        local_24 = 0x453999;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0x46);
        local_24 = 0x4539b2;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0xa4);
        local_24 = 0x4539cd;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0xd3);
        local_24 = 0x4539e8;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 4);
        local_24 = 0x453a00;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 5);
        local_24 = 0x453a17;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0x8a);
        local_24 = 0x453a32;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0x8e);
        local_24 = 0x453a4e;
        CopyDataWithLock();
        local_20 = (uint *)(*(int *)(iVar13 + 4) + 0xe7);
        local_24 = 0x453a69;
        CopyDataWithLock();
        puVar3 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
        *puVar3 = *puVar3 & 0xffdf;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfffffdff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfffffbff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xdfffffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfffff7ff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfffffeff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfffbffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfff7ffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xffefffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xffdfffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xff7fffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfeffffff
        ;
        *(uint *)(*(int *)(iVar13 + 4) + 0x8a) = *(uint *)(*(int *)(iVar13 + 4) + 0x8a) & 0xfdffffff
        ;
        puVar3 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
        *puVar3 = *puVar3 & 0xf7ff;
        puVar3 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
        *puVar3 = *puVar3 & 0xff7f;
        puVar3 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
        *puVar3 = *puVar3 & 0xfeff;
        puVar3 = (ushort *)(*(int *)(iVar13 + 4) + 0x8e);
        *puVar3 = *puVar3 & 0xfdff;
        if ((*(byte *)(*(int *)(iVar13 + 4) + 0x8a) & 2) != 0) {
          local_20 = *(uint **)(*(int *)(iVar13 + 4) + 0x100);
          local_24 = 0x453bbe;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 4);
          local_24 = 0x453bdd;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x10);
          local_24 = 0x453bfc;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x1c);
          local_24 = 0x453c1b;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x28);
          local_24 = 0x453c39;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x29);
          local_24 = 0x453c57;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x2a);
          local_24 = 0x453c75;
          CopyDataWithLock();
          bVar4 = *(byte *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x2a);
          if (bVar4 != 0) {
            sVar7 = (uint)bVar4 << 4;
            iVar6 = 0;
            local_20 = (uint *)0x453c98;
            pvVar5 = (void *)AllocateMemoryWithCallback();
            local_20 = (uint *)0x453ca1;
            pvVar5 = _memset(pvVar5,iVar6,sVar7);
            *(void **)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0xae) = pvVar5;
          }
          local_20 = *(uint **)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0xae);
          local_24 = 0x453cd7;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x2b);
          local_24 = 0x453cf6;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x2f);
          local_24 = 0x453d14;
          CopyDataWithLock();
          bVar4 = *(byte *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x2f);
          if (bVar4 != 0) {
            sVar7 = (uint)bVar4 * 6;
            iVar6 = 0;
            local_20 = (uint *)0x453d39;
            pvVar5 = (void *)AllocateMemoryWithCallback();
            local_20 = (uint *)0x453d42;
            pvVar5 = _memset(pvVar5,iVar6,sVar7);
            *(void **)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0xb2) = pvVar5;
          }
          local_20 = *(uint **)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0xb2);
          local_24 = 0x453d78;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x32);
          local_24 = 0x453d97;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x36);
          local_24 = 0x453db5;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x37);
          local_24 = 0x453dd4;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x3b);
          local_24 = 0x453df3;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x3f);
          local_24 = 0x453e12;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x43);
          local_24 = 0x453e30;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x44);
          local_24 = 0x453e4f;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x48);
          local_24 = 0x453e6e;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x4c);
          local_24 = 0x453e8d;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x58);
          local_24 = 0x453eab;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x59);
          local_24 = 0x453eca;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x5d);
          local_24 = 0x453ee9;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x61);
          local_24 = 0x453f08;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x65);
          local_24 = 0x453f27;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x69);
          local_24 = 0x453f45;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x6a);
          local_24 = 0x453f63;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x6b);
          local_24 = 0x453f81;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x6c);
          local_24 = 0x453f9f;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x6d);
          local_24 = 0x453fbd;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x6e);
          local_24 = 0x453fdc;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x82);
          local_24 = 0x453ffd;
          CopyDataWithLock();
          local_20 = (uint *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x96);
          local_24 = 0x45401e;
          CopyDataWithLock();
          if ((*(byte *)(*(int *)(iVar13 + 4) + 0x8a) & 8) != 0) {
            FUN_0046d770();
            if (*(int *)(iVar13 + 0x1e) != 0) {
              local_20 = (uint *)(*(int *)(iVar13 + 0x1e) + 0x44);
              local_24 = 0x454059;
              CopyDataWithLock();
              local_20 = (uint *)(*(int *)(iVar13 + 0x1e) + 0x48);
              local_24 = 0x454071;
              CopyDataWithLock();
              if (*(int *)(*(int *)(iVar13 + 0x1e) + 0x44) == 0) {
                DAT_004d040c = 1;
                *(undefined4 *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x32) = 1;
                *(undefined4 *)(iVar13 + 0x1e) = 0;
                DAT_004d814c = 1;
              }
              else if ((DAT_004ca030 == 1) &&
                      (*(int *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x92) != -1)) {
                *(undefined4 *)(*(int *)(iVar13 + 0x1e) + 0x44) = 2;
                DAT_004d040c = 0;
                DAT_004d814c = 0;
              }
              else {
                *(undefined4 *)(*(int *)(*(int *)(iVar13 + 4) + 0x100) + 0x32) = 1;
                *(undefined4 *)(*(int *)(iVar13 + 0x1e) + 0x44) = 0;
              }
            }
          }
        }
        param_1 = (undefined2 *)((int)param_1 + 1);
      } while ((int)param_1 < local_2c);
    }
    FUN_004756c0();
    if ((DAT_004ca030 % 5 == 0) && (DAT_004ca030 != 0)) {
      local_20 = (uint *)local_48;
      local_24 = 0x45411b;
      CopyDataWithLock();
      FUN_00475490();
      DAT_005aa0e6 = &DAT_005d2500;
    }
    local_20 = (uint *)&stack0xfffffff8;
    local_24 = 0x454150;
    CopyDataWithLock();
    iVar13 = 0;
    if (0 < unaff_EBX) {
      do {
        local_20 = (uint *)&stack0xffffffec;
        local_24 = 0x454173;
        CopyDataWithLock();
        local_20 = &local_24;
        local_24 = 0x454188;
        CopyDataWithLock();
        local_20 = (uint *)0x45419a;
        iVar6 = FUN_00474bd0();
        local_20 = (uint *)((&DAT_005dfe90)[iVar6 * 0x38] + 4);
        local_24 = 0x4541c2;
        CopyDataWithLock();
        local_20 = (uint *)(&DAT_005dfe80 + iVar6 * 0xe0);
        local_24 = 0x4541e7;
        CopyDataWithLock();
        local_20 = (uint *)(&DAT_005dfe81 + iVar6 * 0xe0);
        local_24 = 0x45420b;
        CopyDataWithLock();
        local_20 = &DAT_005dff2b + iVar6 * 0x38;
        local_24 = 0x454231;
        CopyDataWithLock();
        local_20 = &DAT_005dff2f + iVar6 * 0x38;
        local_24 = 0x454257;
        CopyDataWithLock();
        local_20 = &DAT_005dff1b + iVar6 * 0x38;
        local_24 = 0x45427d;
        CopyDataWithLock();
        if ((&DAT_005dff2b)[iVar6 * 0x38] == 3) {
          (&DAT_005dff2b)[iVar6 * 0x38] = 1;
        }
        iVar13 = iVar13 + 1;
      } while (iVar13 < unaff_EBX);
    }
    local_20 = (uint *)&stack0xfffffff8;
    local_24 = 0x4542be;
    CopyDataWithLock();
    FUN_004507a0();
    param_1 = (undefined2 *)(DAT_004d86a8 - unaff_EBX);
    if ((int)param_1 < DAT_004d86a8) {
      iVar13 = (int)param_1 * 0xe0;
      do {
        local_20 = &local_24;
        uVar12 = 0xc;
        local_24 = 0x454302;
        CopyDataWithLock();
        puVar9 = &DAT_004d1ae0;
        puVar10 = (undefined4 *)(DAT_004d86ac + 0x1b + iVar13);
        for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
          *puVar10 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar10 = puVar10 + 1;
        }
        *(undefined4 *)(DAT_004d86ac + 0x4b + iVar13) = local_24;
        *(uint **)(DAT_004d86ac + 0x4f + iVar13) = local_20;
        *(undefined4 *)(DAT_004d86ac + 0x53 + iVar13) = uVar12;
        local_20 = (uint *)(DAT_004d86ac + 1 + iVar13);
        local_24 = 0x45435b;
        CopyDataWithLock();
        local_20 = (uint *)(DAT_004d86ac + 0xab + iVar13);
        local_24 = 0x45437b;
        CopyDataWithLock();
        local_20 = (uint *)(DAT_004d86ac + 0x9b + iVar13);
        local_24 = 0x45439b;
        CopyDataWithLock();
        local_20 = (uint *)(DAT_004d86ac + 0xe + iVar13);
        local_24 = 0x4543b8;
        CopyDataWithLock();
        if (*(int *)(DAT_004d86ac + 0xab + iVar13) == 3) {
          *(undefined4 *)(DAT_004d86ac + 0xab + iVar13) = 1;
        }
        param_1 = (undefined2 *)((int)param_1 + 1);
        iVar13 = iVar13 + 0xe0;
      } while ((int)param_1 < DAT_004d86a8);
    }
    local_20 = (uint *)&stack0xfffffff8;
    local_24 = 0x454403;
    CopyDataWithLock();
    param_1 = (undefined2 *)0x0;
    if (0 < unaff_EBX) {
      puVar9 = &DAT_005de7ab;
      do {
        local_20 = &local_24;
        uVar12 = 0xc;
        local_24 = 0x454431;
        CopyDataWithLock();
        puVar10 = &DAT_004d1ae0;
        puVar11 = puVar9 + -0xc;
        for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        *puVar9 = local_24;
        puVar9[1] = local_20;
        local_20 = (uint *)((int)puVar9 + -0x3d);
        puVar9[2] = uVar12;
        local_24 = 0x454468;
        CopyDataWithLock();
        piVar1 = puVar9 + 0x18;
        local_24 = 0x45447e;
        local_20 = (uint *)piVar1;
        CopyDataWithLock();
        local_20 = puVar9 + 0x14;
        local_24 = 0x454495;
        CopyDataWithLock();
        *(undefined4 *)((int)puVar9 + -0x3b) =
             *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86);
        if (*piVar1 == 3) {
          *piVar1 = 1;
        }
        param_1 = (undefined2 *)((int)param_1 + 1);
        puVar9 = puVar9 + 0x38;
      } while ((int)param_1 < unaff_EBX);
    }
  }
  if (param_2 == 0) {
    param_1 = (undefined2 *)0x1;
    if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
      iVar13 = 0x222;
      param_2 = 0x37;
      do {
        iVar6 = DAT_005b9440 + param_2;
        if (*(char *)(DAT_005b9440 + param_2) == '\0') {
          FUN_00489830();
        }
        local_24 = 0x454535;
        local_20 = (uint *)iVar6;
        CopyDataWithLock();
        local_24 = 0x45454b;
        local_20 = (uint *)(byte *)(iVar6 + 1);
        CopyDataWithLock();
        pbVar2 = (byte *)(iVar6 + 6);
        *(uint *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + iVar13) = (uint)*(byte *)(iVar6 + 1);
        local_24 = 0x454576;
        local_20 = (uint *)pbVar2;
        CopyDataWithLock();
        sVar7 = (uint)*pbVar2 * 0xc;
        iVar14 = 0;
        local_20 = (uint *)0x45458c;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x454595;
        pvVar5 = _memset(pvVar5,iVar14,sVar7);
        *(void **)(iVar6 + 7) = pvVar5;
        sVar7 = (uint)*pbVar2 << 1;
        iVar14 = 0;
        local_20 = (uint *)0x4545aa;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x4545b3;
        pvVar5 = _memset(pvVar5,iVar14,sVar7);
        local_20 = *(uint **)(iVar6 + 7);
        *(void **)(iVar6 + 0xb) = pvVar5;
        local_24 = 0x4545d0;
        CopyDataWithLock();
        local_20 = *(uint **)(iVar6 + 0xb);
        local_24 = 0x4545ea;
        CopyDataWithLock();
        pbVar2 = (byte *)(iVar6 + 0x13);
        local_24 = 0x454601;
        local_20 = (uint *)pbVar2;
        CopyDataWithLock();
        uVar8 = (uint)*pbVar2;
        iVar14 = 0;
        local_20 = (uint *)0x454611;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x45461a;
        pvVar5 = _memset(pvVar5,iVar14,uVar8);
        *(void **)(iVar6 + 0x1c) = pvVar5;
        sVar7 = (uint)*pbVar2 << 1;
        iVar14 = 0;
        local_20 = (uint *)0x45462f;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x454638;
        pvVar5 = _memset(pvVar5,iVar14,sVar7);
        *(void **)(iVar6 + 0x20) = pvVar5;
        uVar8 = (uint)*pbVar2;
        iVar14 = 0;
        local_20 = (uint *)0x45464b;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x454654;
        pvVar5 = _memset(pvVar5,iVar14,uVar8);
        local_20 = *(uint **)(iVar6 + 0x1c);
        *(void **)(iVar6 + 0x2a) = pvVar5;
        local_24 = 0x454670;
        CopyDataWithLock();
        local_20 = *(uint **)(iVar6 + 0x20);
        local_24 = 0x454689;
        CopyDataWithLock();
        local_20 = *(uint **)(iVar6 + 0x2a);
        local_24 = 0x4546a2;
        CopyDataWithLock();
        sVar7 = (uint)*pbVar2 << 2;
        iVar14 = 0;
        local_20 = (uint *)0x4546b5;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x4546be;
        pvVar5 = _memset(pvVar5,iVar14,sVar7);
        *(void **)(iVar6 + 0x14) = pvVar5;
        sVar7 = (uint)*pbVar2 << 2;
        iVar14 = 0;
        local_20 = (uint *)0x4546d4;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x4546dd;
        pvVar5 = _memset(pvVar5,iVar14,sVar7);
        *(void **)(iVar6 + 0x18) = pvVar5;
        iVar14 = 0;
        if (*pbVar2 != 0) {
          do {
            sVar7 = (uint)*(byte *)(iVar14 + *(int *)(iVar6 + 0x1c)) << 1;
            iVar15 = 0;
            local_20 = (uint *)0x454707;
            pvVar5 = (void *)AllocateMemoryWithCallback();
            local_20 = (uint *)0x454710;
            pvVar5 = _memset(pvVar5,iVar15,sVar7);
            *(void **)(*(int *)(iVar6 + 0x14) + iVar14 * 4) = pvVar5;
            uVar8 = (uint)*(byte *)(iVar14 + *(int *)(iVar6 + 0x1c));
            iVar15 = 0;
            local_20 = (uint *)0x454732;
            pvVar5 = (void *)AllocateMemoryWithCallback();
            local_20 = (uint *)0x45473b;
            pvVar5 = _memset(pvVar5,iVar15,uVar8);
            *(void **)(*(int *)(iVar6 + 0x18) + iVar14 * 4) = pvVar5;
            local_20 = *(uint **)(*(int *)(iVar6 + 0x14) + iVar14 * 4);
            local_24 = 0x454767;
            CopyDataWithLock();
            local_20 = *(uint **)(*(int *)(iVar6 + 0x18) + iVar14 * 4);
            local_24 = 0x45478a;
            CopyDataWithLock();
            iVar14 = iVar14 + 1;
          } while (iVar14 < (int)(uint)*pbVar2);
        }
        local_24 = 0x4547b4;
        local_20 = (uint *)(ushort *)(iVar6 + 0x24);
        CopyDataWithLock();
        uVar8 = (uint)*(ushort *)(iVar6 + 0x24);
        iVar14 = 0;
        local_20 = (uint *)0x4547c5;
        pvVar5 = (void *)AllocateMemoryWithCallback();
        local_20 = (uint *)0x4547ce;
        local_20 = (uint *)_memset(pvVar5,iVar14,uVar8);
        *(uint **)(iVar6 + 0x26) = local_20;
        local_24 = 0x4547e9;
        CopyDataWithLock();
        param_1 = (undefined2 *)((int)param_1 + 1);
        param_2 = param_2 + 0x37;
        iVar13 = iVar13 + 0x222;
      } while ((int)param_1 <= *(int *)(DAT_005df2c8 + 0xcc));
    }
    local_20 = (uint *)&local_28;
    local_24 = 0x45482a;
    CopyDataWithLock();
    param_1 = (undefined2 *)0x0;
    if (0 < local_28) {
      do {
        local_20 = (uint *)&stack0xffffffec;
        local_24 = 0x45484f;
        CopyDataWithLock();
        local_20 = &local_3c;
        local_24 = 0x454865;
        iVar13 = DAT_005dcbbc;
        CopyDataWithLock();
        iVar6 = 0;
        if (0 < local_28) {
          do {
            if (*(short *)(iVar6 * 0x140 + 0x14 + *(int *)(DAT_005df2c8 + 8)) == (short)iVar13) {
              *(undefined4 *)(iVar6 * 0x140 + 0x11a + *(int *)(DAT_005df2c8 + 8)) = local_3c;
              break;
            }
            iVar6 = iVar6 + 1;
          } while (iVar6 < local_28);
        }
        param_1 = (undefined2 *)((int)param_1 + 1);
      } while ((int)param_1 < local_28);
    }
    local_20 = &DAT_005b945c;
    local_24 = 0x4548cc;
    CopyDataWithLock();
    *DAT_004d80f0 = DAT_005b945c;
    local_20 = &DAT_005b9460;
    local_24 = 0x4548f1;
    CopyDataWithLock();
    iVar6 = 0;
    DAT_004d80f0[1] = DAT_005b9460;
    iVar13 = 0;
    do {
      iVar13 = iVar13 + 8;
      *(undefined2 *)(DAT_004d80f0[2] + -6 + iVar13) = 0xffff;
      *(undefined2 *)(DAT_004d80f0[2] + -8 + iVar13) = 0xffff;
      *(undefined4 *)(DAT_004d80f0[2] + -4 + iVar13) = 0;
    } while (iVar13 < 0x28);
    param_1 = &DAT_005b9452;
    do {
      local_24 = 0x454953;
      local_20 = (uint *)param_1;
      CopyDataWithLock();
      *(undefined2 *)(DAT_004d80f0[2] + iVar6) = *param_1;
      iVar13 = 0;
      if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
        do {
          if ((uint)*(ushort *)(*(int *)(DAT_005df2c8 + 8) + 0x14 + iVar13 * 0x140) ==
              (int)*(short *)(DAT_004d80f0[2] + iVar6)) {
            ((short *)(DAT_004d80f0[2] + iVar6))[1] = (short)iVar13;
            *(undefined4 *)(DAT_004d80f0[2] + 4 + iVar6) =
                 *(undefined4 *)(*(int *)(DAT_005df2c8 + 8) + iVar13 * 0x140);
          }
          iVar13 = iVar13 + 1;
        } while (iVar13 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
      }
      param_1 = param_1 + 1;
      iVar6 = iVar6 + 8;
    } while ((int)param_1 < 0x5b945c);
    if (DAT_005df318 != 0) {
      *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 399) =
           *(undefined4 *)(DAT_004d80cc + 0x14);
    }
  }
  return 1;
}



undefined4 FUN_00454a20(int param_1)

{
  ushort uVar1;
  ushort *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int local_18;
  int local_14;
  
  AdjustStackForLargeAllocations();
  if (param_1 == 0) {
    FUN_004adcf0();
    return 1;
  }
  iVar8 = 0;
  if (*(short *)(DAT_00598d90 + 0x245) != 0) {
    iVar9 = 0;
    do {
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(*(int *)(DAT_00598d90 + 0x247) + iVar9,1);
      iVar8 = iVar8 + 1;
      iVar9 = iVar9 + 6;
    } while (iVar8 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245));
  }
  iVar8 = 0;
  if (*(short *)(DAT_00598d90 + 0x24b) != 0) {
    iVar9 = 0;
    do {
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(*(int *)(DAT_00598d90 + 0x24f) + 2 + iVar9,4);
      iVar8 = iVar8 + 1;
      iVar9 = iVar9 + 6;
    } while (iVar8 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x24b));
  }
  local_14 = DAT_005dcbbc;
  local_18 = 1;
  CopyDataWithLock(DAT_00598d90 + 0x2dd,4);
  iVar8 = 0;
  if (0 < *(int *)(DAT_00598d90 + 0x23d)) {
    do {
      iVar9 = iVar8 * 4;
      iVar4 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + iVar8 * 4) + 0x5b);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x1e,4);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x22,1);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x23,4);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x2b,0xc);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x3b,4);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x3f,0x40);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(iVar4 + 0x1a,4);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(*(int *)(*(int *)(DAT_00598d90 + 0x241) + iVar9) + 0x85,0xc);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(*(int *)(*(int *)(DAT_00598d90 + 0x241) + iVar9) + 0x79,0xc);
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(*(int *)(*(int *)(DAT_00598d90 + 0x241) + iVar9) + 6,0x40);
      iVar9 = *(int *)(*(int *)(DAT_00598d90 + 0x241) + iVar9);
      uVar1 = *(ushort *)(iVar9 + 0x5f);
      while (uVar1 != 0) {
        iVar4 = (uint)uVar1 * 10;
        iVar7 = *(int *)(DAT_00598d90 + 0x234) + iVar4;
        puVar2 = *(ushort **)(iVar7 + -6);
        if (puVar2 != (ushort *)0x0) {
          uVar1 = *(ushort *)(iVar7 + -8);
          *puVar2 = uVar1;
          if (uVar1 != 0) {
            *(undefined4 *)(*(int *)(DAT_00598d90 + 0x234) + -6 + (uint)uVar1 * 10) =
                 *(undefined4 *)(*(int *)(DAT_00598d90 + 0x234) + -6 + iVar4);
          }
        }
        uVar1 = *(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -2 + iVar4);
      }
      local_14 = 0x454cbc;
      iVar4 = __ftol();
      local_14 = 0x454ccb;
      iVar7 = __ftol();
      local_14 = 0x454cd9;
      __ftol();
      local_14 = 0x454ce9;
      iVar5 = __ftol();
      iVar9 = *(ushort *)(iVar9 + 0x5f) - 1;
      param_1 = iVar9;
      for (; iVar3 = local_14, iVar4 < iVar7 + 1; iVar4 = iVar4 + 1) {
        for (; iVar3 < iVar5 + 1; iVar3 = iVar3 + 1) {
          local_18 = iVar3;
          local_14 = iVar4;
          iVar9 = FUN_0045cad0(DAT_00598ff0);
          if (iVar9 != 0) {
            psVar6 = (short *)(iVar9 + 10);
            if (*(ushort *)(iVar9 + 10) != 0) {
              *(int *)(*(int *)(DAT_00598d90 + 0x234) + -6 + (uint)*(ushort *)(iVar9 + 10) * 10) =
                   *(int *)(DAT_00598d90 + 0x234) + 2 + param_1 * 10;
            }
            *(short *)(*(int *)(DAT_00598d90 + 0x234) + 2 + param_1 * 10) = *psVar6;
            *psVar6 = (short)param_1 + 1;
            *(short **)(*(int *)(DAT_00598d90 + 0x234) + 4 + param_1 * 10) = psVar6;
            *(short *)(*(int *)(DAT_00598d90 + 0x234) + 8 + param_1 * 10) = (short)param_1 + 2;
            param_1 = param_1 + 1;
          }
          iVar9 = param_1;
        }
      }
      *(undefined2 *)(*(int *)(DAT_00598d90 + 0x234) + -2 + iVar9 * 10) = 0;
      iVar8 = iVar8 + 1;
    } while (iVar8 < *(int *)(DAT_00598d90 + 0x23d));
  }
  local_14 = DAT_005dcbbc;
  local_18 = 1;
  CopyDataWithLock(&param_1,4);
  iVar8 = 0;
  if (0 < param_1) {
    do {
      local_14 = DAT_005dcbbc;
      local_18 = 1;
      CopyDataWithLock(&local_18,4);
      iVar8 = iVar8 + 1;
      *(undefined2 *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + local_18 * 4) + 0xa1) = 0;
    } while (iVar8 < param_1);
  }
  local_14 = DAT_005dcbbc;
  local_18 = 0x454e5f;
  FUN_004adcf0();
  return 1;
}



void FUN_00454e70(undefined4 param_1)

{
  short sVar1;
  size_t sVar2;
  void *pvVar3;
  int iVar4;
  
  iVar4 = 0;
  do {
    sVar1 = *(short *)(*(int *)(DAT_004d80f0 + 8) + iVar4);
    if (sVar1 != -1) {
      FUN_004429a0(*(undefined4 *)(DAT_005df318 + 4),sVar1,0x3f800000);
    }
    iVar4 = iVar4 + 8;
  } while (iVar4 < 0x28);
  FUN_004ad7a0(&DAT_005dcba0,param_1,0x14);
  sVar2 = (uint)DAT_005dcba6 << 2;
  iVar4 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  DAT_004d779c = _memset(pvVar3,iVar4,sVar2);
  sVar2 = (uint)DAT_005dcba6 << 2;
  iVar4 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  DAT_005dcbb4 = _memset(pvVar3,iVar4,sVar2);
  sVar2 = (uint)DAT_005dcba6 << 2;
  iVar4 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  DAT_005dcbb8 = _memset(pvVar3,iVar4,sVar2);
  return;
}



void FUN_00454f30(int param_1)

{
  byte bVar1;
  int iVar2;
  char *pcVar3;
  void *pvVar4;
  int *piVar5;
  byte bVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  size_t _Size;
  char *pcVar11;
  
  AdjustStackForLargeAllocations();
  uVar8 = 0;
  uVar9 = 0;
  iVar7 = *(int *)(*(int *)(DAT_005df318 + 4) + 10);
  bVar6 = 0;
  _Size = 0;
  if (iVar7 != 0) {
    pcVar3 = (char *)(DAT_004ca030 * 0x37 + DAT_005b9440);
    pcVar11 = (char *)0x0;
    if (((*pcVar3 == '\0') && (DAT_004d80d0 != 3)) &&
       (iVar10 = *(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0x48), pcVar11 = pcVar3,
       iVar10 < 3)) {
      piVar5 = DAT_004d779c;
      do {
        if ((pcVar3[0x13] != '\0') && (**(ushort **)(pcVar3 + 0x20) == uVar9)) break;
        iVar2 = *piVar5;
        piVar5 = piVar5 + 1;
        uVar8 = uVar8 + iVar2;
        uVar9 = uVar9 + 1;
      } while (iVar10 < 3);
    }
    bVar1 = *(byte *)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0x2a);
    if (bVar1 != 0) {
      _Size = (uint)bVar1 << 4;
      iVar10 = 0;
      pvVar4 = (void *)AllocateMemoryWithCallback(_Size);
      pvVar4 = _memset(pvVar4,iVar10,_Size);
      *(void **)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0xae) = pvVar4;
    }
    if (uVar8 < DAT_005dcbab) {
      do {
        iVar10 = *(int *)(*(int *)(iVar7 + 4) + 0x100);
        if (bVar6 == *(byte *)(iVar10 + 0x2a)) {
          do {
            if (*(int *)(iVar10 + 0x48) < 3) {
              _Size = _Size + 1;
            }
            iVar7 = *(int *)(iVar7 + 10);
            if (iVar7 == 0) {
              if (DAT_004d779c == (int *)0x0) {
                return;
              }
              FreeMemory(DAT_004d779c);
              DAT_004d779c = (int *)0x0;
              return;
            }
            uVar9 = uVar9 + 1;
            bVar6 = 0;
            if ((pcVar11 != (char *)0x0) &&
               (iVar10 = *(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0x48), iVar10 < 3)) {
              piVar5 = DAT_004d779c + uVar9;
              do {
                if ((pcVar11[0x13] != '\0') &&
                   (*(ushort *)(*(int *)(pcVar11 + 0x20) + _Size * 2) == uVar9)) break;
                uVar8 = uVar8 + *piVar5;
                uVar9 = uVar9 + 1;
                piVar5 = piVar5 + 1;
              } while (iVar10 < 3);
            }
            bVar1 = *(byte *)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0x2a);
            if (bVar1 != 0) {
              _Size = (uint)bVar1 << 4;
              iVar10 = 0;
              pvVar4 = (void *)AllocateMemoryWithCallback(_Size);
              pvVar4 = _memset(pvVar4,iVar10,_Size);
              *(void **)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0xae) = pvVar4;
            }
            iVar10 = *(int *)(*(int *)(iVar7 + 4) + 0x100);
          } while (*(char *)(iVar10 + 0x2a) == '\0');
        }
        _Size = 0x10;
        FUN_004ad7a0((uint)bVar6 * 0x10 + *(int *)(*(int *)(*(int *)(iVar7 + 4) + 0x100) + 0xae),
                     uVar8 * 0x10 + 6 + param_1);
        bVar6 = bVar6 + 1;
        uVar8 = uVar8 + 1;
      } while (uVar8 < DAT_005dcbab);
    }
    if (DAT_004d779c != (int *)0x0) {
      FreeMemory(DAT_004d779c);
      DAT_004d779c = (int *)0x0;
    }
    for (; iVar7 != 0; iVar7 = *(int *)(iVar7 + 10)) {
    }
  }
  return;
}



void FUN_004551b0(int param_1)

{
  int iVar1;
  byte bVar2;
  uint uVar3;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar3 = 0;
  if (DAT_005dcbb3 != 0) {
    do {
      iVar1 = FUN_00407870(param_1 + uVar3 * 0xe + 8,*(undefined2 *)(param_1 + 6 + uVar3 * 0xe));
      bVar2 = bVar2 + 1;
      (&DAT_005dfe80)[iVar1 * 0xe0] = (&DAT_005dfe80)[iVar1 * 0xe0] | 8;
      uVar3 = (uint)bVar2;
    } while (bVar2 < DAT_005dcbb3);
  }
  return;
}



void FUN_00455230(int param_1)

{
  byte bVar1;
  size_t sVar2;
  size_t _Size;
  void *pvVar3;
  int iVar4;
  int *piVar5;
  byte bVar6;
  int iVar7;
  byte *pbVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  int _Val;
  uint uVar12;
  uint uVar13;
  
  AdjustStackForLargeAllocations();
  uVar9 = 0;
  bVar6 = 0;
  iVar10 = *(int *)(*(int *)(DAT_005df318 + 4) + 10);
  uVar13 = 0;
  _Val = 0;
  if (iVar10 != 0) {
    iVar4 = DAT_005b9440 + DAT_004ca030 * 0x2c;
    sVar2 = DAT_004ca030 * 0xb + iVar4;
    _Size = 0;
    if ((*(char *)(DAT_004ca030 * 0xb + iVar4) == '\0') && (DAT_004d80d0 != 3)) {
      uVar13 = 0;
      piVar5 = DAT_005dcbb4;
      for (; (_Size = sVar2, *(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x48) < 3 &&
             ((*(char *)(sVar2 + 0x13) == '\0' || (**(ushort **)(sVar2 + 0x20) != uVar9))));
          uVar9 = uVar9 + 1) {
        iVar4 = *piVar5;
        piVar5 = piVar5 + 1;
        uVar13 = uVar13 + iVar4;
      }
    }
    bVar1 = *(byte *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x2f);
    if (bVar1 != 0) {
      _Size = (uint)bVar1 * 6;
      _Val = 0;
      pvVar3 = (void *)AllocateMemoryWithCallback(_Size);
      pvVar3 = _memset(pvVar3,_Val,_Size);
      *(void **)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0xb2) = pvVar3;
    }
    if (uVar13 < DAT_005dcbaf) {
      do {
        iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
        uVar12 = uVar13;
        if (bVar6 == *(byte *)(iVar4 + 0x2f)) {
          do {
            if (*(int *)(iVar4 + 0x48) < 3) {
              _Val = _Val + 1;
            }
            iVar10 = *(int *)(iVar10 + 10);
            if (iVar10 == 0) {
              if (DAT_005dcbb4 == (int *)0x0) {
                return;
              }
              goto LAB_004554ac;
            }
            uVar9 = uVar9 + 1;
            bVar6 = 0;
            if ((_Size != 0) &&
               (iVar4 = *(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x48), iVar4 < 3)) {
              piVar5 = DAT_005dcbb4 + uVar9;
              uVar11 = uVar13;
              uVar13 = uVar12;
              do {
                if ((*(char *)(_Size + 0x13) != '\0') &&
                   (uVar11 = uVar13, uVar12 = uVar13,
                   *(ushort *)(*(int *)(_Size + 0x20) + _Val * 2) == uVar9)) break;
                iVar7 = *piVar5;
                piVar5 = piVar5 + 1;
                uVar13 = uVar11 + iVar7;
                uVar9 = uVar9 + 1;
                uVar11 = uVar13;
                uVar12 = uVar13;
              } while (iVar4 < 3);
            }
            bVar1 = *(byte *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x2f);
            if (bVar1 != 0) {
              _Size = (uint)bVar1 * 6;
              _Val = 0;
              pvVar3 = (void *)AllocateMemoryWithCallback(_Size);
              pvVar3 = _memset(pvVar3,_Val,_Size);
              *(void **)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0xb2) = pvVar3;
            }
            iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
          } while (*(char *)(iVar4 + 0x2f) == '\0');
        }
        _Size = 6;
        _Val = param_1 + (uVar13 * 3 + 3) * 2;
        FUN_004ad7a0(*(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0xb2) + (uint)bVar6 * 6);
        iVar7 = 0;
        iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
        uVar12 = 0;
        if (*(char *)(iVar4 + 0x2f) != '\0') {
          do {
            if (*(byte *)(iVar4 + 0x2a) <= *(byte *)(*(int *)(iVar4 + 0xb2) + 1 + iVar7)) {
              *(byte *)(*(int *)(iVar4 + 0xb2) + 1 + iVar7) = *(byte *)(iVar4 + 0x2a) - 1;
            }
            iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
            bVar1 = *(byte *)(iVar4 + 0x2a);
            pbVar8 = (byte *)(*(int *)(iVar4 + 0xb2) + iVar7);
            if (bVar1 <= *pbVar8) {
              *pbVar8 = bVar1 - 1;
            }
            uVar12 = uVar12 + 1;
            iVar7 = iVar7 + 6;
            iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
          } while (uVar12 < *(byte *)(iVar4 + 0x2f));
        }
        bVar6 = bVar6 + 1;
        uVar13 = uVar13 + 1;
      } while (uVar13 < DAT_005dcbaf);
    }
    if (DAT_005dcbb4 != (int *)0x0) {
LAB_004554ac:
      FreeMemory(DAT_005dcbb4);
      DAT_005dcbb4 = (int *)0x0;
    }
  }
  return;
}



void FUN_004554e0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  undefined4 *puVar5;
  uint uVar6;
  int iVar7;
  char *pcVar8;
  
  AdjustStackForLargeAllocations();
  iVar7 = 0;
  pcVar3 = (char *)(DAT_004ca030 * 0x37 + DAT_005b9440);
  pcVar8 = (char *)0x0;
  if ((*pcVar3 == '\0') && (DAT_004d80d0 != 3)) {
    pcVar8 = pcVar3;
  }
  uVar6 = 0;
  if (DAT_005dcba6 != 0) {
    puVar5 = (undefined4 *)(param_1 + 6);
    do {
      *(undefined4 *)(DAT_004d779c + uVar6 * 4) = puVar5[0x24];
      *(undefined4 *)(DAT_005dcbb4 + uVar6 * 4) = puVar5[0x25];
      *(undefined4 *)(DAT_005dcbb8 + uVar6 * 4) = *puVar5;
      if (((pcVar8 == (char *)0x0) || (2 < (int)puVar5[0x22])) ||
         ((pcVar8[0x13] != '\0' && (*(ushort *)(*(int *)(pcVar8 + 0x20) + iVar7 * 2) == uVar6)))) {
        iVar4 = FUN_00474a30(2);
        iVar1 = *(int *)(*(int *)(iVar4 + 4) + 0x100);
        *(undefined *)(iVar1 + 0x6c) = *(undefined *)puVar5;
        FUN_004ad7a0(*(int *)(iVar4 + 4) + 6,puVar5 + 1,0x40);
        *(float *)(*(int *)(iVar4 + 4) + 0x3a) = *(float *)(*(int *)(iVar4 + 4) + 0x3a) - -0.2;
        *(undefined4 *)(*(int *)(iVar4 + 4) + 0xbc) = *(undefined4 *)(*(int *)(iVar4 + 4) + 0x36);
        *(undefined4 *)(*(int *)(iVar4 + 4) + 0xc0) = *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3a);
        *(undefined4 *)(*(int *)(iVar4 + 4) + 0xc4) = *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3e);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x4c) =
             *(undefined4 *)(*(int *)(iVar4 + 4) + 0x36);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x50) =
             *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3a);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x54) =
             *(undefined4 *)(*(int *)(iVar4 + 4) + 0x3e);
        iVar2 = *(int *)(*(int *)(iVar4 + 4) + 0x100);
        *(undefined4 *)(iVar2 + 0x10) = *(undefined4 *)(iVar2 + 0x4c);
        *(undefined4 *)(iVar2 + 0x14) = *(undefined4 *)(iVar2 + 0x50);
        *(undefined4 *)(iVar2 + 0x18) = *(undefined4 *)(iVar2 + 0x54);
        iVar2 = *(int *)(*(int *)(iVar4 + 4) + 0x100);
        *(undefined4 *)(iVar2 + 0x1c) = *(undefined4 *)(iVar2 + 0x10);
        *(undefined4 *)(iVar2 + 0x20) = *(undefined4 *)(iVar2 + 0x14);
        *(undefined4 *)(iVar2 + 0x24) = *(undefined4 *)(iVar2 + 0x18);
        *(undefined4 *)(iVar1 + 0x3b) = puVar5[0x11];
        *(undefined4 *)(iVar1 + 0x37) = puVar5[0x12];
        *(undefined4 *)(iVar1 + 0x44) = puVar5[0x23];
        *(undefined *)(iVar1 + 0x2a) = *(undefined *)(puVar5 + 0x24);
        *(undefined *)(iVar1 + 0x2f) = *(undefined *)(puVar5 + 0x25);
        FUN_004ad7a0(iVar1 + 0x6e,puVar5 + 0x13,0x14);
        FUN_004ad7a0(iVar1 + 0x82,puVar5 + 0x18,0x14);
        FUN_004ad7a0(iVar1 + 0x96,puVar5 + 0x1d,0x14);
        *(undefined4 *)(iVar1 + 0x48) = puVar5[0x22];
        if ((*(byte *)(puVar5 + 0x26) & 1) != 0) {
          *(undefined4 *)(iVar1 + 0x32) = 1;
        }
        if ((*(byte *)(puVar5 + 0x26) & 2) != 0) {
          *(undefined *)(iVar1 + 0x36) = 1;
        }
        if (pcVar8 != (char *)0x0) {
          *(uint *)(iVar1 + 0x32) = (uint)*(byte *)(*(int *)(pcVar8 + 0x2a) + iVar7);
        }
        iVar2 = *(int *)(iVar4 + 4);
        if (*(int *)(*(int *)(iVar2 + 0x100) + 0x48) < 3) {
          iVar7 = iVar7 + 1;
        }
        else {
          *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) | 10;
          if (pcVar8 != (char *)0x0) {
            if ((DAT_004ca030 == 1) &&
               (*(int *)(*(int *)(*(int *)(iVar4 + 4) + 0x100) + 0x92) != -1)) {
              *(undefined4 *)(*(int *)(iVar4 + 0x1e) + 0x44) = 2;
              DAT_004d040c = 0;
              DAT_004d814c = 0;
            }
            else {
              *(undefined4 *)(iVar1 + 0x32) = 1;
            }
          }
          *(undefined4 *)(iVar1 + 0x44) = 0x447a0000;
          *(undefined4 *)(iVar1 + 0x3b) = 0x3f800000;
          *(undefined4 *)(iVar1 + 0x37) = 0x3f800000;
        }
      }
      else {
        DAT_004d77a0 = DAT_004d77a0 + '\x01';
        if (puVar5[0x1c] != -1) {
          *(undefined *)(*(int *)(param_2 + 0x247) + puVar5[0x1c] * 6) = 1;
        }
      }
      uVar6 = uVar6 + 1;
      puVar5 = puVar5 + 0x27;
    } while (uVar6 < DAT_005dcba6);
  }
  FUN_004756c0();
  return;
}



void FUN_004557d0(int param_1,int param_2)

{
  int iVar1;
  char *pcVar2;
  short *psVar3;
  void *pvVar4;
  int *piVar5;
  uint uVar6;
  char cVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  size_t sVar13;
  char *pcVar14;
  int iVar15;
  
  AdjustStackForLargeAllocations();
  uVar8 = 0;
  cVar7 = '\0';
  iVar15 = *(int *)(*(int *)(DAT_005df318 + 4) + 10);
  uVar12 = 0;
  iVar10 = 0;
  if (iVar15 == 0) {
    if (DAT_005dcba7 != 0) {
      piVar5 = (int *)(param_1 + 0x18);
      do {
        if (*piVar5 != -1) {
          *(undefined *)(*(int *)(param_2 + 0x247) + *piVar5 * 6) = 1;
        }
        uVar8 = uVar8 + 1;
        piVar5 = (int *)((int)piVar5 + 0x16);
      } while (uVar8 < DAT_005dcba7);
      return;
    }
  }
  else {
    pcVar2 = (char *)(DAT_004ca030 * 0x37 + DAT_005b9440);
    pcVar14 = (char *)0x0;
    if ((*pcVar2 == '\0') && (DAT_004d80d0 != 3)) {
      pcVar14 = pcVar2;
    }
    iVar11 = DAT_005dcbb8;
    if (pcVar14 != (char *)0x0) {
      iVar1 = *(int *)(*(int *)(*(int *)(iVar15 + 4) + 0x100) + 0x48);
      for (uVar12 = 0;
          (iVar1 < 3 && ((pcVar14[0x13] == '\0' || (**(ushort **)(pcVar14 + 0x20) != uVar12))));
          uVar12 = uVar12 + 1) {
        if (uVar8 < *(int *)(iVar11 + uVar12 * 4) + uVar8) {
          piVar5 = (int *)(param_1 + 0x18 + uVar8 * 0x16);
          uVar6 = uVar8;
          do {
            if (*piVar5 != -1) {
              *(undefined *)(*(int *)(param_2 + 0x247) + *piVar5 * 6) = 1;
              iVar11 = DAT_005dcbb8;
            }
            uVar6 = uVar6 + 1;
            piVar5 = (int *)((int)piVar5 + 0x16);
          } while (uVar6 < *(int *)(iVar11 + uVar12 * 4) + uVar8);
        }
        uVar8 = uVar8 + *(int *)(iVar11 + uVar12 * 4);
        iVar1 = *(int *)(*(int *)(*(int *)(iVar15 + 4) + 0x100) + 0x48);
      }
    }
    uVar6 = uVar12;
    if (uVar8 < DAT_005dcba7) {
      do {
        iVar1 = *(int *)(*(int *)(iVar15 + 4) + 0x100);
        if (cVar7 == *(char *)(iVar1 + 0x6c)) {
          if (*(int *)(iVar1 + 0x48) < 3) {
            iVar10 = iVar10 + 1;
          }
          iVar15 = *(int *)(iVar15 + 10);
          if (iVar15 == 0) break;
          uVar12 = uVar12 + 1;
          cVar7 = '\0';
          uVar6 = uVar12;
          if (pcVar14 != (char *)0x0) {
            iVar1 = *(int *)(*(int *)(*(int *)(iVar15 + 4) + 0x100) + 0x48);
            for (; (uVar6 = uVar12, iVar1 < 3 &&
                   ((pcVar14[0x13] == '\0' ||
                    (*(ushort *)(*(int *)(pcVar14 + 0x20) + iVar10 * 2) != uVar12))));
                uVar12 = uVar12 + 1) {
              if (uVar8 < *(int *)(iVar11 + uVar12 * 4) + uVar8) {
                piVar5 = (int *)(param_1 + 0x18 + uVar8 * 0x16);
                uVar6 = uVar8;
                do {
                  if (*piVar5 != -1) {
                    *(undefined *)(*(int *)(param_2 + 0x247) + *piVar5 * 6) = 1;
                    iVar11 = DAT_005dcbb8;
                  }
                  uVar6 = uVar6 + 1;
                  piVar5 = (int *)((int)piVar5 + 0x16);
                } while (uVar6 < *(int *)(iVar11 + uVar12 * 4) + uVar8);
              }
              uVar8 = uVar8 + *(int *)(iVar11 + uVar12 * 4);
              iVar1 = *(int *)(*(int *)(*(int *)(iVar15 + 4) + 0x100) + 0x48);
            }
          }
        }
        cVar7 = cVar7 + '\x01';
        if ((pcVar14 == (char *)0x0) ||
           (2 < *(int *)(*(int *)(*(int *)(iVar15 + 4) + 0x100) + 0x48))) {
          iVar1 = param_1 + uVar8 * 0x16;
          iVar10 = FUN_004429a0(iVar15,CONCAT22((short)(uVar8 * 5 >> 0x10),
                                                *(undefined2 *)(param_1 + 6 + uVar8 * 0x16)),
                                0x3f800000);
          sVar13 = 0x14;
          iVar11 = 0;
          pvVar4 = (void *)AllocateMemoryWithCallback(0x14);
          pvVar4 = _memset(pvVar4,iVar11,sVar13);
          *(void **)(iVar10 + 0x17) = pvVar4;
LAB_00455afe:
          iVar10 = iVar1 + 8;
          uVar6 = 0x14;
          FUN_004ad7a0(pvVar4);
          uVar12 = uVar6;
          iVar11 = DAT_005dcbb8;
        }
        else {
          uVar9 = 0;
          if (*(byte *)(*(int *)(pcVar14 + 0x1c) + iVar10) != 0) {
            iVar1 = param_1 + uVar8 * 0x16;
            psVar3 = *(short **)(*(int *)(pcVar14 + 0x14) + iVar10 * 4);
            do {
              if (*psVar3 == *(short *)(iVar1 + 6)) {
                iVar10 = FUN_004429a0(iVar15,*(short *)(iVar1 + 6),0x3f800000);
                sVar13 = 0x14;
                iVar11 = 0;
                pvVar4 = (void *)AllocateMemoryWithCallback(0x14);
                pvVar4 = _memset(pvVar4,iVar11,sVar13);
                *(void **)(iVar10 + 0x17) = pvVar4;
                goto LAB_00455afe;
              }
              psVar3 = psVar3 + 1;
              uVar9 = uVar9 + 1;
              uVar12 = uVar6;
            } while (uVar9 < *(byte *)(*(int *)(pcVar14 + 0x1c) + iVar10));
          }
        }
        uVar8 = uVar8 + 1;
      } while (uVar8 < DAT_005dcba7);
    }
    if (iVar11 != 0) {
      FreeMemory(iVar11);
      DAT_005dcbb8 = 0;
    }
  }
  return;
}



void FUN_00455b50(int param_1,int param_2)

{
  size_t _Size;
  void *pvVar1;
  int iVar2;
  
  FUN_00473650();
  DAT_005d4964 = (int)((uint)*(ushort *)(param_2 + 6) * (uint)*(ushort *)(param_2 + 0xe) *
                      (uint)*(ushort *)(param_2 + 0x10)) / DAT_004d14f8;
  DAT_005d4960 = (int)((uint)*(ushort *)(param_2 + 8) * (uint)*(ushort *)(param_2 + 0xe) *
                      (uint)*(ushort *)(param_2 + 0x10)) / DAT_004d14f8;
  _Size = DAT_005d4964 * DAT_005d4964;
  iVar2 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar1 = _memset(pvVar1,iVar2,_Size);
  iVar2 = 0;
  if (0 < DAT_005d4960 * DAT_005d4964) {
    do {
      *(undefined *)((int)pvVar1 + iVar2) = *(undefined *)(iVar2 + 6 + param_1);
      iVar2 = iVar2 + 1;
    } while (iVar2 < DAT_005d4960 * DAT_005d4964);
  }
  if (DAT_00598dec != (void *)0x0) {
    FreeMemory(DAT_00598dec);
  }
  DAT_00598dec = pvVar1;
  return;
}



void FUN_00455c10(int param_1,int param_2)

{
  size_t _Size;
  void *_Dst;
  int iVar1;
  
  if (DAT_004d86b4 != (void *)0x0) {
    FreeMemory(DAT_004d86b4);
    DAT_004d86b4 = (void *)0x0;
  }
  _Size = (uint)*(ushort *)(param_2 + 0x245) << 4;
  iVar1 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_004d86b4 = _memset(_Dst,iVar1,_Size);
  iVar1 = 0;
  if (*(short *)(param_2 + 0x245) != 0) {
    do {
      *(undefined *)(iVar1 + (int)DAT_004d86b4) = *(undefined *)(iVar1 + 6 + param_1);
      iVar1 = iVar1 + 1;
    } while (iVar1 < (int)((uint)*(ushort *)(param_2 + 0x245) * 0x10));
  }
  return;
}



void FUN_00455ca0(int param_1)

{
  void *pvVar1;
  undefined4 uVar2;
  int iVar3;
  int local_38;
  undefined4 local_34;
  undefined local_2c;
  undefined4 local_24;
  int iVar4;
  size_t _Size;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  DAT_004d86b8 = 0;
  _Size = (uint)*(ushort *)(param_1 + 6) * 0x27;
  iVar4 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  DAT_005dcb40 = _memset(pvVar1,iVar4,_Size);
  DAT_004d86b8 = *(undefined2 *)(param_1 + 6);
  uVar5 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      iVar4 = _AIL_WAV_info_8();
      if (iVar4 != 0) {
        *(int *)((int)DAT_005dcb40 + iVar3 + 4) = local_38;
        uVar2 = _AIL_mem_alloc_lock_4();
        *(undefined4 *)((int)DAT_005dcb40 + iVar3 + 0x20) = uVar2;
        *(undefined *)((int)DAT_005dcb40 + iVar3 + 0x24) = local_2c;
        *(undefined4 *)((int)DAT_005dcb40 + iVar3) = local_34;
        *(undefined4 *)((int)DAT_005dcb40 + iVar3 + 8) = local_24;
        pvVar1 = DAT_005dcb40;
        uVar2 = __ftol();
        *(undefined4 *)((int)pvVar1 + iVar3 + 0xc) = uVar2;
        DAT_004d7880 = DAT_004d7880 + local_38;
        FUN_004ad7a0();
      }
      uVar5 = uVar5 + 1;
      iVar3 = iVar3 + 0x27;
    } while (uVar5 < *(ushort *)(param_1 + 6));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00455e00(int param_1)

{
  int iVar1;
  void *pvVar2;
  size_t sVar3;
  uint uVar4;
  int iVar5;
  
  DAT_005dcb6a = *(byte *)(param_1 + 6);
  DAT_005dcb74 = CONCAT31(DAT_005dcb74._1_3_,*(undefined *)(param_1 + 7));
  sVar3 = (uint)DAT_005dcb6a * 0x19;
  iVar5 = 0;
  iVar1 = param_1 + 0xe + sVar3;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar3);
  DAT_005dcb6b = _memset(pvVar2,iVar5,sVar3);
  sVar3 = (uint)DAT_005dcb6a << 2;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar3);
  DAT_005dcb6f = _memset(pvVar2,iVar5,sVar3);
  FUN_004ad7a0(DAT_005dcb6b,param_1 + 0xe,(uint)DAT_005dcb6a * 0x19);
  uVar4 = DAT_005dcb74 & 0xff;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(uVar4);
  pvVar2 = _memset(pvVar2,iVar5,uVar4);
  uVar4 = DAT_005dcb74;
  DAT_005dcb74._1_3_ = SUB43(pvVar2,0);
  uRam005dcb78 = (undefined)((uint)pvVar2 >> 0x18);
  uVar4 = uVar4 & 0xff;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(uVar4);
  DAT_005dcb79 = _memset(pvVar2,iVar5,uVar4);
  FUN_004ad7a0(CONCAT13(uRam005dcb78,DAT_005dcb74._1_3_),iVar1,DAT_005dcb74 & 0xff);
  FUN_004ad7a0(DAT_005dcb79,iVar1 + (DAT_005dcb74 & 0xff),DAT_005dcb74 & 0xff);
  DAT_005dcb7f = 0;
  DAT_005dcb7e = 0xfe;
  DAT_005dcb7d = 0xfe;
  DAT_005dcb83 = 0;
  DAT_005e4a58 = *(undefined2 *)(param_1 + 8);
  DAT_005e4a5a = *(undefined2 *)(param_1 + 10);
  _DAT_005e4a5c = *(undefined2 *)(param_1 + 0xc);
  return;
}



void FUN_00455fb0(void)

{
  ushort *puVar1;
  int iVar2;
  ushort uVar3;
  int *piVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  if (*(short *)(DAT_00598d90 + 0x4f1) != 0) {
    do {
      iVar5 = 4;
      puVar1 = *(ushort **)(*(int *)(DAT_00598d90 + 0x4f3) + (uint)uVar3 * 4);
      piVar4 = (int *)(puVar1 + 0x1b);
      do {
        if (*piVar4 != 0) {
          iVar2 = *(int *)(*piVar4 + 4);
          if (iVar2 != 0) {
            FreeMemory(iVar2);
            *(undefined4 *)(*piVar4 + 4) = 0;
          }
          if (*(int *)(*piVar4 + 8) != 0) {
            FreeMemory(*(int *)(*piVar4 + 8));
            *(undefined4 *)(*piVar4 + 8) = 0;
          }
          if (*piVar4 != 0) {
            FreeMemory(*piVar4);
            *piVar4 = 0;
          }
        }
        piVar4 = piVar4 + 1;
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
      if (*(int *)(puVar1 + 0x15) != 0) {
        FreeMemory(*(int *)(puVar1 + 0x15));
        *(undefined4 *)(puVar1 + 0x15) = 0;
      }
      if (*(int *)(puVar1 + 0x23) != 0) {
        FreeMemory(*(int *)(puVar1 + 0x23));
        *(undefined4 *)(puVar1 + 0x23) = 0;
      }
      if (*(int *)(puVar1 + 0x17) != 0) {
        FreeMemory(*(int *)(puVar1 + 0x17));
        *(undefined4 *)(puVar1 + 0x17) = 0;
      }
      if (*(int *)(puVar1 + 0x13) != 0) {
        FreeMemory(*(int *)(puVar1 + 0x13));
        *(undefined4 *)(puVar1 + 0x13) = 0;
      }
      if (*(int *)(*(int *)(puVar1 + 0x11) + 2) != 0) {
        FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 2));
        *(undefined4 *)(*(int *)(puVar1 + 0x11) + 2) = 0;
      }
      if (*puVar1 < 0x100) {
        if (*(int *)(*(int *)(puVar1 + 0x11) + 6) != 0) {
          FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 6));
          *(undefined4 *)(*(int *)(puVar1 + 0x11) + 6) = 0;
        }
      }
      else if (*(int *)(*(int *)(puVar1 + 0x11) + 10) != 0) {
        FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 10));
        *(undefined4 *)(*(int *)(puVar1 + 0x11) + 10) = 0;
      }
      if (*(int *)(*(int *)(puVar1 + 0x11) + 0x10) != 0) {
        FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 0x10));
        *(undefined4 *)(*(int *)(puVar1 + 0x11) + 0x10) = 0;
      }
      if (*puVar1 < 0x100) {
        if (*(int *)(*(int *)(puVar1 + 0x11) + 0x14) != 0) {
          FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 0x14));
          *(undefined4 *)(*(int *)(puVar1 + 0x11) + 0x14) = 0;
        }
      }
      else if (*(int *)(*(int *)(puVar1 + 0x11) + 0x18) != 0) {
        FreeMemory(*(int *)(*(int *)(puVar1 + 0x11) + 0x18));
        *(undefined4 *)(*(int *)(puVar1 + 0x11) + 0x18) = 0;
      }
      if (*(int *)(puVar1 + 0x11) != 0) {
        FreeMemory(*(int *)(puVar1 + 0x11));
        *(undefined4 *)(puVar1 + 0x11) = 0;
      }
      if (puVar1 != (ushort *)0x0) {
        FreeMemory(puVar1);
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(ushort *)(DAT_00598d90 + 0x4f1));
  }
  if (*(int *)(DAT_00598d90 + 0x4f3) != 0) {
    FreeMemory(*(int *)(DAT_00598d90 + 0x4f3));
    *(undefined4 *)(DAT_00598d90 + 0x4f3) = 0;
  }
  if (DAT_005dca7c != 0) {
    FreeMemory(DAT_005dca7c);
    DAT_005dca7c = 0;
  }
  return;
}



void FUN_004561c0(int param_1)

{
  int iVar1;
  ushort uVar2;
  int iVar3;
  
  uVar2 = 0;
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 4);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 4) = 0;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 0xc);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 0xc) = 0;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 0x10);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 0x10) = 0;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 0x1c);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 0x1c) = 0;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 0x20);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 0x20) = 0;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x56) + 0x28);
  if (iVar1 != 0) {
    FreeMemory(iVar1);
    *(undefined4 *)(*(int *)(param_1 + 0x56) + 0x28) = 0;
  }
  if (*(int *)(param_1 + 0x56) != 0) {
    FreeMemory(*(int *)(param_1 + 0x56));
    *(undefined4 *)(param_1 + 0x56) = 0;
  }
  iVar1 = *(int *)(param_1 + 0x5b);
  if (iVar1 != 0) {
    if (*(char *)(iVar1 + 0x10) != '\0') {
      do {
        iVar3 = (uint)uVar2 * 0x32;
        iVar1 = *(int *)(*(int *)(iVar1 + 0x7f) + 0x2a + iVar3);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x5b) + 0x7f) + 0x2a + iVar3) = 0;
        }
        iVar1 = *(int *)(*(int *)(*(int *)(param_1 + 0x5b) + 0x7f) + 0x2e + iVar3);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x5b) + 0x7f) + 0x2e + iVar3) = 0;
        }
        iVar1 = *(int *)(param_1 + 0x5b);
        uVar2 = uVar2 + 1;
      } while (uVar2 < *(byte *)(iVar1 + 0x10));
    }
    iVar1 = *(int *)(*(int *)(param_1 + 0x5b) + 0x7f);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
      *(undefined4 *)(*(int *)(param_1 + 0x5b) + 0x7f) = 0;
    }
    iVar1 = *(int *)(*(int *)(param_1 + 0x5b) + 0x83);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
      *(undefined4 *)(*(int *)(param_1 + 0x5b) + 0x83) = 0;
    }
    if (*(int *)(param_1 + 0x5b) != 0) {
      FreeMemory(*(int *)(param_1 + 0x5b));
      *(undefined4 *)(param_1 + 0x5b) = 0;
    }
  }
  if (*(int *)(param_1 + 0x99) != 0) {
    iVar1 = *(int *)(*(int *)(param_1 + 0x99) + 8);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
      *(undefined4 *)(*(int *)(param_1 + 0x99) + 8) = 0;
    }
    iVar1 = *(int *)(*(int *)(param_1 + 0x99) + 0xc);
    if (iVar1 != 0) {
      FreeMemory(iVar1);
      *(undefined4 *)(*(int *)(param_1 + 0x99) + 0xc) = 0;
    }
    if (*(int *)(param_1 + 0x99) != 0) {
      FreeMemory(*(int *)(param_1 + 0x99));
      *(undefined4 *)(param_1 + 0x99) = 0;
    }
  }
  iVar1 = *(int *)(param_1 + 0x9d);
  if (iVar1 != 0) {
    if (((*(byte *)(iVar1 + 1) & 0x18) != 0) && (*(int *)(iVar1 + 0x17) != 0)) {
      FreeMemory(*(int *)(iVar1 + 0x17));
      *(undefined4 *)(*(int *)(param_1 + 0x9d) + 0x17) = 0;
    }
    if (*(int *)(param_1 + 0x9d) != 0) {
      FreeMemory(*(int *)(param_1 + 0x9d));
      *(undefined4 *)(param_1 + 0x9d) = 0;
    }
  }
  if (param_1 != 0) {
    FreeMemory(param_1);
  }
  return;
}



void FUN_004563f0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  if (DAT_00598d90 != 0) {
    uVar3 = 0;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        FUN_004561c0(*(undefined4 *)(*(int *)(DAT_00598d90 + 0x230) + uVar3 * 4));
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
    }
    if (*(int *)(DAT_00598d90 + 0x22c) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x22c));
      *(undefined4 *)(DAT_00598d90 + 0x22c) = 0;
    }
    if (*(int *)(DAT_00598d90 + 0x241) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x241));
      *(undefined4 *)(DAT_00598d90 + 0x241) = 0;
    }
    if (*(int *)(DAT_00598d90 + 0x230) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x230));
      *(undefined4 *)(DAT_00598d90 + 0x230) = 0;
    }
    if (*(int *)(DAT_00598d90 + 0x234) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x234));
      *(undefined4 *)(DAT_00598d90 + 0x234) = 0;
    }
    if (*(int *)(DAT_00598d90 + 0x247) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x247));
      *(undefined4 *)(DAT_00598d90 + 0x247) = 0;
    }
    if (*(int *)(DAT_00598d90 + 0x24f) != 0) {
      FreeMemory(*(int *)(DAT_00598d90 + 0x24f));
      *(undefined4 *)(DAT_00598d90 + 0x24f) = 0;
    }
    uVar3 = 0;
    iVar2 = DAT_00598d90;
    if (*(short *)(DAT_00598d90 + 0x253) != 0) {
      iVar4 = 0;
      do {
        iVar1 = *(int *)(*(int *)(iVar2 + 0x255) + 8 + iVar4);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(DAT_00598d90 + 0x255) + 8 + iVar4) = 0;
          iVar2 = DAT_00598d90;
        }
        uVar3 = uVar3 + 1;
        iVar4 = iVar4 + 0xc;
      } while (uVar3 < *(ushort *)(iVar2 + 0x253));
    }
    if (*(int *)(iVar2 + 0x255) != 0) {
      FreeMemory(*(int *)(iVar2 + 0x255));
      *(undefined4 *)(DAT_00598d90 + 0x255) = 0;
      iVar2 = DAT_00598d90;
    }
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      DAT_00598d90 = 0;
    }
    FUN_0045d2e0();
    FUN_00450980();
    FUN_0045d1b0();
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004565a0(void)

{
  int iVar1;
  int iVar2;
  ushort uVar3;
  
  if (DAT_005986c8 != 0) {
    FUN_0048f630(DAT_005986c8);
    DAT_005986c8 = 0;
    _DAT_005dcb10 = 0;
  }
  uVar3 = 0;
  if (DAT_005dcb0c != 0) {
    do {
      iVar2 = (uint)uVar3 * 0x2e;
      iVar1 = *(int *)(DAT_005dca00 + 0x13 + iVar2);
      if ((iVar1 != 0) && (iVar1 = *(int *)(iVar1 + 7), iVar1 != 0)) {
        FreeMemory(iVar1);
        *(undefined4 *)(*(int *)(DAT_005dca00 + 0x13 + iVar2) + 7) = 0;
        iVar1 = *(int *)(DAT_005dca00 + 0x13 + iVar2);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(DAT_005dca00 + 0x13 + iVar2) = 0;
        }
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < DAT_005dcb0c);
  }
  if (DAT_005dca00 != 0) {
    FreeMemory(DAT_005dca00);
    DAT_005dca00 = 0;
  }
  DAT_005986d4 = 0;
  DAT_005dcb0c = 0;
  return;
}



void FUN_00456660(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  if ((DAT_004d2e18 == 0) && (uVar3 = 0, *(int *)(DAT_00598d90 + 0x239) != 0)) {
    do {
      iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar3 * 4);
      if (((*(int *)(iVar1 + 0x9d) == 0) || ((*(byte *)(*(int *)(iVar1 + 0x9d) + 1) & 0x80) == 0))
         && (*(int *)(*(int *)(iVar1 + 0x56) + 0x34) != 1)) {
        iVar2 = *(int *)(*(int *)(iVar1 + 0x56) + 4);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x56) + 4) = 0;
        }
        iVar2 = *(int *)(*(int *)(iVar1 + 0x56) + 0x10);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x56) + 0x10) = 0;
        }
        iVar2 = *(int *)(*(int *)(iVar1 + 0x56) + 0x1c);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x56) + 0x1c) = 0;
        }
        iVar2 = *(int *)(*(int *)(iVar1 + 0x56) + 0x20);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x56) + 0x20) = 0;
        }
        iVar2 = *(int *)(*(int *)(iVar1 + 0x56) + 0x28);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x56) + 0x28) = 0;
        }
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return;
}



void FUN_00456740(int param_1,int param_2)

{
  void *pvVar1;
  ushort uVar2;
  int iVar3;
  ushort uVar4;
  int iVar5;
  int iVar6;
  size_t sVar7;
  
  AdjustStackForLargeAllocations();
  iVar3 = param_1 + 7 + (uint)*(ushort *)(param_2 + 0x245);
  sVar7 = (uint)*(ushort *)(param_2 + 0x245) * 4 + 4;
  iVar5 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(sVar7);
  DAT_005d87e0 = _memset(pvVar1,iVar5,sVar7);
  uVar2 = 0;
  do {
    if (*(char *)(param_1 + 6 + (uint)uVar2) != '\0') {
      sVar7 = 8;
      iVar6 = 0;
      iVar5 = (uint)uVar2 * 4;
      pvVar1 = (void *)AllocateMemoryWithCallback(8);
      pvVar1 = _memset(pvVar1,iVar6,sVar7);
      *(void **)((int)DAT_005d87e0 + iVar5) = pvVar1;
      FUN_004ad7a0(*(undefined4 *)((int)DAT_005d87e0 + iVar5),iVar3,8);
      iVar3 = iVar3 + 8;
      sVar7 = (uint)*(byte *)(*(int *)((int)DAT_005d87e0 + iVar5) + 3) * 0x2f;
      iVar6 = 0;
      pvVar1 = (void *)AllocateMemoryWithCallback(sVar7);
      pvVar1 = _memset(pvVar1,iVar6,sVar7);
      uVar4 = 0;
      *(void **)(*(int *)((int)DAT_005d87e0 + iVar5) + 4) = pvVar1;
      iVar6 = *(int *)((int)DAT_005d87e0 + iVar5);
      if (*(char *)(iVar6 + 3) != '\0') {
        do {
          FUN_004ad7a0((uint)uVar4 * 0x2f + *(int *)(iVar6 + 4),iVar3,0x2f);
          iVar3 = iVar3 + 0x2f;
          uVar4 = uVar4 + 1;
          iVar6 = *(int *)((int)DAT_005d87e0 + iVar5);
        } while (uVar4 < *(byte *)(iVar6 + 3));
      }
    }
    uVar2 = uVar2 + 1;
  } while (uVar2 < *(ushort *)(param_2 + 0x245) || uVar2 == *(ushort *)(param_2 + 0x245));
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00456880(undefined4 param_1,short param_2,int param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  undefined4 uVar8;
  void *pvVar9;
  short *psVar10;
  uint uVar11;
  int iVar12;
  size_t sVar13;
  
  AdjustStackForLargeAllocations();
  uVar8 = param_1;
  OpenFileWithFixedFlags0x40(param_1);
  CopyDataWithLock((int)&param_1 + 2,1,2);
  FUN_004adcf0();
  if (param_1._2_2_ != 0xfab) {
    return 1;
  }
  uVar11 = 0;
  sVar13 = 0xae;
  iVar12 = 0;
  _DAT_004d86bc = 1;
  _DAT_005dca04 = 0;
  pvVar9 = (void *)AllocateMemoryWithCallback(0xae);
  DAT_005dcb24 = _memset(pvVar9,iVar12,sVar13);
  sVar13 = 0x501;
  iVar12 = 0;
  pvVar9 = (void *)AllocateMemoryWithCallback(0x501);
  DAT_005dcb3c = _memset(pvVar9,iVar12,sVar13);
  FUN_00456ea0(uVar8);
  DAT_005dcb38 = 0xe;
  psVar10 = (short *)FUN_00456e70();
  iVar12 = param_3;
  while (psVar10 != (short *)0x0) {
    QueryPerformanceCounter((LARGE_INTEGER *)&DAT_005dcb28);
    if ((*psVar10 == param_2) || (param_2 == 0)) {
      switch(*psVar10) {
      case 1:
        FUN_0045d300(psVar10);
        break;
      case 2:
        FUN_0045d380(psVar10);
        break;
      case 3:
        FUN_0045e720(psVar10);
        break;
      case 4:
        FUN_0045d3a0(psVar10);
        break;
      case 5:
        FUN_0045d4c0(psVar10);
        break;
      case 6:
        FUN_00456f40(psVar10);
        break;
      case 7:
        FUN_00457120(psVar10);
        break;
      case 8:
        FUN_00457050(psVar10);
        break;
      case 9:
        FUN_00456f80(psVar10);
        break;
      case 10:
        FUN_00457150(psVar10);
        break;
      case 0xb:
        FUN_004571c0(psVar10);
        break;
      case 0xc:
        FUN_004573a0(psVar10);
        break;
      case 0xd:
        FUN_00457350(psVar10);
        break;
      case 0xe:
        FUN_00457570(psVar10);
        break;
      case 0x10:
        FUN_0045d730(psVar10);
        break;
      case 0x11:
        FUN_0045d760(psVar10);
        break;
      case 0x12:
        FUN_0045d610(psVar10);
        break;
      case 0x14:
        FUN_0045cf80(psVar10);
        break;
      case 0x15:
        FUN_0045e6a0(psVar10);
        break;
      case 0x16:
        FUN_0045dc90(psVar10);
        break;
      case 0x17:
        FUN_0045df00(psVar10);
        break;
      case 0x18:
        FUN_0045e5d0(psVar10);
        break;
      case 0x19:
        FUN_0045e1b0(psVar10);
        break;
      case 0x1a:
        FUN_0045e950(psVar10);
        break;
      case 0x1c:
        FUN_00455ca0(psVar10);
        break;
      case 0x1d:
        FUN_00455e00(psVar10);
        break;
      case 0x1f:
        if (DAT_00598944 == 0) {
          FUN_00455b50(psVar10,DAT_005dcb24);
        }
        break;
      case 0x20:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_00454e70(psVar10);
        }
        break;
      case 0x21:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_00454f30(psVar10);
        }
        break;
      case 0x22:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_00455230(psVar10);
        }
        break;
      case 0x23:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_004554e0(psVar10,DAT_005dcb3c);
        }
        break;
      case 0x24:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_004557d0(psVar10,DAT_005dcb3c);
        }
        break;
      case 0x25:
        if (DAT_00598944 == 0) {
          FUN_00455c10(psVar10,DAT_005dcb3c);
        }
        break;
      case 0x26:
        FUN_00456740(psVar10,DAT_005dcb3c);
        break;
      case 0x27:
        FUN_0045d280(psVar10);
        break;
      case 0x28:
        if ((DAT_00598944 == 0) && (iVar12 == 0)) {
          FUN_004551b0(psVar10);
        }
        break;
      case 0x2a:
        FUN_0045e660(psVar10);
      }
      QueryPerformanceCounter((LARGE_INTEGER *)&DAT_005dcb28);
    }
    psVar10 = (short *)FUN_00456e70();
  }
  if (DAT_00598944 != 0) {
    FUN_004756c0();
  }
  if (DAT_005dcb30 != 0) {
    FreeMemory(DAT_005dcb30);
    DAT_005dcb30 = 0;
  }
  DAT_00598ff0 = DAT_005dcb24;
  DAT_00598d90 = DAT_005dcb3c;
  FUN_004ad7a0(&DAT_005d6700,&DAT_005dca20,0x5c);
  FUN_004ad7a0(&DAT_005d48e0,&DAT_005dca80,0x80);
  *(undefined4 *)((int)DAT_00598d90 + 0x2dd) = 0;
  *(undefined4 *)((int)DAT_00598d90 + 0x2e1) = 0x3c23d70a;
  FUN_00455fb0();
  FUN_00457620();
  if (*(int *)((int)DAT_00598d90 + 0x239) != 0) {
    do {
      iVar12 = *(int *)(*(int *)((int)DAT_00598d90 + 0x230) + uVar11 * 4);
      fVar5 = *(float *)(iVar12 + 6);
      fVar6 = *(float *)(iVar12 + 10);
      fVar7 = *(float *)(iVar12 + 0xe);
      fVar1 = *(float *)(iVar12 + 0x95);
      fVar2 = *(float *)(iVar12 + 0x95);
      fVar3 = *(float *)(iVar12 + 0x95);
      FUN_0045eab0(&stack0xfffffff0);
      fVar4 = *(float *)(iVar12 + 0x16);
      *(float *)(iVar12 + 6) = (fVar5 / fVar1) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 10) = (fVar6 / fVar2) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 0xe) = (fVar7 / fVar3) * *(float *)(iVar12 + 0x95);
      fVar6 = *(float *)(iVar12 + 0x1a);
      fVar7 = *(float *)(iVar12 + 0x1e);
      fVar1 = *(float *)(iVar12 + 0x95);
      fVar2 = *(float *)(iVar12 + 0x95);
      fVar3 = *(float *)(iVar12 + 0x95);
      FUN_0045eab0(&stack0xfffffff0);
      fVar5 = *(float *)(iVar12 + 0x26);
      *(float *)(iVar12 + 0x16) = (fVar4 / fVar1) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 0x1a) = (fVar6 / fVar2) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 0x1e) = (fVar7 / fVar3) * *(float *)(iVar12 + 0x95);
      fVar4 = *(float *)(iVar12 + 0x2a);
      fVar6 = *(float *)(iVar12 + 0x2e);
      fVar1 = *(float *)(iVar12 + 0x95);
      fVar2 = *(float *)(iVar12 + 0x95);
      fVar3 = *(float *)(iVar12 + 0x95);
      FUN_0045eab0(&stack0xfffffff0);
      uVar11 = uVar11 + 1;
      *(float *)(iVar12 + 0x26) = (fVar5 / fVar1) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 0x2a) = (fVar4 / fVar2) * *(float *)(iVar12 + 0x95);
      *(float *)(iVar12 + 0x2e) = (fVar6 / fVar3) * *(float *)(iVar12 + 0x95);
    } while (uVar11 < *(uint *)((int)DAT_00598d90 + 0x239));
  }
  return 0;
}



int FUN_00456e70(void)

{
  int iVar1;
  
  if (DAT_005dcb38 == DAT_005dcb34) {
    return 0;
  }
  iVar1 = DAT_005dcb30 + DAT_005dcb38;
  DAT_005dcb38 = DAT_005dcb38 + *(int *)(iVar1 + 2);
  return iVar1;
}



void FUN_00456ea0(LPCSTR param_1)

{
  HANDLE hFile;
  void *_Dst;
  undefined4 uVar1;
  int _Val;
  DWORD _Size;
  
  hFile = CreateFileA(param_1,0x80000000,1,(LPSECURITY_ATTRIBUTES)0x0,3,0x80,(HANDLE)0x0);
  if (hFile != (HANDLE)0xffffffff) {
    DAT_005dcb34 = GetFileSize(hFile,(LPDWORD)0x0);
    CloseHandle(hFile);
    _Val = 0;
    _Size = DAT_005dcb34;
    _Dst = (void *)AllocateMemoryWithCallback(DAT_005dcb34);
    DAT_005dcb30 = _memset(_Dst,_Val,_Size);
    uVar1 = OpenFileWithFixedFlags0x40(param_1,&DAT_004cd960);
    CopyDataWithLock(DAT_005dcb30,1,DAT_005dcb34,uVar1);
    FUN_004adcf0(uVar1);
  }
  return;
}



void FUN_00456f40(int param_1)

{
  *(undefined2 *)(DAT_005dcb24 + 4) = *(undefined2 *)(param_1 + 6);
  *(undefined2 *)(DAT_005dcb24 + 0xe) = *(undefined2 *)(param_1 + 8);
  *(undefined2 *)(DAT_005dcb24 + 0x10) = *(undefined2 *)(param_1 + 10);
  *(undefined2 *)(DAT_005dcb24 + 0x12) = *(undefined2 *)(param_1 + 0xc);
  return;
}



void FUN_00456f80(int param_1)

{
  size_t _Size;
  void *pvVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  
  *(uint *)(DAT_005dcb24 + 0xa6) = (uint)*(ushort *)(param_1 + 6);
  _Size = *(int *)(DAT_005dcb24 + 0xa6) * 0x14;
  iVar4 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar1 = _memset(pvVar1,iVar4,_Size);
  uVar3 = 0;
  *(void **)(DAT_005dcb24 + 0xaa) = pvVar1;
  if (*(short *)(param_1 + 6) != 0) {
    iVar4 = 0;
    puVar2 = (undefined4 *)(param_1 + 0x10);
    do {
      uVar3 = uVar3 + 1;
      iVar4 = iVar4 + 0x14;
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 0xaa) + -0x14 + iVar4) = puVar2[-2];
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 0xaa) + -0xc + iVar4) = *puVar2;
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 0xaa) + -0x10 + iVar4) = puVar2[-1];
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 0xaa) + -4 + iVar4) = puVar2[2];
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 0xaa) + -8 + iVar4) = puVar2[1];
      puVar2 = puVar2 + 5;
    } while (uVar3 < *(ushort *)(param_1 + 6));
  }
  return;
}



void FUN_00457050(int param_1)

{
  int iVar1;
  void *pvVar2;
  uint uVar3;
  uint uVar4;
  int _Val;
  size_t _Size;
  
  *(undefined2 *)(DAT_005dcb24 + 6) = *(undefined2 *)(param_1 + 7);
  iVar1 = DAT_005dcb24;
  *(undefined2 *)(DAT_005dcb24 + 8) = *(undefined2 *)(param_1 + 9);
  if (*(char *)(param_1 + 6) == '\0') {
    iVar1 = param_1 + 0x13;
  }
  else {
    iVar1 = FUN_00424940(param_1 + 0x13,*(undefined4 *)(param_1 + 0xf),
                         *(undefined4 *)(param_1 + 0xb),
                         CONCAT31((int3)((uint)iVar1 >> 8),*(char *)(param_1 + 6)));
  }
  _Size = *(size_t *)(param_1 + 0xb);
  _Val = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar2 = _memset(pvVar2,_Val,_Size);
  *(void **)(DAT_005dcb24 + 10) = pvVar2;
  uVar4 = 0;
  if (0 < (int)((uint)*(ushort *)(param_1 + 7) * (uint)*(ushort *)(param_1 + 9))) {
    uVar3 = 0;
    do {
      uVar4 = uVar4 + 1;
      *(undefined4 *)(*(int *)(DAT_005dcb24 + 10) + uVar3 * 4) = *(undefined4 *)(iVar1 + uVar3 * 4);
      uVar3 = uVar4 & 0xffff;
    } while ((int)uVar3 < (int)((uint)*(ushort *)(param_1 + 7) * (uint)*(ushort *)(param_1 + 9)));
  }
  if ((*(char *)(param_1 + 6) != '\0') && (iVar1 != 0)) {
    FreeMemory(iVar1);
  }
  return;
}



void FUN_00457120(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  
  iVar2 = 0;
  puVar3 = (undefined4 *)(param_1 + 8);
  iVar4 = 0x20;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
    *(undefined4 *)(DAT_005dcb24 + 0x26 + iVar2) = uVar1;
    iVar2 = iVar2 + 4;
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  return;
}



void FUN_00457150(int param_1)

{
  size_t _Size;
  void *pvVar1;
  uint uVar2;
  ushort uVar3;
  int _Val;
  
  _Size = (uint)*(ushort *)(param_1 + 6) << 2;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  *(void **)(DAT_005dcb24 + 0x1c) = pvVar1;
  uVar3 = 0;
  *(undefined2 *)(DAT_005dcb24 + 0x12) = *(undefined2 *)(param_1 + 6);
  if (*(short *)(param_1 + 6) != 0) {
    do {
      uVar2 = (uint)uVar3;
      uVar3 = uVar3 + 1;
      *(uint *)(*(int *)(DAT_005dcb24 + 0x1c) + uVar2 * 4) =
           (uint)*(ushort *)(param_1 + 8 + uVar2 * 2);
    } while (uVar3 < *(ushort *)(param_1 + 6));
  }
  return;
}



void FUN_004571c0(int param_1)

{
  size_t sVar1;
  void *pvVar2;
  undefined4 *puVar3;
  uint uVar4;
  uint uVar5;
  uint unaff_EDI;
  int iVar6;
  int iVar7;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar8 = 0;
  sVar1 = (uint)*(ushort *)(DAT_005dcb24 + 1) * 0x3e;
  iVar7 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
  pvVar2 = _memset(pvVar2,iVar7,sVar1);
  *DAT_005dcb24 = pvVar2;
  if (*(int *)(param_1 + 6) != 0) {
    do {
      iVar7 = param_1 + iVar8 * 0xf;
      sVar1 = (uint)*(ushort *)((int)DAT_005dcb24 + 0xe) *
              (uint)*(ushort *)((int)DAT_005dcb24 + 0xe) * 0xf;
      iVar6 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
      pvVar2 = _memset(pvVar2,iVar6,sVar1);
      uVar5 = 0;
      *(void **)((int)*DAT_005dcb24 + (uint)*(ushort *)(iVar7 + 0xe) * 0x3e + 0x16) = pvVar2;
      if (0 < (int)((uint)*(ushort *)((int)DAT_005dcb24 + 0xe) *
                   (uint)*(ushort *)((int)DAT_005dcb24 + 0xe))) {
        uVar4 = 0;
        puVar3 = (undefined4 *)(iVar7 + 0x10);
        do {
          iVar7 = uVar4 * 0xf;
          iVar6 = (uint)*(ushort *)((int)puVar3 + -2) * 0x3e;
          *(undefined4 *)(*(int *)((int)*DAT_005dcb24 + iVar6 + 0x16) + iVar7) = *puVar3;
          *(undefined4 *)(*(int *)((int)*DAT_005dcb24 + iVar6 + 0x16) + 4 + iVar7) = puVar3[1];
          *(undefined2 *)(*(int *)((int)*DAT_005dcb24 + iVar6 + 0x16) + 8 + iVar7) =
               *(undefined2 *)(puVar3 + 2);
          *(undefined2 *)(*(int *)((int)*DAT_005dcb24 + iVar6 + 0x16) + 10 + iVar7) =
               *(undefined2 *)((int)puVar3 + 10);
          *(undefined *)(*(int *)((int)*DAT_005dcb24 + iVar6 + 0x16) + 0xc + iVar7) =
               *(undefined *)(puVar3 + 3);
          iVar8 = iVar8 + 1;
          uVar5 = uVar5 + 1;
          uVar4 = uVar5 & 0xffff;
          puVar3 = (undefined4 *)((int)puVar3 + 0xf);
        } while ((int)uVar4 <
                 (int)((uint)*(ushort *)((int)DAT_005dcb24 + 0xe) *
                      (uint)*(ushort *)((int)DAT_005dcb24 + 0xe)));
      }
      unaff_EDI = unaff_EDI + 1;
    } while ((unaff_EDI & 0xffff) < *(uint *)(param_1 + 6));
  }
  return;
}



void FUN_00457350(int param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (*(int *)(param_1 + 6) != 0) {
    uVar1 = 0;
    do {
      uVar2 = uVar2 + 1;
      *(undefined4 *)(*DAT_005dcb24 + 0x1a + (uint)*(ushort *)(param_1 + 10 + uVar1 * 6) * 0x3e) =
           *(undefined4 *)(param_1 + (uVar1 + 2) * 6);
      uVar1 = uVar2 & 0xffff;
    } while (uVar1 < *(uint *)(param_1 + 6));
  }
  return;
}



void FUN_004573a0(int param_1)

{
  float *pfVar1;
  ushort uVar2;
  int iVar3;
  size_t sVar4;
  void *pvVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  uint unaff_ESI;
  int iVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  
  AdjustStackForLargeAllocations();
  puVar10 = (undefined4 *)(param_1 + 10);
  if (*(int *)(param_1 + 6) != 0) {
    do {
      uVar2 = *(ushort *)puVar10;
      puVar10 = (undefined4 *)((int)puVar10 + 2);
      iVar3 = *(ushort *)((int)DAT_005dcb24 + 0xe) + 1;
      sVar4 = iVar3 * iVar3 * 0x20;
      iVar3 = 0;
      iVar9 = (uint)uVar2 * 0x3e;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar3,sVar4);
      *(void **)(*DAT_005dcb24 + iVar9) = pvVar5;
      sVar4 = (uint)*(ushort *)((int)DAT_005dcb24 + 0xe) *
              (uint)*(ushort *)((int)DAT_005dcb24 + 0xe) * 0x18;
      iVar3 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar3,sVar4);
      uVar8 = 0;
      *(void **)(*DAT_005dcb24 + 10 + iVar9) = pvVar5;
      *(undefined4 *)(*DAT_005dcb24 + 0x2e + iVar9) = 0x461c4000;
      *(undefined4 *)(*DAT_005dcb24 + 0x32 + iVar9) = 0xc61c4000;
      iVar3 = *(ushort *)((int)DAT_005dcb24 + 0xe) + 1;
      if (0 < iVar3 * iVar3) {
        uVar6 = 0;
        puVar11 = puVar10;
        do {
          iVar3 = uVar6 * 0x20;
          *(undefined4 *)(*(int *)(*DAT_005dcb24 + iVar9) + 4 + iVar3) = *puVar11;
          iVar7 = *DAT_005dcb24 + iVar9;
          pfVar1 = (float *)(iVar3 + 4 + *(int *)(*DAT_005dcb24 + iVar9));
          if (*pfVar1 < *(float *)(iVar7 + 0x2e)) {
            *(float *)(iVar7 + 0x2e) = *pfVar1;
          }
          iVar7 = *DAT_005dcb24;
          if (*(float *)(iVar7 + 0x32 + iVar9) < *(float *)(iVar3 + 4 + *(int *)(iVar7 + iVar9))) {
            *(undefined4 *)(iVar7 + iVar9 + 0x32) =
                 *(undefined4 *)(iVar3 + 4 + *(int *)(iVar7 + iVar9));
          }
          puVar10 = puVar11 + 4;
          uVar8 = uVar8 + 1;
          *(undefined4 *)(*(int *)(*DAT_005dcb24 + iVar9) + 0x10 + iVar3) = puVar11[1];
          *(undefined4 *)(*(int *)(*DAT_005dcb24 + iVar9) + 0x18 + iVar3) = puVar11[2];
          *(undefined4 *)(*(int *)(*DAT_005dcb24 + iVar9) + 0x1c + iVar3) = puVar11[3];
          uVar6 = uVar8 & 0xffff;
          iVar3 = *(ushort *)((int)DAT_005dcb24 + 0xe) + 1;
          puVar11 = puVar10;
        } while ((int)uVar6 < iVar3 * iVar3);
      }
      unaff_ESI = unaff_ESI + 1;
    } while ((unaff_ESI & 0xffff) < *(uint *)(param_1 + 6));
  }
  return;
}



void FUN_00457570(int param_1)

{
  short sVar1;
  size_t sVar2;
  void *pvVar3;
  uint uVar4;
  short *psVar5;
  int iVar6;
  
  *(undefined2 *)(DAT_005dcb24 + 0x12) = *(undefined2 *)(param_1 + 6);
  sVar2 = (uint)*(ushort *)(DAT_005dcb24 + 0x12) << 1;
  iVar6 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  pvVar3 = _memset(pvVar3,iVar6,sVar2);
  *(void **)(DAT_005dcb24 + 0x14) = pvVar3;
  sVar2 = (uint)*(ushort *)(DAT_005dcb24 + 0x12) << 2;
  iVar6 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  pvVar3 = _memset(pvVar3,iVar6,sVar2);
  *(void **)(DAT_005dcb24 + 0x20) = pvVar3;
  uVar4 = 0;
  if (*(int *)(param_1 + 6) != 0) {
    psVar5 = (short *)(param_1 + 10);
    do {
      sVar1 = *psVar5;
      uVar4 = uVar4 + 1;
      psVar5 = psVar5 + 1;
      *(short *)(*(int *)(DAT_005dcb24 + 0x14) + -2 + uVar4 * 2) = DAT_005986e0 + sVar1;
    } while (uVar4 < *(uint *)(param_1 + 6));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00457620(void)

{
  int iVar1;
  
  FUN_00457650();
  FUN_00458ea0();
  iVar1 = FUN_00458360();
  if (iVar1 != 0) {
    FUN_00458d80();
  }
  _DAT_005dcb10 = 1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00457650(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  undefined2 uVar6;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  _DAT_005dcb14 = DAT_005986d4;
  uVar7 = 0;
  iVar3 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      uVar4 = 0;
      iVar1 = *(int *)(*(int *)(iVar3 + 0x230) + uVar7 * 4);
      iVar2 = *(int *)(iVar1 + 0x56);
      if (*(int *)(iVar2 + 0x14) != 0) {
        do {
          iVar3 = *(int *)(iVar1 + 0x9d);
          if ((iVar3 == 0) || ((*(byte *)(iVar3 + 1) & 4) == 0)) {
            uVar6 = *(undefined2 *)(*(int *)(iVar2 + 0x10) + uVar4 * 2);
            uVar5 = 0;
          }
          else {
            uVar6 = *(undefined2 *)(*(int *)(iVar2 + 0x10) + uVar4 * 2);
            uVar5 = 1;
          }
          FUN_00457730(uVar5,uVar6,0);
          uVar4 = uVar4 + 1;
          iVar3 = DAT_00598d90;
        } while (uVar4 < *(uint *)(iVar2 + 0x14));
      }
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)(iVar3 + 0x239));
  }
  if ((*(short *)(DAT_00598ff0 + 0x12) != 0) && (uVar7 = 0, *(short *)(DAT_00598ff0 + 0x12) != 0)) {
    do {
      FUN_00457730(0,*(undefined2 *)(*(int *)(DAT_00598ff0 + 0x14) + uVar7 * 2),0);
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(ushort *)(DAT_00598ff0 + 0x12));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_00457730(undefined4 param_1,uint param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = DAT_005dca00 + (param_2 & 0xffff) * 0x2e;
  *(undefined4 *)(iVar1 + 0x1b) = param_1;
  *(undefined4 *)(iVar1 + 0x29) = param_3;
  _DAT_005986cc = _DAT_005986cc + 1;
  FUN_004a5a00();
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00457770(void)

{
  undefined4 **local_18;
  undefined4 ***local_14;
  undefined4 *local_10;
  int *local_c;
  int **local_8;
  
  local_8 = (int **)0x45777d;
  AdjustStackForLargeAllocations();
  local_8 = &local_c;
  local_c = &DAT_004c0ff0;
  local_10 = DAT_005e58e4;
  local_14 = (undefined4 ***)0x457790;
  (**(code **)*DAT_005e58e4)();
  local_14 = &local_14;
  local_18 = &local_10;
  local_8 = (int **)0x10000000;
  (**(code **)(*local_c + 0x5c))(local_c,&local_8);
  local_8 = (int **)0x20000000;
  (**(code **)(*local_c + 0x5c))(local_c,&local_8,&local_10,&local_18);
  (**(code **)(*local_c + 8))(local_c);
  if (DAT_005e58d0 == 0) {
    local_14 = (undefined4 ***)0x7fffffff;
  }
  _DAT_005a112c = DAT_005df2e8;
  if ((((undefined4 ***)0xaae5f < local_14) && (DAT_005df2e8 != 0)) && (DAT_005df2f8 != 2)) {
    DAT_005986d0 = 2;
    DAT_005e7304 = local_14 + -0x1e848;
    return;
  }
  DAT_005986d0 = 1;
  DAT_005e7304 = local_14 + -50000;
  if (local_14 + -50000 < (undefined4 ***)0x128e0) {
    DAT_005df2e8 = 0;
  }
  return;
}



undefined4
FUN_00457850(float param_1,float param_2,float param_3,float *param_4,float *param_5,float *param_6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  
  AdjustStackForLargeAllocations();
  if (param_1 <= param_2) {
    fVar1 = param_2;
    if ((param_2 <= param_3) && (fVar1 = param_1, param_1 <= param_3)) goto LAB_004578b2;
  }
  else {
    fVar1 = param_1;
    if ((param_1 <= param_3) && (fVar1 = param_2, param_2 <= param_3)) {
LAB_004578b2:
      fVar1 = param_3;
    }
  }
  if (param_2 <= param_1) {
    fVar2 = param_2;
    if ((param_3 <= param_2) && (fVar2 = param_1, param_3 <= param_1)) goto LAB_0045790a;
  }
  else {
    fVar2 = param_1;
    if ((param_3 <= param_1) && (fVar2 = param_2, param_3 <= param_2)) {
LAB_0045790a:
      fVar2 = param_3;
    }
  }
  fVar3 = (fVar2 + fVar1) * 0.5;
  *param_5 = fVar3;
  if (fVar1 == fVar2) {
    *param_6 = 0.0;
    *param_4 = 0.0;
    return 1;
  }
  if (0.5 <= fVar3) {
    *param_6 = (fVar1 - fVar2) / ((2.0 - fVar1) - fVar2);
  }
  else {
    *param_6 = (fVar1 - fVar2) / (fVar2 + fVar1);
  }
  fVar2 = fVar1 - fVar2;
  if (param_1 == fVar1) {
    fVar2 = (param_2 - param_3) / fVar2;
  }
  else if (param_2 == fVar1) {
    fVar2 = (param_3 - param_1) / fVar2 - -2.0;
  }
  else {
    if (param_3 != fVar1) goto LAB_004579e6;
    fVar2 = (param_1 - param_2) / fVar2 - -4.0;
  }
  *param_4 = fVar2;
LAB_004579e6:
  fVar1 = *param_4 * 60.0;
  *param_4 = fVar1;
  if (0.0 <= fVar1) {
    return 1;
  }
  *param_4 = fVar1 - -360.0;
  return 1;
}



float10 FUN_00457a20(float param_1,float param_2,float param_3)

{
  float10 fVar1;
  
  fVar1 = (float10)param_3;
  if (fVar1 <= (float10)360.0) {
    if (fVar1 < (float10)0.0) {
      fVar1 = fVar1 - (float10)-360.0;
    }
  }
  else {
    fVar1 = fVar1 - (float10)360.0;
  }
  if (fVar1 < (float10)60.0) {
    return (float10)param_1 - ((float10)param_2 - (float10)param_1) * fVar1 * (float10)-0.01666667;
  }
  if (fVar1 < (float10)180.0) {
    return (float10)param_2;
  }
  if (fVar1 < (float10)240.0) {
    return (float10)param_1 -
           ((float10)240.0 - fVar1) * ((float10)param_2 - (float10)param_1) * (float10)-0.01666667;
  }
  return (float10)param_1;
}



undefined4
FUN_00457ac0(float *param_1,float *param_2,float *param_3,float param_4,float param_5,float param_6)

{
  float fVar1;
  float fVar2;
  float10 fVar3;
  
  AdjustStackForLargeAllocations();
  if (0.5 < param_5) {
    fVar1 = (param_5 - -1.0) * param_6 + param_5;
  }
  else {
    fVar1 = (param_6 - -1.0) * param_5;
  }
  fVar2 = (param_5 + param_5) - fVar1;
  if (param_6 == 0.0) {
    *param_3 = 0.0;
    *param_2 = 0.0;
    *param_1 = 0.0;
    return 1;
  }
  fVar3 = (float10)FUN_00457a20(fVar2,fVar1,param_4 - -120.0);
  *param_1 = (float)fVar3;
  fVar3 = (float10)FUN_00457a20(fVar2,fVar1,param_4);
  *param_2 = (float)fVar3;
  fVar3 = (float10)FUN_00457a20(fVar2,fVar1,param_4 - 120.0);
  *param_3 = (float)fVar3;
  return 1;
}



undefined4 FUN_00457ba0(ushort *param_1,int param_2,int param_3,int param_4)

{
  ushort uVar1;
  ushort uVar2;
  int iVar3;
  float *pfVar4;
  uint uVar5;
  ushort *puVar6;
  int iVar7;
  int iVar8;
  ushort *puVar9;
  float *pfVar10;
  
  AdjustStackForLargeAllocations();
  if (0 < param_2) {
    pfVar10 = (float *)&DAT_004d86c4;
    iVar3 = param_2;
    puVar9 = param_1;
    do {
      pfVar4 = pfVar10;
      puVar6 = puVar9;
      iVar8 = param_3;
      if (0 < param_3) {
        do {
          uVar1 = *puVar6;
          iVar8 = iVar8 + -1;
          pfVar4[-1] = (float)(uint)(uVar1 >> 0xb) * 0.03225806;
          *pfVar4 = (float)((uVar1 & 0x7e0) >> 5) * 0.01587302;
          pfVar4[1] = (float)(uVar1 & 0x1f) * 0.03225806;
          pfVar4 = pfVar4 + 3;
          puVar6 = puVar6 + param_4;
        } while (iVar8 != 0);
      }
      pfVar10 = pfVar10 + 0x300;
      puVar9 = puVar9 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  iVar3 = 4;
  do {
    if (0 < param_2 + -1) {
      pfVar10 = (float *)&DAT_004d86cc;
      iVar8 = param_2 + -1;
      do {
        pfVar4 = pfVar10;
        iVar7 = param_3 + -1;
        if (0 < param_3 + -1) {
          do {
            iVar7 = iVar7 + -1;
            pfVar4[-3] = (pfVar4[0x300] + pfVar4[0x2fd] + pfVar4[-3] + *pfVar4) * 0.25;
            pfVar4 = pfVar4 + 3;
          } while (iVar7 != 0);
        }
        pfVar10 = pfVar10 + 0x300;
        iVar8 = iVar8 + -1;
      } while (iVar8 != 0);
    }
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  iVar3 = param_2;
  if (0 < param_2) {
    do {
      puVar9 = param_1;
      if (0 < param_3) {
        param_2 = param_3;
        do {
          uVar1 = __ftol();
          uVar5 = __ftol();
          uVar2 = __ftol();
          *param_1 = (ushort)(((uint)uVar1 << 6 | uVar5) << 5) | uVar2;
          param_1 = param_1 + param_4;
          param_2 = param_2 + -1;
        } while (param_2 != 0);
      }
      param_1 = puVar9 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  return 1;
}



undefined4
FUN_00457d50(uint param_1,int **param_2,uint *param_3,undefined4 *param_4,undefined4 *param_5,
            undefined4 param_6,int *param_7)

{
  byte *pbVar1;
  int iVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  ushort uVar6;
  ushort uVar7;
  int iVar8;
  uint uVar9;
  short *psVar10;
  short *psVar11;
  ushort *puVar12;
  undefined2 extraout_var;
  ushort *puVar13;
  undefined4 local_354 [91];
  undefined4 local_1e8 [91];
  undefined4 local_7c [2];
  uint local_74;
  uint local_70;
  int local_6c;
  ushort *local_58;
  undefined4 uStackY_50;
  undefined4 uStackY_4c;
  uint uStackY_48;
  ushort *puStackY_44;
  short *psStackY_40;
  short *psStackY_3c;
  int *piStackY_38;
  int *piStackY_34;
  int *piStackY_30;
  undefined4 uStackY_2c;
  uint uVar14;
  uint uVar15;
  
  AdjustStackForLargeAllocations();
  iVar2 = DAT_005dca00;
  bVar5 = false;
  *param_5 = 0;
  uVar15 = 0;
  uVar14 = 0;
  iVar2 = iVar2 + (param_1 & 0xffff) * 0x2e;
  if ((((DAT_005986d0 == 1) && (iVar8 = *param_7, iVar8 != 10)) && (iVar8 != 9)) && (iVar8 != 2)) {
    iVar8 = *(int *)(iVar2 + 0x13);
    bVar3 = *(byte *)(iVar8 + 2);
    pbVar1 = (byte *)(iVar8 + 2);
    if ((1 < bVar3) && (bVar4 = *(byte *)(iVar8 + 1), 1 < bVar4)) {
      uVar14 = (uint)bVar3;
      uVar15 = (uint)bVar4;
      bVar5 = true;
      if ((bVar3 < 5) || (bVar4 < 5)) {
        *pbVar1 = bVar3 >> 1;
        pbVar1 = (byte *)(*(int *)(iVar2 + 0x13) + 1);
        *pbVar1 = *pbVar1 >> 1;
      }
      else {
        while (bVar3 != 4) {
          *pbVar1 = bVar3 >> 1;
          *(byte *)(*(int *)(iVar2 + 0x13) + 1) = *(byte *)(*(int *)(iVar2 + 0x13) + 1) >> 1;
          pbVar1 = (byte *)(*(int *)(iVar2 + 0x13) + 2);
          bVar3 = *(byte *)(*(int *)(iVar2 + 0x13) + 2);
        }
      }
    }
  }
  _memset(local_354,0,0x16c);
  local_354[0] = 0x16c;
  _memset(local_1e8,0,0x16c);
  local_1e8[0] = 0x16c;
  (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  if ((DAT_005e58d0 == 0) && ((*(int *)(iVar2 + 0x29) == 2 || (*(int *)(iVar2 + 0x29) == 9)))) {
    *(undefined4 *)(iVar2 + 0x29) = 10;
  }
  if (*(int *)(iVar2 + 0x29) == 1) {
    *(undefined4 *)(iVar2 + 0x29) = 0;
  }
  uStackY_2c = 0;
  piStackY_30 = (int *)((uint)*(byte *)(*(int *)(iVar2 + 0x13) + 1) << 3);
  piStackY_38 = *(int **)(iVar2 + 0x29);
  piStackY_34 = (int *)((uint)*(byte *)(*(int *)(iVar2 + 0x13) + 2) << 3);
  psStackY_3c = (short *)0x1;
  psStackY_40 = (short *)0x457eb2;
  FUN_00458980();
  *param_3 = (uint)*(byte *)(*(int *)(iVar2 + 0x13) + 2) *
             (uint)*(byte *)(*(int *)(iVar2 + 0x13) + 1) * 0x80;
  uStackY_2c = 0x457ed9;
  _memset(local_7c,0,0x6c);
  piStackY_30 = *param_2;
  local_7c[0] = 0x6c;
  uStackY_2c = 0;
  piStackY_34 = (int *)0x457ef2;
  iVar8 = (**(code **)(*piStackY_30 + 100))();
  puVar13 = local_58;
  if (iVar8 != 0) {
    piStackY_34 = *param_2;
    piStackY_38 = (int *)0x457efe;
    (**(code **)(*piStackY_34 + 8))();
    return 0;
  }
  piStackY_38 = *param_2;
  piStackY_34 = (int *)0x0;
  uVar9 = local_6c >> 1;
  psStackY_3c = (short *)0x457f22;
  (**(code **)(*piStackY_38 + 0x80))();
  pbVar1 = *(byte **)(iVar2 + 0x13);
  psStackY_3c = *(short **)(pbVar1 + 7);
  if (psStackY_3c != (short *)0x0) {
    if (bVar5) {
      puStackY_44 = (ushort *)(uint)*(ushort *)(pbVar1 + 4);
      uStackY_48 = CONCAT31((int3)((uint)pbVar1 >> 8),*pbVar1);
      psStackY_40 = (short *)(uVar14 * uVar15 * 0x80);
      uStackY_4c = 0x457f52;
      uStackY_4c = FUN_0045ac80();
      iVar8 = *(int *)(iVar2 + 0x13);
      psStackY_3c = (short *)(CONCAT22(extraout_var,(ushort)*(byte *)(iVar8 + 2)) << 3);
      psStackY_40 = (short *)(CONCAT22((short)((uint)iVar8 >> 0x10),(ushort)*(byte *)(iVar8 + 1)) <<
                             3);
      puStackY_44 = (ushort *)(uVar14 * 8);
      uStackY_48 = uVar15 * 8;
      uStackY_50 = 0x457f83;
      psVar10 = (short *)FUN_0045a9e0();
    }
    else {
      uStackY_48 = (uint)*pbVar1;
      psStackY_40 = (short *)(CONCAT22((short)((uint)psStackY_3c >> 0x10),(ushort)pbVar1[2]) *
                              (uint)pbVar1[1] * 0x80);
      puStackY_44 = (ushort *)
                    CONCAT22((short)((uint)psStackY_40 >> 0x10),*(undefined2 *)(pbVar1 + 4));
      uStackY_4c = 0x457fa6;
      psVar10 = (short *)FUN_0045ac80();
    }
    psStackY_40 = psVar10;
    if (*(int *)(iVar2 + 0x29) == 9) {
      if (uVar9 == local_70) {
        psStackY_3c = (short *)*param_3;
        puStackY_44 = local_58;
        uStackY_48 = 0x457fd5;
        FUN_004ad7a0();
        uVar14 = 0;
        psVar11 = psVar10;
        if (*param_3 >> 1 != 0) {
          do {
            if (*psVar11 == 0xf0f) goto LAB_00458323;
            uVar14 = uVar14 + 1;
            psVar11 = psVar11 + 1;
          } while (uVar14 < *param_3 >> 1);
        }
      }
      else {
        iVar8 = *(int *)(iVar2 + 0x13);
        uVar14 = 0;
        if (*(char *)(iVar8 + 1) != '\0') {
          param_4 = (undefined4 *)puVar13;
          do {
            uVar15 = 0;
            puVar13 = (ushort *)param_4;
            if (*(char *)(iVar8 + 2) != '\0') {
              do {
                iVar8 = *(byte *)(iVar8 + 1) * uVar15;
                uVar15 = uVar15 + 1;
                *puVar13 = psVar10[uVar14 + iVar8 * 8];
                iVar8 = *(int *)(iVar2 + 0x13);
                puVar13 = puVar13 + uVar9;
              } while (uVar15 < (uint)*(byte *)(iVar8 + 2) << 3);
            }
            param_4 = (undefined4 *)((int)param_4 + 2);
            uVar14 = uVar14 + 1;
            iVar8 = *(int *)(iVar2 + 0x13);
          } while (uVar14 < (uint)*(byte *)(iVar8 + 1) << 3);
        }
      }
    }
    else {
      if ((*(int *)(iVar2 + 0x29) == 0xb) || (DAT_005e72dc == 0)) {
        if (uVar9 == local_70) {
          psStackY_3c = (short *)*param_3;
          puStackY_44 = local_58;
          uStackY_48 = 0x458129;
          FUN_004ad7a0();
        }
        else {
          iVar8 = *(int *)(iVar2 + 0x13);
          uVar14 = 0;
          if (*(char *)(iVar8 + 1) != '\0') {
            param_7 = (int *)puVar13;
            do {
              uVar15 = 0;
              puVar12 = (ushort *)param_7;
              if (*(char *)(iVar8 + 2) != '\0') {
                do {
                  *puVar12 = psVar10[uVar14 + *(byte *)(iVar8 + 1) * uVar15 * 8] & 0x1fU |
                             (ushort)psVar10[uVar14 + *(byte *)(iVar8 + 1) * uVar15 * 8] >> 1 &
                             0x7fe0;
                  iVar8 = *(int *)(iVar2 + 0x13);
                  uVar15 = uVar15 + 1;
                  puVar12 = puVar12 + uVar9;
                } while (uVar15 < (uint)*(byte *)(iVar8 + 2) << 3);
              }
              param_7 = (int *)((int)param_7 + 2);
              uVar14 = uVar14 + 1;
              iVar8 = *(int *)(iVar2 + 0x13);
            } while (uVar14 < (uint)*(byte *)(iVar8 + 1) << 3);
          }
        }
      }
      else {
        iVar8 = *(int *)(iVar2 + 0x13);
        uVar14 = 0;
        if (*(char *)(iVar8 + 1) != '\0') {
          param_7 = (int *)puVar13;
          do {
            uVar15 = 0;
            puVar12 = (ushort *)param_7;
            if (*(char *)(iVar8 + 2) != '\0') {
              do {
                *puVar12 = psVar10[uVar14 + *(byte *)(iVar8 + 1) * uVar15 * 8] & 0x1fU |
                           (ushort)psVar10[uVar14 + *(byte *)(iVar8 + 1) * uVar15 * 8] >> 1 & 0x7fe0
                ;
                iVar8 = *(int *)(iVar2 + 0x13);
                uVar15 = uVar15 + 1;
                puVar12 = puVar12 + uVar9;
              } while (uVar15 < (uint)*(byte *)(iVar8 + 2) << 3);
            }
            param_7 = (int *)((int)param_7 + 2);
            uVar14 = uVar14 + 1;
            iVar8 = *(int *)(iVar2 + 0x13);
          } while (uVar14 < (uint)*(byte *)(iVar8 + 1) << 3);
        }
      }
      if (*(int *)(iVar2 + 0x29) == 0) {
        param_7 = (int *)0x0;
        if (local_70 != 0) {
          do {
            uVar14 = 0;
            puVar12 = puVar13;
            if (local_74 != 0) {
              do {
                uVar6 = *puVar12;
                if (DAT_005e72dc == 0) {
LAB_004581ee:
                  if (uVar6 == 0xf81f) goto LAB_004581f4;
LAB_00458204:
                  if (uVar6 == DAT_005e72fc) {
                    uVar6 = uVar6 - 1;
                  }
                }
                else {
                  if (uVar6 != 0x7c1f) {
                    if (DAT_005e72dc == 0) goto LAB_004581ee;
                    goto LAB_00458204;
                  }
LAB_004581f4:
                  *param_4 = 1;
                  uVar6 = (ushort)DAT_005e72fc;
                }
                *puVar12 = uVar6;
                uVar14 = uVar14 + 1;
                puVar12 = puVar12 + uVar9;
              } while (uVar14 < local_74);
            }
            param_7 = (int *)((int)param_7 + 1);
            puVar13 = puVar13 + 1;
          } while (param_7 < local_70);
        }
      }
      else if (*(int *)(iVar2 + 0x29) == 0xb) {
        param_7 = (int *)0x0;
        if (local_70 != 0) {
          do {
            uVar14 = 0;
            puVar12 = puVar13;
            if (local_74 != 0) {
              do {
                uVar6 = *puVar12;
                uVar15 = (uint)uVar6;
                uVar7 = (ushort)DAT_005e72f4;
                if (DAT_005e72d0 == 0) {
                  if ((uVar6 != 0xf81f) && (uVar7 = uVar6, DAT_005e72d4 != 0)) {
                    uVar7 = uVar6 >> 1 & 0x7fe0 | uVar6 & 0x1f;
                  }
                }
                else if (uVar6 != 0xf0f) {
                  if (DAT_005e72d4 == 0) {
                    uVar7 = (ushort)((((uVar15 & 0xff00) << 1 | uVar15 & 0xf0) << 2 | uVar15 & 0xf)
                                    << 1);
                  }
                  else {
                    uVar7 = (ushort)(((uVar15 & 0xf0 | (uVar15 & 0xf00) << 1) << 1 | uVar15 & 0xf)
                                    << 1);
                  }
                }
                *puVar12 = uVar7;
                uVar14 = uVar14 + 1;
                puVar12 = puVar12 + uVar9;
              } while (uVar14 < local_74);
            }
            param_7 = (int *)((int)param_7 + 1);
            puVar13 = puVar13 + 1;
          } while (param_7 < local_70);
        }
LAB_00458323:
        *param_4 = 1;
      }
    }
    if (psVar10 != (short *)0x0) {
      psStackY_40 = (short *)0x458339;
      psStackY_3c = psVar10;
      FreeMemory();
    }
  }
  DAT_005dcb20 = DAT_005dcb20 + *param_3;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00458360(void)

{
  uint uVar1;
  int iVar2;
  undefined4 local_2dc [91];
  undefined4 local_170 [85];
  undefined4 uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uStackY_18 = DAT_005dcb18;
  uStackY_1c = 0x45839a;
  DAT_005986c8 = FUN_0048f000();
  uVar1 = _DAT_005986e0;
  if ((_DAT_005986e0 & 0xffff) < (_DAT_005986d4 & 0xffff) + (_DAT_005986e0 & 0xffff)) {
    do {
      FUN_00458470();
      uVar1 = uVar1 + 1;
    } while ((uVar1 & 0xffff) < (_DAT_005986e0 & 0xffff) + (_DAT_005986d4 & 0xffff));
  }
  iVar2 = DAT_005986d8;
  if ((ushort)DAT_005986d8 < DAT_005986dc) {
    do {
      FUN_00458470();
      iVar2 = iVar2 + 1;
    } while ((ushort)iVar2 < DAT_005986dc);
  }
  uStackY_18 = 0x458424;
  _memset(local_2dc,0,0x16c);
  local_2dc[0] = 0x16c;
  uStackY_18 = 0x45843c;
  _memset(local_170,0,0x16c);
  local_170[0] = 0x16c;
  uStackY_18 = 0x458465;
  (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  return 1;
}



undefined4 FUN_00458470(uint param_1)

{
  int **ppiVar1;
  int iVar2;
  undefined2 uVar3;
  void *_Dst;
  undefined4 *puVar4;
  int iVar5;
  int **ppiVar6;
  int *piVar7;
  undefined4 local_368 [91];
  undefined4 local_1fc [33];
  uint local_178;
  int *local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 uStackY_58;
  int *piStackY_54;
  undefined4 uStackY_50;
  undefined4 uStackY_4c;
  int *piStackY_48;
  int *piStackY_44;
  undefined4 *puStackY_40;
  int *piStackY_3c;
  undefined4 *local_38;
  int **local_34;
  int iVar8;
  size_t _Size;
  undefined *puVar9;
  
  AdjustStackForLargeAllocations();
  iVar8 = 0;
  iVar2 = DAT_005dca00 + (param_1 & 0xffff) * 0x2e;
  _Size = 0;
  _Dst = (void *)AllocateMemoryWithCallback();
  puVar4 = (undefined4 *)_memset(_Dst,iVar8,_Size);
  piVar7 = (int *)(iVar2 + 0x29);
  if ((*piVar7 == 9) && (*(int *)(DAT_005e5010 + 0x2190) == 0)) {
    *piVar7 = 10;
  }
  local_84 = (int *)(iVar2 + 0x17);
  local_34 = (int **)0x458510;
  iVar8 = FUN_00457d50();
  if (iVar8 == 0) goto LAB_00458941;
  puVar9 = &stack0xffffffec;
  iVar8 = (**ppcRam00000000)();
  if (iVar8 != 0) {
    return 0;
  }
  _memset(&local_80,0,0x6c);
  local_80 = 0x6c;
  iVar8 = (*ppcRam00000000[0x16])();
  if (iVar8 != 0) {
    return 0;
  }
  local_34 = (int **)0x458583;
  _memset(local_1fc,0,0x16c);
  local_1fc[0] = 0x16c;
  local_34 = (int **)0x45859b;
  _memset(local_368,0,0x16c);
  local_368[0] = 0x16c;
  local_34 = (int **)0x4585bd;
  iVar8 = (**(code **)(*DAT_005e58e4 + 0x2c))();
  if (iVar8 != 0) {
    return 0;
  }
  local_34 = (int **)*piVar7;
  if ((((local_34 == (int **)0x2) || (local_34 == (int **)0x9)) ||
      (iVar8 = 0, local_34 == (int **)0xa)) && (iVar8 = DAT_005986c8, DAT_005986c8 == 0)) {
    local_38 = (undefined4 *)DAT_005d66ec;
    piStackY_3c = (int *)DAT_005dcb04;
    puStackY_40 = DAT_005dcb18;
    piStackY_44 = (int *)0x458622;
    DAT_005986c8 = FUN_0048f000();
    iVar8 = DAT_005986c8;
  }
  DAT_005dcb08 = (uint)((local_178 & 0x4000000) != 0);
  switch(*piVar7) {
  case 0:
  case 10:
    break;
  case 9:
    break;
  case 0xb:
  }
  local_7c = 0x1007;
  local_80 = 0x6c;
  local_38 = &local_80;
  ppiVar1 = (int **)(iVar2 + 3);
  piStackY_3c = (int *)0x4587aa;
  local_34 = ppiVar1;
  iVar5 = FUN_00413f70();
  if (iVar5 != 0) {
    return 0;
  }
  piStackY_3c = *ppiVar1;
  ppiVar6 = (int **)(iVar2 + 7);
  local_38 = (undefined4 *)&DAT_004c0f40;
  puStackY_40 = (undefined4 *)0x4587d0;
  local_34 = ppiVar6;
  iVar5 = (**(code **)*piStackY_3c)();
  if (iVar5 != 0) {
    return 0;
  }
  if ((*local_84 != 0) || ((iVar8 != 0 && (DAT_005e58d0 == 0)))) {
    iVar5 = *piVar7;
    puStackY_40 = puVar4;
    if (iVar5 == 9) {
      *puVar4 = 0xf0f;
      puVar4[1] = 0xf0f;
LAB_00458828:
      piStackY_48 = *ppiVar1;
      piStackY_44 = (int *)0x8;
      uStackY_4c = 0x458833;
      puStackY_40 = (undefined4 *)(**(code **)(*piStackY_48 + 0x74))();
    }
    else {
      if (iVar5 == 0xb) {
        *puVar4 = DAT_005e72f4;
        puVar4[1] = DAT_005e72f4;
        goto LAB_00458828;
      }
      if ((iVar5 == 0) || (iVar5 == 10)) {
        *puVar4 = DAT_005e72fc;
        puVar4[1] = DAT_005e72fc;
        piStackY_48 = *ppiVar1;
        piStackY_44 = (int *)0x8;
        uStackY_4c = 0x45887b;
        puStackY_40 = (undefined4 *)(**(code **)(*piStackY_48 + 0x74))();
      }
      else {
        *puVar4 = 0;
        puVar4[1] = 0;
        piStackY_48 = *ppiVar1;
        piStackY_44 = (int *)0x8;
        uStackY_4c = 0x45885a;
        puStackY_40 = (undefined4 *)(**(code **)(*piStackY_48 + 0x74))();
      }
    }
    if (puStackY_40 != (undefined4 *)0x0) {
      piStackY_44 = (int *)0x458885;
      GetErrorStringFunc();
    }
  }
  puStackY_40 = (undefined4 *)puVar9;
  if (DAT_005dcb08 == 0) {
    piStackY_54 = *ppiVar1;
    puStackY_40 = (undefined4 *)0x0;
    piStackY_44 = (int *)0x1000000;
    piStackY_48 = (int *)0x0;
    uStackY_4c = 0;
    uStackY_50 = 0;
    uStackY_58 = 0x4588b9;
    iVar5 = FUN_00424d60();
    if (iVar5 != 0) {
      piStackY_44 = *ppiVar1;
      puStackY_40 = (undefined4 *)0x0;
      piStackY_48 = (int *)0x4588cc;
      FUN_0045a900();
    }
  }
  else {
    piStackY_44 = *ppiVar6;
    piStackY_48 = (int *)0x4588a0;
    (**(code **)(*piStackY_44 + 0x18))();
  }
  piStackY_48 = *ppiVar6;
  piStackY_44 = *(int **)(DAT_005e5010 + 8);
  uStackY_4c = 0x4588eb;
  puStackY_40 = (undefined4 *)(iVar2 + 0xb);
  iVar5 = (**(code **)(*piStackY_48 + 0x10))();
  if (iVar5 != 0) {
    return 0;
  }
  if (iVar8 == 0) {
    *(undefined4 *)(iVar2 + 0xf) = 0;
  }
  else {
    uVar3 = FUN_0048f5a0();
    *ppiVar1 = (int *)0x0;
    *(undefined4 *)(iVar2 + 0xb) = 0;
    *(undefined2 *)(iVar2 + 0x23) = uVar3;
    *(int *)(iVar2 + 0x1f) = iVar8;
    *ppiVar6 = (int *)0x0;
  }
LAB_00458941:
  if (puVar4 != (undefined4 *)0x0) {
    FreeMemory();
  }
  return 1;
}



undefined4
FUN_00458980(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5,
            int **param_6,int **param_7,int param_8)

{
  void *_Dst;
  undefined4 *puVar1;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 *puStackY_20;
  int iVar2;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 8;
  iVar2 = 0;
  puStackY_20 = (undefined4 *)0x45899c;
  _Dst = (void *)AllocateMemoryWithCallback();
  puStackY_20 = (undefined4 *)0x4589a5;
  puVar1 = (undefined4 *)_memset(_Dst,iVar2,_Size);
  puStackY_20 = (undefined4 *)0x4589b6;
  _memset(&local_70,0,0x6c);
  local_68 = param_3;
  local_70 = 0x6c;
  local_64 = param_4;
  switch(param_2) {
  case 0:
  case 5:
  case 10:
    goto LAB_00458b3f;
  default:
    local_24 = 0x60;
    break;
  case 6:
    local_24 = 0x41;
    if (DAT_005e72e0 == 0) goto LAB_00458a62;
    break;
  case 9:
LAB_00458a62:
    local_24 = 0x41;
    break;
  case 0xb:
LAB_00458b3f:
    local_24 = 0x40;
  }
  local_28 = 0x20;
  local_6c = 0x1007;
  iVar2 = FUN_00413f70();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = 0;
  if (param_7 != (int **)0x0) {
    puStackY_20 = (undefined4 *)0x458b9f;
    iVar2 = (**(code **)**param_6)();
    if (iVar2 != 0) {
      return 0;
    }
    iVar2 = 0;
    if (param_8 != 0) {
      puStackY_20 = (undefined4 *)0x458bc6;
      iVar2 = (**(code **)(**param_7 + 0x10))();
      if (iVar2 != 0) {
        return 0;
      }
    }
  }
  if (param_5 != 0) {
    if ((param_2 == 3) || (param_2 == 4)) {
LAB_00458bfe:
      iVar2 = (**(code **)(**param_6 + 0x7c))();
    }
    else if ((param_2 == 1) || (param_2 == 2)) {
      iVar2 = (**(code **)(**param_6 + 0x7c))();
    }
    else if (param_2 == 8) goto LAB_00458bfe;
    if (iVar2 != 0) {
      return 0;
    }
  }
  switch(param_2) {
  case 5:
    *puVar1 = 0x39e7;
    puVar1[1] = 0x39e7;
    break;
  case 6:
    if (DAT_005e72e0 == 0) {
      *puVar1 = 0x777;
      puVar1[1] = 0x777;
    }
    else if (DAT_005e72e4 == 0) {
      *puVar1 = 0xfffe;
      puVar1[1] = 0xfffe;
    }
    else {
      *puVar1 = 0x3def;
      puVar1[1] = 0x3def;
    }
    puStackY_20 = (undefined4 *)0x458c84;
    puStackY_20 = (undefined4 *)(**(code **)(**param_6 + 0x74))();
    goto joined_r0x00458c86;
  default:
    if (param_5 != 0) {
      *puVar1 = 0;
      puVar1[1] = 0;
      goto LAB_00458ccb;
    }
    *puVar1 = DAT_005e72fc;
    puVar1[1] = DAT_005e72fc;
    puStackY_20 = (undefined4 *)0x458cf8;
    puStackY_20 = (undefined4 *)(**(code **)(**param_6 + 0x74))();
    goto joined_r0x00458cfa;
  case 9:
    *puVar1 = 0xf0f;
    puVar1[1] = 0xf0f;
LAB_00458ccb:
    puStackY_20 = (undefined4 *)0x458cd6;
    puStackY_20 = (undefined4 *)(**(code **)(**param_6 + 0x74))();
joined_r0x00458cfa:
    if (puStackY_20 == (undefined4 *)0x0) goto LAB_00458d05;
    goto LAB_00458cfc;
  case 0xb:
    *puVar1 = DAT_005e72f4;
    puVar1[1] = DAT_005e72f4;
  }
  puStackY_20 = (undefined4 *)0x458cb4;
  puStackY_20 = (undefined4 *)(**(code **)(**param_6 + 0x74))();
joined_r0x00458c86:
  if (puStackY_20 != (undefined4 *)0x0) {
LAB_00458cfc:
    local_24 = 0x458d02;
    GetErrorStringFunc();
  }
LAB_00458d05:
  if (puVar1 != (undefined4 *)0x0) {
    local_24 = 0x458d0f;
    puStackY_20 = puVar1;
    FreeMemory();
  }
  return 1;
}



void FUN_00458d80(void)

{
  int iVar1;
  int iVar2;
  size_t _Size;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  
  AdjustStackForLargeAllocations();
  uVar6 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar2 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar6 * 4) + 0x56);
      _Size = *(int *)(iVar2 + 0x14) << 2;
      iVar5 = 0;
      pvVar3 = (void *)AllocateMemoryWithCallback(_Size);
      pvVar3 = _memset(pvVar3,iVar5,_Size);
      *(void **)(iVar2 + 0x28) = pvVar3;
      uVar4 = 0;
      if (*(int *)(iVar2 + 0x14) != 0) {
        iVar5 = 0;
        do {
          *(undefined4 *)(iVar5 + 0x48 + *(int *)(iVar2 + 0x1c)) =
               *(undefined4 *)
                (DAT_005dca00 + 0xb + (uint)*(ushort *)(*(int *)(iVar2 + 0x10) + uVar4 * 2) * 0x2e);
          iVar1 = uVar4 * 2;
          uVar4 = uVar4 + 1;
          *(undefined4 *)(*(int *)(iVar2 + 0x28) + -4 + uVar4 * 4) =
               *(undefined4 *)
                (DAT_005dca00 + 0x17 + (uint)*(ushort *)(*(int *)(iVar2 + 0x10) + iVar1) * 0x2e);
          iVar5 = iVar5 + 0x50;
        } while (uVar4 < *(uint *)(iVar2 + 0x14));
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < *(uint *)(DAT_00598d90 + 0x239));
  }
  if ((*(short *)(DAT_00598ff0 + 0x12) != 0) && (uVar6 = 0, *(short *)(DAT_00598ff0 + 0x12) != 0)) {
    do {
      iVar2 = uVar6 * 2;
      uVar6 = uVar6 + 1;
      *(undefined4 *)(*(int *)(DAT_00598ff0 + 0x20) + -4 + uVar6 * 4) =
           *(undefined4 *)
            (DAT_005dca00 + 0xb + (uint)*(ushort *)(*(int *)(DAT_00598ff0 + 0x14) + iVar2) * 0x2e);
    } while (uVar6 < *(ushort *)(DAT_00598ff0 + 0x12));
  }
  return;
}



undefined4 FUN_00458ea0(void)

{
  void *pvVar1;
  uint uVar2;
  int iVar3;
  undefined4 local_348 [91];
  undefined4 local_1dc [91];
  char local_70 [60];
  undefined4 uStackY_34;
  undefined *puStackY_30;
  void *pvStackY_2c;
  int iVar4;
  size_t sVar5;
  char *_Source;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  _memset(local_348,0,0x16c);
  local_348[0] = 0x16c;
  _memset(local_1dc,0,0x16c);
  local_1dc[0] = 0x16c;
  (**(code **)(**(int **)(DAT_005e5010 + 0x7a4) + 0x2c))();
  if (*(int *)(DAT_005e5010 + 0x790) == 0) {
    DAT_005dcb04 = 0x20;
    DAT_005dcb18 = (-(uint)(DAT_005df2e8 != 0) & 0x20) + 0x20;
  }
  else if ((char)DAT_00598944 == '\0') {
    if (*(int *)(DAT_005e5010 + 0x21b0) == 0) {
      DAT_005dcb18 = (-(uint)(DAT_005df2e8 != 0) & 0x20) + 0x20;
      if (DAT_005df2e8 == 0) {
        uVar2 = DAT_005e7304 / 0x3280;
      }
      else {
        uVar2 = DAT_005e7304 / 0xca80;
      }
      if (uVar2 < 3) {
        DAT_005dcb04 = 2;
      }
      else if (uVar2 < 0x41) {
        DAT_005dcb04 = uVar2 - 1;
      }
      else {
        DAT_005dcb04 = 0x40;
      }
    }
    else {
      DAT_005dcb18 = (-(uint)(DAT_005df2e8 != 0) & 0x60) + 0x20;
      if (DAT_005df2e8 == 0) {
        DAT_005dcb04 = DAT_005e7304 / 0x3280;
      }
      else {
        DAT_005dcb04 = DAT_005e7304 / 0x23bf0;
      }
      if (DAT_005dcb04 < 2) {
        if (DAT_005df2e8 == 0) {
          DAT_005dcb04 = 1;
          goto LAB_004590c6;
        }
      }
      else {
        if (0xf < DAT_005dcb04) {
          if (DAT_005dcb04 < 0x41) {
            DAT_005dcb04 = DAT_005dcb04 - 1;
          }
          else {
            DAT_005dcb04 = 0x40;
          }
          goto LAB_004590c6;
        }
        if (DAT_005df2e8 == 0) goto LAB_004590c6;
      }
      DAT_005dcb18 = 0x40;
      DAT_005dcb04 = DAT_005e7304 / 0xca80;
    }
  }
  else {
    DAT_005dcb18 = 0x20;
    if (DAT_005df2e8 == 0) {
      DAT_005dcb04 = DAT_005e7304 / 0x3280;
    }
    else {
      DAT_005dcb04 = DAT_005e7304 / 0x13a80;
    }
    if (DAT_005dcb04 < 2) {
      DAT_005dcb04 = 1;
    }
  }
LAB_004590c6:
  sVar5 = 0x1157;
  iVar4 = 0;
  pvStackY_2c = (void *)0x4590e5;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  pvStackY_2c = (void *)0x4590ee;
  DAT_005986c4 = _memset(pvVar1,iVar4,sVar5);
  if (DAT_005df310 == '\0') {
    _Source = &gRootFileDirectory;
  }
  else {
    _Source = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_70,_Source);
  FID_conflict__strcat(local_70,s_fxdata_dat_004ce08c);
  DAT_005986c0 = OpenFileWithFixedFlags0x40();
  pvStackY_2c = DAT_005986c4;
  puStackY_30 = (undefined *)0x459156;
  CopyDataWithLock();
  DAT_005d66c0 = 0xfba;
  FUN_0046d6f0();
  if ((DAT_005d66c0 & 0x10) != 0) {
    iVar3 = 2;
  }
  if ((DAT_005d66c0 & 8) != 0) {
    iVar3 = iVar3 + 2;
  }
  if ((DAT_005d66c0 & 4) != 0) {
    iVar3 = iVar3 + 1;
  }
  if ((DAT_005d66c0 & 0x100) != 0) {
    iVar3 = iVar3 + 8;
  }
  if ((DAT_005d66c0 & 0x200) != 0) {
    iVar3 = iVar3 + 8;
  }
  if ((DAT_005d66c0 & 0x400) != 0) {
    iVar3 = iVar3 + 1;
  }
  if ((DAT_005d66c0 & 2) != 0) {
    iVar3 = iVar3 + 5;
  }
  if (((byte)DAT_005d66c4 & 1) != 0) {
    iVar3 = iVar3 + 4;
  }
  if ((((byte)DAT_005d66c4 & 2) != 0) && ((DAT_005d66d8 & 0x200) != 0)) {
    iVar3 = iVar3 + 2;
  }
  sVar5 = ((uint)DAT_005dcb0c + iVar3) * 0x2e;
  iVar4 = 0;
  pvStackY_2c = (void *)0x4591e8;
  DAT_005d66ec = iVar3;
  pvVar1 = (void *)AllocateMemoryWithCallback();
  pvStackY_2c = (void *)0x4591f1;
  pvVar1 = _memset(pvVar1,iVar4,sVar5);
  pvStackY_2c = (void *)0x459216;
  FUN_004ad7a0();
  if (DAT_005dca00 != (void *)0x0) {
    FreeMemory();
  }
  DAT_005986d8._0_2_ = DAT_005dcb0c;
  DAT_005986dc = (short)iVar3 + DAT_005dcb0c;
  DAT_005dca00 = pvVar1;
  if ((DAT_005d66c0 & 0x10) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x1;
    uStackY_34 = 0x45926f;
    FUN_00459a20();
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x2;
    uStackY_34 = 0x459287;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 8) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x3;
    uStackY_34 = 0x4592a7;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 4) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x55;
    uStackY_34 = 0x4592c8;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 0x100) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x4;
    uStackY_34 = 0x4592ea;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 0x200) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x5;
    uStackY_34 = 0x459309;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 0x400) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x6;
    uStackY_34 = 0x45932b;
    FUN_00459a20();
  }
  if ((DAT_005d66c0 & 2) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x4d;
    uStackY_34 = 0x45934c;
    FUN_00459a20();
  }
  if (((byte)DAT_005d66c4 & 1) != 0) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x7;
    uStackY_34 = 0x45936c;
    FUN_00459a20();
  }
  if ((((byte)DAT_005d66c4 & 2) != 0) && ((DAT_005d66d8 & 0x200) != 0)) {
    puStackY_30 = &stack0xfffffffa;
    pvStackY_2c = (void *)0x11;
    uStackY_34 = 0x459395;
    FUN_00459a20();
  }
  DAT_005dcb0c = DAT_005dcb0c + (short)iVar3;
  if (DAT_005986c4 != (void *)0x0) {
    FreeMemory();
    DAT_005986c4 = (void *)0x0;
  }
  return 1;
}



undefined4 FUN_004593d0(void)

{
  ushort uVar1;
  void *pvVar2;
  byte bVar3;
  uint uVar4;
  ushort uVar5;
  char local_78 [80];
  undefined4 uStackY_28;
  undefined *puStackY_24;
  void *pvStackY_20;
  int iVar6;
  size_t sVar7;
  char *_Source;
  uint uVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  sVar7 = 0x1157;
  iVar6 = 0;
  pvStackY_20 = (void *)0x459408;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  pvStackY_20 = (void *)0x459411;
  DAT_005986c4 = _memset(pvVar2,iVar6,sVar7);
  if (DAT_005df310 == '\0') {
    _Source = &gRootFileDirectory;
  }
  else {
    _Source = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_78,_Source);
  FID_conflict__strcat(local_78,s_fxdata_dat_004ce09c);
  DAT_005986c0 = OpenFileWithFixedFlags0x40();
  pvStackY_20 = DAT_005986c4;
  puStackY_24 = (undefined *)0x459478;
  CopyDataWithLock();
  if ((char)DAT_00598944 != '\0') {
    DAT_005d66c0 = DAT_005d66c0 | 0x40;
  }
  uVar5 = (ushort)((DAT_005d66c8 & 0x1000) != 0);
  bVar3 = 0;
  iVar6 = 0x1f;
  do {
    if ((DAT_005d66e4 & 1 << (bVar3 & 0x1f)) != 0) {
      uVar5 = uVar5 + 1;
    }
    bVar3 = bVar3 + 1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  bVar3 = 0;
  iVar6 = 7;
  do {
    if ((DAT_005d66e8 & 1 << (bVar3 & 0x1f)) != 0) {
      uVar5 = uVar5 + 1;
    }
    bVar3 = bVar3 + 1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  if ((DAT_005d66c8 & 0x400) != 0) {
    uVar5 = uVar5 + 1;
  }
  if ((DAT_005d66c8 & 4) != 0) {
    uVar5 = uVar5 + 1;
  }
  if ((DAT_005d66c8 & 0x2000) != 0) {
    uVar5 = uVar5 + 1;
  }
  if ((DAT_005d66c8 & 0x40) != 0) {
    uVar5 = uVar5 + 1;
  }
  if ((DAT_005d66c8 & 0x100) != 0) {
    uVar5 = uVar5 + 1;
  }
  if ((DAT_005d66c8 & 1) != 0) {
    uVar5 = uVar5 + 2;
  }
  if ((DAT_005d66c8 & 0x800) != 0) {
    uVar5 = uVar5 + 4;
  }
  if ((DAT_005d66c8 & 0x4000) != 0) {
    uVar5 = uVar5 + 4;
  }
  if ((DAT_005d66c8 & 0x8000) != 0) {
    uVar5 = uVar5 + 4;
  }
  if (((byte)DAT_005d66e0 & 1) != 0) {
    uVar5 = uVar5 + 3;
  }
  bVar3 = 0;
  iVar6 = 6;
  do {
    if ((DAT_005d66dc & 1 << (bVar3 & 0x1f)) != 0) {
      uVar5 = uVar5 + 4;
    }
    bVar3 = bVar3 + 1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  bVar3 = 0;
  iVar6 = 5;
  do {
    if ((DAT_005d66d0 & 1 << (bVar3 & 0x1f)) != 0) {
      uVar5 = uVar5 + 8;
    }
    bVar3 = bVar3 + 1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  bVar3 = 0;
  iVar6 = 1;
  do {
    if ((DAT_005d66cc & 1 << (bVar3 & 0x1f)) != 0) {
      uVar5 = uVar5 + 0x10;
    }
    bVar3 = bVar3 + 1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  if ((DAT_005d66c8 & 0x10) != 0) {
    uVar5 = uVar5 + 7;
  }
  uVar5 = uVar5 + 5;
  DAT_005d66ec = DAT_005d66ec + (uint)uVar5;
  if (*(int *)(DAT_005e5010 + 0x790) == 0) {
    DAT_005dcb04 = DAT_005d66ec;
  }
  pvStackY_20 = (void *)DAT_005986c8;
  puStackY_24 = (undefined *)0x45961e;
  DAT_005d66c8 = DAT_005d66c8 | 0x10000;
  FUN_0048f1a0();
  sVar7 = ((uint)DAT_005dcb0c + (uint)uVar5) * 0x2e;
  iVar6 = 0;
  pvStackY_20 = (void *)0x45963f;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  pvStackY_20 = (void *)0x459648;
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  iVar6 = (uint)DAT_005dcb0c * 0x2e;
  pvStackY_20 = (void *)0x45966d;
  FUN_004ad7a0();
  if (DAT_005dca00 != (void *)0x0) {
    FreeMemory();
    iVar6 = (int)DAT_005dca00;
  }
  DAT_005986dc = DAT_005986dc + uVar5;
  DAT_005dca00 = pvVar2;
  if ((DAT_005d66c8 & 0x1000) != 0) {
    iVar6 = 1;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x52;
    uStackY_28 = 0x4596bb;
    FUN_00459a20();
  }
  iVar9 = 0;
  uVar1 = 0;
  do {
    if ((DAT_005d66e4 & 1 << ((byte)iVar9 & 0x1f)) != 0) {
      if (uVar1 == 0x14) {
        pvStackY_20 = (void *)0x27;
      }
      else if (uVar1 == 0x15) {
        pvStackY_20 = (void *)0x26;
      }
      else {
        pvStackY_20 = (void *)(iVar9 + 0x12);
      }
      puStackY_24 = &stack0xfffffffa;
      iVar6 = 9;
      uStackY_28 = 0x459718;
      FUN_00459a20();
    }
    iVar9 = iVar9 + 1;
    uVar1 = (ushort)iVar9;
  } while (uVar1 < 0x1f);
  iVar9 = 0;
  bVar3 = 0;
  do {
    if ((1 << (bVar3 & 0x1f) & DAT_005d66e8) != 0) {
      iVar6 = 9;
      pvStackY_20 = (void *)(iVar9 + 0x31);
      puStackY_24 = &stack0xfffffffa;
      uStackY_28 = 0x459755;
      FUN_00459a20();
    }
    iVar9 = iVar9 + 1;
    bVar3 = bVar3 + 1;
  } while ((ushort)iVar9 < 7);
  if ((DAT_005d66c8 & 0x400) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x38;
    uStackY_28 = 0x459782;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 4) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x39;
    uStackY_28 = 0x4597a3;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x2000) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x3a;
    uStackY_28 = 0x4597c5;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x40) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x3b;
    uStackY_28 = 0x4597e5;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x100) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x3c;
    uStackY_28 = 0x459807;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x800) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x4f;
    uStackY_28 = 0x459829;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x4000) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x50;
    uStackY_28 = 0x45984a;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x8000) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x51;
    uStackY_28 = 0x45986c;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 1) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x4c;
    uStackY_28 = 0x45988d;
    FUN_00459a20();
  }
  if (((byte)DAT_005d66e0 & 1) != 0) {
    iVar6 = 0xb;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x53;
    uStackY_28 = 0x4598ad;
    FUN_00459a20();
  }
  iVar9 = 0;
  bVar3 = 0;
  do {
    if ((1 << (bVar3 & 0x1f) & DAT_005d66dc) != 0) {
      iVar6 = 9;
      pvStackY_20 = (void *)(iVar9 + 0x3d);
      puStackY_24 = &stack0xfffffffa;
      uStackY_28 = 0x4598dc;
      FUN_00459a20();
    }
    iVar9 = iVar9 + 1;
    bVar3 = bVar3 + 1;
  } while ((ushort)iVar9 < 6);
  iVar9 = 0;
  bVar3 = 0;
  do {
    if ((DAT_005d66d0 & 1 << (bVar3 & 0x1f)) != 0) {
      iVar6 = 9;
      pvStackY_20 = (void *)(iVar9 + 0x43);
      puStackY_24 = &stack0xfffffffa;
      uStackY_28 = 0x459917;
      FUN_00459a20();
    }
    iVar9 = iVar9 + 1;
    bVar3 = bVar3 + 1;
  } while ((ushort)iVar9 < 5);
  iVar9 = 0;
  bVar3 = 0;
  do {
    if ((1 << (bVar3 & 0x1f) & DAT_005d66cc) != 0) {
      iVar6 = 9;
      pvStackY_20 = (void *)(iVar9 + 0x48);
      puStackY_24 = &stack0xfffffffa;
      uStackY_28 = 0x459952;
      FUN_00459a20();
    }
    iVar9 = iVar9 + 1;
    bVar3 = bVar3 + 1;
  } while ((short)iVar9 == 0);
  if ((DAT_005d66c8 & 0x10) != 0) {
    iVar6 = 9;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x4e;
    uStackY_28 = 0x45997e;
    FUN_00459a20();
  }
  if ((DAT_005d66c8 & 0x10000) != 0) {
    iVar6 = 0xb;
    puStackY_24 = &stack0xfffffffa;
    pvStackY_20 = (void *)0x56;
    uStackY_28 = 0x4599a2;
    FUN_00459a20();
  }
  uVar4 = CONCAT22((short)((uint)iVar9 >> 0x10),DAT_005dcb0c);
  if ((int)(uint)DAT_005dcb0c < (int)(iVar6 + (uint)DAT_005dcb0c)) {
    do {
      uVar8 = uVar4;
      FUN_00458470();
      uVar4 = uVar4 + 1;
    } while ((int)(uVar4 & 0xffff) < (int)(DAT_005dcb0c + uVar8));
  }
  DAT_005dcb0c = DAT_005dcb0c + uVar5;
  if (DAT_005986c4 != (void *)0x0) {
    FreeMemory();
    DAT_005986c4 = (void *)0x0;
  }
  return 1;
}



void FUN_00459a20(ushort *param_1,ushort param_2,uint param_3,char param_4,int param_5)

{
  ushort *puVar1;
  char cVar2;
  ushort uVar3;
  int iVar4;
  void *pvVar5;
  byte *pbVar6;
  uint uVar7;
  undefined uVar8;
  ushort uVar9;
  int iVar10;
  byte *pbVar11;
  byte *pbVar12;
  size_t sVar13;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  iVar10 = 0;
  sVar13 = 0;
  iVar4 = (uint)param_2 * 0x33;
  cVar2 = *(char *)(DAT_005986c4 + 2 + iVar4);
  if (cVar2 == '\x01') {
    if (param_5 != 0xb) {
      param_5 = 1;
    }
  }
  else {
    param_5 = 10 - (uint)(param_4 != '\x01');
  }
  if (param_4 == '\0') {
    if (cVar2 == '\x01') {
      iVar10 = *(int *)(DAT_005986c4 + 0x1d + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x21 + iVar4);
    }
    else if (param_3 == 0x20) {
      iVar10 = *(int *)(DAT_005986c4 + 0x2d + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x31 + iVar4);
    }
    else if (param_3 == 0x40) {
      iVar10 = *(int *)(DAT_005986c4 + 0x25 + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x29 + iVar4);
    }
    else if (param_3 == 0x80) {
      iVar10 = *(int *)(DAT_005986c4 + 0x1d + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x21 + iVar4);
    }
  }
  else if (param_4 == '\x01') {
    if (cVar2 == '\x01') {
      iVar10 = *(int *)(DAT_005986c4 + 5 + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 9 + iVar4);
    }
    else if (param_3 == 0x20) {
      iVar10 = *(int *)(DAT_005986c4 + 0x15 + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x19 + iVar4);
    }
    else if (param_3 == 0x40) {
      iVar10 = *(int *)(DAT_005986c4 + 0xd + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 0x11 + iVar4);
    }
    else if (param_3 == 0x80) {
      iVar10 = *(int *)(DAT_005986c4 + 5 + iVar4);
      sVar13 = *(size_t *)(DAT_005986c4 + 9 + iVar4);
    }
  }
  SeekInResourceWithLock(DAT_005986c0,iVar10 + 0x1157,0);
  iVar10 = 0;
  _Size = sVar13;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar13);
  pbVar6 = (byte *)_memset(pvVar5,iVar10,_Size);
  CopyDataWithLock(pbVar6,1,sVar13,DAT_005986c0);
  uVar9 = 0;
  pbVar12 = pbVar6;
  if (*(short *)(DAT_005986c4 + 3 + iVar4) != 0) {
    do {
      pbVar11 = pbVar12 + 5;
      if (*(char *)(DAT_005986c4 + 2 + iVar4) == '\x01') {
        param_3 = *pbVar12 & 0xf0;
        *pbVar12 = *pbVar12 & 0xf;
      }
      sVar13 = 0xb;
      iVar10 = 0;
      puVar1 = (ushort *)(DAT_005dca00 + (uint)*param_1 * 0x2e);
      *param_1 = *param_1 + 1;
      pvVar5 = (void *)AllocateMemoryWithCallback(0xb);
      pvVar5 = _memset(pvVar5,iVar10,sVar13);
      *(void **)((int)puVar1 + 0x13) = pvVar5;
      uVar8 = (undefined)((int)param_3 >> 3);
      *(undefined *)((int)pvVar5 + 1) = uVar8;
      *(undefined *)(*(int *)((int)puVar1 + 0x13) + 2) = uVar8;
      **(byte **)((int)puVar1 + 0x13) = *pbVar12;
      if (*pbVar12 == 0) {
        uVar7 = (uint)*(ushort *)(pbVar12 + 1);
        iVar10 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(uVar7);
        pvVar5 = _memset(pvVar5,iVar10,uVar7);
        *(void **)(*(int *)((int)puVar1 + 0x13) + 7) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)((int)puVar1 + 0x13) + 7),pbVar11,
                     *(undefined2 *)(pbVar12 + 1));
        *(undefined2 *)(*(int *)((int)puVar1 + 0x13) + 4) = *(undefined2 *)(pbVar12 + 1);
        uVar3 = *(ushort *)(pbVar12 + 1);
      }
      else {
        uVar7 = (uint)*(ushort *)(pbVar12 + 3);
        iVar10 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(uVar7);
        pvVar5 = _memset(pvVar5,iVar10,uVar7);
        *(void **)(*(int *)((int)puVar1 + 0x13) + 7) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)((int)puVar1 + 0x13) + 7),pbVar11,
                     *(undefined2 *)(pbVar12 + 3));
        *(undefined2 *)(*(int *)((int)puVar1 + 0x13) + 4) = *(undefined2 *)(pbVar12 + 3);
        uVar3 = *(ushort *)(pbVar12 + 3);
      }
      pbVar12 = pbVar11 + uVar3;
      *(int *)((int)puVar1 + 0x29) = param_5;
      *puVar1 = param_2;
      *(char *)(puVar1 + 1) = (char)uVar9;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(ushort *)(DAT_005986c4 + 3 + iVar4));
  }
  if (pbVar6 != (byte *)0x0) {
    FreeMemory(pbVar6);
  }
  return;
}



void FUN_00459cc0(undefined2 param_1,byte param_2)

{
  undefined2 *puVar1;
  uint uVar2;
  void *pvVar3;
  int _Val;
  size_t _Size;
  
  uVar2 = (uint)DAT_005dcb0c;
  _Size = 0xb;
  _Val = 0;
  DAT_005dcb0c = DAT_005dcb0c + 1;
  puVar1 = (undefined2 *)(DAT_005dca00 + uVar2 * 0x2e);
  pvVar3 = (void *)AllocateMemoryWithCallback(0xb);
  pvVar3 = _memset(pvVar3,_Val,_Size);
  *(void **)((int)puVar1 + 0x13) = pvVar3;
  *(byte *)((int)pvVar3 + 1) = param_2 >> 3;
  *(byte *)(*(int *)((int)puVar1 + 0x13) + 2) = param_2 >> 3;
  *(undefined4 *)((int)puVar1 + 0x29) = 10;
  *puVar1 = param_1;
  *(undefined *)(puVar1 + 1) = 0;
  return;
}



undefined4
FUN_00459d30(byte param_1,int **param_2,int *param_3,undefined4 *param_4,undefined4 *param_5,
            undefined4 param_6,int *param_7)

{
  int iVar1;
  bool bVar2;
  short sVar3;
  int iVar4;
  size_t sVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  size_t sVar10;
  uint uVar11;
  void *pvVar12;
  undefined4 local_10c [9];
  int local_e8;
  undefined local_a0 [66];
  int local_5e;
  short local_54 [8];
  undefined local_44 [4];
  int local_40;
  int local_3c;
  short local_36;
  undefined4 uStackY_34;
  void *pvStackY_30;
  int *piStackY_2c;
  int *piStackY_28;
  int *local_24;
  size_t sStackY_20;
  ushort uVar13;
  undefined2 uVar14;
  undefined2 uVar15;
  uint uVar16;
  uint uVar17;
  void *pvVar18;
  
  AdjustStackForLargeAllocations();
  pvVar12 = (void *)0x0;
  pvVar18 = (void *)0x0;
  uVar16 = 0xffffffff;
  *param_5 = 0;
  sStackY_20 = 0x459d67;
  _memset(local_54,0,1);
  sStackY_20 = 0x459d76;
  _memset(local_44,0,0x28);
  bVar2 = false;
  iVar4 = FUN_00441a80();
  if (iVar4 == 0) {
    return 0;
  }
  local_24 = (int *)local_a0;
  sStackY_20 = 0x4a;
  piStackY_28 = (int *)0x459dac;
  FUN_00441d30();
  iVar9 = 0;
  if (0 < local_5e) {
    do {
      local_24 = (int *)&stack0xffffffe4;
      uVar15 = (undefined2)iVar4;
      uVar13 = 1;
      uVar14 = 0;
      sStackY_20 = 6;
      piStackY_28 = (int *)0x459dd7;
      FUN_00441d30();
      if ((param_1 == uVar13) && (CONCAT22(uVar15,uVar14) != 0)) {
        local_24 = (int *)local_54;
        sStackY_20 = 0xe;
        piStackY_28 = (int *)0x459e13;
        FUN_00441d30();
        if (local_54[0] != 0x4d42) {
          return 0;
        }
        local_24 = (int *)local_44;
        sStackY_20 = 0x28;
        piStackY_28 = (int *)0x459e39;
        FUN_00441d30();
        if (local_24 == (int *)0x0) {
          local_24 = (int *)0x100;
        }
        if (local_36 == 8) {
          sVar10 = local_40 * local_3c;
          sVar5 = (int)local_24 << 2;
          uVar14 = 0;
          uVar15 = 0;
          sStackY_20 = 0x459e65;
          pvVar18 = (void *)AllocateMemoryWithCallback();
          sStackY_20 = 0x459e6e;
          pvVar18 = _memset(pvVar18,CONCAT22(uVar15,uVar14),sVar5);
          if ((*param_7 == 9) && (DAT_005e72d0 == 0)) {
            *param_7 = 2;
          }
        }
        else {
          sVar10 = local_40 * local_3c * 3;
          if (*param_7 != 10) {
            *param_7 = 0;
          }
        }
        uVar14 = 0;
        uVar15 = 0;
        sStackY_20 = 0x459eb3;
        sVar5 = sVar10;
        pvVar12 = (void *)AllocateMemoryWithCallback();
        sStackY_20 = 0x459ebc;
        pvVar12 = _memset(pvVar12,CONCAT22(uVar15,uVar14),sVar5);
        if (pvVar12 == (void *)0x0) {
          return 0;
        }
        if (pvVar18 != (void *)0x0) {
          sStackY_20 = 4;
          piStackY_28 = (int *)0x459ee2;
          local_24 = (int *)pvVar18;
          FUN_00441d30();
        }
        piStackY_28 = (int *)0x459ef3;
        local_24 = (int *)pvVar12;
        sStackY_20 = sVar10;
        FUN_00441d30();
        bVar2 = true;
        break;
      }
      iVar9 = iVar9 + 1;
    } while (iVar9 < local_5e);
  }
  if (!bVar2) {
    return 0;
  }
  sStackY_20 = 0;
  local_24 = (int *)local_40;
  piStackY_2c = (int *)*param_7;
  piStackY_28 = (int *)local_3c;
  pvStackY_30 = (void *)0x1;
  uStackY_34 = 0x459f2c;
  FUN_00458980();
  if ((pvVar18 == (void *)0x0) || (DAT_005e72cc == 0)) {
    *param_3 = local_3c * local_40 * 2;
  }
  else {
    *param_3 = local_3c * local_40;
  }
  sStackY_20 = 0x459f6b;
  _memset(local_10c,0,0x6c);
  local_24 = *param_2;
  local_10c[0] = 0x6c;
  iVar9 = 0;
  sStackY_20 = 0;
  piStackY_28 = (int *)0x459f8d;
  iVar4 = (**(code **)(*local_24 + 100))();
  if (iVar4 == 0) {
    param_7 = (int *)0x0;
    if (0 < local_3c) {
      do {
        uVar7 = 0;
        _param_1 = 0;
        if (0 < local_40) {
          uVar17 = uVar16;
          do {
            iVar4 = local_40 * ((uint)param_7 & 0xffff) + uVar7;
            iVar1 = iVar4 * 3;
            uVar11 = (uint)(*(byte *)(iVar1 + 1 + (int)pvVar12) & 0xfc);
            uVar7 = (uint)(*(byte *)(iVar1 + 2 + (int)pvVar12) & 0xf8) << 5;
            uVar8 = (uint)(*(byte *)((int)pvVar12 + iVar1) >> 3);
            uVar16 = (uVar7 | uVar11) << 3;
            uVar6 = uVar16 | uVar8;
            uVar16 = uVar16 | uVar8;
            if ((uVar16 != uVar17) && (-1 < (int)uVar17)) {
              iVar9 = 0;
            }
            if ((short)uVar6 == -0x7e1) {
              *param_4 = 1;
            }
            if (DAT_005e72dc != 0) {
              uVar6 = ((uVar7 | uVar11 & 0x1ff8) << 3) >> 1 | uVar8;
            }
            sVar3 = (short)uVar6;
            if (uVar16 == 0xf81f) {
              sVar3 = (short)DAT_005e72fc;
            }
            else if (uVar6 == DAT_005e72fc) {
              sVar3 = sVar3 + -1;
            }
            *(short *)(local_e8 + iVar4 * 2) = sVar3;
            _param_1 = _param_1 + 1;
            uVar7 = _param_1 & 0xffff;
            uVar17 = uVar16;
          } while ((int)uVar7 < local_40);
        }
        param_7 = (int *)((int)param_7 + 1);
      } while ((int)((uint)param_7 & 0xffff) < local_3c);
    }
    if (iVar9 != 0) {
      DAT_005dcb20 = DAT_005dcb20 + *param_3;
    }
    piStackY_2c = *param_2;
    piStackY_28 = (int *)0x0;
    pvStackY_30 = (void *)0x45a0cd;
    (**(code **)(*piStackY_2c + 0x80))();
    if (pvVar12 != (void *)0x0) {
      uStackY_34 = 0x45a0d7;
      pvStackY_30 = pvVar12;
      FreeMemory();
    }
    if (pvVar18 != (void *)0x0) {
      uStackY_34 = 0x45a0e4;
      pvStackY_30 = pvVar18;
      FreeMemory();
    }
    return 1;
  }
  piStackY_28 = *param_2;
  piStackY_2c = (int *)0x459f99;
  (**(code **)(*piStackY_28 + 8))();
  return 0;
}



undefined4
FUN_0045a100(char *param_1,int **param_2,int *param_3,undefined4 *param_4,undefined4 *param_5,
            undefined4 param_6,int *param_7)

{
  bool bVar1;
  ushort uVar2;
  int iVar3;
  bool bVar4;
  ushort uVar5;
  short sVar6;
  char *pcVar7;
  size_t sVar8;
  int iVar9;
  undefined *puVar10;
  size_t sVar11;
  void *pvVar12;
  void *pvVar13;
  void *pvVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  uint uVar18;
  bool bVar19;
  char acStackY_2c3 [259];
  char local_1c0 [256];
  undefined4 local_c0 [9];
  int local_9c;
  short local_54 [8];
  undefined4 local_44;
  undefined local_40 [4];
  int local_3c;
  int local_38;
  undefined4 uStackY_34;
  int local_20;
  int iVar20;
  int iVar21;
  uint uVar22;
  uint uVar23;
  
  AdjustStackForLargeAllocations();
  uVar23 = 0xffffffff;
  *param_5 = 0;
  _memset(local_54,1,0);
  _memset(local_40,0,0x28);
  pcVar7 = _strstr(param_1,&DAT_004ce148);
  if (pcVar7 != (char *)0x0) {
    return 0;
  }
  pcVar7 = _strstr(param_1,(char *)&PTR_DAT_004ce14c);
  bVar19 = pcVar7 == (char *)0x0;
  uVar22 = (uint)bVar19;
  bVar4 = !bVar19;
  bVar1 = !bVar19;
  pcVar7 = _strstr(param_1,(char *)&PTR_DAT_004ce150);
  if (((pcVar7 != (char *)0x0) ||
      (pcVar7 = _strstr(param_1,(char *)&PTR_DAT_004ce154), pcVar7 != (char *)0x0)) ||
     (pcVar7 = _strstr(param_1,(char *)&PTR_DAT_004ce158), pcVar7 != (char *)0x0)) {
    bVar1 = true;
    bVar19 = true;
    bVar4 = true;
    uVar22 = 1;
  }
  sVar8 = _strlen(param_1);
  if (bVar1) {
    if (*param_7 == 10) {
      param_1[sVar8 - 3] = 'c';
      param_1[sVar8 - 2] = 'k';
      param_1[sVar8 - 1] = 'y';
    }
    if (bVar19) {
      pcVar7 = _strstr(param_1,s_visfx_004ce17c);
      if (pcVar7 == (char *)0x0) {
        pcVar7 = &DAT_005d5ae0;
        goto LAB_0045a293;
      }
    }
    else if (DAT_005dcb18 == 0x40) {
      FID_conflict__strcat(param_1,&DAT_004ce15c);
      pcVar7 = _strstr(param_1,s_visfx_004ce160);
      if (pcVar7 == (char *)0x0) {
        pcVar7 = &DAT_005d51e0;
        goto LAB_0045a293;
      }
    }
    else if (DAT_005dcb18 == 0x20) {
      FID_conflict__strcat(param_1,&DAT_004ce168);
      pcVar7 = _strstr(param_1,s_visfx_004ce16c);
      if (pcVar7 == (char *)0x0) {
        pcVar7 = &DAT_005d57e0;
LAB_0045a293:
        FID_conflict___mbscpy(local_1c0,pcVar7);
        FID_conflict__strcat(local_1c0,param_1);
        FID_conflict___mbscpy(param_1,local_1c0);
      }
    }
    else {
      pcVar7 = _strstr(param_1,s_visfx_004ce174);
      if (pcVar7 == (char *)0x0) {
        pcVar7 = &DAT_005d52e0;
        goto LAB_0045a293;
      }
    }
  }
  iVar9 = OpenFileWithFixedFlags0x40();
  if ((DAT_005dcb18 == 0x80) || (bVar19)) {
    sVar8 = _strlen(param_1);
    param_1[sVar8 - 3] = 'b';
    param_1[sVar8 - 2] = 'm';
    param_1[sVar8 - 1] = 'p';
  }
  else {
    sVar8 = _strlen(param_1);
    param_1[sVar8 - 5] = 'b';
    param_1[sVar8 - 4] = 'm';
    param_1[sVar8 - 3] = 'p';
    param_1[sVar8 - 2] = '\0';
  }
  if (iVar9 == 0) {
    return 0;
  }
  CopyDataWithLock();
  if (local_54[0] != 0x4d42) {
    FUN_004adcf0();
    return 0;
  }
  puVar10 = local_40;
  CopyDataWithLock();
  if (puVar10 == (undefined *)0x0) {
    puVar10 = (undefined *)0x100;
  }
  if (uStackY_34._2_2_ == 8) {
    sVar8 = local_3c * local_38;
    sVar11 = (int)puVar10 << 2;
    iVar9 = 0;
    pvVar12 = (void *)AllocateMemoryWithCallback();
    _memset(pvVar12,iVar9,sVar11);
    if ((*param_7 == 9) && (DAT_005e72d0 == 0)) {
      *param_7 = 2;
    }
  }
  else {
    sVar8 = local_3c * local_38 * 3;
    if ((*param_7 != 10) && (*param_7 != 9)) {
      *param_7 = 0;
    }
  }
  iVar9 = 0;
  sVar11 = sVar8;
  pvVar12 = (void *)AllocateMemoryWithCallback();
  pvVar12 = _memset(pvVar12,iVar9,sVar11);
  if (pvVar12 == (void *)0x0) {
    FUN_004adcf0();
    return 0;
  }
  if (sVar11 != 0) {
    CopyDataWithLock();
  }
  CopyDataWithLock();
  FUN_004adcf0();
  if (DAT_005e58d0 == 0) {
    iVar9 = *param_7;
    if (iVar9 == 1) {
      *param_7 = 0;
    }
    else if (iVar9 == 2) {
      *param_7 = 10;
    }
    else if (iVar9 == 9) {
      *param_7 = 10;
    }
  }
  else if (DAT_005e72cc == 0) {
    if (*param_7 == 1) {
      *param_7 = 0;
    }
    else if (*param_7 == 2) {
      *param_7 = 9;
    }
  }
  uStackY_34 = (short *)0x45a4bb;
  FUN_00458980();
  *param_3 = local_38 * local_3c * 2;
  _memset(local_c0,0,0x6c);
  local_c0[0] = 0x6c;
  iVar21 = 0;
  iVar20 = 0;
  local_20 = 0;
  iVar9 = (**(code **)(**param_2 + 100))();
  if (iVar9 != 0) {
    (**(code **)(**param_2 + 8))();
    return 0;
  }
  if (*param_7 != 9) {
    param_7 = (int *)0x0;
    if (0 < local_38) {
      do {
        param_5 = (undefined4 *)0x0;
        if (0 < local_3c) {
          uVar16 = 0;
          uVar22 = uVar23;
          do {
            iVar9 = local_3c * ((uint)param_7 & 0xffff) + uVar16;
            iVar3 = iVar9 * 3;
            uVar18 = (uint)(*(byte *)(iVar3 + 1 + (int)pvVar12) & 0xfc);
            uVar16 = (uint)(*(byte *)(iVar3 + 2 + (int)pvVar12) & 0xf8) << 5;
            uVar17 = (uint)(*(byte *)((int)pvVar12 + iVar3) >> 3);
            uVar23 = (uVar16 | uVar18) << 3;
            uVar15 = uVar23 | uVar17;
            uVar23 = uVar23 | uVar17;
            if ((uVar23 != uVar22) && (-1 < (int)uVar22)) {
              iVar20 = 0;
            }
            if ((short)uVar15 == -0x7e1) {
              *param_4 = 1;
            }
            if (DAT_005e72dc != 0) {
              uVar15 = ((uVar16 | uVar18 & 0x1ff8) << 3) >> 1 | uVar17;
            }
            sVar6 = (short)uVar15;
            if (uVar23 == 0xf81f) {
              sVar6 = (short)DAT_005e72fc;
            }
            else if (uVar15 == DAT_005e72fc) {
              sVar6 = sVar6 + -1;
            }
            *(short *)(local_9c + iVar9 * 2) = sVar6;
            param_5 = (undefined4 *)((int)param_5 + 1);
            uVar16 = (uint)param_5 & 0xffff;
            uVar22 = uVar23;
          } while ((int)uVar16 < local_3c);
        }
        param_7 = (int *)((int)param_7 + 1);
      } while ((int)((uint)param_7 & 0xffff) < local_38);
    }
    goto LAB_0045a8a5;
  }
  uStackY_34 = (short *)0x45a532;
  _memset(local_54,0,0xe);
  uStackY_34 = (short *)0x45a542;
  _memset(local_40,0,0x28);
  _strlen(param_1);
  FID_conflict___mbscpy(acStackY_2c3 + 3,param_1);
  if (bVar4) {
    sVar11 = _strlen(acStackY_2c3 + 3);
    acStackY_2c3[sVar11] = 'a';
    acStackY_2c3[sVar11 + 1] = 'l';
    acStackY_2c3[sVar11 + 2] = 'h';
    if (uVar22 == 0) {
      if (DAT_005dcb18 == 0x40) {
        pcVar7 = &DAT_004ce220;
      }
      else {
        if (DAT_005dcb18 != 0x20) goto LAB_0045a5bf;
        pcVar7 = &DAT_004ce224;
      }
      FID_conflict__strcat(acStackY_2c3 + 3,pcVar7);
    }
  }
LAB_0045a5bf:
  OpenFileWithFixedFlags0x40();
  uStackY_34 = local_54;
  local_38 = 0x45a5e3;
  CopyDataWithLock();
  if (local_54[0] != 0x4d42) {
    return 0;
  }
  uStackY_34 = (short *)local_40;
  local_38 = 0x45a605;
  CopyDataWithLock();
  if (uStackY_34._2_2_ != 8) {
    return 0;
  }
  if (local_20 == 0) {
    local_20 = 0x100;
  }
  sVar11 = local_20 << 2;
  iVar9 = 0;
  uStackY_34 = (short *)0x45a638;
  pvVar13 = (void *)AllocateMemoryWithCallback();
  uStackY_34 = (short *)0x45a641;
  pvVar13 = _memset(pvVar13,iVar9,sVar11);
  iVar9 = 0;
  uStackY_34 = (short *)0x45a650;
  pvVar14 = (void *)AllocateMemoryWithCallback();
  uStackY_34 = (short *)0x45a659;
  pvVar14 = _memset(pvVar14,iVar9,sVar8);
  if (pvVar14 == (void *)0x0) {
    FUN_004adcf0();
    return 0;
  }
  if (pvVar13 != (void *)0x0) {
    local_38 = 0x45a68b;
    uStackY_34 = (short *)pvVar13;
    CopyDataWithLock();
  }
  local_38 = 0x45a69b;
  uStackY_34 = (short *)pvVar14;
  CopyDataWithLock();
  FUN_004adcf0();
  param_7 = (int *)0x0;
  if (0 < local_38) {
    do {
      param_5 = (undefined4 *)0x0;
      if (0 < local_3c) {
        uVar16 = 0;
        uVar22 = uVar23;
        do {
          iVar9 = local_3c * ((uint)param_7 & 0xffff) + uVar16;
          uVar23 = iVar9 * 3;
          uVar2 = (ushort)*(byte *)(uVar23 + 1 + (int)pvVar12);
          local_44 = CONCAT22(local_44._2_2_,uVar2) & 0xfffffff0;
          uVar23 = ((*(byte *)(uVar23 / 3 + (int)pvVar14) & 0xffff00f0) << 4 |
                   *(byte *)(uVar23 + 2 + (int)pvVar12) & 0xfffffff0) << 4 |
                   (uint)(*(byte *)((int)pvVar12 + uVar23) >> 4);
          uVar5 = (ushort)uVar23 | (ushort)local_44;
          uVar23 = uVar23 | uVar2 & 0xfff0;
          if ((uVar23 != uVar22) && (-1 < (int)uVar22)) {
            iVar20 = 0;
          }
          if (uVar5 == 0xf0f) {
            *param_4 = 1;
          }
          *(ushort *)(local_9c + iVar9 * 2) = uVar5;
          param_5 = (undefined4 *)((int)param_5 + 1);
          uVar16 = (uint)param_5 & 0xffff;
          uVar22 = uVar23;
        } while ((int)uVar16 < local_3c);
      }
      param_7 = (int *)((int)param_7 + 1);
    } while ((int)((uint)param_7 & 0xffff) < local_38);
  }
LAB_0045a8a5:
  if (iVar20 != 0) {
    DAT_005dcb20 = DAT_005dcb20 + *param_3;
  }
  (**(code **)(**param_2 + 0x80))();
  uStackY_34 = (short *)0x45a8d5;
  FreeMemory();
  if (iVar21 != 0) {
    uStackY_34 = (short *)0x45a8e5;
    FreeMemory();
  }
  return 1;
}



undefined4 FUN_0045a900(int *param_1,int *param_2)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  uint uVar3;
  undefined2 *puVar4;
  int iVar5;
  undefined4 local_80;
  undefined4 local_7c;
  uint local_78;
  uint local_74;
  int local_70;
  undefined2 *local_5c;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  int *piStackY_38;
  undefined4 uStackY_34;
  undefined4 *puStackY_30;
  undefined4 uStackY_2c;
  undefined4 uStackY_28;
  int *piStackY_24;
  undefined4 uStackY_20;
  int iVar6;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  uStackY_20 = 0x45a91d;
  _memset(&local_80,0,0x6c);
  local_80 = 0x6c;
  uStackY_20 = 0;
  piStackY_24 = param_1;
  local_7c = 0x80c;
  uStackY_28 = 0x45a941;
  (**(code **)(*param_1 + 100))();
  puVar1 = local_5c;
  uStackY_28 = 0;
  puStackY_30 = &local_80;
  uStackY_2c = 0x11;
  local_70 = local_70 >> 1;
  uStackY_34 = 0;
  piStackY_38 = param_2;
  uStackY_3c = 0x45a962;
  iVar6 = local_70;
  (**(code **)(*param_2 + 100))();
  uVar7 = 0;
  puVar4 = puVar1;
  if (local_74 != 0) {
    do {
      uVar3 = 0;
      iVar5 = local_70;
      if (local_78 != 0) {
        puVar2 = puVar4;
        do {
          uVar3 = uVar3 + 1;
          *puVar2 = *(undefined2 *)(((int)local_5c - (int)puVar1) + (int)puVar2);
          puVar2 = puVar2 + local_70;
          iVar5 = iVar6;
        } while (uVar3 < local_78);
      }
      uVar7 = uVar7 + 1;
      puVar4 = puVar4 + 1;
      local_70 = iVar5;
    } while (uVar7 < local_74);
  }
  uStackY_3c = 0;
  piStackY_40 = param_1;
  uStackY_44 = 0x45a9c4;
  (**(code **)(*param_1 + 0x80))();
  uStackY_44 = 0;
  piStackY_48 = param_2;
  uStackY_4c = 0x45a9cf;
  (**(code **)(*param_2 + 0x80))();
  return 1;
}



undefined2 *
FUN_0045a9e0(undefined2 *param_1,uint param_2,uint param_3,ushort param_4,ushort param_5)

{
  undefined2 uVar1;
  uint uVar2;
  uint uVar3;
  undefined2 *puVar4;
  uint uVar5;
  undefined2 *puVar6;
  uint uVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  uVar5 = (uint)param_4;
  uVar7 = param_2 & 0xffff;
  uVar3 = (uint)param_5;
  uVar2 = param_3 & 0xffff;
  if (param_5 != 0) {
    param_2 = 0;
    _param_5 = param_1;
    param_3 = uVar3;
    do {
      if (param_4 != 0) {
        puVar6 = param_1 + (int)((ulonglong)uVar7 / (ulonglong)(longlong)(int)uVar5) * param_2 *
                           uVar7;
        puVar4 = _param_5;
        uVar8 = uVar5;
        do {
          uVar1 = *puVar6;
          puVar6 = puVar6 + (int)((ulonglong)uVar2 / (ulonglong)(longlong)(int)uVar3);
          *puVar4 = uVar1;
          puVar4 = puVar4 + 1;
          uVar8 = uVar8 - 1;
        } while (uVar8 != 0);
      }
      param_2 = param_2 + 1;
      _param_5 = _param_5 + uVar5;
      param_3 = param_3 - 1;
    } while (param_3 != 0);
  }
  return param_1;
}



undefined4 FUN_0045aaa0(int *param_1,int param_2,uint param_3,uint param_4)

{
  int iVar1;
  undefined4 local_70;
  undefined4 local_6c;
  int local_60;
  int local_4c;
  undefined4 uStackY_34;
  int iStackY_30;
  int iStackY_2c;
  int iStackY_28;
  
  AdjustStackForLargeAllocations();
  _memset(&local_70,0,0x6c);
  local_70 = 0x6c;
  local_6c = 0x80c;
  (**(code **)(*param_1 + 100))();
  param_4 = param_4 & 0xffff;
  if (param_4 != 0) {
    iVar1 = (param_3 & 0xffff) * 2;
    do {
      uStackY_34 = 0x45ab12;
      iStackY_30 = local_4c;
      iStackY_2c = param_2;
      iStackY_28 = iVar1;
      FUN_004ad7a0();
      param_2 = param_2 + iVar1;
      local_4c = local_4c + (local_60 >> 1) * 2;
      param_4 = param_4 - 1;
    } while (param_4 != 0);
  }
  iStackY_28 = 0x45ab35;
  (**(code **)(*param_1 + 0x80))();
  return 1;
}



undefined4 FUN_0045ab40(void)

{
  int *piVar1;
  bool bVar2;
  bool bVar3;
  ushort uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  bVar2 = false;
  bVar3 = false;
  uVar4 = 0;
  iVar5 = DAT_005dca00;
  if (DAT_005dcb0c == 0) {
    return 1;
  }
  do {
    iVar7 = (uint)uVar4 * 0x2e;
    if (*(int *)(iVar5 + 0x1f + iVar7) == 0) {
      piVar1 = *(int **)(iVar5 + 0xf + iVar7);
      if (piVar1 != (int *)0x0) {
        iVar5 = (**(code **)(*piVar1 + 0x60))(piVar1);
        if (iVar5 == -0x7789fe3e) {
          bVar3 = true;
          piVar1 = *(int **)(DAT_005dca00 + 0xf + iVar7);
          iVar5 = (**(code **)(*piVar1 + 0x6c))(piVar1);
          if (iVar5 != 0) {
            return 0;
          }
        }
        bVar2 = true;
        iVar5 = DAT_005dca00;
      }
      piVar1 = *(int **)(iVar5 + 3 + iVar7);
      if (piVar1 != (int *)0x0) {
        iVar5 = (**(code **)(*piVar1 + 0x60))(piVar1);
        if (iVar5 == -0x7789fe3e) {
          bVar3 = true;
          piVar1 = *(int **)(DAT_005dca00 + 3 + iVar7);
          iVar5 = (**(code **)(*piVar1 + 0x6c))(piVar1);
          if (iVar5 != 0) {
            return 0;
          }
        }
        bVar2 = true;
        iVar5 = DAT_005dca00;
      }
      if (((bVar2) && (bVar3)) &&
         (iVar6 = FUN_00424d60(*(undefined4 *)(iVar5 + 3 + iVar7),0,
                               *(undefined4 *)(iVar5 + 0xf + iVar7),0,0x1000000,0),
         iVar5 = DAT_005dca00, iVar6 != 0)) {
        FUN_0045a900(*(undefined4 *)(DAT_005dca00 + 3 + iVar7),
                     *(undefined4 *)(DAT_005dca00 + 0xf + iVar7));
        iVar5 = DAT_005dca00;
      }
    }
    uVar4 = uVar4 + 1;
  } while (uVar4 < DAT_005dcb0c);
  return 1;
}



void * FUN_0045ac80(uint param_1,uint param_2,uint param_3,undefined4 param_4)

{
  void *pvVar1;
  void *pvVar2;
  uint uVar3;
  int _Val;
  uint uVar4;
  
  uVar4 = param_1;
  pvVar2 = (void *)0x0;
  if ((char)param_1 == '\0') {
    uVar3 = param_3 & 0xffff;
    _Val = 0;
    uVar4 = uVar3;
    pvVar2 = (void *)AllocateMemoryWithCallback(uVar3);
    pvVar2 = _memset(pvVar2,_Val,uVar4);
    FUN_004ad7a0(pvVar2,param_4,uVar3);
  }
  else if ((param_1 & 4) == 0) {
    if ((param_1 & 1) != 0) {
      pvVar2 = (void *)FUN_004247d0(param_4,param_2 & 0xffff,param_3 & 0xffff);
      return pvVar2;
    }
    if ((param_1 & 2) != 0) {
      pvVar2 = (void *)FUN_00424830(param_4,param_2 & 0xffff,param_3 & 0xffff);
      return pvVar2;
    }
  }
  else {
    pvVar1 = (void *)FUN_00424a20(param_4,&param_1);
    if ((uVar4 & 1) == 0) {
      if ((uVar4 & 2) == 0) {
        return pvVar1;
      }
      pvVar2 = (void *)FUN_00424830(pvVar1,param_1,param_3 & 0xffff);
    }
    else {
      pvVar2 = (void *)FUN_004247d0(pvVar1,param_1,param_3 & 0xffff);
    }
    if (pvVar1 != (void *)0x0) {
      FreeMemory(pvVar1);
      return pvVar2;
    }
  }
  return pvVar2;
}



void FUN_0045ad90(undefined4 param_1,undefined *param_2)

{
  byte bVar1;
  byte bVar2;
  undefined3 uVar3;
  undefined2 extraout_var;
  int iVar5;
  byte bVar6;
  undefined2 extraout_var_00;
  undefined2 uVar8;
  uint uVar7;
  undefined8 uVar9;
  uint uVar10;
  undefined2 uVar4;
  
  AdjustStackForLargeAllocations();
  iVar5 = CONCAT22(extraout_var,(ushort)(byte)param_2[2]) *
          CONCAT22(extraout_var_00,(ushort)(byte)param_2[1]) * 2;
  uVar9 = FUN_0045ac80(CONCAT31((int3)((uint)iVar5 >> 8),*param_2),
                       CONCAT22((short)((uint)*(undefined4 *)(param_2 + 7) >> 0x10),
                                *(undefined2 *)(param_2 + 4)),iVar5,*(undefined4 *)(param_2 + 7));
  uVar7 = (uint)((ulonglong)uVar9 >> 0x20);
  iVar5 = (int)uVar9;
  uVar8 = (undefined2)((ulonglong)uVar9 >> 0x30);
  uVar3 = (undefined3)((ulonglong)uVar9 >> 8);
  uVar4 = (undefined2)((ulonglong)uVar9 >> 0x10);
  if ((param_2[6] == '\0') && (bVar2 = 0, param_2[1] != '\0')) {
    do {
      uVar7 = uVar7 & 0xffffff00;
      uVar10 = 0;
      if (param_2[2] != '\0') {
        do {
          bVar1 = *(byte *)(uVar10 * (byte)param_2[1] + iVar5 + (uint)bVar2);
          bVar6 = (char)uVar7 + 1;
          uVar7 = CONCAT31((int3)(uVar7 >> 8),bVar6);
          *(ushort *)(uint)bVar1 = bVar1 & 0x1f | bVar1 >> 1 & 0x7fe0;
          uVar3 = 0;
          uVar10 = (uint)bVar6;
        } while (bVar6 < (byte)param_2[2]);
      }
      uVar8 = (undefined2)(uVar7 >> 0x10);
      bVar2 = bVar2 + 1;
      uVar4 = (undefined2)((uint3)uVar3 >> 8);
    } while (bVar2 < (byte)param_2[1]);
  }
  FUN_0045aaa0(param_1,iVar5,CONCAT22(uVar4,(ushort)(byte)param_2[1]),
               CONCAT22(uVar8,(ushort)(byte)param_2[2]));
  if (iVar5 != 0) {
    FreeMemory(iVar5);
  }
  return;
}



ushort FUN_0045ae70(undefined4 param_1,undefined4 param_2,short param_3,undefined4 param_4)

{
  short *psVar1;
  int iVar2;
  ushort uVar3;
  undefined4 uVar4;
  size_t _Size;
  void *pvVar5;
  undefined4 unaff_EBX;
  int iVar6;
  undefined local_6c [66];
  undefined2 local_2a;
  undefined2 uStackY_28;
  undefined2 uStackY_26;
  char *pcStackY_24;
  char local_20;
  undefined2 local_1f;
  undefined local_1d;
  undefined uVar7;
  undefined2 uVar8;
  short sVar9;
  undefined2 uVar10;
  undefined2 uVar11;
  undefined2 uVar12;
  
  AdjustStackForLargeAllocations();
  uVar4 = param_4;
  pcStackY_24 = local_6c;
  local_20 = 'J';
  local_1f = 0;
  local_1d = 0;
  uStackY_28 = 0xae9c;
  uStackY_26 = 0x45;
  FUN_00441d30();
  iVar2 = CONCAT22(uStackY_28,local_2a);
  _Size = (DAT_005dcb0c + 1) * 0x2e;
  uVar8 = 0;
  uVar10 = 0;
  local_20 = -0x3b;
  local_1f = 0x45ae;
  local_1d = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback();
  local_20 = -0x32;
  local_1f = 0x45ae;
  local_1d = 0;
  pvVar5 = _memset(pvVar5,CONCAT22(uVar10,uVar8),_Size);
  local_20 = -0xd;
  local_1f = 0x45ae;
  local_1d = 0;
  FUN_004ad7a0();
  if (DAT_005dca00 != (void *)0x0) {
    FreeMemory();
  }
  uVar3 = DAT_005dcb0c;
  DAT_005dca00 = pvVar5;
  iVar6 = 0;
  if (0 < iVar2) {
    while( true ) {
      pcStackY_24 = &stack0xffffffe8;
      uVar10 = SUB42(&stack0xfffffff4,0);
      sVar9 = (short)uVar4;
      uVar8 = (undefined2)((uint)uVar4 >> 0x10);
      local_20 = '\x06';
      local_1f = 0;
      local_1d = 0;
      uStackY_28 = 0xaf34;
      uStackY_26 = 0x45;
      FUN_00441d30();
      if ((param_3 == sVar9) && (CONCAT22(uVar10,uVar8) != 0)) break;
      iVar6 = iVar6 + 1;
      if (iVar2 <= iVar6) {
        return 0;
      }
    }
    pcStackY_24 = &local_20;
    local_20 = '\x05';
    local_1f = 0;
    local_1d = 0;
    uStackY_28 = 0xaf71;
    uStackY_26 = 0x45;
    FUN_00441d30();
    pcStackY_24 = (char *)((int)&param_4 + 3);
    local_20 = '\x01';
    local_1f = 0;
    local_1d = 0;
    uStackY_28 = 0xaf86;
    uStackY_26 = 0x45;
    FUN_00441d30();
    pcStackY_24 = &stack0xfffffffb;
    local_20 = '\x01';
    local_1f = 0;
    local_1d = 0;
    uStackY_28 = 0xaf9b;
    uStackY_26 = 0x45;
    FUN_00441d30();
    uVar11 = 0xb;
    uVar12 = 0;
    uVar8 = 0;
    uVar10 = 0;
    psVar1 = (short *)((int)DAT_005dca00 + (uint)uVar3 * 0x2e);
    local_20 = -0x3c;
    local_1f = 0x45af;
    local_1d = 0;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    uVar7 = SUB41(pvVar5,0);
    local_20 = -0x33;
    local_1f = 0x45af;
    local_1d = 0;
    pvVar5 = _memset(pvVar5,CONCAT22(uVar10,uVar8),CONCAT22(uVar12,uVar11));
    uVar8 = local_1f;
    *(void **)((int)psVar1 + 0x13) = pvVar5;
    *(byte *)((int)pvVar5 + 1) = param_4._3_1_ >> 3;
    *(byte *)(*(int *)((int)psVar1 + 0x13) + 2) = (byte)((uint)unaff_EBX >> 0x1b);
    **(char **)((int)psVar1 + 0x13) = local_20;
    if (local_20 == '\0') {
      uVar12 = 0;
      uVar10 = 0;
      uVar11 = 0;
      local_20 = 'W';
      local_1f = 0x45b0;
      local_1d = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback();
      local_20 = '`';
      local_1f = 0x45b0;
      local_1d = 0;
      pvVar5 = _memset(pvVar5,CONCAT22(uVar11,uVar10),CONCAT22(uVar12,uVar8));
      *(void **)(*(int *)((int)psVar1 + 0x13) + 7) = pvVar5;
      pcStackY_24 = *(char **)(*(int *)((int)psVar1 + 0x13) + 7);
      local_20 = '\x01';
      local_1f = 0;
      local_1d = 0;
      uStackY_28 = 0xb086;
      uStackY_26 = 0x45;
      FUN_00441d30();
      *(undefined2 *)(*(int *)((int)psVar1 + 0x13) + 4) = local_1f;
    }
    else {
      uVar8 = CONCAT11(uVar7,local_1d);
      uVar12 = 0;
      uVar10 = 0;
      uVar11 = 0;
      local_20 = '\b';
      local_1f = 0x45b0;
      local_1d = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback();
      local_20 = '\x11';
      local_1f = 0x45b0;
      local_1d = 0;
      pvVar5 = _memset(pvVar5,CONCAT22(uVar11,uVar10),CONCAT22(uVar12,uVar8));
      uVar7 = local_1d;
      *(void **)(*(int *)((int)psVar1 + 0x13) + 7) = pvVar5;
      pcStackY_24 = *(char **)(*(int *)((int)psVar1 + 0x13) + 7);
      local_20 = '\x01';
      local_1f = 0;
      local_1d = 0;
      uStackY_28 = 0xb036;
      uStackY_26 = 0x45;
      FUN_00441d30();
      *(ushort *)(*(int *)((int)psVar1 + 0x13) + 4) = CONCAT11(uVar7,local_1d);
    }
    *(undefined4 *)((int)psVar1 + 0x29) = 0;
    *psVar1 = param_3 + 10000;
    *(undefined *)(psVar1 + 1) = 0;
    FUN_00458470();
    DAT_005dcb0c = DAT_005dcb0c + 1;
    return uVar3;
  }
  return 0;
}



undefined2 FUN_0045b0d0(short param_1,char param_2)

{
  ushort uVar1;
  
  AdjustStackForLargeAllocations();
  uVar1 = (ushort)DAT_005986d8;
  if (DAT_005986dc <= (ushort)DAT_005986d8) {
    return 0;
  }
  while ((*(short *)(DAT_005dca00 + (uint)uVar1 * 0x2e) != param_1 ||
         (*(char *)(DAT_005dca00 + (uint)uVar1 * 0x2e + 2) != param_2))) {
    uVar1 = uVar1 + 1;
    if (DAT_005986dc <= uVar1) {
      return 0;
    }
  }
  return *(undefined2 *)(DAT_005dca00 + 0x23 + (uint)uVar1 * 0x2e);
}



undefined4 FUN_0045b160(short param_1,char param_2)

{
  ushort uVar1;
  
  AdjustStackForLargeAllocations();
  uVar1 = (ushort)DAT_005986d8;
  if (DAT_005986dc <= (ushort)DAT_005986d8) {
    return 0;
  }
  while ((*(short *)(DAT_005dca00 + (uint)uVar1 * 0x2e) != param_1 ||
         (*(char *)(DAT_005dca00 + (uint)uVar1 * 0x2e + 2) != param_2))) {
    uVar1 = uVar1 + 1;
    if (DAT_005986dc <= uVar1) {
      return 0;
    }
  }
  return *(undefined4 *)(DAT_005dca00 + 3 + (uint)uVar1 * 0x2e);
}



undefined4 FUN_0045b1f0(short param_1,char param_2)

{
  ushort uVar1;
  
  AdjustStackForLargeAllocations();
  uVar1 = (ushort)DAT_005986d8;
  if (DAT_005986dc <= (ushort)DAT_005986d8) {
    return 0;
  }
  while ((*(short *)(DAT_005dca00 + (uint)uVar1 * 0x2e) != param_1 ||
         (*(char *)(DAT_005dca00 + (uint)uVar1 * 0x2e + 2) != param_2))) {
    uVar1 = uVar1 + 1;
    if (DAT_005986dc <= uVar1) {
      return 0;
    }
  }
  return *(undefined4 *)(DAT_005dca00 + 0xb + (uint)uVar1 * 0x2e);
}



void FUN_0045b280(int *param_1)

{
  byte *pbVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  
  piVar3 = param_1;
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  uVar7 = 0;
  if (*(short *)(param_1 + 1) != 0) {
    do {
      iVar5 = 0;
      param_1 = (int *)0x0;
      if ((uint)*(ushort *)((int)piVar3 + 0xe) * (uint)*(ushort *)((int)piVar3 + 0xe) != 0) {
        iVar4 = 0;
        do {
          iVar2 = *(int *)(*piVar3 + iVar6 + 0x16);
          if (iVar2 != 0) {
            iVar2 = *(int *)(iVar2 + 4 + iVar5);
            if (0 < iVar2) {
              pbVar1 = (byte *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + -4 + iVar2 * 4) + 0xa1);
              *pbVar1 = *pbVar1 | 8;
              *(int *)(*(int *)(*piVar3 + 0x16 + iVar6) + 4 + iVar5) = iVar2;
            }
            if (*(float *)(*(int *)(*piVar3 + iVar6) + 4 + iVar4) < *(float *)(DAT_005dcb3c + 0x10c)
               ) {
              *(undefined4 *)(DAT_005dcb3c + 0x10c) =
                   *(undefined4 *)(*(int *)(*piVar3 + iVar6) + 4 + iVar4);
            }
          }
          param_1 = (int *)((int)param_1 + 1);
          iVar5 = iVar5 + 0xf;
          iVar4 = iVar4 + 0x20;
        } while (param_1 < (uint)*(ushort *)((int)piVar3 + 0xe) *
                           (uint)*(ushort *)((int)piVar3 + 0xe));
      }
      uVar7 = uVar7 + 1;
      iVar6 = iVar6 + 0x3e;
    } while (uVar7 < *(ushort *)(piVar3 + 1));
  }
  return;
}



void FUN_0045b360(int *param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  uVar4 = 0;
  iVar3 = 0;
  if (*(short *)(param_1 + 2) != 0) {
    do {
      uVar2 = 0;
      if (*(short *)((int)param_1 + 6) != 0) {
        do {
          iVar1 = *(int *)(*(int *)((int)param_1 + 10) + iVar3 * 4);
          if (0 < iVar1) {
            *(uint *)(*param_1 + -0x18 + iVar1 * 0x3e) = uVar2;
            *(uint *)(*param_1 + -0x14 + *(int *)(*(int *)((int)param_1 + 10) + iVar3 * 4) * 0x3e) =
                 uVar4;
          }
          iVar3 = iVar3 + 1;
          uVar2 = uVar2 + 1;
        } while (uVar2 < *(ushort *)((int)param_1 + 6));
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(ushort *)(param_1 + 2));
  }
  return;
}



void FUN_0045b3d0(int *param_1)

{
  short sVar1;
  int *piVar2;
  short sVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  uint local_1c;
  uint local_18;
  short local_14;
  uint uVar10;
  short sVar11;
  short sVar12;
  
  piVar2 = param_1;
  AdjustStackForLargeAllocations();
  iVar7 = 0;
  local_1c = 0;
  sVar3 = *(short *)((int)param_1 + 0xe) + 1;
  if (*(short *)(param_1 + 1) != 0) {
    do {
      *(short *)(*piVar2 + 4 + iVar7) = sVar3 * sVar3;
      if (*(int *)(*piVar2 + iVar7) != 0) {
        param_1 = (int *)0x0;
        uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
        uVar10 = uVar5 + 1;
        if (uVar10 != 0) {
          do {
            uVar8 = 0;
            if (uVar10 != 0) {
              do {
                iVar4 = ((int)param_1 * uVar10 + uVar8) * 0x20;
                *(float *)(*(int *)(*piVar2 + iVar7) + iVar4) =
                     (float)(ulonglong)
                            ((*(int *)((int)(int *)(*piVar2 + iVar7) + 0x26) * uVar5 + uVar8) *
                            (uint)*(ushort *)(piVar2 + 4));
                uVar8 = uVar8 + 1;
                *(float *)(*(int *)(*piVar2 + iVar7) + 8 + iVar4) =
                     (float)(ulonglong)
                            ((*(int *)(*piVar2 + 0x2a + iVar7) *
                              (uint)*(ushort *)((int)piVar2 + 0xe) + (int)param_1) *
                            (uint)*(ushort *)(piVar2 + 4));
                uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
                uVar10 = uVar5 + 1;
              } while (uVar8 < uVar10);
            }
            uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
            param_1 = (int *)((int)param_1 + 1);
            uVar10 = uVar5 + 1;
          } while (param_1 < uVar10);
        }
        uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
        uVar10 = 0;
        if (uVar5 != 0) {
          do {
            local_18 = 0;
            if (uVar5 != 0) {
              do {
                uVar5 = uVar10 * uVar5 + local_18;
                iVar6 = uVar5 * 2;
                sVar12 = (*(short *)((int)piVar2 + 0xe) + 1) * (short)uVar10;
                sVar1 = sVar12 + (short)local_18;
                sVar12 = *(short *)((int)piVar2 + 0xe) + (short)local_18 + sVar12;
                local_14 = sVar1 + 1;
                sVar11 = sVar12 + 2;
                sVar12 = sVar12 + 1;
                iVar4 = *piVar2 + iVar7;
                if ((*(byte *)(((uVar5 & 0x7fffffff) + iVar6) * 5 + 0xc + *(int *)(iVar4 + 0x16)) &
                    1) == 0) {
                  iVar9 = uVar5 * 0x18;
                  *(short *)(*(int *)(iVar4 + 10) + iVar9) = sVar1;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + 2 + iVar9) = sVar12;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + 4 + iVar9) = local_14;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + (iVar6 + 1) * 0xc) = local_14;
                  iVar4 = *(int *)(*piVar2 + 10 + iVar7);
                }
                else {
                  iVar9 = uVar5 * 0x18;
                  *(short *)(*(int *)(iVar4 + 10) + iVar9) = sVar1;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + 2 + iVar9) = sVar12;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + 4 + iVar9) = sVar11;
                  *(short *)(*(int *)(*piVar2 + 10 + iVar7) + (iVar6 + 1) * 0xc) = local_14;
                  iVar4 = *(int *)(*piVar2 + 10 + iVar7);
                  sVar12 = sVar1;
                }
                *(short *)(iVar4 + 0xe + uVar5 * 0x18) = sVar12;
                *(short *)(*(int *)(*piVar2 + 10 + iVar7) + 0x10 + uVar5 * 0x18) = sVar11;
                uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
                local_18 = local_18 + 1;
              } while (local_18 < uVar5);
            }
            uVar5 = (uint)*(ushort *)((int)piVar2 + 0xe);
            uVar10 = uVar10 + 1;
          } while (uVar10 < uVar5);
        }
      }
      local_1c = local_1c + 1;
      iVar7 = iVar7 + 0x3e;
    } while (local_1c < *(ushort *)(piVar2 + 1));
  }
  return;
}



undefined4 FUN_0045b630(uint param_1,ushort *param_2)

{
  ushort *puVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  ushort *puVar5;
  size_t sVar6;
  void *pvVar7;
  uint uVar8;
  ushort uVar9;
  int iVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  size_t _Size;
  uint uVar15;
  
  puVar5 = param_2;
  iVar4 = param_1;
  AdjustStackForLargeAllocations();
  **(uint **)(param_1 + 0x56) = (uint)*param_2;
  *(uint *)(*(int *)(param_1 + 0x56) + 8) = (uint)param_2[1];
  *(uint *)(*(int *)(param_1 + 0x56) + 0x14) = (uint)param_2[10];
  *(undefined4 *)(param_1 + 0x46) = *(undefined4 *)(param_2 + 0xb);
  *(undefined4 *)(param_1 + 0x4a) = *(undefined4 *)(param_2 + 0xd);
  *(undefined4 *)(param_1 + 0x4e) = *(undefined4 *)(param_2 + 0xf);
  *(undefined4 *)(*(int *)(param_1 + 0x56) + 0x1c) = 0;
  uVar2 = *param_2;
  sVar6 = (uint)uVar2 << 5;
  iVar14 = 0;
  pvVar7 = (void *)AllocateMemoryWithCallback(sVar6);
  pvVar7 = _memset(pvVar7,iVar14,sVar6);
  *(void **)(*(int *)(param_1 + 0x56) + 4) = pvVar7;
  uVar8 = 0;
  param_2 = (ushort *)0x0;
  if (uVar2 != 0) {
    param_1 = 0;
    do {
      if (uVar2 < 0x100) {
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(byte *)(*(int *)(*(int *)(puVar5 + 0x11) + 6) + (uVar8 & 0xffff)) * 4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 4 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(byte *)(*(int *)(*(int *)(puVar5 + 0x11) + 6) + (uVar8 + 1 & 0xffff)) * 4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 8 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(byte *)(*(int *)(*(int *)(puVar5 + 0x11) + 6) + (uVar8 + 2 & 0xffff)) * 4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 0x18 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 0x10) +
              (uint)*(byte *)(*(int *)(*(int *)(puVar5 + 0x11) + 0x14) + ((uint)param_2 & 0xffff)) *
              4);
        uVar15 = (uint)*(byte *)(*(int *)(*(int *)(puVar5 + 0x11) + 0x14) +
                                ((int)param_2 + 1U & 0xffff));
      }
      else {
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(ushort *)(*(int *)(*(int *)(puVar5 + 0x11) + 10) + (uVar8 & 0xffff) * 2) * 4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 4 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(ushort *)(*(int *)(*(int *)(puVar5 + 0x11) + 10) + (uVar8 + 1 & 0xffff) * 2) *
              4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 8 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 2) +
              (uint)*(ushort *)(*(int *)(*(int *)(puVar5 + 0x11) + 10) + (uVar8 + 2 & 0xffff) * 2) *
              4);
        *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 0x18 + param_1) =
             *(undefined4 *)
              (*(int *)(*(int *)(puVar5 + 0x11) + 0x10) +
              (uint)*(ushort *)
                     (*(int *)(*(int *)(puVar5 + 0x11) + 0x18) + ((uint)param_2 & 0xffff) * 2) * 4);
        uVar15 = (uint)*(ushort *)
                        (*(int *)(*(int *)(puVar5 + 0x11) + 0x18) + ((int)param_2 + 1U & 0xffff) * 2
                        );
      }
      uVar8 = uVar8 + 3;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 4) + 0x1c + param_1) =
           *(undefined4 *)(*(int *)(*(int *)(puVar5 + 0x11) + 0x10) + uVar15 * 4);
      param_2 = (ushort *)((int)param_2 + 2);
      param_1 = param_1 + 0x20;
      sVar6 = sVar6 - 1;
    } while (sVar6 != 0);
  }
  uVar3 = *(ushort *)(*(int *)(iVar4 + 0x56) + 0x14);
  param_1 = (uint)uVar3;
  sVar6 = param_1 * 2;
  iVar14 = 0;
  _Size = sVar6;
  pvVar7 = (void *)AllocateMemoryWithCallback(sVar6);
  pvVar7 = _memset(pvVar7,iVar14,_Size);
  *(void **)(*(int *)(iVar4 + 0x56) + 0x10) = pvVar7;
  FUN_004ad7a0(*(undefined4 *)(*(int *)(iVar4 + 0x56) + 0x10),*(undefined4 *)(puVar5 + 0x15),sVar6);
  sVar6 = param_1 * 4;
  iVar14 = 0;
  pvVar7 = (void *)AllocateMemoryWithCallback(sVar6);
  pvVar7 = _memset(pvVar7,iVar14,sVar6);
  *(void **)(*(int *)(iVar4 + 0x56) + 0x20) = pvVar7;
  uVar8 = param_1;
  if (uVar3 != 0) {
    iVar10 = 0;
    iVar14 = 0;
    do {
      iVar10 = iVar10 + 4;
      puVar1 = (ushort *)(iVar14 + *(int *)(puVar5 + 0x17));
      iVar14 = iVar14 + 2;
      *(uint *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x20) + -4 + iVar10) = (uint)*puVar1;
      param_1 = param_1 - 1;
      uVar8 = sVar6;
    } while (param_1 != 0);
  }
  sVar6 = (uint)puVar5[1] * 0xc;
  iVar14 = 0;
  pvVar7 = (void *)AllocateMemoryWithCallback(sVar6);
  pvVar7 = _memset(pvVar7,iVar14,sVar6);
  *(void **)(*(int *)(iVar4 + 0x56) + 0xc) = pvVar7;
  uVar15 = 0;
  if (uVar3 != 0) {
    param_2 = (ushort *)0x0;
    do {
      uVar3 = *(ushort *)(*(int *)(puVar5 + 0x17) + (int)param_2 * 2);
      if (uVar3 != 0) {
        uVar11 = uVar15 & 0xffff;
        iVar10 = uVar11 * 0xc;
        iVar12 = uVar11 * 6;
        iVar14 = uVar11 * 3;
        uVar11 = (uint)uVar3;
        do {
          if (uVar2 < 0x100) {
            *(ushort *)(*(int *)(*(int *)(iVar4 + 0x56) + 0xc) + iVar10) =
                 (ushort)*(byte *)(iVar14 + *(int *)(puVar5 + 0x23));
            *(ushort *)(*(int *)(*(int *)(iVar4 + 0x56) + 0xc) + 2 + iVar10) =
                 (ushort)*(byte *)(iVar14 + 1 + *(int *)(puVar5 + 0x23));
            uVar9 = (ushort)*(byte *)(iVar14 + 2 + *(int *)(puVar5 + 0x23));
            iVar13 = *(int *)(*(int *)(iVar4 + 0x56) + 0xc);
          }
          else {
            *(undefined2 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0xc) + iVar10) =
                 *(undefined2 *)(iVar12 + *(int *)(puVar5 + 0x23));
            *(undefined2 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0xc) + 2 + iVar10) =
                 *(undefined2 *)(iVar12 + 2 + *(int *)(puVar5 + 0x23));
            uVar9 = *(ushort *)(iVar12 + 4 + *(int *)(puVar5 + 0x23));
            iVar13 = *(int *)(*(int *)(iVar4 + 0x56) + 0xc);
          }
          *(ushort *)(iVar13 + 4 + iVar10) = uVar9;
          iVar12 = iVar12 + 6;
          iVar10 = iVar10 + 0xc;
          *(ushort **)(*(int *)(*(int *)(iVar4 + 0x56) + 0xc) + -4 + iVar10) = param_2;
          iVar14 = iVar14 + 3;
          uVar11 = uVar11 - 1;
        } while (uVar11 != 0);
      }
      uVar15 = uVar15 + uVar3;
      param_2 = (ushort *)((int)param_2 + 1);
      uVar8 = uVar8 - 1;
    } while (uVar8 != 0);
  }
  *(undefined4 *)(iVar4 + 0x9d) = *(undefined4 *)(puVar5 + 0x19);
  sVar6 = *(int *)(*(int *)(iVar4 + 0x56) + 0x14) * 0x50;
  iVar14 = 0;
  pvVar7 = (void *)AllocateMemoryWithCallback(sVar6);
  pvVar7 = _memset(pvVar7,iVar14,sVar6);
  uVar8 = 0;
  *(void **)(*(int *)(iVar4 + 0x56) + 0x1c) = pvVar7;
  iVar14 = *(int *)(iVar4 + 0x56);
  if (0 < *(int *)(iVar14 + 0x14)) {
    uVar15 = 0;
    do {
      iVar10 = uVar15 * 0x50;
      uVar8 = uVar8 + 1;
      *(undefined4 *)(*(int *)(iVar14 + 0x1c) + 4 + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 8 + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0xc + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x10 + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x14 + iVar10) = 0x3e4ccccd;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x18 + iVar10) = 0x3e4ccccd;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x1c + iVar10) = 0x3e4ccccd;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x20 + iVar10) = 0x3e4ccccd;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x44 + iVar10) = 0x41a00000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x24 + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x28 + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x2c + iVar10) = 0x3f800000;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x34 + iVar10) = 0;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x38 + iVar10) = 0;
      *(undefined4 *)(*(int *)(*(int *)(iVar4 + 0x56) + 0x1c) + 0x3c + iVar10) = 0;
      iVar14 = *(int *)(iVar4 + 0x56);
      uVar15 = uVar8 & 0xffff;
    } while ((int)uVar15 < *(int *)(iVar14 + 0x14));
  }
  FUN_0048fb90(iVar4);
  return 1;
}



void FUN_0045bb90(int param_1)

{
  int **ppiVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  undefined4 *puVar10;
  uint uVar11;
  int iVar12;
  undefined4 *puVar13;
  float10 fVar14;
  float10 fVar15;
  float local_2c;
  float local_28;
  float local_24;
  undefined4 local_20;
  float *pfStack_1c;
  undefined8 local_18;
  double dVar16;
  
  iVar6 = param_1;
  AdjustStackForLargeAllocations();
  iVar7 = *(int *)(param_1 + 0x56);
  uVar11 = (uint)*(ushort *)(DAT_005dcb24 + 6) * (uint)*(ushort *)(DAT_005dcb24 + 0x10) *
           (uint)*(ushort *)(DAT_005dcb24 + 0xe);
  local_2c = **(float **)(iVar7 + 4);
  local_28 = *(float *)(*(int *)(iVar7 + 4) + 4);
  local_24 = *(float *)(*(int *)(iVar7 + 4) + 8);
  pfStack_1c = &local_2c;
  local_18 = (double)CONCAT44(&local_2c,param_1 + 6);
  local_20 = 0x45bc03;
  uVar8 = uVar11;
  FUN_0045f6b0();
  *(float *)(param_1 + 0x85) = local_2c;
  *(float *)(param_1 + 0x79) = local_2c;
  *(float *)(param_1 + 0x89) = local_28;
  *(float *)(param_1 + 0x7d) = local_28;
  ppiVar1 = (int **)(param_1 + 0x56);
  *(float *)(param_1 + 0x8d) = local_24;
  *(float *)(param_1 + 0x81) = local_24;
  param_1 = 0;
  if (0 < **ppiVar1) {
    iVar12 = 0;
    uVar11 = uVar8;
    do {
      local_2c = *(float *)(iVar12 + *(int *)(iVar7 + 4));
      local_28 = *(float *)(iVar12 + 4 + *(int *)(iVar7 + 4));
      pfStack_1c = &local_2c;
      local_24 = *(float *)(iVar12 + 8 + *(int *)(iVar7 + 4));
      local_18 = (double)CONCAT44(&local_2c,iVar6 + 6);
      local_20 = 0x45bc77;
      FUN_0045f6b0();
      if (local_2c < *(float *)(iVar6 + 0x79)) {
        *(float *)(iVar6 + 0x79) = local_2c;
      }
      if (local_28 < *(float *)(iVar6 + 0x7d)) {
        *(float *)(iVar6 + 0x7d) = local_28;
      }
      if (local_24 < *(float *)(iVar6 + 0x81)) {
        *(float *)(iVar6 + 0x81) = local_24;
      }
      if (*(float *)(iVar6 + 0x85) < local_2c) {
        *(float *)(iVar6 + 0x85) = local_2c;
      }
      if (*(float *)(iVar6 + 0x89) < local_28) {
        *(float *)(iVar6 + 0x89) = local_28;
      }
      if (*(float *)(iVar6 + 0x8d) < local_24) {
        *(float *)(iVar6 + 0x8d) = local_24;
      }
      if ((*(byte *)(iVar6 + 0xa1) & 8) != 0) {
        *(float *)(iVar12 + *(int *)(iVar7 + 4)) = local_2c;
        *(float *)(iVar12 + 4 + *(int *)(iVar7 + 4)) = local_28;
        *(float *)(iVar12 + 8 + *(int *)(iVar7 + 4)) = local_24;
      }
      param_1 = param_1 + 1;
      iVar12 = iVar12 + 0x20;
      uVar8 = uVar11;
    } while (param_1 < **(int **)(iVar6 + 0x56));
  }
  if ((*(byte *)(iVar6 + 0xa1) & 8) != 0) {
    *(undefined4 *)(iVar6 + 0x6d) = *(undefined4 *)(iVar6 + 0x79);
    *(undefined4 *)(iVar6 + 0x71) = *(undefined4 *)(iVar6 + 0x7d);
    *(undefined4 *)(iVar6 + 0x75) = *(undefined4 *)(iVar6 + 0x81);
    puVar10 = &DAT_004d1ae0;
    puVar13 = (undefined4 *)(iVar6 + 6);
    for (iVar7 = 0x10; uVar11 = uVar8, iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar13 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar13 = puVar13 + 1;
    }
  }
  fVar3 = (*(float *)(iVar6 + 0x79) + *(float *)(iVar6 + 0x85)) * 0.5 - *(float *)(iVar6 + 0x79);
  fVar2 = (*(float *)(iVar6 + 0x81) + *(float *)(iVar6 + 0x8d)) * 0.5 - *(float *)(iVar6 + 0x81);
  local_18 = (double)(fVar2 * fVar2 + fVar3 * fVar3);
  pfStack_1c = (float *)0x45bdcd;
  fVar14 = (float10)FUN_004ad534();
  *(float *)(iVar6 + 0x91) = (float)fVar14;
  local_18 = (double)(*(float *)(iVar6 + 0xe) * *(float *)(iVar6 + 0xe) +
                     *(float *)(iVar6 + 10) * *(float *)(iVar6 + 10) +
                     *(float *)(iVar6 + 6) * *(float *)(iVar6 + 6));
  pfStack_1c = (float *)0x45be09;
  fVar14 = (float10)FUN_004ad534();
  local_18 = (double)(*(float *)(iVar6 + 0x1e) * *(float *)(iVar6 + 0x1e) +
                     *(float *)(iVar6 + 0x1a) * *(float *)(iVar6 + 0x1a) +
                     *(float *)(iVar6 + 0x16) * *(float *)(iVar6 + 0x16));
  pfStack_1c = (float *)0x45be42;
  FUN_004ad534();
  local_18 = (double)(*(float *)(iVar6 + 0x2e) * *(float *)(iVar6 + 0x2e) +
                     *(float *)(iVar6 + 0x2a) * *(float *)(iVar6 + 0x2a) +
                     *(float *)(iVar6 + 0x26) * *(float *)(iVar6 + 0x26));
  pfStack_1c = (float *)0x45be7a;
  FUN_004ad534();
  iVar7 = *(int *)(iVar6 + 0x5b);
  *(float *)(iVar6 + 0x95) = (float)fVar14;
  uVar8 = 0;
  if (iVar7 != 0) {
    bVar5 = false;
    uVar9 = (uint)*(byte *)(iVar7 + 0x10);
    if (uVar9 != 0) {
      do {
        if (*(float *)(*(int *)(iVar7 + 0x7f) + 0x14 + uVar8 * 0x32) != 0.0) {
          bVar5 = true;
          uVar8 = uVar9;
        }
        uVar8 = uVar8 + 1;
      } while ((int)uVar8 < (int)uVar9);
    }
    if (bVar5) {
      local_18 = (double)(*(float *)(iVar6 + 0x36) - *(float *)(iVar6 + 0x79));
      pfStack_1c = (float *)0x45bee5;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x36) - *(float *)(iVar6 + 0x85));
      pfStack_1c = (float *)0x45befb;
      fVar14 = (float10)FUN_004ad3c0();
      if ((float10)local_18 <= fVar14) {
        fVar2 = *(float *)(iVar6 + 0x85);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x79);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x36) - fVar2);
      pfStack_1c = (float *)0x45bf23;
      fVar14 = (float10)FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - *(float *)(iVar6 + 0x7d));
      pfStack_1c = (float *)0x45bf3c;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - *(float *)(iVar6 + 0x89));
      pfStack_1c = (float *)0x45bf52;
      fVar15 = (float10)FUN_004ad3c0();
      if ((float10)local_18 <= fVar15) {
        fVar2 = *(float *)(iVar6 + 0x89);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x7d);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - fVar2);
      pfStack_1c = (float *)0x45bf7a;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - *(float *)(iVar6 + 0x81));
      pfStack_1c = (float *)0x45bf96;
      fVar15 = (float10)FUN_004ad3c0();
      dVar16 = (double)fVar15;
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - *(float *)(iVar6 + 0x8d));
      pfStack_1c = (float *)0x45bfac;
      fVar15 = (float10)FUN_004ad3c0();
      if ((float10)dVar16 <= fVar15) {
        fVar2 = *(float *)(iVar6 + 0x8d);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x81);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - fVar2);
      pfStack_1c = (float *)0x45bfd7;
      fVar15 = (float10)FUN_004ad3c0();
      local_18 = (double)(fVar15 * fVar15 +
                         (float10)local_18._4_4_ * (float10)local_18._4_4_ +
                         (float10)(float)fVar14 * (float10)(float)fVar14);
      pfStack_1c = (float *)0x45bfff;
      fVar14 = (float10)FUN_004ad534();
      fVar2 = (float)fVar14;
      fVar3 = *(float *)(iVar6 + 0x36) - fVar2;
      if (fVar3 <= 0.0) {
        fVar3 = 0.0;
      }
      fVar4 = *(float *)(iVar6 + 0x3e) - fVar2;
      *(float *)(iVar6 + 0x79) = fVar3;
      if (fVar4 <= 0.0) {
        fVar4 = 0.0;
      }
      fVar3 = fVar2 + *(float *)(iVar6 + 0x36);
      local_18 = (double)(ulonglong)uVar11;
      *(float *)(iVar6 + 0x81) = fVar4;
      if ((float)(longlong)local_18 <= fVar3) {
        fVar3 = (float)(longlong)local_18;
      }
      fVar4 = fVar2 + *(float *)(iVar6 + 0x3e);
      *(float *)(iVar6 + 0x85) = fVar3;
      if ((float)ZEXT48(pfStack_1c) <= fVar4) {
        fVar4 = (float)ZEXT48(pfStack_1c);
      }
      *(float *)(iVar6 + 0x8d) = fVar4;
      *(float *)(iVar6 + 0x7d) = *(float *)(iVar6 + 0x3a) - fVar2;
      *(float *)(iVar6 + 0x89) = fVar2 + *(float *)(iVar6 + 0x3a);
    }
  }
  return;
}



void FUN_0045c0d0(void)

{
  short *psVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  size_t _Size;
  void *pvVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  int *piVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  uint uVar17;
  
  AdjustStackForLargeAllocations();
  iVar9 = 0;
  iVar15 = *(int *)(DAT_005dcb3c + 0x239);
  if (iVar15 != 0) {
    piVar11 = *(int **)(DAT_005dcb3c + 0x230);
    do {
      if ((*(byte *)(*piVar11 + 0xa1) & 8) == 0) {
        iVar3 = __ftol();
        iVar15 = 0x45c143;
        iVar4 = __ftol();
        iVar9 = iVar9 + (iVar3 + 2) * (iVar4 + 2);
      }
      piVar11 = piVar11 + 1;
      iVar15 = iVar15 + -1;
    } while (iVar15 != 0);
  }
  _Size = iVar9 * 10;
  iVar15 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar5 = _memset(pvVar5,iVar15,_Size);
  *(void **)(DAT_005dcb3c + 0x234) = pvVar5;
  uVar17 = 0;
  uVar12 = 0;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      iVar15 = *(int *)(*(int *)(DAT_005dcb3c + 0x230) + uVar17 * 4);
      uVar13 = uVar12;
      if ((*(byte *)(iVar15 + 0xa1) & 8) == 0) {
        uVar6 = __ftol();
        __ftol();
        uVar7 = __ftol();
        uVar16 = 0x45c283;
        iVar9 = __ftol();
        uVar8 = iVar9 + 1;
        if (uVar6 < uVar16) {
          do {
            if (uVar7 < uVar8) {
              iVar9 = uVar13 * 10;
              uVar10 = uVar7;
              do {
                uVar8 = DAT_005dcb24;
                uVar14 = uVar10;
                uVar16 = uVar6;
                iVar3 = FUN_0045cad0();
                if (iVar3 != 0) {
                  sVar2 = (short)uVar13;
                  if (uVar14 == 0) {
                    *(short *)(iVar15 + 0x5f) = sVar2 + 1;
                  }
                  *(short *)(*(int *)(DAT_005dcb3c + 0x234) + iVar9) = (short)uVar17;
                  if (uVar13 != uVar12) {
                    *(short *)(*(int *)(DAT_005dcb3c + 0x234) + -2 + iVar9) = sVar2 + 1;
                  }
                  psVar1 = (short *)(iVar3 + 10);
                  if (*(ushort *)(iVar3 + 10) != 0) {
                    *(int *)(*(int *)(DAT_005dcb3c + 0x234) + -6 +
                            (uint)*(ushort *)(iVar3 + 10) * 10) =
                         iVar9 + 2 + *(int *)(DAT_005dcb3c + 0x234);
                    uVar10 = uVar8;
                  }
                  *(short *)(*(int *)(DAT_005dcb3c + 0x234) + 2 + iVar9) = *psVar1;
                  *psVar1 = sVar2 + 1;
                  uVar13 = uVar13 + 1;
                  iVar9 = iVar9 + 10;
                  *(short **)(*(int *)(DAT_005dcb3c + 0x234) + -6 + iVar9) = psVar1;
                }
                uVar8 = 0x45c2e4;
                uVar10 = uVar10 + 1;
              } while (uVar10 < 0x45c2e4);
            }
            uVar6 = uVar6 + 1;
          } while (uVar6 < uVar16);
        }
        if (*(int *)(iVar15 + 0x5b) != 0) {
          iVar15 = __ftol();
          iVar9 = __ftol();
          uVar13 = (iVar15 + 2) * (iVar9 + 2) + uVar12;
          if (uVar12 < uVar13) {
            iVar15 = uVar12 * 10;
            iVar9 = uVar13 - uVar12;
            do {
              iVar15 = iVar15 + 10;
              iVar9 = iVar9 + -1;
              *(short *)(*(int *)(DAT_005dcb3c + 0x234) + -10 + iVar15) = (short)uVar17;
            } while (iVar9 != 0);
          }
        }
      }
      uVar17 = uVar17 + 1;
      uVar12 = uVar13;
    } while (uVar17 < *(uint *)(DAT_005dcb3c + 0x239));
  }
  return;
}



void FUN_0045c450(void)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  
  uVar6 = 0;
  iVar4 = DAT_005dcb3c;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      uVar5 = 0;
      iVar2 = *(int *)(*(int *)(iVar4 + 0x230) + uVar6 * 4);
      iVar3 = *(int *)(iVar2 + 0x56);
      if (*(int *)(iVar3 + 0x14) != 0) {
        do {
          bVar1 = *(byte *)(*(int *)(DAT_005dca00 + 0x13 +
                                    (uint)*(ushort *)(*(int *)(iVar3 + 0x10) + uVar5 * 2) * 0x2e) +
                           3);
          if (bVar1 < 0x28) {
            if (bVar1 < 0x14) {
              if (9 < bVar1) {
                *(byte *)(iVar2 + 0xa1) = *(byte *)(iVar2 + 0xa1) | 0x20;
              }
            }
            else {
              *(byte *)(iVar2 + 0xa1) = *(byte *)(iVar2 + 0xa1) | 0x40;
            }
          }
          else {
            *(byte *)(iVar2 + 0xa1) = *(byte *)(iVar2 + 0xa1) | 0x80;
          }
          uVar5 = uVar5 + 1;
          iVar4 = DAT_005dcb3c;
        } while (uVar5 < *(uint *)(iVar3 + 0x14));
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < *(uint *)(iVar4 + 0x239));
  }
  return;
}



void FUN_0045c4e0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  float10 fVar4;
  float local_50;
  float local_4c;
  float local_48;
  float local_40;
  float local_3c;
  float local_38;
  float local_30;
  float local_2c;
  float local_28;
  undefined4 local_20;
  float *local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  uVar3 = 0;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(DAT_005dcb3c + 0x230) + uVar3 * 4);
      local_18 = (double)CONCAT44(iVar1,0x45c519);
      iVar2 = FUN_0045c730();
      if (iVar2 != 0) {
        local_1c = &local_50;
        local_18 = (double)CONCAT44(0x40,iVar1 + 6);
        local_20 = 0x45c533;
        FUN_004ad7a0();
        local_20 = 0;
        local_1c = (float *)0x0;
        local_18 = (double)CONCAT44(&stack0xfffffff0,0x45c572);
        FUN_0045eab0();
        local_18 = (double)CONCAT44(&stack0xfffffff0,0x45c5a8);
        FUN_0045eab0();
        local_18 = (double)CONCAT44(&stack0xfffffff0,0x45c5de);
        FUN_0045eab0();
        local_18 = (double)local_50;
        local_1c = (float *)0x45c5fe;
        fVar4 = (float10)FUN_004ad3c0();
        if ((float10)0.9990000128746033 < fVar4) {
LAB_0045c64e:
          local_18 = (double)local_40;
          local_1c = (float *)0x45c65c;
          fVar4 = (float10)FUN_004ad3c0();
          if (fVar4 <= (float10)0.9990000128746033) {
            local_18 = (double)local_3c;
            local_1c = (float *)0x45c67a;
            fVar4 = (float10)FUN_004ad3c0();
            if (fVar4 <= (float10)0.9990000128746033) {
              local_18 = (double)local_38;
              local_1c = (float *)0x45c698;
              fVar4 = (float10)FUN_004ad3c0();
              if (fVar4 <= (float10)0.9990000128746033) goto LAB_0045c702;
            }
          }
          local_18 = (double)local_30;
          local_1c = (float *)0x45c6b6;
          fVar4 = (float10)FUN_004ad3c0();
          if (fVar4 <= (float10)0.9990000128746033) {
            local_18 = (double)local_2c;
            local_1c = (float *)0x45c6d4;
            fVar4 = (float10)FUN_004ad3c0();
            if (fVar4 <= (float10)0.9990000128746033) {
              local_18 = (double)local_28;
              local_1c = (float *)0x45c6f2;
              fVar4 = (float10)FUN_004ad3c0();
              if (fVar4 <= (float10)0.9990000128746033) goto LAB_0045c702;
            }
          }
          *(ushort *)(iVar1 + 0xa1) = *(ushort *)(iVar1 + 0xa1) | 0x200;
        }
        else {
          local_18 = (double)local_4c;
          local_1c = (float *)0x45c61c;
          fVar4 = (float10)FUN_004ad3c0();
          if ((float10)0.9990000128746033 < fVar4) goto LAB_0045c64e;
          local_18 = (double)local_48;
          local_1c = (float *)0x45c63a;
          fVar4 = (float10)FUN_004ad3c0();
          if ((float10)0.9990000128746033 < fVar4) goto LAB_0045c64e;
LAB_0045c702:
          *(byte *)(iVar1 + 0xa2) = *(byte *)(iVar1 + 0xa2) | 4;
        }
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(DAT_005dcb3c + 0x239));
  }
  return;
}



undefined4 FUN_0045c730(int param_1)

{
  float fVar1;
  double dVar2;
  uint uVar3;
  uint uVar4;
  bool bVar5;
  bool bVar6;
  bool bVar7;
  int iVar8;
  int iVar9;
  uint *puVar10;
  float *pfVar11;
  uint uVar12;
  float *pfVar13;
  float10 fVar14;
  float local_7c [8];
  undefined local_5c [12];
  undefined local_50 [12];
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float *local_1c;
  float *local_18;
  undefined4 uStack_14;
  undefined2 uStack_10;
  undefined2 uStack_e;
  
  iVar8 = param_1;
  AdjustStackForLargeAllocations();
  puVar10 = *(uint **)(param_1 + 0x56);
  uVar12 = 0;
  if (*puVar10 != 0) {
    pfVar11 = (float *)puVar10[1];
    do {
      bVar5 = false;
      bVar6 = false;
      if ((*pfVar11 == *(float *)(param_1 + 0x61)) || (*pfVar11 == *(float *)(param_1 + 0x6d))) {
        bVar5 = true;
      }
      if ((pfVar11[1] == *(float *)(param_1 + 0x65)) || (pfVar11[1] == *(float *)(param_1 + 0x71)))
      {
        bVar6 = true;
      }
      if ((pfVar11[2] == *(float *)(param_1 + 0x69)) || (pfVar11[2] == *(float *)(param_1 + 0x75)))
      {
        bVar7 = true;
      }
      else {
        bVar7 = false;
      }
      if (!bVar5) {
        return 0;
      }
      if (!bVar6) {
        return 0;
      }
      if (!bVar7) {
        return 0;
      }
      uVar12 = uVar12 + 1;
      pfVar11 = pfVar11 + 8;
    } while (uVar12 < *puVar10);
  }
  uVar12 = 0;
  if (puVar10[2] == 0) {
    return 1;
  }
  param_1 = 0;
  do {
    uVar3 = *(uint *)(puVar10[3] + param_1);
    uStack_14._2_2_ = (ushort)(uVar3 >> 0x10);
    uVar4 = *(uint *)(puVar10[3] + 4 + param_1);
    pfVar11 = (float *)((uVar3 & 0xffff) * 0x20 + puVar10[1]);
    pfVar13 = local_7c;
    for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
      *pfVar13 = *pfVar11;
      pfVar11 = pfVar11 + 1;
      pfVar13 = pfVar13 + 1;
    }
    uStack_10 = (undefined2)uVar4;
    uStack_e = (undefined2)(uVar4 >> 0x10);
    pfVar11 = (float *)((uint)uStack_14._2_2_ * 0x20 + puVar10[1]);
    pfVar13 = local_7c;
    for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
      *pfVar13 = *pfVar11;
      pfVar11 = pfVar11 + 1;
      pfVar13 = pfVar13 + 1;
    }
    local_2c = local_7c[0];
    local_28 = local_7c[1];
    local_24 = local_7c[2];
    pfVar11 = (float *)((uVar4 & 0xffff) * 0x20 + puVar10[1]);
    pfVar13 = local_7c;
    for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
      *pfVar13 = *pfVar11;
      pfVar11 = pfVar11 + 1;
      pfVar13 = pfVar13 + 1;
    }
    local_38 = local_7c[0];
    local_34 = local_7c[1];
    uStack_14 = &local_20;
    local_30 = local_7c[2];
    local_18 = &local_2c;
    local_1c = (float *)local_5c;
    local_20 = 6.408614e-39;
    FUN_0045ec80();
    uStack_14 = &local_20;
    local_18 = &local_38;
    local_1c = (float *)local_50;
    local_20 = 6.408642e-39;
    FUN_0045ec80();
    uStack_14 = (float *)local_50;
    local_18 = (float *)local_5c;
    local_1c = &local_44;
    local_20 = 6.40867e-39;
    FUN_0045eb50();
    uStack_14 = &local_44;
    local_18 = (float *)0x45c8d0;
    FUN_0045eab0();
    dVar2 = (double)local_44;
    local_18 = SUB84(dVar2,0);
    uStack_14._0_2_ = (undefined2)((ulonglong)dVar2 >> 0x20);
    uStack_14._2_2_ = (ushort)((ulonglong)dVar2 >> 0x30);
    local_1c = (float *)0x45c8e1;
    fVar14 = (float10)FUN_004ad3c0();
    if (fVar14 <= (float10)0.9990000128746033) {
      dVar2 = (double)local_40;
      local_18 = SUB84(dVar2,0);
      uStack_14._0_2_ = (undefined2)((ulonglong)dVar2 >> 0x20);
      uStack_14._2_2_ = (ushort)((ulonglong)dVar2 >> 0x30);
      local_1c = (float *)0x45c97c;
      fVar14 = (float10)FUN_004ad3c0();
      if (fVar14 <= (float10)0.9990000128746033) {
        dVar2 = (double)local_3c;
        local_18 = SUB84(dVar2,0);
        uStack_14._0_2_ = (undefined2)((ulonglong)dVar2 >> 0x20);
        uStack_14._2_2_ = (ushort)((ulonglong)dVar2 >> 0x30);
        local_1c = (float *)0x45ca14;
        fVar14 = (float10)FUN_004ad3c0();
        if (fVar14 <= (float10)0.9990000128746033) {
          return 0;
        }
        if (local_3c <= 0.0) {
          if ((float)local_18 != *(float *)(iVar8 + 0x69)) {
            return 0;
          }
          if (local_24 != *(float *)(iVar8 + 0x69)) {
            return 0;
          }
          fVar1 = *(float *)(iVar8 + 0x69);
        }
        else {
          if ((float)local_18 != *(float *)(iVar8 + 0x75)) {
            return 0;
          }
          if (local_24 != *(float *)(iVar8 + 0x75)) {
            return 0;
          }
          fVar1 = *(float *)(iVar8 + 0x75);
        }
        if (local_30 != fVar1) {
          return 0;
        }
      }
      else {
        if (local_40 <= 0.0) {
          if ((float)local_1c != *(float *)(iVar8 + 0x65)) {
            return 0;
          }
          if (local_28 != *(float *)(iVar8 + 0x65)) {
            return 0;
          }
          fVar1 = *(float *)(iVar8 + 0x65);
        }
        else {
          if ((float)local_1c != *(float *)(iVar8 + 0x71)) {
            return 0;
          }
          if (local_28 != *(float *)(iVar8 + 0x71)) {
            return 0;
          }
          fVar1 = *(float *)(iVar8 + 0x71);
        }
        if (local_34 != fVar1) {
          return 0;
        }
      }
    }
    else {
      if (local_44 <= 0.0) {
        if (local_20 != *(float *)(iVar8 + 0x61)) {
          return 0;
        }
        if (local_2c != *(float *)(iVar8 + 0x61)) {
          return 0;
        }
        fVar1 = *(float *)(iVar8 + 0x61);
      }
      else {
        if (local_20 != *(float *)(iVar8 + 0x6d)) {
          return 0;
        }
        if (local_2c != *(float *)(iVar8 + 0x6d)) {
          return 0;
        }
        fVar1 = *(float *)(iVar8 + 0x6d);
      }
      if (local_38 != fVar1) {
        return 0;
      }
    }
    param_1 = param_1 + 0xc;
    uVar12 = uVar12 + 1;
    puVar10 = *(uint **)(iVar8 + 0x56);
    if (puVar10[2] <= uVar12) {
      return 1;
    }
  } while( true );
}



int FUN_0045cad0(int *param_1,int param_2,int param_3)

{
  ushort uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  if ((-1 < param_2) && (-1 < param_3)) {
    uVar4 = (uint)*(ushort *)((int)param_1 + 0xe);
    uVar1 = *(ushort *)((int)param_1 + 6);
    if ((param_2 < (int)(uVar4 * uVar1)) && (param_3 < (int)(*(ushort *)(param_1 + 2) * uVar4))) {
      iVar2 = __ftol();
      iVar3 = __ftol();
      iVar2 = *(int *)(*(int *)((int)param_1 + 10) + (iVar2 * (uint)uVar1 + iVar3) * 4);
      if (0 < iVar2) {
        return ((param_3 % (int)uVar4) * uVar4 + param_2 % (int)uVar4) * 0xf +
               *(int *)(*param_1 + -0x28 + iVar2 * 0x3e);
      }
    }
  }
  return 0;
}



void FUN_0045cb80(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = __ftol();
  uVar1 = __ftol(uVar1);
  FUN_0045cad0(param_1,uVar1);
  return;
}



undefined4 FUN_0045cbc0(int *param_1,float param_2,float param_3)

{
  ushort uVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  fVar2 = (float)((uint)*(ushort *)((int)param_1 + 0xe) * (uint)*(ushort *)(param_1 + 4));
  if ((0.0 <= param_2) && (0.0 <= param_3)) {
    uVar1 = *(ushort *)((int)param_1 + 6);
    if ((param_2 < (float)(uint)uVar1 * fVar2) &&
       (param_3 < (float)(uint)*(ushort *)(param_1 + 2) * fVar2)) {
      iVar3 = __ftol();
      iVar4 = __ftol();
      iVar3 = *(int *)(*(int *)((int)param_1 + 10) + (iVar3 * (uint)uVar1 + iVar4) * 4);
      if (0 < iVar3) {
        return *(undefined4 *)(*param_1 + 0x1a + (iVar3 + -1) * 0x3e);
      }
    }
  }
  return 0;
}



undefined4 FUN_0045cc90(int *param_1,int param_2)

{
  ushort uVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_2 + 4);
  fVar3 = (float)((uint)*(ushort *)(param_1 + 4) * (uint)*(ushort *)((int)param_1 + 0xe));
  if ((0.0 <= *(float *)(iVar2 + 0x36)) && (0.0 <= *(float *)(iVar2 + 0x3e))) {
    uVar1 = *(ushort *)((int)param_1 + 6);
    if ((*(float *)(iVar2 + 0x36) < (float)(uint)uVar1 * fVar3) &&
       (*(float *)(iVar2 + 0x3e) < (float)(uint)*(ushort *)(param_1 + 2) * fVar3)) {
      iVar4 = __ftol();
      iVar5 = __ftol();
      iVar4 = *(int *)(*(int *)((int)param_1 + 10) + (iVar4 * (uint)uVar1 + iVar5) * 4);
      if (0 < iVar4) {
        iVar4 = iVar4 * 0x3e;
        if (*(int *)(iVar2 + 0xb4) != *(int *)(*param_1 + -0x24 + iVar4)) {
          *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) | 0x40000000;
          *(undefined4 *)(*(int *)(param_2 + 4) + 0xb4) = *(undefined4 *)(*param_1 + -0x24 + iVar4);
        }
        return 1;
      }
    }
  }
  return 0;
}



undefined4 FUN_0045cdc0(int *param_1,int param_2,float param_3,float param_4)

{
  ushort uVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  
  *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) | 0x40000000;
  fVar2 = (float)((uint)*(ushort *)((int)param_1 + 0xe) * (uint)*(ushort *)(param_1 + 4));
  if ((0.0 <= param_3) && (0.0 <= param_4)) {
    uVar1 = *(ushort *)((int)param_1 + 6);
    if ((param_3 < (float)(uint)uVar1 * fVar2) &&
       (param_4 < (float)(uint)*(ushort *)(param_1 + 2) * fVar2)) {
      iVar3 = __ftol();
      iVar4 = __ftol();
      iVar3 = *(int *)(*(int *)((int)param_1 + 10) + (iVar3 * (uint)uVar1 + iVar4) * 4);
      if (0 < iVar3) {
        *(undefined4 *)(*(int *)(param_2 + 4) + 0xb4) =
             *(undefined4 *)(*param_1 + -0x24 + iVar3 * 0x3e);
        return 1;
      }
    }
  }
  return 0;
}



undefined4 FUN_0045ceb0(float param_1,float param_2)

{
  ushort uVar1;
  float fVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  piVar3 = DAT_00598ff0;
  fVar2 = (float)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * (uint)*(ushort *)(DAT_00598ff0 + 4));
  if ((0.0 <= param_1) && (0.0 <= param_2)) {
    uVar1 = *(ushort *)((int)DAT_00598ff0 + 6);
    if ((param_1 < (float)(uint)uVar1 * fVar2) &&
       (param_2 < (float)(uint)*(ushort *)(DAT_00598ff0 + 2) * fVar2)) {
      iVar4 = __ftol();
      iVar5 = __ftol();
      iVar4 = *(int *)(*(int *)((int)piVar3 + 10) + (iVar4 * (uint)uVar1 + iVar5) * 4);
      if (0 < iVar4) {
        return *(undefined4 *)(*piVar3 + 0x1a + (iVar4 + -1) * 0x3e);
      }
    }
  }
  return 0;
}



void FUN_0045cf80(int param_1)

{
  ushort uVar1;
  size_t sVar2;
  void *pvVar3;
  void *pvVar4;
  void *pvVar5;
  uint uVar6;
  uint *puVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  
  AdjustStackForLargeAllocations();
  sVar2 = (uint)*(ushort *)(DAT_005dcb3c + 0x4f1) << 2;
  iVar9 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  DAT_005986e4 = _memset(pvVar3,iVar9,sVar2);
  uVar1 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      sVar2 = 0x15;
      iVar9 = 0;
      pvVar3 = (void *)AllocateMemoryWithCallback(0x15);
      pvVar3 = _memset(pvVar3,iVar9,sVar2);
      sVar2 = 0x10;
      iVar9 = 0;
      *(void **)((int)DAT_005986e4 + (uint)*(ushort *)(param_1 + 8 + (uint)uVar1 * 2) * 4) = pvVar3;
      *(undefined *)((int)pvVar3 + 3) = 4;
      *(undefined *)((int)pvVar3 + 4) = 0;
      *(undefined *)((int)pvVar3 + 5) = 0;
      *(undefined *)((int)pvVar3 + 7) = 4;
      pvVar4 = (void *)AllocateMemoryWithCallback(0x10);
      pvVar4 = _memset(pvVar4,iVar9,sVar2);
      *(void **)((int)pvVar3 + 9) = pvVar4;
      sVar2 = 0xa9;
      iVar9 = 0;
      pvVar4 = (void *)AllocateMemoryWithCallback(0xa9);
      pvVar4 = _memset(pvVar4,iVar9,sVar2);
      sVar2 = 0x44;
      iVar9 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(0x44);
      pvVar5 = _memset(pvVar5,iVar9,sVar2);
      *(void **)((int)pvVar4 + 0x56) = pvVar5;
      FUN_0045b630(pvVar4,*(undefined4 *)
                           (*(int *)(DAT_005dcb3c + 0x4f3) +
                           (uint)*(ushort *)(param_1 + 8 + (uint)uVar1 * 2) * 4));
      uVar8 = 0;
      if (*(char *)((int)pvVar3 + 7) != '\0') {
        do {
          sVar2 = **(int **)((int)pvVar4 + 0x56) << 2;
          iVar10 = 0;
          iVar9 = (uVar8 & 0xffff) * 4;
          pvVar5 = (void *)AllocateMemoryWithCallback(sVar2);
          pvVar5 = _memset(pvVar5,iVar10,sVar2);
          *(void **)(iVar9 + *(int *)((int)pvVar3 + 9)) = pvVar5;
          puVar7 = *(uint **)((int)pvVar4 + 0x56);
          uVar6 = 0;
          uVar11 = 0;
          if (*puVar7 != 0) {
            do {
              *(float *)(*(int *)(iVar9 + *(int *)((int)pvVar3 + 9)) + uVar6 * 4) =
                   (1.0 / (float)(uint)*(byte *)((int)pvVar3 + 7)) * (float)iVar10 +
                   *(float *)(uVar6 * 0x20 + 0x1c + puVar7[1]);
              puVar7 = *(uint **)((int)pvVar4 + 0x56);
              uVar11 = uVar11 + 1;
              uVar6 = uVar11 & 0xffff;
              uVar8 = sVar2;
            } while (uVar6 < *puVar7);
          }
          uVar8 = uVar8 + 1;
        } while ((ushort)uVar8 < (ushort)*(byte *)((int)pvVar3 + 7));
      }
      FUN_004561c0(pvVar4);
      uVar1 = uVar1 + 1;
    } while (uVar1 < *(ushort *)(param_1 + 6));
  }
  uVar8 = 0;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    uVar6 = 0;
    iVar9 = DAT_005dcb3c;
    do {
      iVar10 = *(int *)((int)DAT_005986e4 +
                       (uint)*(ushort *)(*(int *)(*(int *)(iVar9 + 0x230) + uVar6 * 4) + 0xa3) * 4);
      if (iVar10 != 0) {
        FUN_004934c0(uVar8,iVar10);
        iVar9 = DAT_005dcb3c;
      }
      uVar8 = uVar8 + 1;
      uVar6 = uVar8 & 0xffff;
    } while (uVar6 < *(uint *)(iVar9 + 0x239));
  }
  return;
}



void FUN_0045d1b0(void)

{
  if (DAT_005986e4 != 0) {
    FreeMemory(DAT_005986e4);
    DAT_005986e4 = 0;
  }
  return;
}



int FUN_0045d1d0(char *param_1,undefined4 param_2)

{
  short *psVar1;
  int iVar2;
  char local_104 [232];
  undefined4 uStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  iVar2 = 0;
  uStackY_18 = 0x45d1f2;
  FID_conflict___mbscpy(local_104,&DAT_005d5fe0);
  uStackY_18 = 0x45d205;
  FID_conflict__strcat(local_104,param_1);
  FUN_00456ea0();
  DAT_005dcb38 = 0xe;
  psVar1 = (short *)FUN_00456e70();
  while ((psVar1 != (short *)0x0 && (iVar2 == 0))) {
    if (*psVar1 == 0x29) {
      uStackY_18 = param_2;
      uStackY_1c = 0x45d243;
      FUN_004ad7a0();
      iVar2 = 1;
    }
    psVar1 = (short *)FUN_00456e70();
  }
  if (DAT_005dcb30 != 0) {
    FreeMemory();
    DAT_005dcb30 = 0;
  }
  return iVar2;
}



void FUN_0045d280(int param_1)

{
  ushort *puVar1;
  void *_Dst;
  int _Val;
  size_t _Size;
  
  puVar1 = (ushort *)(param_1 + 6);
  _Size = (uint)*puVar1 * 0x404 + 4;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_005dcb00 = _memset(_Dst,_Val,_Size);
  FUN_004ad7a0(DAT_005dcb00,puVar1,(uint)*puVar1 * 0x404 + 4);
  return;
}



void FUN_0045d2e0(void)

{
  if (DAT_005dcb00 != 0) {
    FreeMemory(DAT_005dcb00);
    DAT_005dcb00 = 0;
  }
  return;
}



void FUN_0045d300(int param_1)

{
  *(undefined4 *)(DAT_005dcb3c + 0x100) = *(undefined4 *)(param_1 + 6);
  *(undefined4 *)(DAT_005dcb3c + 0x104) = *(undefined4 *)(param_1 + 10);
  *(undefined4 *)(DAT_005dcb3c + 0x108) = *(undefined4 *)(param_1 + 0xe);
  *(undefined4 *)(DAT_005dcb3c + 0x10c) = *(undefined4 *)(param_1 + 0x12);
  *(undefined4 *)(DAT_005dcb3c + 0x110) = *(undefined4 *)(param_1 + 0x16);
  *(undefined4 *)(DAT_005dcb3c + 0x114) = *(undefined4 *)(param_1 + 0x1a);
  *(undefined4 *)(DAT_005dcb3c + 0x118) = *(undefined4 *)(param_1 + 0x1e);
  *(undefined4 *)(DAT_005dcb3c + 0x11c) = *(undefined4 *)(param_1 + 0x22);
  return;
}



void FUN_0045d380(int param_1)

{
  FID_conflict___mbscpy(DAT_005dcb3c,(char *)(param_1 + 10));
  return;
}



void FUN_0045d3a0(int param_1)

{
  size_t sVar1;
  void *pvVar2;
  uint uVar3;
  ushort uVar4;
  int iVar5;
  
  uVar4 = 0;
  sVar1 = (uint)*(ushort *)(param_1 + 6) * 6;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
  pvVar2 = _memset(pvVar2,iVar5,sVar1);
  *(void **)(DAT_005dcb3c + 0x247) = pvVar2;
  *(undefined2 *)(DAT_005dcb3c + 0x245) = *(undefined2 *)(param_1 + 6);
  *(undefined2 *)(DAT_005dcb3c + 0x24d) = *(undefined2 *)(param_1 + 8);
  *(undefined2 *)(DAT_005dcb3c + 0x24b) = 0;
  sVar1 = (uint)*(ushort *)(param_1 + 8) * 6;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
  pvVar2 = _memset(pvVar2,iVar5,sVar1);
  *(void **)(DAT_005dcb3c + 0x24f) = pvVar2;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      uVar3 = (uint)uVar4;
      iVar5 = uVar3 * 6;
      uVar4 = uVar4 + 1;
      *(undefined *)(*(int *)(DAT_005dcb3c + 0x247) + iVar5) = *(undefined *)(param_1 + 10 + iVar5);
      *(undefined *)(*(int *)(DAT_005dcb3c + 0x247) + 1 + iVar5) =
           *(undefined *)(param_1 + 0xb + iVar5);
      *(undefined4 *)(*(int *)(DAT_005dcb3c + 0x247) + 2 + iVar5) =
           *(undefined4 *)(param_1 + (uVar3 + 2) * 6);
    } while (uVar4 < *(ushort *)(param_1 + 6));
  }
  if (DAT_00598944 == 0) {
    uVar3 = 0;
    if (*(ushort *)(DAT_005dcb3c + 0x245) != 0xffffffff) {
      do {
        uVar3 = uVar3 + 1;
      } while ((uVar3 & 0xffff) < *(ushort *)(DAT_005dcb3c + 0x245) + 1);
    }
  }
  return;
}



void FUN_0045d4c0(undefined2 *param_1)

{
  short *psVar1;
  ushort *puVar2;
  int iVar3;
  size_t sVar4;
  void *pvVar5;
  uint uVar6;
  ushort uVar7;
  ushort uVar8;
  int iVar9;
  int iVar10;
  
  iVar3 = (int)param_1;
  AdjustStackForLargeAllocations();
  uVar7 = *(ushort *)((int)param_1 + 6);
  sVar4 = (uint)uVar7 * 0xc;
  iVar10 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
  pvVar5 = _memset(pvVar5,iVar10,sVar4);
  uVar8 = 0;
  *(void **)(DAT_005dcb3c + 0x255) = pvVar5;
  *(undefined2 *)(DAT_005dcb3c + 0x253) = *(undefined2 *)((int)param_1 + 6);
  psVar1 = (short *)((int)param_1 + 6);
  param_1 = (undefined2 *)((int)param_1 + 8 + (uint)uVar7 * 8);
  if (*psVar1 != 0) {
    do {
      uVar6 = (uint)uVar8;
      iVar9 = uVar6 * 0xc;
      *(undefined2 *)(*(int *)(DAT_005dcb3c + 0x255) + iVar9) =
           *(undefined2 *)(iVar3 + 8 + uVar6 * 8);
      puVar2 = (ushort *)(iVar3 + 0xe + uVar6 * 8);
      *(undefined4 *)(*(int *)(DAT_005dcb3c + 0x255) + 2 + iVar9) =
           *(undefined4 *)(iVar3 + 10 + uVar6 * 8);
      *(ushort *)(*(int *)(DAT_005dcb3c + 0x255) + 6 + iVar9) = *puVar2;
      sVar4 = (uint)*puVar2 << 1;
      iVar10 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar10,sVar4);
      uVar7 = 0;
      *(void **)(*(int *)(DAT_005dcb3c + 0x255) + 8 + iVar9) = pvVar5;
      iVar10 = *(int *)(DAT_005dcb3c + 0x255) + iVar9;
      if (*(short *)(iVar10 + 6) != 0) {
        do {
          *(undefined2 *)(*(int *)(iVar10 + 8) + (uint)uVar7 * 2) = *param_1;
          param_1 = param_1 + 1;
          uVar7 = uVar7 + 1;
          iVar10 = *(int *)(DAT_005dcb3c + 0x255) + iVar9;
        } while (uVar7 < *(ushort *)(iVar10 + 6));
      }
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(ushort *)(iVar3 + 6));
  }
  return;
}



void FUN_0045d610(int param_1)

{
  ushort uVar1;
  void *pvVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int unaff_ESI;
  int iVar5;
  int iVar6;
  size_t sVar7;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar8 = 0;
  uVar1 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      sVar7 = 0x10;
      iVar5 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(0x10);
      puVar3 = (undefined4 *)_memset(pvVar2,iVar5,sVar7);
      iVar5 = param_1 + (uint)uVar1 * 10;
      *puVar3 = *(undefined4 *)(param_1 + (uVar1 + 1) * 10);
      iVar6 = *(int *)(iVar5 + 0xe);
      puVar3[1] = iVar6;
      sVar7 = iVar6 << 2;
      iVar6 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
      pvVar2 = _memset(pvVar2,iVar6,sVar7);
      puVar3[2] = pvVar2;
      sVar7 = puVar3[1] << 2;
      iVar6 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
      pvVar2 = _memset(pvVar2,iVar6,sVar7);
      puVar3[3] = pvVar2;
      iVar6 = 0;
      if (0 < (int)puVar3[1]) {
        puVar4 = (undefined4 *)(unaff_ESI + iVar8 * 8);
        do {
          *(undefined4 *)(puVar3[2] + iVar6 * 4) = *puVar4;
          *(undefined4 *)(puVar3[3] + iVar6 * 4) = puVar4[1];
          iVar8 = iVar8 + 1;
          iVar6 = iVar6 + 1;
          puVar4 = puVar4 + 2;
        } while (iVar6 < (int)puVar3[1]);
      }
      *(undefined4 **)
       (*(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*(ushort *)(iVar5 + 8) * 4) + 0x99) = puVar3
      ;
      uVar1 = uVar1 + 1;
    } while (uVar1 < *(ushort *)(param_1 + 6));
  }
  return;
}



void FUN_0045d730(undefined4 param_1)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0x16;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x16);
  DAT_005dca7c = _memset(_Dst,_Val,_Size);
  FUN_004ad7a0(DAT_005dca7c,param_1,0x16);
  return;
}



void FUN_0045d760(int param_1)

{
  short *psVar1;
  ushort *puVar2;
  ushort uVar3;
  size_t sVar4;
  void *pvVar5;
  ushort *puVar6;
  uint uVar7;
  ushort uVar8;
  ushort **ppuVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  byte bVar13;
  
  AdjustStackForLargeAllocations();
  *(undefined2 *)(DAT_005dcb3c + 0x4f1) = *(undefined2 *)(param_1 + 6);
  sVar4 = (uint)*(ushort *)(param_1 + 6) << 2;
  iVar10 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
  pvVar5 = _memset(pvVar5,iVar10,sVar4);
  uVar8 = 0;
  *(void **)(DAT_005dcb3c + 0x4f3) = pvVar5;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      sVar4 = 0x4a;
      iVar10 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(0x4a);
      pvVar5 = _memset(pvVar5,iVar10,sVar4);
      uVar7 = (uint)uVar8;
      uVar8 = uVar8 + 1;
      *(void **)(*(int *)(DAT_005dcb3c + 0x4f3) + uVar7 * 4) = pvVar5;
    } while (uVar8 < *(ushort *)(param_1 + 6));
  }
  iVar10 = param_1 + 8;
  uVar8 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    do {
      puVar2 = *(ushort **)(*(int *)(DAT_005dcb3c + 0x4f3) + (uint)uVar8 * 4);
      FUN_004ad7a0(puVar2,iVar10,0x22);
      sVar4 = 0x1c;
      iVar11 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(0x1c);
      pvVar5 = _memset(pvVar5,iVar11,sVar4);
      *(void **)(puVar2 + 0x11) = pvVar5;
      FUN_004ad7a0(pvVar5,iVar10 + 0x22,2);
      sVar4 = (uint)**(ushort **)(puVar2 + 0x11) << 2;
      iVar11 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar11,sVar4);
      *(void **)(*(int *)(puVar2 + 0x11) + 2) = pvVar5;
      FUN_004ad7a0(*(undefined4 *)(*(ushort **)(puVar2 + 0x11) + 1),iVar10 + 0x24,
                   (uint)**(ushort **)(puVar2 + 0x11) << 2);
      uVar3 = *puVar2;
      iVar10 = iVar10 + 0x24 + (uint)**(ushort **)(puVar2 + 0x11) * 4;
      if (uVar3 < 0x100) {
        sVar4 = (uint)uVar3 * 3;
        iVar11 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar11,sVar4);
        *(void **)(*(int *)(puVar2 + 0x11) + 6) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)(puVar2 + 0x11) + 6),iVar10,(uint)*puVar2 * 3);
        iVar11 = (uint)*puVar2 * 3;
      }
      else {
        sVar4 = (uint)uVar3 * 6;
        iVar11 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar11,sVar4);
        *(void **)(*(int *)(puVar2 + 0x11) + 10) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)(puVar2 + 0x11) + 10),iVar10,(uint)*puVar2 * 6);
        iVar11 = (uint)*puVar2 * 6;
      }
      FUN_004ad7a0(*(int *)(puVar2 + 0x11) + 0xe,iVar11 + iVar10,2);
      iVar10 = iVar11 + iVar10 + 2;
      sVar4 = (uint)*(ushort *)(*(int *)(puVar2 + 0x11) + 0xe) << 2;
      iVar11 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar11,sVar4);
      *(void **)(*(int *)(puVar2 + 0x11) + 0x10) = pvVar5;
      FUN_004ad7a0(*(undefined4 *)(*(int *)(puVar2 + 0x11) + 0x10),iVar10,
                   (uint)*(ushort *)(*(int *)(puVar2 + 0x11) + 0xe) << 2);
      uVar3 = *puVar2;
      iVar10 = iVar10 + (uint)*(ushort *)(*(int *)(puVar2 + 0x11) + 0xe) * 4;
      if (uVar3 < 0x100) {
        sVar4 = (uint)uVar3 << 1;
        iVar11 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar11,sVar4);
        *(void **)(*(int *)(puVar2 + 0x11) + 0x14) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)(puVar2 + 0x11) + 0x14),iVar10,(uint)*puVar2 << 1);
        iVar11 = (uint)*puVar2 * 2;
      }
      else {
        sVar4 = (uint)uVar3 << 2;
        iVar11 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar11,sVar4);
        *(void **)(*(int *)(puVar2 + 0x11) + 0x18) = pvVar5;
        FUN_004ad7a0(*(undefined4 *)(*(int *)(puVar2 + 0x11) + 0x18),iVar10,(uint)*puVar2 << 2);
        iVar11 = (uint)*puVar2 * 4;
      }
      sVar4 = (uint)puVar2[10] << 1;
      iVar12 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar12,sVar4);
      *(void **)(puVar2 + 0x15) = pvVar5;
      FUN_004ad7a0(pvVar5,iVar10 + iVar11,(uint)puVar2[10] << 1);
      uVar3 = 0;
      iVar10 = iVar10 + iVar11 + (uint)puVar2[10] * 2;
      if (puVar2[10] != 0) {
        do {
          psVar1 = (short *)(*(int *)(puVar2 + 0x15) + (uint)uVar3 * 2);
          *psVar1 = *psVar1 + DAT_005986e0;
          uVar3 = uVar3 + 1;
        } while (uVar3 < puVar2[10]);
      }
      sVar4 = (uint)puVar2[10] << 1;
      iVar11 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar11,sVar4);
      *(void **)(puVar2 + 0x17) = pvVar5;
      FUN_004ad7a0(pvVar5,iVar10,(uint)puVar2[10] << 1);
      ppuVar9 = (ushort **)(puVar2 + 0x1b);
      iVar12 = 4;
      uVar7 = (uint)*(byte *)(iVar10 + (uint)puVar2[10] * 2);
      iVar11 = iVar10 + (uint)puVar2[10] * 2 + 1;
      bVar13 = 0;
      do {
        if (((short)uVar7 != 0) && (1 << (bVar13 & 0x1f) != 0)) {
          sVar4 = 0xc;
          iVar10 = 0;
          pvVar5 = (void *)AllocateMemoryWithCallback(0xc);
          puVar6 = (ushort *)_memset(pvVar5,iVar10,sVar4);
          *ppuVar9 = puVar6;
          FUN_004ad7a0(puVar6 + 1,iVar11,2);
          FUN_004ad7a0(*ppuVar9,iVar11 + 2,2);
          sVar4 = (uint)(*ppuVar9)[1] << 2;
          iVar10 = 0;
          pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
          pvVar5 = _memset(pvVar5,iVar10,sVar4);
          *(void **)(*ppuVar9 + 2) = pvVar5;
          FUN_004ad7a0(*(undefined4 *)(*ppuVar9 + 2),iVar11 + 4,(uint)(*ppuVar9)[1] << 2);
          sVar4 = (uint)**ppuVar9 << 3;
          iVar10 = 0;
          iVar11 = iVar11 + 4 + (uint)(*ppuVar9)[1] * 4;
          pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
          pvVar5 = _memset(pvVar5,iVar10,sVar4);
          *(void **)(*ppuVar9 + 4) = pvVar5;
          uVar7 = (uint)**ppuVar9 << 3;
          FUN_004ad7a0(*(undefined4 *)(*ppuVar9 + 4),iVar11);
          iVar11 = iVar11 + (uint)**ppuVar9 * 8;
        }
        bVar13 = bVar13 + 1;
        ppuVar9 = ppuVar9 + 1;
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
      if (*puVar2 < 0x100) {
        sVar4 = (uint)puVar2[1] * 3;
        iVar10 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar10,sVar4);
        *(void **)(puVar2 + 0x23) = pvVar5;
        FUN_004ad7a0(pvVar5,iVar11,(uint)puVar2[1] * 3);
        iVar10 = (uint)puVar2[1] * 3;
      }
      else {
        sVar4 = (uint)puVar2[1] * 6;
        iVar10 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar10,sVar4);
        *(void **)(puVar2 + 0x23) = pvVar5;
        FUN_004ad7a0(pvVar5,iVar11,(uint)puVar2[1] * 6);
        iVar10 = (uint)puVar2[1] * 6;
      }
      iVar10 = iVar10 + iVar11;
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(ushort *)(param_1 + 6));
  }
  return;
}



void FUN_0045dc90(int param_1)

{
  size_t sVar1;
  void *pvVar2;
  uint uVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint *puVar6;
  short sVar7;
  short sVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  sVar1 = (uint)*(ushort *)(param_1 + 6) << 2;
  iVar10 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
  pvVar2 = _memset(pvVar2,iVar10,sVar1);
  sVar7 = 0;
  *(void **)(DAT_005dcb3c + 0x230) = pvVar2;
  *(uint *)(DAT_005dcb3c + 0x239) = (uint)*(ushort *)(param_1 + 6);
  if (*(short *)(param_1 + 6) != 0) {
    iVar10 = 0;
    do {
      sVar1 = 0xa9;
      iVar11 = 0;
      iVar9 = iVar10 * 4;
      pvVar2 = (void *)AllocateMemoryWithCallback(0xa9);
      pvVar2 = _memset(pvVar2,iVar11,sVar1);
      sVar1 = 0x44;
      iVar11 = 0;
      *(void **)(*(int *)(DAT_005dcb3c + 0x230) + iVar9) = pvVar2;
      pvVar2 = (void *)AllocateMemoryWithCallback(0x44);
      pvVar2 = _memset(pvVar2,iVar11,sVar1);
      *(void **)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar9) + 0x56) = pvVar2;
      iVar10 = param_1 + iVar10 * 0x42;
      FUN_004ad7a0(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar9) + 6,iVar10 + 0xe,0x40);
      *(undefined2 *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar9) + 0xa3) =
           *(undefined2 *)(iVar10 + 0xc);
      *(short *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar9) + 4) = sVar7;
      sVar7 = sVar7 + 1;
      iVar10 = (int)sVar7;
    } while (iVar10 < (int)(uint)*(ushort *)(param_1 + 6));
  }
  sVar7 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    iVar10 = 0;
    do {
      iVar9 = *(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar10 * 4);
      FUN_0045b630(iVar9,*(undefined4 *)
                          (*(int *)(DAT_005dcb3c + 0x4f3) + (uint)*(ushort *)(iVar9 + 0xa3) * 4));
      pbVar5 = (byte *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar10 * 4) + 0xa1);
      *pbVar5 = *pbVar5 | 7;
      sVar7 = sVar7 + 1;
      iVar10 = (int)sVar7;
    } while (iVar10 < (int)(uint)*(ushort *)(param_1 + 6));
  }
  sVar7 = 0;
  pbVar5 = (byte *)(param_1 + 0xc + (uint)*(ushort *)(param_1 + 6) * 0x42);
  if (*(ushort *)(param_1 + 6) != 0) {
    iVar10 = 0;
    iVar9 = DAT_005dcb3c;
    do {
      iVar10 = iVar10 * 4;
      sVar8 = 0;
      puVar6 = *(uint **)(*(int *)(*(int *)(iVar9 + 0x230) + iVar10) + 0x56);
      if (*puVar6 != 0) {
        uVar3 = 0;
        pbVar4 = pbVar5;
        do {
          pbVar5 = pbVar4 + 3;
          iVar11 = uVar3 * 0x20;
          puVar6 = (uint *)(puVar6[1] + 0x10 + iVar11);
          *puVar6 = *puVar6 | (uint)*pbVar4;
          puVar6 = (uint *)(*(int *)(*(int *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar10) +
                                             0x56) + 4) + 0x10 + iVar11);
          *puVar6 = *puVar6 | (uint)pbVar4[1] << 8;
          iVar9 = *(int *)(*(int *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar10) + 0x56) + 4);
          sVar8 = sVar8 + 1;
          *(uint *)(iVar9 + 0x10 + iVar11) =
               *(uint *)(iVar9 + 0x10 + iVar11) | (uint)pbVar4[2] << 0x10;
          uVar3 = (uint)sVar8;
          puVar6 = *(uint **)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + iVar10) + 0x56);
          pbVar4 = pbVar5;
          iVar9 = DAT_005dcb3c;
        } while (uVar3 < *puVar6);
      }
      sVar7 = sVar7 + 1;
      iVar10 = (int)sVar7;
    } while (iVar10 < (int)(uint)*(ushort *)(param_1 + 6));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0045df00(int param_1)

{
  ushort uVar1;
  undefined *puVar2;
  void *pvVar3;
  int iVar4;
  ushort *puVar5;
  undefined4 *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  int iVar9;
  size_t _Size;
  
  uVar7 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    puVar5 = (ushort *)(param_1 + 8);
    do {
      _Size = 0x1b;
      iVar9 = 0;
      pvVar3 = (void *)AllocateMemoryWithCallback(0x1b);
      pvVar3 = _memset(pvVar3,iVar9,_Size);
      *(void **)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*puVar5 * 4) + 0x9d) = pvVar3;
      FUN_004ad7a0(*(undefined4 *)
                    (*(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*puVar5 * 4) + 0x9d),puVar5 + 1
                   ,0x1b);
      uVar7 = uVar7 + 1;
      puVar5 = puVar5 + 0x99;
    } while (uVar7 < *(ushort *)(param_1 + 6));
  }
  _memset(&DAT_005dca20,0,0x5c);
  _memset(&DAT_005dca80,0,0x80);
  uVar7 = 0;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      iVar9 = *(int *)(*(int *)(DAT_005dcb3c + 0x230) + uVar7 * 4);
      puVar2 = *(undefined **)(iVar9 + 0x9d);
      *(byte *)(iVar9 + 0xa1) = *(byte *)(iVar9 + 0xa1) | 7;
      if (puVar2 != (undefined *)0x0) {
        switch(*puVar2) {
        case 0:
          if (*(int *)(puVar2 + 0xf) == 0xfe) {
            _DAT_005dca74 = uVar7;
          }
          if (*(int *)(*(int *)(iVar9 + 0x9d) + 0xf) == 0xff) {
            _DAT_005dca78 = uVar7;
            *(undefined2 *)(iVar9 + 0xa1) = 1;
          }
          if (*(int *)(*(int *)(iVar9 + 0x9d) + 0xf) == 0x100) goto switchD_0045dfe4_caseD_2;
          break;
        case 2:
        case 4:
switchD_0045dfe4_caseD_2:
          *(undefined2 *)(iVar9 + 0xa1) = 1;
          break;
        case 6:
          *(undefined2 *)(iVar9 + 0xa1) = 1;
          iVar4 = *(int *)(puVar2 + 0xf);
          if (iVar4 == 0) {
            puVar6 = (undefined4 *)(iVar9 + 6);
            puVar8 = &DAT_005dca20;
            for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
              *puVar8 = *puVar6;
              puVar6 = puVar6 + 1;
              puVar8 = puVar8 + 1;
            }
            _DAT_005dca70 = 0;
            _DAT_005dca6c = uVar7;
          }
          else if (iVar4 == 1) {
            _DAT_005dca60 = *(undefined4 *)(iVar9 + 0x36);
            _DAT_005dca64 = *(undefined4 *)(iVar9 + 0x3a);
            _DAT_005dca68 = *(undefined4 *)(iVar9 + 0x3e);
          }
          else if (iVar4 == 2) {
            *(float *)(&DAT_005dca80 + DAT_005dcaf8 * 0xc) =
                 (*(float *)(iVar9 + 0x85) + *(float *)(iVar9 + 0x79)) * 0.5;
            *(float *)(&DAT_005dca84 + DAT_005dcaf8 * 0xc) =
                 (*(float *)(iVar9 + 0x89) + *(float *)(iVar9 + 0x7d)) * 0.5;
            *(float *)(&DAT_005dca88 + DAT_005dcaf8 * 0xc) =
                 (*(float *)(iVar9 + 0x81) + *(float *)(iVar9 + 0x8d)) * 0.5;
            if (DAT_005dcaf8 < 5) {
              DAT_005dcaf8 = DAT_005dcaf8 + 1;
            }
          }
          break;
        case 7:
          *(undefined2 *)(iVar9 + 0xa1) = 0;
        }
        uVar1 = *(ushort *)(*(int *)(iVar9 + 0x9d) + 1);
        if (uVar1 != 0) {
          if ((uVar1 & 1) != 0) {
            *(undefined2 *)(iVar9 + 0xa1) = 4;
          }
          if ((uVar1 & 4) != 0) {
            *(undefined2 *)(iVar9 + 0xa1) = 5;
          }
          if (((uVar1 & 0x80) != 0) &&
             ((iVar4 = *(int *)(*(int *)(iVar9 + 0x9d) + 0xf), iVar4 == 2 || (iVar4 == 4)))) {
            *(ushort *)(iVar9 + 0xa1) = *(ushort *)(iVar9 + 0xa1) & 0xfffb;
          }
          if ((uVar1 & 0x100) != 0) {
            *(undefined2 *)(iVar9 + 0xa1) = 3;
          }
        }
      }
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)(DAT_005dcb3c + 0x239));
  }
  return;
}



void FUN_0045e1b0(int param_1)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  int iVar5;
  int iVar6;
  void *pvVar7;
  void *pvVar8;
  uint *puVar9;
  uint uVar10;
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined4 *puVar14;
  int local_20;
  int iVar15;
  int iVar16;
  size_t sVar17;
  int iVar18;
  int iVar19;
  
  AdjustStackForLargeAllocations();
  iVar11 = 0;
  iVar19 = 0;
  iVar18 = 0;
  sVar17 = 0;
  iVar15 = 0;
  pvVar7 = (void *)AllocateMemoryWithCallback((uint)*(ushort *)(param_1 + 6) << 2,0,0,0,0);
  pvVar7 = _memset(pvVar7,iVar15,sVar17);
  *(void **)(DAT_005dcb3c + 0x241) = pvVar7;
  *(uint *)(DAT_005dcb3c + 0x23d) = (uint)*(ushort *)(param_1 + 6);
  iVar2 = (uint)*(ushort *)(param_1 + 6) * 0x41 + 0x18 + param_1;
  iVar15 = iVar2 + *(int *)(param_1 + 8) * 0x26;
  iVar5 = *(int *)(param_1 + 0x10);
  iVar1 = iVar15 + *(int *)(param_1 + 0xc) * 0x2e;
  if (*(ushort *)(param_1 + 6) != 0) {
    iVar13 = param_1 + 0x1a;
    do {
      sVar17 = 0x87;
      iVar16 = 0;
      iVar6 = *(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*(ushort *)(iVar13 + -2) * 4);
      pvVar7 = (void *)AllocateMemoryWithCallback(0x87);
      pvVar7 = _memset(pvVar7,iVar16,sVar17);
      *(void **)(iVar6 + 0x5b) = pvVar7;
      FUN_004ad7a0(pvVar7,iVar13,0x3f);
      sVar17 = (uint)*(byte *)(*(int *)(iVar6 + 0x5b) + 0x10) * 0x32;
      iVar13 = 0;
      pvVar7 = (void *)AllocateMemoryWithCallback(sVar17);
      pvVar7 = _memset(pvVar7,iVar13,sVar17);
      *(void **)(*(int *)(iVar6 + 0x5b) + 0x7f) = pvVar7;
      sVar17 = (uint)*(byte *)(*(int *)(iVar6 + 0x5b) + 0x11) * 0x2e;
      iVar13 = 0;
      pvVar7 = (void *)AllocateMemoryWithCallback(sVar17);
      local_20 = 0x45e2f1;
      pvVar8 = _memset(pvVar7,iVar13,sVar17);
      uVar10 = 0;
      *(void **)(*(int *)(iVar6 + 0x5b) + 0x83) = pvVar8;
      puVar9 = *(uint **)(iVar6 + 0x56);
      if (*puVar9 != 0) {
        iVar13 = 0;
        do {
          uVar10 = uVar10 + 1;
          *(float *)(puVar9[1] + iVar13) =
               *(float *)(puVar9[1] + iVar13) - *(float *)(*(int *)(iVar6 + 0x5b) + 4);
          iVar16 = *(int *)(*(int *)(iVar6 + 0x56) + 4);
          *(float *)(iVar16 + 4 + iVar13) =
               *(float *)(iVar16 + 4 + iVar13) - *(float *)(*(int *)(iVar6 + 0x5b) + 8);
          iVar16 = *(int *)(*(int *)(iVar6 + 0x56) + 4);
          pfVar3 = (float *)(iVar16 + 8 + iVar13);
          pfVar4 = (float *)(iVar16 + 8 + iVar13);
          iVar13 = iVar13 + 0x20;
          *pfVar4 = *pfVar3 - *(float *)(*(int *)(iVar6 + 0x5b) + 0xc);
          puVar9 = *(uint **)(iVar6 + 0x56);
        } while (uVar10 < *puVar9);
      }
      iVar13 = *(int *)(iVar6 + 0x5b);
      iVar16 = 0;
      uVar10 = 0;
      if (*(char *)(iVar13 + 0x10) != '\0') {
        iVar11 = iVar2 + iVar11 * 0x26;
        do {
          iVar19 = iVar19 + 1;
          pvVar7 = (void *)(*(int *)(iVar13 + 0x7f) + iVar16);
          local_20 = 0x45e384;
          FUN_004ad7a0(pvVar7,iVar11,0x26);
          iVar13 = *(int *)(iVar6 + 0x5b);
          uVar10 = uVar10 + 1;
          iVar16 = iVar16 + 0x32;
          iVar11 = iVar11 + 0x26;
        } while (uVar10 < *(byte *)(iVar13 + 0x10));
      }
      iVar11 = iVar19;
      puVar12 = (undefined4 *)(iVar6 + 6);
      puVar14 = (undefined4 *)(*(int *)(iVar6 + 0x5b) + 0x3f);
      for (iVar19 = 0x10; iVar19 != 0; iVar19 = iVar19 + -1) {
        *puVar14 = *puVar12;
        puVar12 = puVar12 + 1;
        puVar14 = puVar14 + 1;
      }
      iVar19 = *(int *)(iVar6 + 0x5b);
      iVar13 = 0;
      uVar10 = 0;
      if (*(char *)(iVar19 + 0x11) != '\0') {
        iVar16 = iVar15 + iVar18 * 0x2e;
        do {
          iVar18 = iVar18 + 1;
          pvVar7 = (void *)(*(int *)(iVar19 + 0x83) + iVar13);
          local_20 = 0x45e3ed;
          FUN_004ad7a0(pvVar7,iVar16,0x2e);
          iVar19 = *(int *)(iVar6 + 0x5b);
          uVar10 = uVar10 + 1;
          iVar13 = iVar13 + 0x2e;
          iVar16 = iVar16 + 0x2e;
        } while (uVar10 < *(byte *)(iVar19 + 0x11));
      }
      iVar19 = *(int *)(iVar6 + 0x5b);
      iVar13 = 0;
      uVar10 = 0;
      if (*(char *)(iVar19 + 0x10) != '\0') {
        iVar16 = *(int *)(iVar19 + 0x7f);
        do {
          sVar17 = *(size_t *)(iVar13 + 0x1c + iVar16);
          if (sVar17 != 0) {
            iVar19 = 0;
            pvVar7 = (void *)AllocateMemoryWithCallback(sVar17);
            pvVar7 = _memset(pvVar7,iVar19,sVar17);
            *(void **)(*(int *)(*(int *)(iVar6 + 0x5b) + 0x7f) + 0x2a + iVar13) = pvVar7;
            iVar19 = *(int *)(*(int *)(iVar6 + 0x5b) + 0x7f);
            pvVar7 = *(void **)(iVar19 + iVar13 + 0x2a);
            local_20 = 0x45e463;
            FUN_004ad7a0(pvVar7,iVar1 + *(int *)(iVar19 + 0x1c + iVar13));
            iVar19 = *(int *)(iVar6 + 0x5b);
            iVar16 = *(int *)(iVar19 + 0x7f);
          }
          sVar17 = *(size_t *)(iVar13 + 0x20 + iVar16);
          if (sVar17 != 0) {
            iVar16 = 0;
            pvVar7 = (void *)AllocateMemoryWithCallback(sVar17);
            pvVar7 = _memset(pvVar7,iVar16,sVar17);
            *(void **)(*(int *)(*(int *)(iVar6 + 0x5b) + 0x7f) + 0x2e + iVar13) = pvVar7;
            iVar19 = *(int *)(*(int *)(iVar6 + 0x5b) + 0x7f) + iVar13;
            pvVar7 = *(void **)(iVar19 + 0x2e);
            local_20 = 0x45e4bd;
            FUN_004ad7a0(pvVar7,iVar5 + iVar1 + iVar16,*(undefined4 *)(iVar19 + 0x20));
            iVar19 = *(int *)(iVar6 + 0x5b);
            iVar16 = *(int *)(iVar19 + 0x7f);
          }
          uVar10 = uVar10 + 1;
          iVar13 = iVar13 + 0x32;
        } while (uVar10 < *(byte *)(iVar19 + 0x10));
      }
      *(int *)(*(int *)(DAT_005dcb3c + 0x241) + -4 + (local_20 + 1U) * 4) = iVar6;
      iVar19 = *(int *)(iVar6 + 0x5b);
      *(undefined4 *)(iVar6 + 0x36) = **(undefined4 **)(iVar19 + 0x7f);
      *(undefined4 *)(iVar6 + 0x3a) = *(undefined4 *)(*(int *)(iVar19 + 0x7f) + 4);
      *(undefined4 *)(iVar6 + 0x3e) = *(undefined4 *)(*(int *)(iVar19 + 0x7f) + 8);
      puVar12 = (undefined4 *)(iVar6 + 6);
      puVar14 = (undefined4 *)(iVar19 + 0x3f);
      for (iVar13 = 0x10; iVar13 != 0; iVar13 = iVar13 + -1) {
        *puVar14 = *puVar12;
        puVar12 = puVar12 + 1;
        puVar14 = puVar14 + 1;
      }
      iVar13 = (int)pvVar7 + 0x41;
      iVar19 = iVar11;
    } while (local_20 + 1U < (uint)*(ushort *)(param_1 + 6));
  }
  FUN_0045b280(DAT_005dcb24);
  FUN_0045b360(DAT_005dcb24);
  uVar10 = 0;
  if (*(int *)(DAT_005dcb3c + 0x239) != 0) {
    do {
      FUN_0045bb90(*(undefined4 *)(*(int *)(DAT_005dcb3c + 0x230) + uVar10 * 4));
      uVar10 = uVar10 + 1;
    } while (uVar10 < *(uint *)(DAT_005dcb3c + 0x239));
  }
  FUN_0045b3d0(DAT_005dcb24);
  FUN_0045c0d0();
  FUN_0045c450();
  FUN_0045c4e0();
  return;
}



void FUN_0045e5d0(int param_1)

{
  void *pvVar1;
  ushort *puVar2;
  uint uVar3;
  int _Val;
  size_t _Size;
  
  uVar3 = 0;
  if (*(short *)(param_1 + 6) != 0) {
    puVar2 = (ushort *)(param_1 + 8);
    do {
      _Size = 0xb;
      _Val = 0;
      pvVar1 = (void *)AllocateMemoryWithCallback(0xb);
      pvVar1 = _memset(pvVar1,_Val,_Size);
      *(void **)(*(int *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*puVar2 * 4) + 0x9d) +
                0x17) = pvVar1;
      uVar3 = uVar3 + 1;
      *(ushort *)
       (*(int *)(*(int *)(*(int *)(*(int *)(DAT_005dcb3c + 0x230) + (uint)*puVar2 * 4) + 0x9d) +
                0x17) + 4) = puVar2[1];
      puVar2 = puVar2 + 2;
    } while (uVar3 < *(ushort *)(param_1 + 6));
  }
  FUN_004156d0();
  return;
}



void FUN_0045e660(int param_1)

{
  short sVar1;
  undefined4 *puVar2;
  
  FUN_004ad7a0(&DAT_005dca18,param_1 + 6,6);
  sVar1 = DAT_005986e0;
  puVar2 = &DAT_005dca18;
  do {
    *(short *)puVar2 = *(short *)puVar2 + sVar1;
    puVar2 = (undefined4 *)((int)puVar2 + 2);
  } while ((int)puVar2 < 0x5dca1e);
  return;
}



void FUN_0045e6a0(int param_1)

{
  size_t _Size;
  void *_Dst;
  int _Val;
  
  _Size = (uint)*(ushort *)(param_1 + 6) * 0xe;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_005dca10 = _memset(_Dst,_Val,_Size);
  FUN_004ad7a0(DAT_005dca10,param_1 + 8,(uint)*(ushort *)(param_1 + 6) * 0xe);
  DAT_005dca0c = *(undefined2 *)(param_1 + 6);
  return;
}



void FUN_0045e700(void)

{
  if (DAT_005dca10 != 0) {
    FreeMemory(DAT_005dca10);
    DAT_005dca10 = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0045e720(uint param_1)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  size_t sVar5;
  void *pvVar6;
  ushort uVar7;
  uint uVar8;
  int iVar9;
  int _Val;
  
  iVar4 = param_1;
  AdjustStackForLargeAllocations();
  _DAT_005dca04 = *(undefined4 *)(param_1 + 8);
  _DAT_005dca08 = *(undefined4 *)(param_1 + 0xc);
  uVar7 = *(ushort *)(param_1 + 6);
  uVar8 = (uint)uVar7;
  if (uVar7 != 0) {
    do {
      uVar8 = uVar8 - 1;
    } while (uVar8 != 0);
  }
  if (DAT_005dcb0c == 0) {
    sVar5 = (uint)uVar7 * 0x2e;
    iVar9 = 0;
    pvVar6 = (void *)AllocateMemoryWithCallback(sVar5);
    pvVar6 = _memset(pvVar6,iVar9,sVar5);
  }
  else {
    DAT_005986e0 = DAT_005dcb0c;
    sVar5 = ((uint)DAT_005dcb0c + (uint)*(ushort *)(param_1 + 6)) * 0x2e;
    iVar9 = 0;
    pvVar6 = (void *)AllocateMemoryWithCallback(sVar5);
    pvVar6 = _memset(pvVar6,iVar9,sVar5);
    FUN_004ad7a0(pvVar6,DAT_005dca00,(uint)DAT_005dcb0c * 0x2e);
    if (DAT_005dca00 != (void *)0x0) {
      FreeMemory(DAT_005dca00);
    }
  }
  DAT_005dca00 = pvVar6;
  DAT_005986d4 = *(short *)(param_1 + 6);
  uVar8 = (uint)DAT_005dcb0c;
  puVar1 = (ushort *)(param_1 + 6);
  param_1 = (uint)DAT_005dcb0c;
  if (uVar8 < *puVar1 + uVar8) {
    do {
      sVar5 = 0xb;
      iVar9 = 0;
      pvVar6 = (void *)AllocateMemoryWithCallback(0xb);
      pvVar6 = _memset(pvVar6,iVar9,sVar5);
      param_1 = param_1 + 1;
      *(void **)((int)DAT_005dca00 + uVar8 * 0x2e + 0x13) = pvVar6;
      uVar8 = param_1 & 0xffff;
    } while (uVar8 < (uint)DAT_005dcb0c + (uint)*(ushort *)(iVar4 + 6));
  }
  uVar7 = 0;
  iVar9 = iVar4 + 0x10 + (uint)*(ushort *)(iVar4 + 6) * 6;
  if (*(ushort *)(iVar4 + 6) != 0) {
    do {
      iVar2 = iVar4 + (uint)uVar7 * 6;
      iVar3 = *(int *)((int)DAT_005dca00 + ((uint)DAT_005dcb0c + (uint)uVar7) * 0x2e + 0x13);
      FUN_004ad7a0(iVar3,iVar2 + 0x10,6);
      uVar8 = (uint)*(ushort *)(iVar2 + 0x14);
      _Val = 0;
      pvVar6 = (void *)AllocateMemoryWithCallback(uVar8);
      pvVar6 = _memset(pvVar6,_Val,uVar8);
      *(void **)(iVar3 + 7) = pvVar6;
      FUN_004ad7a0(pvVar6,iVar9,*(undefined2 *)(iVar2 + 0x14));
      iVar9 = iVar9 + (uint)*(ushort *)(iVar2 + 0x14);
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(ushort *)(iVar4 + 6));
  }
  DAT_005dcb0c = DAT_005dcb0c + DAT_005986d4;
  return;
}



void FUN_0045e950(int param_1)

{
  size_t _Size;
  void *_Dst;
  int _Val;
  
  _Size = *(int *)(param_1 + 6) + 8;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_005986e8 = _memset(_Dst,_Val,_Size);
  FUN_004ad7a0(DAT_005986e8,param_1 + 0xc,*(undefined4 *)(param_1 + 6));
  DAT_00599084 = DAT_005986e8;
  DAT_005b2840 = *(int *)(param_1 + 6);
  DAT_005b279e._0_2_ = *(undefined2 *)(param_1 + 10);
  DAT_00598f28 = -(uint)(*(int *)(param_1 + 6) != 0) & 2;
  return;
}



void FUN_0045e9c0(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  
  puVar2 = &DAT_005dc800;
  do {
    uVar1 = FUN_004af640();
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while ((int)puVar2 < 0x5dc9fe);
  return;
}



float10 FUN_0045e9e0(void)

{
  uint uVar1;
  
  AdjustStackForLargeAllocations();
  uVar1 = FUN_0045fe00();
  return (float10)(uVar1 & 0xffff) * (float10)3.051758e-05;
}



void FUN_0045ea10(void)

{
  float *pfVar1;
  float10 fVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  pfVar1 = (float *)&DAT_005d8800;
  do {
    fVar2 = (float10)FUN_004ae014((double)((float)iVar3 * 0.001570796));
    *pfVar1 = (float)fVar2;
    pfVar1 = pfVar1 + 1;
    iVar3 = iVar3 + 1;
  } while ((int)pfVar1 < 0x5dc800);
  return;
}



float10 FUN_0045ea60(void)

{
  uint uVar1;
  
  uVar1 = __ftol();
  return (float10)(float)(&DAT_005d8800)[uVar1 & 0xfff];
}



float10 FUN_0045ea80(void)

{
  uint uVar1;
  
  uVar1 = __ftol();
  return (float10)(float)(&DAT_005d8800)[uVar1 & 0xfff];
}



float * FUN_0045eab0(float *param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_1[2] * param_1[2];
  fVar2 = param_1[1] * param_1[1];
  fVar3 = *param_1 * *param_1;
  if (((uint)fVar1 | (uint)fVar2 | (uint)fVar3) != 0) {
    fVar4 = (float10)FUN_004ad534((double)(fVar1 + fVar2 + fVar3));
    fVar4 = (float10)1.0 / fVar4;
    *param_1 = (float)(fVar4 * (float10)*param_1);
    param_1[1] = (float)(fVar4 * (float10)param_1[1]);
    param_1[2] = (float)(fVar4 * (float10)param_1[2]);
  }
  return param_1;
}



void FUN_0045eb50(float *param_1,float *param_2,float *param_3)

{
  *param_1 = param_3[2] * param_2[1] - param_2[2] * param_3[1];
  param_1[1] = *param_3 * param_2[2] - *param_2 * param_3[2];
  param_1[2] = *param_2 * param_3[1] - *param_3 * param_2[1];
  return;
}



float10 FUN_0045eba0(float *param_1,float *param_2)

{
  return (float10)*param_2 * (float10)*param_1 +
         (float10)param_1[2] * (float10)param_2[2] + (float10)param_1[1] * (float10)param_2[1];
}



void FUN_0045ebd0(float *param_1,float *param_2,float *param_3)

{
  *param_1 = *param_2 - *param_3;
  param_1[1] = param_2[1] - param_3[1];
  param_1[2] = param_2[2] - param_3[2];
  return;
}



void FUN_0045ec00(float *param_1,float *param_2,float param_3)

{
  *param_1 = param_3 * *param_2;
  param_1[1] = param_2[1] * param_3;
  param_1[2] = param_2[2] * param_3;
  return;
}



void FUN_0045ec30(float *param_1,float *param_2,float *param_3)

{
  *param_1 = *param_2 + *param_3;
  param_1[1] = param_3[1] + param_2[1];
  param_1[2] = param_3[2] + param_2[2];
  return;
}



float10 FUN_0045ec60(float param_1)

{
  if (0.0 <= param_1) {
    return (float10)param_1;
  }
  return -(float10)param_1;
}



void FUN_0045ec80(float *param_1,float *param_2,float *param_3)

{
  *param_1 = *param_2 - *param_3;
  param_1[1] = param_2[1] - param_3[1];
  param_1[2] = param_2[2] - param_3[2];
  return;
}



void FUN_0045ecb0(float *param_1,float *param_2,float *param_3)

{
  int iVar1;
  float *pfVar2;
  float local_44 [4];
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  
  AdjustStackForLargeAllocations();
  local_44[0] = *param_3 * *param_2 +
                param_2[3] * param_3[0xc] + param_2[2] * param_3[8] + param_2[1] * param_3[4];
  local_44[1] = param_3[0xd] * param_2[3] +
                param_2[2] * param_3[9] + param_2[1] * param_3[5] + *param_2 * param_3[1];
  local_44[2] = param_2[1] * param_3[6] +
                param_2[3] * param_3[0xe] + param_2[2] * param_3[10] + *param_2 * param_3[2];
  local_44[3] = param_3[0xf] * param_2[3] +
                param_3[0xb] * param_2[2] + param_3[7] * param_2[1] + *param_2 * param_3[3];
  local_34 = param_2[6] * param_3[8] +
             param_2[5] * param_3[4] + param_2[7] * param_3[0xc] + *param_3 * param_2[4];
  local_30 = param_2[7] * param_3[0xd] +
             param_2[4] * param_3[1] + param_2[6] * param_3[9] + param_2[5] * param_3[5];
  local_2c = param_2[4] * param_3[2] +
             param_2[6] * param_3[10] + param_2[5] * param_3[6] + param_2[7] * param_3[0xe];
  local_28 = param_2[5] * param_3[7] +
             param_2[6] * param_3[0xb] + param_2[7] * param_3[0xf] + param_3[3] * param_2[4];
  local_24 = param_2[9] * param_3[4] +
             param_2[0xb] * param_3[0xc] + param_2[10] * param_3[8] + *param_3 * param_2[8];
  local_20 = param_2[9] * param_3[5] +
             param_2[0xb] * param_3[0xd] + param_2[8] * param_3[1] + param_2[10] * param_3[9];
  local_1c = param_2[9] * param_3[6] +
             param_2[10] * param_3[10] + param_2[0xb] * param_3[0xe] + param_2[8] * param_3[2];
  local_18 = param_3[7] * param_2[9] +
             param_2[0xb] * param_3[0xf] + param_2[10] * param_3[0xb] + param_2[8] * param_3[3];
  local_14 = param_2[0xd] * param_3[4] +
             param_2[0xf] * param_3[0xc] + param_2[0xe] * param_3[8] + *param_3 * param_2[0xc];
  local_10 = param_2[0xd] * param_3[5] +
             param_2[0xe] * param_3[9] + param_2[0xc] * param_3[1] + param_2[0xf] * param_3[0xd];
  pfVar2 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *param_1 = *pfVar2;
    pfVar2 = pfVar2 + 1;
    param_1 = param_1 + 1;
  }
  return;
}



// /*
//  * Function: MultiplyMatrices
//  * Description:
//  *   This function multiplies two 4x4 matrices (`param_2` and `param_3`) and stores the result in
// `param_1`.
//  *   The matrices are represented as flat arrays of 16 floats, in row-major order.
//  */

void MultiplyMatrices(float *param_1,float *param_2,float *param_3)

{
  int iVar1;
  float *pfVar2;
  float local_44 [4];
  float local_34;
  float local_30;
  float local_2c;
  undefined4 local_28;
  float local_24;
  float local_20;
  float local_1c;
  undefined4 local_18;
  float local_14;
  float local_10;
  
  AdjustStackForLargeAllocations();
  local_44[3] = 0.0;
  local_44[0] = *param_2 * *param_3 + param_2[2] * param_3[8] + param_2[1] * param_3[4];
  local_44[1] = param_3[5] * param_2[1] + param_3[9] * param_2[2] + *param_2 * param_3[1];
  local_44[2] = param_3[10] * param_2[2] + param_3[6] * param_2[1] + *param_2 * param_3[2];
  local_34 = param_2[5] * param_3[4] + param_2[6] * param_3[8] + *param_3 * param_2[4];
  local_30 = param_2[4] * param_3[1] + param_2[6] * param_3[9] + param_2[5] * param_3[5];
  local_28 = 0;
  local_18 = 0;
  local_2c = param_2[5] * param_3[6] + param_2[6] * param_3[10] + param_2[4] * param_3[2];
  local_24 = param_2[9] * param_3[4] + param_2[10] * param_3[8] + *param_3 * param_2[8];
  local_20 = param_2[8] * param_3[1] + param_2[9] * param_3[5] + param_2[10] * param_3[9];
  local_1c = param_3[10] * param_2[10] + param_3[6] * param_2[9] + param_3[2] * param_2[8];
  local_14 = param_2[0xd] * param_3[4] + param_2[0xe] * param_3[8] + *param_3 * param_2[0xc] +
             param_3[0xc];
  local_10 = param_2[0xe] * param_3[9] + param_2[0xc] * param_3[1] + param_2[0xd] * param_3[5] +
             param_3[0xd];
  pfVar2 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *param_1 = *pfVar2;
    pfVar2 = pfVar2 + 1;
    param_1 = param_1 + 1;
  }
  return;
}



void FUN_0045f140(undefined4 *param_1,undefined4 *param_2)

{
  *param_1 = *param_2;
  param_1[1] = param_2[4];
  param_1[2] = param_2[8];
  param_1[3] = param_2[3];
  param_1[4] = param_2[1];
  param_1[5] = param_2[5];
  param_1[6] = param_2[9];
  param_1[7] = param_2[7];
  param_1[8] = param_2[2];
  param_1[9] = param_2[6];
  param_1[10] = param_2[10];
  param_1[0xb] = param_2[0xb];
  param_1[0xc] = -(float)param_2[0xc];
  param_1[0xd] = -(float)param_2[0xd];
  param_1[0xe] = -(float)param_2[0xe];
  param_1[0xf] = param_2[0xf];
  return;
}



void FUN_0045f1b0(undefined4 *param_1,float *param_2,float *param_3)

{
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined4 *local_10;
  undefined4 **local_c;
  undefined4 **local_8;
  
  local_8 = (undefined4 **)0x45f1bd;
  AdjustStackForLargeAllocations();
  local_1c = *param_2;
  local_18 = param_2[1];
  local_14 = param_2[2];
  local_8 = (undefined4 **)&local_1c;
  local_c = (undefined4 **)0x45f1da;
  FUN_0045eab0();
  local_10 = (undefined4 *)
             (*param_3 -
             local_1c * (param_3[2] * local_14 + param_3[1] * local_18 + *param_3 * local_1c));
  local_8 = &local_10;
  local_c = (undefined4 **)0x45f247;
  FUN_0045eab0();
  local_8 = (undefined4 **)&local_1c;
  local_c = &local_10;
  local_10 = &local_28;
  local_14 = 6.42359e-39;
  FUN_0045eb50();
  *param_1 = local_28;
  param_1[1] = local_24;
  param_1[2] = local_20;
  param_1[4] = local_10;
  param_1[5] = local_c;
  param_1[6] = local_8;
  param_1[8] = local_1c;
  param_1[9] = local_18;
  param_1[10] = local_14;
  return;
}



void FUN_0045f2b0(float *param_1,float param_2,float *param_3,float *param_4,float *param_5,
                 float *param_6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  undefined4 unaff_EDI;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_2 * param_2;
  fVar2 = param_2 * fVar1;
  _local_10 = (double)CONCAT44(unaff_EDI,SUB84((double)fVar2,0));
  fVar4 = (param_2 * -1.0 + fVar2 * -1.0 + fVar1 + fVar1) * 0.5;
  fVar3 = ((fVar2 * 3.0 + fVar1 * -5.0) - -2.0) * 0.5;
  fVar2 = (param_2 + fVar2 * -3.0 + fVar1 * 4.0) * 0.5;
  fVar1 = ((float)_local_10 + fVar1 * -1.0) * 0.5;
  *param_1 = fVar1 * *param_6 + fVar2 * *param_5 + fVar3 * *param_4 + fVar4 * *param_3;
  param_1[1] = param_6[1] * fVar1 + param_5[1] * fVar2 + param_4[1] * fVar3 + param_3[1] * fVar4;
  param_1[2] = param_6[2] * fVar1 + param_5[2] * fVar2 + param_4[2] * fVar3 + param_3[2] * fVar4;
  return;
}



void FUN_0045f420(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  
  AdjustStackForLargeAllocations();
  if (param_3 == param_1) {
    fVar1 = param_2[6];
    fVar2 = param_2[10];
    fVar3 = param_2[2];
    fVar4 = param_3[1];
    fVar5 = param_2[4];
    fVar6 = param_3[2];
    fVar7 = param_2[8];
    fVar8 = *param_3;
    fVar9 = *param_3;
    fVar10 = param_3[1];
    fVar11 = param_2[0xe];
    fVar12 = param_3[2];
    fVar13 = *param_2;
    fVar14 = param_2[0xc];
    param_1[1] = param_2[1] * *param_3 + param_2[9] * param_3[2] + param_2[5] * param_3[1] +
                 param_2[0xd];
    param_1[2] = fVar3 * fVar8 + fVar2 * fVar6 + fVar1 * fVar4 + fVar11;
    *param_1 = fVar9 * fVar13 + fVar7 * fVar12 + fVar5 * fVar10 + fVar14;
    return;
  }
  *param_1 = *param_3 * *param_2 + param_2[8] * param_3[2] + param_2[4] * param_3[1] + param_2[0xc];
  param_1[1] = param_2[1] * *param_3 + param_2[9] * param_3[2] + param_2[5] * param_3[1] +
               param_2[0xd];
  param_1[2] = param_2[2] * *param_3 + param_2[10] * param_3[2] + param_2[6] * param_3[1] +
               param_2[0xe];
  return;
}



void FUN_0045f520(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  
  AdjustStackForLargeAllocations();
  if (param_3 == param_1) {
    fVar1 = param_2[6];
    fVar2 = param_2[10];
    fVar3 = param_2[2];
    fVar4 = param_3[1];
    fVar5 = param_2[4];
    fVar6 = param_3[2];
    fVar7 = param_2[8];
    fVar8 = *param_3;
    fVar9 = *param_3;
    fVar10 = param_3[1];
    fVar11 = param_2[0xe];
    fVar12 = param_3[2];
    fVar13 = *param_2;
    fVar14 = param_2[0xc];
    param_1[1] = param_2[1] * *param_3 + param_2[9] * param_3[2] + param_2[5] * param_3[1] +
                 param_2[0xd];
    param_1[2] = fVar3 * fVar8 + fVar2 * fVar6 + fVar1 * fVar4 + fVar11;
    *param_1 = fVar9 * fVar13 + fVar7 * fVar12 + fVar5 * fVar10 + fVar14;
    return;
  }
  *param_1 = *param_3 * *param_2 + param_2[8] * param_3[2] + param_2[4] * param_3[1] + param_2[0xc];
  param_1[1] = param_2[1] * *param_3 + param_2[9] * param_3[2] + param_2[5] * param_3[1] +
               param_2[0xd];
  param_1[2] = param_2[2] * *param_3 + param_2[10] * param_3[2] + param_2[6] * param_3[1] +
               param_2[0xe];
  return;
}



void FUN_0045f620(float *param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_2[6];
  fVar2 = param_2[10];
  fVar3 = param_2[2];
  fVar4 = param_1[1];
  fVar5 = param_2[4];
  fVar6 = param_2[8];
  fVar7 = *param_2;
  fVar8 = param_1[1];
  fVar9 = param_2[0xe];
  fVar10 = param_1[2];
  fVar11 = param_2[0xc];
  param_1[1] = param_2[1] * *param_1 + param_2[9] * param_1[2] + param_2[5] * param_1[1] +
               param_2[0xd];
  param_1[2] = fVar3 * *param_1 + fVar2 * param_1[2] + fVar1 * fVar4 + fVar9;
  *param_1 = fVar7 * *param_1 + fVar6 * fVar10 + fVar5 * fVar8 + fVar11;
  return;
}



void FUN_0045f6b0(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_2[5];
  fVar2 = param_2[9];
  fVar3 = param_2[6];
  fVar4 = param_3[1];
  fVar5 = param_2[10];
  fVar6 = param_3[2];
  fVar7 = param_2[1];
  fVar8 = param_3[1];
  fVar9 = param_2[2];
  fVar10 = param_3[2];
  fVar11 = *param_3;
  fVar12 = *param_3;
  fVar13 = param_2[0xd];
  fVar14 = param_2[0xe];
  *param_1 = *param_2 * *param_3 + param_2[8] * param_3[2] + param_2[4] * param_3[1] + param_2[0xc];
  param_1[1] = fVar7 * fVar11 + fVar2 * fVar6 + fVar1 * fVar4 + fVar13;
  param_1[2] = fVar9 * fVar12 + fVar5 * fVar10 + fVar3 * fVar8 + fVar14;
  return;
}



float * FUN_0045f760(float *param_1,float *param_2,float *param_3)

{
  int iVar1;
  float *pfVar2;
  float local_5c [4];
  float local_4c;
  float local_48;
  float local_44;
  float local_3c;
  float local_38;
  float local_34;
  float local_2c;
  float local_28;
  float local_24;
  
  AdjustStackForLargeAllocations();
  pfVar2 = local_5c;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *pfVar2 = *param_2;
    param_2 = param_2 + 1;
    pfVar2 = pfVar2 + 1;
  }
  local_2c = local_2c + *param_3;
  local_28 = local_28 + param_3[1];
  local_24 = local_24 + param_3[2];
  *param_1 = local_3c * local_24 + local_4c * local_28 + local_5c[0] * local_2c;
  param_1[1] = local_38 * local_24 + local_48 * local_28 + local_5c[1] * local_2c;
  param_1[2] = local_34 * local_24 + local_44 * local_28 + local_5c[2] * local_2c;
  return param_1;
}



void FUN_0045f830(float *param_1,float *param_2,float *param_3)

{
  *param_3 = *param_2 * *param_1 + param_1[4] * param_2[1] + param_1[8] * param_2[2] + param_1[0xc];
  param_3[1] = param_1[1] * *param_2 + param_1[5] * param_2[1] + param_1[9] * param_2[2] +
               param_1[0xd];
  param_3[2] = param_1[2] * *param_2 + param_1[6] * param_2[1] + param_1[10] * param_2[2] +
               param_1[0xe];
  return;
}



void FUN_0045f8b0(float *param_1,float *param_2,float *param_3)

{
  *param_3 = *param_2 * *param_1 + param_1[8] * param_2[2] + param_1[4] * param_2[1] + param_1[0xc];
  param_3[1] = param_1[1] * *param_2 + param_1[9] * param_2[2] + param_1[5] * param_2[1] +
               param_1[0xd];
  param_3[2] = param_1[2] * *param_2 + param_1[10] * param_2[2] + param_1[6] * param_2[1] +
               param_1[0xe];
  param_3[3] = param_1[3] * *param_2 + param_1[0xb] * param_2[2] + param_1[7] * param_2[1] +
               param_1[0xf];
  return;
}



void FUN_0045f950(float *param_1,float *param_2,float *param_3)

{
  *param_3 = *param_2 * *param_1 + param_1[0xc];
  param_3[1] = param_1[5] * param_2[1] + param_1[0xd];
  param_3[2] = param_1[10] * param_2[2] + param_1[0xe];
  param_3[3] = param_1[0xb] * param_2[2] + param_1[0xf];
  return;
}



void FUN_0045f990(int param_1,undefined4 *param_2)

{
  *param_2 = *(undefined4 *)(param_1 + 0x20);
  param_2[1] = *(undefined4 *)(param_1 + 0x24);
  param_2[2] = *(undefined4 *)(param_1 + 0x28);
  return;
}



void FUN_0045f9b0(undefined4 *param_1,undefined4 *param_2)

{
  *param_2 = *param_1;
  param_2[1] = param_1[1];
  param_2[2] = param_1[2];
  return;
}



void FUN_0045f9d0(int param_1,undefined4 *param_2)

{
  *param_2 = *(undefined4 *)(param_1 + 0x10);
  param_2[1] = *(undefined4 *)(param_1 + 0x14);
  param_2[2] = *(undefined4 *)(param_1 + 0x18);
  return;
}



void FUN_0045f9f0(int param_1,float param_2)

{
  *(float *)(param_1 + 0x30) = *(float *)(param_1 + 0x20) * param_2 + *(float *)(param_1 + 0x30);
  *(float *)(param_1 + 0x34) = *(float *)(param_1 + 0x24) * param_2 + *(float *)(param_1 + 0x34);
  *(float *)(param_1 + 0x38) = *(float *)(param_1 + 0x28) * param_2 + *(float *)(param_1 + 0x38);
  return;
}



undefined4 FUN_0045fa30(undefined4 *param_1,undefined4 *param_2,float param_3)

{
  float fVar1;
  int iVar2;
  undefined4 *puVar3;
  float *pfVar4;
  undefined4 unaff_EDI;
  undefined4 *puVar5;
  float *pfVar6;
  float10 fVar7;
  float local_5c [4];
  float local_4c;
  float local_48;
  float local_44;
  undefined4 *local_3c;
  float local_38;
  float local_34;
  undefined4 uStack_20;
  undefined4 *local_1c;
  undefined8 local_18;
  undefined4 uVar9;
  longlong lVar8;
  
  AdjustStackForLargeAllocations();
  uVar9 = (undefined4)((ulonglong)(double)param_3 >> 0x20);
  local_18 = (double)CONCAT44(uVar9,unaff_EDI);
  local_1c = (undefined4 *)0x45fa53;
  fVar7 = (float10)FUN_004ae0c4();
  lVar8 = (ulonglong)(uint)(float)fVar7 << 0x20;
  local_18 = (double)CONCAT44(uVar9,unaff_EDI);
  local_1c = (undefined4 *)0x45fa60;
  fVar7 = (float10)FUN_004ae014();
  local_1c = (undefined4 *)*param_2;
  local_18._4_4_ = (float *)param_2[2];
  local_5c[1] = (float)fVar7;
  local_18._0_4_ = (undefined4 *)0x45fa83;
  FUN_0045eab0();
  local_18 = (double)((float)(undefined4 *)local_18 * (float)(undefined4 *)local_18 +
                     (float)local_18._4_4_ * (float)local_18._4_4_);
  local_1c = (undefined4 *)0x45fa9f;
  fVar7 = (float10)FUN_004ad534();
  local_38 = (float)fVar7;
  puVar3 = &DAT_004d1ae0;
  puVar5 = param_1;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  local_18 = (double)((ulonglong)(uint)local_38 << 0x20);
  pfVar4 = (float *)&DAT_004d1ae0;
  pfVar6 = local_5c;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar6 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_18._0_4_ = (undefined4 *)0x45face;
  fVar7 = (float10)FUN_0045fc00();
  if (fVar7 < (float10)0.0001) {
    uVar9 = (undefined4)((ulonglong)lVar8 >> 0x20);
    param_1[9] = -local_5c[1];
    param_1[5] = uVar9;
    param_1[6] = local_5c[1];
    param_1[10] = uVar9;
    return 1;
  }
  fVar1 = (float)local_18._4_4_ / local_38;
  local_5c[2] = (float)local_1c;
  local_18 = (double)CONCAT44(local_5c,param_1);
  local_1c = param_1;
  param_1[5] = fVar1;
  param_1[6] = (float)param_1 / local_38;
  param_1[9] = -((float)param_1 / local_38);
  param_1[10] = fVar1;
  local_3c = (undefined4 *)-(float)param_1;
  uStack_20 = 0x45fb41;
  local_5c[0] = local_38;
  local_34 = local_38;
  MultiplyMatrices();
  pfVar4 = (float *)&DAT_004d1ae0;
  pfVar6 = local_5c;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar6 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_4c = -local_5c[1];
  local_5c[0] = (float)((ulonglong)lVar8 >> 0x20);
  local_18 = (double)CONCAT44(local_5c,param_1);
  local_1c = param_1;
  uStack_20 = 0x45fb77;
  local_48 = local_5c[0];
  MultiplyMatrices();
  pfVar4 = (float *)&DAT_004d1ae0;
  pfVar6 = local_5c;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar6 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_5c[2] = -(float)local_1c;
  local_18._4_4_ = local_5c;
  local_3c = local_1c;
  local_18._0_4_ = param_1;
  local_1c = param_1;
  uStack_20 = 0x45fbad;
  local_5c[0] = local_38;
  local_34 = local_38;
  MultiplyMatrices();
  local_48 = (float)local_18._4_4_ / local_38;
  pfVar4 = (float *)&DAT_004d1ae0;
  pfVar6 = local_5c;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar6 = *pfVar4;
    pfVar4 = pfVar4 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_18 = (double)CONCAT44(local_5c,param_1);
  local_1c = param_1;
  local_38 = (float)param_1 / local_38;
  local_44 = -local_38;
  uStack_20 = 0x45fbe6;
  local_34 = local_48;
  MultiplyMatrices();
  return 1;
}



float10 FUN_0045fc00(float param_1)

{
  if (0.0 <= param_1) {
    return (float10)param_1;
  }
  return -(float10)param_1;
}



float10 FUN_0045fc20(float *param_1,float *param_2)

{
  return (float10)*param_2 * (float10)*param_1 +
         (float10)param_2[2] * (float10)param_1[2] + (float10)param_1[1] * (float10)param_2[1];
}



void FUN_0045fc50(float *param_1,float param_2,float *param_3)

{
  *param_3 = *param_1 * param_2;
  param_3[1] = param_1[1] * param_2;
  param_3[2] = param_1[2] * param_2;
  return;
}



void FUN_0045fc80(int param_1)

{
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  int local_10;
  undefined4 *local_c;
  int *local_8;
  
  local_8 = (int *)0x45fc8d;
  AdjustStackForLargeAllocations();
  local_1c = *(undefined4 *)(param_1 + 0x20);
  local_18 = *(undefined4 *)(param_1 + 0x24);
  local_8 = &local_10;
  local_c = &local_1c;
  local_10 = param_1;
  local_14 = 0x45fcc2;
  FUN_0045f1b0();
  return;
}



void FUN_0045fcd0(float *param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  
  AdjustStackForLargeAllocations();
  fVar5 = param_2[8] * param_2[6] - param_2[4] * param_2[10];
  fVar1 = param_2[10] * param_2[5] - param_2[9] * param_2[6];
  fVar7 = param_2[4] * param_2[9] - param_2[8] * param_2[5];
  fVar6 = *param_2 * fVar1 + fVar5 * param_2[1] + fVar7 * param_2[2];
  if (fVar6 != 0.0) {
    fVar6 = 1.0 / fVar6;
    *param_1 = fVar1 * fVar6;
    param_1[1] = (param_2[9] * param_2[2] - param_2[1] * param_2[10]) * fVar6;
    fVar1 = param_2[5];
    fVar2 = param_2[1];
    fVar3 = param_2[6];
    fVar4 = param_2[2];
    param_1[4] = fVar5 * fVar6;
    param_1[2] = (fVar2 * fVar3 - fVar1 * fVar4) * fVar6;
    param_1[5] = (*param_2 * param_2[10] - param_2[8] * param_2[2]) * fVar6;
    fVar5 = *param_2;
    fVar1 = param_2[4];
    fVar2 = param_2[2];
    fVar3 = param_2[6];
    param_1[8] = fVar7 * fVar6;
    param_1[6] = (fVar1 * fVar2 - fVar5 * fVar3) * fVar6;
    param_1[9] = (param_2[1] * param_2[8] - *param_2 * param_2[9]) * fVar6;
    param_1[10] = (*param_2 * param_2[5] - param_2[1] * param_2[4]) * fVar6;
    return;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 FUN_0045fe00(void)

{
  uint uVar1;
  
  uVar1 = _DAT_005986ec & 0xff;
  _DAT_005986ec = CONCAT31(DAT_005986ec_1,DAT_005986ec + '\x01');
  return (&DAT_005dc800)[uVar1];
}



void FUN_0045fe30(void)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x1b;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x1b);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  *(void **)((int)pvVar1 + 0x17) = DAT_005986f4;
  DAT_005986f4 = pvVar1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0045fe60(void)

{
  char cVar1;
  int iVar2;
  char local_204 [256];
  char local_104 [240];
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  uStackY_14 = 0x45fe7e;
  _memset(&DAT_005e4a80,0,0x100);
  uStackY_14 = 0x45fe99;
  FUN_004ae5f0();
  FID_conflict___mbscpy(&DAT_005e4a80,&gRootFileDirectory);
  FID_conflict__strcat(&DAT_005e4a80,s_Music__004ce480);
  FID_conflict__strcat(&DAT_005e4a80,local_204);
  FID_conflict__strcat(&DAT_005e4a80,&DAT_004ce488);
  if (DAT_005e4a80 != '\0') {
    FID_conflict___mbscpy(local_104,&DAT_005e4a80);
    uStackY_14 = 0x45ff19;
    cVar1 = FUN_0048bbc0();
    if (cVar1 != '\0') {
      iVar2 = FUN_00460a30();
      if (iVar2 != 0) {
        FUN_0045fe30();
      }
      CallMysteryFunction();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0045ff60(void)

{
  byte *pbVar1;
  byte bVar2;
  uint uVar3;
  byte bVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  char cVar8;
  undefined uVar9;
  
  AdjustStackForLargeAllocations();
  iVar7 = DAT_005986f4;
  if (DAT_005b9384 == 0) {
    return;
  }
  iVar5 = _strcmp(&DAT_005e4a80,&DAT_00598728);
  if (iVar5 == 0) {
    return;
  }
  if (iVar7 == 0) {
    return;
  }
  bVar4 = FUN_00460710(*(undefined4 *)(DAT_005df318 + 4));
  if ((((*(byte *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8e) & 0x20) == 0) ||
      (DAT_005e45d0 == 0)) && (DAT_004d8248 == 0)) {
    if (((bVar4 == 0xfe) && (DAT_005dcb7f != 0)) && ((DAT_005dcb7f != 1 && (DAT_005dcb7f != 6)))) {
      if (DAT_005dcb7f != 7) {
        _DAT_005d87e4 = FUN_004afb50();
        DAT_005dcb7f = 7;
        goto LAB_00460586;
      }
LAB_0046058b:
      iVar7 = FUN_004afb50();
      if (5000 < iVar7 - _DAT_005d87e4) {
        DAT_005dcb7f = 1;
      }
    }
    else {
LAB_00460586:
      if (DAT_005dcb7f == 7) goto LAB_0046058b;
    }
    if ((DAT_005dcb7e == 0xfe) && (bVar4 < 0xfe)) {
      uVar3 = (uint)bVar4;
      if (*(char *)(ram0x005dcb75 + uVar3) == '\0') {
        if (bVar4 == DAT_005986f0) {
          DAT_005dcb83 = 'd';
          DAT_005dcb7f = 2;
        }
        else {
          DAT_005dcb7f = 4;
          DAT_004ce47c = '\x01';
          DAT_005b93a0 = *(int *)((DAT_00598720 & 0xff) * 0x20 + 4 + DAT_005dcb61);
          _DAT_005b93a4 = *(int *)((DAT_0059871c & 0xff) * 0x20 + DAT_005dcb61);
        }
      }
      if (*(char *)(ram0x005dcb75 + uVar3) == '\x01') {
        if (DAT_005dcb7f == 7) {
          if (bVar4 == DAT_005986f0) {
            DAT_005dcb83 = 'd';
            DAT_005dcb7f = 3;
          }
          else {
            DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,*(byte *)(DAT_005dcb79 + uVar3));
            DAT_005b93a0 = *(int *)((DAT_00598720 & 0xff) * 0x20 + 4 + DAT_005dcb61);
            _DAT_005b93a4 = *(int *)((uint)*(byte *)(DAT_005dcb79 + uVar3) * 0x20 + DAT_005dcb61);
            DAT_005dcb7f = 8;
            DAT_005dcb73 = '\0';
          }
        }
        else {
          DAT_004ce47c = '\x01';
          DAT_005dcb7f = 5;
        }
      }
    }
  }
  else {
    DAT_005dcb7f = 1;
  }
  if (((DAT_005dcb7e < 0xfe) && (bVar4 < 0xfe)) && (DAT_005dcb7e != DAT_005dcb7d)) {
    cVar8 = *(char *)(ram0x005dcb75 + (uint)DAT_005dcb7e);
    if (((cVar8 == '\0') && (*(char *)(ram0x005dcb75 + (uint)bVar4) == '\0')) ||
       ((cVar8 == '\x01' && (*(char *)(ram0x005dcb75 + (uint)bVar4) == '\0')))) {
      DAT_004ce47c = '\x01';
      DAT_005dcb7f = 4;
    }
    else if ((cVar8 == '\0') && (*(char *)(ram0x005dcb75 + (uint)bVar4) == '\x01')) {
      DAT_004ce47c = '\x01';
      DAT_005dcb7f = 5;
    }
    else if ((cVar8 == '\x01') && (*(char *)(ram0x005dcb75 + (uint)bVar4) == '\x01')) {
      bVar2 = *(byte *)(DAT_005dcb79 + (uint)bVar4);
      DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,bVar2);
      DAT_005b93a0 = *(int *)((DAT_00598720 & 0xff) * 0x20 + 4 + DAT_005dcb61);
      _DAT_005b93a4 = *(int *)((uint)bVar2 * 0x20 + DAT_005dcb61);
      DAT_005dcb7f = 8;
      DAT_005dcb73 = '\0';
    }
  }
  switch(DAT_005dcb7f) {
  case 1:
    if ('\0' < DAT_00598704) {
      DAT_00598704 = DAT_00598704 + -1;
      CallMysteryFunction((int)DAT_00598704,DAT_005b938c);
      return;
    }
    CallMysteryFunction(0,DAT_005b938c);
    FUN_0048c060(&DAT_005b9380);
    DAT_005dcb7f = 0;
    return;
  case 2:
    if (DAT_00598704 < _DAT_005df2f0) {
      DAT_00598704 = DAT_00598704 + '\x01';
      CallMysteryFunction((int)DAT_00598704,DAT_005b938c);
    }
    DAT_005986f0 = bVar4;
    return;
  case 3:
  case 7:
    if (DAT_00598e4c == 0) {
      cVar8 = '\x01';
    }
    else {
      cVar8 = '\x03' - (DAT_00598e4c < 2);
    }
    if (DAT_00598704 < _DAT_005df2f0) {
      DAT_00598704 = DAT_00598704 + '\x01';
      CallMysteryFunction((int)DAT_00598704,DAT_005b938c);
    }
    if (DAT_005dcb83 == cVar8) {
      return;
    }
    if (DAT_005b93a0 == 1) {
      return;
    }
    if (_DAT_005b93a4 == 1) {
      return;
    }
    if (cVar8 == '\x01') {
      uVar9 = *(undefined *)((DAT_00598720 & 0xff) * 0x20 + 0x14 + DAT_005dcb61);
    }
    else if (cVar8 == '\x02') {
      uVar9 = *(undefined *)((DAT_00598720 & 0xff) * 0x20 + 0x18 + DAT_005dcb61);
    }
    else {
      if (cVar8 != '\x03') goto LAB_0046035a;
      uVar9 = *(undefined *)((DAT_00598720 & 0xff) * 0x20 + 0x1c + DAT_005dcb61);
    }
    DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,uVar9);
LAB_0046035a:
    DAT_005dcb83 = cVar8;
    if ((char)DAT_0059871c == (char)DAT_00598720) {
      iVar7 = (DAT_00598720 & 0xff) * 0x20 + DAT_005dcb61;
      if (*(uint *)(iVar7 + 8) <= *(uint *)(iVar7 + 0xc)) {
        *(undefined4 *)(iVar7 + 0xc) = 0;
        if ((char)DAT_00598720 == '\0') {
          DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,1);
        }
        else {
          DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,(char)DAT_00598720 + -1);
        }
      }
    }
    else {
      *(undefined4 *)((DAT_00598720 & 0xff) * 0x20 + 0xc + DAT_005dcb61) = 0;
    }
    DAT_005b93a0 = *(undefined4 *)((DAT_00598720 & 0xff) * 0x20 + 4 + DAT_005dcb61);
    _DAT_00598708 = 1;
    _DAT_005b93a4 = *(undefined4 *)((DAT_0059871c & 0xff) * 0x20 + DAT_005dcb61);
    return;
  case 4:
    if (DAT_004ce47c == '\0') {
      uVar3 = (uint)bVar4;
      FUN_0048bcf0(&DAT_005b9380,
                   *(undefined4 *)((uint)*(byte *)(DAT_005dcb79 + uVar3) * 0x20 + DAT_005dcb61));
      DAT_00598720 = CONCAT31(DAT_00598720._1_3_,*(undefined *)(DAT_005dcb79 + uVar3));
      DAT_005dcb83 = 100;
      DAT_005dcb7f = 2;
      _DAT_005b93a4 = *(undefined4 *)((uint)*(byte *)(DAT_005dcb79 + uVar3) * 0x20 + DAT_005dcb61);
      DAT_005b93a0 = *(undefined4 *)
                      ((uint)*(byte *)(DAT_005dcb79 + uVar3) * 0x20 + 4 + DAT_005dcb61);
      DAT_004ce47c = 1;
      DAT_005986f0 = bVar4;
      return;
    }
    CallMysteryFunction(_DAT_005df2f0,DAT_005b938c);
    DAT_00598704 = DAT_005df2f0;
    pbVar1 = (byte *)(DAT_005dcb79 + (uint)bVar4);
    DAT_005b93a0 = *(undefined4 *)
                    ((uint)*(byte *)(DAT_005dcb79 + (uint)bVar4) * 0x20 + 4 + DAT_005dcb61);
    _DAT_005b93a4 = *(undefined4 *)((uint)*pbVar1 * 0x20 + DAT_005dcb61);
    uVar6 = *(undefined4 *)((uint)*pbVar1 * 0x20 + DAT_005dcb61);
    goto LAB_0046045e;
  case 5:
    break;
  default:
    return;
  case 8:
    if (DAT_005dcb73 == '\0') {
      return;
    }
    DAT_005dcb7f = 3;
    return;
  }
  if (DAT_004ce47c == '\0') {
    FUN_0048bcf0(&DAT_005b9380,
                 *(undefined4 *)((uint)*(byte *)(DAT_005dcb79 + (uint)bVar4) * 0x20 + DAT_005dcb61))
    ;
    DAT_004ce47c = 1;
    DAT_005986f0 = bVar4;
    DAT_005dcb7f = 3;
    return;
  }
  bVar2 = *(byte *)(DAT_005dcb79 + (uint)bVar4);
  DAT_00598720 = CONCAT31(DAT_00598720._1_3_,bVar2);
  if (DAT_00598e4c == 0) {
    uVar9 = *(undefined *)((uint)bVar2 * 0x20 + 0x14 + DAT_005dcb61);
LAB_004601f2:
    DAT_0059871c = CONCAT31(DAT_0059871c._1_3_,uVar9);
  }
  else {
    if (DAT_00598e4c < 2) {
      cVar8 = '\x02';
    }
    else {
      cVar8 = '\x03';
    }
    if (cVar8 == '\x02') {
      uVar9 = *(undefined *)((uint)bVar2 * 0x20 + 0x18 + DAT_005dcb61);
      goto LAB_004601f2;
    }
    if (cVar8 == '\x03') {
      uVar9 = *(undefined *)((uint)bVar2 * 0x20 + 0x1c + DAT_005dcb61);
      goto LAB_004601f2;
    }
  }
  DAT_005b93a0 = *(undefined4 *)((uint)bVar2 * 0x20 + 4 + DAT_005dcb61);
  _DAT_005b93a4 = *(undefined4 *)((DAT_0059871c & 0xff) * 0x20 + DAT_005dcb61);
  CallMysteryFunction(_DAT_005df2f0,DAT_005b938c);
  DAT_00598704 = DAT_005df2f0;
  uVar6 = *(undefined4 *)((uint)*(byte *)(DAT_005dcb79 + (uint)bVar4) * 0x20 + DAT_005dcb61);
LAB_0046045e:
  FUN_0048bcd0(&DAT_005b9380,uVar6);
  DAT_004ce47c = 0;
  return;
}



undefined FUN_00460710(int param_1)

{
  int *piVar1;
  int iVar2;
  byte bVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  DAT_005dcb7e = DAT_005dcb7d;
  if ((char)DAT_00598944 != '\0') {
    DAT_005dcb7d = 2;
    return 2;
  }
  bVar3 = 0;
  uVar4 = 0;
  if (DAT_005dcb6a == 0) {
    DAT_005dcb7e = 0xfe;
    DAT_005dcb7d = 0xfe;
    return 0xfe;
  }
  iVar2 = *(int *)(param_1 + 4);
  do {
    piVar1 = (int *)(DAT_005dcb6b + uVar4 * 0x19);
    if ((((*(float *)(iVar2 + 0x36) < (float)piVar1[1]) &&
         ((float)*piVar1 < *(float *)(iVar2 + 0x36))) &&
        (*(float *)(iVar2 + 0x3e) < (float)piVar1[3])) &&
       ((float)piVar1[2] < *(float *)(iVar2 + 0x3e))) {
      if ((piVar1[4] == -1) && (piVar1[5] == -1)) {
LAB_004607f0:
        iVar2 = DAT_005dcb6b + uVar4 * 0x14;
        DAT_005dcb7d = *(undefined *)(uVar4 * 5 + 0x18 + iVar2);
        return *(undefined *)(uVar4 * 5 + 0x18 + iVar2);
      }
      if ((*(float *)(iVar2 + 0x3a) < (float)piVar1[5]) &&
         ((float)piVar1[4] < *(float *)(iVar2 + 0x3a))) goto LAB_004607f0;
    }
    bVar3 = bVar3 + 1;
    uVar4 = (uint)bVar3;
    if (DAT_005dcb6a <= bVar3) {
      DAT_005dcb7e = 0xfe;
      DAT_005dcb7d = 0xfe;
      return 0xfe;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00460830(char *param_1)

{
  byte bVar1;
  int iVar2;
  size_t _Size;
  void *pvVar3;
  int iVar4;
  char local_104 [228];
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_104,&DAT_005d60e0);
  FID_conflict__strcat(local_104,param_1);
  iVar2 = OpenFileWithFixedFlags0x40();
  _DAT_005dcb60 = _DAT_005dcb60 & 0xff;
  DAT_005dcb61._3_1_ = 0;
  if (iVar2 == 0) {
    DAT_005dcb61._3_1_ = 0;
    return 0;
  }
  uStackY_20 = 0x46089d;
  FUN_004afbb0();
  _Size = (_DAT_005dcb60 & 0xff) << 5;
  iVar2 = 0;
  uStackY_20 = 0x4608b5;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x4608be;
  pvVar3 = _memset(pvVar3,iVar2,_Size);
  DAT_005dcb61._0_3_ = SUB43(pvVar3,0);
  DAT_005dcb61._3_1_ = (undefined)((uint)pvVar3 >> 0x18);
  bVar1 = 0;
  if (DAT_005dcb60 != 0) {
    do {
      iVar4 = (uint)bVar1 * 0x20;
      uStackY_20 = 0x4608f6;
      FUN_004afbb0();
      uStackY_20 = 0x46090f;
      FUN_004afbb0();
      uStackY_20 = 0x460928;
      FUN_004afbb0();
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 8 + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 8 + iVar4) + 1;
      *(undefined4 *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0xc + iVar4) = 0;
      uStackY_20 = 0x460958;
      FUN_004afbb0();
      uStackY_20 = 0x460970;
      FUN_004afbb0();
      uStackY_20 = 0x460989;
      FUN_004afbb0();
      iVar2 = CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61);
      if (*(uint *)(iVar2 + 4 + iVar4) < *(uint *)(iVar2 + iVar4)) {
        return 0;
      }
      *(int *)(iVar2 + 0x14 + iVar4) = *(int *)(iVar2 + 0x14 + iVar4) + -1;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x18 + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x18 + iVar4) + -1;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x1c + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x1c + iVar4) + -1;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + iVar4) << 2;
      iVar2 = CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61);
      if (*(int *)(iVar2 + iVar4) == 0) {
        *(undefined4 *)(iVar2 + iVar4) = 0x2c;
        iVar2 = CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61);
      }
      *(int *)(iVar2 + 4 + iVar4) = *(int *)(iVar2 + 4 + iVar4) << 2;
      bVar1 = bVar1 + 1;
    } while (bVar1 < DAT_005dcb60);
  }
  FUN_004adcf0();
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00460a30(uint param_1)

{
  int iVar1;
  size_t _Size;
  void *pvVar2;
  byte bVar3;
  int unaff_EBX;
  int iVar4;
  int iVar5;
  uint uVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = OpenFileWithFixedFlags0x40(param_1,&DAT_004ce994);
  if (iVar1 == 0) {
    return 0;
  }
  CopyDataWithLock(&stack0xfffffff8,4,1,iVar1);
  SeekInResourceWithLock(iVar1,unaff_EBX + 4,0);
  CopyDataWithLock(&DAT_005dcb60,1,1,iVar1);
  _Size = (_DAT_005dcb60 & 0xff) << 5;
  iVar5 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(_Size);
  pvVar2 = _memset(pvVar2,iVar5,_Size);
  DAT_005dcb61._0_3_ = SUB43(pvVar2,0);
  DAT_005dcb61._3_1_ = (undefined)((uint)pvVar2 >> 0x18);
  bVar3 = 0;
  uVar6 = 0;
  if (DAT_005dcb60 != 0) {
    do {
      iVar4 = uVar6 * 0x20;
      CopyDataWithLock(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + iVar4,4,1,iVar1);
      CopyDataWithLock(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 4 + iVar4,4,1,iVar1);
      CopyDataWithLock(&param_1,1,1,iVar1);
      *(uint *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 8 + iVar4) = param_1 & 0xff;
      CopyDataWithLock(&param_1,1,1,iVar1);
      *(uint *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x14 + iVar4) =
           param_1 & 0xff;
      CopyDataWithLock(&param_1,1,1,iVar1);
      *(uint *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x18 + iVar4) =
           param_1 & 0xff;
      CopyDataWithLock(&param_1,1,1,iVar1);
      *(uint *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 0x1c + iVar4) =
           param_1 & 0xff;
      iVar5 = CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61);
      if (*(uint *)(iVar5 + 4 + iVar4) < *(uint *)(iVar5 + iVar4)) {
        FUN_004adcf0(iVar1);
        return 0;
      }
      *(uint *)(iVar5 + iVar4) = *(uint *)(iVar5 + iVar4) * 4;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 4 + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 4 + iVar4) << 2;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + iVar4) + 0x30;
      bVar3 = bVar3 + 1;
      *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 4 + iVar4) =
           *(int *)(CONCAT13(DAT_005dcb61._3_1_,(undefined3)DAT_005dcb61) + 4 + iVar4) + 0x30;
      uVar6 = (uint)bVar3;
    } while (bVar3 < DAT_005dcb60);
  }
  FUN_004adcf0(iVar1);
  return 1;
}



void FUN_00460c20(void)

{
  if (((DAT_00598724 == '\0') || (DAT_004d7a70 == '\0')) &&
     ((DAT_00598724 != '\0' || (DAT_004d7a70 != '\0')))) {
    DAT_004ce410 = 0;
    DAT_00598724 = DAT_004d7a70;
  }
  if (DAT_004ce410 == 0) {
    if ('\0' < DAT_00598700) {
      DAT_00598700 = DAT_00598700 + -2;
      _AIL_set_stream_volume_8(DAT_005e4a48,(int)DAT_00598700);
      goto LAB_00460c93;
    }
  }
  else {
LAB_00460c93:
    if ('\0' < DAT_00598700) goto LAB_00460d7e;
  }
  DAT_00598700 = '\0';
  if (DAT_004d7a70 == '\0') {
    DAT_005e4eec = __ftol();
    _AIL_pause_stream_8(DAT_005e4a48,1);
    _AIL_set_stream_loop_count_8(DAT_005e4a4c,0);
    _AIL_set_stream_volume_8(DAT_005e4a4c,(int)DAT_00598700);
    _AIL_pause_stream_8(DAT_005e4a4c,0);
    if (DAT_005e4eec == 0) {
      DAT_005e4eec = 1;
    }
  }
  else {
    DAT_005e4eec = __ftol();
    _AIL_pause_stream_8(DAT_005e4a4c,1);
    _AIL_set_stream_loop_count_8(DAT_005e4a48,0);
    _AIL_set_stream_volume_8(DAT_005e4a48,(int)DAT_00598700);
    _AIL_pause_stream_8(DAT_005e4a48,0);
  }
  if (DAT_00598700 < '\x01') {
    DAT_00598700 = '\x01';
  }
  DAT_004ce410 = 1;
LAB_00460d7e:
  if ((DAT_004ce410 != 0) && ((int)DAT_00598700 < (int)(uint)DAT_005e4eec)) {
    DAT_00598700 = DAT_00598700 + '\x02';
    if (DAT_005e4eec == 0) {
      DAT_005e4eec = 1;
    }
    if (DAT_004d7a70 != '\0') {
      _AIL_set_stream_volume_8(DAT_005e4a48,(int)DAT_00598700);
      return;
    }
    _AIL_set_stream_volume_8(DAT_005e4a4c,(int)DAT_00598700);
  }
  return;
}



void FUN_00460dd0(void)

{
  int iVar1;
  
  if (DAT_005986f4 != 0) {
    do {
      iVar1 = *(int *)(DAT_005986f4 + 0x17);
      if (DAT_005986f4 != 0) {
        iVar1 = DAT_005986f4;
        DAT_005986f4 = *(int *)(DAT_005986f4 + 0x17);
        FreeMemory(iVar1);
        iVar1 = DAT_005986f4;
      }
      DAT_005986f4 = iVar1;
    } while (DAT_005986f4 != 0);
  }
  return;
}



void FUN_00460e20(void)

{
  _AIL_get_DirectSound_info_12(DAT_005e49c8,&DAT_005e49c0,0);
  return;
}



undefined4 FUN_00460e40(int param_1,int param_2,int param_3)

{
  byte *pbVar1;
  int iVar2;
  size_t sVar3;
  int iVar4;
  void *pvVar5;
  uint unaff_EBX;
  float unaff_ESI;
  int iVar6;
  char local_d8 [100];
  char local_74 [48];
  undefined auStackY_44 [4];
  char local_40 [32];
  undefined4 uStackY_20;
  char *_Source;
  
  iVar2 = param_1;
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_74,&DAT_005d4ae0);
  FID_conflict___mbscpy(local_40,&DAT_005d6540);
  sVar3 = _strlen(local_40);
  auStackY_44[sVar3] = 0;
  FID_conflict__strcat(local_40,&DAT_004ce9d8);
  iVar6 = 0;
  if (param_3 == 0) {
    _Source = (char *)(param_2 * 0x10 + DAT_004d86b4);
  }
  else {
    _Source = s_scoreboard_004ce9dc;
  }
  FID_conflict__strcat(local_40,_Source);
  FID_conflict__strcat(local_40,&DAT_004ce9e8);
  FID_conflict___mbscpy(local_d8,local_74);
  FID_conflict__strcat(local_d8,local_40);
  iVar4 = OpenFileWithFixedFlags0x40();
  if (iVar4 == 0) {
    return 0;
  }
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  if (unaff_EBX == 1) {
    *(undefined *)(param_1 + 1) = 1;
  }
  else {
    *(undefined *)(param_1 + 1) = 0;
  }
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  *(bool *)param_1 = unaff_EBX == 1;
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  iVar4 = FUN_00461530();
  if (iVar4 == 2) {
    return 0;
  }
  iVar4 = FUN_004614a0();
  if (iVar4 == 2) {
    return 0;
  }
  *(char *)(param_1 + 3) = (char)unaff_EBX;
  sVar3 = (unaff_EBX & 0xff) * 0x2f;
  iVar4 = 0;
  uStackY_20 = 0x46101a;
  pvVar5 = (void *)AllocateMemoryWithCallback();
  uStackY_20 = 0x461023;
  pvVar5 = _memset(pvVar5,iVar4,sVar3);
  *(void **)(param_1 + 4) = pvVar5;
  pbVar1 = (byte *)(param_1 + 3);
  param_1 = 0;
  if (-1 < (int)(*pbVar1 - 1)) {
    do {
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + *(int *)(iVar2 + 4)) = -unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 4 + *(int *)(iVar2 + 4)) = -unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 8 + *(int *)(iVar2 + 4)) = -unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 0x18 + *(int *)(iVar2 + 4)) = unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 0x1c + *(int *)(iVar2 + 4)) = unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 0x20 + *(int *)(iVar2 + 4)) = unaff_ESI;
      iVar4 = FUN_00461410();
      if (iVar4 == 2) {
        return 0;
      }
      *(float *)(iVar6 + 0x24 + *(int *)(iVar2 + 4)) = unaff_ESI;
      iVar4 = FUN_004614a0();
      if (iVar4 == 2) {
        return 0;
      }
      *(uint *)(iVar6 + 0x28 + *(int *)(iVar2 + 4)) = unaff_EBX;
      iVar4 = FUN_004614a0();
      if (iVar4 == 2) {
        return 0;
      }
      if (unaff_EBX == 0) {
        *(undefined *)(iVar6 + 0x2c + *(int *)(iVar2 + 4)) = 0;
      }
      else {
        *(undefined *)(iVar6 + 0x2c + *(int *)(iVar2 + 4)) = 1;
      }
      iVar4 = FUN_004614a0();
      if (iVar4 == 2) {
        return 0;
      }
      *(short *)(iVar6 + 0x2d + *(int *)(iVar2 + 4)) = (short)unaff_EBX;
      if ((0 < (int)unaff_EBX) && (iVar4 = FUN_00461530(), iVar4 == 2)) {
        return 0;
      }
      if (0 < iVar6) {
        iVar4 = *(int *)(iVar2 + 4);
        *(float *)(iVar6 + iVar4 + 0xc) =
             *(float *)(iVar6 + iVar4) - *(float *)(iVar6 + -0x2f + iVar4);
        iVar4 = *(int *)(iVar2 + 4);
        *(float *)(iVar6 + iVar4 + 0x10) =
             *(float *)(iVar6 + 4 + iVar4) - *(float *)(iVar6 + -0x2b + iVar4);
        iVar4 = *(int *)(iVar2 + 4) + iVar6;
        *(float *)(iVar4 + 0x14) = *(float *)(iVar4 + 8) - *(float *)(iVar4 + -0x27);
      }
      param_1 = param_1 + 1;
      iVar6 = iVar6 + 0x2f;
    } while (param_1 <= (int)(*(byte *)(iVar2 + 3) - 1));
  }
  FUN_004adcf0();
  return 1;
}



undefined4 FUN_00461220(uint param_1)

{
  size_t sVar1;
  int iVar2;
  void *pvVar3;
  char *_Source;
  undefined auStackY_108 [4];
  char local_104 [232];
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  if (param_1 == *(ushort *)(DAT_00598d90 + 0x245)) {
    FID_conflict___mbscpy(local_104,&DAT_005d4ae0);
    FID_conflict__strcat(local_104,&DAT_005d6540);
    sVar1 = _strlen(local_104);
    auStackY_108[sVar1] = 0;
    FID_conflict__strcat(local_104,&DAT_004cea10);
    FID_conflict__strcat(local_104,s_scoreboard_004cea14);
    FID_conflict__strcat(local_104,&DAT_004cea20);
    iVar2 = OpenFileWithFixedFlags0x40();
    if (iVar2 == 0) {
      return 0;
    }
    FUN_004adcf0();
    sVar1 = 8;
    iVar2 = 0;
    uStackY_1c = 0x4612fb;
    pvVar3 = (void *)AllocateMemoryWithCallback();
    uStackY_1c = 0x461304;
    pvVar3 = _memset(pvVar3,iVar2,sVar1);
    *(void **)(DAT_005d87e0 + param_1 * 4) = pvVar3;
  }
  else {
    _Source = (char *)(param_1 * 0x10 + DAT_004d86b4);
    FID_conflict___mbscpy(local_104,&DAT_005d4ae0);
    FID_conflict__strcat(local_104,&DAT_005d6540);
    sVar1 = _strlen(local_104);
    auStackY_108[sVar1] = 0;
    FID_conflict__strcat(local_104,&DAT_004cea2c);
    FID_conflict__strcat(local_104,_Source);
    FID_conflict__strcat(local_104,&DAT_004cea30);
    iVar2 = OpenFileWithFixedFlags0x40();
    if (iVar2 == 0) {
      return 0;
    }
    FUN_004adcf0();
    sVar1 = 8;
    iVar2 = 0;
    uStackY_1c = 0x4613cd;
    pvVar3 = (void *)AllocateMemoryWithCallback();
    uStackY_1c = 0x4613d6;
    pvVar3 = _memset(pvVar3,iVar2,sVar1);
    *(void **)(DAT_005d87e0 + param_1 * 4) = pvVar3;
  }
  uStackY_1c = 0x4613f4;
  FUN_00460e40();
  return *(undefined4 *)(DAT_005d87e0 + param_1 * 4);
}



int FUN_00461410(undefined *param_1,float *param_2)

{
  char cVar1;
  int iVar2;
  float10 fVar3;
  undefined *local_14;
  undefined **ppuStack_10;
  
  AdjustStackForLargeAllocations();
  ppuStack_10 = &local_14;
  local_14 = &DAT_004cea3c;
  iVar2 = FUN_004afbb0(param_1);
  if (iVar2 == -1) {
    return 2;
  }
  ppuStack_10 = &local_14;
  local_14 = (undefined *)0x46144d;
  fVar3 = (float10)FUN_004adb90();
  *param_2 = (float)fVar3;
  if ((char)local_14 == '#') {
    ppuStack_10 = (undefined **)param_1;
    local_14 = (undefined *)0x461462;
    cVar1 = FUN_004afc40();
    while ((cVar1 != -1 && (cVar1 != '\n'))) {
      ppuStack_10 = (undefined **)param_1;
      local_14 = (undefined *)0x461473;
      cVar1 = FUN_004afc40();
    }
    ppuStack_10 = (undefined **)param_2;
    local_14 = param_1;
    iVar2 = FUN_00461410();
    return 2 - (uint)(iVar2 != 2);
  }
  return 0;
}



int FUN_004614a0(undefined *param_1,undefined4 *param_2)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  undefined *local_14;
  undefined **ppuStack_10;
  
  AdjustStackForLargeAllocations();
  ppuStack_10 = &local_14;
  local_14 = &DAT_004cea40;
  iVar2 = FUN_004afbb0(param_1);
  if (iVar2 == -1) {
    return 2;
  }
  ppuStack_10 = &local_14;
  local_14 = (undefined *)0x4614dd;
  uVar3 = FUN_004adb80();
  *param_2 = uVar3;
  if ((char)local_14 == '#') {
    ppuStack_10 = (undefined **)param_1;
    local_14 = (undefined *)0x4614f2;
    cVar1 = FUN_004afc40();
    while ((cVar1 != -1 && (cVar1 != '\n'))) {
      ppuStack_10 = (undefined **)param_1;
      local_14 = (undefined *)0x461503;
      cVar1 = FUN_004afc40();
    }
    ppuStack_10 = (undefined **)param_2;
    local_14 = param_1;
    iVar2 = FUN_004614a0();
    return 2 - (uint)(iVar2 != 2);
  }
  return 0;
}



int FUN_00461530(undefined4 param_1,char *param_2)

{
  char cVar1;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  iVar2 = FUN_004afbb0(param_1);
  if (iVar2 == -1) {
    return 2;
  }
  FID_conflict___mbscpy(param_2,&stack0xffffffec);
  if ((char)param_2 == '#') {
    cVar1 = FUN_004afc40();
    while ((cVar1 != -1 && (cVar1 != '\n'))) {
      cVar1 = FUN_004afc40();
    }
    iVar2 = FUN_00461530();
    return 2 - (uint)(iVar2 != 2);
  }
  return 0;
}



void FUN_004615c0(float *param_1,float param_2,float param_3,float param_4,float param_5)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float10 fVar6;
  
  AdjustStackForLargeAllocations();
  fVar6 = (float10)FUN_004ae0c4((double)param_2);
  fVar1 = (float)fVar6;
  fVar6 = (float10)FUN_004ae014((double)param_2);
  fVar2 = 1.0 - fVar1;
  *param_1 = (1.0 - param_3 * param_3) * fVar1 + param_3 * param_3;
  fVar3 = param_3 * param_4 * fVar2;
  param_1[1] = (float)(fVar6 * (float10)param_5 + (float10)fVar3);
  fVar4 = param_5 * param_3 * fVar2;
  fVar5 = (float)fVar6 * param_4;
  param_1[2] = fVar4 - fVar5;
  param_1[4] = fVar3 - (float)(fVar6 * (float10)param_5);
  fVar2 = param_4 * param_5 * fVar2;
  param_1[8] = fVar5 + fVar4;
  param_3 = (float)fVar6 * param_3;
  param_1[5] = (1.0 - param_4 * param_4) * fVar1 + param_4 * param_4;
  param_1[6] = param_3 + fVar2;
  param_1[9] = fVar2 - param_3;
  param_1[10] = (1.0 - param_5 * param_5) * fVar1 + param_5 * param_5;
  return;
}



void FUN_00461700(float *param_1,float param_2,float param_3,float param_4,float param_5,
                 float param_6,float param_7)

{
  float fVar1;
  float fVar2;
  float10 fVar3;
  float fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_7 * param_3 - param_6 * param_4;
  fVar2 = param_5 * param_4 - param_7 * param_2;
  fVar4 = param_6 * param_2 - param_5 * param_3;
  fVar3 = (float10)FUN_004ad534((double)(fVar4 * fVar4 + fVar2 * fVar2 + fVar1 * fVar1));
  param_7 = (float)fVar3;
  fVar4 = (float)((ulonglong)(double)fVar3 >> 0x20);
  fVar3 = (float10)FUN_004ad3c0();
  if (fVar3 < (float10)0.009999999776482582) {
    param_7 = 1.0;
  }
  if (fVar4 <= 1.0) {
    if (fVar4 < -1.0) {
      fVar4 = -1.0;
    }
  }
  else {
    fVar4 = 1.0;
  }
  fVar4 = SUB84((double)fVar4,0);
  fVar3 = (float10)FUN_004af934();
  *param_1 = fVar1 / param_7;
  param_1[1] = 6.437134e-39;
  param_1[2] = fVar4;
  param_1[3] = (float)-fVar3;
  return;
}



void FUN_00461850(undefined4 *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 param_5;
  undefined4 local_50 [4];
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 *local_14;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  local_50[0] = 0x3f800000;
  local_50[1] = 0;
  local_50[2] = 0;
  local_50[3] = 0;
  local_40 = 0;
  local_3c = 0x3f800000;
  local_38 = 0;
  local_34 = 0;
  local_30 = 0;
  local_2c = 0;
  local_28 = 0x3f800000;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_18 = 0;
  local_14 = (undefined4 *)0x3f800000;
  local_10 = 0x4618eb;
  AdjustStackForLargeAllocations();
  local_10 = param_5;
  local_14 = local_50;
  local_18 = 0x46190b;
  FUN_004615c0();
  puVar2 = local_50;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *param_1 = *puVar2;
    puVar2 = puVar2 + 1;
    param_1 = param_1 + 1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00461930(undefined4 param_1,undefined *param_2,undefined4 param_3,undefined4 *param_4,
                 double param_5,undefined4 param_6,undefined4 param_7)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *extraout_EDX;
  undefined4 *puVar3;
  float10 fVar4;
  undefined4 param_11;
  undefined local_f4 [64];
  undefined4 local_b4 [16];
  undefined4 local_74 [4];
  float local_64;
  float local_60;
  undefined local_34 [4];
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  local_14 = param_7;
  local_18 = param_4;
  puVar1 = &param_2;
  puVar3 = local_74;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar3 = puVar3 + 1;
  }
  local_30 = param_4;
  local_24 = 0x3f800000;
  local_20 = 0;
  local_1c = 0;
  local_2c = param_7;
  local_28 = param_11;
  local_10 = (undefined *)0x461989;
  AdjustStackForLargeAllocations();
  local_10 = (undefined *)0x4619a6;
  AdjustStackForLargeAllocations();
  local_10 = local_34;
  local_14 = 0x4619c2;
  FUN_00461700();
  param_2 = (undefined *)0x4619d1;
  AdjustStackForLargeAllocations();
  param_3 = *extraout_EDX;
  param_4 = (undefined4 *)extraout_EDX[1];
  param_5 = *(double *)(extraout_EDX + 2);
  param_2 = local_f4;
  puVar1 = (undefined4 *)FUN_00461850();
  puVar3 = local_b4;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar3 = *puVar1;
    puVar1 = puVar1 + 1;
    puVar3 = puVar3 + 1;
  }
  param_4 = local_74;
  param_5 = (double)CONCAT44(&param_2,local_b4);
  param_3 = 0x461a1b;
  FUN_0045ecb0();
  if (local_64 <= 1.0) {
    if (-1.0 <= local_64) {
      param_5 = (double)local_64;
      param_4 = (undefined4 *)0x461a68;
      fVar4 = (float10)FUN_004afc64();
    }
    else {
      fVar4 = (float10)_DAT_004cea4c * (float10)-0.5;
    }
  }
  else {
    fVar4 = (float10)_DAT_004cea4c * (float10)0.5;
  }
  fVar5 = (float)fVar4;
  if (local_60 <= 1.0) {
    if (-1.0 <= local_60) {
      param_5 = (double)local_60;
      param_4 = (undefined4 *)0x461ab8;
      fVar4 = (float10)FUN_004afc64();
    }
    else {
      fVar4 = (float10)_DAT_004cea4c * (float10)-0.5;
    }
  }
  else {
    fVar4 = (float10)_DAT_004cea4c * (float10)0.5;
  }
  if (fVar4 < (float10)0.0) {
    if (fVar5 <= 0.0) {
      if (fVar5 < 0.0) {
        fVar5 = -_DAT_004cea4c - fVar5;
      }
    }
    else {
      fVar5 = _DAT_004cea4c - fVar5;
    }
  }
                    // WARNING: Read-only address (ram,0x004619f5) is written
  uRam004619f5 = local_18;
                    // WARNING: Read-only address (ram,0x004619f9) is written
  uRam004619f9 = local_14;
                    // WARNING: Read-only address (ram,0x004619fd) is written
  puRam004619fd = local_10;
                    // WARNING: Read-only address (ram,0x00461a01) is written
  fRam00461a01 = fVar5;
  return;
}



void FUN_00461b20(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *param_5;
  undefined4 in_stack_0000004c;
  undefined4 *in_stack_00000050;
  float in_stack_00000054;
  undefined4 *param_11;
  undefined4 *param_12;
  undefined4 *param_13;
  undefined4 local_f0 [16];
  undefined4 local_b0 [20];
  undefined4 local_60 [4];
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 *local_14;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  
  puVar1 = param_5;
  AdjustStackForLargeAllocations();
  local_1c = param_5[2];
  local_18 = param_5[6];
  local_60[0] = 0x3f800000;
  local_60[1] = 0;
  local_60[2] = 0;
  local_60[3] = 0;
  local_50 = 0;
  local_4c = 0x3f800000;
  local_48 = 0;
  local_44 = 0;
  local_40 = 0;
  local_3c = 0;
  local_38 = 0x3f800000;
  local_34 = 0;
  local_30 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0x3f800000;
  local_14 = (undefined4 *)0x461bd1;
  AdjustStackForLargeAllocations();
  local_14 = (undefined4 *)0x461bee;
  AdjustStackForLargeAllocations();
  local_14 = &local_20;
  local_18 = 0x461c0a;
  FUN_00461700();
  AdjustStackForLargeAllocations();
  puVar2 = (undefined4 *)FUN_00461850();
  puVar4 = local_f0;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar4 = puVar4 + 1;
  }
  FUN_0045ecb0();
  AdjustStackForLargeAllocations();
  puVar2 = (undefined4 *)&stack0x00000018;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = *param_5;
    param_5 = param_5 + 1;
    puVar2 = puVar2 + 1;
  }
  puVar2 = (undefined4 *)FUN_00461930();
  local_20 = *puVar2;
  local_1c = puVar2[1];
  local_18 = puVar2[2];
  local_14 = (undefined4 *)puVar2[3];
  param_5 = (undefined4 *)((float)puVar2[3] - 6.438706e-39);
  if ((float)param_5 <= 3.14159) {
    if ((float)param_5 < -3.14159) {
      param_5 = (undefined4 *)((float)param_5 - -6.28318);
    }
  }
  else {
    param_5 = (undefined4 *)((float)param_5 - 6.28318);
  }
  uVar6 = puVar1[6];
  uVar5 = puVar1[2];
  uVar7 = puVar1[10];
  puVar2 = local_60;
  puVar4 = local_b0;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar4 = puVar4 + 1;
  }
  in_stack_00000054 = 6.438885e-39;
  AdjustStackForLargeAllocations();
  param_13 = (undefined4 *)uVar7;
  param_12 = (undefined4 *)uVar6;
  param_11 = (undefined4 *)uVar5;
  in_stack_00000054 = (float)param_5;
  in_stack_00000050 = local_b0;
  in_stack_0000004c = 0x461d21;
  FUN_004615c0();
  param_12 = local_b0;
  param_13 = puVar1;
  param_11 = puVar1;
  in_stack_00000054 = 6.438958e-39;
  FUN_0045ecb0();
  return;
}



void FUN_00461d40(float *param_1)

{
  float *pfVar1;
  float10 fVar2;
  float10 fVar3;
  float fVar4;
  
  pfVar1 = param_1;
  AdjustStackForLargeAllocations();
  fVar2 = (float10)FUN_004ad534((double)(*param_1 * *param_1 +
                                        param_1[2] * param_1[2] + param_1[1] * param_1[1]));
  fVar3 = (float10)FUN_004ad534((double)(param_1[6] * param_1[6] +
                                        param_1[5] * param_1[5] + param_1[4] * param_1[4]));
  fVar4 = (float)fVar3;
  fVar3 = (float10)FUN_004ad534((double)(param_1[10] * param_1[10] +
                                        param_1[9] * param_1[9] + param_1[8] * param_1[8]));
  param_1 = (float *)(float)fVar2;
  if ((float)fVar2 < 0.01) {
    param_1 = (float *)0x3f800000;
  }
  if (fVar4 < 0.01) {
    fVar4 = 1.0;
  }
  if (fVar3 < (float10)0.01) {
    fVar3 = (float10)1.0;
  }
  *pfVar1 = *pfVar1 / (float)param_1;
  pfVar1[1] = pfVar1[1] / (float)param_1;
  pfVar1[2] = pfVar1[2] / (float)param_1;
  pfVar1[4] = pfVar1[4] / fVar4;
  pfVar1[5] = pfVar1[5] / fVar4;
  pfVar1[6] = pfVar1[6] / fVar4;
  pfVar1[8] = (float)((float10)pfVar1[8] / fVar3);
  pfVar1[9] = (float)((float10)pfVar1[9] / fVar3);
  pfVar1[10] = (float)((float10)pfVar1[10] / fVar3);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00461ea0(int param_1,int param_2,int param_3,undefined4 *param_4)

{
  float fVar1;
  float fVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 in_stack_00000098;
  undefined4 *in_stack_0000009c;
  undefined4 *in_stack_000000a0;
  undefined4 *in_stack_000000a4;
  undefined4 *param_22;
  undefined4 *param_23;
  undefined4 *param_24;
  undefined local_54 [16];
  undefined4 local_44 [4];
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined *local_14;
  
  AdjustStackForLargeAllocations();
  local_44[0] = 0x3f800000;
  local_44[1] = 0;
  local_44[2] = 0;
  local_44[3] = 0;
  local_34 = 0;
  local_30 = 0x3f800000;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0x3f800000;
  local_18 = 0;
  local_14 = (undefined *)0x0;
  if (param_1 == 0) goto LAB_0046229c;
  DAT_00598904 = 0;
  local_14 = (undefined *)0x461f3f;
  AdjustStackForLargeAllocations();
  local_14 = local_54;
  puVar3 = param_4;
  puVar5 = (undefined4 *)&stack0xfffffff0;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  local_18 = 0x461f54;
  puVar3 = (undefined4 *)FUN_00461930();
  DAT_005987e8 = *puVar3;
  DAT_005987ec = puVar3[1];
  DAT_005987f0 = puVar3[2];
  _DAT_005987f4 = puVar3[3];
  DAT_005987c8 = *(undefined4 *)((uint)*(byte *)(param_2 + 2) * 0x2f + 0x18 + *(int *)(param_2 + 4))
  ;
  DAT_005987cc = *(undefined4 *)((uint)*(byte *)(param_2 + 2) * 0x2f + 0x1c + *(int *)(param_2 + 4))
  ;
  DAT_005987d0 = *(undefined4 *)((uint)*(byte *)(param_2 + 2) * 0x2f + 0x20 + *(int *)(param_2 + 4))
  ;
  if (*(byte *)(param_2 + 2) == 0) {
    DAT_005987f8 = *(int *)(*(int *)(param_2 + 4) + 0x28);
  }
  else {
    iVar4 = (uint)*(byte *)(param_2 + 2) * 0x2f;
    DAT_005987f8 = *(int *)(iVar4 + 0x28 + *(int *)(param_2 + 4)) -
                   *(int *)(iVar4 + *(int *)(param_2 + 4) + -7);
  }
  DAT_005988e0 = DAT_005987e8;
  DAT_005988e4 = DAT_005987ec;
  DAT_005988e8 = DAT_005987f0;
  AdjustStackForLargeAllocations();
  AdjustStackForLargeAllocations();
  puVar3 = (undefined4 *)FUN_00461700();
  DAT_005987d8 = *puVar3;
  DAT_005987dc = puVar3[1];
  DAT_005987e0 = puVar3[2];
  DAT_005987e4 = (float)puVar3[3];
  AdjustStackForLargeAllocations();
  puVar3 = (undefined4 *)FUN_00461850();
  _DAT_00598814 = DAT_005987dc;
  DAT_0059881c = DAT_005987e4 / (float)DAT_005987f8;
  puVar5 = &DAT_00598780;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  _DAT_00598810 = DAT_005987d8;
  _DAT_00598818 = DAT_005987e0;
  AdjustStackForLargeAllocations();
  puVar3 = (undefined4 *)FUN_00461850();
  puVar5 = &DAT_00598820;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  puVar3 = param_4;
  puVar5 = &DAT_00598860;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  FUN_0045ecb0();
  AdjustStackForLargeAllocations();
  puVar3 = &DAT_00598740;
  puVar5 = (undefined4 *)&stack0x00000068;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  puVar3 = (undefined4 *)FUN_00461930();
  _DAT_00598800 = *puVar3;
  _DAT_00598804 = puVar3[1];
  _DAT_00598808 = puVar3[2];
  _DAT_0059880c = (float)puVar3[3];
  fVar1 = *(float *)((uint)*(byte *)(param_2 + 2) * 0x2f + 0x24 + *(int *)(param_2 + 4)) -
          _DAT_0059880c;
  if (fVar1 <= _DAT_004cea50) {
    if (fVar1 < -_DAT_004cea50) {
      fVar2 = _DAT_004cea50 * -2.0;
      goto LAB_00462210;
    }
  }
  else {
    fVar2 = _DAT_004cea50 + _DAT_004cea50;
LAB_00462210:
    fVar1 = fVar1 - fVar2;
  }
  _DAT_00598738 = (float)DAT_005987f8;
  puVar3 = local_44;
  puVar5 = &DAT_005988a0;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  _DAT_005987c0 = -(fVar1 / _DAT_00598738);
  _DAT_00598730 =
       (*(float *)((uint)*(byte *)(param_2 + 2) * 0x2f + *(int *)(param_2 + 4)) -
       *(float *)(param_3 + 0x30)) / _DAT_00598738;
  _DAT_00598734 =
       (*(float *)((uint)*(byte *)(param_2 + 2) * 0x2f + 4 + *(int *)(param_2 + 4)) -
       *(float *)(param_3 + 0x34)) / _DAT_00598738;
  _DAT_00598738 =
       (*(float *)((uint)*(byte *)(param_2 + 2) * 0x2f + 8 + *(int *)(param_2 + 4)) -
       *(float *)(param_3 + 0x38)) / _DAT_00598738;
LAB_0046229c:
  in_stack_000000a4 = &DAT_00598860;
  in_stack_000000a0 = &DAT_00598820;
  in_stack_0000009c = &DAT_00598860;
  in_stack_00000098 = 0x4622b0;
  FUN_0045ecb0();
  DAT_005988f0 = DAT_00598868;
  DAT_005988f4 = DAT_00598878;
  DAT_005988f8 = DAT_00598888;
  DAT_005988fc = ((float)DAT_00598904 - -1.0) * _DAT_005987c0;
  in_stack_000000a4 = (undefined4 *)0x4622f7;
  AdjustStackForLargeAllocations();
  param_22 = (undefined4 *)DAT_005988f0;
  param_23 = (undefined4 *)DAT_005988f4;
  in_stack_000000a4 = (undefined4 *)DAT_005988fc;
  in_stack_000000a0 = &DAT_005988a0;
  param_24 = (undefined4 *)DAT_005988f8;
  in_stack_0000009c = (undefined4 *)0x462324;
  FUN_004615c0();
  param_24 = &DAT_00598860;
  param_23 = &DAT_005988a0;
  param_22 = param_4;
  in_stack_000000a4 = (undefined4 *)0x46233a;
  FUN_0045ecb0();
  *(float *)(param_3 + 0x30) = _DAT_00598730 + *(float *)(param_3 + 0x30);
  *(float *)(param_3 + 0x34) = _DAT_00598734 + *(float *)(param_3 + 0x34);
  *(float *)(param_3 + 0x38) = _DAT_00598738 + *(float *)(param_3 + 0x38);
  DAT_00598904 = DAT_00598904 + 1;
  if (DAT_00598904 != DAT_005987f8) {
    return 0;
  }
  param_24 = param_4;
  param_23 = (undefined4 *)0x46237c;
  FUN_00461d40();
  return 1;
}



void FUN_004623a0(int param_1,int param_2)

{
  int iVar1;
  float *pfVar2;
  int iVar3;
  int iVar4;
  
  **(undefined4 **)(param_1 + 4) = *(undefined4 *)(param_2 + 0x30);
  *(undefined4 *)(*(int *)(param_1 + 4) + 4) = *(undefined4 *)(param_2 + 0x34);
  iVar4 = 1;
  *(undefined4 *)(*(int *)(param_1 + 4) + 8) = *(undefined4 *)(param_2 + 0x38);
  if (1 < *(byte *)(param_1 + 3)) {
    iVar1 = 0x2f;
    do {
      pfVar2 = (float *)(*(int *)(param_1 + 4) + iVar1);
      *pfVar2 = *(float *)((int)pfVar2 + -0x2f) + pfVar2[3];
      iVar3 = *(int *)(param_1 + 4) + iVar1;
      *(float *)(iVar3 + 4) = *(float *)(iVar3 + -0x2b) + *(float *)(iVar3 + 0x10);
      iVar3 = *(int *)(param_1 + 4) + iVar1;
      iVar4 = iVar4 + 1;
      iVar1 = iVar1 + 0x2f;
      *(float *)(iVar3 + 8) = *(float *)(iVar3 + -0x27) + *(float *)(iVar3 + 0x14);
    } while (iVar4 < (int)(uint)*(byte *)(param_1 + 3));
  }
  return;
}



void FUN_00462410(int param_1,int param_2,undefined4 *param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 *extraout_ECX;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [4];
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  
  AdjustStackForLargeAllocations();
  local_44[0] = 0x3f800000;
  local_44[1] = 0;
  local_44[2] = 0;
  local_44[3] = 0;
  local_34 = 0;
  local_30 = 0x3f800000;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0x3f800000;
  local_18 = 0;
  local_14 = 0;
  puVar2 = local_44;
  puVar3 = param_3;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  iVar1 = param_2 * 0x2f;
  local_14 = param_4;
  param_3[0xc] = *(undefined4 *)(*(int *)(param_1 + 4) + iVar1);
  param_3[0xd] = *(undefined4 *)(*(int *)(param_1 + 4) + 4 + iVar1);
  param_3[0xe] = *(undefined4 *)(*(int *)(param_1 + 4) + 8 + iVar1);
  local_18 = 0x4624df;
  AdjustStackForLargeAllocations();
  local_14 = *extraout_ECX;
  local_18 = 0x4624fc;
  FUN_00461b20();
  *(char *)(param_1 + 2) = (char)param_2;
  FUN_00461d40();
  return;
}



void FUN_00462520(int param_1,char *param_2,undefined4 param_3,undefined4 param_4)

{
  if (param_1 != 0) {
    DAT_004cea54 = 1;
    DAT_004cea58 = 1;
    if (param_2[1] != '\0') {
      FUN_004623a0(param_2,param_3);
    }
  }
  if ((*param_2 != '\0') && (param_2[2] == '\0')) {
    FUN_00462410(param_2,0,param_3,param_4);
    if (1 < (byte)param_2[2]) {
      param_2[2] = param_2[2] + 1;
    }
  }
  if (*(char *)(*(int *)(param_2 + 4) + 0x2c + (uint)(byte)param_2[2] * 0x2f) != '\0') {
    FUN_00462410(param_2,(uint)(byte)param_2[2],param_3,param_4);
  }
  if (DAT_004cea54 != 0) {
    DAT_004cea58 = FUN_00461ea0(DAT_004cea58,param_2,param_3,param_4);
    if (DAT_004cea58 == 1) {
      param_2[2] = param_2[2] + '\x01';
      return;
    }
    DAT_004cea58 = 0;
  }
  return;
}



undefined4 FUN_004625e0(int param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  uint uVar2;
  
  if (param_1 != 0) {
    DAT_005d8740 = param_4;
    iVar1 = *(int *)(DAT_005d87e0 + param_4 * 4);
    if (iVar1 == 0) {
      return 0;
    }
    *(undefined *)(iVar1 + 2) = 0;
    DAT_00598e18 = 1;
  }
  if (DAT_00598900 == 0) {
    FUN_004ad7a0(&DAT_005d8760,param_2,0x40);
    FUN_004ad7a0(&DAT_005d87a0,param_3,0x40);
    for (iVar1 = *(int *)(DAT_005df318 + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x16)) {
      uVar2 = *(uint *)(*(int *)(iVar1 + 4) + 0x8a);
      if ((uVar2 & 0x40000000) != 0) {
        *(uint *)(*(int *)(iVar1 + 4) + 0x8a) = uVar2 | 0x80000000;
      }
      *(uint *)(*(int *)(iVar1 + 4) + 0x8a) = *(uint *)(*(int *)(iVar1 + 4) + 0x8a) | 0x40000000;
    }
    DAT_00598900 = 1;
  }
  FUN_00462520(param_1,*(undefined4 *)(DAT_005d87e0 + DAT_005d8740 * 4),param_2,param_3);
  iVar1 = *(int *)(DAT_005d87e0 + DAT_005d8740 * 4);
  if (*(char *)(iVar1 + 2) != *(char *)(iVar1 + 3)) {
    return 0;
  }
  *(char *)(iVar1 + 2) = *(char *)(iVar1 + 3) + -1;
  FUN_004ad7a0(param_2,&DAT_005d8760,0x40);
  FUN_004ad7a0(param_3,&DAT_005d87a0,0x40);
  DAT_00598900 = 0;
  for (iVar1 = *(int *)(DAT_005df318 + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x16)) {
    uVar2 = *(uint *)(*(int *)(iVar1 + 4) + 0x8a);
    if ((uVar2 & 0x80000000) != 0) {
      *(uint *)(*(int *)(iVar1 + 4) + 0x8a) = uVar2 | 0x40000000;
    }
    *(uint *)(*(int *)(iVar1 + 4) + 0x8a) = *(uint *)(*(int *)(iVar1 + 4) + 0x8a) & 0x7fffffff;
  }
  return 1;
}



void FUN_00462750(void)

{
  int iVar1;
  int iVar2;
  
  if (DAT_00598d90 != 0) {
    iVar2 = 0;
    do {
      iVar1 = *(int *)(DAT_005d87e0 + iVar2 * 4);
      if (iVar1 != 0) {
        iVar1 = *(int *)(iVar1 + 4);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(DAT_005d87e0 + iVar2 * 4) + 4) = 0;
        }
        iVar1 = *(int *)(DAT_005d87e0 + iVar2 * 4);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
          *(undefined4 *)(DAT_005d87e0 + iVar2 * 4) = 0;
        }
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 <= (int)(uint)*(ushort *)(DAT_00598d90 + 0x245));
  }
  if (DAT_005d87e0 != 0) {
    FreeMemory(DAT_005d87e0);
    DAT_005d87e0 = 0;
  }
  return;
}



undefined4 FUN_004627e0(void)

{
  int iVar1;
  
  if (DAT_005d873c == 0) {
    DAT_005d873c = FUN_00442950(0,0x3f800000);
    iVar1 = *(int *)(DAT_005df318 + 4);
    while (iVar1 != 0) {
      if (*(short *)(*(int *)(iVar1 + 4) + 2) == 0) {
        *(int *)(*(int *)(iVar1 + 4) + 0x86) = DAT_005d873c;
        *(int *)(*(int *)(iVar1 + 4) + 0x98) =
             *(int *)(*(int *)(*(int *)(iVar1 + 4) + 0x86) + 0x13) + 0x104;
        iVar1 = *(int *)(iVar1 + 10);
      }
    }
    FUN_00441c80(0);
  }
  return 1;
}



void FUN_00462860(void)

{
  int *piVar1;
  int iVar2;
  
  if (DAT_005d873c != 0) {
    piVar1 = *(int **)(*(int *)(DAT_005d873c + 0x13) + 0x8d);
    if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x8d) = 0;
    }
    else {
      (**(code **)(*piVar1 + 8))(piVar1);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x8d) = 0;
    }
    piVar1 = *(int **)(*(int *)(DAT_005d873c + 0x13) + 0x126);
    if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x126) = 0;
    }
    else {
      (**(code **)(*piVar1 + 8))(piVar1);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x126) = 0;
    }
    piVar1 = *(int **)(*(int *)(DAT_005d873c + 0x13) + 0x91);
    if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x91) = 0;
    }
    else {
      (**(code **)(*piVar1 + 8))(piVar1);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x91) = 0;
    }
    piVar1 = *(int **)(*(int *)(DAT_005d873c + 0x13) + 0x12a);
    if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x12a) = 0;
    }
    else {
      (**(code **)(*piVar1 + 8))(piVar1);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 0x12a) = 0;
    }
    FUN_0048b320(*(undefined4 *)(DAT_005d873c + 0x13));
    FUN_004a6760(*(undefined4 *)(DAT_005d873c + 0x13));
    FUN_0040e630(*(undefined4 *)(DAT_005d873c + 0x13));
    iVar2 = *(int *)(*(int *)(DAT_005d873c + 0x13) + 8);
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 8) = 0;
    }
    iVar2 = *(int *)(*(int *)(DAT_005d873c + 0x13) + 4);
    if (iVar2 != 0) {
      FreeMemory(iVar2);
      *(undefined4 *)(*(int *)(DAT_005d873c + 0x13) + 4) = 0;
    }
    if (*(int *)(DAT_005d873c + 0x13) != 0) {
      FreeMemory(*(int *)(DAT_005d873c + 0x13));
      *(undefined4 *)(DAT_005d873c + 0x13) = 0;
    }
    if (DAT_005d873c != 0) {
      FreeMemory(DAT_005d873c);
      DAT_005d873c = 0;
    }
  }
  return;
}



void FUN_00462a10(int param_1)

{
  HRESULT HVar1;
  
  HVar1 = CoCreateInstance((IID *)&DAT_004c12f0,(LPUNKNOWN)0x0,1,(IID *)&DAT_004c12e0,&DAT_0059890c)
  ;
  if (HVar1 == 0) {
    if (param_1 != 0) {
      (**(code **)(*DAT_0059890c + 0x98))(DAT_0059890c,param_1,0);
    }
    (**(code **)*DAT_0059890c)(DAT_0059890c,&DAT_004c12c0,&DAT_00598908);
  }
  return;
}



undefined4 FUN_00462a60(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  AdjustStackForLargeAllocations();
  uVar1 = 0x80004005;
  _memset(&stack0xffffffec,0,0x10);
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x18))(DAT_00598908,param_1,&stack0xffffffec,param_3);
  }
  DAT_005d86c0 = DAT_0059890c;
  return uVar1;
}



undefined4 FUN_00462ad0(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_24;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uVar1 = 0x80004005;
  uStackY_18 = 0x462af0;
  _memset(&local_54,0,0x50);
  local_54 = 0x50;
  local_50 = 0;
  local_24 = param_1;
  local_2c = param_2;
  if (DAT_005d66b8 != (undefined4 *)0x0) {
    local_3c = *DAT_005d66b8;
    local_38 = DAT_005d66b8[1];
    local_34 = DAT_005d66b8[2];
    local_30 = DAT_005d66b8[3];
  }
  if (DAT_00598908 != (int *)0x0) {
    uStackY_18 = 0x462b42;
    uVar1 = (**(code **)(*DAT_00598908 + 0x60))();
  }
  return uVar1;
}



undefined4 FUN_00462b50(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x24))(DAT_00598908,param_1);
  }
  return uVar1;
}



undefined4 FUN_00462b70(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x30))(DAT_00598908,param_1,param_2,param_3,param_4);
  }
  return uVar1;
}



undefined4 FUN_00462ba0(undefined4 param_1)

{
  undefined4 uVar1;
  undefined4 local_54 [6];
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 uStackY_24;
  int *piStackY_20;
  undefined4 *puStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uVar1 = 0x80004005;
  uStackY_18 = 0x462bc0;
  _memset(local_54,0,0x50);
  local_54[0] = 0x50;
  if (DAT_005d66b8 != (undefined4 *)0x0) {
    local_3c = *DAT_005d66b8;
    local_38 = DAT_005d66b8[1];
    local_34 = DAT_005d66b8[2];
    local_30 = DAT_005d66b8[3];
  }
  if (DAT_00598908 != (int *)0x0) {
    uStackY_18 = param_1;
    puStackY_1c = local_54;
    piStackY_20 = DAT_00598908;
    uStackY_24 = 0x462c0d;
    uVar1 = (**(code **)(*DAT_00598908 + 0x34))();
  }
  return uVar1;
}



undefined4 FUN_00462c20(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x50))(DAT_00598908,param_1,param_2,param_3,param_4);
  }
  return uVar1;
}



int FUN_00462c50(void)

{
  void *_Dst;
  size_t unaff_ESI;
  int iVar1;
  
  AdjustStackForLargeAllocations();
  iVar1 = -0x7fffbffb;
  if (DAT_005d8738 != (void *)0x0) {
    FreeMemory(DAT_005d8738);
    DAT_005d8738 = (void *)0x0;
  }
  if (DAT_00598908 != (int *)0x0) {
    iVar1 = (**(code **)(*DAT_00598908 + 0x58))(DAT_00598908,0,&stack0xfffffff8);
    if (iVar1 == -0x7788ffe2) {
      iVar1 = 0;
      _Dst = (void *)AllocateMemoryWithCallback(unaff_ESI);
      DAT_005d8738 = _memset(_Dst,iVar1,unaff_ESI);
      if (DAT_005d8738 != (void *)0x0) {
        iVar1 = (**(code **)(*DAT_00598908 + 0x58))(DAT_00598908,DAT_005d8738,&stack0xfffffff8);
        return iVar1;
      }
      iVar1 = -0x7ff8fff2;
      DAT_005d8738 = (void *)0x0;
    }
  }
  return iVar1;
}



bool FUN_00462cf0(void)

{
  return DAT_00598908 != 0;
}



undefined4 FUN_00462d00(undefined4 *param_1)

{
  undefined4 uVar1;
  undefined4 local_54 [2];
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uVar1 = 0x80004005;
  uStackY_18 = 0x462d20;
  _memset(local_54,0,0x50);
  local_54[0] = 0x50;
  if (param_1 != (undefined4 *)0x0) {
    local_4c = *param_1;
    local_48 = param_1[1];
    local_44 = param_1[2];
    local_40 = param_1[3];
  }
  if (DAT_005d66b8 != (undefined4 *)0x0) {
    local_3c = *DAT_005d66b8;
    local_38 = DAT_005d66b8[1];
    local_34 = DAT_005d66b8[2];
    local_30 = DAT_005d66b8[3];
  }
  if (DAT_00598908 != (int *)0x0) {
    uStackY_18 = 0x462d7d;
    uVar1 = (**(code **)(*DAT_00598908 + 0x60))();
  }
  return uVar1;
}



undefined4
FUN_00462d90(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 100))(DAT_00598908,param_1,param_2,param_3,param_4,param_5)
    ;
  }
  return uVar1;
}



undefined4 FUN_00462dc0(void)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    if (DAT_005d8738 != 0) {
      FreeMemory(DAT_005d8738);
      DAT_005d8738 = 0;
    }
    if (DAT_005d86d4 != 0) {
      FreeMemory(DAT_005d86d4);
      DAT_005d86d4 = 0;
    }
    uVar1 = (**(code **)(*DAT_00598908 + 8))(DAT_00598908);
    DAT_00598908 = (int *)0x0;
  }
  if (DAT_0059890c != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_0059890c + 8))(DAT_0059890c);
    DAT_0059890c = (int *)0x0;
  }
  return uVar1;
}



undefined4
FUN_00462e30(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x68))
                      (DAT_00598908,param_1,param_2,param_3,param_4,param_5);
  }
  return uVar1;
}



undefined4 FUN_00462e60(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  uVar1 = 0x80004005;
  if (DAT_00598908 != (int *)0x0) {
    uVar1 = (**(code **)(*DAT_00598908 + 0x74))(DAT_00598908,param_1,param_2,param_3,param_4);
  }
  return uVar1;
}



void FUN_00462e90(uint param_1)

{
  uint uVar1;
  
  uVar1 = param_1 ^ DAT_00598914;
  if (uVar1 != 0) {
    if ((param_1 & uVar1) != 0) {
      DAT_00598914 = FUN_00462f30(param_1,DAT_00598914);
    }
    if ((DAT_00598914 & uVar1) != 0) {
      DAT_00598914 = FUN_00463070(param_1,DAT_00598914);
    }
  }
  return;
}



void FUN_00462ed0(undefined4 param_1)

{
  FUN_00462e90(param_1);
  return;
}



void FUN_00462ef0(undefined4 param_1)

{
  FUN_00462e90(param_1);
  return;
}



void FUN_00462f10(void)

{
  return;
}



void FUN_00462f20(void)

{
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00462f30(uint param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  bool bVar3;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005df318 + 4);
  bVar3 = _DAT_0059891c != *(float *)(*(int *)(iVar1 + 4) + 0xf7);
  uVar2 = *(uint *)(*(int *)(iVar1 + 4) + 0x8a);
  if ((uVar2 & 0x400) == 0) {
    if ((uVar2 & 0x20000000) == 0) {
      if (((param_2 ^ param_1) & 0x3ff) == 0) goto LAB_0046302d;
      if ((param_1 & 0x20) != 0) {
        iVar4 = FUN_00409bd0(iVar1,*(int *)(*(int *)(*(int *)(iVar1 + 4) + 0x86) + 0x13) + 0x8d,0);
        if (iVar4 == 0) {
          if (param_2 != (param_1 & 0xffffffdf)) {
            FUN_00462f30(param_1 & 0xffffffdf,param_2);
          }
          goto LAB_0046302d;
        }
        if (*(int *)(*(int *)(*(int *)(*(int *)(iVar1 + 4) + 0x86) + 0x13) + 0x7f) == 0x1b)
        goto LAB_0046302d;
      }
      DAT_00598910 = param_1 & 0x3ff;
    }
    else {
      if ((((param_2 ^ param_1) & 0x30) == 0) && ((param_1 & 0x34f) == 0)) goto LAB_0046302d;
      if ((param_1 & 0x20) == 0) {
        DAT_00598910 = param_1 & 0x30;
      }
      else {
        if (*(int *)(*(int *)(*(int *)(*(int *)(iVar1 + 4) + 0x86) + 0x13) + 0x7f) == 0x1b)
        goto LAB_0046302d;
        DAT_00598910 = param_1 & 0x30;
      }
    }
  }
  else {
    if ((DAT_00598910 & 0x34f) == 0) goto LAB_0046302d;
    DAT_00598910 = param_1 & 0x30;
  }
  FUN_00466530(7,0,0,DAT_00598910,0,0);
LAB_0046302d:
  if (bVar3) {
    _DAT_0059891c = *(float *)(*(int *)(iVar1 + 4) + 0xf7);
  }
  return DAT_00598910;
}



uint FUN_00463070(uint param_1,uint param_2)

{
  uint uVar1;
  
  param_2 = param_2 ^ param_1;
  if ((param_2 & 0x80) == 0) {
    if ((param_2 & 0x3ff) == 0) {
      return DAT_00598910;
    }
    if (((param_2 & 0x20) != 0) && ((DAT_00598910 & 0x20) == 0)) {
LAB_004630e4:
      uVar1 = param_1 & 0x3df;
      goto LAB_004630fa;
    }
  }
  else {
    if ((param_1 & 0x34f) == 0) {
      if ((param_2 & 0x30) == 0) {
        return DAT_00598910;
      }
      if (((param_2 & 0x20) == 0) || ((DAT_00598910 & 0x20) == 0)) {
        uVar1 = param_1 & 0x10;
      }
      else {
        uVar1 = param_1 & 0x30;
      }
      goto LAB_004630fa;
    }
    uVar1 = param_1 & 0x34f;
    if ((param_2 & 0x30) == 0) goto LAB_004630fa;
    if ((param_2 & 0x20) == 0) goto LAB_004630e4;
    if ((DAT_00598910 & 0x20) == 0) {
      uVar1 = param_1 & 0x3df;
      goto LAB_004630fa;
    }
  }
  uVar1 = param_1 & 0x3ff;
LAB_004630fa:
  DAT_00598910 = uVar1;
  FUN_00466530(7,0,0,DAT_00598910,0,0);
  return DAT_00598910;
}



undefined2 * FUN_00463110(undefined4 param_1)

{
  undefined2 *puVar1;
  undefined4 uVar2;
  
  puVar1 = (undefined2 *)FUN_00425fa0();
  *puVar1 = (short)param_1;
  *(undefined *)(puVar1 + 2) = 100;
  *(undefined4 *)((int)puVar1 + 5) = 0x640;
  *(undefined *)(puVar1 + 5) = 0;
  uVar2 = FUN_0040a500(*(undefined4 *)(DAT_005e5010 + 8),puVar1,param_1);
  *(undefined4 *)((int)puVar1 + 0x13) = uVar2;
  FUN_00474f20(puVar1);
  *(short *)(*(int *)((int)puVar1 + 0x13) + 0xa1) =
       *(short *)(*(int *)((int)puVar1 + 0x13) + 0xa1) << 1;
  return puVar1;
}



void FUN_00463170(uint param_1)

{
  undefined4 uVar1;
  undefined4 unaff_EBX;
  undefined2 *puVar2;
  undefined2 *puVar3;
  uint uVar4;
  bool bVar5;
  
  AdjustStackForLargeAllocations();
  bVar5 = param_1 == 1;
  param_1 = param_1 * 5;
  if (bVar5) {
    param_1 = 0x14;
  }
  uVar4 = 0;
  if (param_1 != 0) {
    puVar2 = &DAT_005d86e2;
    puVar3 = &DAT_005d86e0;
    do {
      uVar1 = FUN_00475400();
      *puVar3 = (short)uVar1;
      FUN_00442220(&stack0xfffffff0,uVar1);
      if ((char)((uint)unaff_EBX >> 0x10) != '\0') {
        if (uVar4 == param_1 - 1) {
          *puVar3 = DAT_005d86e0;
        }
        else {
          uVar4 = uVar4 + 1;
          *puVar2 = *puVar3;
          puVar3 = puVar3 + 1;
          puVar2 = puVar2 + 1;
        }
      }
      uVar4 = uVar4 + 1;
      puVar3 = puVar3 + 1;
      puVar2 = puVar2 + 1;
    } while (uVar4 < param_1);
  }
  return;
}



undefined4 FUN_00463200(void)

{
  undefined4 uVar1;
  undefined2 *puVar2;
  undefined4 *puVar3;
  uint uVar4;
  
  DAT_005d8730 = DAT_005d6760 * 5;
  if (DAT_005d6760 == 1) {
    DAT_005d8730 = 0x14;
  }
  uVar4 = 0;
  if (DAT_005d8730 != 0) {
    puVar3 = &DAT_005e2190;
    puVar2 = &DAT_005d86e0;
    do {
      _memset(puVar3 + -4,0,0xe0);
      uVar1 = FUN_00463110(*puVar2);
      *puVar3 = uVar1;
      *(undefined4 *)((int)puVar3 + 0x9b) = 5;
      FUN_0046d7e0(*puVar3);
      DAT_004d7ab4 = DAT_004d7ab4 + '\x01';
      uVar4 = uVar4 + 1;
      puVar2 = puVar2 + 1;
      puVar3 = puVar3 + 0x38;
    } while (uVar4 < DAT_005d8730);
  }
  DAT_00598980 = 1;
  if (DAT_0059897c != '\0') {
    FUN_00466530(0xc,0,0,0,0,0);
  }
  if (DAT_00598944 != 0) {
    FUN_00415440();
  }
  return 0;
}



void FUN_004632d0(void)

{
  FUN_00475bf0(&DAT_005e4675,*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6,1,0);
  if (DAT_005d6c94 != 0) {
    FUN_00463170(DAT_005d6760);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00463310(int param_1)

{
  int iVar1;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_00598920;
  if ((&DAT_005e222b)[DAT_00598920 * 0x38] != 0) {
    (&DAT_005e2181)[DAT_00598920 * 0xe0] = 0x32;
    *(undefined4 *)((int)&DAT_005a464e + iVar1 * 0x16) = 0x37;
    FUN_0046d420();
  }
  DAT_00598920 = DAT_00598920 + 1;
  if (param_1 == 1) {
    param_1 = 4;
  }
  if (DAT_00598920 < (uint)(param_1 * 5)) {
    return 1;
  }
  DAT_00598920 = 0;
  return 0;
}



int FUN_00463450(void)

{
  void *_Dst;
  size_t unaff_ESI;
  int iVar1;
  int _Val;
  
  AdjustStackForLargeAllocations();
  iVar1 = -0x7fffbffb;
  if (DAT_00598928 != (int *)0x0) {
    iVar1 = (**(code **)(*DAT_00598928 + 0x20))(DAT_00598928,0,0,&stack0xfffffff8);
    if (iVar1 == -0x7788ffe2) {
      if (DAT_005d86d4 != (void *)0x0) {
        FreeMemory(DAT_005d86d4);
        DAT_005d86d4 = (void *)0x0;
      }
      _Val = 0;
      _Dst = (void *)AllocateMemoryWithCallback(unaff_ESI);
      DAT_005d86d4 = _memset(_Dst,_Val,unaff_ESI);
      if (DAT_005d86d4 != (void *)0x0) {
        iVar1 = (**(code **)(*DAT_00598928 + 0x20))(DAT_00598928,0,DAT_005d86d4,&stack0xfffffff8);
      }
    }
  }
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00463550(void)

{
  void *pvVar1;
  int iVar2;
  size_t sVar3;
  
  sVar3 = 0xa0;
  iVar2 = 0;
  DAT_005d66b8 = &DAT_004c13f0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0xa0);
  DAT_005e4480 = _memset(pvVar1,iVar2,sVar3);
  _DAT_005d7a88 = __allshl();
  QueryPerformanceCounter((LARGE_INTEGER *)&DAT_00598930);
  _memset(&DAT_005d7aa0,0,0x1aa);
  sVar3 = 0x800;
  iVar2 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x800);
  DAT_005d8464 = _memset(pvVar1,iVar2,sVar3);
  CoInitialize((LPVOID)0x0);
  FUN_00465d40();
  _DAT_00598974 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
  DAT_005d86c4 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
  DAT_0059896c = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
  FUN_004afd20(FUN_00463840,0,&DAT_005d86c0);
  iVar2 = FUN_004637a0(0,&DAT_005d86a0);
  if (iVar2 == 1) {
    FUN_00463670();
    return 0;
  }
  _DAT_00598978 = 1;
  DAT_005d7824 = FUN_004747f0();
  return 1;
}



void FUN_00463670(void)

{
  FUN_004637d0(&DAT_005d86a0);
  CoUninitialize();
  if (DAT_005e4480 != 0) {
    FreeMemory(DAT_005e4480);
    DAT_005e4480 = 0;
  }
  FUN_00465e20();
  if (DAT_005d8464 != 0) {
    FreeMemory(DAT_005d8464);
    DAT_005d8464 = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004636d0(void)

{
  FUN_004858f0(3);
  if (DAT_005d6c94 != 0) {
    _DAT_005d70a8 = 1;
    _DAT_005d7a80 = 0;
    _DAT_00598950 = 1;
    FUN_0046ac80(&DAT_005d67e0 + DAT_00598b6c * 0x30,0,0,0);
    DAT_005d7844 = 1;
    DAT_005d7846 = 1;
    DAT_005d7845 = 1;
    FUN_00466530(0x16,0,0,0,0,0);
    timeSetEvent(5000,1000,FUN_00465100,0,1);
    return;
  }
  DAT_005d7846 = 1;
  FUN_00466530(0xb,0,0,0,0,0);
  FUN_00466530(0x16,0,1,0,0,0);
  _DAT_00598950 = 1;
  return;
}



bool FUN_004637a0(undefined4 param_1,void *param_2)

{
  int iVar1;
  
  _memset(param_2,0,0x10);
  iVar1 = FUN_00467500(0);
  return iVar1 != 0;
}



undefined4 FUN_004637d0(int **param_1)

{
  int *piVar1;
  
  if (DAT_0059896c != (HANDLE)0x0) {
    CloseHandle(DAT_0059896c);
    DAT_0059896c = (HANDLE)0x0;
  }
  piVar1 = *param_1;
  if (piVar1 != (int *)0x0) {
    if (param_1[2] != (int *)0x0) {
      (**(code **)(*piVar1 + 0x24))(piVar1,param_1[2]);
      param_1[2] = (int *)0x0;
    }
    (**(code **)(**param_1 + 0x10))(*param_1);
    (**(code **)(**param_1 + 8))(*param_1);
    *param_1 = (int *)0x0;
  }
  if (param_1[1] != (int *)0x0) {
    CloseHandle(param_1[1]);
    param_1[1] = (int *)0x0;
  }
  return 0;
}



void FUN_00463840(undefined4 param_1)

{
  HANDLE hThread;
  DWORD DVar1;
  
  AdjustStackForLargeAllocations();
  hThread = GetCurrentThread();
  SetThreadPriority(hThread,2);
  DVar1 = WaitForMultipleObjects(2,(HANDLE *)&stack0xfffffff4,0,DAT_005d86c4);
  while (DVar1 == 0) {
    FUN_004638b0(param_1);
    DVar1 = WaitForMultipleObjects(2,(HANDLE *)&stack0xfffffff4,0,0xffffffff);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004638b0(int **param_1)

{
  ushort *puVar1;
  int *piVar2;
  int **ppiVar3;
  int iVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  ppiVar3 = param_1;
  do {
    piVar2 = *ppiVar3;
    param_1 = (int **)0x0;
    iVar4 = (**(code **)(*piVar2 + 100))
                      (piVar2,&param_1,&stack0xfffffff4,1,&DAT_005d7c60,&stack0xfffffff8);
    if (iVar4 < 0) {
      return 0;
    }
    if (param_1 == (int **)0x0) {
      FUN_00463a50(ppiVar3,&DAT_005d7c60,0x800,0,0);
    }
    else if (_DAT_00598950 != 0) {
      if (DAT_005d7c60 == 0x20) {
        DAT_005d675c = DAT_005d675c + 1;
      }
      if (DAT_00598948 == 0) {
        uVar5 = DAT_005d7c64 & 0xffff;
        if ((((((&DAT_005d7844)[uVar5 * 0x48] != '\0') || (DAT_005d7c60 == 0x16)) ||
             (DAT_005d7c60 == 0)) || ((DAT_005d7c60 == 2 || (DAT_005d7c60 == 0xb)))) ||
           (DAT_005d7c60 == 3)) {
          if ((&DAT_005d7848)[uVar5 * 0x12] != 0) {
            (&DAT_005d7852)[uVar5 * 0x24] = 0;
            puVar1 = (ushort *)(*(int *)((&DAT_005d7848)[uVar5 * 0x12] + 4) + 0x8e);
            *puVar1 = *puVar1 & 0x7fff;
          }
          QueryPerformanceCounter((LARGE_INTEGER *)&DAT_005d7c6e);
          FUN_00465e30(1,DAT_005d8460,DAT_005d7a94,&DAT_005d7c60,0x800,param_1);
        }
      }
      else {
        uVar5 = DAT_005d7c64 & 0xffff;
        if (((&DAT_005d7844)[uVar5 * 0x48] != '\0') || (DAT_005d7c60 == 0x16)) {
          if ((&DAT_005d7848)[uVar5 * 0x12] != 0) {
            (&DAT_005d7852)[uVar5 * 0x24] = 0;
            puVar1 = (ushort *)(*(int *)((&DAT_005d7848)[uVar5 * 0x12] + 4) + 0x8e);
            *puVar1 = *puVar1 & 0x7fff;
          }
          QueryPerformanceCounter((LARGE_INTEGER *)&DAT_005d7c6e);
          FUN_00465e30(1,DAT_005d8460,DAT_005d7a94,&DAT_005d7c60,0x800,param_1);
        }
      }
    }
  } while (-1 < iVar4);
  return 0;
}



void FUN_00463a50(void)

{
  return;
}



void FUN_00463a60(LPCSTR param_1)

{
  CHAR local_104 [236];
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  wsprintfA(local_104,param_1);
  uStackY_18 = 0x463a9b;
  MessageBoxA((HWND)0x0,local_104,s_Error_004cebe4,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00463aa0(void)

{
  char cVar1;
  LSTATUS LVar2;
  void *pvVar3;
  char *pcVar4;
  HKEY unaff_EBX;
  uint uVar5;
  BYTE local_12c [256];
  undefined4 local_2c;
  undefined4 local_28;
  int iVar6;
  size_t sVar7;
  
  AdjustStackForLargeAllocations();
  local_28._0_1_ = s_Network_Logon_004cebec[4];
  local_28._1_1_ = s_Network_Logon_004cebec[5];
  local_28._2_1_ = s_Network_Logon_004cebec[6];
  local_28._3_1_ = s_Network_Logon_004cebec[7];
  local_2c._0_1_ = s_Network_Logon_004cebec[0];
  local_2c._1_1_ = s_Network_Logon_004cebec[1];
  local_2c._2_1_ = s_Network_Logon_004cebec[2];
  local_2c._3_1_ = s_Network_Logon_004cebec[3];
  LVar2 = RegOpenKeyExA((HKEY)0x80000002,(LPCSTR)&local_2c,0,CONCAT31(0x200,s_username_004cebfc[8]),
                        (PHKEY)&stack0xfffffff8);
  if (LVar2 == 0) {
    local_28._0_1_ = '/';
    local_28._1_1_ = ';';
    local_28._2_1_ = 'F';
    local_28._3_1_ = '\0';
    LVar2 = RegQueryValueExA(unaff_EBX,&stack0xffffffe4,(LPDWORD)0x0,(LPDWORD)0x0,local_12c,
                             (LPDWORD)0xff);
    if (LVar2 != 0) {
      FID_conflict___mbscpy((char *)local_12c,s_default_004cec08);
    }
    RegCloseKey(unaff_EBX);
  }
  else {
    FID_conflict___mbscpy((char *)local_12c,s_default_004cec10);
  }
  sVar7 = 0x1000;
  iVar6 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  _DAT_005d86d0 = _memset(pvVar3,iVar6,sVar7);
  sVar7 = 0x1000;
  iVar6 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  _DAT_005d8468 = _memset(pvVar3,iVar6,sVar7);
  FUN_004afff0();
  FUN_004af670();
  FID_conflict__strcat(&DAT_005d85a0,s_c__HedzNetDebug__004cec18);
  FID_conflict__strcat(&DAT_005d85a0,(char *)local_12c);
  FID_conflict__strcat(&DAT_005d85a0,s__SEND__004cec2c);
  pcVar4 = (char *)FUN_004aff90();
  FID_conflict__strcat(&DAT_005d85a0,pcVar4);
  FID_conflict__strcat(&DAT_005d85a0,&DAT_004cec34);
  FID_conflict__strcat(&DAT_005d8480,s_c__HedzNetDebug__004cec3c);
  FID_conflict__strcat(&DAT_005d8480,(char *)local_12c);
  FID_conflict__strcat(&DAT_005d8480,s__REC__004cec50);
  pcVar4 = (char *)FUN_004aff90();
  FID_conflict__strcat(&DAT_005d8480,pcVar4);
  FID_conflict__strcat(&DAT_005d8480,&DAT_004cec58);
  uVar5 = 2;
  sVar7 = _strlen(&DAT_005d85a0);
  if (2 < sVar7) {
    do {
      cVar1 = (&DAT_005d85a0)[uVar5];
      if ((((cVar1 == ' ') || (cVar1 == '\n')) || (cVar1 == ':')) || (cVar1 == '\x1e')) {
        (&DAT_005d85a0)[uVar5] = 0x5f;
      }
      uVar5 = uVar5 + 1;
      sVar7 = _strlen(&DAT_005d85a0);
    } while (uVar5 < sVar7);
  }
  uVar5 = 2;
  sVar7 = _strlen(&DAT_005d8480);
  if (2 < sVar7) {
    do {
      cVar1 = (&DAT_005d8480)[uVar5];
      if (((cVar1 == ' ') || (cVar1 == '\n')) || ((cVar1 == ':' || (cVar1 == '\x1e')))) {
        (&DAT_005d8480)[uVar5] = 0x5f;
      }
      uVar5 = uVar5 + 1;
      sVar7 = _strlen(&DAT_005d8480);
    } while (uVar5 < sVar7);
  }
  iVar6 = FUN_004afef0();
  if (iVar6 != 0) {
    FUN_004afec0();
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 * FUN_00463d50(void)

{
  undefined2 uVar1;
  ushort uVar2;
  int iVar3;
  uint uVar4;
  undefined2 *puVar5;
  undefined *puVar6;
  int *piVar7;
  undefined2 *puVar8;
  int iVar9;
  byte bVar10;
  uint uVar11;
  char *_Source;
  int iVar12;
  char *_Dest;
  bool bVar13;
  float10 fVar14;
  undefined4 local_8bc;
  int local_8b8;
  undefined4 local_8ac;
  ushort local_8a8;
  uint local_89e;
  int local_89a;
  byte local_895;
  char cStackY_894;
  byte bStackY_893;
  byte bStackY_892;
  undefined local_891;
  byte bStackY_88f;
  char cStackY_888;
  undefined local_886;
  undefined uStackY_885;
  undefined2 uStackY_884;
  undefined4 local_882;
  undefined4 local_87e;
  undefined4 local_87a;
  undefined local_876;
  char cStackY_875;
  char cStackY_874;
  char acStackY_873 [392];
  int local_6eb;
  undefined4 local_6e7;
  undefined local_6e3;
  undefined2 local_6e2;
  undefined2 local_6df [78];
  undefined4 local_642;
  undefined uStackY_63e;
  char local_635 [1417];
  undefined4 local_ac;
  char local_a8 [8];
  char local_a0 [44];
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  float local_68;
  float local_64;
  float local_60;
  undefined4 local_5c [5];
  undefined local_46;
  undefined local_44;
  undefined local_43;
  undefined local_42;
  undefined2 local_3f;
  undefined2 local_3d;
  undefined2 local_3b;
  undefined local_39;
  undefined uStackY_38;
  undefined2 local_37;
  undefined local_35;
  uint uStackY_34;
  char *pcStackY_30;
  undefined4 *puStackY_2c;
  float *pfStackY_28;
  code *pcVar15;
  undefined4 *puVar16;
  undefined4 *puVar17;
  int iVar18;
  
  AdjustStackForLargeAllocations();
  iVar12 = 0;
  bVar13 = false;
  WaitForSingleObject(DAT_005d7a94,0xffffffff);
  puVar17 = &local_8bc;
  FUN_004ad7a0();
  **(undefined4 **)(DAT_005d8460 + 8) = 0;
  *(undefined4 *)(DAT_005d8460 + 8) = local_ac;
  *(int *)(DAT_005d8460 + 4) = *(int *)(DAT_005d8460 + 4) + -1;
  SetEvent(DAT_005d7a94);
  uVar4 = (uint)local_8a8;
  puVar16 = (undefined4 *)(&DAT_005d7848)[uVar4 * 0x12];
  if (puVar16 != (undefined4 *)0x0) {
    iVar12 = puVar16[1];
  }
  switch(local_8ac) {
  case 0:
    _DAT_005d7a80 = CONCAT13(bStackY_892,CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)));
    DAT_005d86b0 = local_6e3;
    DAT_005d6760 = local_642 & 0xff;
    FUN_004783e0();
    DAT_005d70a4 = CONCAT13(uStackY_63e,local_642._1_3_);
    uVar4 = 0;
    if (DAT_005d70a4 != 0) {
      _Dest = &DAT_005d67e0;
      _Source = local_635;
      do {
        FID_conflict___mbscpy(_Dest,_Source);
        uVar4 = uVar4 + 1;
        _Source = _Source + 0xd;
        _Dest = _Dest + 0x30;
      } while (uVar4 < CONCAT13(uStackY_63e,local_642._1_3_));
    }
    iVar12 = DAT_005d6760 * 5;
    if (iVar12 != 0) {
      puVar8 = &DAT_005d86e0;
      puVar5 = &local_6e2;
      do {
        uVar1 = *puVar5;
        puVar5 = puVar5 + 2;
        *puVar8 = uVar1;
        puVar8 = puVar8 + 1;
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
    }
    DAT_005d70a0 = local_6e7;
    FUN_0046ac80();
    iVar18 = DAT_005df318;
    iVar12 = _DAT_005d7a80;
    iVar9 = _DAT_005d7a80 * 0x48;
    (&DAT_005d7840)[_DAT_005d7a80 * 0x12] = DAT_005d86c8;
    (&DAT_005d7848)[iVar12 * 0x12] = *(undefined4 *)(iVar18 + 4);
    (&DAT_005d7844)[iVar9] = 1;
    FID_conflict___mbscpy(&DAT_005d7854 + iVar9,&DAT_005d6768);
    FUN_004931d0();
    pfStackY_28 = (float *)0x4;
    *(short *)(*(int *)((&DAT_005d7848)[_DAT_005d7a80 * 0x12] + 4) + 0x1aa) = (short)_DAT_005d7a80;
    puStackY_2c = (undefined4 *)0x46420e;
    FUN_00466530();
    puVar17 = (undefined4 *)0x0;
    pfStackY_28 = (float *)0x16;
    puStackY_2c = (undefined4 *)0x464226;
    FUN_00466530();
    FUN_0048daa0();
    return puVar17;
  case 1:
    uVar4 = QueryPerformanceCounter((LARGE_INTEGER *)&stack0xffffffec);
    uVar11 = (local_89e - DAT_00598958) - uVar4;
    bVar13 = CARRY4(DAT_005d7a88,uVar11);
    DAT_005d7a88 = DAT_005d7a88 + uVar11;
    pcVar15 = FUN_00465170;
    DAT_005d7a8c = DAT_005d7a8c +
                   ((((local_89a - DAT_0059895c) - (uint)(local_89e < DAT_00598958)) -
                    ((int)uVar4 >> 0x1f)) - (uint)(local_89e - DAT_00598958 < uVar4)) + (uint)bVar13
    ;
    pfStackY_28 = (float *)0x4643e4;
    DAT_005d7a90 = timeSetEvent(8000,1000,FUN_00465170,0,0);
    return (undefined4 *)pcVar15;
  case 2:
    iVar12 = DAT_005d6760 * 5;
    if (iVar12 != 0) {
      puVar8 = &DAT_005d86e0;
      puVar5 = local_6df;
      do {
        uVar1 = *puVar5;
        puVar5 = puVar5 + 2;
        *puVar8 = uVar1;
        puVar8 = puVar8 + 1;
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
    }
    FUN_004ad7a0();
    _DAT_005d7a80 = local_6eb;
    FUN_004783e0();
    iVar12 = DAT_005d6760 * 5;
    if (iVar12 != 0) {
      puVar8 = &DAT_005d86e0;
      puVar5 = local_6df;
      do {
        uVar1 = *puVar5;
        puVar5 = puVar5 + 2;
        *puVar8 = uVar1;
        puVar8 = puVar8 + 1;
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
    }
    FUN_0046ac80();
    iVar18 = DAT_005df318;
    iVar12 = _DAT_005d7a80;
    iVar9 = _DAT_005d7a80 * 0x48;
    (&DAT_005d7840)[_DAT_005d7a80 * 0x12] = DAT_005d86c8;
    (&DAT_005d7848)[iVar12 * 0x12] = *(undefined4 *)(iVar18 + 4);
    (&DAT_005d7844)[iVar9] = 1;
    FID_conflict___mbscpy(&DAT_005d7854 + iVar9,&DAT_005d6768);
    FUN_004931d0();
    pfStackY_28 = (float *)0x4;
    *(undefined2 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x1aa) = DAT_005d7a80;
    puStackY_2c = (undefined4 *)0x464356;
    FUN_00466530();
    puVar17 = (undefined4 *)0x0;
    pfStackY_28 = (float *)0x16;
    puStackY_2c = (undefined4 *)0x46436f;
    FUN_00466530();
    FUN_0048daa0();
    return puVar17;
  case 3:
    _DAT_00598958 = __allshr();
    QueryPerformanceCounter((LARGE_INTEGER *)&stack0xffffffec);
    return puVar17;
  case 5:
    puVar17 = (undefined4 *)
              (&DAT_005d7848)
              [CONCAT13(local_891,CONCAT12(bStackY_892,CONCAT11(bStackY_893,cStackY_894))) * 0x12];
    if (((&DAT_005e2180)[(CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)) & 0xff) * 0xe0] & 2)
        == 0) {
      FUN_00425eb0();
    }
    else {
      puVar17 = (undefined4 *)0x0;
      pfStackY_28 = (float *)0x1a;
      puStackY_2c = (undefined4 *)0x4646b2;
      FUN_00466530();
    }
    if (((&DAT_005e2180)[(uint)local_895 * 0xe0] & 1) != 0) {
      iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      *(char *)(iVar12 + 0x1ac) = *(char *)(iVar12 + 0x1ac) + -1;
      return puVar17;
    }
    break;
  case 6:
  case 0xd:
    bVar13 = false;
    iVar18 = 0;
    iVar12 = (&DAT_005d7848)
             [(CONCAT12(bStackY_892,CONCAT11(bStackY_893,cStackY_894)) & 0xffff) * 0x12];
    if (DAT_005d6c94 != 0) {
      puVar17 = (undefined4 *)0x0;
      pfStackY_28 = (float *)&DAT_00000006;
      puStackY_2c = (undefined4 *)0x464b78;
      FUN_00466530();
    }
    uVar4 = 1;
    piVar7 = DAT_005e4480;
    if (DAT_005d6760 * 5 != 0) {
      do {
        iVar9 = piVar7[1];
        if (*(byte *)(iVar9 + 9) == local_895) {
          bVar13 = true;
          iVar18 = iVar9;
        }
      } while ((!bVar13) && (uVar4 = uVar4 + 1, piVar7 = piVar7 + 1, uVar4 <= DAT_005d6760 * 5));
    }
    if (bVar13) {
      iVar9 = *(int *)(*(int *)(iVar18 + 0x13) + 0x7f);
      if (iVar9 == 0xe) {
        puVar17 = (undefined4 *)(uint)*(ushort *)(iVar18 + 2);
        FUN_0046c910();
        if (DAT_005e4a64 != 0) {
          puVar17 = (undefined4 *)(*(int *)(iVar12 + 4) + 6);
          FUN_00475bf0();
        }
        iVar12 = *(int *)(iVar12 + 4);
        iVar18 = *(int *)(*(int *)(iVar12 + 0x98) + 0x10);
        if ((((((iVar18 == 4) || (iVar18 == 5)) ||
              ((iVar18 = *(int *)(*(int *)(iVar12 + 0x86) + 0x13), *(int *)(iVar18 + 0x114) == 6 &&
               (*(char *)(iVar12 + 4) == '\x03')))) ||
             ((*(int *)(iVar18 + 0x7b) == 8 &&
              ((*(char *)(iVar12 + 4) == '\x05' || (*(char *)(iVar12 + 4) == '\x06')))))) ||
            ((*(uint *)(iVar12 + 0x8a) & 0x100000) != 0)) &&
           (((*(uint *)(iVar12 + 0x8a) & 0x4000) == 0 && ((*(ushort *)(iVar12 + 0x8e) & 0x40) == 0))
           )) {
          *(ushort *)(iVar12 + 0x8e) = *(ushort *)(iVar12 + 0x8e) | 0x40;
          return puVar17;
        }
      }
      else if (iVar9 == 0xf) {
        iVar9 = *(int *)(iVar12 + 4);
        uVar2 = *(ushort *)(iVar9 + 0x8e);
        if (((((((uVar2 & 0x80) == 0) &&
               (iVar3 = *(int *)(*(int *)(iVar9 + 0x98) + 0x10), iVar3 != 4)) && (iVar3 != 5)) &&
             ((iVar3 = *(int *)(*(int *)(iVar9 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) != 6 ||
              (*(char *)(iVar9 + 4) != '\x03')))) &&
            ((*(int *)(iVar3 + 0x7b) != 8 ||
             ((*(char *)(iVar9 + 4) != '\x05' && (*(char *)(iVar9 + 4) != '\x06')))))) &&
           ((*(uint *)(iVar9 + 0x8a) & 0x100000) == 0)) {
          puVar17 = (undefined4 *)(uint)*(ushort *)(iVar18 + 2);
          iVar18 = FUN_0046ce10();
          if (iVar18 != 0) {
            puVar17 = (undefined4 *)(*(int *)(iVar12 + 4) + 6);
            FUN_00475bf0();
            return puVar17;
          }
        }
        else if ((((*(uint *)(iVar9 + 0x8a) & 0x4000) == 0) && ((uVar2 & 0x40) == 0)) &&
                (((((iVar12 = *(int *)(*(int *)(iVar9 + 0x98) + 0x10), iVar12 == 4 || (iVar12 == 5))
                   || ((iVar12 = *(int *)(*(int *)(iVar9 + 0x86) + 0x13),
                       *(int *)(iVar12 + 0x114) == 6 && (*(char *)(iVar9 + 4) == '\x03')))) ||
                  ((*(int *)(iVar12 + 0x7b) == 8 &&
                   ((*(char *)(iVar9 + 4) == '\x05' || (*(char *)(iVar9 + 4) == '\x06')))))) ||
                 ((*(uint *)(iVar9 + 0x8a) & 0x100000) != 0)))) {
          *(ushort *)(iVar9 + 0x8e) = uVar2 | 0x40;
          return puVar17;
        }
      }
    }
    break;
  case 7:
    bVar10 = bStackY_893 ^ *(byte *)(iVar12 + 0xc9);
    puVar17 = (undefined4 *)(iVar12 + 0x26);
    FUN_004ad7a0();
    if ((bStackY_892 & 0x80) == 0) {
      *(uint *)(iVar12 + 0x36) = CONCAT13((undefined)local_882,CONCAT21(uStackY_884,uStackY_885));
      *(uint *)(iVar12 + 0x3a) = CONCAT13((undefined)local_87e,local_882._1_3_);
      *(uint *)(iVar12 + 0x3e) = CONCAT13((undefined)local_87a,local_87e._1_3_);
    }
    else {
      iVar18 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                       (CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)) & 0xffff) * 4);
      *(float *)(iVar12 + 0x36) =
           *(float *)(iVar18 + 0x36) +
           (float)CONCAT13((undefined)local_882,CONCAT21(uStackY_884,uStackY_885));
      *(float *)(iVar12 + 0x3a) =
           *(float *)(iVar18 + 0x3a) + (float)CONCAT13((undefined)local_87e,local_882._1_3_);
      *(float *)(iVar12 + 0x3e) =
           *(float *)(iVar18 + 0x3e) + (float)CONCAT13((undefined)local_87a,local_87e._1_3_);
    }
    *(uint *)(iVar12 + 0xc9) = (uint)CONCAT11(bStackY_892,bStackY_893);
    *(uint *)(iVar12 + 0xf7) = CONCAT13(local_876,local_87a._1_3_);
    if (((bVar10 & 0x20) != 0) && ((bStackY_893 & 0x20) != 0)) {
      *(byte *)(iVar12 + 0x8f) = *(byte *)(iVar12 + 0x8f) | 0x20;
      puVar17 = (undefined4 *)0x1;
    }
    if ((*(int *)(iVar12 + 0x86) != 0) &&
       ((iVar18 = *(int *)(*(int *)(*(int *)(iVar12 + 0x86) + 0x13) + 0x7f), iVar18 == 0x18 ||
        (iVar18 == 0x17)))) {
      *(undefined4 *)(iVar12 + 0xf3) = *(undefined4 *)(iVar12 + 0x26);
      *(undefined4 *)(iVar12 + 0xfb) = *(undefined4 *)(iVar12 + 0x2e);
      return puVar17;
    }
    break;
  case 8:
    FUN_00442710();
    FUN_00425ce0();
    FUN_00465f80();
    puVar17 = puVar16;
    if (cStackY_888 != '\0') {
      puVar17 = (undefined4 *)(&DAT_005d7848)[(uint)local_8a8 * 0x12];
      FUN_00465f80();
      return puVar17;
    }
    break;
  case 9:
    if (DAT_005d6c94 != 0) {
      uVar4 = CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)) & 0xff;
      iVar12 = uVar4 * 0xe0;
      if (((&DAT_005e222b)[uVar4 * 0x38] == 0) ||
         (bVar13 = true, ((&DAT_005e2180)[iVar12] & 2) != 0)) {
        bVar13 = false;
      }
      if (bVar13) {
        (&DAT_005e2180)[iVar12] = (&DAT_005e2180)[iVar12] | 2;
        FUN_00425eb0();
        puVar17 = (undefined4 *)0x0;
        pfStackY_28 = (float *)0x5;
        puStackY_2c = (undefined4 *)0x464651;
        FUN_00466530();
        return puVar17;
      }
    }
    break;
  case 10:
    puVar17 = (undefined4 *)&DAT_005d7c42;
    _memset(&DAT_005d7c42,0,8);
    if (DAT_005d6760 != 0) {
      puVar6 = &DAT_005d7845;
      uVar4 = DAT_005d6760;
      do {
        puVar6[-1] = 0;
        *puVar6 = 0;
        puVar6 = puVar6 + 0x48;
        uVar4 = uVar4 - 1;
      } while (uVar4 != 0);
    }
    DAT_00598980 = 0;
    _DAT_005d70a8 = 1;
    DAT_00598fb0 = 1;
    _DAT_00598fb4 = 1;
    DAT_0059897c = 0;
    DAT_00598e20._0_1_ = 0;
    return puVar17;
  case 0xb:
    if (DAT_005d6c94 != 0) {
      puVar17 = (undefined4 *)
                CONCAT13(bStackY_892,CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)));
      pfStackY_28 = (float *)0x3;
      puStackY_2c = (undefined4 *)0x464088;
      FUN_00466530();
      return puVar17;
    }
    break;
  case 0xe:
    bVar13 = false;
    uVar4 = 0;
    piVar7 = (int *)(puVar16[1] + 0x175);
    do {
      if ((*piVar7 != 0) && (*(byte *)(*piVar7 + 9) == local_895)) {
        bVar13 = true;
        break;
      }
      uVar4 = uVar4 + 1;
      piVar7 = piVar7 + 1;
    } while (uVar4 < 5);
    if (bVar13) {
      FUN_00442d10();
      return puVar16;
    }
    break;
  case 0xf:
    if (local_895 == 1) {
      iVar18 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                       (CONCAT12(bStackY_892,CONCAT11(bStackY_893,cStackY_894)) & 0xffff) * 4);
      *(float *)(iVar12 + 0x36) =
           *(float *)(iVar18 + 0x36) + (float)CONCAT22(uStackY_884,CONCAT11(uStackY_885,local_886));
      *(float *)(iVar12 + 0x3a) = *(float *)(iVar18 + 0x3a) + local_882;
      *(float *)(iVar12 + 0x3e) = *(float *)(iVar18 + 0x3e) + local_87e;
    }
    else {
      FUN_004ad7a0();
    }
    puVar17 = (undefined4 *)(iVar12 + 0xd3);
    FUN_004ad7a0();
    return puVar17;
  case 0x10:
    puVar17 = (undefined4 *)
              CONCAT13(local_891,CONCAT12(bStackY_892,CONCAT11(bStackY_893,cStackY_894)));
    FUN_00472ec0();
    return puVar17;
  case 0x11:
    if (local_895 != 0) {
      *(undefined4 *)((int)puVar16 + 0x12) = *(undefined4 *)(&DAT_005d7800 + (uint)local_895 * 0x48)
      ;
      return puVar17;
    }
    *(undefined4 *)((int)puVar16 + 0x12) = 0;
    return puVar17;
  case 0x12:
    FID_conflict___mbscpy(local_a0,&DAT_005d7854 + uVar4 * 0x48);
    FID_conflict__strcat(local_a0,&DAT_004cf134);
    FUN_00492720();
    _memset(local_5c,0,0x3d);
    local_46 = 2;
    local_44 = 0;
    local_43 = 0x32;
    local_42 = 0;
    local_3f = 0;
    local_3b = 0;
    local_39 = 0xe;
    uStackY_38 = 0;
    local_37 = 0;
    local_35 = 0;
    uStackY_34 = uStackY_34 & 0xffffff00;
    if (DAT_00598d50 == 0) {
      local_3d = 0x124;
    }
    else {
      switch(DAT_005df2f8) {
      case 0:
        local_3d = 0x1b8;
        break;
      case 1:
        local_3d = 0x158;
        break;
      case 2:
        local_3d = 200;
        break;
      case 3:
        local_3d = 0xa0;
      }
    }
    FID_conflict__strcat(local_a0,&cStackY_894);
    puVar17 = local_5c;
    pcStackY_30 = local_a0;
    pfStackY_28 = (float *)0x258;
    puStackY_2c = (undefined4 *)0x1;
    uStackY_34 = 5;
    uStackY_38 = 0x27;
    local_37 = 0x464a;
    local_35 = 0;
    FUN_00492100();
    return puVar17;
  case 0x13:
    *(byte *)(*(int *)(iVar12 + 0x86) + 4) = *(char *)(*(int *)(iVar12 + 0x86) + 4) + local_895;
    if ((char)local_895 < '\0') {
      FUN_00410b60();
      local_74 = *(undefined4 *)(iVar12 + 0x36);
      local_70 = *(undefined4 *)(iVar12 + 0x3a);
      local_6c = *(undefined4 *)(iVar12 + 0x3e);
      iVar9 = 100 - (uint)*(byte *)(*(int *)(iVar12 + 0x86) + 4);
      iVar18 = iVar9 >> 0x1f;
      iVar9 = iVar9 / 0x14 + iVar18;
      bVar10 = 0;
      if (iVar9 != iVar18 && -1 < iVar9 - iVar18) {
        do {
          fVar14 = (float10)FUN_0045e9e0();
          local_68 = (float)(fVar14 - (float10)0.5);
          fVar14 = (float10)FUN_0045e9e0();
          local_64 = (float)(fVar14 * (float10)0.5);
          fVar14 = (float10)FUN_0045e9e0();
          local_60 = (float)(fVar14 - (float10)0.5);
          fVar14 = (float10)FUN_0045e9e0();
          pfStackY_28 = &local_68;
          puStackY_2c = &local_74;
          puVar17 = (undefined4 *)(float)((fVar14 - (float10)-1.0) * (float10)0.1);
          pcStackY_30 = (char *)0x3;
          uStackY_34 = 0x464af4;
          FUN_0046cb20();
          bVar10 = bVar10 + 1;
        } while ((int)(uint)bVar10 <
                 (int)(100 - (uint)*(byte *)(*(int *)(iVar12 + 0x86) + 4)) / 0x14);
        return puVar17;
      }
    }
    break;
  case 0x14:
    puVar17 = (undefined4 *)(iVar12 + 0x26);
    FUN_004ad7a0();
    if ((bStackY_88f & 0x80) == 0) {
      *(float *)(iVar12 + 0x36) = local_882;
      *(float *)(iVar12 + 0x3a) = local_87e;
      *(float *)(iVar12 + 0x3e) = local_87a;
    }
    else {
      iVar18 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)CONCAT11(local_891,bStackY_892) * 4);
      *(float *)(iVar12 + 0x36) = *(float *)(iVar18 + 0x36) + local_882;
      *(float *)(iVar12 + 0x3a) = *(float *)(iVar18 + 0x3a) + local_87e;
      *(float *)(iVar12 + 0x3e) = *(float *)(iVar18 + 0x3e) + local_87a;
    }
    *(uint *)(iVar12 + 0xf7) =
         CONCAT13(acStackY_873[0],CONCAT12(cStackY_874,CONCAT11(cStackY_875,local_876)));
    if (local_895 == 0) {
      FUN_004651a0();
      return puVar16;
    }
    if (local_895 == 1) {
      FUN_00465240();
      return puVar16;
    }
    if (local_895 == 2) {
      puVar17 = (undefined4 *)0x46488f;
      FUN_004652b0();
      return puVar17;
    }
    break;
  case 0x15:
    FID_conflict___mbscpy(local_a8,&DAT_005d7854 + uVar4 * 0x48);
    (&DAT_005d7847)[(uint)local_8a8 * 0x48] = 1;
    if (local_8a8 == 0) {
      FID_conflict__strcat(local_a8,s___HOST__HAS_LEFT_THE_GAME___GAME_004cf194);
      DAT_00598fac = 1;
      FUN_0046bff0();
    }
    else {
      FID_conflict__strcat(local_a8,s__HAS_LEFT_THE_GAME_004cf1bc);
    }
    FUN_00492720();
    _memset(local_5c,0,0x3d);
    local_46 = 2;
    local_44 = 0;
    local_43 = 100;
    local_42 = 0;
    local_3f = 0;
    local_3b = 0;
    local_39 = 0xe;
    if (DAT_00598d50 == 0) {
      local_3d = 0x124;
    }
    else {
      switch(DAT_005df2f8) {
      case 0:
        local_3d = 0x1b8;
        break;
      case 1:
        local_3d = 0x158;
        break;
      case 2:
        local_3d = 200;
        break;
      case 3:
        local_3d = 0xa0;
      }
    }
    pfStackY_28 = (float *)0x258;
    pcStackY_30 = local_a8;
    puStackY_2c = (undefined4 *)0x1;
    uStackY_34 = 5;
    uStackY_38 = 0x14;
    local_37 = 17999;
    local_35 = 0;
    FUN_00492100();
    puVar17 = (undefined4 *)0x464f33;
    FUN_0046bff0();
    return puVar17;
  case 0x16:
    if (DAT_005d6c94 == 0) {
      if (cStackY_875 != '\0') {
        return puVar17;
      }
    }
    else if (cStackY_875 != '\0') {
      uVar4 = 0;
      if (DAT_005d7c22 != local_8b8) {
        piVar7 = &DAT_005d7c22;
        do {
          uVar4 = uVar4 + 1;
          piVar7 = piVar7 + 1;
          if (DAT_005d6760 <= uVar4) {
            uVar4 = 0;
            goto LAB_00463e53;
          }
        } while (*piVar7 != local_8b8);
      }
      bVar13 = true;
LAB_00463e53:
      if (!bVar13) {
        FID_conflict___mbscpy(&DAT_005d7bc2 + (_DAT_005d7aa0 & 0xffff) * 10,acStackY_873);
        (&DAT_005d7c22)[_DAT_005d7aa0 & 0xffff] = local_8b8;
        *(short *)(&DAT_005d7c12 + (_DAT_005d7aa0 & 0xffff) * 2) = DAT_005d7aa0;
        uVar4 = _DAT_005d7aa0;
        DAT_005d7aa0 = DAT_005d7aa0 + 1;
      }
      uVar11 = uVar4 & 0xffff;
      (&DAT_005d7844)[uVar11 * 0x48] = 1;
      iVar12 = FUN_00474810();
      *(short *)(*(int *)(iVar12 + 4) + 0x1aa) = (short)uVar4;
      (&DAT_005d7848)[uVar11 * 0x12] = iVar12;
      (&DAT_005d7840)[uVar11 * 0x12] = local_8b8;
      FUN_004ad7a0();
      if (DAT_004ceb6c == 1) {
        puVar17 = (undefined4 *)0x0;
        pfStackY_28 = (float *)0x0;
        puStackY_2c = (undefined4 *)0x463f25;
        FUN_00466530();
        return puVar17;
      }
      puVar17 = (undefined4 *)0x0;
      pfStackY_28 = (float *)0x2;
      puStackY_2c = (undefined4 *)0x463f44;
      FUN_00466530();
      return puVar17;
    }
    if ((&DAT_005d7c42)[uVar4] == '\0') {
      (&DAT_005d7c42)[uVar4] = 1;
      iVar12 = FUN_00474810();
      **(ushort **)(iVar12 + 4) = local_8a8;
      uVar4 = (uint)local_8a8;
      (&DAT_005d7848)[uVar4 * 0x12] = iVar12;
      (&DAT_005d7840)[uVar4 * 0x12] = local_8b8;
      (&DAT_005d7844)[uVar4 * 0x48] = 1;
      FUN_004ad7a0();
      *(ushort *)(*(int *)(iVar12 + 4) + 0x1aa) = local_8a8;
      if (cStackY_874 != '\0') {
        FUN_004ad7a0();
        FUN_004ad7a0();
      }
      FUN_00474980();
      puVar17 = (undefined4 *)0x0;
      (&DAT_005d7845)[(uint)local_8a8 * 0x48] = 1;
      pfStackY_28 = (float *)0x16;
      (&DAT_005d7846)[(uint)local_8a8 * 0x48] = 1;
      puStackY_2c = (undefined4 *)0x464054;
      FUN_00466530();
      return puVar17;
    }
    break;
  case 0x17:
    puVar17 = (undefined4 *)0x464f4d;
    FUN_00477080();
    return puVar17;
  case 0x18:
  case 0x19:
    iVar12 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                     (CONCAT12(bStackY_893,CONCAT11(cStackY_894,local_895)) & 0xffff) * 4);
    if ((*(byte *)(iVar12 + 0xa1) & 1) != 0) {
      pfStackY_28 = (float *)&stack0xffffffe8;
      puStackY_2c = (undefined4 *)&stack0xffffffe8;
      pcStackY_30 = (char *)0x2;
      uStackY_34 = 0x464fb0;
      FUN_0046cb20();
      puVar17 = (undefined4 *)0x464fe1;
      FUN_00476740();
      *(ushort *)(iVar12 + 0xa1) = *(ushort *)(iVar12 + 0xa1) & 0xfffe;
      if (DAT_005e4a64 != 0) {
        puVar17 = (undefined4 *)(iVar12 + 6);
        FUN_00475bf0();
      }
      if (DAT_005d6c94 != 0) {
        puVar17 = (undefined4 *)0x0;
        pfStackY_28 = (float *)0x19;
        puStackY_2c = (undefined4 *)0x46503b;
        FUN_00466530();
      }
      FUN_00476850();
      return puVar17;
    }
    break;
  case 0x1b:
    puVar17 = (undefined4 *)0x0;
    pfStackY_28 = (float *)0x1c;
    puStackY_2c = (undefined4 *)0x465061;
    FUN_00466530();
  }
  return puVar17;
}



void FUN_00465100(UINT param_1)

{
  char *pcVar1;
  uint uVar2;
  bool bVar3;
  
  uVar2 = 0;
  bVar3 = true;
  if (DAT_005d6760 != 0) {
    pcVar1 = &DAT_005d7845;
    do {
      if ((pcVar1[1] == '\0') || (*pcVar1 == '\0')) {
        bVar3 = false;
        break;
      }
      uVar2 = uVar2 + 1;
      pcVar1 = pcVar1 + 0x48;
    } while (uVar2 < DAT_005d6760);
  }
  if (bVar3) {
    DAT_004ceb6c = 0;
    FUN_00466530(1,0,0,0,0,0);
    timeKillEvent(param_1);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00465170(UINT param_1)

{
  _DAT_00598f9c = 1;
  DAT_00598924._0_1_ = 1;
  FUN_00492720(9);
  timeKillEvent(param_1);
  return;
}



void FUN_004651a0(int param_1,undefined4 param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13);
  iVar2 = *(int *)(iVar1 + 0xf0);
  if ((iVar2 != 0) && (iVar2 = *(int *)(iVar2 + (param_3 & 0xff) * 4), iVar2 != 0)) {
    iVar1 = *(int *)(iVar1 + 0x7f);
    if (iVar1 != 1) {
      if (iVar1 == 2) {
        *(int *)(*(int *)(param_1 + 4) + 0x90) = iVar2;
        FUN_0047a250(iVar2,param_1);
        return;
      }
      if (iVar1 != 0xd) {
        FUN_0047a250();
        return;
      }
      FUN_00478480(iVar2,param_1);
      return;
    }
    FUN_0047a250(iVar2,param_1);
    *(char *)(*(int *)(param_1 + 4) + 200) = *(char *)(*(int *)(param_1 + 4) + 200) + '\x01';
    if (4 < *(byte *)(*(int *)(param_1 + 4) + 200)) {
      *(int *)(*(int *)(param_1 + 4) + 0x90) = iVar2;
    }
  }
  return;
}



void FUN_00465240(int param_1,undefined4 param_2,uint param_3)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13);
  iVar3 = *(int *)(iVar2 + 0xf9);
  if ((iVar3 != 0) && (iVar3 = *(int *)(iVar3 + (param_3 & 0xff) * 4), iVar3 != 0)) {
    iVar2 = *(int *)(iVar2 + 0x7f);
    if (iVar2 != 1) {
      if (iVar2 != 0xd) {
        FUN_0047a890();
        return;
      }
      FUN_00478780(iVar3,param_1);
      return;
    }
    FUN_0047a890(iVar3,param_1);
    pcVar1 = (char *)(*(int *)(param_1 + 4) + 200);
    *pcVar1 = *pcVar1 + '\x01';
  }
  return;
}



void FUN_004652b0(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 local_dc [16];
  undefined4 local_9c [16];
  undefined local_5c [12];
  undefined4 local_50 [7];
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined *puStack_2c;
  undefined *puStack_28;
  undefined4 uStack_24;
  undefined4 local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  undefined4 *puStack_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 4);
  puVar3 = &DAT_004d1ae0;
  puVar4 = local_50;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
  if (((((iVar2 == 4) || (iVar2 == 5)) ||
       ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
        (*(char *)(iVar1 + 4) == '\x03')))) ||
      ((*(int *)(iVar2 + 0x7b) == 8 &&
       ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)) {
    puStack_14 = (undefined4 *)(iVar1 + 0x46);
    local_18 = local_50;
    local_1c = local_dc;
    puVar3 = (undefined4 *)(iVar1 + 6);
    puVar4 = local_9c;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    local_20 = 0x465351;
    MultiplyMatrices();
    puStack_14 = local_9c;
    local_18 = local_dc;
  }
  else {
    puStack_14 = (undefined4 *)(iVar1 + 6);
    local_18 = local_50;
  }
  local_1c = local_50;
  local_20 = 0x46536b;
  MultiplyMatrices();
  puStack_14 = (undefined4 *)0x0;
  local_18 = (undefined4 *)0x0;
  local_1c = (undefined4 *)0x3dcccccd;
  local_20 = 1;
  puStack_28 = local_5c;
  uStack_24 = 4;
  puStack_2c = &stack0xfffffff0;
  uStack_30 = 2;
  uStack_34 = 0x4653a2;
  FUN_0046cb20();
  puStack_14 = (undefined4 *)param_1;
  local_18 = (undefined4 *)0x0;
  local_1c = (undefined4 *)0x4653ad;
  FUN_00477820();
  return;
}



void FUN_004653c0(int param_1,int param_2,int param_3)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  char cVar5;
  ushort uVar6;
  
  iVar3 = *(int *)(param_3 + 0x13);
  if (*(int *)(param_2 + 0xaf) == 0xe) {
    *(undefined4 *)(param_2 + 0x97) = 0;
    FUN_0046c910(1,*(undefined2 *)(param_3 + 2),param_3,param_1);
    FUN_0047d1f0(param_2,0x2c,0);
    iVar4 = *(int *)(param_1 + 4);
    iVar3 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10);
    if (((((iVar3 != 4) && (iVar3 != 5)) &&
         ((iVar3 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) != 6 ||
          (*(char *)(iVar4 + 4) != '\x03')))) &&
        ((*(int *)(iVar3 + 0x7b) != 8 ||
         ((*(char *)(iVar4 + 4) != '\x05' && (*(char *)(iVar4 + 4) != '\x06')))))) &&
       ((*(uint *)(iVar4 + 0x8a) & 0x100000) == 0)) {
      return;
    }
    if ((*(uint *)(iVar4 + 0x8a) & 0x4000) != 0) {
      return;
    }
    uVar6 = *(ushort *)(iVar4 + 0x8e);
    if ((uVar6 & 0x40) != 0) {
      return;
    }
  }
  else {
    if (*(int *)(param_2 + 0xaf) != 0xf) {
      return;
    }
    *(undefined4 *)(param_2 + 0x97) = 0;
    iVar4 = *(int *)(param_1 + 4);
    uVar6 = *(ushort *)(iVar4 + 0x8e);
    if (((((((uVar6 & 0x80) == 0) && (iVar2 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10), iVar2 != 4))
          && (iVar2 != 5)) &&
         ((iVar2 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) != 6 ||
          (*(char *)(iVar4 + 4) != '\x03')))) &&
        ((*(int *)(iVar2 + 0x7b) != 8 ||
         ((*(char *)(iVar4 + 4) != '\x05' && (*(char *)(iVar4 + 4) != '\x06')))))) &&
       ((*(uint *)(iVar4 + 0x8a) & 0x100000) == 0)) {
      sVar1 = *(short *)(iVar3 + 0xe7);
      if (sVar1 == 0x10) {
        cVar5 = '+';
      }
      else {
        cVar5 = (sVar1 != 8) + '2';
      }
      iVar3 = FUN_0046ce10(CONCAT22((short)((uint)(iVar3 + 0x8d) >> 0x10),sVar1),
                           *(undefined2 *)(param_3 + 2),param_1,cVar5);
      if (iVar3 == 0) {
        return;
      }
      FUN_0047d230(*(int *)(param_1 + 4) + 6,cVar5,1);
      return;
    }
    if ((*(uint *)(iVar4 + 0x8a) & 0x4000) != 0) {
      return;
    }
    if ((uVar6 & 0x40) != 0) {
      return;
    }
    iVar3 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10);
    if ((((iVar3 != 4) && (iVar3 != 5)) &&
        ((iVar3 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) != 6 ||
         (*(char *)(iVar4 + 4) != '\x03')))) &&
       ((*(int *)(iVar3 + 0x7b) != 8 ||
        ((*(char *)(iVar4 + 4) != '\x05' && (*(char *)(iVar4 + 4) != '\x06')))))) {
      if ((*(uint *)(iVar4 + 0x8a) & 0x100000) == 0) {
        return;
      }
      *(ushort *)(iVar4 + 0x8e) = uVar6 | 0x40;
      return;
    }
  }
  *(ushort *)(iVar4 + 0x8e) = uVar6 | 0x40;
  return;
}



void FUN_004655e0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  HRSRC hResInfo;
  HGLOBAL hResData;
  int *piVar4;
  size_t sVar5;
  void *pvVar6;
  void *pvVar7;
  undefined *puVar8;
  int iVar9;
  undefined *puVar10;
  
  AdjustStackForLargeAllocations();
  hResInfo = FindResourceA((HMODULE)0x0,&DAT_004cf4a8,(LPCSTR)0xa);
  if (hResInfo != (HRSRC)0x0) {
    hResData = LoadResource((HMODULE)0x0,hResInfo);
    if (hResData != (HGLOBAL)0x0) {
      piVar4 = (int *)LockResource(hResData);
      puVar8 = &DAT_004cf3c0;
      do {
        iVar1 = *piVar4;
        iVar2 = piVar4[1];
        sVar5 = iVar1 * 0x14;
        iVar3 = piVar4[2];
        iVar9 = 0;
        pvVar6 = (void *)AllocateMemoryWithCallback();
        _memset(pvVar6,iVar9,sVar5);
        sVar5 = iVar2 << 4;
        iVar9 = 0;
        pvVar6 = (void *)AllocateMemoryWithCallback();
        pvVar6 = _memset(pvVar6,iVar9,sVar5);
        sVar5 = iVar3 * 299;
        iVar9 = 0;
        pvVar7 = (void *)AllocateMemoryWithCallback();
        pvVar7 = _memset(pvVar7,iVar9,sVar5);
        FUN_004ad7a0();
        FUN_004ad7a0();
        FUN_004ad7a0();
        piVar4 = (int *)((int)piVar4 + iVar3 * 299 + iVar2 * 0x10 + iVar1 * 0x14 + 0xc);
        puVar10 = puVar8;
        FUN_00465790();
        if (puVar10 != (undefined *)0x0) {
          FreeMemory();
        }
        if (pvVar6 != (void *)0x0) {
          FreeMemory();
        }
        if (pvVar7 != (void *)0x0) {
          FreeMemory();
        }
        puVar8 = puVar8 + 0xc;
      } while ((int)puVar8 < 0x4cf444);
      DAT_005d70c4 = FUN_00465a50();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_00465790(uint *param_1,byte param_2,float *param_3)

{
  uint *puVar1;
  void *pvVar2;
  uint *puVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  size_t sVar8;
  
  puVar1 = param_1;
  AdjustStackForLargeAllocations();
  sVar8 = 0x44;
  iVar7 = 0;
  iVar5 = (uint)param_2 * 0xa9;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x44);
  puVar3 = (uint *)_memset(pvVar2,iVar7,sVar8);
  *(uint **)(iVar5 + 0x5d7136) = puVar3;
  uVar4 = *param_1;
  *puVar3 = uVar4;
  sVar8 = uVar4 << 5;
  iVar7 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar2 = _memset(pvVar2,iVar7,sVar8);
  puVar3[1] = (uint)pvVar2;
  puVar3[2] = param_1[1];
  sVar8 = param_1[1] * 0xc;
  iVar7 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar8);
  pvVar2 = _memset(pvVar2,iVar7,sVar8);
  puVar3[3] = (uint)pvVar2;
  puVar3[5] = param_1[2];
  if (param_2 < 2) {
    uVar4 = DAT_005dca18 >> 0x10;
  }
  else if (param_2 == 2) {
    uVar4 = (uint)DAT_005dca1c;
  }
  else {
    uVar4 = DAT_005dca18 & 0xffff;
  }
  puVar3[9] = *(uint *)(DAT_005dca00 + 0xb + uVar4 * 0x2e);
  _param_2 = 0;
  if (*param_1 != 0) {
    param_1 = (uint *)0x0;
    iVar7 = 0;
    do {
      *(undefined4 *)((int)param_1 + puVar3[1]) = *(undefined4 *)(iVar7 + puVar1[6]);
      *(undefined4 *)((int)param_1 + 4 + puVar3[1]) = *(undefined4 *)(iVar7 + 4 + puVar1[6]);
      *(undefined4 *)((int)param_1 + 8 + puVar3[1]) = *(undefined4 *)(iVar7 + 8 + puVar1[6]);
      *(undefined4 *)((int)param_1 + 0x18 + puVar3[1]) = *(undefined4 *)(iVar7 + 0xc + puVar1[6]);
      *(undefined4 *)((int)param_1 + 0x1c + puVar3[1]) = *(undefined4 *)(iVar7 + 0x10 + puVar1[6]);
      uVar4 = __ftol();
      uVar4 = uVar4 & 0xff;
      iVar7 = iVar7 + 0x14;
      *(uint *)((int)param_1 + 0x10 + puVar3[1]) = (uVar4 << 8 | uVar4) << 8 | uVar4;
      _param_2 = _param_2 + 1;
      param_1 = (uint *)((int)param_1 + 0x20);
    } while (_param_2 < *puVar1);
  }
  _param_2 = 0;
  if (puVar1[1] != 0) {
    iVar7 = 0;
    iVar6 = 0;
    do {
      *(undefined2 *)(iVar6 + puVar3[3]) = *(undefined2 *)(iVar7 + puVar1[7]);
      *(undefined2 *)(iVar6 + 2 + puVar3[3]) = *(undefined2 *)(iVar7 + 4 + puVar1[7]);
      *(undefined2 *)(iVar6 + 4 + puVar3[3]) = *(undefined2 *)(iVar7 + 8 + puVar1[7]);
      *(undefined4 *)(iVar6 + 8 + puVar3[3]) = *(undefined4 *)(iVar7 + 0xc + puVar1[7]);
      _param_2 = _param_2 + 1;
      iVar7 = iVar7 + 0x10;
      iVar6 = iVar6 + 0xc;
    } while (_param_2 < puVar1[1]);
  }
  FUN_004ad7a0(&DAT_005d70e6 + iVar5,&DAT_004d1ae0,0x40);
  *(float *)(iVar5 + 0x5d7116) = (DAT_005d6730 + *param_3) - -10.0;
  *(float *)(iVar5 + 0x5d711a) = (param_3[1] + _DAT_005d6734) - -10.0;
  *(float *)(iVar5 + 0x5d711e) = (param_3[2] + DAT_005d6738) - -10.0;
  iVar7 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),(undefined4 *)((int)&DAT_005d7132 + iVar5));
  if ((iVar7 != 0) ||
     (iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                        (*(int **)(DAT_005e5010 + 8),*(undefined4 *)((int)&DAT_005d7132 + iVar5),
                         &DAT_005d70e6 + iVar5), iVar5 != 0)) {
    iVar5 = 0;
  }
  return iVar5;
}



undefined4 FUN_00465a00(void)

{
  undefined4 *puVar1;
  
  puVar1 = &DAT_005d7132;
  do {
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
              (*(int **)(DAT_005e5010 + 8),*puVar1,puVar1 + -0x13);
    puVar1 = (undefined4 *)((int)puVar1 + 0xa9);
  } while ((int)puVar1 < 0x5d7875);
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
            (*(int **)(DAT_005e5010 + 8),DAT_005d70c4,*(undefined4 *)(DAT_005e5010 + 0xc),1);
  return 1;
}



int * FUN_00465a50(int *param_1,uint param_2)

{
  short sVar1;
  int *piVar2;
  uint *puVar3;
  undefined4 uVar4;
  ushort *puVar5;
  short sVar6;
  int iVar7;
  int **ppiVar8;
  uint uVar9;
  undefined4 *puVar10;
  int iVar11;
  uint **ppuVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  uint uVar15;
  undefined4 *_Dst;
  uint uVar16;
  undefined4 local_58 [2];
  int local_50;
  int local_4c;
  undefined *local_48;
  undefined4 uStackY_3c;
  int *local_28;
  int **local_24;
  int *piStack_20;
  undefined4 *puVar17;
  
  AdjustStackForLargeAllocations();
  iVar11 = 0;
  iVar7 = 0;
  uVar16 = (uint)param_1 & 0xff;
  local_50 = 0;
  if (uVar16 != 0) {
    ppiVar8 = (int **)(param_2 + 0x56);
    uVar15 = uVar16;
    do {
      piVar2 = *ppiVar8;
      ppiVar8 = (int **)((int)ppiVar8 + 0xa9);
      iVar11 = iVar11 + *piVar2;
      iVar7 = iVar7 + piVar2[2];
      uVar15 = uVar15 - 1;
      local_50 = iVar11;
    } while (uVar15 != 0);
  }
  piStack_20 = (int *)0x465aac;
  _memset(&local_28,0,0x14);
  local_28 = (int *)0x14;
  piStack_20 = *(int **)(DAT_005e5010 + 8);
  _Dst = &param_1;
  local_24 = (int **)0x465ad9;
  iVar11 = (**(code **)(*piStack_20 + 0x18))();
  if (iVar11 == 0) {
    local_24 = &local_28;
    local_28 = param_1;
    iVar11 = (**(code **)(*param_1 + 0x10))();
    if (iVar11 == 0) {
      puVar17 = _Dst;
      _memset(_Dst,0,(iVar7 + uVar16 * 9 + local_50 * 4) * 8 + 4);
      if (uVar16 != 0) {
        ppuVar12 = (uint **)(param_2 + 0x56);
        uVar15 = uVar16;
        do {
          puVar3 = *ppuVar12;
          uVar9 = 0;
          puVar3[0xf] = (uint)_Dst;
          if (*puVar3 != 0) {
            iVar7 = 0;
            puVar14 = _Dst;
            do {
              _Dst = puVar14 + 8;
              uVar9 = uVar9 + 1;
              *puVar14 = *(undefined4 *)(iVar7 + puVar3[1]);
              puVar14[1] = *(undefined4 *)(iVar7 + 4 + puVar3[1]);
              puVar14[2] = *(undefined4 *)(iVar7 + 8 + puVar3[1]);
              puVar14[6] = *(undefined4 *)(iVar7 + 0x18 + puVar3[1]);
              puVar14[7] = *(undefined4 *)(iVar7 + 0x1c + puVar3[1]);
              uVar4 = *(undefined4 *)(iVar7 + 0x10 + puVar3[1]);
              puVar14[5] = 0;
              puVar14[4] = uVar4;
              iVar7 = iVar7 + 0x20;
              puVar14 = _Dst;
            } while (uVar9 < *puVar3);
          }
          ppuVar12 = (uint **)((int)ppuVar12 + 0xa9);
          uVar15 = uVar15 - 1;
        } while (uVar15 != 0);
      }
      sVar6 = 0;
      puVar14 = _Dst;
      if (uVar16 != 0) {
        puVar10 = (undefined4 *)(param_2 + 0x52);
        do {
          puVar5 = (ushort *)puVar10[1];
          *(undefined *)puVar14 = 4;
          *(undefined *)((int)puVar14 + 1) = 8;
          *(undefined2 *)((int)puVar14 + 2) = 1;
          puVar14[2] = DAT_005b9ce8;
          puVar14[1] = DAT_005b9ce0;
          *(undefined *)(puVar14 + 3) = 5;
          *(undefined *)((int)puVar14 + 0xd) = 0xc;
          *(undefined2 *)((int)puVar14 + 0xe) = 1;
          puVar14[5] = *puVar10;
          puVar14[6] = DAT_005b9ce8;
          puVar14[4] = DAT_005b9ce0;
          *(undefined *)(puVar14 + 7) = 9;
          *(undefined *)((int)puVar14 + 0x1d) = 0x10;
          *(undefined2 *)((int)puVar14 + 0x1e) = 1;
          puVar14[8] = 1;
          *(short *)(puVar14 + 9) = sVar6;
          *(short *)((int)puVar14 + 0x26) = sVar6;
          puVar14[10] = (uint)*puVar5;
          puVar14[0xb] = 0;
          *(undefined *)(puVar14 + 0xc) = 8;
          *(undefined *)((int)puVar14 + 0x31) = 8;
          *(undefined2 *)((int)puVar14 + 0x32) = 1;
          puVar14[0xd] = 1;
          puVar14[0xe] = *(undefined4 *)(puVar5 + 0x12);
          puVar13 = puVar14 + 0xf;
          if (((uint)puVar13 & 7) == 0) {
            *(undefined *)puVar13 = 3;
            *(undefined *)((int)puVar14 + 0x3d) = 8;
            *(undefined2 *)((int)puVar14 + 0x3e) = 0;
            puVar13 = puVar14 + 0x10;
          }
          *(undefined *)puVar13 = 3;
          *(undefined *)((int)puVar13 + 1) = 8;
          *(ushort *)((int)puVar13 + 2) = puVar5[4];
          puVar14 = puVar13 + 1;
          param_2 = 0;
          puVar13 = puVar14;
          iVar7 = 0;
          if (*(int *)(puVar5 + 4) != 0) {
            do {
              puVar14 = puVar13 + 2;
              *(short *)puVar13 = *(short *)(iVar7 + *(int *)(puVar5 + 6)) + sVar6;
              *(short *)((int)puVar13 + 2) = *(short *)(iVar7 + 2 + *(int *)(puVar5 + 6)) + sVar6;
              sVar1 = *(short *)(iVar7 + 4 + *(int *)(puVar5 + 6));
              *(undefined2 *)((int)puVar13 + 6) = 0x700;
              *(short *)(puVar13 + 1) = sVar1 + sVar6;
              param_2 = param_2 + 1;
              puVar13 = puVar14;
              iVar7 = iVar7 + 0xc;
            } while (param_2 < *(uint *)(puVar5 + 4));
          }
          puVar10 = (undefined4 *)((int)puVar10 + 0xa9);
          sVar6 = sVar6 + *puVar5;
          uVar16 = uVar16 - 1;
        } while (uVar16 != 0);
      }
      *(undefined *)puVar14 = 0xb;
      *(undefined *)((int)puVar14 + 1) = 0;
      *(undefined2 *)((int)puVar14 + 2) = 0;
      (**(code **)(*param_1 + 0x14))();
      uStackY_3c = 0x465d00;
      _memset(local_58,0,0x30);
      local_4c = (int)_Dst - (int)puVar17;
      local_48 = (undefined *)((int)puVar14 + (4 - (int)_Dst));
      local_58[0] = 0x30;
      (**(code **)(*param_1 + 0x18))();
      return param_1;
    }
    return (int *)0x0;
  }
  return (int *)0x0;
}



void FUN_00465d40(void)

{
  void *pvVar1;
  HANDLE pvVar2;
  int iVar3;
  size_t sVar4;
  
  sVar4 = 0x40a00;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x40a00);
  DAT_005d70bc = _memset(pvVar1,iVar3,sVar4);
  sVar4 = 0x205000;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x205000);
  DAT_005d70c0 = _memset(pvVar1,iVar3,sVar4);
  sVar4 = 0x10;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x10);
  DAT_005d7c4c = (HANDLE *)_memset(pvVar1,iVar3,sVar4);
  sVar4 = 0x10;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x10);
  DAT_005d8460 = (HANDLE *)_memset(pvVar1,iVar3,sVar4);
  DAT_005d8580 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  pvVar2 = CreateSemaphoreA((LPSECURITY_ATTRIBUTES)0x0,0,0xff,(LPCSTR)0x0);
  *DAT_005d7c4c = pvVar2;
  DAT_005d7a94 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  pvVar2 = CreateSemaphoreA((LPSECURITY_ATTRIBUTES)0x0,0,0xff,(LPCSTR)0x0);
  *DAT_005d8460 = pvVar2;
  return;
}



void FUN_00465e20(void)

{
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00465e30(int param_1,HANDLE *param_2,HANDLE param_3,int param_4,int param_5,int param_6)

{
  uint uVar1;
  int iVar2;
  byte bVar3;
  int *piVar4;
  int iVar5;
  int *piVar6;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(param_3,0xffffffff);
  piVar6 = DAT_005d70c0;
  if (param_2 == DAT_005d7c4c) {
    piVar6 = DAT_005d70bc;
  }
  iVar2 = *piVar6;
  bVar3 = 1;
  uVar1 = 1;
  piVar4 = piVar6;
  while ((iVar2 == 1 && (bVar3 < 0x80))) {
    bVar3 = bVar3 + 1;
    piVar4 = piVar6 + uVar1 * 0x205;
    iVar2 = piVar6[uVar1 * 0x205];
    uVar1 = (uint)bVar3;
  }
  if ((bVar3 == 0x80) &&
     (iVar2 = OpenFileWithFixedFlags0x40(s_c__msgslots_bin_004cf560,&DAT_004cf55c), piVar4 = piVar6,
     iVar2 != 0)) {
    iVar5 = 0x80;
    do {
      FUN_004ae3e0(piVar4,1,0x814,iVar2);
      iVar5 = iVar5 + -1;
      piVar4 = piVar4 + 0x205;
    } while (iVar5 != 0);
    FUN_004adcf0(iVar2);
    piVar4 = piVar6;
  }
  *piVar4 = 1;
  if (param_1 == 0) {
    *(undefined2 *)(param_4 + 4) = DAT_005d7a80;
  }
  FUN_004ad7a0(piVar4 + 4,param_4,param_5);
  piVar4[3] = param_5;
  piVar4[1] = param_6;
  piVar4[2] = _DAT_005d7a80;
  if (param_2[1] == (HANDLE)0x0) {
    param_2[3] = piVar4;
    param_2[2] = piVar4;
  }
  else {
    *(int **)((int)param_2[3] + 0x810) = piVar4;
    param_2[3] = piVar4;
  }
  param_2[1] = (HANDLE)((int)param_2[1] + 1);
  SetEvent(param_3);
  ReleaseSemaphore(*param_2,1,(LPLONG)&stack0xfffffff0);
  return;
}



void FUN_00465f80(int param_1,int param_2,char param_3,char param_4)

{
  short *psVar1;
  short sVar2;
  undefined4 *puVar3;
  uint uVar4;
  undefined4 *puVar5;
  
  if (param_2 == 0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    puVar3 = &DAT_005d7840 + (uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) * 0x12;
  }
  if (param_1 == 0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = &DAT_005d7840 + (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x1aa) * 0x12;
  }
  if (param_3 == '\0') {
    sVar2 = (short)param_4;
    psVar1 = (short *)((int)puVar5 + (uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) * 2 + 0x1c);
    *psVar1 = *psVar1 + sVar2;
    uVar4 = (uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa);
    psVar1 = (short *)((int)puVar5 + uVar4 * 2 + 0x2c);
    *psVar1 = *psVar1 + sVar2;
    *(short *)((int)puVar5 + 0x3e) = *(short *)((int)puVar5 + 0x3e) + sVar2;
    *(short *)(puVar5 + 0xf) = *(short *)(puVar5 + 0xf) + sVar2;
    FUN_004926c0(CONCAT22((short)((int)puVar5 + uVar4 * 2 + 0x2c >> 0x10),
                          *(short *)(*(int *)(param_1 + 4) + 0x1aa) + 0x1e),
                 *(undefined2 *)(puVar5 + 0xf));
    *(short *)(&DAT_005d7aa2 +
              ((uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) +
              (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x1aa) * 8) * 2) =
         *(short *)(&DAT_005d7aa2 +
                   ((uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) +
                   (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x1aa) * 8) * 2) + 1;
    (&DAT_005d7b22)
    [(uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) +
     (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x1aa) * 8] =
         (&DAT_005d7b22)
         [(uint)*(ushort *)(*(int *)(param_2 + 4) + 0x1aa) +
          (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x1aa) * 8] + 1;
    (&DAT_005d7ba2)[*(ushort *)(*(int *)(param_1 + 4) + 0x1aa)] =
         (&DAT_005d7ba2)[*(ushort *)(*(int *)(param_1 + 4) + 0x1aa)] + 1;
    (&DAT_005d7bb2)[*(ushort *)(*(int *)(param_1 + 4) + 0x1aa)] =
         (&DAT_005d7bb2)[*(ushort *)(*(int *)(param_1 + 4) + 0x1aa)] + 1;
    if (((DAT_005d86b0 == '\x02') && (DAT_005d6c94 != 0)) &&
       (DAT_005d67d0 == *(ushort *)(puVar5 + 0xf))) {
      DAT_00598fac = 1;
      FUN_0046bff0(*(undefined4 *)(DAT_005df318 + 4),1);
      _memset(&DAT_005d7c42,0,8);
      FUN_00466530(10,0,0,0,0,0);
    }
  }
  else {
    if (param_3 == '\x01') {
      *(short *)(puVar5 + 3) = *(short *)(puVar5 + 3) + (short)param_4;
      return;
    }
    if (param_3 == '\x02') {
      *(short *)((int)puVar3 + 0xe) = *(short *)((int)puVar3 + 0xe) + (short)param_4;
      return;
    }
  }
  return;
}



void FUN_00466130(char param_1)

{
  ushort uVar1;
  ushort *puVar2;
  uint uVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  undefined local_58 [22];
  undefined local_42;
  undefined local_40;
  undefined local_3f;
  undefined local_3e;
  short local_3b;
  char local_39;
  undefined uStackY_38;
  undefined2 local_37;
  undefined local_35;
  undefined uStackY_34;
  undefined2 local_33;
  undefined local_31;
  char *pcStackY_30;
  uint uStackY_2c;
  uint uStackY_28;
  uint uStackY_24;
  undefined4 uStackY_20;
  undefined4 *puVar9;
  undefined2 *puVar10;
  uint uVar11;
  
  AdjustStackForLargeAllocations();
  FUN_00492780();
  uStackY_20 = 0x466154;
  _memset(&DAT_005d70b0,0,10);
  uStackY_20 = 0x466163;
  _memset(local_58,0,0x3d);
  local_42 = 1;
  local_40 = 0;
  local_3f = 0;
  local_3e = 0;
  local_37 = 0;
  local_35 = 0xe;
  uStackY_34 = 0;
  local_33 = 0;
  local_31 = 0;
  pcStackY_30 = (char *)((uint)pcStackY_30 & 0xffffff00);
  uVar11 = 0;
  if (DAT_005d6760 != 0) {
    puVar9 = (undefined4 *)&DAT_005d7b22;
    puVar10 = &DAT_005d7bb2;
    puVar4 = &DAT_005d7880;
    do {
      puVar4[1] = 0;
      *puVar4 = 0;
      uStackY_20 = 0x4661c1;
      FUN_00466470();
      local_39 = 0x28;
      uStackY_20 = 1;
      local_3b = (short)uVar11 * 0x3c + 0x50;
      uStackY_24 = 5;
      uStackY_28 = 0x3c;
      pcStackY_30 = (char *)(puVar4 + -0xb);
      uStackY_2c = 1;
      uStackY_34 = 0;
      local_33 = 0;
      local_31 = 0;
      uStackY_38 = 0xf3;
      local_37 = 0x4661;
      local_35 = 0;
      FUN_00492100();
      uVar7 = DAT_005d6760;
      *(undefined2 *)((int)puVar4 + -2) = *puVar10;
      if (uVar7 != 0) {
        puVar6 = puVar9;
        puVar8 = puVar4 + -5;
        for (uVar3 = uVar7 >> 1; uVar3 != 0; uVar3 = uVar3 - 1) {
          *puVar8 = *puVar6;
          puVar6 = puVar6 + 1;
          puVar8 = puVar8 + 1;
        }
        for (uVar3 = (uint)((uVar7 & 1) != 0); uVar3 != 0; uVar3 = uVar3 - 1) {
          *(undefined2 *)puVar8 = *(undefined2 *)puVar6;
          puVar6 = (undefined4 *)((int)puVar6 + 2);
          puVar8 = (undefined4 *)((int)puVar8 + 2);
        }
      }
      uVar11 = uVar11 + 1;
      puVar10 = puVar10 + 1;
      puVar4 = puVar4 + 0x12;
      puVar9 = puVar9 + 4;
    } while (uVar11 < uVar7);
  }
  uStackY_20 = 0x46624c;
  _memset(&stack0xffffffe8,0,8);
  iVar5 = CONCAT22(uRam005d70b4,DAT_005d70b0._2_2_);
  uStackY_20 = 0x466261;
  _memset(local_58,0,0x3d);
  local_42 = 1;
  local_40 = 0;
  local_3f = 0;
  local_3e = 0;
  uVar11 = 0;
  if ((ushort)DAT_005d70b0 != 0) {
    do {
      uVar7 = 0;
      uStackY_20 = 1;
      *(char *)(iVar5 + 0x11) = (char)uVar11;
      uStackY_24 = 5;
      uStackY_28 = 0x3c;
      pcStackY_30 = (char *)(iVar5 + 0x14);
      uStackY_2c = 1;
      local_39 = ((char)uVar11 + '\x03') * '\x14';
      uStackY_34 = 0;
      local_33 = 0;
      local_31 = 0;
      local_3b = 0x14;
      uStackY_38 = 0xda;
      local_37 = 0x4662;
      local_35 = 0;
      FUN_00492100();
      if (DAT_005d6760 != 0) {
        puVar2 = (ushort *)(iVar5 + 0x2c);
        do {
          if (param_1 != '\0') {
            uVar1 = *puVar2;
          }
          else {
            uVar1 = puVar2[-8];
          }
          uStackY_24 = (uint)uVar1;
          uStackY_20 = 1;
          uStackY_28 = 0;
          uStackY_2c = 0x466320;
          FUN_00492ec0();
          uVar7 = uVar7 + 1;
          puVar2 = puVar2 + 1;
        } while (uVar7 < DAT_005d6760);
      }
      if (param_1 != '\0') {
        uVar1 = *(ushort *)(iVar5 + 0x3e);
      }
      else {
        uVar1 = *(ushort *)(iVar5 + 0x3c);
      }
      uStackY_24 = (uint)uVar1;
      uStackY_20 = 1;
      uStackY_28 = 0;
      uStackY_2c = 0x466366;
      FUN_00492ec0();
      iVar5 = *(int *)(iVar5 + 0x40);
      uVar11 = uVar11 + 1;
    } while (uVar11 < (ushort)DAT_005d70b0);
  }
  uStackY_20 = 1;
  uStackY_24 = 5;
  uStackY_28 = 0x3c;
  uStackY_2c = 1;
  pcStackY_30 = s_TOTAL_004cf79c;
  local_3b = (short)DAT_005d6760 * 0x3c + 0x50;
  uStackY_34 = 0;
  local_33 = 0;
  local_31 = 0;
  local_39 = 0x28;
  uStackY_38 = 0xbe;
  local_37 = 0x4663;
  local_35 = 0;
  FUN_00492100();
  local_3b = 0;
  local_39 = 0;
  if (param_1 == '\0') {
    pcStackY_30 = s_LEVEL_SCORES_004cf7a4;
  }
  else {
    pcStackY_30 = s_FINAL_SCORES_004cf7b4;
  }
  uStackY_2c = (DAT_005e7678 & 0xff) / 0x14;
  uStackY_20 = 1;
  uStackY_24 = 5;
  uStackY_28 = DAT_005e7678;
  uStackY_34 = 0;
  local_33 = 0;
  local_31 = 0;
  uStackY_38 = 0x4b;
  local_37 = 0x4664;
  local_35 = 0;
  FUN_00492100();
  if (DAT_005d6760 != 0) {
    uVar11 = DAT_005d6760 & 1;
    puVar9 = (undefined4 *)&DAT_005d7ba2;
    for (uVar7 = DAT_005d6760 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
      *puVar9 = 0;
      puVar9 = puVar9 + 1;
    }
    for (uVar11 = (uint)(uVar11 != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
      *(undefined2 *)puVar9 = 0;
      puVar9 = (undefined4 *)((int)puVar9 + 2);
    }
  }
  return;
}



void FUN_00466470(short *param_1,int param_2,char param_3)

{
  undefined4 *puVar1;
  int iVar2;
  bool bVar3;
  char cVar4;
  ushort uVar5;
  
  cVar4 = param_3;
  bVar3 = true;
  if (param_3 == '\0') {
    _param_3 = (&DAT_005d7ba2)[param_2];
  }
  else {
    _param_3 = (&DAT_005d7bb2)[param_2];
  }
  puVar1 = &DAT_005d7840 + param_2 * 0x12;
  iVar2 = *(int *)(param_1 + 1);
  while (iVar2 != 0) {
    if (!bVar3) {
      return;
    }
    if (cVar4 == '\0') {
      uVar5 = *(ushort *)(iVar2 + 0x3c);
    }
    else {
      uVar5 = *(ushort *)(iVar2 + 0x3e);
    }
    if (_param_3 < uVar5) {
      iVar2 = *(int *)(iVar2 + 0x40);
    }
    else {
      if ((*param_1 == 1) || (iVar2 == *(int *)(param_1 + 1))) {
        (&DAT_005d7880)[param_2 * 0x12] = iVar2;
        *(undefined4 **)(iVar2 + 0x44) = puVar1;
        *(undefined4 **)(param_1 + 1) = puVar1;
      }
      else {
        (&DAT_005d7880)[param_2 * 0x12] = iVar2;
        *(undefined4 **)(*(int *)(iVar2 + 0x44) + 0x40) = puVar1;
        *(undefined4 **)(iVar2 + 0x44) = puVar1;
      }
      *param_1 = *param_1 + 1;
      bVar3 = false;
    }
  }
  if (bVar3) {
    if (*(int *)(param_1 + 3) != 0) {
      *(undefined4 **)(*(int *)(param_1 + 3) + 0x40) = puVar1;
      (&DAT_005d7884)[param_2 * 0x12] = *(undefined4 *)(param_1 + 3);
      *param_1 = *param_1 + 1;
      *(undefined4 **)(param_1 + 3) = puVar1;
      return;
    }
    *param_1 = *param_1 + 1;
    *(undefined4 **)(param_1 + 3) = puVar1;
    *(undefined4 **)(param_1 + 1) = puVar1;
  }
  return;
}



undefined4
FUN_00466530(undefined4 param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5
            ,undefined4 param_6)

{
  ushort uVar1;
  undefined4 *puVar2;
  undefined uVar3;
  undefined uVar4;
  uint uVar5;
  size_t sVar6;
  uint uVar7;
  uint *puVar8;
  ushort *puVar9;
  char *_Dest;
  char *_Source;
  int *piVar10;
  undefined4 *puVar11;
  int iVar12;
  undefined4 uVar13;
  
  puVar2 = DAT_005d8464;
  uVar4 = (undefined)param_3;
  uVar3 = (undefined)param_2;
  switch(param_1) {
  case 0:
    sVar6 = _strlen(&DAT_005d67e0 + DAT_00598b6c * 0x30);
    *puVar2 = 0;
    uVar7 = 0;
    if (DAT_005d70a4 != 0) {
      _Source = &DAT_005d67e0;
      _Dest = (char *)((int)puVar2 + 0x277);
      do {
        FID_conflict___mbscpy(_Dest,_Source);
        uVar7 = uVar7 + 1;
        _Source = _Source + 0x30;
        _Dest = _Dest + 0xd;
      } while (uVar7 < DAT_005d70a4);
    }
    *(undefined *)((int)puVar2 + 0x1c9) = DAT_005d86b0;
    *(undefined4 *)((int)puVar2 + 0x1c5) = DAT_005d70a0;
    *(uint *)((int)puVar2 + 0x26b) = DAT_005d70a4;
    *(undefined *)((int)puVar2 + 0x26a) = (undefined)DAT_005d6760;
    FUN_004ad7a0((int)puVar2 + 0x1b,&DAT_005d7aa0,0x1aa);
    uVar7 = 0;
    if (DAT_005d6760 != 0) {
      piVar10 = &DAT_005d7848;
      puVar11 = puVar2 + 0xf3;
      do {
        if ((&DAT_005d7c42)[uVar7] != '\0') {
          FUN_004ad7a0(puVar11 + -3,*(int *)(*piVar10 + 4) + 0x26,0xc);
          FUN_004ad7a0(puVar11,*(int *)(*piVar10 + 4) + 0x36,0xc);
        }
        uVar7 = uVar7 + 1;
        piVar10 = piVar10 + 0x12;
        puVar11 = puVar11 + 8;
      } while (uVar7 < DAT_005d6760);
    }
    *(undefined4 *)((int)puVar2 + 0x17) = param_2;
    FUN_004ad7a0((int)puVar2 + 0x26f,&DAT_005d6768,7);
    uVar7 = 0;
    if (DAT_005d6760 * 5 != 0) {
      puVar9 = &DAT_005d86e0;
      puVar8 = (uint *)((int)puVar2 + 0x1ca);
      do {
        uVar7 = uVar7 + 1;
        uVar1 = *puVar9;
        puVar9 = puVar9 + 1;
        *puVar8 = (uint)uVar1;
        puVar8 = puVar8 + 1;
      } while (uVar7 < DAT_005d6760 * 5);
    }
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,(sVar6 & 0xff) + 0x4bd,param_6);
    return 0;
  case 1:
    *DAT_005d8464 = 1;
    goto LAB_00466b99;
  case 2:
    iVar12 = (int)DAT_005d8464 + 0x17;
    *DAT_005d8464 = 2;
    *(undefined4 *)((int)puVar2 + 0x1c1) = param_2;
    FUN_004ad7a0(iVar12,&DAT_005d7aa0,0x1aa);
    *(undefined4 *)((int)puVar2 + 0x1c1) = param_2;
    FUN_004ad7a0((int)puVar2 + 0x1c5,&DAT_005d6768,7);
    uVar7 = 0;
    if (DAT_005d6760 * 5 != 0) {
      puVar9 = &DAT_005d86e0;
      puVar8 = (uint *)((int)puVar2 + 0x1cd);
      do {
        uVar7 = uVar7 + 1;
        uVar1 = *puVar9;
        puVar9 = puVar9 + 1;
        *puVar8 = (uint)uVar1;
        puVar8 = puVar8 + 1;
      } while (uVar7 < DAT_005d6760 * 5);
    }
    uVar7 = 0;
    if (DAT_005d6760 != 0) {
      piVar10 = &DAT_005d7848;
      iVar12 = (int)puVar2 + 0x27d;
      uVar5 = DAT_005d6760;
      do {
        if ((&DAT_005d7c42)[uVar7] != '\0') {
          FUN_004ad7a0(iVar12 + -0xc,*(int *)(*piVar10 + 4) + 0x26,0xc);
          FUN_004ad7a0(iVar12,*(int *)(*piVar10 + 4) + 0x36,0xc);
          uVar5 = DAT_005d6760;
        }
        uVar7 = uVar7 + 1;
        piVar10 = piVar10 + 0x12;
        iVar12 = iVar12 + 0x20;
      } while (uVar7 < uVar5);
    }
    uVar13 = 0x36d;
    break;
  case 3:
  case 0xb:
    _memset(DAT_005d8464,0,0x37);
    *puVar2 = param_1;
    QueryPerformanceCounter((LARGE_INTEGER *)((int)puVar2 + 0x17));
    *(undefined4 *)((int)puVar2 + 0x1f) = param_4;
    *(undefined4 *)((int)puVar2 + 0x23) = 0;
    *(int *)((int)puVar2 + 0x27) = param_3;
    *(int *)((int)puVar2 + 0x2b) = param_3 >> 0x1f;
    uVar13 = 0x37;
    break;
  case 4:
    param_6 = 0;
    uVar13 = 0x18;
    *DAT_005d8464 = 4;
    break;
  case 5:
    *DAT_005d8464 = 5;
    goto LAB_004669b7;
  case 6:
    *DAT_005d8464 = 6;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
    *(undefined2 *)(puVar2 + 6) = (undefined2)param_3;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x1a,0);
    return 0;
  case 7:
    _memset(DAT_005d8464,0,0x37);
    iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    *(ushort *)((int)puVar2 + 0x19) = (ushort)param_4 & 0x3ff;
    FUN_004ad7a0((int)puVar2 + 0x1b,iVar12 + 0x26,0xc);
    if ((*(int *)(iVar12 + 0x18b) == 0) || (*(int *)(*(int *)(iVar12 + 0x18b) + 0x5b) == 0)) {
      FUN_004ad7a0((int)puVar2 + 0x27,iVar12 + 0x36,0xc);
    }
    else {
      *(byte *)((int)puVar2 + 0x1a) = *(byte *)((int)puVar2 + 0x1a) | 0x80;
      *(undefined2 *)((int)puVar2 + 0x17) = *(undefined2 *)(*(int *)(iVar12 + 0x18b) + 4);
      *(float *)((int)puVar2 + 0x27) =
           *(float *)(iVar12 + 0x36) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x36);
      *(float *)((int)puVar2 + 0x2b) =
           *(float *)(iVar12 + 0x3a) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3a);
      *(float *)((int)puVar2 + 0x2f) =
           *(float *)(iVar12 + 0x3e) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3e);
    }
    *(undefined4 *)((int)puVar2 + 0x33) = *(undefined4 *)(iVar12 + 0xf7);
    *puVar2 = 7;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x37,param_6);
    return 0;
  case 8:
    _memset(DAT_005d8464,0,0x37);
    FUN_004ad7a0((int)puVar2 + 0x17,*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36,0xc);
    *puVar2 = 8;
    *(undefined *)((int)puVar2 + 0x23) = uVar4;
    *(undefined *)(puVar2 + 9) = uVar3;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x25,param_6);
    return 0;
  case 9:
    *DAT_005d8464 = 9;
LAB_004669b7:
    puVar2[6] = param_2;
    *(undefined *)((int)puVar2 + 0x17) = uVar4;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x1c,param_6);
    return 0;
  case 10:
    *DAT_005d8464 = 10;
    goto LAB_00466b9b;
  case 0xc:
    param_6 = 0;
    *DAT_005d8464 = 0xc;
    goto LAB_00466af0;
  case 0xd:
    *DAT_005d8464 = 0xd;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
    *(undefined2 *)(puVar2 + 6) = DAT_005d7a80;
    goto LAB_00466cab;
  case 0xe:
    *DAT_005d8464 = 0xe;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
LAB_00466af0:
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x18,param_6);
    return 0;
  case 0xf:
    _memset(DAT_005d8464,0,0x32);
    iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    if ((*(int *)(iVar12 + 0x18b) == 0) || (*(int *)(*(int *)(iVar12 + 0x18b) + 0x5b) == 0)) {
      FUN_004ad7a0((int)puVar2 + 0x26,iVar12 + 0x36,0xc);
    }
    else {
      *(undefined *)((int)puVar2 + 0x17) = 1;
      *(undefined2 *)(puVar2 + 6) = *(undefined2 *)(*(int *)(iVar12 + 0x18b) + 4);
      *(float *)((int)puVar2 + 0x26) =
           *(float *)(iVar12 + 0x36) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x36);
      *(float *)((int)puVar2 + 0x2a) =
           *(float *)(iVar12 + 0x3a) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3a);
      *(float *)((int)puVar2 + 0x2e) =
           *(float *)(iVar12 + 0x3e) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3e);
    }
    *(undefined4 *)((int)puVar2 + 0x1a) = param_2;
    *(undefined4 *)((int)puVar2 + 0x1e) = param_4;
    *(undefined4 *)((int)puVar2 + 0x22) = param_5;
    *puVar2 = 0xf;
    uVar13 = 0x32;
    break;
  case 0x10:
    param_6 = 0;
    *DAT_005d8464 = 0x10;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
    *(undefined2 *)(puVar2 + 6) = (undefined2)param_3;
LAB_00466cab:
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x1a,param_6);
    return 0;
  case 0x11:
    _memset(DAT_005d8464,0,0x18);
    iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 0x12);
    if (iVar12 != 0) {
      *(char *)((int)puVar2 + 0x17) = *(char *)(*(int *)(iVar12 + 4) + 0x1aa) + '\x01';
    }
    *puVar2 = 0x11;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x18,param_6);
    return 0;
  case 0x12:
    *DAT_005d8464 = 0x12;
    sVar6 = _strlen(&DAT_005d6660);
    FID_conflict___mbscpy((char *)(puVar2 + 6),&DAT_005d6660);
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,(sVar6 & 0xffff) + 0x19,0);
    return 0;
  case 0x13:
    *DAT_005d8464 = 0x13;
    *(undefined *)((int)puVar2 + 0x17) = uVar4;
LAB_00466b99:
    param_6 = 0;
LAB_00466b9b:
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x18,param_6);
    return 0;
  case 0x14:
    _memset(DAT_005d8464,0,0x3a);
    *puVar2 = 0x14;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
    *(undefined *)(puVar2 + 6) = uVar4;
    *(undefined *)((int)puVar2 + 0x19) = (undefined)param_4;
    iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    FUN_004ad7a0((int)puVar2 + 0x1e,iVar12 + 0x26,0xc);
    if ((*(int *)(iVar12 + 0x18b) == 0) || (*(int *)(*(int *)(iVar12 + 0x18b) + 0x5b) == 0)) {
      FUN_004ad7a0((int)puVar2 + 0x2a,iVar12 + 0x36,0xc);
      *(undefined4 *)((int)puVar2 + 0x36) = *(undefined4 *)(iVar12 + 0xf7);
      param_6 = 0;
      uVar13 = 0x3a;
    }
    else {
      *(byte *)((int)puVar2 + 0x1d) = *(byte *)((int)puVar2 + 0x1d) | 0x80;
      param_6 = 0;
      uVar13 = 0x3a;
      *(undefined2 *)((int)puVar2 + 0x1a) = *(undefined2 *)(*(int *)(iVar12 + 0x18b) + 4);
      *(float *)((int)puVar2 + 0x2a) =
           *(float *)(iVar12 + 0x36) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x36);
      *(float *)((int)puVar2 + 0x2e) =
           *(float *)(iVar12 + 0x3a) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3a);
      *(float *)((int)puVar2 + 0x32) =
           *(float *)(iVar12 + 0x3e) - *(float *)(*(int *)(iVar12 + 0x18b) + 0x3e);
      *(undefined4 *)((int)puVar2 + 0x36) = *(undefined4 *)(iVar12 + 0xf7);
    }
    break;
  case 0x15:
    *DAT_005d8464 = 0x15;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x17,0);
    return 0;
  case 0x16:
    _memset(DAT_005d8464,0,0x59);
    *puVar2 = 0x16;
    FUN_004ad7a0((int)puVar2 + 0x39,&DAT_005d6768,7);
    *(undefined2 *)(puVar2 + 1) = (undefined2)param_2;
    *(undefined *)((int)puVar2 + 0x37) = uVar4;
    if ((param_3 != 1) && (*(int *)(DAT_005df318 + 4) != 0)) {
      iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
      FUN_004ad7a0((int)puVar2 + 0x41,iVar12 + 0x26,0xc);
      FUN_004ad7a0((int)puVar2 + 0x4d,iVar12 + 0x36,0xc);
      *(undefined *)(puVar2 + 0xe) = 1;
    }
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x59,param_6);
    return 0;
  case 0x17:
    _memset(DAT_005d8464,0,0x23);
    *puVar2 = 0x17;
    FUN_004ad7a0((int)puVar2 + 0x17,DAT_005e45e4 + 0x38,0xc);
    uVar13 = 0x23;
    break;
  case 0x18:
  case 0x19:
    _memset(DAT_005d8464,0,0x1a);
    *puVar2 = param_1;
    *(undefined2 *)((int)puVar2 + 0x17) = (undefined2)param_2;
    *(undefined *)((int)puVar2 + 0x19) = uVar4;
    FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,0x1a,param_6);
    return 0;
  case 0x1a:
    _memset(DAT_005d8464,0,0x18);
    *puVar2 = 0x1a;
    *(undefined *)((int)puVar2 + 0x17) = uVar3;
    uVar13 = 0x18;
    break;
  case 0x1b:
  case 0x1c:
    _memset(DAT_005d8464,0,0x17);
    *puVar2 = param_1;
    uVar13 = 0x17;
    break;
  default:
    goto switchD_00466542_caseD_1d;
  case 0x20:
    *DAT_005d8464 = 0x20;
    goto LAB_00466b9b;
  }
  FUN_00465e30(0,DAT_005d7c4c,DAT_005d8580,puVar2,uVar13,param_6);
switchD_00466542_caseD_1d:
  return 0;
}



undefined4 FUN_00466f40(void)

{
  HGLOBAL pvVar1;
  int *pMem;
  undefined4 unaff_EBX;
  undefined4 uVar2;
  SIZE_T local_80c;
  int local_808;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(DAT_005d8580,0xffffffff);
  FUN_004ad7a0();
  **(undefined4 **)(DAT_005d7c4c + 8) = 0;
  *(undefined4 *)(DAT_005d7c4c + 8) = unaff_EBX;
  *(int *)(DAT_005d7c4c + 4) = *(int *)(DAT_005d7c4c + 4) + -1;
  SetEvent(DAT_005d8580);
  DAT_00598990 = DAT_00598990 + 1 & 0x7f;
  pvVar1 = GlobalAlloc(0x42,local_80c);
  pMem = (int *)GlobalLock(pvVar1);
  if (pMem == (int *)0x0) {
    uVar2 = 0x8007000e;
  }
  else {
    if (local_808 == 0x15) {
      FUN_004858f0();
    }
    FUN_004ad7a0();
    QueryPerformanceCounter((LARGE_INTEGER *)((int)pMem + 6));
    if (*pMem == 1) {
      DAT_005d7a90 = timeSetEvent(8000,1000,FUN_00465170,0,0);
    }
    uVar2 = (**(code **)(*DAT_005d86c0 + 0x68))();
  }
  if (pMem != (int *)0x0) {
    pvVar1 = GlobalHandle(pMem);
    GlobalUnlock(pvVar1);
    pvVar1 = GlobalHandle(pMem);
    GlobalFree(pvVar1);
  }
  return uVar2;
}



undefined4 FUN_00467080(int param_1,undefined2 *param_2)

{
  wchar_t *pwVar1;
  wchar_t *pwVar2;
  uint uVar3;
  
  *param_2 = 0x7b;
  pwVar1 = param_2 + 1;
  uVar3 = 0;
  do {
    if ((&DAT_004c0e00)[uVar3] == 0x2d) {
      *pwVar1 = L'-';
      pwVar2 = pwVar1;
    }
    else {
      pwVar2 = pwVar1 + 1;
      *pwVar1 = L"0123456789ABCDEF"[*(byte *)(param_1 + (uint)(byte)(&DAT_004c0e00)[uVar3]) >> 4];
      *pwVar2 = L"0123456789ABCDEF"[*(byte *)(param_1 + (uint)(byte)(&DAT_004c0e00)[uVar3]) & 0xf];
    }
    pwVar1 = pwVar2 + 1;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 0x14);
  *pwVar1 = L'}';
  pwVar2[2] = L'\0';
  return 0x26;
}



undefined4 FUN_00467100(int *param_1,int *param_2)

{
  if ((((*param_1 == *param_2) && (param_1[1] == param_2[1])) && (param_1[2] == param_2[2])) &&
     (param_1[3] == param_2[3])) {
    return 1;
  }
  return 0;
}



int FUN_00467140(char *param_1)

{
  char cVar1;
  
  cVar1 = *param_1;
  if (('/' < cVar1) && (cVar1 < ':')) {
    return cVar1 + -0x30;
  }
  if (('`' < cVar1) && (cVar1 < 'g')) {
    return cVar1 + -0x57;
  }
  if (('@' < cVar1) && (cVar1 < 'G')) {
    return cVar1 + -0x37;
  }
  return 0;
}



void FUN_00467180(int param_1,char **param_2,int param_3,int param_4)

{
  char cVar1;
  char cVar2;
  int iVar3;
  
  iVar3 = 0;
  if (0 < param_3) {
    do {
      if (**param_2 == '-') {
        *param_2 = *param_2 + 1;
      }
      if (param_4 == 1) {
        cVar1 = FUN_00467140(*param_2 + 1);
        cVar2 = FUN_00467140(*param_2);
        *(char *)(((param_3 + param_1) - iVar3) + -1) = cVar1 + cVar2 * '\x10';
      }
      else {
        cVar1 = FUN_00467140(*param_2 + 1);
        cVar2 = FUN_00467140(*param_2);
        *(char *)(iVar3 + param_1) = cVar1 + cVar2 * '\x10';
      }
      iVar3 = iVar3 + 1;
      *param_2 = *param_2 + 2;
    } while (iVar3 < param_3);
  }
  return;
}



undefined4 FUN_00467210(undefined4 param_1,void *param_2)

{
  char local_48;
  char local_47;
  
  AdjustStackForLargeAllocations();
  FUN_004672d0();
  if (local_48 != '{') {
    return 0x80004005;
  }
  FUN_00467180();
  FUN_00467180();
  FUN_00467180();
  FUN_00467180();
  if (local_47 != '}') {
    _memset(param_2,0,0x10);
    return 0x80004005;
  }
  return 0;
}



void FUN_004672d0(LPSTR param_1,LPCWSTR param_2,int param_3)

{
  WideCharToMultiByte(0,0,param_2,-1,param_1,param_3,&DAT_004cfa2c,&param_3);
  return;
}



void FUN_00467300(LPWSTR param_1,LPCSTR param_2,int param_3)

{
  MultiByteToWideChar(0,0,param_2,-1,param_1,param_3);
  return;
}



int FUN_00467320(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_004af640();
  return iVar1 % (param_2 - param_1) + param_1;
}



float10 FUN_00467340(double param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = FUN_004af640();
  return ((float10)(double)CONCAT44(param_3,param_2) - (float10)param_1) * (float10)iVar1 *
         (float10)3.051850947599719e-05 + (float10)param_1;
}



void FUN_00467370(HDC param_1)

{
  int iVar1;
  LOGFONTA local_74;
  CHAR local_38 [20];
  undefined4 uStackY_24;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  uStackY_24 = 0x467398;
  LoadStringA(DAT_005d63e0,0x149,local_38,0x32);
  _memset(&local_74,0,0x3c);
  iVar2 = 0x48;
  iVar1 = GetDeviceCaps(param_1,0x5a);
  local_74.lfHeight = MulDiv(0xb,iVar1,iVar2);
  local_74.lfHeight = -local_74.lfHeight;
  local_74.lfWeight = 500;
  local_74.lfItalic = '\x01';
  FID_conflict___mbscpy(local_74.lfFaceName,local_38);
  DAT_0059899c = CreateFontIndirectA(&local_74);
  _memset(&local_74,0,0x3c);
  iVar2 = 0x48;
  iVar1 = GetDeviceCaps(param_1,0x5a);
  local_74.lfHeight = MulDiv(0xb,iVar1,iVar2);
  local_74.lfHeight = -local_74.lfHeight;
  local_74.lfWeight = 500;
  FID_conflict___mbscpy(local_74.lfFaceName,local_38);
  DAT_00598ab4 = CreateFontIndirectA(&local_74);
  return;
}



void FUN_00467440(void)

{
  if (DAT_0059899c != (HGDIOBJ)0x0) {
    DeleteObject(DAT_0059899c);
  }
  if (DAT_00598ab4 != (HGDIOBJ)0x0) {
    DeleteObject(DAT_00598ab4);
  }
  return;
}



void FUN_00467470(LPCSTR param_1,BYTE *param_2,DWORD param_3)

{
  RegSetValueExA(HKEY_00598b70,param_1,0,4,param_2,param_3);
  return;
}



void FUN_004674a0(LPCSTR param_1,BYTE *param_2,DWORD param_3)

{
  RegSetValueExA(HKEY_00598b70,param_1,0,1,param_2,param_3);
  return;
}



void FUN_004674d0(LPCSTR param_1,LPBYTE param_2,LPDWORD param_3)

{
  RegQueryValueExA(HKEY_00598b70,param_1,(LPDWORD)0x0,(LPDWORD)&param_3,param_2,param_3);
  return;
}



undefined4 FUN_00467500(void)

{
  LSTATUS LVar1;
  int iVar2;
  HDC hDC;
  
  AdjustStackForLargeAllocations();
  hDC = (HDC)0x0;
  CoInitialize((LPVOID)0x0);
  LVar1 = RegCreateKeyExA((HKEY)0x0,s_Software_Vis_Interactive_Hedz_004cfa48,0,(LPSTR)0x28,
                          (DWORD)DAT_005d6530,DAT_005d63e0,(LPSECURITY_ATTRIBUTES)0x0,
                          (PHKEY)s_WHAT_S_THIS__004cfa38,(LPDWORD)0x4);
  if (LVar1 == 0) {
    hDC = GetDC(DAT_005d6530);
    if (hDC != (HDC)0x0) {
      FUN_00467370();
      PropertySheetA((LPCPROPSHEETHEADERA)&stack0xffffffd4);
      iVar2 = FUN_00462cf0();
      if (iVar2 != 0) {
        FUN_00467440();
        ReleaseDC(DAT_005d6530,hDC);
        CoUninitialize();
        PostMessageA(DAT_005d6530,0x400,0,0);
        return 0;
      }
    }
  }
  FUN_00467440();
  if (hDC != (HDC)0x0) {
    ReleaseDC(DAT_005d6530,hDC);
  }
  PostMessageA(DAT_005d6530,0x401,0,0);
  return 1;
}



undefined4
FUN_00467700(undefined4 param_1,undefined4 param_2,int param_3,int param_4,undefined4 param_5,
            HWND param_6)

{
  int iVar1;
  WPARAM wParam;
  HGLOBAL hMem;
  LPVOID lParam;
  
  wParam = SendMessageA(param_6,0x180,0,*(LPARAM *)(param_4 + 8));
  if (wParam != 0xffffffff) {
    hMem = GlobalAlloc(0x42,param_3 + 0x10);
    lParam = GlobalLock(hMem);
    if (lParam != (LPVOID)0x0) {
      FUN_004ad7a0(lParam,param_1,0x10);
      iVar1 = (int)lParam + 0x10;
      *(int *)iVar1 = iVar1;
      FUN_004ad7a0(iVar1,param_2,param_3);
      SendMessageA(param_6,0x19a,wParam,(LPARAM)lParam);
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00467780(HWND param_1,int param_2,uint param_3,int param_4)

{
  int iVar1;
  HWND hWnd;
  LRESULT LVar2;
  UINT Msg;
  WPARAM wParam;
  LPARAM lParam;
  
  if (param_2 != 0x4e) {
    if (param_2 != 0x110) {
      if ((param_2 == 0x111) && (param_3 >> 0x10 == 1)) {
        DAT_00598b64 = SendMessageA(DAT_00598aac,0x188,0,0);
        return 1;
      }
      return 0;
    }
    DAT_00598aac = GetDlgItem(param_1,0x4dd);
    SetWindowTextA(DAT_00598aac,DAT_005df0e4);
    DAT_00598aac = GetDlgItem(param_1,0x3fd);
    if (DAT_00598aac == (HWND)0x0) {
      return 1;
    }
    DAT_00598998 = DAT_00598aac;
    iVar1 = FUN_00462a10(0);
    if (iVar1 != 0) {
      return 1;
    }
    (**(code **)(*DAT_0059890c + 0x8c))(DAT_0059890c,DAT_005d66b8,FUN_00467700,DAT_00598aac,0);
    SetFocus(DAT_00598aac);
    SendMessageA(DAT_00598aac,0x186,DAT_00598b64,0);
    DAT_00598b64 = SendMessageA(DAT_00598aac,0x188,0,0);
    return 1;
  }
  iVar1 = *(int *)(param_4 + 8);
  if (iVar1 == -0xd1) {
    FUN_00469770();
    FUN_00462dc0();
    return 1;
  }
  if (iVar1 != -0xcf) {
    if (iVar1 != -200) {
      return 0;
    }
    lParam = 2;
    wParam = 0;
    Msg = 0x470;
    hWnd = GetParent(param_1);
    PostMessageA(hWnd,Msg,wParam,lParam);
    return 1;
  }
  FUN_00462dc0();
  if ((DAT_00598b64 == 0xffffffff) ||
     (LVar2 = SendMessageA(DAT_00598aac,0x199,DAT_00598b64,0), LVar2 == 0)) goto LAB_0046794c;
  iVar1 = FUN_00467100(LVar2,&DAT_004c1320);
  if (iVar1 == 0) {
    iVar1 = FUN_00467100(LVar2,&DAT_004c1330);
    _DAT_005d8734 = 8;
    if (iVar1 != 0) goto LAB_00467933;
  }
  else {
LAB_00467933:
    _DAT_005d8734 = 2;
  }
  iVar1 = FUN_00462a10(LVar2 + 0x10);
  if (iVar1 == 0) {
    return 1;
  }
LAB_0046794c:
  SetWindowLongA(param_1,0,-1);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00467980(HWND param_1,int param_2,uint param_3,int param_4)

{
  int iVar1;
  LRESULT LVar2;
  HWND hWnd;
  UINT Msg;
  WPARAM wParam;
  LPARAM lParam;
  
  if (param_2 == 0x4e) {
    iVar1 = *(int *)(param_4 + 8);
    if (iVar1 == -0xd1) {
      FUN_00469770();
      FUN_00462dc0();
    }
    else {
      if (iVar1 == -0xcf) {
        if (DAT_005d6c94 == 0) {
          return 1;
        }
        SetWindowLongA(param_1,0,0x83);
        return 1;
      }
      if (iVar1 == -200) {
        lParam = 3;
        wParam = 0;
        Msg = 0x470;
        hWnd = GetParent(param_1);
        PostMessageA(hWnd,Msg,wParam,lParam);
        return 1;
      }
    }
  }
  else {
    if (param_2 == 0x110) {
      _DAT_005d709c = GetDlgItem(param_1,0x3ec);
      SetWindowTextA(_DAT_005d709c,DAT_005df0f8);
      _DAT_005d709c = GetDlgItem(param_1,0x403);
      SetWindowTextA(_DAT_005d709c,DAT_005df0fc);
      _DAT_005d709c = GetDlgItem(param_1,0x404);
      SetWindowTextA(_DAT_005d709c,DAT_005df104);
      SendDlgItemMessageA(param_1,0x403,0xf1,1,0);
      SendDlgItemMessageA(param_1,0x404,0xf1,0,0);
      DAT_005d6c94 = 1;
      return 1;
    }
    if ((param_2 == 0x111) && (param_3 >> 0x10 == 0)) {
      if ((param_3 & 0xffff) == 0x403) {
        LVar2 = SendDlgItemMessageA(param_1,0x403,0xf0,1,0);
        if (LVar2 == 1) {
          DAT_005d6c94 = LVar2;
          return 1;
        }
      }
      else {
        if ((param_3 & 0xffff) != 0x404) {
          return 0;
        }
        LVar2 = SendDlgItemMessageA(param_1,0x404,0xf0,1,0);
        if (LVar2 == 1) {
          DAT_005d6c94 = 0;
          return 1;
        }
      }
      return 1;
    }
  }
  return 0;
}



undefined4
FUN_00467b30(undefined4 param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5
            )

{
  FUN_004695d0(param_5,*(undefined4 *)(param_3 + 8),0,0xffffffff);
  return 1;
}



undefined4 FUN_00467b60(int param_1,undefined4 param_2,byte param_3,HWND param_4)

{
  undefined4 uVar1;
  HWND hWnd;
  HWND hWnd_00;
  void *_Dst;
  undefined4 *puVar2;
  int iVar3;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  hWnd = GetDlgItem(param_4,0x400);
  hWnd_00 = GetDlgItem(param_4,0x41f);
  if ((param_3 & 1) != 0) {
    return 0;
  }
  if (param_4 == (HWND)0x0) {
    return 0;
  }
  _Size = 0x14;
  iVar3 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x14);
  puVar2 = (undefined4 *)_memset(_Dst,iVar3,_Size);
  if (puVar2 == (undefined4 *)0x0) {
    return 0;
  }
  *puVar2 = *(undefined4 *)(param_1 + 8);
  puVar2[1] = *(undefined4 *)(param_1 + 0xc);
  puVar2[2] = *(undefined4 *)(param_1 + 0x10);
  uVar1 = *(undefined4 *)(param_1 + 0x14);
  puVar2[4] = 1;
  puVar2[3] = uVar1;
  SendMessageA(hWnd_00,0x180,0,*(LPARAM *)(param_1 + 0x30));
  iVar3 = FUN_004695d0(hWnd,*(undefined4 *)(param_1 + 0x30),puVar2,1);
  if (iVar3 != 0) {
    SendMessageA(hWnd,0x110b,9,iVar3);
    FUN_00462b70((undefined4 *)(param_1 + 8),FUN_00467b30,hWnd,0x80);
    return 1;
  }
  FreeMemory(puVar2);
  return 1;
}



void FUN_00467c80(HWND param_1)

{
  int lParam;
  int unaff_EBX;
  undefined4 local_2c;
  int local_28;
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  _memset(&local_2c,0,0x28);
  uStackY_24 = 0x467cb5;
  for (lParam = SendMessageA(param_1,0x110a,0,0); lParam != 0;
      lParam = SendMessageA(param_1,0x110a,1,lParam)) {
    local_2c = 4;
    uStackY_24 = 0x467cd3;
    local_28 = lParam;
    SendMessageA(param_1,0x110c,0,(LPARAM)&local_2c);
    if (unaff_EBX != 0) {
      *(undefined4 *)(unaff_EBX + 0x10) = 0;
    }
    uStackY_24 = 0x467cef;
    SendMessageA(param_1,0x110d,0,(LPARAM)&local_2c);
    uStackY_24 = 0x467cfa;
  }
  return;
}



void FUN_00467d10(HWND param_1)

{
  int lParam;
  LRESULT LVar1;
  int unaff_EBX;
  undefined4 local_2c;
  int local_28;
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  _memset(&local_2c,0,0x28);
  uStackY_24 = 0x467d45;
  LVar1 = SendMessageA(param_1,0x110a,0,0);
  while (lParam = LVar1, lParam != 0) {
    uStackY_24 = 0x467d56;
    LVar1 = SendMessageA(param_1,0x110a,1,lParam);
    local_2c = 4;
    uStackY_24 = 0x467d71;
    local_28 = lParam;
    SendMessageA(param_1,0x110c,0,(LPARAM)&local_2c);
    if ((unaff_EBX != 0) && (*(int *)(unaff_EBX + 0x10) == 0)) {
      FreeMemory();
      uStackY_24 = 0x467d93;
      SendMessageA(param_1,0x1101,0,lParam);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00467db0(HWND param_1,undefined4 param_2,uint param_3,undefined4 *param_4)

{
  int iVar1;
  UINT UVar2;
  LRESULT LVar3;
  HWND pHVar4;
  undefined4 *puVar5;
  undefined local_60 [52];
  undefined local_2c [4];
  LPARAM local_28;
  undefined4 *puStackY_24;
  WPARAM WVar6;
  LPARAM LVar7;
  
  AdjustStackForLargeAllocations();
  switch(param_2) {
  case 0x4e:
    iVar1 = param_4[2];
    switch(iVar1) {
    default:
      if (iVar1 == -0xd1) {
        KillTimer(param_1,2);
        FUN_00469770();
        FUN_004696f0();
        FUN_00462dc0();
        return 1;
      }
      if (iVar1 != -0x191) {
        return 0;
      }
      puVar5 = &DAT_00598af0;
      for (iVar1 = 0x1a; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar5 = *param_4;
        param_4 = param_4 + 1;
        puVar5 = puVar5 + 1;
      }
      puStackY_24 = (undefined4 *)0x467e1c;
      UVar2 = GetDlgItemTextA(param_1,0x402,&DAT_005d6768,7);
      break;
    case -0xd0:
      KillTimer(param_1,2);
      FID_conflict___mbscpy(&DAT_005d7854,&DAT_005d6768);
      if (HKEY_00598b70 != (HKEY)0x0) {
        FUN_00467470();
      }
      if (DAT_00598b4c == 0) {
        puStackY_24 = (undefined4 *)0x468064;
        LVar3 = SendMessageA(DAT_005989a0,0x110a,3,DAT_00598b2c);
        if (LVar3 == 0) goto LAB_004680ba;
        puStackY_24 = (undefined4 *)0x46808b;
        local_28 = LVar3;
        SendMessageA(DAT_005989a0,(UINT)local_60,0x32,(LPARAM)local_2c);
      }
      iVar1 = FUN_00462d00();
      if (iVar1 == 0) {
        puStackY_24 = &DAT_005d86c8;
        local_28 = 0x4680b3;
        iVar1 = FUN_00462a60();
        if (iVar1 == 0) {
          FUN_004696f0();
          FUN_00469770();
          return 1;
        }
      }
LAB_004680ba:
      SetWindowLongA(param_1,0,-1);
      return 1;
    case -0xcf:
    case -0xcd:
    case -0xcc:
    case -0xcb:
    case -0xca:
    case -0xc9:
    case -199:
    case -0xc6:
    case -0xc5:
    case -0xc4:
    case -0xc3:
    case -0xc2:
    case -0xc1:
    case -0xc0:
    case -0xbf:
    case -0xbe:
    case -0xbd:
    case -0xbc:
    case -0xbb:
    case -0xba:
    case -0xb9:
    case -0xb8:
    case -0xb7:
    case -0xb6:
    case -0xb5:
    case -0xb4:
    case -0xb3:
    case -0xb2:
    case -0xb1:
    case -0xb0:
    case -0xaf:
    case -0xae:
    case -0xad:
    case -0xac:
    case -0xab:
    case -0xaa:
    case -0xa9:
    case -0xa8:
    case -0xa7:
    case -0xa6:
    case -0xa5:
    case -0xa4:
    case -0xa3:
    case -0xa2:
    case -0xa1:
    case -0xa0:
    case -0x9f:
    case -0x9e:
    case -0x9d:
    case -0x9c:
    case -0x9b:
    case -0x9a:
    case -0x99:
    case -0x98:
    case -0x97:
    case -0x96:
    case -0x95:
    case -0x94:
    case -0x93:
    case -0x92:
    case -0x91:
    case -0x90:
    case -0x8f:
    case -0x8e:
    case -0x8d:
    case -0x8c:
    case -0x8b:
    case -0x8a:
    case -0x89:
    case -0x88:
    case -0x87:
    case -0x86:
    case -0x85:
    case -0x84:
    case -0x83:
    case -0x82:
    case -0x81:
    case -0x80:
    case -0x7f:
    case -0x7e:
    case -0x7d:
    case -0x7c:
    case -0x7b:
    case -0x7a:
    case -0x79:
    case -0x78:
    case -0x77:
    case -0x76:
    case -0x75:
    case -0x74:
    case -0x73:
    case -0x72:
    case -0x71:
    case -0x70:
    case -0x6f:
    case -0x6e:
    case -0x6d:
    case -0x6c:
    case -0x6b:
    case -0x6a:
    case -0x69:
    case -0x68:
    case -0x67:
    case -0x66:
    case -0x65:
    case -100:
    case -99:
    case -0x62:
    case -0x61:
    case -0x60:
    case -0x5f:
    case -0x5e:
    case -0x5d:
    case -0x5c:
    case -0x5b:
    case -0x5a:
    case -0x59:
    case -0x58:
    case -0x57:
    case -0x56:
    case -0x55:
    case -0x54:
    case -0x53:
    case -0x52:
    case -0x51:
    case -0x50:
    case -0x4f:
    case -0x4e:
    case -0x4d:
    case -0x4c:
    case -0x4b:
    case -0x4a:
    case -0x49:
    case -0x48:
    case -0x47:
    case -0x46:
    case -0x45:
    case -0x44:
    case -0x43:
    case -0x42:
    case -0x41:
    case -0x40:
    case -0x3f:
    case -0x3e:
    case -0x3d:
    case -0x3c:
    case -0x3b:
    case -0x3a:
    case -0x39:
    case -0x38:
    case -0x37:
    case -0x36:
    case -0x35:
    case -0x34:
    case -0x33:
    case -0x32:
    case -0x31:
    case -0x30:
    case -0x2f:
    case -0x2e:
    case -0x2d:
    case -0x2c:
    case -0x2b:
    case -0x2a:
    case -0x29:
    case -0x28:
    case -0x27:
    case -0x26:
    case -0x25:
    case -0x24:
    case -0x23:
    case -0x22:
    case -0x21:
    case -0x20:
    case -0x1f:
    case -0x1e:
    case -0x1d:
    case -0x1c:
    case -0x1b:
    case -0x1a:
    case -0x19:
    case -0x18:
    case -0x17:
    case -0x16:
    case -0x15:
    case -0x14:
    case -0x13:
    case -0x12:
    case -0x11:
    case -0x10:
    case -0xf:
    case -0xe:
    case -0xd:
    case -0xc:
    case -0xb:
    case -10:
    case -9:
    case -8:
    case -7:
    case -6:
    case -5:
    case -4:
    case -3:
    case -2:
      goto switchD_00467dd9_caseD_4f;
    case -0xce:
      KillTimer(param_1,2);
      FUN_004696f0();
      return 1;
    case -200:
      if (DAT_005989a0 != (HWND)0x0) {
        puStackY_24 = (undefined4 *)0x467ea9;
        SendMessageA(DAT_005989a0,0x1101,0,-0x10000);
      }
      puStackY_24 = (undefined4 *)0x467ebb;
      iVar1 = FUN_00462ba0();
      if (iVar1 < 0) {
        return 0;
      }
      puStackY_24 = (undefined4 *)0x467ed7;
      DAT_00598ab0 = SendMessageA(DAT_005989a0,0x110a,5,0);
      if (DAT_00598ab0 != 0) {
        do {
          puStackY_24 = (undefined4 *)0x467ef5;
          iVar1 = SendMessageA(DAT_005989a0,0x110a,4,DAT_00598ab0);
          while (iVar1 != 0) {
            puStackY_24 = (undefined4 *)0x467f0c;
            LVar3 = SendMessageA(DAT_005989a0,0x110a,1,iVar1);
            puStackY_24 = (undefined4 *)0x467f1e;
            SendMessageA(DAT_005989a0,0x1101,0,iVar1);
            iVar1 = LVar3;
          }
          puStackY_24 = (undefined4 *)0x467f4e;
          local_28 = DAT_00598ab0;
          SendMessageA(DAT_005989a0,(UINT)local_60,0x32,(LPARAM)local_2c);
          puStackY_24 = (undefined4 *)0x467f68;
          FUN_00462b70();
          puStackY_24 = (undefined4 *)0x467f82;
          DAT_00598ab0 = SendMessageA(DAT_005989a0,0x110a,6,DAT_00598ab0);
        } while (DAT_00598ab0 != 0);
        DAT_00598ab0 = 0;
      }
      puStackY_24 = (undefined4 *)0x467fa5;
      UVar2 = GetDlgItemTextA(param_1,0x402,&DAT_005d6768,7);
      if (UVar2 != 0) {
        puStackY_24 = (undefined4 *)0x467fba;
        LVar3 = SendMessageA(DAT_005989a0,0x110a,9,0);
        if (LVar3 != 0) {
          LVar7 = 5;
          goto LAB_00467fc4;
        }
      }
      LVar7 = 9;
LAB_00467fc4:
      WVar6 = 0;
      UVar2 = 0x470;
      puStackY_24 = (undefined4 *)0x467fd2;
      pHVar4 = GetParent(param_1);
      puStackY_24 = (undefined4 *)0x467fd9;
      PostMessageA(pHVar4,UVar2,WVar6,LVar7);
      SetFocus(DAT_005989a0);
      puStackY_24 = (undefined4 *)0x467ff6;
      SetTimer(param_1,2,500,(TIMERPROC)0x0);
      return 1;
    }
    break;
  default:
    goto switchD_00467dd9_caseD_4f;
  case 0x110:
    _DAT_005d709c = GetDlgItem(param_1,0x3f0);
    SetWindowTextA(_DAT_005d709c,DAT_005df168);
    _DAT_005d709c = GetDlgItem(param_1,0x3f1);
    SetWindowTextA(_DAT_005d709c,DAT_005df10c);
    DAT_005d6768 = 0;
    if ((HKEY_00598b70 != (HKEY)0x0) && (iVar1 = FUN_004674d0(), iVar1 == 0)) {
      SetDlgItemTextA(param_1,0x402,&DAT_005d6768);
    }
    DAT_005989a0 = GetDlgItem(param_1,0x400);
    DAT_00598aa8 = GetDlgItem(param_1,0x41f);
    if (DAT_005989a0 != (HWND)0x0) {
      FUN_00469480();
      return 1;
    }
    return 1;
  case 0x111:
    if ((short)param_3 != 0x402) {
      return 0;
    }
    if (param_3 >> 0x10 != 0x300) {
      return 0;
    }
    puStackY_24 = (undefined4 *)0x468288;
    UVar2 = GetDlgItemTextA(param_1,0x402,&DAT_005d6768,7);
    break;
  case 0x113:
    puStackY_24 = (undefined4 *)0x4681fc;
    SendMessageA(DAT_00598aa8,0x184,0,0);
    FUN_00467c80();
    puStackY_24 = (undefined4 *)0x46821d;
    FUN_00462ba0();
    FUN_00467d10();
    puStackY_24 = (undefined4 *)0x468242;
    UVar2 = GetDlgItemTextA(param_1,0x402,&DAT_005d6768,7);
    if (UVar2 == 0) goto LAB_004682aa;
    puStackY_24 = (undefined4 *)0x468257;
    LVar3 = SendMessageA(DAT_005989a0,0x110a,9,0);
    if (LVar3 == 0) goto LAB_004682aa;
    LVar7 = 5;
    goto LAB_004682ac;
  }
  if (UVar2 == 0) {
LAB_004682aa:
    LVar7 = 9;
  }
  else {
    puStackY_24 = (undefined4 *)0x4682a2;
    LVar3 = SendMessageA(DAT_005989a0,0x110a,9,0);
    if (LVar3 == 0) goto LAB_004682aa;
    LVar7 = 5;
  }
LAB_004682ac:
  WVar6 = 0;
  UVar2 = 0x470;
  puStackY_24 = (undefined4 *)0x4682ba;
  pHVar4 = GetParent(param_1);
  puStackY_24 = (undefined4 *)0x4682c1;
  PostMessageA(pHVar4,UVar2,WVar6,LVar7);
switchD_00467dd9_caseD_4f:
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00468490(HWND param_1,undefined4 param_2,uint param_3,int param_4)

{
  char cVar1;
  int iVar2;
  HWND pHVar3;
  HANDLE pvVar4;
  char *pcVar5;
  HWND pHVar6;
  LRESULT LVar7;
  code *pcVar8;
  uint uVar9;
  char local_428 [256];
  WPARAM local_328 [35];
  _WIN32_FIND_DATAA local_29c;
  char local_15c [256];
  undefined local_5c [28];
  undefined4 local_40;
  UINT UVar10;
  LPSTR pCVar11;
  uint wParam;
  WPARAM WVar12;
  undefined *lParam;
  BOOL BVar13;
  LPARAM LVar14;
  LPCSTR pCVar15;
  CHAR *pCVar16;
  WPARAM WVar17;
  WPARAM *pWVar18;
  undefined4 *puVar19;
  
  pHVar3 = param_1;
  AdjustStackForLargeAllocations();
  switch(param_2) {
  case 0x4e:
    switch(*(undefined4 *)(param_4 + 8)) {
    case 0xffffff2f:
switchD_004684dc_caseD_ffffff2f:
      FUN_00469770();
      FUN_00462dc0();
      return 1;
    case 0xffffff30:
      cVar1 = LoadMusicFileFunc();
      while (cVar1 != '\0') {
        MessageBeep(0x30);
        iVar2 = MessageBoxA(gMainWindowHandle,DAT_005def24,(LPCSTR)0x0,0x50011);
        if (iVar2 == 0x466) goto switchD_004684dc_caseD_ffffff2f;
        cVar1 = LoadMusicFileFunc();
      }
      GetDlgItemTextA(param_1,0x3e9,&DAT_005d6768,7);
      FID_conflict___mbscpy(&DAT_005d7854,&DAT_005d6768);
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0xf0;
      pHVar6 = GetDlgItem(param_1,0x498);
      LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
      if (LVar7 == 1) {
        DAT_005d86b0 = '\0';
      }
      else {
        LVar14 = 0;
        WVar12 = 0;
        UVar10 = 0xf0;
        pHVar6 = GetDlgItem(param_1,0x425);
        LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
        if (LVar7 == 1) {
          pCVar11 = &stack0xfffffff4;
          iVar2 = 5;
          DAT_005d86b0 = '\x01';
          pHVar6 = GetDlgItem(param_1,0x422);
          GetWindowTextA(pHVar6,pCVar11,iVar2);
          DAT_005d70a0 = FUN_004adb80();
          iVar2 = DAT_005d70a0;
        }
        else {
          LVar14 = 0;
          WVar12 = 0;
          UVar10 = 0xf0;
          pHVar6 = GetDlgItem(param_1,0x49a);
          LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
          if (LVar7 != 1) goto LAB_00468704;
          pCVar11 = &stack0xfffffff4;
          iVar2 = 5;
          DAT_005d86b0 = '\x02';
          pHVar6 = GetDlgItem(param_1,0x423);
          GetWindowTextA(pHVar6,pCVar11,iVar2);
          DAT_005d67d0 = FUN_004adb80();
          iVar2 = DAT_005d67d0;
        }
        if (iVar2 == 0) {
          return 0;
        }
      }
LAB_00468704:
      if (HKEY_00598b70 != (HKEY)0x0) {
        FUN_00467470();
        FUN_00467470();
      }
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x18b;
      pHVar6 = GetDlgItem(param_1,0x420);
      DAT_005d70a4 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
      uVar9 = 0;
      if (DAT_005d70a4 != 0) {
        param_1 = (HWND)&DAT_005d67e0;
        do {
          UVar10 = 0x189;
          wParam = uVar9;
          lParam = (undefined *)param_1;
          pHVar6 = GetDlgItem(pHVar3,0x420);
          SendMessageA(pHVar6,UVar10,wParam,(LPARAM)lParam);
          uVar9 = uVar9 + 1;
          param_1 = (HWND)((int)param_1 + 0x30);
        } while (uVar9 < DAT_005d70a4);
      }
      iVar2 = FUN_00462ad0();
      if ((iVar2 == 0) && (iVar2 = FUN_00462a60(), iVar2 == 0)) {
        _memset(local_5c,0,0x1c);
        (**(code **)(*DAT_005d86c0 + 0x74))();
        DAT_005d7840 = DAT_005d86c8;
        FID_conflict___mbscpy(&DAT_005d7bc2 + (_DAT_005d7aa0 & 0xffff) * 10,&DAT_005d6768);
        *(short *)(&DAT_005d7c12 + (_DAT_005d7aa0 & 0xffff) * 2) = DAT_005d7aa0;
        DAT_005d7aa0 = DAT_005d7aa0 + 1;
        FUN_004783e0();
        pcVar5 = local_15c;
        LVar14 = 0;
        WVar12 = 0;
        UVar10 = 0x188;
        local_40 = 0x468877;
        pHVar6 = GetDlgItem(pHVar3,0x421);
        WVar12 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
        UVar10 = 0x189;
        pHVar3 = GetDlgItem(pHVar3,0x421);
        SendMessageA(pHVar3,UVar10,WVar12,(LPARAM)pcVar5);
        FID_conflict___mbscpy(local_428,&DAT_005d54e0);
        FID_conflict__strcat(local_428,local_15c);
        DAT_005d67cc = FUN_0046a720();
        FUN_00469770();
        return 1;
      }
      SetWindowLongA(pHVar3,0,-1);
      return 1;
    default:
      goto switchD_004684b9_caseD_4f;
    case 0xffffff32:
      SetWindowLongA(param_1,0,0x6c);
      return 1;
    case 0xffffff38:
      goto switchD_004684dc_caseD_ffffff38;
    }
  default:
switchD_004684b9_caseD_4f:
    return 0;
  case 0x110:
    _DAT_005d709c = GetDlgItem(param_1,0x3ee);
    SetWindowTextA(_DAT_005d709c,DAT_005df108);
    _DAT_005d709c = GetDlgItem(param_1,0x3ef);
    SetWindowTextA(_DAT_005d709c,DAT_005df10c);
    _DAT_005d709c = GetDlgItem(param_1,0x4ca);
    SetWindowTextA(_DAT_005d709c,DAT_005df11c);
    _DAT_005d709c = GetDlgItem(param_1,0x4cc);
    SetWindowTextA(_DAT_005d709c,DAT_005df120);
    _DAT_005d709c = GetDlgItem(param_1,0x4c9);
    SetWindowTextA(_DAT_005d709c,DAT_005df110);
    _DAT_005d709c = GetDlgItem(param_1,0x4c8);
    SetWindowTextA(_DAT_005d709c,DAT_005df148);
    _DAT_005d709c = GetDlgItem(param_1,0x498);
    SetWindowTextA(_DAT_005d709c,DAT_005df174);
    _DAT_005d709c = GetDlgItem(param_1,0x425);
    SetWindowTextA(_DAT_005d709c,DAT_005df14c);
    _DAT_005d709c = GetDlgItem(param_1,0x49a);
    SetWindowTextA(_DAT_005d709c,DAT_005df150);
    _DAT_005d709c = GetDlgItem(param_1,0x4cb);
    SetWindowTextA(_DAT_005d709c,DAT_005df118);
    _DAT_005d709c = GetDlgItem(param_1,0x4d2);
    SetWindowTextA(_DAT_005d709c,DAT_005df17c);
    _DAT_005d709c = GetDlgItem(param_1,0x433);
    SetWindowTextA(_DAT_005d709c,DAT_005df180);
    _DAT_005d709c = GetDlgItem(param_1,0x4cd);
    SetWindowTextA(_DAT_005d709c,DAT_005df178);
    DAT_005d6768 = 0;
    DAT_00598ab8 = 0;
    if (HKEY_00598b70 != (HKEY)0x0) {
      iVar2 = FUN_004674d0();
      if (iVar2 == 0) {
        SetDlgItemTextA(param_1,0x3e9,&DAT_005d6768);
      }
      iVar2 = FUN_004674d0();
      if (iVar2 == 0) {
        SetDlgItemTextA(param_1,0x401,&DAT_00598ab8);
      }
    }
    pHVar3 = GetDlgItem(param_1,0x429);
    SendMessageA(pHVar3,0x406,1,0x40002);
    SetDlgItemInt(param_1,0x42a,2,0);
    DAT_005d6760 = 2;
    SendMessageA(pHVar3,0x405,1,2);
    if (_DAT_005d8734 == 2) {
      EnableWindow(pHVar3,0);
      BVar13 = 0;
      pHVar3 = GetDlgItem(param_1,0x42a);
      EnableWindow(pHVar3,BVar13);
    }
    FID_conflict___mbscpy(local_15c,&DAT_005d5fe0);
    FID_conflict__strcat(local_15c,&DAT_004cfb94);
    pvVar4 = FindFirstFileA(local_15c,&local_29c);
    do {
      if (pvVar4 == (HANDLE)0xffffffff) {
        iVar2 = 0;
      }
      else {
        pcVar5 = _strstr(local_29c.cFileName,&DAT_004cfb98);
        if ((pcVar5 != (char *)0x0) &&
           ((local_29c.cFileName[0] == 'm' || (local_29c.cFileName[0] == 'M')))) {
          pCVar16 = local_29c.cFileName;
          WVar12 = 0;
          UVar10 = 0x180;
          pHVar3 = GetDlgItem(param_1,0x41f);
          SendMessageA(pHVar3,UVar10,WVar12,(LPARAM)pCVar16);
        }
        iVar2 = FindNextFileA(pvVar4,&local_29c);
      }
    } while (iVar2 != 0);
    FID_conflict___mbscpy(local_15c,&DAT_005d54e0);
    FID_conflict__strcat(local_15c,&DAT_004cfba0);
    pvVar4 = FindFirstFileA(local_15c,&local_29c);
    do {
      if (pvVar4 == (HANDLE)0xffffffff) {
        WVar12 = 0;
      }
      else {
        pcVar5 = _strstr(local_29c.cFileName,&DAT_004cfba4);
        if (pcVar5 != (char *)0x0) {
          pCVar16 = local_29c.cFileName;
          WVar12 = 0;
          UVar10 = 0x180;
          pHVar3 = GetDlgItem(param_1,0x421);
          SendMessageA(pHVar3,UVar10,WVar12,(LPARAM)pCVar16);
        }
        WVar12 = FindNextFileA(pvVar4,&local_29c);
      }
    } while (WVar12 != 0);
    UVar10 = 0x186;
    WVar17 = WVar12;
    pHVar3 = GetDlgItem(param_1,0x421);
    SendMessageA(pHVar3,UVar10,WVar12,WVar17);
    LVar14 = 0;
    WVar12 = 1;
    UVar10 = 0xf1;
    pHVar3 = GetDlgItem(param_1,0x498);
    SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    BVar13 = 0;
    pHVar3 = GetDlgItem(param_1,0x422);
    EnableWindow(pHVar3,BVar13);
    BVar13 = 0;
    pHVar3 = GetDlgItem(param_1,0x423);
    EnableWindow(pHVar3,BVar13);
    LVar14 = 0;
    WVar12 = 3;
    UVar10 = 0xc5;
    pHVar3 = GetDlgItem(param_1,0x422);
    SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    LVar14 = 0;
    WVar12 = 3;
    UVar10 = 0xc5;
    pHVar3 = GetDlgItem(param_1,0x423);
    SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    pCVar15 = &DAT_004cfbac;
    pHVar3 = GetDlgItem(param_1,0x422);
    SetWindowTextA(pHVar3,pCVar15);
    pCVar15 = &DAT_004cfbb0;
    pHVar3 = GetDlgItem(param_1,0x423);
    SetWindowTextA(pHVar3,pCVar15);
    DAT_005d86b0 = 0;
    return 1;
  case 0x111:
    break;
  case 0x114:
    switch(param_3 & 0xffff) {
    case 0:
    case 1:
    case 2:
    case 3:
    case 5:
      pHVar3 = GetDlgItem(param_1,0x429);
      DAT_005d6760 = SendMessageA(pHVar3,0x400,0,0);
      SetDlgItemInt(param_1,0x42a,DAT_005d6760,0);
      return 1;
    default:
      return 0;
    }
  }
  switch(param_3 & 0xffff) {
  case 0x3e9:
    goto switchD_00468da4_caseD_3e9;
  default:
    goto switchD_004684b9_caseD_4f;
  case 0x401:
    if (param_3 >> 0x10 != 0x300) {
      return 0;
    }
    UVar10 = GetDlgItemTextA(param_1,0x401,&DAT_00598ab8,0x32);
    if ((UVar10 != 0) && (UVar10 = GetDlgItemTextA(param_1,0x3e9,&DAT_005d6768,7), UVar10 != 0)) {
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x18b;
      pHVar3 = GetDlgItem(param_1,0x420);
      LVar7 = SendMessageA(pHVar3,UVar10,WVar12,LVar14);
LAB_00468fb4:
      if (LVar7 != 0) {
LAB_00468fb8:
        LVar14 = 5;
        goto LAB_00468fbe;
      }
    }
    goto LAB_00468fbc;
  case 0x420:
    goto switchD_00468da4_caseD_420;
  case 0x425:
    BVar13 = 1;
    DAT_005d86b0 = 1;
    pHVar3 = GetDlgItem(param_1,0x422);
    EnableWindow(pHVar3,BVar13);
    BVar13 = 0;
    pHVar3 = GetDlgItem(param_1,0x423);
    EnableWindow(pHVar3,BVar13);
    pHVar3 = GetDlgItem(param_1,0x422);
    SetFocus(pHVar3);
    return 0;
  case 0x42b:
    pWVar18 = local_328;
    WVar12 = 0x1e;
    UVar10 = 0x191;
    pHVar6 = GetDlgItem(param_1,0x41f);
    param_3 = SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)pWVar18);
    if (param_3 != 0) {
      param_1 = (HWND)local_328;
      do {
        puVar19 = &local_40;
        WVar12 = *(WPARAM *)param_1;
        UVar10 = 0x189;
        pHVar6 = GetDlgItem(pHVar3,0x41f);
        SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)puVar19);
        puVar19 = &local_40;
        WVar12 = 0;
        UVar10 = 0x180;
        pHVar6 = GetDlgItem(pHVar3,0x420);
        SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)puVar19);
        param_1 = param_1 + 1;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
    }
    LVar14 = -1;
    WVar12 = 0;
    UVar10 = 0x185;
    pHVar6 = GetDlgItem(pHVar3,0x41f);
    SendMessageA(pHVar6,UVar10,WVar12,LVar14);
    UVar10 = GetDlgItemTextA(pHVar3,0x401,&DAT_00598ab8,0x32);
    if ((UVar10 != 0) && (UVar10 = GetDlgItemTextA(pHVar3,0x3e9,&DAT_005d6768,7), UVar10 != 0)) {
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x18b;
      pHVar6 = GetDlgItem(pHVar3,0x420);
      LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
      if (LVar7 != 0) {
        LVar14 = 5;
        goto LAB_0046912b;
      }
    }
    goto LAB_00469129;
  case 0x42c:
    pWVar18 = local_328;
    WVar12 = 0x1e;
    UVar10 = 0x191;
    pHVar6 = GetDlgItem(param_1,0x420);
    LVar7 = SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)pWVar18);
    if (LVar7 != 0) {
      param_1 = (HWND)local_328;
      param_3 = LVar7;
      do {
        puVar19 = &local_40;
        WVar12 = *(WPARAM *)param_1;
        UVar10 = 0x189;
        pHVar6 = GetDlgItem(pHVar3,0x420);
        SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)puVar19);
        puVar19 = &local_40;
        WVar12 = 0;
        UVar10 = 0x180;
        pHVar6 = GetDlgItem(pHVar3,0x41f);
        SendMessageA(pHVar6,UVar10,WVar12,(LPARAM)puVar19);
        param_1 = param_1 + 1;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
    }
    if (LVar7 != 0) {
      param_1 = (HWND)(local_328 + LVar7);
      param_3 = LVar7;
      do {
        LVar14 = 0;
        WVar12 = *(WPARAM *)(param_1 + -1);
        UVar10 = 0x182;
        pHVar6 = GetDlgItem(pHVar3,0x420);
        SendMessageA(pHVar6,UVar10,WVar12,LVar14);
        param_1 = param_1 + -1;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
    }
    UVar10 = GetDlgItemTextA(pHVar3,0x401,&DAT_00598ab8,0x32);
    if ((UVar10 != 0) && (UVar10 = GetDlgItemTextA(pHVar3,0x3e9,&DAT_005d6768,7), UVar10 != 0)) {
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x18b;
      pHVar6 = GetDlgItem(pHVar3,0x420);
      LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
      if (LVar7 != 0) {
        LVar14 = 5;
        goto LAB_00469255;
      }
    }
    LVar14 = 9;
LAB_00469255:
    WVar12 = 0;
    UVar10 = 0x470;
    pHVar6 = GetParent(pHVar3);
    PostMessageA(pHVar6,UVar10,WVar12,LVar14);
    LVar14 = -1;
    WVar12 = 0;
    UVar10 = 0x185;
    pHVar3 = GetDlgItem(pHVar3,0x420);
    SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    return 0;
  case 0x433:
    DialogBoxParamA((HINSTANCE)0x0,(LPCSTR)0x65,param_1,FUN_00469a30,0);
    LVar14 = 0;
    WVar12 = 0;
    UVar10 = 0x184;
    pHVar3 = GetDlgItem(param_1,0x421);
    SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    FID_conflict___mbscpy(local_15c,&DAT_005d54e0);
    FID_conflict__strcat(local_15c,&DAT_004cfbb4);
    pvVar4 = FindFirstFileA(local_15c,&local_29c);
    do {
      if (pvVar4 == (HANDLE)0xffffffff) {
        WVar12 = 0;
      }
      else {
        pcVar5 = _strstr(local_29c.cFileName,&DAT_004cfbb8);
        if (pcVar5 != (char *)0x0) {
          pCVar16 = local_29c.cFileName;
          WVar12 = 0;
          UVar10 = 0x180;
          pHVar3 = GetDlgItem(param_1,0x421);
          SendMessageA(pHVar3,UVar10,WVar12,(LPARAM)pCVar16);
        }
        WVar12 = FindNextFileA(pvVar4,&local_29c);
      }
    } while (WVar12 != 0);
    UVar10 = 0x186;
    WVar17 = WVar12;
    pHVar3 = GetDlgItem(param_1,0x421);
    SendMessageA(pHVar3,UVar10,WVar12,WVar17);
    return 0;
  case 0x498:
    BVar13 = 0;
    DAT_005d86b0 = 0;
    pHVar3 = GetDlgItem(param_1,0x422);
    EnableWindow(pHVar3,BVar13);
    BVar13 = 0;
    pHVar3 = GetDlgItem(param_1,0x423);
    EnableWindow(pHVar3,BVar13);
    return 0;
  case 0x49a:
    BVar13 = 1;
    DAT_005d86b0 = 2;
    pHVar3 = GetDlgItem(param_1,0x423);
    EnableWindow(pHVar3,BVar13);
    BVar13 = 0;
    pHVar3 = GetDlgItem(param_1,0x422);
    EnableWindow(pHVar3,BVar13);
    pHVar3 = GetDlgItem(param_1,0x423);
    SetFocus(pHVar3);
    return 0;
  }
switchD_004684dc_caseD_ffffff38:
  pHVar3 = GetDlgItem(param_1,0x429);
  pcVar8 = EnableWindow_exref;
  if (_DAT_005d8734 == 2) {
    SendMessageA(pHVar3,0x405,1,2);
    SetDlgItemInt(param_1,0x42a,2,0);
    pcVar8 = EnableWindow_exref;
    EnableWindow(pHVar3,0);
  }
  else {
    EnableWindow(pHVar3,1);
  }
  GetDlgItem(param_1,0x42a);
  (*pcVar8)();
  UVar10 = GetDlgItemTextA(param_1,0x401,&DAT_00598ab8,0x32);
  if ((UVar10 != 0) && (UVar10 = GetDlgItemTextA(param_1,0x3e9,&DAT_005d6768,7), UVar10 != 0)) {
    LVar14 = 0;
    WVar12 = 0;
    UVar10 = 0x18b;
    pHVar3 = GetDlgItem(param_1,0x420);
    LVar7 = SendMessageA(pHVar3,UVar10,WVar12,LVar14);
    if (LVar7 != 0) {
      if ((DAT_005d86b0 == '\0') || ((DAT_005d86b0 == '\x01' && (DAT_005d70a0 != 0))))
      goto LAB_00468fb8;
      LVar7 = DAT_005d67d0;
      if (DAT_005d86b0 == '\x02') goto LAB_00468fb4;
    }
  }
LAB_00468fbc:
  LVar14 = 9;
LAB_00468fbe:
  WVar12 = 0;
  UVar10 = 0x470;
  pHVar3 = GetParent(param_1);
  PostMessageA(pHVar3,UVar10,WVar12,LVar14);
  return 1;
switchD_00468da4_caseD_3e9:
  if (param_3 >> 0x10 != 0x300) {
    return 0;
  }
switchD_00468da4_caseD_420:
  UVar10 = GetDlgItemTextA(param_1,0x401,&DAT_00598ab8,0x32);
  if ((UVar10 != 0) && (UVar10 = GetDlgItemTextA(param_1,0x3e9,&DAT_005d6768,7), UVar10 != 0)) {
    LVar14 = 0;
    WVar12 = 0;
    UVar10 = 0x18b;
    pHVar6 = GetDlgItem(param_1,0x420);
    LVar7 = SendMessageA(pHVar6,UVar10,WVar12,LVar14);
    if (LVar7 != 0) {
      LVar14 = 5;
      goto LAB_0046912b;
    }
  }
LAB_00469129:
  LVar14 = 9;
LAB_0046912b:
  WVar12 = 0;
  UVar10 = 0x470;
  pHVar3 = GetParent(pHVar3);
  PostMessageA(pHVar3,UVar10,WVar12,LVar14);
  return 0;
}



undefined4 FUN_00469480(HWND param_1)

{
  HIMAGELIST himl;
  HBITMAP pHVar1;
  int iVar2;
  
  himl = ImageList_Create(0x19,0x19,0,2,0);
  if (himl == (HIMAGELIST)0x0) {
    return 0;
  }
  pHVar1 = LoadBitmapA(DAT_005d63e0,(LPCSTR)0x66);
  DAT_00598b5c = ImageList_Add(himl,pHVar1,(HBITMAP)0x0);
  DeleteObject(pHVar1);
  pHVar1 = LoadBitmapA(DAT_005d63e0,(LPCSTR)0x67);
  DAT_00598b58 = ImageList_Add(himl,pHVar1,(HBITMAP)0x0);
  DeleteObject(pHVar1);
  iVar2 = ImageList_GetImageCount(himl);
  if (iVar2 < 2) {
    return 0;
  }
  SendMessageA(param_1,0x1109,0,(LPARAM)himl);
  return 1;
}



LPARAM FUN_00469520(HWND param_1,void *param_2)

{
  LRESULT lParam;
  int iVar1;
  void *unaff_EBX;
  undefined4 local_2c;
  LPARAM local_28;
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  _memset(&local_2c,0,0x28);
  uStackY_24 = 0x469555;
  lParam = SendMessageA(param_1,0x110a,0,0);
  if (lParam == 0) {
    return 0;
  }
  do {
    local_2c = 4;
    uStackY_24 = 0x469573;
    local_28 = lParam;
    SendMessageA(param_1,0x110c,0,(LPARAM)&local_2c);
    iVar1 = _memcmp(unaff_EBX,param_2,0x10);
    if (iVar1 == 0) {
      *(undefined4 *)((int)unaff_EBX + 0x10) = 1;
      uStackY_24 = 0x4695bc;
      SendMessageA(param_1,0x110d,0,(LPARAM)&local_2c);
      return lParam;
    }
    uStackY_24 = 0x469597;
    lParam = SendMessageA(param_1,0x110a,1,lParam);
  } while (lParam != 0);
  return 0;
}



LRESULT FUN_004695d0(HWND param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  LRESULT local_5c;
  undefined4 local_58;
  undefined4 local_54 [10];
  undefined4 local_2c [3];
  
  AdjustStackForLargeAllocations();
  if ((param_4 == 1) && (iVar1 = FUN_00469520(), iVar1 != 0)) {
    return 0;
  }
  _memset(local_2c,0,0x28);
  _memset(&local_5c,0,0x30);
  local_2c[0] = 0x27;
  if (param_4 == 1) {
    local_2c[0] = 0x2f;
    local_2c[2] = 2;
  }
  puVar2 = local_2c;
  puVar3 = local_54;
  for (iVar1 = 10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  local_58 = DAT_004cfa34;
  if (param_4 == -1) {
    local_5c = DAT_00598b7c;
  }
  else if (param_4 == 1) {
    local_5c = -0x10000;
  }
  else if (param_4 == 2) {
    local_5c = DAT_00598b7c;
  }
  else {
    local_5c = DAT_00598b80;
  }
  local_2c[2] = 0x4696be;
  DAT_004cfa34 = SendMessageA(param_1,0x1100,0,(LPARAM)&local_5c);
  if (param_4 == 1) {
    DAT_00598b7c = DAT_004cfa34;
    return DAT_004cfa34;
  }
  if (param_4 == 2) {
    DAT_00598b80 = DAT_004cfa34;
  }
  return DAT_004cfa34;
}



void FUN_004696f0(HWND param_1)

{
  int lParam;
  int unaff_EBX;
  undefined local_60 [52];
  undefined local_2c [4];
  int local_28;
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  uStackY_24 = 0x469715;
  for (lParam = SendMessageA(param_1,0x110a,0,0); lParam != 0;
      lParam = SendMessageA(param_1,0x110a,1,lParam)) {
    uStackY_24 = 0x469739;
    local_28 = lParam;
    SendMessageA(param_1,(UINT)local_60,0x32,(LPARAM)local_2c);
    if (unaff_EBX != 0) {
      FreeMemory();
      unaff_EBX = 0;
    }
    uStackY_24 = 0x46975b;
  }
  return;
}



void FUN_00469770(void)

{
  LRESULT LVar1;
  LPCVOID pMem;
  HGLOBAL pvVar2;
  WPARAM wParam;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598998 != (HWND)0x0) {
    LVar1 = SendMessageA(DAT_00598998,0x18b,0,0);
    wParam = 0;
    if (0 < LVar1) {
      do {
        pMem = (LPCVOID)SendMessageA(DAT_00598998,0x199,wParam,0);
        if (pMem != (LPCVOID)0x0) {
          pvVar2 = GlobalHandle(pMem);
          GlobalUnlock(pvVar2);
          pvVar2 = GlobalHandle(pMem);
          GlobalFree(pvVar2);
        }
        wParam = wParam + 1;
      } while ((int)wParam < LVar1);
    }
  }
  return;
}



void FUN_004697f0(HWND param_1,HWND param_2,ushort *param_3)

{
  ushort *puVar1;
  int iVar2;
  ushort uVar3;
  WPARAM WVar4;
  LRESULT LVar5;
  LRESULT LVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  
  AdjustStackForLargeAllocations();
  uVar8 = 0;
  SendMessageA(param_1,0x184,0,0);
  uVar9 = 1;
  uVar10 = 1;
  iVar7 = DAT_005d6c90;
  if (1 < DAT_00598b68) {
    do {
      iVar2 = uVar9 * 0xb;
      if ((((DAT_00598b84 & 1 << (*(byte *)(iVar7 + 8 + iVar2) & 0x1f)) != 0) &&
          ((DAT_00598b88 & 1 << (*(byte *)(iVar7 + 7 + iVar2) & 0x1f)) != 0)) &&
         (*(char *)(iVar7 + iVar2) == '\0')) {
        SendMessageA(param_1,0x180,0,*(LPARAM *)(iVar7 + 3 + iVar2));
        SendMessageA(param_1,0x19a,uVar8 & 0xffff,(uint)*(ushort *)(DAT_005d6c90 + 1 + iVar2));
        uVar8 = uVar8 + 1;
        iVar7 = DAT_005d6c90;
      }
      uVar10 = uVar10 + 1;
      uVar9 = uVar10 & 0xffff;
    } while (uVar9 < DAT_00598b68);
  }
  if ((param_3 != (ushort *)0x0) && (uVar3 = 0, *param_3 != 0)) {
    do {
      puVar1 = param_3 + uVar3 + 1;
      SendMessageA(param_2,0x180,0,*(LPARAM *)(iVar7 + (uint)param_3[uVar3 + 1] * 0xb + 3));
      WVar4 = SendMessageA(param_2,399,0,*(LPARAM *)(DAT_005d6c90 + (uint)*puVar1 * 0xb + 3));
      SendMessageA(param_2,0x19a,WVar4,(uint)*puVar1);
      *(undefined *)(DAT_005d6c90 + (uint)*puVar1 * 0xb) = 1;
      WVar4 = SendMessageA(param_1,399,0,*(LPARAM *)(DAT_005d6c90 + (uint)*puVar1 * 0xb + 3));
      if (WVar4 != 0) {
        SendMessageA(param_1,0x182,WVar4,0);
      }
      uVar3 = uVar3 + 1;
      iVar7 = DAT_005d6c90;
    } while (uVar3 < *param_3);
  }
  LVar5 = SendMessageA(param_2,0x18b,0,0);
  uVar8 = 0;
  param_1 = (HWND)0x0;
  uVar9 = 0;
  if (0 < LVar5) {
    do {
      LVar6 = SendMessageA(param_2,0x199,uVar8 - (int)param_1,0);
      iVar7 = LVar6 * 0xb;
      if (((DAT_00598b84 & 1 << (*(byte *)(DAT_005d6c90 + 8 + iVar7) & 0x1f)) == 0) ||
         ((1 << (*(byte *)(DAT_005d6c90 + 7 + iVar7) & 0x1f) & DAT_00598b88) == 0)) {
        SendMessageA(param_2,0x182,uVar8 - (int)param_1,0);
        *(undefined *)(DAT_005d6c90 + iVar7) = 0;
        param_1 = (HWND)((int)param_1 + 1);
      }
      uVar9 = uVar9 + 1;
      uVar8 = uVar9 & 0xffff;
    } while ((int)uVar8 < LVar5);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00469a30(HWND param_1,int param_2,ushort param_3)

{
  HWND pHVar1;
  uint uVar2;
  uint uVar3;
  LRESULT LVar4;
  HWND pHVar5;
  BOOL BVar6;
  char *pcVar7;
  LRESULT LVar8;
  void *_Dst;
  int iVar9;
  HWND pHVar10;
  WPARAM WVar11;
  int iVar12;
  WPARAM local_588 [225];
  undefined local_204 [256];
  char local_104 [220];
  undefined4 uStackY_28;
  UINT UVar13;
  int iVar14;
  WPARAM *lParam;
  undefined *puVar15;
  LPARAM LVar16;
  size_t _Size;
  
  pHVar5 = param_1;
  AdjustStackForLargeAllocations();
  if (param_2 == 0x110) {
    GetDlgItem(param_1,0x41f);
    SetWindowTextA(param_1,DAT_005df184);
    _DAT_005d709c = GetDlgItem(param_1,0x4d3);
    SetWindowTextA(_DAT_005d709c,DAT_005df124);
    _DAT_005d709c = GetDlgItem(param_1,0x4d4);
    SetWindowTextA(_DAT_005d709c,DAT_005df128);
    _DAT_005d709c = GetDlgItem(param_1,0x517);
    SetWindowTextA(_DAT_005d709c,DAT_005df22c);
    _DAT_005d709c = GetDlgItem(param_1,0x51a);
    SetWindowTextA(_DAT_005d709c,DAT_005df1ac);
    _DAT_005d709c = GetDlgItem(param_1,0x514);
    SetWindowTextA(_DAT_005d709c,DAT_005df230);
    _DAT_005d709c = GetDlgItem(param_1,0x518);
    SetWindowTextA(_DAT_005d709c,DAT_005df1f4);
    _DAT_005d709c = GetDlgItem(param_1,0x515);
    SetWindowTextA(_DAT_005d709c,DAT_005df1b4);
    _DAT_005d709c = GetDlgItem(param_1,0x516);
    SetWindowTextA(_DAT_005d709c,DAT_005df1a8);
    _DAT_005d709c = GetDlgItem(param_1,0x519);
    SetWindowTextA(_DAT_005d709c,DAT_005df1f8);
    _DAT_005d709c = GetDlgItem(param_1,0x4b1);
    SetWindowTextA(_DAT_005d709c,DAT_005df1ec);
    _DAT_005d709c = GetDlgItem(param_1,0x4b2);
    SetWindowTextA(_DAT_005d709c,DAT_005df1d4);
    _DAT_005d709c = GetDlgItem(param_1,0x4b3);
    SetWindowTextA(_DAT_005d709c,DAT_005df1d0);
    _DAT_005d709c = GetDlgItem(param_1,0x4b4);
    SetWindowTextA(_DAT_005d709c,DAT_005df1bc);
    _DAT_005d709c = GetDlgItem(param_1,0x4b5);
    SetWindowTextA(_DAT_005d709c,DAT_005df1c0);
    _DAT_005d709c = GetDlgItem(param_1,0x4b6);
    SetWindowTextA(_DAT_005d709c,DAT_005df1dc);
    _DAT_005d709c = GetDlgItem(param_1,0x4b7);
    SetWindowTextA(_DAT_005d709c,DAT_005df1e0);
    _DAT_005d709c = GetDlgItem(param_1,0x4b8);
    SetWindowTextA(_DAT_005d709c,DAT_005df228);
    _DAT_005d709c = GetDlgItem(param_1,0x4b9);
    SetWindowTextA(_DAT_005d709c,DAT_005df1c8);
    _DAT_005d709c = GetDlgItem(param_1,0x4ba);
    SetWindowTextA(_DAT_005d709c,DAT_005df1d8);
    _DAT_005d709c = GetDlgItem(param_1,0x4bb);
    SetWindowTextA(_DAT_005d709c,DAT_005df210);
    _DAT_005d709c = GetDlgItem(param_1,0x4bc);
    SetWindowTextA(_DAT_005d709c,DAT_005df200);
    _DAT_005d709c = GetDlgItem(param_1,0x4bd);
    SetWindowTextA(_DAT_005d709c,DAT_005df20c);
    _DAT_005d709c = GetDlgItem(param_1,0x4be);
    SetWindowTextA(_DAT_005d709c,DAT_005df1c4);
    _DAT_005d709c = GetDlgItem(param_1,0x4bf);
    SetWindowTextA(_DAT_005d709c,DAT_005df1e4);
    _DAT_005d709c = GetDlgItem(param_1,0x4c0);
    SetWindowTextA(_DAT_005d709c,DAT_005df21c);
    _DAT_005d709c = GetDlgItem(param_1,0x4c2);
    SetWindowTextA(_DAT_005d709c,DAT_005df1fc);
    _DAT_005d709c = GetDlgItem(param_1,0x4c3);
    SetWindowTextA(_DAT_005d709c,DAT_005df204);
    _DAT_005d709c = GetDlgItem(param_1,0x4c5);
    SetWindowTextA(_DAT_005d709c,DAT_005df208);
    _DAT_005d709c = GetDlgItem(param_1,0x4c6);
    SetWindowTextA(_DAT_005d709c,DAT_005df214);
    _DAT_005d709c = GetDlgItem(param_1,0x4c7);
    SetWindowTextA(_DAT_005d709c,DAT_005df1b8);
    _DAT_005d709c = GetDlgItem(param_1,0x4c8);
    SetWindowTextA(_DAT_005d709c,DAT_005df220);
    _DAT_005d709c = GetDlgItem(param_1,0x4c9);
    SetWindowTextA(_DAT_005d709c,DAT_005df224);
    _DAT_005d709c = GetDlgItem(param_1,0x4ca);
    SetWindowTextA(_DAT_005d709c,DAT_005df218);
    _DAT_005d709c = GetDlgItem(param_1,0x4cb);
    SetWindowTextA(_DAT_005d709c,DAT_005df1cc);
    _DAT_005d709c = GetDlgItem(param_1,0x4ce);
    SetWindowTextA(_DAT_005d709c,DAT_005df1f0);
    _DAT_005d709c = GetDlgItem(param_1,0x4cf);
    SetWindowTextA(_DAT_005d709c,DAT_005df1e8);
    _DAT_005d709c = GetDlgItem(param_1,0x4d0);
    SetWindowTextA(_DAT_005d709c,DAT_005df234);
    _DAT_005d709c = GetDlgItem(param_1,0x48b);
    SetWindowTextA(_DAT_005d709c,DAT_005df134);
    _DAT_005d709c = GetDlgItem(param_1,0x48a);
    SetWindowTextA(_DAT_005d709c,DAT_005df138);
    _DAT_005d709c = GetDlgItem(param_1,-1);
    SetWindowTextA(_DAT_005d709c,DAT_005df13c);
    _DAT_005d709c = GetDlgItem(param_1,0x4d5);
    SetWindowTextA(_DAT_005d709c,DAT_005df17c);
    _DAT_005d709c = GetDlgItem(param_1,0x42d);
    SetWindowTextA(_DAT_005d709c,DAT_005df144);
    _DAT_005d709c = GetDlgItem(param_1,0x486);
    SetWindowTextA(_DAT_005d709c,DAT_005df18c);
    _DAT_005d709c = GetDlgItem(param_1,0x485);
    SetWindowTextA(_DAT_005d709c,DAT_005df190);
    _DAT_005d709c = GetDlgItem(param_1,2);
    SetWindowTextA(_DAT_005d709c,DAT_005df03c);
    _DAT_005d709c = GetDlgItem(param_1,0x4de);
    SetWindowTextA(_DAT_005d709c,DAT_005df13c);
    if (DAT_00598b68 == 0) {
      LoadHDZFiles();
      for (iVar14 = DAT_004d8150; iVar14 != 0; iVar14 = *(int *)(iVar14 + 0xc)) {
        DAT_00598b68 = DAT_00598b68 + *(ushort *)(iVar14 + 4);
      }
    }
    _Size = DAT_00598b68 * 0xb;
    iVar14 = 0;
    _Dst = (void *)AllocateMemoryWithCallback();
    DAT_005d6c90 = _memset(_Dst,iVar14,_Size);
    for (iVar14 = DAT_004d8150; iVar14 != 0; iVar14 = *(int *)(iVar14 + 0xc)) {
      iVar12 = 1;
      if (1 < *(ushort *)(iVar14 + 4)) {
        do {
          iVar9 = (uint)*(ushort *)(iVar14 + 6) + iVar12;
          if (((iVar9 < 0xe2) || (0xef < iVar9)) && ((iVar9 < 0xf7 || (0xfb < iVar9)))) {
            FUN_00442220();
          }
          iVar12 = iVar12 + 1;
        } while (iVar12 < (int)(uint)*(ushort *)(iVar14 + 4));
      }
    }
    pHVar1 = GetDlgItem(param_1,0x3ec);
    SendMessageA(pHVar1,0x184,0,0);
    param_1 = (HWND)0x514;
    param_2 = 8;
    do {
      LVar16 = 0;
      WVar11 = 1;
      UVar13 = 0xf1;
      uStackY_28 = 0x46a54b;
      pHVar10 = GetDlgItem(pHVar5,(int)param_1);
      SendMessageA(pHVar10,UVar13,WVar11,LVar16);
      param_1 = (HWND)((int)param_1 + 1);
      param_2 = param_2 + -1;
    } while (param_2 != 0);
    param_1 = (HWND)0x4b1;
    param_2 = 0x20;
    do {
      LVar16 = 0;
      WVar11 = 1;
      UVar13 = 0xf1;
      uStackY_28 = 0x46a57c;
      pHVar10 = GetDlgItem(pHVar5,(int)param_1);
      SendMessageA(pHVar10,UVar13,WVar11,LVar16);
      param_1 = (HWND)((int)param_1 + 1);
      param_2 = param_2 + -1;
    } while (param_2 != 0);
    uVar2 = 1;
    DAT_00598b84 = 0xffffffff;
    DAT_00598b88 = 0xffffffff;
    if (1 < DAT_00598b68) {
      uVar3 = 1;
      do {
        SendMessageA(pHVar1,0x180,0,*(LPARAM *)((int)DAT_005d6c90 + uVar3 * 0xb + 3));
        SendMessageA(pHVar1,0x19a,uVar3 - 1,uVar3);
        uVar2 = uVar2 + 1;
        uVar3 = uVar2 & 0xffff;
      } while (uVar3 < DAT_00598b68);
    }
    _memset(&DAT_005d6ca0,0,DAT_00598b68);
  }
  else if (param_2 == 0x111) {
    if (param_3 < 0x3f5) {
      if (param_3 == 0x3f4) {
        lParam = local_588;
        WVar11 = DAT_00598b68 - 1;
        UVar13 = 0x191;
        uStackY_28 = 0x469aaf;
        pHVar1 = GetDlgItem(param_1,0x3ec);
        uVar2 = SendMessageA(pHVar1,UVar13,WVar11,(LPARAM)lParam);
        param_1 = (HWND)0x0;
        if (uVar2 != 0) {
          uVar3 = 0;
          do {
            WVar11 = local_588[uVar3];
            puVar15 = local_204;
            UVar13 = 0x189;
            uStackY_28 = 0x469af2;
            pHVar1 = GetDlgItem(pHVar5,0x3ec);
            SendMessageA(pHVar1,UVar13,WVar11,(LPARAM)puVar15);
            LVar16 = 0;
            WVar11 = local_588[uVar3];
            UVar13 = 0x199;
            uStackY_28 = 0x469b0a;
            pHVar1 = GetDlgItem(pHVar5,0x3ec);
            LVar4 = SendMessageA(pHVar1,UVar13,WVar11,LVar16);
            puVar15 = local_204;
            WVar11 = 0;
            UVar13 = 0x180;
            uStackY_28 = 0x469b26;
            pHVar1 = GetDlgItem(pHVar5,0x3eb);
            SendMessageA(pHVar1,UVar13,WVar11,(LPARAM)puVar15);
            puVar15 = local_204;
            WVar11 = 0;
            UVar13 = 399;
            uStackY_28 = 0x469b3f;
            pHVar1 = GetDlgItem(pHVar5,0x3eb);
            WVar11 = SendMessageA(pHVar1,UVar13,WVar11,(LPARAM)puVar15);
            UVar13 = 0x19a;
            uStackY_28 = 0x469b54;
            LVar8 = LVar4;
            pHVar1 = GetDlgItem(pHVar5,0x3eb);
            SendMessageA(pHVar1,UVar13,WVar11,LVar8);
            param_1 = (HWND)((int)param_1 + 1);
            *(undefined *)((int)DAT_005d6c90 + LVar4 * 0xb) = 1;
            uVar3 = (uint)param_1 & 0xffff;
          } while (uVar3 < uVar2);
        }
LAB_00469c45:
        GetDlgItem(pHVar5,0x3eb);
        GetDlgItem(pHVar5,0x3ec);
        FUN_004697f0();
        return 0;
      }
      if (param_3 == 2) {
        EndDialog(param_1,0);
        return 0;
      }
    }
    else {
      switch(param_3) {
      case 0x42d:
        LVar16 = 0;
        WVar11 = 0;
        UVar13 = 0x18b;
        uStackY_28 = 0x469fc4;
        pHVar5 = GetDlgItem(param_1,0x3ec);
        LVar8 = SendMessageA(pHVar5,UVar13,WVar11,LVar16);
        iVar14 = (LVar8 + -1) * 0x10000;
        WVar11 = 1;
        UVar13 = 0x19b;
        uStackY_28 = 0x469fe6;
        pHVar5 = GetDlgItem(param_1,0x3ec);
        SendMessageA(pHVar5,UVar13,WVar11,iVar14);
        return 0;
      case 0x485:
        _memset(&DAT_005d6780,0,0x4c);
        _memset(local_104,0,0x100);
        _DAT_005d679c = local_104;
        _DAT_005d6780 = 0x4c;
        _DAT_005d6784 = param_1;
        _DAT_005d678c = s___set_004cfbc0;
        _DAT_005d67a0 = 0x100;
        _DAT_005d67ac = &DAT_005d54e0;
        _DAT_005d67b4 = 0x200000;
        _DAT_005d67b0 = s_Save_settings_as____004cfbd0;
        BVar6 = GetSaveFileNameA((LPOPENFILENAMEA)&DAT_005d6780);
        if (BVar6 != 0) {
          pcVar7 = _strstr(local_104,&DAT_004cfbe4);
          if (pcVar7 == (char *)0x0) {
            FID_conflict__strcat(local_104,&DAT_004cfbec);
          }
          GetDlgItem(param_1,0x3eb);
          FUN_0046a810();
          EndDialog(param_1,1);
          return 0;
        }
        CommDlgExtendedError();
        EndDialog(param_1,1);
        return 0;
      case 0x486:
        _memset(&DAT_005d6780,0,0x4c);
        FID_conflict___mbscpy(local_104,s___set_004cfbf4);
        _DAT_005d679c = local_104;
        _DAT_005d6780 = 0x4c;
        _DAT_005d6784 = param_1;
        _DAT_005d678c = s___set_004cfbfc;
        _DAT_005d67a0 = 0x100;
        _DAT_005d67ac = &DAT_005d54e0;
        _DAT_005d67b4 = 0x200000;
        BVar6 = GetOpenFileNameA((LPOPENFILENAMEA)&DAT_005d6780);
        if (BVar6 != 0) {
          pcVar7 = _strstr(local_104,&DAT_004cfc0c);
          if (pcVar7 == (char *)0x0) {
            FID_conflict__strcat(local_104,&DAT_004cfc14);
          }
          iVar14 = FUN_0046a720();
          if (iVar14 != 0) {
            iVar14 = 0x4b1;
            param_1 = (HWND)0x20;
            do {
              LVar16 = 0;
              uVar2 = (uint)((1 << ((char)iVar14 + 0x50U & 0x1f) & DAT_00598b88) != 0);
              UVar13 = 0xf1;
              uStackY_28 = 0x469f23;
              pHVar1 = GetDlgItem(pHVar5,iVar14);
              SendMessageA(pHVar1,UVar13,uVar2,LVar16);
              iVar14 = iVar14 + 1;
              param_1 = (HWND)((int)param_1 + -1);
            } while (param_1 != (HWND)0x0);
            iVar14 = 0x514;
            param_1 = (HWND)0x8;
            do {
              LVar16 = 0;
              uVar2 = (uint)((1 << ((char)iVar14 - 0x13U & 0x1f) & DAT_00598b84) != 0);
              UVar13 = 0xf1;
              uStackY_28 = 0x469f67;
              pHVar1 = GetDlgItem(pHVar5,iVar14);
              SendMessageA(pHVar1,UVar13,uVar2,LVar16);
              iVar14 = iVar14 + 1;
              param_1 = (HWND)((int)param_1 + -1);
            } while (param_1 != (HWND)0x0);
            GetDlgItem(pHVar5,0x3eb);
            GetDlgItem(pHVar5,0x3ec);
            FUN_004697f0();
            FreeMemory();
            return 0;
          }
        }
        break;
      case 0x48a:
        iVar14 = 0x4b1;
        param_2 = 0x20;
        do {
          LVar16 = 0;
          WVar11 = 0;
          UVar13 = 0xf1;
          uStackY_28 = 0x469c86;
          pHVar5 = GetDlgItem(param_1,iVar14);
          SendMessageA(pHVar5,UVar13,WVar11,LVar16);
          iVar14 = iVar14 + 1;
          param_2 = param_2 + -1;
        } while (param_2 != 0);
        DAT_00598b88 = 0;
        GetDlgItem(param_1,0x3eb);
        GetDlgItem(param_1,0x3ec);
        FUN_004697f0();
        return 0;
      case 0x48b:
        iVar14 = 0x4b1;
        param_2 = 0x20;
        do {
          LVar16 = 0;
          WVar11 = 1;
          UVar13 = 0xf1;
          uStackY_28 = 0x469cea;
          pHVar5 = GetDlgItem(param_1,iVar14);
          SendMessageA(pHVar5,UVar13,WVar11,LVar16);
          iVar14 = iVar14 + 1;
          param_2 = param_2 + -1;
        } while (param_2 != 0);
        DAT_00598b88 = 0xffffffff;
        GetDlgItem(param_1,0x3eb);
        GetDlgItem(param_1,0x3ec);
        FUN_004697f0();
        return 0;
      case 0x4b1:
      case 0x4b2:
      case 0x4b3:
      case 0x4b4:
      case 0x4b5:
      case 0x4b6:
      case 0x4b7:
      case 0x4b8:
      case 0x4b9:
      case 0x4ba:
      case 0x4bb:
      case 0x4bc:
      case 0x4bd:
      case 0x4be:
      case 0x4bf:
      case 0x4c0:
      case 0x4c1:
      case 0x4c2:
      case 0x4c3:
      case 0x4c4:
      case 0x4c5:
      case 0x4c6:
      case 0x4c7:
      case 0x4c8:
      case 0x4c9:
      case 0x4ca:
      case 0x4cb:
      case 0x4cd:
      case 0x4ce:
      case 0x4cf:
      case 0x4d0:
        uVar2 = 1 << ((char)param_3 + 0x50U & 0x1f);
        if ((uVar2 & DAT_00598b88) == 0) {
          DAT_00598b88 = DAT_00598b88 | uVar2;
        }
        else {
          DAT_00598b88 = DAT_00598b88 & ~uVar2;
        }
        goto LAB_00469c45;
      case 0x514:
      case 0x515:
      case 0x516:
      case 0x517:
      case 0x518:
      case 0x519:
      case 0x51a:
      case 0x51b:
        uVar2 = 1 << ((char)param_3 - 0x13U & 0x1f);
        if ((uVar2 & DAT_00598b84) == 0) {
          DAT_00598b84 = DAT_00598b84 | uVar2;
        }
        else {
          DAT_00598b84 = DAT_00598b84 & ~uVar2;
        }
        GetDlgItem(param_1,0x3eb);
        GetDlgItem(param_1,0x3ec);
        FUN_004697f0();
        return 0;
      }
    }
  }
  return 0;
}



undefined2 * FUN_0046a720(uint param_1)

{
  int iVar1;
  void *_Dst;
  undefined2 *puVar2;
  int unaff_EBX;
  ushort uVar3;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  iVar1 = OpenFileWithFixedFlags0x40(param_1,&DAT_004cfc1c);
  if (iVar1 != 0) {
    CopyDataWithLock(&stack0xfffffff8,4,1,iVar1);
    if (unaff_EBX == 0x4a4a) {
      CopyDataWithLock(&DAT_00598b88,4,1,iVar1);
      CopyDataWithLock(&DAT_00598b84,4,1,iVar1);
      CopyDataWithLock(&param_1,2,1,iVar1);
      _Size = (param_1 & 0xffff) * 2 + 2;
      _Val = 0;
      _Dst = (void *)AllocateMemoryWithCallback(_Size);
      puVar2 = (undefined2 *)_memset(_Dst,_Val,_Size);
      uVar3 = 0;
      if ((ushort)param_1 != 0) {
        do {
          CopyDataWithLock(puVar2 + uVar3 + 1,2,1,iVar1);
          uVar3 = uVar3 + 1;
        } while (uVar3 < (ushort)param_1);
      }
      FUN_004adcf0(iVar1);
      *puVar2 = (ushort)param_1;
      return puVar2;
    }
  }
  return (undefined2 *)0x0;
}



undefined4 FUN_0046a810(LRESULT param_1,HWND param_2)

{
  HWND hWnd;
  int iVar1;
  ushort uVar2;
  
  AdjustStackForLargeAllocations();
  iVar1 = OpenFileWithFixedFlags0x40(param_1);
  if (iVar1 != 0) {
    FUN_004ae3e0(&stack0xfffffff8,4,1,iVar1);
    FUN_004ae3e0(&DAT_00598b88,4,1,iVar1);
    FUN_004ae3e0(&DAT_00598b84,4,1,iVar1);
    hWnd = param_2;
    param_1 = SendMessageA(param_2,0x18b,0,0);
    FUN_004ae3e0(&param_1,2,1,iVar1);
    uVar2 = 0;
    if ((ushort)param_1 != 0) {
      do {
        SendMessageA(hWnd,0x199,(uint)uVar2,0);
        FUN_004ae3e0(&stack0xfffffff4,2,1,iVar1);
        uVar2 = uVar2 + 1;
      } while (uVar2 < (ushort)param_1);
    }
    FUN_004adcf0(iVar1);
    return 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046a900(int param_1)

{
  int iVar1;
  
  DAT_00598d58 = 0;
  if ((DAT_004ca030 == 1) && (DAT_004d814c != 0)) {
    DAT_004d814c = 0;
  }
  DAT_004d77a0 = 0;
  DAT_005ba504 = 0;
  _DAT_004d7790 = 0;
  FUN_00418340();
  if (DAT_00598944 == 0) {
    if (param_1 == 0) {
      if (DAT_00598d7c != 0) {
        FUN_0042e060(0);
      }
      DAT_004cb058 = 0;
      DAT_00598d7c = 0;
      FUN_0043e270();
    }
    if (DAT_004d79b0 != 0) {
      *(undefined4 *)(DAT_004d79b0 + 8) = 0;
    }
  }
  FUN_004abe10();
  FUN_0046d540();
  FUN_00415fc0();
  FUN_00462750();
  FUN_0045e700();
  FUN_00493470();
  if (DAT_00598944 == 0) {
    FUN_0043e8f0();
    if (param_1 == 0) {
      FUN_0043c700();
    }
  }
  FUN_00483290(*(undefined4 *)(DAT_005e5010 + 0xc));
  FUN_004563f0();
  FUN_004740d0();
  FUN_0048efb0();
  FUN_00449720();
  FUN_0048afc0();
  _memset(&DAT_005d6700,0,0x5c);
  _memset(&DAT_005d48e0,0,0x80);
  FUN_004565a0();
  if (DAT_00598944 == 0) {
    DAT_005df2ec = 1;
  }
  FUN_0047ce20();
  DAT_004d7ac4 = 0;
  if (DAT_00598944 == 0) {
    FUN_00474ff0();
  }
  FUN_00462860();
  FUN_0040f3f0();
  FUN_00425ff0();
  if (DAT_00598944 != 0) {
    FUN_00426040();
    FUN_004767a0();
  }
  FUN_00499160();
  DAT_005df58a = 0;
  FUN_00426780();
  FUN_004927e0();
  if (DAT_00598944 == 0) {
    FUN_0043f980();
  }
  FUN_00413de0();
  DAT_004d7ac4 = 0;
  if (DAT_00598944 != 0) {
    FUN_00435910();
    goto LAB_0046ac38;
  }
  if ((DAT_00598f20 != 0) && (DAT_004d8248 == 0)) goto LAB_0046ac38;
  if (param_1 != 0) {
    if (DAT_005986c8 != 0) {
      FUN_0048f630(DAT_005986c8);
    }
    FUN_00435910();
    goto LAB_0046ac38;
  }
  if (DAT_00598d50 != 0) {
    FUN_00471660();
  }
  FUN_0042b130();
  FUN_004331f0();
  FUN_00435910();
  iVar1 = FUN_0043d2c0(DAT_004d80e8);
  if (iVar1 == 0) {
    FUN_00470800();
    return 0;
  }
  FUN_00415380();
  if (DAT_004d8248 == 0) {
    if ((DAT_004ca030 == 0x14) && (DAT_005e45d0 == 0)) {
      iVar1 = *(int *)(DAT_005df2c8 + 0xe8);
      if (0 < iVar1) {
        *(undefined4 *)(DAT_004d80cc + 0x9c) = 1;
        *(undefined4 *)(DAT_004d80cc + 0x98) = 0;
        DAT_004c9f04 = 0xc;
        DAT_004cb05c = 0xe;
        DAT_004d80d0 = 0;
        DAT_005df2d0 = 1;
        DAT_004d7bb8 = 2;
        DAT_004d7bbc = 2;
        goto LAB_0046ac0f;
      }
    }
    else {
      iVar1 = *(int *)(DAT_005df2c8 + 0xe8);
    }
    if (iVar1 == 0) {
      *(undefined4 *)(DAT_004d80cc + 0x9c) = 0;
      *(undefined4 *)(DAT_004d80cc + 0x98) = 1;
      DAT_004c9f04 = 1;
      DAT_004cb05c = 0xc;
    }
    else if ((_DAT_004d7bc0 == 0) && (*(int *)(DAT_005df2c8 + 0xec) != 0)) {
      DAT_004c9f04 = 0xc;
      DAT_004cb05c = 0xe;
      DAT_004d80d0 = 0;
      DAT_005df2d0 = 1;
      DAT_004d7bb8 = 2;
      DAT_004d7bbc = 2;
    }
    else {
      DAT_004cb05c = 1;
      DAT_005df2d0 = 1;
    }
  }
  else {
    DAT_004d8248 = 0;
    DAT_004cb05c = 0x14;
    DAT_005df2d0 = 1;
    DAT_00598f20 = 0;
  }
LAB_0046ac0f:
  DAT_004d8398 = 0;
  DAT_004d8394._0_1_ = 0;
  DAT_004d839c._0_1_ = 0;
  DAT_004d83a0 = 0;
  DAT_004d8100 = 1;
  DAT_005e45d0 = 0;
  FUN_0043e190();
LAB_0046ac38:
  DAT_004d8384 = 0;
  _DAT_004d7bc0 = 0;
  FUN_00446d20();
  _DAT_005df2d8 = (float)*(int *)(DAT_005e5010 + 0x2538) * 0.0015625;
  _DAT_004d826c = 0;
  _DAT_005df2d4 = (float)*(int *)(DAT_005e5010 + 0x253c) * 0.002083333;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046ac80(char *param_1,int param_2,int param_3,int param_4)

{
  byte *pbVar1;
  ushort uVar2;
  float fVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  size_t sVar7;
  undefined4 *puVar8;
  uint uVar9;
  void *pvVar10;
  int iVar11;
  undefined4 *puVar12;
  char local_34c [256];
  char local_24c [253];
  char acStackY_14f [259];
  undefined local_4c [20];
  undefined4 uStackY_38;
  undefined4 local_34;
  undefined uStackY_30;
  undefined2 local_2f;
  undefined local_2d;
  undefined uStackY_2c;
  undefined2 uStackY_2b;
  undefined local_29;
  undefined uStackY_28;
  undefined2 local_27;
  undefined local_25;
  uint uStackY_24;
  undefined4 *puStackY_20;
  char *pcVar13;
  int iVar14;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598944 == 0) {
    *(undefined *)(DAT_004d80cc + 0xa0) = 0;
  }
  DAT_005d675c = 0;
  DAT_00598f30 = 0;
  DAT_00598d84 = 0;
  DAT_00598e18 = 0;
  if (DAT_00598944 == 0) {
    iVar11 = 0;
    if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
      iVar14 = 0;
      iVar6 = DAT_005df2c8;
      do {
        iVar5 = *(int *)(iVar6 + 8) + iVar14;
        if (*(int *)(iVar5 + 0x11a) == 0) {
          *(undefined2 *)(*(int *)(iVar6 + 0xc) + iVar11 * 2) = *(undefined2 *)(iVar5 + 0x14);
          iVar6 = DAT_005df2c8;
        }
        else {
          uVar9 = 0;
          do {
            uVar2 = *(ushort *)(*(int *)(iVar6 + 8) + iVar14 + 0x14);
            if ((uint)uVar2 == (int)*(short *)(*(int *)(DAT_004d80f0 + 8) + uVar9)) {
              *(ushort *)(*(int *)(iVar6 + 0xc) + iVar11 * 2) = uVar2;
              iVar6 = DAT_005df2c8;
            }
            uVar9 = uVar9 + 8;
          } while (uVar9 < 0x28);
        }
        iVar11 = iVar11 + 1;
        iVar14 = iVar14 + 0x140;
      } while (iVar11 < *(int *)(*(int *)(iVar6 + 4) + 8));
    }
    if (((DAT_00598944 == 0) && (param_4 == 0)) && (DAT_00598d7c == 0)) {
      FID_conflict___mbscpy(local_24c,&DAT_005d54e0);
      FID_conflict__strcat(local_24c,s_LastLoadedHeds_txt_004d00dc);
      iVar11 = OpenFileWithFixedFlags0x40();
      if (iVar11 != 0) {
        iVar11 = 0;
        do {
          puStackY_20 = (undefined4 *)&stack0xfffffff4;
          uStackY_24 = 0x46add3;
          FUN_004ae3e0();
          iVar11 = iVar11 + 8;
        } while (iVar11 < 0x28);
        puStackY_20 = &DAT_004ca030;
        uStackY_24 = 0x46aded;
        FUN_004ae3e0();
        FUN_004adcf0();
      }
    }
  }
  iVar11 = 0;
  if (DAT_00598944 == 0) {
    iVar6 = 0;
    do {
      iVar6 = iVar6 + 8;
      *(undefined2 *)(DAT_005df2cc + -6 + iVar6) = 0xffff;
      *(undefined2 *)(DAT_005df2cc + -8 + iVar6) = 0xffff;
    } while (iVar6 < 800);
    *(undefined4 *)(DAT_005df2cc + 800) = 0;
    FUN_0043f980();
  }
  FUN_004927e0();
  if (DAT_00598944 == 0) {
    FUN_0042b130();
    FUN_0043e8f0();
    FUN_0043e8e0();
  }
  else {
    FUN_0043ea30();
  }
  FUN_00413de0();
  if ((DAT_00598d50 != 0) && (param_2 == 0)) {
    FUN_00471510();
  }
  if (DAT_00598944 == 0) {
    FUN_00427b50();
  }
  else {
    FUN_0043e9f0();
  }
  FUN_00449cf0();
  FUN_00435940();
  FUN_0046d540();
  FUN_004abae0();
  FUN_00486530();
  FUN_00486780();
  FUN_00486780();
  if (DAT_00598944 == 0) {
    DAT_005df318 = (undefined4 *)FUN_004747f0();
    DAT_005d3210 = FUN_004747f0();
    DAT_005d3234 = FUN_004747f0();
    if (DAT_005df318 == (undefined4 *)0x0) {
      FUN_00470800();
    }
    FUN_004627e0();
    FUN_00474a30();
    FUN_00492230();
  }
  if (param_3 == 0) {
    if (DAT_00598944 != 0) {
      FUN_00476780();
      FUN_00474ff0();
      DAT_005df318 = (undefined4 *)FUN_004747f0();
      DAT_005d3210 = FUN_004747f0();
      DAT_005d3234 = FUN_004747f0();
      FUN_004627e0();
      FUN_00492230();
      FUN_00474a30();
      *(undefined2 *)(*(int *)(DAT_005df318[1] + 4) + 0x1aa) = DAT_005d7a80;
      if (DAT_005d6c94 != 0) {
        FID_conflict___mbscpy(&DAT_005d7854,&DAT_005d6768);
        FUN_004931d0();
        DAT_005d7848 = DAT_005df318[1];
      }
      *(int *)(*(int *)(DAT_005df318[1] + 4) + 0x86) = DAT_005d873c;
      *(int *)(*(int *)(DAT_005df318[1] + 4) + 0x98) = *(int *)(DAT_005d873c + 0x13) + 0x104;
    }
    FID_conflict___mbscpy(acStackY_14f + 3,&DAT_005d5fe0);
    FID_conflict__strcat(acStackY_14f + 3,param_1);
    sVar7 = _strlen(acStackY_14f + 3);
    pcVar13 = acStackY_14f + 3;
    acStackY_14f[sVar7] = 'c';
    sVar7 = _strlen(pcVar13);
    pcVar13 = acStackY_14f + 3;
    acStackY_14f[sVar7 + 1] = 'm';
    sVar7 = _strlen(pcVar13);
    acStackY_14f[sVar7 + 2] = 'p';
    FID_conflict___mbscpy(&DAT_005d6540,param_1);
    puStackY_20 = (undefined4 *)0x46b08a;
    FUN_00456880();
    if (DAT_00598944 == 0) {
      FUN_004507a0();
    }
  }
  else {
    DAT_005df318[1] = 0;
    *DAT_005df318 = 0;
    if (DAT_00598f20 != 0) {
      iVar6 = 0;
      do {
        if (*(short *)(*(int *)(DAT_004d80f0 + 8) + iVar6) != -1) {
          FUN_00435700();
          *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + iVar6) = 0xffff;
          *(undefined2 *)(*(int *)(DAT_004d80f0 + 8) + 2 + iVar6) = 0xffff;
        }
        iVar6 = iVar6 + 8;
      } while (iVar6 < 0x28);
      FUN_00489a00();
    }
    FUN_00453440();
    FID_conflict___mbscpy(acStackY_14f + 3,&DAT_005d5fe0);
    FID_conflict__strcat(acStackY_14f + 3,&DAT_005d6540);
    sVar7 = _strlen(acStackY_14f + 3);
    pcVar13 = acStackY_14f + 3;
    acStackY_14f[sVar7] = 'c';
    sVar7 = _strlen(pcVar13);
    pcVar13 = acStackY_14f + 3;
    acStackY_14f[sVar7 + 1] = 'm';
    sVar7 = _strlen(pcVar13);
    acStackY_14f[sVar7 + 2] = 'p';
    puStackY_20 = (undefined4 *)0x46b1b1;
    FUN_00456880();
    FUN_00454a20();
  }
  if (DAT_00598d90 == 0) {
    FUN_00470800();
    return 0;
  }
  if (DAT_00598944 != 0) {
    FUN_00463200();
  }
  FUN_00441d70();
  puStackY_20 = *(undefined4 **)(DAT_005e5010 + 0x7a4);
  uStackY_24 = 0x46b204;
  FUN_00482800();
  FUN_00499090();
  iVar6 = 0;
  if (0 < DAT_004d86a8) {
    iVar14 = 0;
    do {
      iVar6 = iVar6 + 1;
      *(undefined4 *)(DAT_005a1108 + 4 + iVar14) = DAT_005a88c0;
      iVar14 = iVar14 + 0x16;
    } while (iVar6 < DAT_004d86a8);
  }
  uVar4 = DAT_005a88c0;
  puVar8 = &DAT_005debc4;
  do {
    *puVar8 = uVar4;
    puVar8 = (undefined4 *)((int)puVar8 + 0x16);
  } while ((int)puVar8 < 0x5dec32);
  FUN_004593d0();
  FUN_00499240();
  FUN_00494090();
  FUN_0047f4d0();
  FUN_004497c0();
  DAT_005e45e8 = DAT_005df318[1];
  if (param_3 == 0) {
    puVar8 = &DAT_005d6700;
    puVar12 = (undefined4 *)(*(int *)(DAT_005df318[1] + 4) + 6);
    for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
      *puVar12 = *puVar8;
      puVar8 = puVar8 + 1;
      puVar12 = puVar12 + 1;
    }
    iVar6 = *(int *)(DAT_005df318[1] + 4);
    if (DAT_00598944 == 0) {
      *(float *)(iVar6 + 0x36) =
           *(float *)(&DAT_004cfc28 + _DAT_005d7a80 * 0xc) + *(float *)(iVar6 + 0x36);
      iVar6 = *(int *)(DAT_005df318[1] + 4);
      fVar3 = *(float *)(&DAT_004cfc30 + _DAT_005d7a80 * 0xc) + *(float *)(iVar6 + 0x3e);
    }
    else {
      *(float *)(iVar6 + 0x36) = *(float *)(iVar6 + 0x36) - *(float *)(iVar6 + 0x26) * -2.5;
      iVar6 = *(int *)(DAT_005df318[1] + 4);
      *(float *)(iVar6 + 0x3a) = *(float *)(iVar6 + 0x3a) - *(float *)(iVar6 + 0x2a) * -2.5;
      iVar6 = *(int *)(DAT_005df318[1] + 4);
      fVar3 = *(float *)(iVar6 + 0x3e) - *(float *)(iVar6 + 0x2e) * -2.5;
    }
    *(float *)(iVar6 + 0x3e) = fVar3;
    *(float *)(DAT_005e45e4 + 0xc0) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x36) - 20.0;
    *(float *)(DAT_005e45e4 + 0xc4) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x3a);
    *(float *)(DAT_005e45e4 + 200) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x3e);
  }
  FUN_00489ee0();
  FUN_004783e0();
  if (((DAT_00598944 == 0) &&
      (iVar6 = DAT_005b9440 + DAT_004ca030 * 0x2c, iVar14 = DAT_004ca030 * 0xb + iVar6,
      *(char *)(DAT_004ca030 * 0xb + iVar6) == '\0')) && ((DAT_004d80d0 != 3 && (iVar14 != 0)))) {
    FUN_00489680();
    uVar9 = 0;
    if (*(int *)(iVar14 + 0x2e) != 0) {
      do {
        uVar9 = uVar9 + 1;
        *(undefined2 *)
         (*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                  *(int *)(*(int *)(iVar14 + 0x32) + -4 + uVar9 * 4) * 4) + 0xa1) = 0;
      } while (uVar9 < *(uint *)(iVar14 + 0x2e));
    }
  }
  puStackY_20 = *(undefined4 **)(DAT_005e5010 + 0x7a4);
  uStackY_24 = 0x46b41d;
  FUN_0047f560();
  FUN_00449860();
  if (DAT_00598944 == 0) {
    FUN_004055f0();
  }
  if (param_4 != 0) {
    FUN_00416240();
  }
  if ((DAT_00598944 == 0) && (FUN_00415440(), DAT_00598944 == 0)) {
    if (param_3 == 0) {
      FUN_0043c430();
    }
    FUN_0042b130();
    if ((DAT_004ca030 == 1) && (DAT_004d814c == 0)) {
      DAT_004d040c = 0;
      DAT_004d814c = 0;
    }
    else {
      DAT_004d040c = 1;
    }
  }
  *(int *)(DAT_005e45e4 + 0x2b9) = *(int *)(DAT_005df318[1] + 4) + 6;
  DAT_005e45e8 = DAT_005df318[1];
  *(float *)(DAT_005e45e4 + 0xc0) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x36) - 20.0;
  *(float *)(DAT_005e45e4 + 0xc4) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x3a);
  *(float *)(DAT_005e45e4 + 200) = -*(float *)(*(int *)(DAT_005e45e8 + 4) + 0x3e);
  puVar8 = (undefined4 *)(DAT_005e45e4 + 0x90);
  puVar12 = (undefined4 *)(DAT_005e45e4 + 0x1f8);
  for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar12 = *puVar8;
    puVar8 = puVar8 + 1;
    puVar12 = puVar12 + 1;
  }
  if (DAT_00598944 == 0) {
    iVar6 = 0;
    do {
      FUN_00417ba0();
      iVar6 = iVar6 + 4;
    } while (iVar6 < 0x14);
    iVar6 = 0;
    do {
      iVar14 = *(int *)(*(int *)(DAT_005df318[1] + 4) + 0x175 + iVar6);
      if (iVar14 != 0) {
        pbVar1 = (byte *)(iVar14 + 0x1f);
        *pbVar1 = *pbVar1 | 4;
      }
      iVar6 = iVar6 + 4;
    } while (iVar6 < 0x14);
  }
  FUN_0049a200();
  if (param_3 == 0) {
    FUN_0046c280();
  }
  FUN_004a5a20();
  FUN_00496450();
  FUN_0043e190();
  FUN_00446d20();
  if (param_4 != 0) {
    FUN_00443560();
    DAT_004d8384 = 1;
  }
  if (DAT_00598944 != 0) {
    puStackY_20 = (undefined4 *)0x46b5c9;
    _memset(local_4c,0,0x3d);
    local_34 = CONCAT13(local_34._3_1_,0x20000);
    local_2f = 0;
    local_2d = (undefined)((int)DAT_005e7678 / 2);
    uStackY_2c = (undefined)((uint)((int)DAT_005e7678 / 2) >> 8);
    local_29 = 0;
    uStackY_28 = 0;
    local_27 = 0;
    local_25 = 0;
    uStackY_24 = uStackY_24 & 0xffffff00;
    FID_conflict___mbscpy(local_34c,s_WAITING_FOR_OTHER_PLAYERS_004d037c);
    puStackY_20 = (undefined4 *)0x1;
    uStackY_24 = 5;
    uStackY_28 = (undefined)DAT_005e7678;
    local_27 = (undefined2)(DAT_005e7678 >> 8);
    local_25 = (undefined)(DAT_005e7678 >> 0x18);
    uStackY_2c = (undefined)((DAT_005e7678 & 0xff) / 0x14);
    uStackY_2b = 0;
    local_29 = 0;
    uStackY_30 = SUB41(local_34c,0);
    local_2f = (undefined2)((uint)local_34c >> 8);
    local_2d = (undefined)((uint)local_34c >> 0x18);
    local_34 = 9;
    uStackY_38 = 0x46b64e;
    FUN_00492100();
    if (DAT_005d6c94 != 0) {
      FUN_0048daa0();
    }
    DAT_00598948 = 1;
  }
  FUN_004260d0();
  FUN_00456660();
  if (DAT_00598d38 != 0) {
    sVar7 = *(int *)(DAT_00598d90 + 0x23d) * 0xa9;
    iVar6 = 0;
    puStackY_20 = (undefined4 *)0x46b6a5;
    pvVar10 = (void *)AllocateMemoryWithCallback();
    puStackY_20 = (undefined4 *)0x46b6ae;
    DAT_005d6640 = _memset(pvVar10,iVar6,sVar7);
    sVar7 = *(int *)(DAT_00598d90 + 0x23d) * 0x87;
    iVar6 = 0;
    puStackY_20 = (undefined4 *)0x46b6d3;
    pvVar10 = (void *)AllocateMemoryWithCallback();
    puStackY_20 = (undefined4 *)0x46b6dc;
    DAT_005d6534 = _memset(pvVar10,iVar6,sVar7);
    uVar9 = 0;
    if (*(int *)(DAT_00598d90 + 0x23d) != 0) {
      iVar6 = 0;
      do {
        iVar14 = uVar9 * 4;
        uVar9 = uVar9 + 1;
        puVar8 = *(undefined4 **)(*(int *)(DAT_00598d90 + 0x241) + iVar14);
        puVar12 = (undefined4 *)((int)DAT_005d6640 + iVar6);
        for (iVar5 = 0x2a; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar12 = *puVar8;
          puVar8 = puVar8 + 1;
          puVar12 = puVar12 + 1;
        }
        *(undefined *)puVar12 = *(undefined *)puVar8;
        iVar6 = iVar6 + 0xa9;
        puVar8 = (undefined4 *)((int)DAT_005d6534 + iVar11);
        iVar11 = iVar11 + 0x87;
        puVar12 = *(undefined4 **)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + -4 + uVar9 * 4) + 0x5b)
        ;
        for (iVar14 = 0x21; iVar14 != 0; iVar14 = iVar14 + -1) {
          *puVar8 = *puVar12;
          puVar12 = puVar12 + 1;
          puVar8 = puVar8 + 1;
        }
        *(undefined2 *)puVar8 = *(undefined2 *)puVar12;
        *(undefined *)((int)puVar8 + 2) = *(undefined *)((int)puVar12 + 2);
      } while (uVar9 < *(uint *)(DAT_00598d90 + 0x23d));
    }
  }
  _DAT_005df2d4 = 0x3f800000;
  _DAT_005df2d8 = 0x3f800000;
  return 1;
}



void FUN_0046b780(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005a5000;
  do {
    uVar1 = FUN_0045b0d0(4,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 8);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046b7c0(void)

{
  _DAT_005b1eb2 = FUN_0045b0d0(5,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046b7e0(void)

{
  _DAT_005b1cf0 = FUN_0045b0d0(0,0);
  return;
}



void FUN_0046b800(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005b1a08;
  do {
    uVar1 = FUN_0045b0d0(7,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 4);
  return;
}



void FUN_0046b840(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  byte bVar3;
  undefined2 *unaff_EBX;
  undefined2 *puVar4;
  byte bVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  bVar5 = 0;
  puVar2 = &DAT_005ae184;
  do {
    if ((DAT_005d66dc & 1 << (bVar5 & 0x1f)) == 0) {
      puVar2 = puVar2 + 4;
    }
    else {
      bVar3 = 0;
      puVar4 = puVar2;
      unaff_EBX = (undefined2 *)((uint)unaff_EBX & 0xffffff00);
      do {
        puVar2 = unaff_EBX;
        uVar1 = FUN_0045b0d0(iVar6 + 0x3d);
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
        bVar3 = bVar3 + 1;
        unaff_EBX = (undefined2 *)CONCAT31((int3)((uint)puVar2 >> 8),bVar3);
      } while (bVar3 < 4);
    }
    iVar6 = iVar6 + 1;
    bVar5 = bVar5 + 1;
  } while ((ushort)iVar6 < 6);
  return;
}



void FUN_0046b8e0(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  byte bVar3;
  undefined2 *unaff_EBX;
  undefined2 *puVar4;
  byte bVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  bVar5 = 0;
  puVar2 = &DAT_005aaac8;
  do {
    if ((DAT_005d66d8 & 1 << (bVar5 & 0x1f)) == 0) {
      puVar2 = puVar2 + 4;
    }
    else {
      bVar3 = 0;
      puVar4 = puVar2;
      unaff_EBX = (undefined2 *)((uint)unaff_EBX & 0xffffff00);
      do {
        puVar2 = unaff_EBX;
        uVar1 = FUN_0045b0d0(iVar6 + 8);
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
        bVar3 = bVar3 + 1;
        unaff_EBX = (undefined2 *)CONCAT31((int3)((uint)puVar2 >> 8),bVar3);
      } while (bVar3 < 4);
    }
    iVar6 = iVar6 + 1;
    bVar5 = bVar5 + 1;
  } while ((ushort)iVar6 < 10);
  return;
}



void FUN_0046b960(void)

{
  uint uVar1;
  
  uVar1 = FUN_0045b0d0(1,0);
  DAT_005aaaa0 = uVar1 & 0xffff;
  uVar1 = FUN_0045b0d0(2,0);
  DAT_005aaaa4 = uVar1 & 0xffff;
  return;
}



void FUN_0046b990(void)

{
  uint uVar1;
  
  uVar1 = FUN_0045b0d0(0x3b,0);
  DAT_005aa114 = uVar1 & 0xffff;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046b9b0(void)

{
  uint uVar1;
  
  uVar1 = FUN_0045b0d0(0x39,0);
  _DAT_005b0cd0 = uVar1 & 0xffff;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046b9d0(void)

{
  uint uVar1;
  
  uVar1 = FUN_0045b0d0(0x3a,0);
  _DAT_005b0ccc = uVar1 & 0xffff;
  return;
}



void FUN_0046b9f0(void)

{
  DAT_005a89a4._0_2_ = FUN_0045b0d0(0x4c,0);
  DAT_005a89a4._2_2_ = FUN_0045b0d0(0x4c,1);
  return;
}



void FUN_0046ba20(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  byte bVar3;
  undefined2 *unaff_EBX;
  undefined2 *puVar4;
  byte bVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  bVar5 = 0;
  puVar2 = &DAT_005a88d0;
  do {
    if ((DAT_005d66cc & 1 << (bVar5 & 0x1f)) == 0) {
      puVar2 = puVar2 + 0x10;
    }
    else {
      bVar3 = 0;
      puVar4 = puVar2;
      unaff_EBX = (undefined2 *)((uint)unaff_EBX & 0xffffff00);
      do {
        puVar2 = unaff_EBX;
        uVar1 = FUN_0045b0d0(iVar6 + 0x48);
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
        bVar3 = bVar3 + 1;
        unaff_EBX = (undefined2 *)CONCAT31((int3)((uint)puVar2 >> 8),bVar3);
      } while (bVar3 < 0x10);
    }
    iVar6 = iVar6 + 1;
    bVar5 = bVar5 + 1;
  } while ((ushort)iVar6 < 4);
  return;
}



void FUN_0046baa0(void)

{
  undefined2 uVar1;
  undefined2 *puVar2;
  byte bVar3;
  undefined2 *unaff_EBX;
  undefined2 *puVar4;
  byte bVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  bVar5 = 0;
  puVar2 = &DAT_005a4c48;
  do {
    if ((DAT_005d66d0 & 1 << (bVar5 & 0x1f)) == 0) {
      puVar2 = puVar2 + 8;
    }
    else {
      bVar3 = 0;
      puVar4 = puVar2;
      unaff_EBX = (undefined2 *)((uint)unaff_EBX & 0xffffff00);
      do {
        puVar2 = unaff_EBX;
        uVar1 = FUN_0045b0d0(iVar6 + 0x43);
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
        bVar3 = bVar3 + 1;
        unaff_EBX = (undefined2 *)CONCAT31((int3)((uint)puVar2 >> 8),bVar3);
      } while (bVar3 < 8);
    }
    iVar6 = iVar6 + 1;
    bVar5 = bVar5 + 1;
  } while ((ushort)iVar6 < 5);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046bb20(void)

{
  _DAT_005a4bec = FUN_0045b0d0(3,0);
  _DAT_005a4bee = FUN_0045b0d0(3,1);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046bb50(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  bool bVar6;
  
  uVar5 = 0;
  DAT_005a4b78 = 0;
  do {
    uVar3 = uVar5 & 0xffff;
    if ((DAT_005d66e4 & 1 << ((byte)uVar3 & 0x1f)) != 0) {
      if ((short)uVar5 == 0x14) {
        _DAT_005a4b50 = FUN_0045b0d0(0x27,0);
      }
      else if ((short)uVar5 == 0x15) {
        _DAT_005a4b52 = FUN_0045b0d0(0x26,0);
      }
      else {
        uVar1 = FUN_0045b0d0(uVar5 + 0x12,0);
        (&DAT_005a4b28)[uVar3] = uVar1;
      }
      bVar6 = DAT_005a4b78 == 0;
      (&DAT_005a4268)[uVar3] = (&DAT_005a4b28)[uVar3];
      if (bVar6) {
        DAT_005a4b78 = (&DAT_005a4b28)[uVar3];
      }
    }
    uVar5 = uVar5 + 1;
  } while ((ushort)uVar5 < 0x1f);
  bVar2 = 0;
  iVar4 = 0;
  do {
    if ((1 << ((byte)iVar4 & 0x1f) & DAT_005d66e8) != 0) {
      uVar1 = FUN_0045b0d0((CONCAT31((int3)(DAT_005d66e8 >> 8),bVar2) & 0xffff00ff) + 0x31,0);
      (&DAT_005a4b66)[iVar4] = uVar1;
      (&DAT_005a42a6)[iVar4] = uVar1;
    }
    bVar2 = bVar2 + 1;
    iVar4 = iVar4 + 1;
  } while (bVar2 < 7);
  DAT_005a4b7a = FUN_0045b0d0(0x38,0);
  return;
}



void FUN_0046bc40(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005a28a4;
  do {
    uVar1 = FUN_0045b0d0(5,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 8);
  DAT_005a28c2 = FUN_0045b0d0(6,0);
  return;
}



void FUN_0046bc90(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005b1c78;
  do {
    uVar1 = FUN_0045b0d0(0x4d,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 5);
  return;
}



void FUN_0046bcd0(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005dcc04;
  do {
    uVar1 = FUN_0045b0d0(0x4f,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 4);
  return;
}



void FUN_0046bd10(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005dcc0c;
  do {
    uVar1 = FUN_0045b0d0(0x50,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 4);
  return;
}



void FUN_0046bd50(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005dcc14;
  do {
    uVar1 = FUN_0045b0d0(0x51,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 4);
  return;
}



void FUN_0046bd90(void)

{
  undefined4 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined4 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005aa0f2;
  do {
    uVar1 = FUN_0045b160(0x56,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 5);
  return;
}



void FUN_0046bdd0(void)

{
  undefined2 uVar1;
  byte bVar2;
  uint unaff_EBX;
  undefined2 *puVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  bVar2 = 0;
  uVar4 = unaff_EBX & 0xffffff00;
  puVar3 = &DAT_005a28b4;
  do {
    uVar1 = FUN_0045b0d0(0x4e,uVar4);
    *puVar3 = uVar1;
    bVar2 = bVar2 + 1;
    puVar3 = puVar3 + 1;
    uVar4 = CONCAT31((int3)(uVar4 >> 8),bVar2);
  } while (bVar2 < 7);
  return;
}



void FUN_0046be10(void)

{
  FUN_0045b0d0(0x3c,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046be20(void)

{
  _DAT_005aa0d6 = FUN_0045b160(0x53,0);
  _DAT_005aa0da = FUN_0045b160(0x53,1);
  DAT_005aa0de = FUN_0045b160(0x53,2);
  return;
}



void FUN_0046be70(undefined4 param_1)

{
  FUN_0045b0d0(param_1,0);
  return;
}



undefined4 FUN_0046be90(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = &DAT_005af1c2;
  do {
    if (*piVar1 == 0) {
      *(undefined4 *)((int)&DAT_005af1c2 + iVar2 * 0x16) = 1;
      (&DAT_005ae1e4)[iVar2 * 0x10] = *param_1;
      (&DAT_005ae1e8)[iVar2 * 0x10] = param_1[1];
      (&DAT_005ae1ec)[iVar2 * 0x10] = param_1[2];
      return 1;
    }
    piVar1 = (int *)((int)piVar1 + 0x16);
    iVar2 = iVar2 + 1;
  } while ((int)piVar1 < 0x5af742);
  return 0;
}



undefined4 FUN_0046bef0(int *param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_005b0ec0;
  iVar1 = 0;
  do {
    if (*piVar2 == param_2) {
      return 1;
    }
    piVar2 = (int *)((int)piVar2 + 0x5a);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x20);
  piVar2 = &DAT_005b0ec0;
  iVar1 = 0;
  do {
    if (*piVar2 == 0) {
      *piVar2 = param_2;
      for (iVar1 = 0x10; piVar2 = piVar2 + 1, iVar1 != 0; iVar1 = iVar1 + -1) {
        *piVar2 = *param_1;
        param_1 = param_1 + 1;
      }
      return 1;
    }
    piVar2 = (int *)((int)piVar2 + 0x5a);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x20);
  return 0;
}



undefined4 FUN_0046bf40(int *param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  
  uVar1 = (uint)DAT_005dca0c;
  iVar2 = 0;
  piVar3 = &DAT_005aac00;
  if (uVar1 != 0) {
    do {
      if (*piVar3 == param_2) {
        return 1;
      }
      piVar3 = (int *)((int)piVar3 + 0x62);
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)uVar1);
  }
  iVar2 = 0;
  piVar3 = &DAT_005aac00;
  if (uVar1 != 0) {
    do {
      if (*piVar3 == 0) {
        *piVar3 = param_2;
        piVar4 = piVar3;
        for (iVar2 = 0x10; piVar4 = piVar4 + 1, iVar2 != 0; iVar2 = iVar2 + -1) {
          *piVar4 = *param_1;
          param_1 = param_1 + 1;
        }
        iVar2 = FUN_0045ceb0(piVar3[0xd],piVar3[0xf]);
        piVar3[0x12] = iVar2;
        return 1;
      }
      piVar3 = (int *)((int)piVar3 + 0x62);
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)uVar1);
    return 0;
  }
  return 0;
}



void FUN_0046bfc0(void)

{
  FUN_00475bf0(&DAT_005e48e5,*(int *)(DAT_005e45e8 + 4) + 6,1,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046bff0(int param_1,int param_2)

{
  byte *pbVar1;
  undefined2 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  float10 fVar7;
  undefined4 local_18;
  undefined *puStack_14;
  
  AdjustStackForLargeAllocations();
  puVar4 = &DAT_005aa780;
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 0x20) != 0) {
    return 1;
  }
  puStack_14 = (undefined *)0x0;
  local_18 = 1;
  FUN_00475bf0(&DAT_005e46c3,*(int *)(param_1 + 4) + 6);
  iVar3 = 0;
  do {
    if (puVar4[1] == 0) {
      pbVar1 = (byte *)(*(int *)(param_1 + 4) + 0x8e);
      *pbVar1 = *pbVar1 | 0x20;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x10000000
      ;
      *puVar4 = 1;
      puVar4[1] = param_1;
      puVar5 = (undefined4 *)(*(int *)(param_1 + 4) + 6);
      puVar6 = puVar4 + 2;
      for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      puVar4[0x12] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
      uVar2 = (undefined2)DAT_005aaaa4;
      if (param_2 == 0) {
        uVar2 = (undefined2)DAT_005aaaa0;
      }
      puStack_14 = &stack0xfffffff8;
      *(undefined2 *)(puVar4 + 0x15) = uVar2;
      local_18 = 0;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - 50.0,(float)puVar4[0x10] - 50.0,&local_18,
                                    &stack0xfffffff4);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      puStack_14 = &stack0xfffffff8;
      local_18 = 0;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - 50.0,(float)puVar4[0x10] - -50.0,&local_18,
                                    &stack0xfffffff4);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      puStack_14 = &stack0xfffffff8;
      local_18 = 0;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - -50.0,(float)puVar4[0x10] - -50.0,&local_18
                                    ,&stack0xfffffff4);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      puStack_14 = &stack0xfffffff8;
      local_18 = 0;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - -50.0,(float)puVar4[0x10] - 50.0,&local_18,
                                    &stack0xfffffff4);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      if (param_1 == DAT_005e45e8) {
        _DAT_005aaab0 = *(undefined4 *)(DAT_005e45e4 + 0x228);
        _DAT_005aaab4 = *(undefined4 *)(DAT_005e45e4 + 0x22c);
        _DAT_005aaab8 = *(undefined4 *)(DAT_005e45e4 + 0x230);
      }
      return 1;
    }
    puVar4 = (undefined4 *)((int)puVar4 + 0x62);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 8);
  return 0;
}



undefined4 FUN_0046c230(int param_1)

{
  ushort *puVar1;
  undefined4 *puVar2;
  int iVar3;
  
  puVar2 = &DAT_005aa780;
  DAT_005aaaac = 0;
  iVar3 = 0;
  do {
    if (puVar2[1] == param_1) {
      puVar1 = (ushort *)(*(int *)(param_1 + 4) + 0x8e);
      *puVar1 = *puVar1 & 0xffdf;
      *puVar2 = 0;
      puVar2[1] = 0;
      return 1;
    }
    puVar2 = (undefined4 *)((int)puVar2 + 0x62);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 8);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046c280(int param_1,int param_2)

{
  byte *pbVar1;
  undefined2 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  float10 fVar7;
  float local_24;
  float **local_20;
  undefined *local_1c;
  float *local_18;
  undefined *puStack_14;
  
  AdjustStackForLargeAllocations();
  puVar4 = &DAT_005aa460;
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 0x20) != 0) {
    return 1;
  }
  puStack_14 = (undefined *)0x0;
  local_1c = (undefined *)(*(int *)(param_1 + 4) + 6);
  local_18 = (float *)0x1;
  local_20 = (float **)&DAT_005e46c3;
  local_24 = 6.498363e-39;
  FUN_00475bf0();
  iVar3 = 0;
  do {
    if (puVar4[1] == 0) {
      pbVar1 = (byte *)(*(int *)(param_1 + 4) + 0x8e);
      *pbVar1 = *pbVar1 | 0x20;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x2000000;
      *(uint *)(*(int *)(param_1 + 4) + 0x8a) = *(uint *)(*(int *)(param_1 + 4) + 0x8a) | 0x10000000
      ;
      *puVar4 = 1;
      puVar4[1] = param_1;
      puVar5 = (undefined4 *)(*(int *)(param_1 + 4) + 6);
      puVar6 = puVar4 + 2;
      for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      puVar4[0x12] = *(undefined4 *)(*(int *)(param_1 + 4) + 0x3a);
      uVar2 = (undefined2)DAT_005aaaa4;
      if (param_2 == 0) {
        uVar2 = (undefined2)DAT_005aaaa0;
      }
      local_24 = (float)puVar4[0x10] - 50.0;
      puStack_14 = &stack0xfffffff8;
      *(undefined2 *)(puVar4 + 0x15) = uVar2;
      local_1c = &stack0xfffffff4;
      local_18 = (float *)0x0;
      local_20 = &local_18;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - 50.0);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      local_24 = (float)puVar4[0x10] - -50.0;
      puStack_14 = &stack0xfffffff8;
      local_1c = &stack0xfffffff4;
      local_18 = (float *)0x0;
      local_20 = &local_18;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - 50.0);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      local_24 = (float)puVar4[0x10] - -50.0;
      puStack_14 = &stack0xfffffff8;
      local_1c = &stack0xfffffff4;
      local_18 = (float *)0x0;
      local_20 = &local_18;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - -50.0);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      local_24 = (float)puVar4[0x10] - 50.0;
      puStack_14 = &stack0xfffffff8;
      local_1c = &stack0xfffffff4;
      local_18 = (float *)0x0;
      local_20 = &local_18;
      fVar7 = (float10)FUN_0041c650((float)puVar4[0xe] - -50.0);
      if ((fVar7 != (float10)-10000.0) && (fVar7 < (float10)(float)puVar4[0xf])) {
        puVar4[0xf] = (float)fVar7;
      }
      if (param_1 == DAT_005e45e8) {
        local_18 = &local_24;
        puStack_14 = &DAT_005aaab0;
        local_24 = 0.0;
        local_1c = (undefined *)0x41700000;
        local_20 = (float **)0x46c4bf;
        FUN_0045f830();
        _DAT_005aaab0 = -_DAT_005aaab0;
        _DAT_005aaab4 = -_DAT_005aaab4;
        _DAT_005aaab8 = -_DAT_005aaab8;
        DAT_005aaaac = 1;
      }
      return 1;
    }
    puVar4 = (undefined4 *)((int)puVar4 + 0x62);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 8);
  return 0;
}



undefined4 FUN_0046c510(int param_1)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = &DAT_005adfa0;
  iVar2 = 0;
  do {
    if (*piVar1 == 0) {
      *piVar1 = param_1;
      piVar1[1] = *(int *)(*(int *)(param_1 + 4) + 0x86);
      return 1;
    }
    piVar1 = (int *)((int)piVar1 + 0x5e);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 5);
  return 0;
}



undefined4 FUN_0046c550(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = &DAT_005aa120;
  iVar2 = 0;
  while( true ) {
    if (*piVar1 == param_1) {
      return 0;
    }
    if (*piVar1 == 0) break;
    piVar1 = (int *)((int)piVar1 + 0x66);
    iVar2 = iVar2 + 1;
    if (7 < iVar2) {
      return 0;
    }
  }
  *piVar1 = param_1;
  piVar1[1] = param_2;
  piVar1[2] = 1;
  piVar1[3] = 0;
  return 1;
}



undefined4 FUN_0046c5a0(int param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_005a9f40;
  iVar1 = 0;
  do {
    if (*piVar2 == param_1) {
      piVar2[2] = param_2;
      return 0;
    }
    piVar2 = (int *)((int)piVar2 + 0x26);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 8);
  piVar2 = &DAT_005a9f40;
  iVar1 = 0;
  do {
    if (*piVar2 == 0) {
      *piVar2 = param_1;
      piVar2[2] = param_2;
      piVar2[3] = *(int *)(*(int *)(param_1 + 4) + 0x86);
      return 1;
    }
    piVar2 = (int *)((int)piVar2 + 0x26);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 8);
  return 0;
}



undefined4 FUN_0046c600(int param_1)

{
  byte bVar1;
  float10 fVar2;
  float local_10;
  uint local_c;
  undefined4 local_8;
  
  local_8 = 0x46c60d;
  AdjustStackForLargeAllocations();
  local_8 = 0x46c612;
  bVar1 = FUN_004af640();
  if (bVar1 < 0xf0) {
    return 0;
  }
  local_10 = *(float *)(param_1 + 0x30);
  local_8 = *(undefined4 *)(param_1 + 0x38);
  local_c = 0x46c646;
  local_c = FUN_004af640();
  local_c = local_c & 7;
  local_10 = 6.499624e-39;
  fVar2 = (float10)FUN_0045e9e0();
  local_10 = (float)(fVar2 * (float10)0.025 - (float10)0.01);
  FUN_0046cc80(&local_10,0x10,1);
  return 1;
}



undefined4 FUN_0046c680(int param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = &DAT_005a9f40;
  do {
    if (*piVar1 == param_1) {
      *(undefined4 *)((int)&DAT_005a9f44 + iVar2 * 0x26) = 10;
      return 1;
    }
    piVar1 = (int *)((int)piVar1 + 0x26);
    iVar2 = iVar2 + 1;
  } while ((int)piVar1 < 0x5aa070);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046c6c0(undefined4 *param_1)

{
  ulonglong uVar1;
  int iVar2;
  float10 fVar3;
  float10 fVar4;
  undefined8 local_18;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  _DAT_005b1cdc = param_1[1];
  _DAT_005b1ce0 = param_1[2];
  _DAT_005b1cd8 = *param_1;
  DAT_005b1ca0 = 1;
  _DAT_005b1ce4 = 0x3f800000;
  _DAT_005b1cb4 = 0;
  _DAT_005b1cc4 = 0;
  param_1 = (undefined4 *)0x0;
  _DAT_005b1cd4 = 0;
  do {
    local_18 = (double)((float)(int)param_1 * 0.5);
    uVar1 = (ulonglong)local_18 >> 0x20;
    fVar5 = SUB84(local_18,0);
    fVar3 = (float10)FUN_004ae014();
    local_18 = (double)CONCAT44(0x46c76f,(undefined4)local_18);
    fVar4 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44((int)uVar1,
                                (float)(((fVar4 + (float10)(float)fVar3) - (float10)0.5) +
                                       (float10)fVar5));
    fVar3 = (float10)FUN_004ae0c4();
    local_18 = (double)CONCAT44(0x46c790,(undefined4)local_18);
    fVar4 = (float10)FUN_0045e9e0();
    local_18._4_4_ = (float)((ulonglong)(double)(int)param_1 >> 0x20);
    local_18._0_4_ = SUB84((double)(int)param_1,0);
    local_18 = (double)CONCAT44((float)(((fVar4 + (float10)(float)fVar3) - (float10)0.5) +
                                       (float10)local_18._4_4_),(undefined4)local_18);
    FUN_004ae0c4();
    local_18 = (double)CONCAT44(0x46c7bc,(undefined4)local_18);
    FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x46c7d0,(undefined4)local_18);
    iVar2 = FUN_004af640();
    local_18 = (double)CONCAT44(iVar2 % 3,(int)param_1 % 0x5a);
    fVar3 = (float10)FUN_0045e9e0();
    FUN_0046cc80(&local_18,8,1,(float)((float10)0.25 - fVar3 * (float10)-0.5));
    param_1 = (undefined4 *)((int)param_1 + 1);
  } while ((int)param_1 < 0x20);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046c830(undefined4 param_1,undefined4 param_2,undefined2 param_3)

{
  if (DAT_005aa080 == 0) {
    DAT_005aa080 = param_1;
    DAT_005aa084 = param_2;
    _DAT_005aa088 = param_3;
    return 1;
  }
  return 0;
}



undefined4 FUN_0046c870(void)

{
  return 0;
}



undefined4
FUN_0046c880(int param_1,undefined4 param_2,undefined4 *param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
            undefined4 param_9,undefined2 param_10)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  
  piVar1 = &DAT_005a53c0;
  iVar2 = 0;
  do {
    if (*(int *)((int)piVar1 + 6) == 0) {
      *(undefined2 *)(piVar1 + 1) = param_10;
      *(undefined4 *)((int)piVar1 + 6) = param_2;
      *(undefined4 *)((int)piVar1 + 10) = param_8;
      *piVar1 = param_1;
      puVar3 = (undefined4 *)((int)piVar1 + 0xe);
      for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar3 = *param_3;
        param_3 = param_3 + 1;
        puVar3 = puVar3 + 1;
      }
      if (param_1 != 1) {
        *(float *)((int)piVar1 + 0x42) = *(float *)((int)piVar1 + 0x42) - 1.5;
      }
      *(undefined4 *)((int)piVar1 + 0x4e) = param_6;
      *(undefined4 *)((int)piVar1 + 0x52) = param_4;
      *(undefined4 *)((int)piVar1 + 0x56) = param_5;
      *(undefined4 *)((int)piVar1 + 0x5a) = param_7;
      *(undefined4 *)((int)piVar1 + 0x66) = 0xff;
      *(undefined4 *)((int)piVar1 + 0x5e) = 0x3f800000;
      *(undefined4 *)((int)piVar1 + 0x62) = param_9;
      return 1;
    }
    piVar1 = piVar1 + 0x35;
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x40);
  return 0;
}



undefined4 FUN_0046c910(int param_1,int param_2,int param_3,int param_4)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  
  iVar2 = *(int *)(param_3 + 0x13);
  piVar4 = &DAT_005b1d00;
  iVar3 = 0;
  do {
    if (piVar4[2] == 0) {
      _memset((void *)((int)&DAT_005b1d00 + iVar3 * 0x62),0,0x62);
      *piVar4 = param_1;
      piVar4[2] = param_2;
      piVar4[1] = param_2;
      piVar5 = &DAT_004d1ae0;
      piVar6 = piVar4 + 8;
      for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
        *piVar6 = *piVar5;
        piVar5 = piVar5 + 1;
        piVar6 = piVar6 + 1;
      }
      if (param_4 != 0) {
        piVar4[4] = param_4;
        piVar4[0x14] = *(int *)(*(int *)(param_4 + 4) + 0x36);
        piVar4[0x15] = *(int *)(*(int *)(param_4 + 4) + 0x3a);
        piVar4[0x16] = *(int *)(*(int *)(param_4 + 4) + 0x3e);
        piVar4[0x17] = *(int *)(*(int *)(param_4 + 4) + 0x42);
        pbVar1 = (byte *)(*(int *)(param_4 + 4) + 0x8f);
        *pbVar1 = *pbVar1 | 1;
      }
      if (*piVar4 == 1) {
        if ((*(int *)(iVar2 + 0x8d) != 0) && (*(int *)(iVar2 + 0x95) != 0)) {
          piVar4[5] = *(int *)(iVar2 + 0x8d);
          piVar4[6] = *(int *)(iVar2 + 0x95);
          piVar4[7] = *(int *)(iVar2 + 0x99);
        }
      }
      return 1;
    }
    piVar4 = (int *)((int)piVar4 + 0x62);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 4);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_0046c9f0(undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,uint param_8)

{
  undefined2 uVar1;
  undefined4 *_Dst;
  int iVar2;
  
  _Dst = &DAT_005a28e0;
  if (_DAT_005a1124 < 4) {
    return 1;
  }
  iVar2 = 0;
  do {
    if (_Dst[2] == 0) {
      _memset(_Dst,0,0x6c);
      _Dst[2] = param_5;
      _Dst[9] = param_7;
      *_Dst = param_1;
      _Dst[7] = param_6;
      _Dst[8] = param_4;
      _Dst[3] = *param_2;
      _Dst[4] = param_2[1];
      _Dst[5] = param_2[2];
      _Dst[6] = param_3;
      if ((ushort)param_8 < 8) {
        uVar1 = (&DAT_005a28a4)[param_8 & 7];
      }
      else {
        uVar1 = (&DAT_005a28b4)[(int)((param_8 & 0xffff) - 8) % 7];
      }
      *(undefined2 *)(_Dst + 10) = uVar1;
      switch(param_8 & 0xffff) {
      case 3:
      case 4:
      case 7:
      case 8:
      case 9:
      case 10:
      case 0xb:
      case 0xc:
      case 0xd:
      case 0xe:
        *(undefined4 *)((int)&DAT_005a2950 + iVar2 * 0x82) = DAT_005a88c0;
        return 1;
      default:
        *(undefined4 *)((int)&DAT_005a2950 + iVar2 * 0x82) = DAT_005a28a0;
        return 1;
      }
    }
    _Dst = (undefined4 *)((int)_Dst + 0x82);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x32);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_0046cb20(int param_1,int *param_2,int *param_3,int param_4,int param_5,int param_6,int param_7,
            uint param_8)

{
  int iVar1;
  undefined2 uVar2;
  int *_Dst;
  int iVar3;
  
  _Dst = &DAT_005a28e0;
  if (_DAT_005a1124 < 4) {
    return 1;
  }
  iVar3 = 0;
  while (_Dst[2] != 0) {
    _Dst = (int *)((int)_Dst + 0x82);
    iVar3 = iVar3 + 1;
    if (0x31 < iVar3) {
      return 0;
    }
  }
  _memset(_Dst,0,0x6c);
  _Dst[2] = param_5;
  _Dst[9] = param_7;
  *_Dst = param_1;
  _Dst[7] = param_6;
  _Dst[3] = *param_3;
  _Dst[4] = param_3[1];
  _Dst[5] = param_3[2];
  _Dst[0x17] = *param_2;
  _Dst[0x18] = param_2[1];
  iVar1 = param_2[2];
  _Dst[8] = param_4;
  _Dst[0x19] = iVar1;
  _Dst[6] = 0;
  if ((ushort)param_8 < 8) {
    uVar2 = (&DAT_005a28a4)[param_8 & 7];
  }
  else {
    uVar2 = (&DAT_005a28b4)[(int)((param_8 & 0xffff) - 8) % 7];
  }
  *(undefined2 *)(_Dst + 10) = uVar2;
  switch(param_8 & 0xffff) {
  case 3:
  case 4:
  case 7:
  case 8:
  case 9:
  case 10:
  case 0xb:
  case 0xc:
  case 0xd:
  case 0xe:
    *(undefined4 *)((int)&DAT_005a2950 + iVar3 * 0x82) = DAT_005a88c0;
    return 1;
  }
  if (param_1 == 6) {
    *(undefined4 *)((int)&DAT_005a2950 + iVar3 * 0x82) = DAT_005a88c0;
    return 1;
  }
  *(undefined4 *)((int)&DAT_005a2950 + iVar3 * 0x82) = DAT_005a28a0;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_0046cc80(undefined4 *param_1,undefined4 param_2,undefined4 param_3,float param_4,
            undefined4 param_5,uint param_6)

{
  undefined2 uVar1;
  undefined4 *_Dst;
  int iVar2;
  
  _Dst = &DAT_005a28e0;
  if (_DAT_005a1124 < 4) {
    return 1;
  }
  iVar2 = 0;
  do {
    if (_Dst[2] == 0) {
      _memset(_Dst,0,0x6c);
      _Dst[2] = param_3;
      _Dst[9] = param_5;
      _Dst[7] = param_4;
      if (param_4 < 0.0) {
        *_Dst = 1;
      }
      else {
        *_Dst = 0;
      }
      _Dst[3] = *param_1;
      _Dst[4] = param_1[1];
      _Dst[5] = param_1[2];
      _Dst[8] = param_2;
      _Dst[6] = 0;
      if ((ushort)param_6 < 8) {
        uVar1 = (&DAT_005a28a4)[param_6 & 7];
      }
      else {
        uVar1 = (&DAT_005a28b4)[(int)((param_6 & 0xffff) - 8) % 7];
      }
      *(undefined2 *)(_Dst + 10) = uVar1;
      switch(param_6 & 0xffff) {
      case 3:
      case 4:
      case 7:
      case 8:
      case 9:
      case 10:
      case 0xb:
      case 0xc:
      case 0xd:
      case 0xe:
        *(undefined4 *)((int)&DAT_005a2950 + iVar2 * 0x82) = DAT_005a88c0;
        return 1;
      default:
        *(undefined4 *)((int)&DAT_005a2950 + iVar2 * 0x82) = DAT_005a28a0;
        return 1;
      }
    }
    _Dst = (undefined4 *)((int)_Dst + 0x82);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x32);
  return 0;
}



undefined4 FUN_0046cdc0(undefined4 param_1)

{
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  local_8 = 0x46cdcd;
  AdjustStackForLargeAllocations();
  local_10 = 0;
  local_c = 0;
  local_8 = 0;
  FUN_0046c9f0(2,&local_10,param_1,4,1);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046ce10(undefined2 param_1,undefined4 param_2,int param_3,undefined2 param_4)

{
  byte *pbVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int iVar4;
  undefined2 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  float10 fVar8;
  
  AdjustStackForLargeAllocations();
  puVar5 = &DAT_005a4ca0;
  iVar4 = *(int *)(param_3 + 4);
  if ((*(uint *)(iVar4 + 0x8a) & 0x1800000) == 0) {
    uVar2 = *(undefined4 *)(iVar4 + 0x3e);
    uVar3 = *(undefined4 *)(iVar4 + 0x36);
    fVar8 = (float10)FUN_00421a70(uVar3,*(float *)(iVar4 + 0x3a),uVar2,uVar3,
                                  (_DAT_005a4c98 + *(float *)(iVar4 + 0x3a)) - -1.28,uVar2,
                                  0x3f800000,0,0,0,uVar3,uVar2);
    if (fVar8 == (float10)-10000.0) {
      iVar4 = 0;
      do {
        if (*(int *)(puVar5 + 1) == 0) {
          *(int *)(puVar5 + 5) = param_3;
          *puVar5 = param_1;
          *(undefined4 *)(puVar5 + 1) = param_2;
          *(undefined4 *)(puVar5 + 3) = param_2;
          puVar6 = &DAT_004d1ae0;
          puVar7 = (undefined4 *)(puVar5 + 7);
          for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
            *puVar7 = *puVar6;
            puVar6 = puVar6 + 1;
            puVar7 = puVar7 + 1;
          }
          *(undefined4 *)(puVar5 + 0x1f) = *(undefined4 *)(*(int *)(param_3 + 4) + 0x36);
          *(undefined4 *)(puVar5 + 0x23) = *(undefined4 *)(*(int *)(param_3 + 4) + 0x3e);
          *(float *)(puVar5 + 0x21) = *(float *)(*(int *)(param_3 + 4) + 0x3a) - 1.28;
          pbVar1 = (byte *)(*(int *)(param_3 + 4) + 0x8e);
          *pbVar1 = *pbVar1 | 0x80;
          puVar5[0x27] = param_4;
          return 1;
        }
        puVar5 = puVar5 + 0x6a;
        iVar4 = iVar4 + 1;
      } while (iVar4 < 4);
      return 0;
    }
  }
  return 0;
}



undefined4 FUN_0046cf20(int param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  puVar4 = &DAT_005a5020;
  if ((0.2 < *(float *)(param_1 + 0x8b)) && (*(float *)(param_1 + 0x8b) < 0.4)) {
    FUN_0046c600(param_1 + 7,param_2);
    return 1;
  }
  iVar3 = 0;
  piVar1 = &DAT_005a52a0;
  while ((*piVar1 != 0 || (*(float *)(param_1 + 0x8b) <= 0.4))) {
    puVar4 = puVar4 + 0x10;
    piVar1 = piVar1 + 1;
    iVar3 = iVar3 + 1;
    if (0x5a52c7 < (int)piVar1) {
      return 1;
    }
  }
  FUN_00475bf0(&DAT_005e46ea,param_1 + 7,4,0);
  puVar5 = (undefined4 *)(param_1 + 7);
  puVar6 = puVar4;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  puVar4[0xd] = param_2;
  *puVar4 = 0x3e19999a;
  puVar4[5] = 0x3e19999a;
  puVar4[10] = 0x3e19999a;
  puVar4[1] = 0;
  puVar4[2] = 0;
  puVar4[4] = 0;
  puVar4[6] = 0;
  puVar4[8] = 0;
  puVar4[9] = 0;
  (&DAT_005a52a0)[iVar3] = 1;
  return 1;
}



undefined4 FUN_0046d020(int param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  float10 fVar7;
  
  AdjustStackForLargeAllocations();
  puVar4 = &DAT_005a5020;
  fVar7 = (float10)FUN_004ad3c0((double)*(float *)(*(int *)(param_1 + 4) + 0xa8));
  if (fVar7 < (float10)0.5) {
    FUN_0046c600(*(int *)(param_1 + 4) + 6,param_2);
    return 1;
  }
  iVar3 = 0;
  piVar1 = &DAT_005a52a0;
  while ((*piVar1 != 0 || ((float)fVar7 <= 0.5))) {
    puVar4 = puVar4 + 0x10;
    piVar1 = piVar1 + 1;
    iVar3 = iVar3 + 1;
    if (0x5a52c7 < (int)piVar1) {
      return 1;
    }
  }
  FUN_00475bf0(&DAT_005e46ea,*(int *)(param_1 + 4) + 6,4,0);
  puVar5 = (undefined4 *)(*(int *)(param_1 + 4) + 6);
  puVar6 = puVar4;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  puVar4[1] = 0;
  *puVar4 = 0x3e19999a;
  puVar4[5] = 0x3e19999a;
  puVar4[10] = 0x3e19999a;
  puVar4[2] = 0;
  puVar4[4] = 0;
  puVar4[6] = 0;
  puVar4[8] = 0;
  puVar4[9] = 0;
  puVar4[0xd] = param_2;
  (&DAT_005a52a0)[iVar3] = 1;
  return 1;
}



undefined4 FUN_0046d130(int param_1)

{
  uint *puVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  float10 fVar10;
  undefined4 local_44 [4];
  undefined4 uStack_34;
  undefined4 *puStack_30;
  float local_2c;
  undefined4 uStack_28;
  float local_24;
  float local_20;
  int iStack_1c;
  int iStack_18;
  uint local_14;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(DAT_005df318 + 4);
  puVar8 = &DAT_004d1ae0;
  puVar9 = local_44;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar9 = *puVar8;
    puVar8 = puVar8 + 1;
    puVar9 = puVar9 + 1;
  }
  for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x16)) {
    iVar7 = *(int *)(iVar2 + 4);
    if ((((*(uint *)(iVar7 + 0x8a) & 0x400000) != 0) && (iVar2 != param_1)) &&
       (iVar3 = *(int *)(param_1 + 4), fVar4 = *(float *)(iVar7 + 0x36) - *(float *)(iVar3 + 0x36),
       fVar5 = *(float *)(iVar7 + 0x3a) - *(float *)(iVar3 + 0x3a),
       fVar6 = *(float *)(iVar7 + 0x3e) - *(float *)(iVar3 + 0x3e),
       fVar6 * fVar6 + fVar5 * fVar5 + fVar4 * fVar4 < 400.0)) {
      local_14 = 0x46d1e3;
      fVar10 = (float10)FUN_0045e9e0();
      iStack_18 = 0;
      *(float *)(*(int *)(iVar2 + 4) + 0xa8) = (float)(fVar10 + fVar10);
      *(uint *)(*(int *)(iVar2 + 4) + 0x8a) = *(uint *)(*(int *)(iVar2 + 4) + 0x8a) & 0xffffffbf;
      puVar1 = (uint *)(*(int *)(iVar2 + 4) + 0x8a);
      *puVar1 = *puVar1 & 0xffffff7f;
      iStack_1c = 0x46d211;
      local_14 = iVar2;
      FUN_00443000();
      iStack_18 = *(int *)(*(int *)(iVar2 + 4) + 0x86);
      local_14 = (uint)(*(ushort *)(*(int *)(iStack_18 + 0x13) + 0xd5) >> 5);
      iStack_1c = param_1;
      local_24 = 6.503893e-39;
      local_20 = (float)iVar2;
      FUN_004412c0();
    }
  }
  local_14 = 0;
  iStack_18 = 0xffffffff;
  iStack_1c = 0x1f;
  local_20 = 6.503928e-39;
  fVar10 = (float10)FUN_0045e9e0();
  local_20 = (float)((float10)3.5 - fVar10 * (float10)-5.5);
  local_24 = 6.503957e-39;
  fVar10 = (float10)FUN_0045e9e0();
  local_24 = (float)((fVar10 - (float10)-1.0) * (float10)0.5);
  uStack_28 = 0;
  local_2c = 6.503989e-39;
  fVar10 = (float10)FUN_0045e9e0();
  puStack_30 = local_44;
  local_2c = (float)(fVar10 * (float10)6.28);
  uStack_34 = 1;
  local_44[3] = 1;
  local_44[2] = 0x46d291;
  FUN_0046c880();
  return 1;
}



undefined4 FUN_0046d2a0(int param_1,int param_2,undefined4 *param_3,float param_4,float param_5)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float10 fVar5;
  undefined4 local_24;
  undefined4 local_20;
  float local_1c;
  undefined8 local_18;
  
  AdjustStackForLargeAllocations();
  *(undefined4 *)(param_1 + 3) = 4;
  *(undefined4 *)(param_1 + 0x97) = 1;
  *(undefined4 *)(param_1 + 0x9b) = 0;
  *(int *)(param_1 + 0xa3) = param_2;
  puVar3 = &DAT_004d1ae0;
  puVar4 = (undefined4 *)(param_1 + 7);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  *(undefined4 *)(param_1 + 0x37) = *param_3;
  *(undefined4 *)(param_1 + 0x3b) = param_3[1];
  *(undefined4 *)(param_1 + 0x3f) = param_3[2];
  if (param_2 != 0) {
    local_18._4_4_ = 0;
    local_18._0_4_ = 0.0;
    local_20 = *(undefined4 *)(*(int *)(param_2 + 4) + 0x3a);
    local_1c = *(float *)(*(int *)(param_2 + 4) + 0x3e);
    local_24 = 4;
    FUN_0046cb20(2,&local_24,&local_18);
    iVar2 = 4;
    do {
      local_18._4_4_ = 0x46d340;
      fVar5 = (float10)FUN_0045e9e0();
      local_18._0_4_ = (float)(fVar5 - (float10)0.5);
      local_18._4_4_ = 0x46d34e;
      FUN_0045e9e0();
      local_18._4_4_ = 0x46d35c;
      FUN_0045e9e0();
      local_18._4_4_ = 1;
      local_18._0_4_ = 6.504329e-39;
      uVar1 = FUN_0045fe00();
      local_18._0_4_ = (float)((uVar1 & 0xffff) % 5);
      local_1c = 6.504355e-39;
      fVar5 = (float10)FUN_0045e9e0();
      local_1c = (float)((fVar5 - (float10)-1.0) * (float10)0.2);
      local_20 = 1;
      local_24 = 0x10;
      FUN_0046cb20(3,&local_24,&local_18);
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  }
  puVar3 = (undefined4 *)(param_1 + 7);
  puVar4 = (undefined4 *)(param_1 + 0x47);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  local_1c = 6.504458e-39;
  local_18 = (double)param_4;
  fVar5 = (float10)FUN_004ae0c4();
  *(undefined4 *)(param_1 + 0x8b) = 0x3fc00000;
  *(float *)(param_1 + 0x87) = (float)(fVar5 * (float10)param_5);
  local_1c = 6.504498e-39;
  local_18 = (double)param_4;
  fVar5 = (float10)FUN_004ae014();
  *(undefined4 *)(param_1 + 0x93) = 2;
  *(undefined4 *)(param_1 + 0x9f) = 0x3fa3d70a;
  *(float *)(param_1 + 0x8f) = (float)(fVar5 * (float10)param_5);
  return 1;
}



undefined4 FUN_0046d420(int param_1,float param_2,float param_3,undefined4 *param_4)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  *(undefined4 *)(param_1 + 0x9b) = 0;
  *(undefined4 *)(param_1 + 0xa3) = 0;
  *(undefined4 *)(param_1 + 3) = 4;
  *(undefined4 *)(param_1 + 0x97) = 1;
  puVar2 = &DAT_004d1ae0;
  puVar3 = (undefined4 *)(param_1 + 7);
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  *(undefined4 *)(param_1 + 0x37) = *param_4;
  *(undefined4 *)(param_1 + 0x3b) = param_4[1];
  *(undefined4 *)(param_1 + 0x3f) = param_4[2];
  fVar4 = (float10)FUN_004ae0c4((double)param_2);
  *(undefined4 *)(param_1 + 0x8b) = 0x3fc00000;
  *(float *)(param_1 + 0x87) = (float)(fVar4 * (float10)param_3);
  fVar4 = (float10)FUN_004ae014((double)param_2);
  *(undefined4 *)(param_1 + 0x93) = 2;
  *(undefined4 *)(param_1 + 0x9f) = 0x3fa3d70a;
  *(float *)(param_1 + 0x8f) = (float)(fVar4 * (float10)param_3);
  return 1;
}



undefined4 FUN_0046d4e0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = 0;
  iVar2 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(iVar2 + 0x230) + uVar3 * 4);
      if (((iVar1 != 0) && (*(char **)(iVar1 + 0x9d) != (char *)0x0)) &&
         (**(char **)(iVar1 + 0x9d) == '\x02')) {
        FUN_0046bf40(iVar1 + 6,iVar1);
        iVar2 = DAT_00598d90;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(iVar2 + 0x239));
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046d540(void)

{
  undefined2 *_Dst;
  undefined4 *puVar1;
  
  _Dst = &DAT_005a4ca0;
  do {
    _memset(_Dst,0,0x50);
    _Dst = _Dst + 0x6a;
  } while ((int)_Dst < 0x5a4ff0);
  puVar1 = &DAT_005aa780;
  do {
    _memset(puVar1,0,0x4c);
    puVar1 = (undefined4 *)((int)puVar1 + 0x62);
  } while ((int)puVar1 < 0x5aaa90);
  puVar1 = &DAT_005aa460;
  do {
    _memset(puVar1,0,0x4c);
    puVar1 = (undefined4 *)((int)puVar1 + 0x62);
  } while ((int)puVar1 < 0x5aa770);
  puVar1 = &DAT_005adfa0;
  do {
    _memset(puVar1,0,0x48);
    puVar1 = (undefined4 *)((int)puVar1 + 0x5e);
  } while ((int)puVar1 < 0x5ae176);
  puVar1 = &DAT_005a9f40;
  do {
    _memset(puVar1,0,0x10);
    puVar1 = (undefined4 *)((int)puVar1 + 0x26);
  } while ((int)puVar1 < 0x5aa070);
  puVar1 = &DAT_005aa120;
  do {
    _memset(puVar1,0,0x50);
    puVar1 = (undefined4 *)((int)puVar1 + 0x66);
  } while ((int)puVar1 < 0x5aa450);
  puVar1 = &DAT_005a28e0;
  do {
    _memset(puVar1,0,0x6c);
    puVar1 = (undefined4 *)((int)puVar1 + 0x82);
  } while ((int)puVar1 < 0x5a4244);
  puVar1 = &DAT_005aac00;
  do {
    _memset(puVar1,0,0x4c);
    puVar1 = (undefined4 *)((int)puVar1 + 0x62);
  } while ((int)puVar1 < 0x5add00);
  puVar1 = &DAT_005a53c0;
  do {
    _memset(puVar1,0,0xbe);
    puVar1 = puVar1 + 0x35;
  } while ((int)puVar1 < 0x5a88c0);
  puVar1 = &DAT_005dcc20;
  do {
    _memset(puVar1,0,0x4c);
    puVar1 = (undefined4 *)((int)puVar1 + 0x62);
  } while ((int)puVar1 < 0x5dcda8);
  FUN_0049c5d0();
  FUN_00475690();
  _DAT_005aa0d6 = 0;
  _DAT_005aa0da = 0;
  _memset(&DAT_005b1d00,0,0x188);
  DAT_005a4b88 = 0;
  DAT_005aaaac = 0;
  DAT_005b0cc0 = 0;
  DAT_005a1104 = 0;
  _DAT_005a1124 = 0;
  DAT_004d86a8 = 0;
  return 1;
}



void FUN_0046d6f0(void)

{
  int iVar1;
  char *pcVar2;
  uint uVar3;
  
  DAT_005d66d8 = DAT_005d66d8 | 0x200;
  DAT_005d66c4 = DAT_005d66c4 | 2;
  uVar3 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar3 * 4);
      if (((iVar1 != 0) && (pcVar2 = *(char **)(iVar1 + 0x9d), pcVar2 != (char *)0x0)) &&
         (*pcVar2 == '\x02')) {
        DAT_005d66d8 = DAT_005d66d8 | 1 << ((char)*(undefined4 *)(pcVar2 + 0xf) - 1U & 0x1f);
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return;
}



void FUN_0046d760(void)

{
  DAT_005d66c8 = DAT_005d66c8 | 0x400;
  return;
}



void FUN_0046d770(int param_1,undefined4 param_2)

{
  short sVar1;
  
  if (((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 8) != 0) &&
     (*(int *)(*(int *)(param_1 + 4) + 0x100) != 0)) {
    FUN_00450f20(param_1,param_2);
    sVar1 = **(short **)(*(int *)(param_1 + 4) + 0x86);
    if (sVar1 == 0xe8) {
      DAT_005d66c8 = DAT_005d66c8 | 0x8000;
      return;
    }
    if (sVar1 == 0xe7) {
      DAT_005d66c8 = DAT_005d66c8 | 0x4000;
      return;
    }
    DAT_005d66c8 = DAT_005d66c8 | 0x800;
  }
  return;
}



void FUN_0046d7e0(int param_1)

{
  int iVar1;
  
  FUN_0046d760();
  if (param_1 != 0) {
    iVar1 = *(int *)(param_1 + 0x13);
    if ((*(byte *)(iVar1 + 0xeb) & 0xc) != 0) {
      DAT_005d66c8 = DAT_005d66c8 | 1;
    }
    if ((*(byte *)(iVar1 + 0xeb) & 0x80) != 0) {
      DAT_005d66cc = DAT_005d66cc | 3;
    }
    if (*(int *)(iVar1 + 0x7f) == 0) {
      if (1 < *(int *)(iVar1 + 0x7b)) {
        DAT_005d66e8 = DAT_005d66e8 | 1 << ((char)*(int *)(iVar1 + 0x7b) - 2U & 0x1f);
      }
    }
    else {
      DAT_005d66e4 = DAT_005d66e4 | 1 << ((char)*(int *)(iVar1 + 0x7f) - 1U & 0x1f);
    }
    switch(*(undefined4 *)(iVar1 + 0x7f)) {
    case 1:
      DAT_005d66c8 = DAT_005d66c8 | 0x100;
      return;
    case 7:
    case 8:
      DAT_005d66c8 = DAT_005d66c8 | 0x10;
      DAT_005d66d4 = DAT_005d66d4 | 1 << (sbyte)((uint)(*(ushort *)(iVar1 + 0xe7) >> 3) % 7);
      return;
    case 0xb:
    case 0x12:
      DAT_005d66c8 = DAT_005d66c8 | 2;
      DAT_005d66dc = DAT_005d66dc | 0x20;
      return;
    case 0xe:
      DAT_005d66c8 = DAT_005d66c8 | 0x22;
      DAT_005d66dc = DAT_005d66dc | 0x10;
      return;
    case 0xf:
      DAT_005d66c8 = DAT_005d66c8 | 10;
      DAT_005d66d0 = DAT_005d66d0 | 1 << ((byte)(*(ushort *)(iVar1 + 0xe7) >> 3) & 0x1f);
      DAT_005d66dc = DAT_005d66dc | 8;
      return;
    case 0x10:
      DAT_005d66c8 = DAT_005d66c8 | 0x41;
      return;
    case 0x13:
      DAT_005d66c8 = DAT_005d66c8 | 0x80;
      return;
    case 0x15:
      DAT_005d66c8 = DAT_005d66c8 | 4;
      return;
    case 0x16:
      DAT_005d66c8 = DAT_005d66c8 | 0x2000;
      return;
    case 0x17:
      DAT_005d66e0 = DAT_005d66e0 | 3;
      DAT_005d66cc = DAT_005d66cc | 3;
      DAT_005d66c8 = DAT_005d66c8 | 2;
      return;
    case 0x18:
      DAT_005d66c8 = DAT_005d66c8 | 2;
      DAT_005d66e0 = DAT_005d66e0 | 3;
      DAT_005d66dc = DAT_005d66dc | 0x20;
      return;
    case 0x1b:
    case 0x1e:
      DAT_005d66e0 = DAT_005d66e0 | 1;
      DAT_005d66c8 = DAT_005d66c8 | 2;
      DAT_005d66dc = DAT_005d66dc | 8;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// I think this is where the init/resource loading happens

undefined4 FUN_0046da60(HINSTANCE param_1)

{
  bool bVar1;
  DWORD DVar2;
  int iVar3;
  INT_PTR IVar4;
  HACCEL hAccTable;
  BOOL BVar5;
  char *_Source;
  
  AdjustStackForLargeAllocations();
  _memset(&DAT_005e5140,0,0x2560);
  DAT_00598dd4 = CreateSemaphoreA((LPSECURITY_ATTRIBUTES)0x0,0,1,s__BHEDZ_ONETIME_004d0446 + 2);
  if ((DAT_00598dd4 != (HANDLE)0x0) && (DVar2 = GetLastError(), DVar2 == 0xb7)) {
    CloseHandle(DAT_00598dd4);
    return 0;
  }
  _DAT_005d66ac = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  DAT_005d66b0 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  DAT_005e4484 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  DAT_005d66b4 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  QueryPerformanceFrequency((LARGE_INTEGER *)&DAT_00598d18);
  FUN_0045e9c0();
  FUN_0045ea10();
  FUN_004731a0();
  HANDLE_005d664c = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  if ((((HANDLE_005d664c != (HANDLE)0x0) &&
       (HANDLE_005d66a0 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0),
       HANDLE_005d66a0 != (HANDLE)0x0)) && (iVar3 = CreateEventHandle(), iVar3 != 0)) &&
     (iVar3 = FUN_0048da50(), iVar3 != 0)) {
    FUN_0048daa0();
    FUN_004858f0();
    if (DAT_005df310 == '\0') {
      _Source = &gRootFileDirectory;
    }
    else {
      _Source = &DAT_005d54e0;
    }
    FID_conflict___mbscpy(&DAT_00598ba0,_Source);
    FID_conflict__strcat(&DAT_00598ba0,s_hdzfont_004d04c0);
    AddFontResourceA(&DAT_00598ba0);
    DAT_00598d58 = 1;
    DAT_00598d50 = 1;
    iVar3 = CreateMainWindowFunc();
    if (iVar3 == 0) {
      TerminateWithCode();
    }
    iVar3 = FUN_004478e0();
    if (iVar3 == 0) {
      TerminateWithCode();
    }
    FUN_0044dee0();
    bVar1 = false;
    FUN_00473620();
    FUN_0043fbc0();
    FUN_0043f9d0();
    do {
      IVar4 = DialogBoxParamA(DAT_005d6504,(LPCSTR)0x74,(HWND)0x0,FUN_0046eb50,0);
      if (IVar4 == 0) {
        _memset(&DAT_005d7840,0,0x240);
        iVar3 = FUN_00463550();
        if (iVar3 != 0) {
          bVar1 = true;
          DAT_00598944._0_1_ = 1;
        }
      }
      else {
        bVar1 = true;
      }
    } while (!bVar1);
    FUN_00470b60();
    if (DAT_00598d20 == 1) {
      TerminateWithCode();
    }
    FUN_00470a20();
    iVar3 = FUN_0046e450();
    if (iVar3 == 0) {
      TerminateWithCode();
    }
    hAccTable = LoadAcceleratorsA(param_1,s_AppAccel_004d0588);
    while (DAT_00598d20 == 0) {
      BVar5 = PeekMessageA((LPMSG)&stack0xffffffe0,(HWND)0x0,0,0,1);
      if (BVar5 == 0) {
        WaitMessage();
      }
      else if ((gMainWindowHandle == (HWND)0x0) ||
              (iVar3 = TranslateAcceleratorA(gMainWindowHandle,hAccTable,(LPMSG)&stack0xffffffe0),
              iVar3 == 0)) {
        TranslateMessage((MSG *)&stack0xffffffe0);
        DispatchMessageA((MSG *)&stack0xffffffe0);
      }
    }
    DestroyWindow(gMainWindowHandle);
    CloseHandle(DAT_00598dd4);
  }
  return 0;
}



void FUN_0046dd30(void)

{
  HANDLE hThread;
  
  hThread = GetCurrentThread();
  SetThreadPriority(hThread,0xf);
  DAT_005d63e4 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  do {
    WaitForSingleObject(DAT_005d63e4,0x28);
    SetEvent(HANDLE_005d66a0);
  } while (DAT_00598dc4 != 0);
  return;
}



void FUN_0046dd90(void)

{
  HANDLE hThread;
  
  hThread = GetCurrentThread();
  SetThreadPriority(hThread,2);
  do {
    WaitForSingleObject(HANDLE_005d66a0,0xffffffff);
    if (DAT_005a115c == 0) {
      FUN_0048c0d0(0);
    }
    else {
      FUN_004ad120(FUN_0046de70);
    }
  } while (DAT_00598dd0 != 0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0046ddf0(void)

{
  int iVar1;
  int iVar2;
  
  GetCurrentThread();
  iVar1 = DAT_005e5010;
  iVar2 = DAT_005d6508;
  do {
    if ((((*(int *)(iVar1 + 0x255c) != 0) && (*(int *)(iVar1 + 0x2558) == 0)) &&
        (*(int *)(iVar1 + 0x2548) == 0)) &&
       ((DAT_00598d20 == 0 && ((*(int *)(iVar1 + 0x254c) != 0 || (*(int *)(iVar1 + 0x2524) == 0)))))
       ) {
      if ((iVar2 == 0) || (_DAT_005d650c != 0)) {
        FUN_0046eae0();
        iVar1 = DAT_005e5010;
        iVar2 = DAT_005d6508;
      }
      if (iVar2 != 0) {
        _DAT_005d650c = 0;
      }
    }
  } while (DAT_00598db8 != 0);
  return;
}



undefined4 FUN_0046de70(void)

{
  FUN_0048c0d0(0);
  return 1;
}



void FUN_0046de90(void)

{
  SetEvent(HANDLE_005d66a0);
  return;
}



void FUN_0046deb0(void)

{
  return;
}



// Window Creation

bool CreateMainWindowFunc(HINSTANCE param_1)

{
  ATOM AVar1;
  int nHeight;
  int nWidth;
  char *lpClassName;
  LPCSTR lpWindowName;
  DWORD dwStyle;
  HWND hWndParent;
  HMENU hMenu;
  HBRUSH lpParam;
  
  AdjustStackForLargeAllocations();
  FUN_004707c0();
  DAT_005d6504 = param_1;
  _memset(&stack0xffffffd4,0,0x28);
  LoadIconA(param_1,s_AppIcon_004d05e8);
  GetStockObject(4);
  AVar1 = RegisterClassA((WNDCLASSA *)&stack0xffffffd4);
  if (AVar1 == 0) {
    return false;
  }
  lpParam = (HBRUSH)0x0;
  hMenu = (HMENU)0x0;
  hWndParent = (HWND)0x0;
  if (DAT_00598d50 == 0) {
    nHeight = 0x168;
    nWidth = 0x168;
    dwStyle = 0xce0000;
    lpWindowName = &gEntryWindowTitleString;
    lpClassName = s_Vis_Interactive_004d0620;
  }
  else {
    nHeight = GetSystemMetrics(0x11);
    nWidth = GetSystemMetrics(0x10);
    dwStyle = 0x80000000;
    lpWindowName = &gMainWindowTitleString;
    lpClassName = s_Vis_Interactive_004d0608;
  }
  gMainWindowHandle =
       CreateWindowExA(0x40000,lpClassName,lpWindowName,dwStyle,-0x80000000,-0x80000000,nWidth,
                       nHeight,hWndParent,hMenu,param_1,lpParam);
  return gMainWindowHandle != (HWND)0x0;
}



// Open File?? Other places don't pass in args

undefined4 FUN_0046dfc0(LPCSTR param_1,DWORD param_2)

{
  HANDLE hFile;
  DWORD DVar1;
  
  hFile = CreateFileA(param_1,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,(HANDLE)0x0);
  if ((hFile != (HANDLE)0x0) && (hFile != (HANDLE)0xffffffff)) {
    DVar1 = GetFileSize(hFile,(LPDWORD)0x0);
    if (DVar1 != param_2) {
      CloseHandle(hFile);
      return 0;
    }
    CloseHandle(hFile);
    return 1;
  }
  return 0;
}



undefined FUN_0046e020(void)

{
  return 0;
}



// Load music files

char LoadMusicFileFunc(void)

{
  char cVar1;
  UINT UVar2;
  HMODULE hModule;
  int iVar3;
  undefined local_1b0 [16];
  DWORD local_1a0;
  ULARGE_INTEGER local_11c;
  ULARGE_INTEGER local_114;
  char local_10c [244];
  undefined4 uStackY_18;
  undefined4 lpTotalNumberOfBytes;
  undefined4 lpTotalNumberOfFreeBytes;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(local_10c,(char *)&PTR_DAT_004d0720);
  local_10c[0] = gRootFileDirectory;
  UVar2 = GetDriveTypeA(local_10c);
  if (UVar2 != 5) {
    return '\x03';
  }
  cVar1 = FUN_0046e020();
  if (cVar1 == '\0') {
    local_1b0._0_4_ = 0x94;
    GetVersionExA((LPOSVERSIONINFOA)local_1b0);
    if ((local_1a0 == 1) && (1000 < (ushort)local_1b0._12_2_)) {
      hModule = LoadLibraryA(s_KERNEL32_004d0764);
      GetProcAddress(hModule,s_GetDiskFreeSpaceEx_004d0770);
      lpTotalNumberOfFreeBytes = (DWORD)&local_11c;
      lpTotalNumberOfBytes = (DWORD)&stack0xfffffff4;
      uStackY_18 = 0x46e0df;
      GetDiskFreeSpaceExA(local_10c,&local_114,(PULARGE_INTEGER)lpTotalNumberOfBytes,
                          (PULARGE_INTEGER)lpTotalNumberOfFreeBytes);
      if (((PULARGE_INTEGER)lpTotalNumberOfFreeBytes == (PULARGE_INTEGER)0x0) &&
         (lpTotalNumberOfBytes < (PULARGE_INTEGER)0x2756cd00)) {
        return '\x03';
      }
    }
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,&DAT_004d07c8);
  iVar3 = OpenFileWithFixedFlags0x40();
  if (iVar3 != 0) {
    FUN_004adcf0();
    return '\x01';
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,sMusicDataFolder);
  FID_conflict__strcat(local_10c,&gMusicFileNumber1);
  FID_conflict__strcat(local_10c,&gMusicFileExt1);
  cVar1 = FUN_0046dfc0();
  if (cVar1 == '\0') {
    return '\x02';
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,s_Music__004d082c);
  FID_conflict__strcat(local_10c,&gMusicFileNumber2);
  FID_conflict__strcat(local_10c,&gMusicFileExt2);
  cVar1 = FUN_0046dfc0();
  if (cVar1 == '\0') {
    return '\x02';
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,s_Music__004d0840);
  FID_conflict__strcat(local_10c,&DAT_004d0848);
  FID_conflict__strcat(local_10c,&DAT_004d084c);
  cVar1 = FUN_0046dfc0();
  if (cVar1 == '\0') {
    return '\x02';
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,s_Music__004d0854);
  FID_conflict__strcat(local_10c,&DAT_004d085c);
  FID_conflict__strcat(local_10c,&DAT_004d0860);
  cVar1 = FUN_0046dfc0();
  if (cVar1 == '\0') {
    return '\x02';
  }
  FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
  FID_conflict__strcat(local_10c,s_Music__004d0868);
  FID_conflict__strcat(local_10c,&DAT_004d0870);
  FID_conflict__strcat(local_10c,&DAT_004d0874);
  cVar1 = FUN_0046dfc0();
  if (cVar1 != '\0') {
    FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
    FID_conflict__strcat(local_10c,s_Music__004d087c);
    FID_conflict__strcat(local_10c,&DAT_004d0884);
    FID_conflict__strcat(local_10c,&DAT_004d0888);
    cVar1 = FUN_0046dfc0();
    if (cVar1 != '\0') {
      FID_conflict___mbscpy(local_10c,&gRootFileDirectory);
      FID_conflict__strcat(local_10c,s_Music__004d0890);
      FID_conflict__strcat(local_10c,&DAT_004d0898);
      FID_conflict__strcat(local_10c,&DAT_004d089c);
      cVar1 = FUN_0046dfc0();
      return (-(cVar1 != '\0') & 0xfeU) + 2;
    }
    return '\x02';
  }
  return '\x02';
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046e450(void)

{
  int iVar1;
  undefined4 uVar2;
  
  DAT_00598d44 = 0;
  LoadIntroMovieFunc();
  if ((((DAT_00598d50 != 0) && (DAT_00598d7c == 0)) && ((char)DAT_00598944 == '\0')) &&
     (DAT_00598d58 != 0)) {
    FUN_004913a0();
  }
  SetCursor((HCURSOR)0x0);
  ShowCursor(0);
  FUN_00440030();
  iVar1 = FUN_0046e850();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0043dee0(0);
  FUN_0048daa0(10);
  if (DAT_00598d50 == 0) {
    ShowWindow(gMainWindowHandle,1);
    UpdateWindow(gMainWindowHandle);
  }
  FUN_0043e1c0();
  DAT_005e45e0 = FUN_0041c4e0();
  uVar2 = FUN_004af670(0);
  FUN_004af630(uVar2);
  FUN_00491670();
  FUN_00492230();
  iVar1 = FUN_0042a4a0();
  if (iVar1 == 0) {
    return 0;
  }
  iVar1 = FUN_00435910();
  if (iVar1 == 0) {
    FUN_00470800();
    return 0;
  }
  if ((char)DAT_00598944 == '\0') {
    iVar1 = FUN_0043d070();
    if (iVar1 == 0) {
      return 0;
    }
    iVar1 = FUN_00482470(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
                         *(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
    if (iVar1 == 0) {
      return 0;
    }
    DAT_005df318 = FUN_004747f0();
    DAT_005d3210 = FUN_004747f0();
    DAT_005d3234 = FUN_004747f0();
    if (DAT_005df318 == 0) {
      FUN_00470800();
    }
    FUN_00474a30(1);
    *(int *)(DAT_005e45e4 + 0x2b9) = *(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6;
    DAT_005e45e8 = *(int *)(DAT_005df318 + 4);
    *(float *)(DAT_005e45e4 + 0xc0) = *(float *)(*(int *)(DAT_005e45e8 + 4) + 0x36) - 20.0;
    *(undefined4 *)(DAT_005e45e4 + 0xc4) = *(undefined4 *)(*(int *)(DAT_005e45e8 + 4) + 0x3a);
    *(undefined4 *)(DAT_005e45e4 + 200) = *(undefined4 *)(*(int *)(DAT_005e45e8 + 4) + 0x3e);
    FUN_00449cf0();
    iVar1 = FUN_0043d2c0(DAT_004d80e8);
    if (iVar1 == 0) {
      FUN_00470800();
      return 0;
    }
    DAT_00598db8 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598db8 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046ddf0,0,0);
    DAT_00598dc4 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598dc4 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046dd30,0,0);
    DAT_00598dd0 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598dd0 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046dd90,0,0);
    FUN_0047f450();
    FUN_00415650();
    if (DAT_00598d7c != 0) {
      iVar1 = FUN_0043d590();
      if ((DAT_00598d7c != 0) && (iVar1 != 0)) goto LAB_0046e80f;
    }
    FUN_00415380();
    if (DAT_00598da4 == 0) {
      uVar2 = 2;
    }
    else {
      uVar2 = 1;
    }
    FUN_0043dee0(uVar2);
    DAT_004d8100 = 1;
    FUN_0048daa0(4);
  }
  else {
    LoadHDZFiles();
    iVar1 = FUN_00482470(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
                         *(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
    if (iVar1 == 0) {
      return 0;
    }
    DAT_005df318 = FUN_004747f0();
    if (DAT_005d6c94 != 0) {
      FUN_00463170(DAT_005d6760);
    }
    FUN_00449cf0();
    DAT_00598db8 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598db8 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046ddf0,0,0);
    DAT_00598dc4 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598dc4 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046dd30,0,0);
    DAT_00598dd0 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,0,(LPCSTR)0x0);
    if (DAT_00598dd0 == (HANDLE)0x0) {
      TerminateWithCode(0);
    }
    FUN_004afd20(FUN_0046dd90,0,0);
    FUN_0043e140();
    FUN_00415650();
    FUN_004636d0();
  }
LAB_0046e80f:
  _DAT_005df2d8 = (float)*(int *)(DAT_005e5010 + 0x2538) * 0.0015625;
  _DAT_005df2d4 = (float)*(int *)(DAT_005e5010 + 0x253c) * 0.002083333;
  FUN_0043e190();
  return 1;
}



undefined4 FUN_0046e850(void)

{
  int iVar1;
  undefined4 local_19c [51];
  undefined4 local_d0 [32];
  uint local_50;
  int local_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  HWND pHStackY_1c;
  code *pcStackY_18;
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  SetCapture(gMainWindowHandle);
  ShowCursor(0);
  uStackY_14 = 0;
  pcStackY_18 = FUN_0046e970;
  pHStackY_1c = gMainWindowHandle;
  uStackY_20 = 0;
  uStackY_24 = 0x46e892;
  iVar1 = FUN_00414160();
  if (iVar1 == 0) {
    FUN_00470960();
    return 0;
  }
  uStackY_14 = 0x46e8b7;
  _memset(local_d0,0,0xcc);
  local_d0[0] = 0xcc;
  uStackY_14 = 0x46e8d7;
  _memset(local_19c,0,0xcc);
  local_19c[0] = 0xcc;
  uStackY_14 = 0x46e901;
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x10))();
  DAT_005d6648 = local_28;
  if (local_28 == 0) {
    DAT_005d6648 = 1000;
  }
  if ((local_50 & 0x1000) != 0) {
    DAT_005d66a4 = 0;
    DAT_00598d54 = 1;
    DAT_005d6644 = 0;
    return 1;
  }
  DAT_00598d54 = 0;
  DAT_005d66a4 = 1;
  DAT_005d6644 = 0;
  return 1;
}



undefined4 FUN_0046e970(undefined4 param_1,undefined4 param_2,int **param_3)

{
  int iVar1;
  int *unaff_ESI;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  int *local_2c;
  
  AdjustStackForLargeAllocations();
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 0x10) + 0x18))();
  if (iVar1 != 0) {
    FUN_00470800();
    return 0;
  }
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 0x14) + 0x18))();
  if (iVar1 != 0) {
    FUN_00470800();
    return 0;
  }
  local_2c = (int *)0x46e9d1;
  _memset(&local_3c,0,0x2c);
  local_30 = param_1;
  local_3c = 0x2c;
  local_34 = 0;
  local_38 = 0;
  local_2c = (int *)param_2;
  iVar1 = (**(code **)(*unaff_ESI + 0x14))();
  if (iVar1 != 0) {
    FUN_00470800();
    return 0;
  }
  local_2c = *(int **)(DAT_005e5010 + 0x14);
  local_30 = 0x46ea63;
  iVar1 = (**(code **)(*local_2c + 0x34))();
  if (iVar1 != 0) {
    local_30 = 0x46ea6c;
    FUN_00470800();
    return 0;
  }
  *param_3 = unaff_ESI;
  return 1;
}



undefined4 FUN_0046ea90(void)

{
  FUN_00483290(*(undefined4 *)(DAT_005e5010 + 0xc));
  (**(code **)(**(int **)(DAT_005e5010 + 0xc) + 8))(*(int **)(DAT_005e5010 + 0xc));
  (**(code **)(**(int **)(DAT_005e5010 + 0xc) + 8))(*(int **)(DAT_005e5010 + 0xc));
  (**(code **)(**(int **)(DAT_005e5010 + 0xc) + 8))(*(int **)(DAT_005e5010 + 0xc));
  return 1;
}



undefined4 FUN_0046eae0(void)

{
  int iVar1;
  
  if (*(int *)(DAT_005e5010 + 0x255c) != 0) {
    if (DAT_005a115c == 0) {
      iVar1 = FUN_004811e0(0);
      if (iVar1 == 0) {
        FUN_00414e20();
        return 1;
      }
    }
    else {
      iVar1 = FUN_004ad120(FUN_004811e0);
      if (iVar1 == 0) {
        FUN_00414e20();
        return 1;
      }
    }
    DAT_005d6518 = 0;
  }
  return 1;
}



// I think this is the initial window that shows?

undefined4 FUN_0046eb50(HWND param_1,int param_2,undefined2 param_3)

{
  char cVar1;
  HWND pHVar2;
  char local_130 [256];
  LONG local_30;
  int in_stack_ffffffd8;
  int in_stack_ffffffdc;
  int iVar3;
  LPRECT lpRect;
  
  AdjustStackForLargeAllocations();
  if (param_2 != 0x100) {
    if (param_2 == 0x110) {
      pHVar2 = GetParent(param_1);
      if (pHVar2 == (HWND)0x0) {
        pHVar2 = GetDesktopWindow();
      }
      GetWindowRect(pHVar2,(LPRECT)&local_30);
      lpRect = (LPRECT)&stack0xffffffe0;
      iVar3 = 0x46edec;
      pHVar2 = param_1;
      GetWindowRect(param_1,lpRect);
      iVar3 = (in_stack_ffffffdc >> 1) - ((int)lpRect - iVar3 >> 1);
      local_30 = 0x46ee1f;
      SetWindowPos(param_1,(HWND)0x0,(in_stack_ffffffd8 >> 1) - ((int)pHVar2 - iVar3 >> 1),iVar3,0,0
                   ,0x41);
      pHVar2 = GetDlgItem(param_1,0x41f);
      SetWindowTextA(pHVar2,DAT_005df020);
      pHVar2 = GetDlgItem(param_1,0x421);
      SetWindowTextA(pHVar2,DAT_005df288);
      pHVar2 = GetDlgItem(param_1,0x420);
      SetWindowTextA(pHVar2,DAT_005df024);
      pHVar2 = GetDlgItem(param_1,0x42d);
      SetWindowTextA(pHVar2,DAT_005df028);
      pHVar2 = GetDlgItem(param_1,0x467);
      SetWindowTextA(pHVar2,DAT_005df02c);
      pHVar2 = GetDlgItem(param_1,0x424);
      SetWindowTextA(pHVar2,DAT_005df034);
    }
    else if ((param_2 == 0x111) && (DAT_00598d44 == '\0')) {
      switch(param_3) {
      case 0x41f:
        DAT_00598d2c = 0;
        DAT_00598da4 = 1;
        cVar1 = LoadMusicFileFunc();
        if (cVar1 != '\0') {
          MessageBeep(0x30);
          FID_conflict___mbscpy(local_130,s_Error___004d0c00);
          FUN_004ae5f0();
          FID_conflict__strcat(local_130,&stack0xfffffff0);
          MessageBoxA(gMainWindowHandle,DAT_005def24,local_130,0x50010);
          FUN_00470800();
          TerminateWithCode();
          EndDialog(param_1,1);
          return 0;
        }
        DAT_004d03f8 = 0;
        EndDialog(param_1,1);
        return 0;
      case 0x420:
        EndDialog(param_1,0);
        return 0;
      case 0x421:
        DAT_00598d2c = 1;
        DAT_00598da4 = 1;
        cVar1 = LoadMusicFileFunc();
        if (cVar1 != '\0') {
          DAT_004d03f8 = 1;
          MessageBeep(0x30);
          FID_conflict___mbscpy(local_130,s_Error___004d0c0c);
          FUN_004ae5f0();
          FID_conflict__strcat(local_130,&stack0xfffffff0);
          MessageBoxA(gMainWindowHandle,DAT_005def24,local_130,0x50010);
          FUN_00470800();
          TerminateWithCode();
          EndDialog(param_1,1);
          return 0;
        }
        DAT_004d03f8 = 0;
        EndDialog(param_1,1);
        return 0;
      case 0x424:
        DAT_00598d20 = 1;
        EndDialog(param_1,1);
        return 0;
      case 0x42d:
        DialogBoxParamA(DAT_005d6504,(LPCSTR)0xa1,param_1,FUN_004717f0,0);
        return 0;
      case 0x467:
        DialogBoxParamA(DAT_005d6504,(LPCSTR)0x84,param_1,FUN_0046ef50,0);
        return 0;
      }
    }
  }
  return 0;
}



void FUN_0046ef10(HWND *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if (iVar1 != 3) {
      SendMessageA(*param_1,0xf1,0,0);
    }
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  } while (iVar1 < 8);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0046ef50(HWND param_1,int param_2,short param_3)

{
  HWND pHVar1;
  HWND pHVar2;
  HWND hWnd;
  HWND hWnd_00;
  HWND pHVar3;
  HWND hWnd_01;
  bool bVar4;
  HWND local_40 [4];
  HWND local_30;
  HWND local_2c;
  HWND local_28;
  HWND hWnd_02;
  
  AdjustStackForLargeAllocations();
  pHVar1 = GetDlgItem(param_1,0x469);
  GetDlgItem(pHVar1,0x470);
  local_40[2] = GetDlgItem(param_1,0x471);
  local_40[1] = GetDlgItem(param_1,0x46b);
  local_40[0] = GetDlgItem(param_1,0x472);
  local_30 = GetDlgItem(param_1,0x49d);
  local_2c = GetDlgItem(param_1,0x49e);
  local_28 = GetDlgItem(param_1,0x49f);
  GetDlgItem(param_1,0x4a0);
  pHVar2 = GetDlgItem(param_1,0x49a);
  hWnd = GetDlgItem(param_1,0x49b);
  hWnd_00 = GetDlgItem(param_1,0x497);
  pHVar1 = GetDlgItem(param_1,0x496);
  pHVar3 = GetDlgItem(param_1,(int)pHVar1);
  pHVar1 = param_1;
  hWnd_01 = GetDlgItem(param_1,0x498);
  if (DAT_00598d34 != 0) {
    DAT_005df2e4 = 1;
    pHVar1 = pHVar3;
    ShowWindow(pHVar3,0);
  }
  if ((param_2 == 0x30) || (param_2 == 0x110)) {
    pHVar1 = param_1;
    SetWindowTextA(param_1,DAT_005df02c);
    pHVar3 = (HWND)0x406;
    SendMessageA(pHVar1,0x406,1,0x640000);
    hWnd_02 = (HWND)0x1;
    SendMessageA(pHVar3,0x406,1,0x640000);
    pHVar1 = (HWND)0x405;
    SendMessageA(hWnd_02,0x405,1,_DAT_005df2f0);
    SendMessageA(pHVar1,0x405,1,DAT_005df2f4);
    FUN_0046ef10();
    pHVar1 = local_40[DAT_005df2f8];
    SendMessageA(pHVar1,0xf1,1,0);
    bVar4 = DAT_005df2e4 == 0;
    if (bVar4) {
      SendMessageA(pHVar1,0xf1,1,0);
    }
    else {
      SendMessageA(pHVar1,0xf1,0,0);
    }
    SendMessageA(hWnd_01,0xf1,(uint)!bVar4,0);
    bVar4 = DAT_005df2e0 == 0;
    if (bVar4) {
      SendMessageA(pHVar2,0xf1,0,0);
    }
    else {
      SendMessageA(pHVar2,0xf1,1,0);
    }
    SendMessageA(hWnd,0xf1,(uint)bVar4,0);
    pHVar1 = (HWND)0x0;
    bVar4 = DAT_005df2e8 != 0;
    if (bVar4) {
      SendMessageA(hWnd_00,0xf1,0,0);
    }
    else {
      SendMessageA(hWnd_00,0xf1,1,0);
    }
    SendMessageA(pHVar1,0xf1,(uint)bVar4,0);
    pHVar3 = GetDlgItem(param_1,0x4a1);
    SetWindowTextA(pHVar3,DAT_005df044);
    pHVar3 = GetDlgItem(param_1,0x4a2);
    SetWindowTextA(pHVar3,DAT_005df040);
    pHVar3 = GetDlgItem(param_1,0x4a3);
    SetWindowTextA(pHVar3,DAT_005df048);
    pHVar3 = GetDlgItem(param_1,0x4a4);
    SetWindowTextA(pHVar3,DAT_005df04c);
    pHVar3 = GetDlgItem(param_1,0x4a5);
    SetWindowTextA(pHVar3,DAT_005df050);
    pHVar3 = GetDlgItem(param_1,0x4a6);
    SetWindowTextA(pHVar3,DAT_005df054);
    pHVar3 = GetDlgItem(param_1,0x4a7);
    SetWindowTextA(pHVar3,DAT_005df060);
    pHVar3 = GetDlgItem(param_1,0x4a8);
    SetWindowTextA(pHVar3,DAT_005df06c);
    SetWindowTextA(pHVar2,DAT_005df058);
    SetWindowTextA(hWnd,DAT_005df05c);
    SetWindowTextA(pHVar1,DAT_005df070);
    SetWindowTextA(hWnd_01,DAT_005df074);
    pHVar1 = DAT_005df064;
    SetWindowTextA(hWnd_00,(LPCSTR)DAT_005df064);
    SetWindowTextA(pHVar1,DAT_005df068);
    pHVar1 = GetDlgItem(param_1,1);
    SetWindowTextA(pHVar1,DAT_005df07c);
    pHVar1 = GetDlgItem(param_1,2);
    SetWindowTextA(pHVar1,DAT_005df03c);
    pHVar1 = GetDlgItem(param_1,0x46f);
    SetWindowTextA(pHVar1,DAT_005df1a4);
    return 1;
  }
  if (param_2 != 0x111) {
    return 0;
  }
  if (DAT_00598d44 != '\0') {
    return 0;
  }
  switch(param_3) {
  case 0x46f:
    local_28 = (HWND)0x46f13f;
    DialogBoxParamA(DAT_005d6504,(LPCSTR)0x77,param_1,FUN_0044df10,0);
    return 0;
  case 0x470:
  case 0x473:
  case 0x474:
  case 0x475:
  case 0x476:
  case 0x477:
  case 0x478:
  case 0x479:
  case 0x47a:
  case 0x47b:
  case 0x47c:
  case 0x47d:
  case 0x47e:
  case 0x47f:
  case 0x480:
  case 0x481:
  case 0x482:
  case 0x483:
  case 0x484:
  case 0x485:
  case 0x486:
  case 0x487:
  case 0x488:
  case 0x489:
  case 0x48a:
  case 0x48b:
  case 0x48c:
  case 0x48d:
  case 0x48e:
  case 0x48f:
  case 0x490:
  case 0x491:
  case 0x492:
  case 0x493:
  case 0x494:
  case 0x495:
  case 0x49c:
    return 0;
  case 0x471:
    DAT_005df2ec = 0;
    DAT_005df2f8 = 2;
    break;
  case 0x472:
    DAT_005df2ec = 1;
    DAT_005df2f8 = 0;
    break;
  case 0x496:
    pHVar1 = (HWND)0x0;
    SendMessageA(hWnd_00,0xf1,0,0);
    SendMessageA(pHVar1,0xf1,1,0);
    DAT_005df2e8 = 1;
    return 0;
  case 0x497:
    pHVar1 = (HWND)0x0;
    SendMessageA(hWnd_00,0xf1,1,0);
    SendMessageA(pHVar1,0xf1,0,0);
    DAT_005df2e8 = 0;
    return 0;
  case 0x498:
    SendMessageA(pHVar3,0xf1,0,0);
    SendMessageA(hWnd_01,0xf1,1,0);
    DAT_005df2e4 = 1;
    return 0;
  case 0x499:
    SendMessageA(pHVar3,0xf1,1,0);
    SendMessageA(hWnd_01,0xf1,0,0);
    DAT_005df2e4 = 0;
    return 0;
  case 0x49a:
    SendMessageA(pHVar2,0xf1,1,0);
    SendMessageA(hWnd,0xf1,0,0);
    DAT_005df2e0 = 1;
    return 0;
  case 0x49b:
    SendMessageA(pHVar2,0xf1,0,0);
    SendMessageA(hWnd,0xf1,1,0);
    DAT_005df2e0 = 0;
    return 0;
  case 0x49d:
    DAT_005df2ec = 1;
    DAT_005df2f8 = 4;
    break;
  case 0x49e:
    DAT_005df2ec = 1;
    DAT_005df2f8 = 5;
    break;
  case 0x49f:
    DAT_005df2ec = 1;
    DAT_005df2f8 = 6;
    break;
  case 0x4a0:
    DAT_005df2ec = 1;
    DAT_005df2f8 = 7;
    break;
  default:
    if (param_3 == 0x46b) {
      DAT_005df2ec = 1;
      DAT_005df2f8 = 1;
      FUN_0046ef10();
      SendMessageA(local_40[DAT_005df2f8],0xf1,1,0);
      return 0;
    }
    if (param_3 != 1) {
      if (param_3 != 2) {
        return 0;
      }
      EndDialog(param_1,0);
      return 0;
    }
    pHVar2 = (HWND)0x400;
    _DAT_005df2f0 = SendMessageA(pHVar1,0x400,0,0);
    DAT_005df2f4 = SendMessageA(pHVar2,0x400,0,0);
    EndDialog(param_1,1);
    return 0;
  }
  FUN_0046ef10();
  SendMessageA(local_40[DAT_005df2f8],0xf1,1,0);
  return 0;
}



undefined4 FUN_0046f660(HWND param_1,int param_2,short param_3)

{
  HWND hWnd;
  WPARAM wParam;
  HANDLE hFindFile;
  char *pcVar1;
  size_t sVar2;
  int iVar3;
  char local_344 [256];
  undefined local_244 [319];
  char acStackY_105 [225];
  undefined4 uStackY_24;
  
  AdjustStackForLargeAllocations();
  hWnd = GetDlgItem(param_1,0x41f);
  if ((param_2 != 0x30) && (param_2 != 0x110)) {
    if (param_2 == 0x111) {
      if (param_3 == 0x463) {
        uStackY_24 = 0x46f6dc;
        wParam = SendMessageA(hWnd,0x188,0,0);
        if (wParam != 0xffffffff) {
          uStackY_24 = 0x46f6f4;
          SendMessageA(hWnd,0x189,wParam,(LPARAM)(acStackY_105 + 1));
          FID_conflict__strcat(acStackY_105 + 1,&DAT_004d0c24);
          FID_conflict___mbscpy(&DAT_005d6400,acStackY_105 + 1);
          EndDialog(param_1,1);
        }
      }
      else if (param_3 == 0x466) {
        EndDialog(param_1,0);
        return 0;
      }
    }
    return 0;
  }
  FID_conflict___mbscpy(local_344,&DAT_005d54e0);
  FID_conflict__strcat(local_344,&DAT_004d0c18);
  hFindFile = FindFirstFileA(local_344,(LPWIN32_FIND_DATAA)local_244);
  do {
    if (hFindFile == (HANDLE)0xffffffff) {
      iVar3 = 0;
    }
    else {
      pcVar1 = _strstr(local_244 + 0x2c,&DAT_004d0c1c);
      if (pcVar1 != (char *)0x0) {
        FID_conflict___mbscpy(acStackY_105 + 1,local_244 + 0x2c);
        ToUpperCase();
        sVar2 = _strlen(acStackY_105 + 1);
        if (3 < (int)sVar2) {
          acStackY_105[sVar2] = '\0';
          local_244[sVar2 + 0x13e] = 0;
          local_244[sVar2 + 0x13d] = 0;
          local_244[sVar2 + 0x13c] = 0;
        }
        uStackY_24 = 0x46f7f1;
        SendMessageA(hWnd,0x180,0,(LPARAM)(acStackY_105 + 1));
      }
      iVar3 = FindNextFileA(hFindFile,(LPWIN32_FIND_DATAA)local_244);
    }
  } while (iVar3 != 0);
  return 1;
}



undefined4 FUN_0046f820(void)

{
  size_t sVar1;
  BOOL BVar2;
  byte bVar3;
  CHAR local_354 [256];
  CHAR local_254 [256];
  char local_154 [256];
  DWORD local_54;
  HWND local_50;
  char *local_48;
  LPSTR local_44;
  DWORD local_40;
  DWORD local_3c;
  CHAR *local_38;
  DWORD local_34;
  CHAR *local_30;
  DWORD local_2c;
  LPCSTR local_28;
  char *local_24;
  DWORD local_20;
  undefined4 uStackY_1c;
  DWORD *_Dst;
  int _Val;
  LPOFNHOOKPROC _Size;
  
  AdjustStackForLargeAllocations();
  lstrcpyA(local_254,&DAT_00598de4);
  lstrcpyA(local_354,&DAT_00598de8);
  uStackY_1c._0_2_ = 0xf865;
  uStackY_1c._2_2_ = 0x46;
  _memset(local_154,0,0x100);
  FID_conflict___mbscpy(local_154,s_Saved_Games_004d0c2c);
  sVar1 = _strlen(s_Saved_Games_004d0c38);
  bVar3 = (char)sVar1 + 1;
  FID_conflict___mbscpy(local_154 + bVar3,s___sav_004d0c44);
  sVar1 = _strlen(s___Dat_004d0c4c);
  _Dst = &local_54;
  _Size = (LPOFNHOOKPROC)0x4c;
  _Val = 0;
  local_154[(byte)(bVar3 + (char)sVar1 + '\x01')] = '\0';
  uStackY_1c._0_2_ = 0xf8de;
  uStackY_1c._2_2_ = 0x46;
  _memset(_Dst,_Val,(size_t)_Size);
  local_48 = local_154;
  local_50 = gMainWindowHandle;
  local_38 = local_254;
  local_30 = local_354;
  local_54 = 0x4c;
  local_44 = (LPSTR)0x0;
  local_40 = 0;
  local_3c = 1;
  local_34 = 0x100;
  local_2c = 0x100;
  local_28 = &DAT_005d54e0;
  local_20 = 0x1810;
  local_24 = s_LOAD_GAME_004d0c5c;
  BVar2 = GetOpenFileNameA((LPOPENFILENAMEA)&local_54);
  if (BVar2 != 0) {
    FID_conflict___mbscpy(&DAT_005d6400,local_30);
    return 1;
  }
  return 0;
}



undefined4 FUN_0046f980(void)

{
  char local_204 [492];
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  if (DAT_00599004 == 0x10) {
    return 1;
  }
  FID_conflict___mbscpy(local_204,DAT_005df280);
  FID_conflict__strcat(local_204,DAT_005df284);
  uStackY_18 = 0x46f9e2;
  MessageBoxA(gMainWindowHandle,local_204,s_ERROR_004d0c68,0);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

LRESULT FUN_0046fa40(HWND param_1,uint param_2,uint param_3,LPARAM param_4)

{
  uint *puVar1;
  float fVar2;
  float fVar3;
  char cVar4;
  byte bVar5;
  int iVar6;
  char *pcVar7;
  LRESULT LVar8;
  int iVar9;
  uint uVar10;
  ushort uVar11;
  uint uVar12;
  LRESULT unaff_EBX;
  undefined4 *puVar13;
  undefined4 *puVar14;
  
  AdjustStackForLargeAllocations();
  uVar12 = param_3;
  uVar10 = param_2;
  DAT_005d6530 = param_1;
  iVar6 = FUN_004146b0(&param_2,&stack0xfffffff8,param_1,param_2,param_3,param_4);
  if (iVar6 == 0) {
    FUN_00470960();
    FUN_00470800();
    return 0;
  }
  if (param_2 != 0) {
    return unaff_EBX;
  }
  if ((DAT_00598ddc != '\0') && (DAT_00598de0 == '\0')) {
    DAT_00598de0 = '\x01';
    iVar6 = MessageBoxA(gMainWindowHandle,DAT_005def24,s_Error_004d0c70,0x50030);
    if ((iVar6 == 1) && (DAT_00598de0 = '\0', DAT_00598d44 == '\0')) {
      DAT_00598ddc = '\0';
      DAT_00598de0 = '\0';
    }
  }
  if (uVar10 < 0x103) {
    if (uVar10 == 0x102) {
      bVar5 = FUN_004b0980((int)(char)uVar12);
      if (DAT_004cb05c == 2) {
        if ((0x40 < bVar5) && (bVar5 < 0x5b)) {
          DAT_00598ca0 = timeGetTime();
          if (2000 < DAT_00598ca0 - DAT_00598ce8) {
            DAT_00598d4c = DAT_00598d4c & 0xffffff00;
            _memset(&DAT_005d6660,0,0x1e);
          }
          DAT_00598ce8 = DAT_00598ca0;
          if ((byte)DAT_00598d4c < 0x1e) {
            uVar12 = DAT_00598d4c & 0xff;
            DAT_00598d4c = CONCAT31(DAT_00598d4c._1_3_,(byte)DAT_00598d4c + 1);
            (&DAT_005d6660)[uVar12] = bVar5;
          }
        }
      }
      else {
        if (DAT_004d8230 == 0) {
          iVar6 = FUN_004858c0();
          if ((iVar6 != 2) || ((bVar5 != 0x74 && (bVar5 != 0x54)))) goto LAB_0046ff1a;
          DAT_004d8230 = 1;
          FID_conflict___mbscpy(&DAT_00598cf0,&DAT_004d0d24);
          if (DAT_00598d30 != 0) {
            FUN_00492630(&DAT_00598d30);
          }
        }
        else {
          if (bVar5 != 8) {
            if (bVar5 == 0xd) {
              if ((char)DAT_00598944 == '\0') {
                pcVar7 = _strstr(&DAT_005d6660,s_OH_MY_GOD_004d0cd4);
                if (pcVar7 == (char *)0x0) {
                  pcVar7 = _strstr(&DAT_005d6660,s_TOO_HARD_FOR_ME_004d0ce0);
                  if (pcVar7 != (char *)0x0) {
                    DAT_004d040c = (uint)(DAT_004d040c == 0);
                  }
                }
                else {
                  DAT_00598d60 = (uint)(DAT_00598d60 == 0);
                }
              }
              else {
                FUN_00466530(0x12,0,0,0,0,0);
              }
            }
            else {
              if ((bVar5 < 0x20) || (0x60 < bVar5)) goto LAB_0046ff1a;
              if ((byte)DAT_00598d4c == '\0') {
                _memset(&DAT_00598ca8,0,0x3d);
                DAT_00598cbe = 1;
                DAT_00598cc0 = 0;
                DAT_00598cc1 = 0;
                DAT_00598cc2 = 0;
                _DAT_00598cc5 = 0;
                _DAT_00598cc9 = 0;
                _DAT_00598ccb = 0xe;
                _DAT_00598ccd = 0;
                _DAT_00598ccf = 0;
                if (DAT_00598d50 == 0) {
                  _DAT_00598cc7 = 0x138;
                }
                else if (DAT_005df2f8 == 1) {
                  _DAT_00598cc7 = 0x16c;
                }
                else if (DAT_005df2f8 == 2) {
                  _DAT_00598cc7 = 0xdc;
                }
                else if (DAT_005df2f8 == 3) {
                  _DAT_00598cc7 = 0xb4;
                }
                else {
                  _DAT_00598cc7 = 0x1cc;
                }
              }
              cVar4 = (byte)DAT_00598d4c + '\x01';
              (&DAT_005d6660)[DAT_00598d4c & 0xff] = bVar5;
              DAT_00598d4c = CONCAT31(DAT_00598d4c._1_3_,cVar4);
              FID_conflict___mbscpy(&DAT_00598cf0,&DAT_004d0cf0);
              FID_conflict__strcat(&DAT_00598cf0,&DAT_005d6660);
              FUN_00492100(10,&DAT_00598cf0,1,600,5,1,&DAT_00598ca8,0,0);
              if ((byte)DAT_00598d4c != '\x1e') goto LAB_0046ff1a;
              if ((char)DAT_00598944 != '\0') {
                FUN_00466530(0x12,0,0,0,0,0);
              }
            }
            DAT_004d8230 = 0;
            DAT_00598d4c = DAT_00598d4c & 0xffffff00;
            _memset(&DAT_005d6660,0,0x1e);
            FUN_00492720(10);
            goto LAB_0046ff1a;
          }
          if ((byte)DAT_00598d4c == '\0') goto LAB_0046ff1a;
          bVar5 = (byte)DAT_00598d4c - 1;
          DAT_00598d4c = CONCAT31(DAT_00598d4c._1_3_,bVar5);
          (&DAT_005d6660)[bVar5] = 0;
          FID_conflict___mbscpy(&DAT_00598cf0,&DAT_004d0cb4);
          FID_conflict__strcat(&DAT_00598cf0,&DAT_005d6660);
        }
        FUN_00492100(10,&DAT_00598cf0,1,600,5,1,&DAT_00598ca8,0,0);
      }
    }
    else if (uVar10 == 1) {
      FUN_00470d40();
      LoadDisplaySettings();
      FUN_0043fbc0();
      cVar4 = FUN_0046f980();
      if (cVar4 == '\0') {
        FUN_00470800();
        TerminateWithCode(0);
      }
    }
    goto LAB_0046ff1a;
  }
  if (uVar10 != 0x111) {
    if ((uVar10 != 0x219) || ((char)DAT_00598944 != '\0')) goto LAB_0046ff1a;
    if (DAT_00598d44 == '\0') {
      if (uVar12 == 0x8000) goto LAB_0046ff1a;
      if (DAT_005e58ec != 0) {
        WaitForSingleObject(HANDLE_005d664c,0xffffffff);
        DAT_00598d44 = '\x01';
        SetEvent(HANDLE_005d664c);
        goto LAB_0046ff1a;
      }
    }
    else {
      if (uVar12 != 0x8000) goto LAB_0046ff1a;
      cVar4 = LoadMusicFileFunc();
      if (cVar4 == '\0') {
        DAT_00598d44 = '\0';
        DAT_00598ddc = '\0';
        goto LAB_0046ff1a;
      }
    }
    DAT_00598d44 = '\x01';
    DAT_00598ddc = '\x01';
LAB_0046ff1a:
    LVar8 = DefWindowProcA(param_1,uVar10,param_3,param_4);
    return LVar8;
  }
  iVar6 = FUN_004858c0();
  if ((short)uVar12 == -0x636b) {
    if (((iVar6 != 4) && (iVar6 != 5)) && (iVar6 != 0)) {
      FUN_0048daa0(6);
      goto switchD_0046ffc2_caseD_9c53;
    }
LAB_004705e7:
    FUN_0048daa0(0xf);
    goto switchD_0046ffc2_caseD_9c53;
  }
  if (iVar6 != 2) goto switchD_0046ffc2_caseD_9c53;
  uVar12 = uVar12 & 0xffff;
  switch(uVar12) {
  case 0x9c52:
    if (DAT_005df318 != 0) {
      DAT_005e45ec = 0;
    }
    break;
  case 0x9c53:
  case 0x9c55:
  case 0x9c56:
  case 0x9c57:
  case 0x9c58:
  case 0x9c59:
  case 0x9c5a:
  case 0x9c5c:
  case 0x9c63:
  case 0x9c64:
  case 0x9c65:
  case 0x9c66:
  case 0x9c68:
  case 0x9c69:
  case 0x9c6a:
  case 0x9c6c:
  case 0x9c71:
  case 0x9c72:
  case 0x9c73:
  case 0x9c75:
  case 0x9c76:
  case 0x9c7f:
  case 0x9c80:
  case 0x9c81:
  case 0x9c82:
  case 0x9c88:
  case 0x9c8c:
  case 0x9c8d:
  case 0x9c98:
  case 0x9c99:
  case 0x9c9a:
  case 0x9c9b:
  case 0x9c9c:
  case 0x9c9d:
  case 0x9c9e:
  case 0x9c9f:
  case 0x9ca0:
  case 0x9ca1:
  case 0x9ca2:
  case 0x9ca3:
  case 0x9ca4:
  case 0x9ca5:
  case 0x9ca6:
  case 0x9ca7:
  case 0x9ca8:
  case 0x9ca9:
  case 0x9cae:
  case 0x9cb3:
    break;
  case 0x9c54:
    DAT_005e45ec = 1;
    break;
  case 0x9c5b:
    DAT_00598d8c = (uint)(DAT_00598d8c == 0);
    break;
  case 0x9c5d:
    DAT_005e45e8 = *(int *)(DAT_005e45e8 + 10);
    if (DAT_005e45e8 == 0) {
      DAT_005e45e8 = *(int *)(DAT_005df318 + 4);
    }
    break;
  case 0x9c5e:
    DAT_004d03fc = (uint)(DAT_004d03fc == 0);
    break;
  case 0x9c5f:
    DAT_004d0408 = (uint)(DAT_004d0408 == 0);
    break;
  case 0x9c60:
    DAT_004d0400 = (uint)(DAT_004d0400 == 0);
    break;
  case 0x9c61:
    DAT_004d0410 = (uint)(DAT_004d0410 == 0);
    break;
  case 0x9c62:
    DAT_00598d68 = (uint)(DAT_00598d68 == 0);
    break;
  case 0x9c67:
    if (DAT_005ba508 == 3) {
      DAT_005ba508 = 0;
    }
    else {
      DAT_005ba508 = DAT_005ba508 + 1;
    }
    break;
  case 0x9c6b:
    DAT_00598d60 = (uint)(DAT_00598d60 == 0);
    break;
  case 0x9c6d:
    DAT_004d040c = (uint)(DAT_004d040c == 0);
    break;
  case 0x9c6e:
    DAT_004d0404 = (uint)(DAT_004d0404 == 0);
    break;
  case 0x9c6f:
    DAT_00598d74 = (uint)(DAT_00598d74 == 0);
    break;
  case 0x9c70:
    DAT_004d041c = (uint)(DAT_004d041c == 0);
    break;
  case 0x9c74:
    _DAT_004d1b74 = _DAT_004d1b74 - 0.05;
    if (DAT_00598d3c != 0) {
      DAT_004d1b60 = _DAT_004d1b74 / _DAT_004d03f4;
      FUN_00485bf0();
      break;
    }
    goto LAB_00470598;
  case 0x9c77:
    DAT_004c71c4 = DAT_004c71c4 - -0.2;
    break;
  case 0x9c78:
    DAT_004c71c4 = DAT_004c71c4 - 0.2;
    break;
  case 0x9c79:
    _DAT_004d03f4 = DAT_004d1b60 / _DAT_004d1b74;
    DAT_00598d3c = (uint)(DAT_00598d3c == 0);
    break;
  case 0x9c7a:
    DAT_004d0420 = (uint)(DAT_004d0420 == 0);
    break;
  case 0x9c7b:
    DAT_004d0424 = (uint)(DAT_004d0424 == 0);
    break;
  case 0x9c7c:
    DAT_00598d78 = (uint)(DAT_00598d78 == 0);
    break;
  case 0x9c7d:
    DAT_004d0428 = (uint)(DAT_004d0428 == 0);
    break;
  case 0x9c7e:
    DAT_00598d64 = (uint)(DAT_00598d64 == 0);
    DAT_005e45ec = -(uint)(DAT_00598d64 != 0) & 2;
    break;
  case 0x9c83:
    DAT_004d03f0 = (uint)(DAT_004d03f0 == 0);
    break;
  case 0x9c84:
    DAT_005a115c = (uint)(DAT_005a115c == 0);
    break;
  case 0x9c85:
    DAT_004d0438 = (uint)(DAT_004d0438 == 0);
    break;
  case 0x9c86:
    if ((DAT_00598d90 != 0) && (uVar11 = 0, *(short *)(DAT_00598d90 + 0x245) != 0)) {
      do {
        uVar10 = (uint)uVar11;
        uVar11 = uVar11 + 1;
        *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + uVar10 * 6) = 1;
      } while (uVar11 < *(ushort *)(DAT_00598d90 + 0x245));
    }
    break;
  case 0x9c87:
    DAT_004d043c = (uint)(DAT_004d043c == 0);
    break;
  case 0x9c89:
    DAT_004d0440 = (uint)(DAT_004d0440 == 0);
    break;
  case 0x9c8a:
    DAT_004d7aa0 = (uint)(DAT_004d7aa0 == 0);
    break;
  case 0x9c8b:
    puVar13 = &DAT_005d6700;
    puVar14 = (undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6);
    for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
      *puVar14 = *puVar13;
      puVar13 = puVar13 + 1;
      puVar14 = puVar14 + 1;
    }
    iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    *(uint *)(iVar6 + 0x8a) = *(uint *)(iVar6 + 0x8a) | 0x40000000;
    break;
  case 0x9c8e:
    DAT_004d0434 = (uint)(DAT_004d0434 == 0);
    break;
  case 0x9c8f:
    _DAT_004d0444 = _DAT_004d0444 - 0.5;
    FUN_00485c30(DAT_00598dac,DAT_005d669c,_DAT_004d0444 * 0.01745329);
    break;
  case 0x9c90:
    _DAT_004d0444 = _DAT_004d0444 - -0.5;
    FUN_00485c30(DAT_00598dac,DAT_005d669c,_DAT_004d0444 * 0.01745329);
    break;
  case 0x9c91:
    fVar3 = 0.05;
    fVar2 = 0.05;
    goto LAB_004704f2;
  case 0x9c92:
    fVar3 = -0.05;
    fVar2 = -0.05;
LAB_004704f2:
    _DAT_004d1b88 = _DAT_004d1b88 - fVar3;
    _DAT_004d1b8c = _DAT_004d1b8c - fVar2;
    FUN_00485bf0();
    break;
  case 0x9c93:
    DAT_004d1b60 = 1.5;
    _DAT_004d1b74 = 2.09;
    _DAT_004d1b8c = 1.0;
    _DAT_004d1b88 = 1.0;
    _DAT_004d1b98 = 0xbf800000;
    FUN_00485bf0();
    break;
  case 0x9c94:
    _DAT_004d0444 = 60.0;
    FUN_00485c30(0,DAT_005d669c,0x3f860a92);
    _DAT_004d1b74 = 1.236;
LAB_00470598:
    FUN_00485bf0();
    break;
  case 0x9c95:
    iVar6 = FUN_004858c0();
    if (((iVar6 != 4) && (iVar6 != 5)) && (iVar6 != 0)) {
      FUN_0048daa0(6);
      break;
    }
    goto LAB_004705e7;
  case 0x9c96:
    DAT_004d0430 = (uint)(DAT_004d0430 == 0);
    break;
  case 0x9c97:
    DAT_00598da8 = (uint)(DAT_00598da8 == 0);
    break;
  case 0x9caa:
    *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x36) = DAT_005d6740;
    *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3a) = DAT_005d6744;
    *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x3e) = DAT_005d6748;
    puVar1 = (uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
    *puVar1 = *puVar1 | 0x40000000;
    break;
  case 0x9cab:
    for (iVar6 = *(int *)(*(int *)(DAT_005df318 + 4) + 0x16); iVar6 != 0;
        iVar6 = *(int *)(iVar6 + 0x16)) {
      iVar9 = *(int *)(iVar6 + 4);
      uVar11 = 0;
      if (*(char *)(iVar9 + 0x189) != '\0') {
        do {
          FUN_004412c0(iVar6,*(undefined4 *)(DAT_005df318 + 4),*(undefined4 *)(iVar9 + 0x86),100);
          iVar9 = *(int *)(iVar6 + 4);
          uVar11 = uVar11 + 1;
        } while (uVar11 < *(byte *)(iVar9 + 0x189));
      }
    }
    break;
  case 0x9cac:
    _DAT_004d826c = 0x1d4c;
    break;
  case 0x9cad:
    WaitForSingleObject(HANDLE_005d664c,0xffffffff);
    DAT_00598d80 = (uint)(DAT_00598d80 == 0);
    SetEvent(HANDLE_005d664c);
    break;
  case 0x9caf:
    DAT_004d042c = (uint)(DAT_004d042c == 0);
    break;
  case 0x9cb0:
    DAT_00598f90 = (uint)(DAT_00598f90 == 0);
    break;
  case 0x9cb1:
    if ((DAT_005df318 != 0) && (*(int *)(DAT_005df318 + 4) != 0)) {
      DAT_004d7aa8 = DAT_004d7aa8 + 1;
    }
    break;
  case 0x9cb2:
    if (((DAT_005df318 != 0) && (*(int *)(DAT_005df318 + 4) != 0)) && (DAT_004d7aa8 != 0)) {
      DAT_004d7aa8 = DAT_004d7aa8 + -1;
    }
    break;
  default:
    if (uVar12 == 0x19) {
      DAT_00598d70 = (uint)(DAT_00598d70 == 0);
    }
    else if (uVar12 == 2) {
      FUN_00470800();
    }
  }
switchD_0046ffc2_caseD_9c53:
  if (DAT_005d6508 != 0) {
    _DAT_005d650c = 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004707c0(void)

{
  DAT_005e5010 = 0;
  _memset(&gMainWindowHandle,0,0x30);
  _DAT_005d6510 = 0;
  _DAT_005d6514 = 0;
  SetErrorMode(0x8001);
  return;
}



void FUN_00470800(void)

{
  DAT_00598d20 = 1;
  PostMessageA(gMainWindowHandle,2,0,0);
  return;
}



void FUN_00470820(int param_1)

{
  int iVar1;
  
  if (DAT_004d7aa4 != 0) {
    FUN_004adcf0(DAT_004d7aa4);
    DAT_004d7aa4 = 0;
  }
  RemoveFontResourceA(&DAT_00598ba0);
  if ((char)DAT_00598944 != '\0') {
    FUN_00463670();
  }
  if (param_1 == 0) {
    if ((char)DAT_00598944 == '\0') {
      FUN_0043e920();
      FUN_00416240();
      _AIL_shutdown_0();
    }
  }
  else {
    FUN_0042dfa0();
    FUN_00462750();
    FUN_00415fc0();
    _AIL_shutdown_0();
    FUN_004811b0();
    FUN_00449720();
    FUN_004abe10();
    FUN_004565a0();
    FUN_00474ff0();
    FUN_00425ff0();
    FUN_0043ffb0();
  }
  FUN_00462860();
  FUN_0040f3f0();
  FUN_0048afc0();
  FUN_004868a0();
  if ((char)DAT_00598944 != '\0') {
    FUN_004767a0();
  }
  if (param_1 != 0) {
    FUN_004563f0();
    FUN_004740d0();
    FUN_0048efb0();
    FUN_004533b0();
    FUN_00418340();
  }
  if (DAT_005e45e0 != 0) {
    FreeMemory(DAT_005e45e0);
    DAT_005e45e0 = 0;
  }
  FUN_00447f80();
  FUN_00493280();
  FUN_00492270();
  FUN_00491910();
  FUN_00429800();
  FUN_00413de0();
  CloseHandle(DAT_00598dd0);
  DAT_00598dd0 = (HANDLE)0x0;
  CloseHandle(DAT_00598db8);
  DAT_00598db8 = (HANDLE)0x0;
  FUN_00442630();
  iVar1 = FUN_00415270();
  if (iVar1 == 0) {
    FUN_00470960();
  }
  return;
}



void FUN_00470960(void)

{
  return;
}



void FUN_00470970(LPCSTR param_1)

{
  CHAR local_104 [220];
  undefined4 uStackY_28;
  
  AdjustStackForLargeAllocations();
  wvsprintfA(local_104,param_1,&stack0x00000008);
  lstrcatA(local_104,&DAT_004d0f38);
  if ((DAT_005e5010 != 0) && (*(int *)(DAT_005e5010 + 0x2524) != 0)) {
    uStackY_28 = 0x4709d3;
    SetWindowPos(gMainWindowHandle,(HWND)0xfffffffe,0,0,0,0,3);
  }
  MessageBoxA((HWND)0x0,local_104,s_I_appear_to_have_encountered_an_e_004d0f3c,0);
  if ((DAT_005e5010 != 0) && (*(int *)(DAT_005e5010 + 0x2524) != 0)) {
    uStackY_28 = 0x470a10;
    SetWindowPos(gMainWindowHandle,(HWND)0xffffffff,0,0,0,0,3);
  }
  return;
}



void FUN_00470a20(void)

{
  DWORD dwThreadId;
  
  dwThreadId = GetCurrentThreadId();
  DAT_005d66a8 = SetWindowsHookExA(2,FUN_00471380,(HINSTANCE)0x0,dwThreadId);
  return;
}



void FUN_00470a40(void)

{
  void *_Dst;
  char *_Dest;
  LSTATUS LVar1;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 8;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(8);
  _Dest = (char *)_memset(_Dst,_Val,_Size);
  LVar1 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004d0f68,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_00598ca4);
  if (LVar1 == 0) {
    FUN_004ae5f0(DAT_005df304,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_FullScreen_004d0f88,_Dest,8);
    FUN_004ae5f0(DAT_005df308,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_Restrict_004d0f94,_Dest,8);
    DAT_005df308 = 0;
    FUN_004ae5f0(DAT_005df30c,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_LoadLast_004d0fa0,_Dest,8);
    RegCloseKey(HKEY_00598b70);
  }
  if (_Dest != (char *)0x0) {
    FreeMemory(_Dest);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00470b60(void)

{
  void *_Dst;
  char *_Dest;
  LSTATUS LVar1;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  _Size = 8;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(8);
  _Dest = (char *)_memset(_Dst,_Val,_Size);
  LVar1 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004d0fac,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_00598ca4);
  if (LVar1 == 0) {
    FUN_004ae5f0(DAT_005df2e0,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_ClipPlane_004d0fcc,_Dest,8);
    FUN_004ae5f0(DAT_005df2e8,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_Models_004d0fd8,_Dest,8);
    FUN_004ae5f0(DAT_005df2e4,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_Lighting_004d0fe0,_Dest,8);
    FUN_004ae5f0(DAT_005df2f8,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_ResMode_004d0fec,_Dest,8);
    FUN_004ae5f0(_DAT_005df2f0,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_MusicLevel_004d0ff4,_Dest,8);
    FUN_004ae5f0(DAT_005df2f4,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_SoundLevel_004d1000,_Dest,8);
    FUN_004ae5f0(DAT_005df300,&stack0xfffffff8,10);
    FID_conflict___mbscpy(_Dest,&stack0xfffffff8);
    FUN_004674a0(s_Difficulty_004d100c,_Dest,8);
    RegCloseKey(HKEY_00598b70);
  }
  if (_Dest != (char *)0x0) {
    FreeMemory(_Dest);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00470d40(void)

{
  LSTATUS LVar1;
  char *pcVar2;
  void *_Dst;
  bool bVar3;
  BYTE local_60 [2];
  char local_5e;
  char local_5d;
  undefined4 uStackY_38;
  LPDWORD pDVar4;
  int iVar5;
  undefined1 *puVar6;
  char *pcVar7;
  HKEY__ hKey;
  HKEY__ _Size;
  
  AdjustStackForLargeAllocations();
  _Size.unused = 4;
  LVar1 = RegOpenKeyExA((HKEY)0x80000002,(LPCSTR)0x40,0,0,(PHKEY)0x0);
  if (LVar1 == 0) {
    RegQueryValueExA((HKEY)&stack0xffffffe0,s_Version_004d1034,(LPDWORD)0x0,
                     (LPDWORD)&stack0xfffffff0,local_60,(LPDWORD)(HKEY)&stack0xffffffe0);
    pcVar7 = s__06_00__004d103c;
    pcVar2 = _strstr((char *)local_60,s__06_00__004d103c);
    if (pcVar2 != (char *)0x0) {
LAB_00470e11:
      DAT_00598d34 = 1;
    }
  }
  else {
    hKey.unused = (int)&stack0xffffffec;
    LVar1 = RegOpenKeyExA((HKEY)0x80000002,gsDirectShowRegKeyString,0,1,(PHKEY)hKey.unused);
    if (LVar1 != 0) goto LAB_00470e21;
    RegQueryValueExA((HKEY)hKey.unused,s_Version_004d10a0,(LPDWORD)0x0,(LPDWORD)&stack0xfffffff0,
                     (LPBYTE)0x0,(LPDWORD)&stack0xfffffff8);
    pcVar7 = &stack0xfffffff8;
    RegQueryValueExA((HKEY)pcVar7,s_Version_004d10a8,(LPDWORD)0x0,(LPDWORD)&stack0xfffffff0,local_60
                     ,(LPDWORD)pcVar7);
    if ((local_5e == '\x06') && (local_5d == '\0')) goto LAB_00470e11;
  }
  RegCloseKey((HKEY)pcVar7);
LAB_00470e21:
  iVar5 = 0;
  _Dst = (void *)AllocateMemoryWithCallback();
  pcVar7 = (char *)_memset(_Dst,iVar5,_Size.unused);
  uStackY_38 = 0x470e67;
  LVar1 = RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004d10b0,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_00598ca4);
  if ((LVar1 == 0) && (HKEY_00598b70 != (HKEY)0x0)) {
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df2e0 = FUN_004adb80();
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df2e8 = FUN_004adb80();
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df2e4 = FUN_004adb80();
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df2f8 = FUN_004adb80();
    if ((DAT_005df2f8 == 2) || (DAT_005df2ec = 1, DAT_005df2f8 == 3)) {
      DAT_005df2ec = 0;
    }
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    _DAT_005df2f0 = FUN_004adb80();
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df2f4 = FUN_004adb80();
    pDVar4 = (LPDWORD)&stack0xfffffff0;
    LVar1 = RegQueryValueExA(HKEY_00598b70,s_Language_004d1150,(LPDWORD)0x0,pDVar4,&stack0xffffffe4,
                             (LPDWORD)&stack0xfffffff8);
    if (LVar1 != 0) {
      FUN_00450740();
      pDVar4 = DAT_005df2fc;
    }
    DAT_005df2fc = pDVar4;
    iVar5 = FUN_004674d0();
    if (iVar5 != 0) {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
    }
    DAT_005df300 = FUN_004adb80();
    iVar5 = FUN_004674d0();
    if (iVar5 == 0) {
      DAT_005df304 = FUN_004adb80();
    }
    else {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
      DAT_005df304 = 0;
    }
    iVar5 = FUN_004674d0();
    if (iVar5 == 0) {
      DAT_005df308 = FUN_004adb80();
    }
    else {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
      DAT_005df308 = 0;
    }
    iVar5 = FUN_004674d0();
    if (iVar5 == 0) {
      DAT_005df30c = FUN_004adb80();
    }
    else {
      FUN_004ae5f0();
      FID_conflict___mbscpy(pcVar7,&stack0xfffffff4);
      FUN_004674a0();
      DAT_005df30c = 0;
    }
    pDVar4 = (LPDWORD)&stack0xfffffff0;
    LVar1 = RegQueryValueExA(HKEY_00598b70,s_InstallType_004d11bc,(LPDWORD)0x0,pDVar4,
                             &stack0xffffffe4,(LPDWORD)&stack0xfffffff8);
    if (LVar1 == 0) {
      DAT_005df310 = (BYTE)pDVar4;
    }
    else {
      DAT_005df310 = '\x02';
    }
    iVar5 = FUN_004674d0();
    if (iVar5 == 0) {
      FID_conflict___mbscpy(&gRootFileDirectory,pcVar7);
      puVar6 = &gRootFileDirectory;
      FID_conflict__strcat(&gRootFileDirectory,s__Hedz__004d11dc);
      DAT_00598d88 = gRootFileDirectory;
    }
    else {
      puVar6 = &gRootFileDirectory;
      FID_conflict___mbscpy(&gRootFileDirectory,&DAT_005d54e0);
    }
    if (puVar6 == (undefined1 *)0x0) {
      FUN_004674d0();
    }
    iVar5 = 0x4712ed;
    RegCloseKey(HKEY_00598b70);
  }
  else {
    iVar5 = 1;
  }
  if (iVar5 != 0) {
    iVar5 = FUN_00414090();
    bVar3 = iVar5 == 0;
    if (bVar3) {
      DAT_005df2e4 = DAT_00598d34;
      DAT_005df2f8 = 2;
    }
    else {
      DAT_005df2e4 = 1;
      DAT_005df2f8 = 0;
    }
    DAT_005df2ec = (uint)!bVar3;
    DAT_005df2e8 = (uint)!bVar3;
    DAT_005df2e0 = (uint)bVar3;
    _DAT_005df2f0 = 100;
    DAT_005df2f4 = 0x5a;
  }
  if (pcVar7 != (char *)0x0) {
    FreeMemory();
  }
  return;
}



LRESULT FUN_00471380(int param_1,WPARAM param_2,LPARAM param_3)

{
  LRESULT LVar1;
  
  if (param_1 < 0) {
    LVar1 = CallNextHookEx(DAT_005d66a8,param_1,param_2,param_3);
    return LVar1;
  }
  if (param_2 == 0x5b) {
    return 1;
  }
  LVar1 = CallNextHookEx(DAT_005d66a8,param_1,param_2,param_3);
  return LVar1;
}



undefined4 FUN_004713d0(void)

{
  int iVar1;
  
  DAT_005e5010[0x957] = 0;
  iVar1 = FUN_004136e0();
  if (iVar1 == 0) {
    return 0;
  }
  (**(code **)(*(int *)DAT_005e5010[2] + 8))((int *)DAT_005e5010[2]);
  DAT_005e5010[2] = 0;
  (**(code **)(*(int *)DAT_005e5010[5] + 8))((int *)DAT_005e5010[5]);
  DAT_005e5010[5] = 0;
  if (DAT_004d785c != 0) {
    (**(code **)(*(int *)DAT_005e5010[0x1ec] + 0x20))
              ((int *)DAT_005e5010[0x1ec],0,DAT_005e5010[0x1ed]);
    DAT_005e5010[0x1ed] = 0;
  }
  if (DAT_004d7850 != 0) {
    (**(code **)(*(int *)DAT_005e5010[0x1ec] + 8))((int *)DAT_005e5010[0x1ec]);
    DAT_005e5010[0x1ec] = 0;
  }
  if ((DAT_005e5010[0x949] == 0) || (DAT_004d784c != 0)) {
    (**(code **)(*DAT_004d7860 + 8))(DAT_004d7860);
    DAT_004d7860 = (int *)0x0;
  }
  (**(code **)(*(int *)DAT_005e5010[0x1eb] + 8))((int *)DAT_005e5010[0x1eb]);
  if (DAT_005e5010[0x949] != 0) {
    FUN_00412640(*DAT_005e5010,0);
  }
  (**(code **)(*(int *)DAT_005e5010[1] + 8))((int *)DAT_005e5010[1]);
  DAT_005e5010[1] = 0;
  (**(code **)(*(int *)DAT_005e5010[4] + 8))((int *)DAT_005e5010[4]);
  DAT_005e5010[4] = 0;
  (**(code **)(*(int *)DAT_005e5010[0x1e9] + 8))((int *)DAT_005e5010[0x1e9]);
  DAT_005e5010[0x1e9] = 0;
  return 1;
}



undefined4 FUN_00471510(int param_1)

{
  int iVar1;
  
  iVar1 = param_1 * 4 + 0x21d4;
  if (*(int *)(DAT_005e5010 + iVar1) < 0) {
    *(undefined4 *)(DAT_005e5010 + iVar1) = *(undefined4 *)(DAT_005e5010 + 0x21d4);
    DAT_005df2f8 = 0;
  }
  DAT_004c66b8 = *(int *)(DAT_005e5010 + iVar1);
  *(undefined4 *)(DAT_005e5010 + 0x2524) = 1;
  FUN_004713d0();
  SetWindowPos(gMainWindowHandle,(HWND)0x0,0,0,DAT_004c5718,DAT_004c571c,0x40);
  iVar1 = DAT_005e5010 + DAT_004c66b8 * 0x10;
  DAT_004d785c = 1;
  DAT_004c5718 = *(undefined4 *)(iVar1 + 0x21f4);
  DAT_004c571c = *(undefined4 *)(iVar1 + 0x21f8);
  iVar1 = FUN_00414160(0,gMainWindowHandle,FUN_0046e970,0,FUN_0046ea90,0,&DAT_005e5010);
  if (iVar1 == 0) {
    FUN_00470960();
    return 0;
  }
  *(undefined4 *)(DAT_005e5010 + 0x2524) = 1;
  iVar1 = FUN_00482470(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
                       *(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
  if (iVar1 == 0) {
    return 0;
  }
  if (DAT_004d8104 != 0) {
    FreeMemory(DAT_004d8104);
    DAT_004d8104 = 0;
  }
  FUN_0043e140();
  FUN_00414850(0);
  FUN_0043e140();
  FUN_00414850(0);
  return 1;
}



undefined4 FUN_00471660(void)

{
  int iVar1;
  
  DAT_004c66b8 = 0xfffffffe;
  *(undefined4 *)(DAT_005e5010 + 0x2524) = 1;
  FUN_004713d0();
  SetWindowPos(gMainWindowHandle,(HWND)0x0,0,0,DAT_004c5718,DAT_004c571c,0x40);
  DAT_004d785c = 0;
  if ((((DAT_004ca030 == 0x14) && (DAT_005e45d0 == 0)) && ((char)DAT_00598944 == '\0')) &&
     ((0 < *(int *)(DAT_005df2c8 + 0xe8) && (DAT_004d24f0 != '\0')))) {
    FUN_004912b0();
  }
  else if ((((DAT_004ca030 % 5 == 0) && ((DAT_005e45d0 == 0 && ((char)DAT_00598944 == '\0')))) &&
           (0 < *(int *)(DAT_005df2c8 + 0xe8))) && (DAT_004d24f0 != '\0')) {
    FUN_004911c0();
  }
  *(undefined4 *)(DAT_005e5010 + 0x21cc) = DAT_004c66b8;
  iVar1 = FUN_00414160(0,gMainWindowHandle,FUN_0046e970,0,FUN_0046ea90,0,&DAT_005e5010);
  if (iVar1 == 0) {
    FUN_00470960();
    return 0;
  }
  *(undefined4 *)(DAT_005e5010 + 0x2524) = 1;
  iVar1 = FUN_00482470(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
                       *(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
  if (iVar1 == 0) {
    return 0;
  }
  if (DAT_004d8104 != 0) {
    FreeMemory(DAT_004d8104);
    DAT_004d8104 = 0;
  }
  FUN_0043e140();
  FUN_00414850(0);
  FUN_0043e140();
  FUN_00414850(0);
  return 1;
}



undefined4 FUN_004717f0(HWND param_1,int param_2,ushort param_3)

{
  HWND pHVar1;
  LRESULT LVar2;
  code *pcVar3;
  UINT UVar4;
  undefined4 uVar5;
  WPARAM WVar6;
  undefined4 uVar7;
  LPARAM LVar8;
  undefined4 uVar9;
  
  if ((param_2 != 0x30) && (param_2 != 0x110)) {
    if ((param_2 == 0x111) && (DAT_00598d44 == '\0')) {
      if (param_3 < 0x499) {
        if (param_3 != 0x498) {
          if (param_3 == 1) {
            LVar8 = 0;
            WVar6 = 0;
            UVar4 = 0xf0;
            pHVar1 = GetDlgItem(param_1,0x49a);
            LVar2 = SendMessageA(pHVar1,UVar4,WVar6,LVar8);
            if (LVar2 != 1) {
              LVar8 = 0;
              WVar6 = 0;
              UVar4 = 0xf0;
              pHVar1 = GetDlgItem(param_1,0x498);
              LVar2 = SendMessageA(pHVar1,UVar4,WVar6,LVar8);
              DAT_005df300 = (LVar2 != 1) + 1;
              EndDialog(param_1,1);
              return 0;
            }
            DAT_005df300 = 0;
            EndDialog(param_1,1);
            return 0;
          }
          if (param_3 != 2) {
            return 0;
          }
          EndDialog(param_1,0);
          return 0;
        }
        LVar8 = 0;
        WVar6 = 0;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x49a);
        pcVar3 = SendMessageA_exref;
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
        LVar8 = 0;
        WVar6 = 1;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x498);
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
      }
      else if (param_3 == 0x499) {
        LVar8 = 0;
        WVar6 = 0;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x49a);
        pcVar3 = SendMessageA_exref;
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
        LVar8 = 0;
        WVar6 = 0;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x498);
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
      }
      else {
        if (param_3 != 0x49a) {
          return 0;
        }
        LVar8 = 0;
        WVar6 = 1;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x49a);
        pcVar3 = SendMessageA_exref;
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
        LVar8 = 0;
        WVar6 = 0;
        UVar4 = 0xf1;
        pHVar1 = GetDlgItem(param_1,0x498);
        SendMessageA(pHVar1,UVar4,WVar6,LVar8);
      }
      pHVar1 = GetDlgItem(param_1,0x499);
      (*pcVar3)(pHVar1);
    }
    return 0;
  }
  pHVar1 = GetDlgItem(param_1,0x4a9);
  SetWindowTextA(pHVar1,DAT_005df028);
  pHVar1 = GetDlgItem(param_1,1);
  SetWindowTextA(pHVar1,DAT_005df07c);
  pHVar1 = GetDlgItem(param_1,2);
  SetWindowTextA(pHVar1,DAT_005df03c);
  pHVar1 = GetDlgItem(param_1,0x49a);
  SetWindowTextA(pHVar1,DAT_005df0d4);
  pHVar1 = GetDlgItem(param_1,0x498);
  SetWindowTextA(pHVar1,DAT_005df0d8);
  pHVar1 = GetDlgItem(param_1,0x499);
  SetWindowTextA(pHVar1,DAT_005df0dc);
  if (DAT_005df300 == 0) {
    LVar8 = 0;
    WVar6 = 1;
    UVar4 = 0xf1;
    pHVar1 = GetDlgItem(param_1,0x49a);
    pcVar3 = SendMessageA_exref;
    SendMessageA(pHVar1,UVar4,WVar6,LVar8);
    uVar7 = 0;
  }
  else {
    if (DAT_005df300 != 1) {
      if (DAT_005df300 != 2) {
        return 1;
      }
      LVar8 = 0;
      WVar6 = 0;
      UVar4 = 0xf1;
      pHVar1 = GetDlgItem(param_1,0x49a);
      pcVar3 = SendMessageA_exref;
      SendMessageA(pHVar1,UVar4,WVar6,LVar8);
      LVar8 = 0;
      WVar6 = 0;
      UVar4 = 0xf1;
      pHVar1 = GetDlgItem(param_1,0x498);
      SendMessageA(pHVar1,UVar4,WVar6,LVar8);
      uVar7 = 1;
      goto LAB_00471abd;
    }
    LVar8 = 0;
    WVar6 = 0;
    UVar4 = 0xf1;
    pHVar1 = GetDlgItem(param_1,0x49a);
    pcVar3 = SendMessageA_exref;
    SendMessageA(pHVar1,UVar4,WVar6,LVar8);
    uVar7 = 1;
  }
  uVar9 = 0;
  uVar5 = 0xf1;
  pHVar1 = GetDlgItem(param_1,0x498);
  (*pcVar3)(pHVar1,uVar5,uVar7,uVar9);
  uVar7 = 0;
LAB_00471abd:
  uVar9 = 0;
  uVar5 = 0xf1;
  pHVar1 = GetDlgItem(param_1,0x499);
  (*pcVar3)(pHVar1,uVar5,uVar7,uVar9);
  return 1;
}



void FUN_00471ae0(undefined4 param_1,int param_2)

{
  float *pfVar1;
  byte bVar2;
  int iVar3;
  float *pfVar4;
  int iVar5;
  uint uVar6;
  float unaff_EBX;
  uint unaff_ESI;
  undefined4 *puVar7;
  undefined4 *puVar8;
  bool bVar9;
  float *local_9c [16];
  float local_5c;
  float local_58;
  float local_54;
  undefined4 local_50;
  float local_4c;
  undefined4 local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float **local_20;
  float *local_1c;
  float *local_18;
  float **local_14;
  float fVar10;
  float fVar11;
  
  AdjustStackForLargeAllocations();
  *(float *)(param_2 + 0x2dd) = *(float *)(param_2 + 0x2e1) + *(float *)(param_2 + 0x2dd);
  if (*(int *)(param_2 + 0x23d) != 0) {
    do {
      iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
      pfVar4 = *(float **)(iVar3 + 0x5b);
      puVar7 = (undefined4 *)(iVar3 + 6);
      puVar8 = (undefined4 *)((int)pfVar4 + 0x3f);
      for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
        *puVar8 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar8 = puVar8 + 1;
      }
      local_14 = *(float ***)((int)pfVar4 + 0x1e);
      local_18 = pfVar4;
      if (local_14 == (float **)0xffffffff) {
        local_20 = (float **)0x471b4f;
        local_1c = (float *)param_2;
        FUN_00472320();
        unaff_EBX = *(float *)(*(int *)((int)pfVar4 + 0x7f) +
                               (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32 + 8);
        fVar10 = *(float *)(*(int *)((int)pfVar4 + 0x7f) + 0x14 +
                           (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32);
        iVar3 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d);
        uVar6 = unaff_ESI;
        if (((iVar3 != 0) && ((*(byte *)(iVar3 + 1) & 0x18) != 0)) &&
           ((*(char *)(*(int *)(iVar3 + 0x17) + 6) != '\0' &&
            ((DAT_005e4ef0 != 0 &&
             (iVar5 = *(int *)(*(int *)(iVar3 + 0x17) + 7) * 0x27, iVar3 = iVar5 + DAT_005e4ef0,
             *(char *)(iVar5 + 0x25 + DAT_005e4ef0) != '\0')))))) {
          local_14 = *(float ***)(iVar3 + 0x18);
          local_18 = *(float **)(iVar3 + 0x20);
          local_1c = (float *)0x471be3;
          FUN_0048b690();
          *(undefined *)
           (*(int *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d) +
                    0x17) + 6) = 0;
        }
        iVar3 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d);
        unaff_ESI = uVar6;
        if (((((iVar3 != 0) && (iVar5 = *(int *)(iVar3 + 0x17), iVar5 != 0)) &&
             (*(char *)(iVar5 + 6) != '\0')) &&
            (((*(ushort *)(iVar3 + 1) & 8) != 0 && ((*(ushort *)(iVar3 + 1) & 0x10) == 0)))) &&
           (*(char *)(iVar5 + 6) == '\x01')) {
          *(undefined *)(iVar5 + 6) = 2;
        }
      }
      else {
        bVar2 = *(byte *)((int)pfVar4 + 0x22);
        fVar10 = *(float *)(param_2 + 0x2dd) - *(float *)((int)pfVar4 + 0x27);
        pfVar1 = (float *)(*(int *)((int)pfVar4 + 0x7f) + 0x10 + (uint)bVar2 * 0x32);
        iVar3 = *(int *)((int)pfVar4 + 0x83) + (int)local_14 * 0x2e;
        if (fVar10 < *(float *)(*(int *)((int)pfVar4 + 0x7f) + 0x10 + (uint)bVar2 * 0x32) +
                     *(float *)((int)pfVar4 + 0x23) +
                     *(float *)(*(int *)((int)pfVar4 + 0x83) + 10 + (int)local_14 * 0x2e)) {
          fVar10 = fVar10 - *(float *)((int)pfVar4 + 0x23);
          local_28 = *(float *)(iVar3 + 10);
          if (*pfVar1 <= fVar10) {
            fVar10 = fVar10 - *pfVar1;
            if (*(int *)((int)pfVar4 + 0x1a) == 1) {
              fVar10 = local_28 - fVar10;
            }
            fVar10 = (*(float *)(iVar3 + 0xe) -
                     ((*(float *)(iVar3 + 0x12) - *(float *)(iVar3 + 0xe)) / local_28) * fVar10 *
                     -0.5) * fVar10;
            fVar11 = fVar10;
            if ((fVar10 != 0.0) &&
               (iVar3 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d),
               iVar3 != 0)) {
              iVar3 = *(int *)(iVar3 + 0x17);
              if ((iVar3 != 0) && (*(char *)(iVar3 + 6) == '\x02')) {
                *(undefined *)(iVar3 + 6) = 0;
              }
              iVar3 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d);
              if (((*(byte *)(iVar3 + 1) & 8) != 0) &&
                 (iVar3 = *(int *)(iVar3 + 0x17), *(char *)(iVar3 + 6) == '\0')) {
                if (DAT_005e4ef0 != 0) {
                  iVar3 = *(int *)(iVar3 + 7) * 0x27;
                  local_20 = (float **)(iVar3 + DAT_005e4ef0);
                  local_14 = (float **)
                             CONCAT31((int3)((uint)DAT_005e4ef0 >> 8),
                                      *(undefined *)(iVar3 + 0x25 + DAT_005e4ef0));
                  local_1c = *(float **)((int)local_20 + 0x18);
                  local_18 = (float *)0x3;
                  local_24 = 6.531206e-39;
                  FUN_00475bf0();
                }
                *(undefined *)
                 (*(int *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d)
                          + 0x17) + 6) = 1;
              }
            }
            if (*(int *)((int)pfVar4 + 0x16) == 1) {
              local_18 = (float *)(*(int *)((int)pfVar4 + 0x83) +
                                  *(int *)((int)pfVar4 + 0x1e) * 0x2e);
              local_20 = &local_18;
              local_24 = 6.531304e-39;
              local_1c = pfVar4;
              local_14 = (float **)fVar10;
              FUN_00472480();
            }
            else {
              uVar6 = (uint)*(byte *)(*(int *)((int)pfVar4 + 0x83) + 8 +
                                     *(int *)((int)pfVar4 + 0x1e) * 0x2e);
              fVar10 = *(float *)(*(int *)((int)pfVar4 + 0x7f) + uVar6 * 0x32);
              unaff_EBX = *(float *)(*(int *)((int)pfVar4 + 0x7f) + uVar6 * 0x32 + 8);
              uVar6 = (uint)*(byte *)(*(int *)((int)pfVar4 + 0x83) + 9 +
                                     *(int *)((int)pfVar4 + 0x1e) * 0x2e);
              iVar3 = *(int *)((int)pfVar4 + 0x7f) + uVar6 * 0x32;
              local_4c = *(float *)(*(int *)((int)pfVar4 + 0x7f) + uVar6 * 0x32);
              local_48 = *(undefined4 *)(iVar3 + 4);
              local_44 = *(float *)(iVar3 + 8);
              local_18 = (float *)((local_4c - fVar10) * fVar11 + fVar10);
              unaff_EBX = (local_44 - unaff_EBX) * fVar11 + unaff_EBX;
            }
            if (*pfVar4 != 0.0) {
              local_14 = (float **)&local_24;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              local_30 = *(float *)(iVar3 + 0x3a);
              local_2c = *(float *)(iVar3 + 0x3e);
              local_34 = *(float *)(iVar3 + 0x36);
              local_24 = (float)local_18 - local_34;
              local_20 = (float **)((float)local_14 - local_30);
              local_1c = (float *)(unaff_EBX - local_2c);
              local_18 = (float *)0x471f97;
              FUN_0045eab0();
              pfVar1 = (float *)((int)pfVar4 + 0x2b);
              if (-0.9 <= local_24 * *(float *)((int)pfVar4 + 0x2b) +
                          (float)local_20 * *(float *)((int)pfVar4 + 0x2f) +
                          (float)local_1c * *(float *)((int)pfVar4 + 0x33)) {
                *pfVar1 = local_24 * 0.5 + *pfVar1;
                *(float *)((int)pfVar4 + 0x2f) =
                     (float)local_20 * 0.5 + *(float *)((int)pfVar4 + 0x2f);
                *(float *)((int)pfVar4 + 0x33) =
                     (float)local_1c * 0.5 + *(float *)((int)pfVar4 + 0x33);
                local_18 = (float *)0x47201c;
                local_14 = (float **)pfVar1;
                FUN_0045eab0();
              }
              else {
                *pfVar1 = local_24;
                *(float ***)((int)pfVar4 + 0x2f) = local_20;
                *(float **)((int)pfVar4 + 0x33) = local_1c;
              }
              local_40 = *(float *)((int)pfVar4 + 0x33);
              local_14 = (float **)&local_40;
              local_38 = -*pfVar1;
              local_3c = 0.0;
              local_18 = (float *)0x47203c;
              FUN_0045eab0();
              local_14 = (float **)&local_40;
              local_1c = &local_5c;
              local_20 = (float **)0x47204d;
              local_18 = pfVar1;
              FUN_0045eb50();
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 6) = *(float *)(iVar3 + 0x95) * local_40;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 10) = *(float *)(iVar3 + 0x95) * local_3c;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0xe) = *(float *)(iVar3 + 0x95) * local_38;
              *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x12) = 0;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x16) = *(float *)(iVar3 + 0x95) * local_5c;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x1a) = *(float *)(iVar3 + 0x95) * local_58;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x1e) = *(float *)(iVar3 + 0x95) * local_54;
              *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x22) = 0;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x26) = *(float *)(iVar3 + 0x95) * *pfVar1;
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x2a) = *(float *)(iVar3 + 0x95) * *(float *)((int)pfVar4 + 0x2f);
              iVar3 = *(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
              *(float *)(iVar3 + 0x2e) = *(float *)(iVar3 + 0x95) * *(float *)((int)pfVar4 + 0x33);
              *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x32) = 0;
              *(float *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x36) = local_34;
              *(float *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x3a) = local_30;
              *(float *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x3e) = local_2c;
              *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x42) =
                   0x3f800000;
            }
            iVar3 = *(int *)((int)pfVar4 + 0x83) + *(int *)((int)pfVar4 + 0x1e) * 0x2e;
            fVar10 = *(float *)(*(int *)((int)pfVar4 + 0x7f) + 0x14 +
                               (uint)*(byte *)(iVar3 + 8) * 0x32);
            fVar10 = (*(float *)(*(int *)((int)pfVar4 + 0x7f) + 0x14 +
                                (uint)*(byte *)(iVar3 + 9) * 0x32) - fVar10) * fVar11 + fVar10;
            goto LAB_004721b8;
          }
          iVar3 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d);
          if ((((iVar3 != 0) && ((*(byte *)(iVar3 + 1) & 0x18) != 0)) &&
              (*(char *)(*(int *)(iVar3 + 0x17) + 6) != '\0')) &&
             ((DAT_005e4ef0 != 0 &&
              (iVar5 = *(int *)(*(int *)(iVar3 + 0x17) + 7) * 0x27, iVar3 = iVar5 + DAT_005e4ef0,
              *(char *)(iVar5 + 0x25 + DAT_005e4ef0) != '\0')))) {
            local_14 = *(float ***)(iVar3 + 0x18);
            local_18 = *(float **)(iVar3 + 0x20);
            local_1c = (float *)0x471d49;
            FUN_0048b690();
            *(undefined *)
             (*(int *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + unaff_ESI * 4) + 0x9d) +
                      0x17) + 6) = 0;
          }
        }
        else {
          local_50 = CONCAT31(local_50._1_3_,bVar2);
          if (*(int *)((int)pfVar4 + 0x1a) == 0) {
            *(undefined *)((int)pfVar4 + 0x22) = *(undefined *)(iVar3 + 9);
          }
          else {
            *(undefined *)((int)pfVar4 + 0x22) = *(undefined *)(iVar3 + 8);
          }
          local_14 = (float **)(uint)bVar2;
          local_1c = (float *)param_2;
          local_20 = (float **)0x471ccf;
          FUN_00472320();
        }
        unaff_EBX = *(float *)(*(int *)((int)pfVar4 + 0x7f) +
                               (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32 + 8);
        fVar10 = *(float *)(*(int *)((int)pfVar4 + 0x7f) + 0x14 +
                           (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32);
      }
LAB_004721b8:
      local_14 = &local_18;
      local_18 = *(float **)(*(int *)(param_2 + 0x241) + unaff_ESI * 4);
      local_1c = (float *)param_2;
      local_20 = (float **)0x4721d2;
      FUN_004725c0();
      local_1c = (float *)fVar10;
      if (((float)local_1c == 0.0) || (*(int *)((int)pfVar4 + 0x37) != 0)) {
        bVar9 = *(int *)((int)pfVar4 + 0x37) != 0;
        if (bVar9) {
          if (!bVar9) goto LAB_004721ff;
          fVar10 = (float)local_1c * 0.01745329;
          local_1c = (float *)(fVar10 - *(float *)((int)pfVar4 + 0x3b));
          *(float *)((int)pfVar4 + 0x3b) = fVar10;
          local_18 = *(float **)
                      (*(int *)((int)pfVar4 + 0x7f) + 0x18 +
                      (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32);
          goto LAB_0047227c;
        }
      }
      else {
LAB_004721ff:
        if (*(int *)((int)pfVar4 + 0x1a) == 1) {
          local_1c = (float *)-(float)local_1c;
          local_18 = *(float **)
                      (*(int *)((int)pfVar4 + 0x7f) + 0x18 +
                      (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32);
        }
        else {
          local_18 = *(float **)
                      (*(int *)((int)pfVar4 + 0x7f) + 0x18 +
                      (uint)*(byte *)((int)pfVar4 + 0x22) * 0x32);
        }
LAB_0047227c:
        local_14 = local_9c;
        local_20 = (float **)0x472281;
        FUN_00490590();
        *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x36) = 0;
        *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x3a) = 0;
        *(undefined4 *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 0x3e) = 0;
        local_14 = local_9c;
        local_1c = (float *)(*(int *)(*(int *)(param_2 + 0x241) + unaff_ESI * 4) + 6);
        local_20 = (float **)0x4722c8;
        local_18 = local_1c;
        FUN_0045ecb0();
      }
      iVar3 = unaff_ESI * 4;
      unaff_ESI = unaff_ESI + 1;
      *(float **)(*(int *)(*(int *)(param_2 + 0x241) + iVar3) + 0x36) = local_18;
      *(float ***)(*(int *)(*(int *)(param_2 + 0x241) + -4 + unaff_ESI * 4) + 0x3a) = local_14;
      *(float *)(*(int *)(*(int *)(param_2 + 0x241) + -4 + unaff_ESI * 4) + 0x3e) = unaff_EBX;
    } while (unaff_ESI < *(uint *)(param_2 + 0x23d));
  }
  return;
}



void FUN_00472320(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  iVar2 = param_2;
  AdjustStackForLargeAllocations();
  uVar5 = 0;
  do {
    if (*(int *)(iVar2 + 0x1a) == 1) {
      iVar1 = *(int *)(iVar2 + 0x7f) + (uint)*(byte *)(iVar2 + 0x22) * 0x32;
      param_2 = *(int *)(iVar1 + 0x2e);
      uVar3 = *(uint *)(iVar1 + 0x20);
    }
    else {
      iVar1 = *(int *)(iVar2 + 0x7f) + (uint)*(byte *)(iVar2 + 0x22) * 0x32;
      param_2 = *(int *)(iVar1 + 0x2a);
      uVar3 = *(uint *)(iVar1 + 0x1c);
    }
    uVar4 = 0;
    if (uVar3 != 0) {
      do {
        iVar1 = *(int *)(*(int *)(iVar2 + 0x83) + (uint)*(byte *)(uVar4 + param_2) * 0x2e);
        if ((iVar1 == -1) ||
           ((uint)(*(char *)(*(int *)(param_1 + 0x247) + iVar1 * 6) == '\x01') !=
            *(uint *)(*(int *)(iVar2 + 0x83) + (uint)*(byte *)(uVar4 + param_2) * 0x2e + 4))) {
          if ((-1 < *(int *)(iVar2 + 0x1e)) && (param_3 != -1)) {
            *(float *)(iVar2 + 0x23) =
                 *(float *)(param_1 + 0x2dd) -
                 (*(float *)(param_1 + 0x2dd) -
                 (*(float *)(*(int *)(iVar2 + 0x83) + 10 + *(int *)(iVar2 + 0x1e) * 0x2e) +
                  *(float *)(*(int *)(iVar2 + 0x7f) + 0x10 + param_3 * 0x32) +
                 *(float *)(iVar2 + 0x23)));
            *(uint *)(iVar2 + 0x1e) = (uint)*(byte *)(uVar4 + param_2);
            return;
          }
          *(undefined4 *)(iVar2 + 0x23) = *(undefined4 *)(param_1 + 0x2dd);
          *(uint *)(iVar2 + 0x1e) = (uint)*(byte *)(uVar4 + param_2);
          return;
        }
        uVar4 = uVar4 + 1;
      } while (uVar4 < uVar3);
    }
    if (*(int *)(iVar2 + 0x12) == 0) {
      *(uint *)(iVar2 + 0x1a) = (uint)(*(int *)(iVar2 + 0x1a) != 1);
    }
    else {
      if (*(int *)(iVar2 + 0x12) == 1) {
        *(undefined *)(iVar2 + 0x22) = 0;
      }
      uVar5 = 2;
    }
    uVar5 = uVar5 + 1;
  } while (uVar5 < 2);
  *(undefined4 *)(iVar2 + 0x1e) = 0xffffffff;
  return;
}



void FUN_00472480(float *param_1,int param_2,int param_3,float param_4)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_4 * param_4;
  fVar2 = fVar1 * param_4;
  fVar4 = fVar1 * 3.0 - (fVar2 + fVar2);
  fVar3 = ((fVar2 + fVar2) - fVar1 * 3.0) - -1.0;
  param_4 = (fVar2 - (fVar1 + fVar1)) + param_4;
  fVar2 = fVar2 - fVar1;
  *param_1 = *(float *)(param_3 + 0x22) * fVar2 +
             *(float *)(param_3 + 0x16) * param_4 +
             *(float *)(*(int *)(param_2 + 0x7f) + (uint)*(byte *)(param_3 + 8) * 0x32) * fVar3 +
             *(float *)(*(int *)(param_2 + 0x7f) + (uint)*(byte *)(param_3 + 9) * 0x32) * fVar4;
  param_1[1] = *(float *)(param_3 + 0x26) * fVar2 +
               *(float *)(param_3 + 0x1a) * param_4 +
               *(float *)(*(int *)(param_2 + 0x7f) + 4 + (uint)*(byte *)(param_3 + 8) * 0x32) *
               fVar3 + *(float *)(*(int *)(param_2 + 0x7f) + 4 + (uint)*(byte *)(param_3 + 9) * 0x32
                                 ) * fVar4;
  param_1[2] = *(float *)(param_3 + 0x2a) * fVar2 +
               *(float *)(param_3 + 0x1e) * param_4 +
               *(float *)(*(int *)(param_2 + 0x7f) + 8 + (uint)*(byte *)(param_3 + 8) * 0x32) *
               fVar3 + *(float *)(*(int *)(param_2 + 0x7f) + 8 + (uint)*(byte *)(param_3 + 9) * 0x32
                                 ) * fVar4;
  return;
}



void FUN_004725c0(int param_1,int param_2,float *param_3)

{
  short *psVar1;
  ushort uVar2;
  ushort *puVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  
  AdjustStackForLargeAllocations();
  fVar4 = *param_3 - *(float *)(param_2 + 0x36);
  fVar5 = param_3[1] - *(float *)(param_2 + 0x3a);
  fVar6 = param_3[2] - *(float *)(param_2 + 0x3e);
  *(float *)(param_2 + 0x7d) = fVar5 + *(float *)(param_2 + 0x7d);
  *(float *)(param_2 + 0x89) = fVar5 + *(float *)(param_2 + 0x89);
  if ((fVar4 == 0.0) && (fVar6 == 0.0)) {
    return;
  }
  *(float *)(param_2 + 0x79) = fVar4 + *(float *)(param_2 + 0x79);
  uVar2 = *(ushort *)(param_2 + 0x5f);
  *(float *)(param_2 + 0x85) = fVar4 + *(float *)(param_2 + 0x85);
  *(float *)(param_2 + 0x81) = fVar6 + *(float *)(param_2 + 0x81);
  *(float *)(param_2 + 0x8d) = fVar6 + *(float *)(param_2 + 0x8d);
  while (uVar2 != 0) {
    iVar7 = (uint)uVar2 * 10;
    iVar13 = *(int *)(param_1 + 0x234) + iVar7;
    puVar3 = *(ushort **)(iVar13 + -6);
    if (puVar3 != (ushort *)0x0) {
      uVar2 = *(ushort *)(iVar13 + -8);
      *puVar3 = uVar2;
      if (uVar2 != 0) {
        *(undefined4 *)(*(int *)(param_1 + 0x234) + -6 + (uint)uVar2 * 10) =
             *(undefined4 *)(*(int *)(param_1 + 0x234) + -6 + iVar7);
      }
    }
    uVar2 = *(ushort *)(iVar7 + -2 + *(int *)(param_1 + 0x234));
  }
  iVar8 = __ftol();
  iVar9 = __ftol();
  iVar10 = __ftol();
  iVar11 = __ftol();
  iVar7 = *(ushort *)(param_2 + 0x5f) - 1;
  iVar13 = iVar7;
  for (; iVar8 < iVar9 + 1; iVar8 = iVar8 + 1) {
    if (iVar10 < iVar11 + 1) {
      iVar15 = iVar7 * 10;
      param_3 = (float *)iVar10;
      do {
        iVar12 = FUN_0045cad0(DAT_00598ff0,param_3,iVar8);
        if (iVar12 != 0) {
          psVar1 = (short *)(iVar12 + 10);
          iVar14 = iVar7;
          if (*(ushort *)(iVar12 + 10) != 0) {
            *(int *)(*(int *)(param_1 + 0x234) + -6 + (uint)*(ushort *)(iVar12 + 10) * 10) =
                 iVar15 + 2 + *(int *)(param_1 + 0x234);
            iVar14 = iVar13;
          }
          *(short *)(iVar15 + 2 + *(int *)(param_1 + 0x234)) = *psVar1;
          *psVar1 = (short)iVar14 + 1;
          *(short **)(iVar15 + 4 + *(int *)(param_1 + 0x234)) = psVar1;
          iVar7 = iVar14 + 1;
          *(short *)(iVar15 + 8 + *(int *)(param_1 + 0x234)) = (short)iVar14 + 2;
          iVar15 = iVar15 + 10;
          iVar13 = iVar7;
        }
        param_3 = (float *)((int)param_3 + 1);
      } while ((int)param_3 < iVar11 + 1);
    }
  }
  *(undefined2 *)(*(int *)(param_1 + 0x234) + -2 + iVar7 * 10) = 0;
  return;
}



void FUN_00472830(int param_1)

{
  int iVar1;
  ushort uVar2;
  ushort *puVar3;
  ushort *puVar4;
  int iVar5;
  undefined4 *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  int iVar9;
  uint uVar10;
  uint *puVar11;
  int iVar12;
  
  iVar5 = param_1;
  AdjustStackForLargeAllocations();
  iVar12 = 0;
  if (*(short *)(param_1 + 0x24b) != 0) {
    iVar9 = 0;
    do {
      if (*(float *)(iVar9 + 2 + *(int *)(param_1 + 0x24f)) <= *(float *)(param_1 + 0x2dd)) {
        iVar1 = *(int *)(param_1 + 0x247) + (uint)*(ushort *)(iVar9 + *(int *)(param_1 + 0x24f)) * 6
        ;
        *(bool *)iVar1 = *(char *)(iVar1 + 1) == '\x02';
        *(short *)(param_1 + 0x24b) = *(short *)(param_1 + 0x24b) + -1;
        puVar8 = (undefined4 *)(*(int *)(param_1 + 0x24f) + (uint)*(ushort *)(param_1 + 0x24b) * 6);
        puVar6 = (undefined4 *)(*(int *)(param_1 + 0x24f) + iVar9);
        iVar12 = iVar12 + -1;
        iVar9 = iVar9 + -6;
        *puVar6 = *puVar8;
        *(undefined2 *)(puVar6 + 1) = *(undefined2 *)(puVar8 + 1);
      }
      iVar12 = iVar12 + 1;
      iVar9 = iVar9 + 6;
    } while (iVar12 < (int)(uint)*(ushort *)(param_1 + 0x24b));
  }
  iVar12 = 0;
  if (*(short *)(param_1 + 0x253) != 0) {
    iVar9 = 0;
    do {
      puVar4 = (ushort *)(iVar9 + *(int *)(iVar5 + 0x255));
      uVar2 = *puVar4;
      uVar7 = (uint)puVar4[3];
      puVar3 = *(ushort **)(puVar4 + 4);
      iVar1 = *(int *)(puVar4 + 1);
      if (iVar1 == 1) {
        uVar10 = 0;
        param_1 = 1;
        if (uVar7 != 0) {
          do {
            if (*(char *)(*(int *)(iVar5 + 0x247) + (uint)puVar3[uVar10] * 6) == '\0') {
              param_1 = 0;
              uVar10 = uVar7;
            }
            uVar10 = uVar10 + 1;
          } while ((int)uVar10 < (int)uVar7);
        }
        FUN_00472ec0(iVar5 + 0x245,uVar2,param_1,iVar5);
        uVar7 = (uint)uVar2;
        if ((((*(char *)(*(int *)(iVar5 + 0x247) + uVar7 * 6) == '\x01') && (DAT_00598e18 == 0)) &&
            (*(int *)(DAT_005d87e0 + uVar7 * 4) != 0)) &&
           (FUN_004625e0(1,DAT_005e45e4 + 0x90,DAT_005e45e4 + 0x4c,uVar7,0), DAT_00598944 == 0)) {
          puVar11 = (uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
          *puVar11 = *puVar11 | 0x2000000;
        }
      }
      else if (iVar1 == 2) {
        uVar10 = 0;
        param_1 = 0;
        if (uVar7 != 0) {
          do {
            if (*(char *)(*(int *)(iVar5 + 0x247) + (uint)puVar3[uVar10] * 6) == '\x01') {
              param_1 = 1;
              uVar10 = uVar7;
            }
            uVar10 = uVar10 + 1;
          } while ((int)uVar10 < (int)uVar7);
        }
        FUN_00472ec0(iVar5 + 0x245,uVar2,param_1,iVar5);
      }
      else if (iVar1 == 3) {
        FUN_00472ec0(iVar5 + 0x245,uVar2,
                     *(char *)(*(int *)(iVar5 + 0x247) + (uint)*puVar3 * 6) != '\x01',iVar5);
      }
      iVar12 = iVar12 + 1;
      iVar9 = iVar9 + 0xc;
    } while (iVar12 < (int)(uint)*(ushort *)(iVar5 + 0x253));
  }
  iVar12 = 0;
  if (*(short *)(iVar5 + 0x259) != 0) {
    puVar11 = (uint *)(iVar5 + 0x25d);
    puVar8 = (undefined4 *)(iVar5 + 0x25b);
    do {
      uVar7 = *puVar11;
      if ((uVar7 & 1) == 0) {
        *puVar11 = uVar7 | 1;
      }
      else {
        if ((uVar7 & 2) != 0) {
          *(undefined *)(*(int *)(iVar5 + 0x247) + (uint)*(ushort *)puVar8 * 6) = 0;
        }
        *(short *)(iVar5 + 0x259) = *(short *)(iVar5 + 0x259) + -1;
        puVar6 = (undefined4 *)(iVar5 + 0x25b + (uint)*(ushort *)(iVar5 + 0x259) * 6);
        *puVar8 = *puVar6;
        *(ushort *)(puVar8 + 1) = *(ushort *)(puVar6 + 1);
        iVar12 = iVar12 + -1;
        puVar11 = (uint *)((int)puVar11 + -6);
        puVar8 = (undefined4 *)((int)puVar8 + -6);
      }
      iVar12 = iVar12 + 1;
      puVar8 = (undefined4 *)((int)puVar8 + 6);
      puVar11 = (uint *)((int)puVar11 + 6);
    } while (iVar12 < (int)(uint)*(ushort *)(iVar5 + 0x259));
  }
  if ((DAT_00598e18 != 0) &&
     (iVar5 = FUN_004625e0(0,DAT_005e45e4 + 0x90,DAT_005e45e4 + 0x4c,0,0), iVar5 != 0)) {
    DAT_00598e18 = 0;
    if ((DAT_005d8740 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245)) &&
       (iVar5 = *(int *)(DAT_005d87e0 + DAT_005d8740 * 4), iVar5 != 0)) {
      FreeMemory(iVar5);
      *(undefined4 *)(DAT_005d87e0 + DAT_005d8740 * 4) = 0;
    }
    if ((DAT_00598944 == 0) &&
       (iVar5 = *(int *)(*(int *)(DAT_005df318 + 4) + 4),
       *(uint *)(iVar5 + 0x8a) = *(uint *)(iVar5 + 0x8a) & 0xfdffffff, DAT_004cea48 != -1)) {
      FUN_004625e0(1,DAT_005e45e4 + 0x90,DAT_005e45e4 + 0x4c,DAT_004cea48,0);
      DAT_004cea48 = -1;
    }
  }
  return;
}



void FUN_00472bb0(int param_1,int param_2,int param_3,int param_4)

{
  uint *puVar1;
  int iVar2;
  ushort uVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  bool bVar7;
  int *piVar8;
  uint uVar9;
  uint uVar10;
  
  AdjustStackForLargeAllocations();
  if ((((((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 4) == 0) &&
        (piVar8 = *(int **)(param_2 + 0x99), piVar8 != (int *)0x0)) && (param_4 == *piVar8)) &&
      ((*(int *)(param_2 + 0x9d) == 0 || (*(int *)(*(int *)(param_2 + 0x9d) + 0xf) != 0x104)))) &&
     (param_4 = 0, 0 < piVar8[1])) {
    do {
      uVar10 = 0;
      bVar7 = false;
      iVar4 = *(int *)(piVar8[3] + param_4 * 4);
      iVar5 = *(int *)(param_3 + 0x247);
      uVar9 = (uint)*(ushort *)(param_3 + 0x259);
      if (uVar9 != 0) {
        do {
          iVar2 = param_3 + uVar10 * 6;
          if ((uint)*(ushort *)(param_3 + 0x25b + uVar10 * 6) ==
              *(uint *)(*(int *)(*(int *)(param_2 + 0x99) + 0xc) + param_4 * 4)) {
            bVar7 = true;
            *(uint *)(iVar2 + 0x25d) = *(uint *)(iVar2 + 0x25d) & 2;
            uVar9 = (uint)*(ushort *)(param_3 + 0x259);
            uVar10 = uVar9;
          }
          uVar10 = uVar10 + 1;
        } while ((int)uVar10 < (int)uVar9);
      }
      if ((!bVar7) && (*(ushort *)(param_3 + 0x259) < 0x14)) {
        *(undefined2 *)(param_3 + 0x25b + (uint)*(ushort *)(param_3 + 0x259) * 6) =
             *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x99) + 0xc) + param_4 * 4);
        uVar3 = *(ushort *)(param_3 + 0x259);
        *(undefined4 *)(param_3 + 0x25d + (uint)uVar3 * 6) = 0;
        iVar2 = *(int *)(param_2 + 0x99);
        uVar6 = *(undefined4 *)(*(int *)(iVar2 + 8) + param_4 * 4);
        switch(uVar6) {
        case 0:
          FUN_00472ec0(param_3 + 0x245,
                       CONCAT22((short)((uint)iVar2 >> 0x10),
                                *(undefined2 *)(*(int *)(iVar2 + 0xc) + param_4 * 4)),1,param_3);
          if (((DAT_00598e18 == 0) &&
              (iVar4 = *(int *)(*(int *)(*(int *)(param_2 + 0x99) + 0xc) + param_4 * 4),
              *(int *)(DAT_005d87e0 + iVar4 * 4) != 0)) && (param_1 == *(int *)(DAT_005df318 + 4)))
          {
            FUN_004625e0(1,DAT_005e45e4 + 0x90,DAT_005e45e4 + 0x4c,iVar4,0);
            puVar1 = (uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a);
            *puVar1 = *puVar1 | 0x2000000;
          }
          if (((DAT_00598944 != 0) && (DAT_00598924 != 0)) &&
             ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0)) {
            FUN_00466530(0x10,1,*(undefined4 *)
                                 (*(int *)(*(int *)(param_2 + 0x99) + 0xc) + param_4 * 4),0,0,0);
          }
          break;
        case 1:
          FUN_00472ec0(param_3 + 0x245,
                       CONCAT22((short)((uint)uVar3 * 3 >> 0x10),
                                *(undefined2 *)(*(int *)(iVar2 + 0xc) + param_4 * 4)),0,param_3);
          if (((DAT_00598944 != 0) && (DAT_00598924 != 0)) &&
             ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 1) != 0)) {
            FUN_00466530(0x10,0,*(undefined4 *)
                                 (*(int *)(*(int *)(param_2 + 0x99) + 0xc) + param_4 * 4),0,0,0);
          }
          break;
        case 2:
          FUN_00472ec0(param_3 + 0x245,*(undefined2 *)(*(int *)(iVar2 + 0xc) + param_4 * 4),
                       *(char *)(iVar5 + iVar4 * 6) != '\x01',param_3);
          break;
        case 3:
          FUN_00472ec0(param_3 + 0x245,
                       CONCAT22((short)((uint)uVar6 >> 0x10),
                                *(undefined2 *)(*(int *)(iVar2 + 0xc) + param_4 * 4)),1,param_3);
          *(undefined4 *)(param_3 + 0x25d + (uint)*(ushort *)(param_3 + 0x259) * 6) = 2;
        }
        *(short *)(param_3 + 0x259) = *(short *)(param_3 + 0x259) + 1;
      }
      piVar8 = *(int **)(param_2 + 0x99);
      param_4 = param_4 + 1;
    } while (param_4 < piVar8[1]);
  }
  return;
}



void FUN_00472ec0(int param_1,ushort param_2,uint param_3,int param_4)

{
  uint *puVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  byte bVar5;
  char cVar6;
  int iVar7;
  bool bVar8;
  int *piVar9;
  uint uVar10;
  uint uVar11;
  int iVar12;
  uint uVar13;
  ushort uVar14;
  
  AdjustStackForLargeAllocations();
  piVar9 = DAT_005aa0e6;
  uVar10 = (uint)param_2;
  pbVar2 = (byte *)(*(int *)(param_1 + 2) + uVar10 * 6);
  if (param_3 != *pbVar2) {
    if (param_3 == 1) {
      if (pbVar2[1] != 2) {
        if (pbVar2[1] == 3) {
          DAT_00598d84 = (uint)(DAT_00598d84 == 0);
        }
        if (*pbVar2 == 0) {
          bVar5 = pbVar2[1];
          if (bVar5 == 1) {
            FUN_00475bf0(&DAT_005e4933,*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6,1,0);
          }
          else if ((99 < bVar5) && (bVar5 < 0x78)) {
            FUN_0049fa20(bVar5 - 100);
          }
          if ((*(float *)(pbVar2 + 2) != 0.0) &&
             (*(ushort *)(param_4 + 0x24b) < *(ushort *)(param_4 + 0x24d))) {
            uVar11 = 0;
            uVar13 = (uint)*(ushort *)(param_4 + 0x24b);
            bVar8 = false;
            if (uVar13 != 0) {
              do {
                if (param_2 == *(ushort *)(*(int *)(param_4 + 0x24f) + uVar11 * 6)) {
                  bVar8 = true;
                  uVar11 = uVar13;
                }
                uVar11 = uVar11 + 1;
              } while ((int)uVar11 < (int)uVar13);
            }
            if (!bVar8) {
              *(ushort *)(*(int *)(param_1 + 10) + (uint)*(ushort *)(param_1 + 6) * 6) = param_2;
              *(float *)(*(int *)(param_1 + 10) + 2 + (uint)*(ushort *)(param_1 + 6) * 6) =
                   *(float *)(param_4 + 0x2dd) + *(float *)(pbVar2 + 2);
              *(short *)(param_1 + 6) = *(short *)(param_1 + 6) + 1;
            }
          }
          for (iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 10); iVar12 != 0;
              iVar12 = *(int *)(iVar12 + 10)) {
            iVar7 = *(int *)(iVar12 + 4);
            if ((((*(uint *)(iVar7 + 0x8a) & 2) != 0) && ((*(ushort *)(iVar7 + 0x8e) & 0x1000) == 0)
                ) && ((*(uint *)(iVar7 + 0x8a) & 8) == 0)) {
              iVar7 = *(int *)(iVar7 + 0x100);
              if (uVar10 == *(uint *)(iVar7 + 0x7e)) {
                cVar6 = *(char *)(iVar7 + 0x36);
              }
              else {
                if ((*(int *)(iVar7 + 0x32) != 0) || (*(uint *)(iVar7 + 0xa6) != uVar10))
                goto LAB_0047307c;
                cVar6 = *(char *)(iVar7 + 0x36);
              }
              if (cVar6 == '\0') {
                *(byte *)(iVar7 + 0x58) = *(byte *)(iVar7 + 0x58) | 2;
              }
              puVar1 = (uint *)(*(int *)(iVar12 + 4) + 0x8a);
              *puVar1 = *puVar1 | 0x400000;
              FUN_00475860(iVar12);
            }
LAB_0047307c:
          }
        }
        *pbVar2 = 1;
        return;
      }
      if ((DAT_005aa0e6 != (int *)0x0) && (*pbVar2 == 0)) {
        if (DAT_00598944 == 0) {
          iVar12 = __ftol();
          *piVar9 = *piVar9 + iVar12;
        }
        *pbVar2 = 1;
        return;
      }
    }
    else if (pbVar2[1] != 2) {
      if (*pbVar2 == 1) {
        if (*(float *)(pbVar2 + 2) != 0.0) {
          uVar14 = *(ushort *)(param_1 + 6);
          uVar11 = 0;
          uVar13 = (uint)uVar14;
          if (uVar13 != 0) {
            do {
              puVar3 = (undefined4 *)(*(int *)(param_1 + 10) + uVar11 * 6);
              if (*(ushort *)puVar3 == param_2) {
                *(ushort *)(param_1 + 6) = uVar14 - 1;
                puVar4 = (undefined4 *)(*(int *)(param_1 + 10) + (uint)(ushort)(uVar14 - 1) * 6);
                *puVar3 = *puVar4;
                *(short *)(puVar3 + 1) = *(short *)(puVar4 + 1);
                uVar14 = *(ushort *)(param_1 + 6);
                uVar13 = (uint)uVar14;
                uVar11 = uVar13;
              }
              uVar11 = uVar11 + 1;
            } while ((int)uVar11 < (int)uVar13);
          }
        }
        for (iVar12 = *(int *)(*(int *)(DAT_005df318 + 4) + 0x16); iVar12 != 0;
            iVar12 = *(int *)(iVar12 + 0x16)) {
          if (((*(byte *)(*(int *)(iVar12 + 4) + 0x8a) & 2) != 0) &&
             (*(uint *)(*(int *)(*(int *)(iVar12 + 4) + 0x100) + 0xa6) == uVar10)) {
            FUN_004759a0(iVar12);
          }
        }
      }
      *pbVar2 = 0;
    }
  }
  return;
}



void FUN_004731a0(void)

{
  size_t sVar1;
  int iVar2;
  uint uVar3;
  char *pcVar4;
  uint uVar5;
  char acStackY_105 [237];
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uStackY_18 = 0x4731c0;
  GetAbsolutePathThreadSafe();
  sVar1 = _strlen(acStackY_105 + 1);
  uStackY_18 = 0x4731e4;
  iVar2 = _strcmp(acStackY_105 + sVar1,&DAT_004d13a4);
  if (iVar2 == 0) {
    acStackY_105[sVar1] = '\0';
  }
  uVar5 = 0;
  sVar1 = _strlen(acStackY_105 + 1);
  if (sVar1 != 0) {
    do {
      if (DAT_004d3f4c < 2) {
        uVar3 = (byte)PTR_DAT_004d3d40[acStackY_105[uVar5 + 1] * 2] & 1;
      }
      else {
        uStackY_18 = 0x47321e;
        uVar3 = GetCharacterType();
      }
      if (uVar3 != 0) {
        acStackY_105[uVar5 + 1] = acStackY_105[uVar5 + 1] + ' ';
      }
      uVar5 = uVar5 + 1;
      sVar1 = _strlen(acStackY_105 + 1);
    } while (uVar5 < sVar1);
  }
  uStackY_18 = 0x473267;
  pcVar4 = _strstr(acStackY_105 + 1,s__debug_004d13a8);
  if (pcVar4 != (char *)0x0) {
    *pcVar4 = '\0';
  }
  uStackY_18 = 0x473282;
  FID_conflict___mbscpy(&DAT_005d5fe0,acStackY_105 + 1);
  uStackY_18 = 0x473294;
  FID_conflict__strcat(&DAT_005d5fe0,s__mapfiles__004d13b0);
  uStackY_18 = 0x4732a8;
  FID_conflict___mbscpy(&DAT_005d5ce0,acStackY_105 + 1);
  uStackY_18 = 0x4732ba;
  FID_conflict__strcat(&DAT_005d5ce0,s__mapfiles_mapfiles__004d13bc);
  uStackY_18 = 0x4732ce;
  FID_conflict___mbscpy(&DAT_005d5de0,acStackY_105 + 1);
  uStackY_18 = 0x4732e0;
  FID_conflict__strcat(&DAT_005d5de0,s__anmfiles__004d13d0);
  uStackY_18 = 0x4732f4;
  FID_conflict___mbscpy(&DAT_005d4ee0,acStackY_105 + 1);
  uStackY_18 = 0x473306;
  FID_conflict__strcat(&DAT_005d4ee0,s__sfx__004d13dc);
  uStackY_18 = 0x47331a;
  FID_conflict___mbscpy(&DAT_005d60e0,acStackY_105 + 1);
  uStackY_18 = 0x47332c;
  FID_conflict__strcat(&DAT_005d60e0,s__Music__004d13e4);
  uStackY_18 = 0x473340;
  FID_conflict___mbscpy(&DAT_005d56e0,acStackY_105 + 1);
  uStackY_18 = 0x473352;
  FID_conflict__strcat(&DAT_005d56e0,s__Movies__004d13ec);
  uStackY_18 = 0x473366;
  FID_conflict___mbscpy(&DAT_005d5ee0,acStackY_105 + 1);
  uStackY_18 = 0x473378;
  FID_conflict__strcat(&DAT_005d5ee0,s__voxelfiles__004d13f8);
  uStackY_18 = 0x47338c;
  FID_conflict___mbscpy(&DAT_005d54e0,acStackY_105 + 1);
  uStackY_18 = 0x47339e;
  FID_conflict__strcat(&DAT_005d54e0,&DAT_004d1408);
  uStackY_18 = 0x4733b2;
  FID_conflict___mbscpy(&DAT_005d4fe0,acStackY_105 + 1);
  uStackY_18 = 0x4733c4;
  FID_conflict__strcat(&DAT_005d4fe0,s__bodyparts__004d140c);
  uStackY_18 = 0x4733d8;
  FID_conflict___mbscpy(&DAT_005d59e0,acStackY_105 + 1);
  uStackY_18 = 0x4733ea;
  FID_conflict__strcat(&DAT_005d59e0,s__textures__004d1418);
  uStackY_18 = 0x4733fe;
  FID_conflict___mbscpy(&DAT_005d53e0,acStackY_105 + 1);
  uStackY_18 = 0x473410;
  FID_conflict__strcat(&DAT_005d53e0,s__intrfce__004d1424);
  uStackY_18 = 0x473422;
  FID_conflict___mbscpy(&DAT_005d49e0,&DAT_005d53e0);
  uStackY_18 = 0x473434;
  FID_conflict__strcat(&DAT_005d49e0,s_640_480__004d1430);
  uStackY_18 = 0x473446;
  FID_conflict___mbscpy(&DAT_005d4ce0,&DAT_005d53e0);
  uStackY_18 = 0x473458;
  FID_conflict__strcat(&DAT_005d4ce0,s_512_384__004d143c);
  uStackY_18 = 0x47346a;
  FID_conflict___mbscpy(&DAT_005d4be0,&DAT_005d53e0);
  uStackY_18 = 0x47347c;
  FID_conflict__strcat(&DAT_005d4be0,s_320_240__004d1448);
  uStackY_18 = 0x47348e;
  FID_conflict___mbscpy(&DAT_005d4de0,&DAT_005d53e0);
  uStackY_18 = 0x4734a0;
  FID_conflict__strcat(&DAT_005d4de0,s_320_200__004d1454);
  uStackY_18 = 0x4734b4;
  FID_conflict___mbscpy(&DAT_005d5ae0,acStackY_105 + 1);
  uStackY_18 = 0x4734c6;
  FID_conflict__strcat(&DAT_005d5ae0,s__visfx__004d1460);
  uStackY_18 = 0x4734da;
  FID_conflict___mbscpy(&DAT_005d52e0,acStackY_105 + 1);
  uStackY_18 = 0x4734ec;
  FID_conflict__strcat(&DAT_005d52e0,s__visfx_fx128__004d1468);
  uStackY_18 = 0x473500;
  FID_conflict___mbscpy(&DAT_005d51e0,acStackY_105 + 1);
  uStackY_18 = 0x473512;
  FID_conflict__strcat(&DAT_005d51e0,s__visfx_fx64__004d1478);
  uStackY_18 = 0x473526;
  FID_conflict___mbscpy(&DAT_005d57e0,acStackY_105 + 1);
  uStackY_18 = 0x473538;
  FID_conflict__strcat(&DAT_005d57e0,s__visfx_fx32__004d1488);
  uStackY_18 = 0x47354c;
  FID_conflict___mbscpy(&DAT_005d58e0,acStackY_105 + 1);
  uStackY_18 = 0x473560;
  FID_conflict___mbscpy(&DAT_005d4ae0,acStackY_105 + 1);
  uStackY_18 = 0x473572;
  FID_conflict__strcat(&DAT_005d4ae0,s__mapfiles_cinema__004d1498);
  uStackY_18 = 0x473586;
  FID_conflict___mbscpy(&DAT_005d5be0,acStackY_105 + 1);
  uStackY_18 = 0x473598;
  FID_conflict__strcat(&DAT_005d5be0,s__mapfiles_aidata__004d14ac);
  uStackY_18 = 0x4735ac;
  FID_conflict___mbscpy(&DAT_005d50e0,acStackY_105 + 1);
  uStackY_18 = 0x4735be;
  FID_conflict__strcat(&DAT_005d50e0,s__GameSave__004d14c0);
  uStackY_18 = 0x4735d2;
  FID_conflict___mbscpy(&DAT_005d55e0,acStackY_105 + 1);
  uStackY_18 = 0x4735e4;
  FID_conflict__strcat(&DAT_005d55e0,s__headfiles__004d14cc);
  uStackY_18 = 0x4735f8;
  FID_conflict___mbscpy(&DAT_005d62e0,acStackY_105 + 1);
  uStackY_18 = 0x47360a;
  FID_conflict__strcat(&DAT_005d62e0,s__mapfiles_fluxdata__004d14d8);
  return;
}



void FUN_00473620(void)

{
  if (DAT_005df310 == '\0') {
    FID_conflict___mbscpy(&DAT_005d5fe0,&gRootFileDirectory);
    FID_conflict__strcat(&DAT_005d5fe0,s_mapfiles__004d14ec);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00473650(void)

{
  _memset(&DAT_005d4980,0,0x60);
  DAT_005d4980 = 0xbf34fdf4;
  _DAT_005d4984 = 0;
  DAT_005d4988 = 0x3f34fdf4;
  _DAT_005d498c = 0;
  _DAT_005d4990 = 0;
  _DAT_005d4994 = 0x3f800000;
  _DAT_005d4998 = 0x3f34fdf4;
  _DAT_005d499c = 0;
  _DAT_005d49a0 = 0x3f34fdf4;
  _DAT_005d49a4 = 0xbf800000;
  _DAT_005d49a8 = 0;
  _DAT_005d49ac = 0;
  _DAT_005d49b0 = 0x3f800000;
  _DAT_005d49b4 = 0;
  _DAT_005d49b8 = 0;
  _DAT_005d49bc = 0xbf34fdf4;
  _DAT_005d49c0 = 0;
  _DAT_005d49c4 = 0xbf34fdf4;
  _DAT_005d49c8 = 0;
  _DAT_005d49cc = 0;
  _DAT_005d49d0 = 0xbf800000;
  _DAT_005d49d4 = 0x3f34fdf4;
  _DAT_005d49d8 = 0;
  _DAT_005d49dc = 0xbf34fdf4;
  return;
}



undefined4 FUN_00473760(void)

{
  int iVar1;
  char cVar2;
  size_t sVar3;
  HANDLE hFile;
  HANDLE hFile_00;
  LONG LVar4;
  void *pvVar5;
  byte *pbVar6;
  int iVar7;
  int iVar8;
  char acStackY_11a [234];
  undefined4 uStackY_30;
  char *_Dest;
  DWORD DVar9;
  char *_Source;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  DAT_005d4964 = (int)((uint)*(ushort *)(DAT_00598ff0 + 6) * (uint)*(ushort *)(DAT_00598ff0 + 0x10)
                      * (uint)*(ushort *)(DAT_00598ff0 + 0xe)) / (int)(DAT_004d14f8 & 0xff);
  DAT_005d4960 = (int)((uint)*(ushort *)(DAT_00598ff0 + 8) * (uint)*(ushort *)(DAT_00598ff0 + 0x10)
                      * (uint)*(ushort *)(DAT_00598ff0 + 0xe)) / (int)(DAT_004d14f8 & 0xff);
  FUN_00473650();
  FID_conflict___mbscpy(acStackY_11a + 2,&DAT_005d5ce0);
  FID_conflict__strcat(acStackY_11a + 2,&DAT_005d6540);
  sVar3 = _strlen(acStackY_11a + 2);
  cVar2 = acStackY_11a[sVar3 + 1];
  while (cVar2 != '.') {
    cVar2 = acStackY_11a[sVar3];
    sVar3 = sVar3 - 1;
  }
  acStackY_11a[sVar3 + 1] = '\0';
  FID_conflict__strcat(acStackY_11a + 2,&DAT_004d14fc);
  iVar10 = 1;
  uStackY_30 = 0x47385c;
  hFile = CreateFileA(acStackY_11a + 2,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,
                      (HANDLE)0x0);
  FID_conflict___mbscpy(acStackY_11a + 2,&DAT_005d5be0);
  FID_conflict__strcat(acStackY_11a + 2,&DAT_005d6540);
  sVar3 = _strlen(acStackY_11a + 2);
  cVar2 = acStackY_11a[sVar3 + 1];
  while (cVar2 != '.') {
    cVar2 = acStackY_11a[sVar3];
    sVar3 = sVar3 - 1;
  }
  _Dest = acStackY_11a + 2;
  _Source = &DAT_004d1504;
  acStackY_11a[sVar3 + 1] = '\0';
  FID_conflict__strcat(_Dest,_Source);
  uStackY_30 = 0x4738e4;
  hFile_00 = CreateFileA(acStackY_11a + 2,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,
                         (HANDLE)0x0);
  if ((hFile != (HANDLE)0xffffffff) && (hFile_00 != (HANDLE)0xffffffff)) {
    GetFileTime(hFile,(LPFILETIME)0x0,(LPFILETIME)0x0,(LPFILETIME)&stack0xffffffe8);
    GetFileTime(hFile_00,(LPFILETIME)0x0,(LPFILETIME)0x0,(LPFILETIME)&stack0xfffffff0);
    LVar4 = CompareFileTime((FILETIME *)&stack0xffffffe8,(FILETIME *)&stack0xfffffff0);
    if (LVar4 < 0) {
      iVar10 = 0;
    }
    CloseHandle(hFile);
    CloseHandle(hFile_00);
  }
  if ((iVar10 == 0) && (iVar10 = OpenFileWithFixedFlags0x40(), iVar10 != 0)) {
    CopyDataWithLock();
    CopyDataWithLock();
    sVar3 = DAT_005d4960 * DAT_005d4964;
    DVar9 = 0;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    DAT_00598dec = _memset(pvVar5,DVar9,sVar3);
    iVar10 = 0;
    if (0 < DAT_005d4964) {
      do {
        CopyDataWithLock();
        iVar10 = iVar10 + 1;
      } while (iVar10 < DAT_005d4964);
    }
  }
  else {
    sVar3 = DAT_005d4960 * DAT_005d4964;
    DVar9 = 0;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    DAT_00598dec = _memset(pvVar5,DVar9,sVar3);
    if (DAT_00598dec == (void *)0x0) {
      return 0;
    }
    iVar8 = 1;
    iVar10 = DAT_005d4960;
    if (1 < DAT_005d4964 + -1) {
      do {
        iVar7 = 1;
        if (1 < iVar10 + -1) {
          do {
            iVar10 = FUN_00473ca0();
            if (iVar10 == 0) {
              pbVar6 = (byte *)((int)DAT_00598dec + iVar8 * DAT_005d4964 + iVar7);
              *pbVar6 = *pbVar6 | 0x20;
            }
            iVar1 = iVar7 + 1;
            iVar10 = FUN_00473ca0();
            if (iVar10 == 0) {
              iVar10 = iVar8 * DAT_005d4964 + iVar7;
              *(byte *)(iVar10 + (int)DAT_00598dec) = *(byte *)(iVar10 + (int)DAT_00598dec) | 2;
            }
            iVar10 = FUN_00473ca0();
            if (iVar10 == 0) {
              pbVar6 = (byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec);
              *pbVar6 = *pbVar6 | 0x80;
            }
            iVar10 = FUN_00473ca0();
            if (iVar10 == 0) {
              pbVar6 = (byte *)((int)DAT_00598dec + iVar8 * DAT_005d4964 + iVar7);
              *pbVar6 = *pbVar6 | 8;
            }
            if (((*(byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec) & 0x82) != 0) &&
               (iVar10 = FUN_00473ca0(), iVar10 == 0)) {
              pbVar6 = (byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec);
              *pbVar6 = *pbVar6 | 1;
            }
            if (((*(byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec) & 10) != 0) &&
               (iVar10 = FUN_00473ca0(), iVar10 == 0)) {
              iVar10 = iVar8 * DAT_005d4964 + iVar7;
              *(byte *)(iVar10 + (int)DAT_00598dec) = *(byte *)(iVar10 + (int)DAT_00598dec) | 4;
            }
            if (((*(byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec) & 0xa0) != 0) &&
               (iVar10 = FUN_00473ca0(), iVar10 == 0)) {
              pbVar6 = (byte *)((int)DAT_00598dec + iVar8 * DAT_005d4964 + iVar7);
              *pbVar6 = *pbVar6 | 0x40;
            }
            if (((*(byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec) & 0x28) != 0) &&
               (iVar10 = FUN_00473ca0(), iVar10 == 0)) {
              pbVar6 = (byte *)(iVar8 * DAT_005d4964 + iVar7 + (int)DAT_00598dec);
              *pbVar6 = *pbVar6 | 0x10;
            }
            iVar10 = DAT_005d4960;
            iVar7 = iVar1;
          } while (iVar1 < DAT_005d4960 + -1);
        }
        iVar8 = iVar8 + 1;
      } while (iVar8 < DAT_005d4964 + -1);
    }
    iVar10 = OpenFileWithFixedFlags0x40();
    if (iVar10 == 0) {
      return 1;
    }
    FUN_004ae3e0();
    FUN_004ae3e0();
    iVar10 = 0;
    if (0 < DAT_005d4964) {
      do {
        FUN_004ae3e0();
        iVar10 = iVar10 + 1;
      } while (iVar10 < DAT_005d4964);
    }
  }
  FUN_004adcf0();
  return 1;
}



int FUN_00473ca0(float param_1,int param_2,int param_3,float param_4)

{
  float fVar1;
  uint uVar2;
  int iVar3;
  float unaff_EDI;
  float10 fVar4;
  undefined local_7c [12];
  undefined local_70 [12];
  undefined local_64 [12];
  undefined local_58 [4];
  float local_54;
  undefined *local_4c;
  float local_48;
  undefined4 local_44;
  undefined **local_40;
  undefined **local_3c;
  float local_38;
  undefined *local_34;
  undefined4 *local_30;
  undefined4 *local_2c;
  undefined *local_28;
  undefined *local_24;
  undefined *local_20;
  undefined4 *local_1c;
  undefined8 local_18;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  uVar2 = DAT_004d14f8 & 0xff;
  local_28 = (undefined *)(float)((int)param_1 * uVar2);
  local_20 = (undefined *)(float)(param_2 * uVar2);
  local_34 = (undefined *)(float)(param_3 * uVar2);
  local_30 = (undefined4 *)0x0;
  if ((int)param_1 < param_3) {
    local_34 = (undefined *)((float)uVar2 + (float)local_34);
  }
  else if (param_3 < (int)param_1) {
    local_28 = (undefined *)((float)uVar2 + (float)local_28);
  }
  if (((int)param_4 <= param_2) && ((int)param_4 < param_2)) {
    local_20 = (undefined *)((float)uVar2 + (float)local_20);
  }
  local_1c = (undefined4 *)&stack0xfffffff4;
  local_18 = 0.0;
  local_24 = local_20;
  iVar5 = 0;
  local_2c = (undefined4 *)0x473d63;
  param_1 = (float)((int)param_4 * uVar2);
  local_20 = local_70;
  fVar4 = (float10)FUN_0041c650();
  param_1 = (float)fVar4;
  local_1c = (undefined4 *)&stack0xfffffff4;
  local_18 = 0.0;
  local_20 = local_7c;
  local_24 = (undefined *)local_2c;
  local_28 = local_34;
  local_2c = (undefined4 *)0x473d82;
  fVar4 = (float10)FUN_0041c650();
  param_4 = (float)fVar4;
  if ((float10)(DAT_004d14f8 & 0xff) + (float10)(DAT_004d14f8 & 0xff) < fVar4 - (float10)param_1) {
    return 1;
  }
  if (iVar5 != 0) {
    return 1;
  }
  local_48 = param_1 - -1.4;
  local_4c = local_28;
  local_18 = 0.0;
  local_1c = (undefined4 *)0x1;
  local_24 = (undefined *)((int)&local_18 + 4);
  local_20 = (undefined *)0x0;
  local_28 = local_58;
  local_2c = &param_3;
  local_30 = &param_2;
  local_34 = local_64;
  local_3c = &local_4c;
  local_38 = 1.4;
  local_40 = &local_28;
  local_44 = 0x473e1f;
  FUN_00422320();
  iVar5 = param_2;
  if ((param_2 != 0) || (iVar5 = param_3, param_3 != 0)) {
    local_18 = (double)CONCAT44(&param_1,iVar5);
    local_1c = (undefined4 *)local_20;
    local_24 = local_28;
    local_28 = (undefined *)0x473e52;
    local_20 = (undefined *)(*(float *)(iVar5 + 0x89) - -1.0);
    FUN_00403ae0();
  }
  local_18 = 0.0;
  local_1c = (undefined4 *)0x1;
  local_24 = (undefined *)((int)&local_18 + 4);
  local_20 = (undefined *)0x0;
  local_28 = local_58;
  local_2c = &param_3;
  local_30 = &param_2;
  local_34 = local_64;
  local_3c = &local_34;
  local_38 = 1.4;
  local_40 = &local_34;
  local_44 = 0x473e8f;
  FUN_00422320();
  if (param_2 == 0) {
    if (param_3 == 0) goto LAB_00473ee4;
    fVar1 = *(float *)(param_3 + 0x89);
    local_18 = (double)CONCAT44(&param_4,param_3);
  }
  else {
    fVar1 = *(float *)(param_2 + 0x89);
    local_18 = (double)CONCAT44(&param_4,param_2);
  }
  local_20 = (undefined *)(fVar1 - -1.0);
  local_1c = local_2c;
  local_24 = local_34;
  local_28 = (undefined *)0x473ee1;
  FUN_00403ae0();
LAB_00473ee4:
  local_30 = (undefined4 *)(param_1 - -1.4);
  local_40 = (undefined **)((float)local_34 - (float)local_28);
  local_3c = (undefined **)((float)local_30 - (float)local_24);
  local_38 = (float)local_2c - (float)local_20;
  local_18 = (double)(local_38 * local_38 +
                     (float)local_3c * (float)local_3c + (float)local_40 * (float)local_40);
  local_1c = (undefined4 *)0x473f33;
  fVar4 = (float10)FUN_004ad534();
  fVar1 = (float)fVar4;
  local_40 = (undefined **)((float)local_40 / fVar1);
  iVar3 = 1;
  local_3c = (undefined **)((float)local_3c / fVar1);
  local_38 = local_38 / fVar1;
  local_18 = (double)CONCAT44(0x473f75,(undefined4)local_18);
  iVar5 = __ftol();
  if (iVar5 < 2) {
    return 0;
  }
  while( true ) {
    local_18 = 0.0;
    local_1c = (undefined4 *)0x1;
    local_28 = local_58;
    local_24 = (undefined *)((float)local_24 - 0.0);
    local_2c = &param_3;
    local_30 = &param_2;
    local_34 = local_64;
    local_20 = (undefined *)0x80000001;
    local_3c = &local_4c;
    local_38 = 1.4;
    local_40 = &local_28;
    local_44 = 0x473ff6;
    FUN_00422320();
    if (param_2 != 0) {
      local_18 = (double)CONCAT44(&stack0xfffffff0,param_2);
      local_1c = (undefined4 *)local_20;
      local_24 = local_28;
      local_28 = (undefined *)0x474035;
      local_20 = (undefined *)(*(float *)(param_2 + 0x89) - -1.0);
      FUN_00403ae0();
      if (3.1 <= unaff_EDI - param_1) {
        return 1;
      }
      if (0.8 <= local_54) {
        return 0;
      }
      return 1;
    }
    if (param_3 != 0) break;
    iVar3 = iVar3 + 1;
    if (iVar5 <= iVar3) {
      return param_3;
    }
  }
  local_18 = (double)CONCAT44(&stack0xfffffff0,param_3);
  local_1c = (undefined4 *)local_20;
  local_24 = local_28;
  local_28 = (undefined *)0x474089;
  local_20 = (undefined *)(*(float *)(param_3 + 0x89) - -1.0);
  FUN_00403ae0();
  if (3.1 <= unaff_EDI - param_1) {
    return 1;
  }
  if (0.8 <= local_54) {
    return 0;
  }
  return 1;
}



void FUN_004740d0(void)

{
  if (DAT_00598dec != 0) {
    FreeMemory(DAT_00598dec);
    DAT_00598dec = 0;
  }
  return;
}



int FUN_004740f0(int param_1,undefined4 param_2,undefined4 *param_3)

{
  byte bVar1;
  float fVar2;
  undefined ***pppuVar3;
  undefined *puVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  undefined **ppuVar8;
  uint uVar9;
  undefined **ppuVar10;
  undefined4 *puVar11;
  float *pfVar12;
  float *pfVar13;
  float10 fVar14;
  undefined local_120 [12];
  undefined local_114 [12];
  undefined *local_108 [8];
  undefined4 local_e8;
  undefined4 local_e0;
  float local_d8;
  float local_d4;
  float local_d0;
  undefined *local_c8 [4];
  undefined *local_b8;
  undefined *local_b4;
  undefined *local_b0;
  undefined *local_ac;
  int local_a8;
  undefined ***local_a4;
  int local_a0;
  int local_9c;
  int local_98;
  int local_94;
  undefined ***local_90;
  int local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined local_7c [4];
  float local_78;
  float local_70;
  float local_6c;
  float local_68;
  int local_64;
  undefined local_60 [4];
  undefined local_5c [4];
  float local_58;
  undefined4 local_54;
  float local_50;
  float local_4c;
  float local_48;
  float local_44;
  float *local_40;
  float *local_3c;
  undefined *local_38;
  undefined *local_34;
  undefined ***local_30;
  undefined *local_2c;
  undefined *local_28;
  undefined *local_24;
  undefined *puStack_20;
  undefined **local_1c;
  undefined8 local_18;
  int *piVar15;
  float fVar16;
  
  AdjustStackForLargeAllocations();
  iVar5 = *(int *)(param_1 + 4);
  local_40 = (float *)0x80040201;
  iVar7 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
  local_3c = (float *)0x10204008;
  if (((((iVar7 == 4) || (iVar7 == 5)) ||
       ((iVar7 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar7 + 0x114) == 6 &&
        (*(char *)(iVar5 + 4) == '\x03')))) ||
      ((*(int *)(iVar7 + 0x7b) == 8 &&
       ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) {
    local_1c = local_108;
    local_18 = (double)CONCAT44(iVar5 + 6,iVar5 + 0x46);
    puStack_20 = (undefined *)0x474196;
    MultiplyMatrices();
  }
  else {
    puVar11 = (undefined4 *)(iVar5 + 6);
    ppuVar10 = local_108;
    for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
      *ppuVar10 = (undefined *)*puVar11;
      puVar11 = puVar11 + 1;
      ppuVar10 = ppuVar10 + 1;
    }
  }
  local_88 = local_e8;
  local_84 = 0;
  local_80 = local_e0;
  local_18 = (double)CONCAT44(&local_88,0x4741c1);
  FUN_0045eab0();
  local_70 = local_d8;
  local_6c = local_d4;
  local_68 = local_d0;
  local_58 = *(float *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 4) - local_d8;
  local_54 = 0;
  local_50 = *(float *)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0xc) - local_d0;
  fVar16 = local_50 * local_50 + local_58 * local_58;
  if (fVar16 < 0.1) {
    return -1;
  }
  local_18 = (double)fVar16;
  local_1c = (undefined **)0x474247;
  fVar14 = (float10)FUN_004ad534();
  uVar9 = DAT_004d14f8;
  local_24 = (undefined *)(float)((float10)1.0 / fVar14);
  local_58 = local_58 * (float)local_24;
  local_50 = local_50 * (float)local_24;
  local_18 = (double)CONCAT44(0x474292,SUB84(local_18,0));
  local_90 = (undefined ***)__ftol();
  local_18._4_4_ = 6.544226e-39;
  local_30 = local_90;
  local_2c = (undefined *)__ftol();
  if (local_90 == (undefined ***)0x0) {
    local_30 = (undefined ***)0x1;
    local_90 = (undefined ***)0x1;
  }
  else if (local_90 == (undefined ***)(DAT_005d4964 + -1)) {
    local_90 = (undefined ***)((int)local_90 + -1);
    local_30 = local_90;
  }
  if (local_2c == (undefined *)0x0) {
    local_2c = (undefined *)0x1;
  }
  else if (local_2c == (undefined *)(DAT_005d4960 + -1)) {
    local_2c = local_2c + -1;
  }
  if (local_2c[DAT_00598dec + (int)local_90 * DAT_005d4964] == '\0') {
    return -1;
  }
  local_94 = (int)local_90 + -1;
  local_b8 = local_2c;
  local_9c = local_94;
  local_a8 = local_94;
  local_8c = (int)local_90 + 1;
  local_98 = local_8c;
  local_a0 = local_8c;
  local_c8[2] = local_2c + 1;
  local_c8[1] = local_c8[2];
  local_c8[0] = local_c8[2];
  local_c8[3] = local_2c;
  local_ac = local_2c + -1;
  ppuVar10 = local_c8;
  local_b0 = local_ac;
  local_b4 = local_ac;
  iVar5 = 0;
  piVar15 = &local_a8;
  local_a4 = local_90;
  local_18 = (double)((ulonglong)(uint)local_18._4_4_ << 0x20);
  pfVar13 = (float *)&DAT_005d4988;
  pfVar12 = (float *)&DAT_005d4980;
  do {
    if ((local_2c[DAT_00598dec + (int)local_30 * DAT_005d4964] & *(byte *)((int)&local_40 + iVar5))
        == 0) {
      piVar15 = piVar15 + 1;
      iVar5 = iVar5 + 1;
      ppuVar10 = ppuVar10 + 1;
      local_18 = (double)CONCAT44(local_18._4_4_,iVar5);
    }
    else {
      local_38 = *ppuVar10;
      local_28 = (undefined *)*piVar15;
      if ((*(undefined **)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x61) ==
           *ppuVar10 + DAT_005d4964 * (int)(undefined *)*piVar15) &&
         (local_2c[DAT_00598dec + (int)local_30 * DAT_005d4964] != *(byte *)((int)&local_40 + iVar5)
         )) {
        piVar15 = piVar15 + 1;
        iVar5 = iVar5 + 1;
        ppuVar10 = ppuVar10 + 1;
        local_18 = (double)CONCAT44(local_18._4_4_,iVar5);
      }
      else {
        uVar6 = uVar9 & 0xff;
        fVar16 = (float)(uVar9 >> 1 & 0x7f);
        local_4c = *pfVar12 * fVar16 + (float)((int)local_30 * uVar6 + (uVar6 >> 1));
        uVar9 = (int)local_2c * uVar6 + (uVar6 >> 1);
        local_1c = &local_34;
        local_18 = (double)((ulonglong)uVar9 << 0x20);
        puStack_20 = local_7c;
        local_44 = *pfVar13 * fVar16 + (float)uVar9;
        local_34 = (undefined *)0x0;
        local_2c = (undefined *)0x4744a3;
        local_28 = (undefined *)local_4c;
        local_24 = (undefined *)local_44;
        fVar14 = (float10)FUN_0041c650();
        local_24 = local_5c;
        local_18 = 0.0;
        puStack_20 = (undefined *)0x0;
        local_28 = local_120;
        local_48 = (float)(fVar14 - (float10)-1.4);
        local_2c = local_60;
        local_30 = &local_1c;
        local_34 = local_114;
        local_3c = &local_70;
        local_38 = (undefined *)0x3fb33333;
        local_40 = &local_4c;
        local_1c = (undefined **)0x0;
        local_44 = 6.545046e-39;
        FUN_00422320();
        ppuVar8 = local_1c;
        if ((local_1c != (undefined **)0x0) && (*(float *)((int)local_1c + 0x89) - local_48 <= 3.0))
        {
          ppuVar8 = (undefined **)0x0;
          local_1c = (undefined **)0x0;
        }
        if ((((0.8 < local_78) && (local_d4 - (float)local_24 < 10.0)) &&
            (ppuVar8 == (undefined **)0x0)) &&
           ((local_34 == (undefined *)0x0 &&
            (iVar5 = (int)local_18, local_38[DAT_005d4964 * (int)local_28 + DAT_00598dec] != '\0')))
           ) break;
        iVar5 = (int)local_18 + 1;
        local_18 = (double)CONCAT44(local_18._4_4_,iVar5);
        piVar15 = piVar15 + 1;
        ppuVar10 = ppuVar10 + 1;
        uVar9 = DAT_004d14f8;
      }
    }
    pfVar13 = pfVar13 + 3;
    pfVar12 = pfVar12 + 3;
  } while ((int)pfVar12 < 0x5d49e0);
  if (iVar5 != 8) {
    local_18 = (double)CONCAT44(&DAT_005d4980 + iVar5 * 3,&local_58);
    local_1c = (undefined **)0x4745bd;
    fVar14 = (float10)FUN_0045eba0();
    iVar5 = (int)local_18 + 1;
    local_18 = (double)CONCAT44((float)((float10)1.0 - fVar14),(int)local_18);
    if (iVar5 < 8) {
      pfVar12 = (float *)(&DAT_005d4980 + iVar5 * 3);
      iVar7 = DAT_005d4964;
      do {
        puVar4 = local_2c;
        pppuVar3 = local_30;
        bVar1 = *(byte *)((int)&local_40 + iVar5);
        puStack_20 = (undefined *)CONCAT13(bVar1,puStack_20._0_3_);
        if ((local_2c[DAT_00598dec + (int)local_30 * iVar7] & bVar1) != 0) {
          local_38 = local_c8[iVar5];
          local_64 = (&local_a8)[iVar5];
          if ((*(undefined **)(*(int *)(*(int *)(param_1 + 4) + 0x100) + 0x61) !=
               local_c8[iVar5] + iVar7 * (&local_a8)[iVar5]) ||
             (local_2c[DAT_00598dec + (int)local_30 * iVar7] == bVar1)) {
            local_18 = (double)CONCAT44(pfVar12,&local_58);
            local_1c = (undefined **)0x474662;
            fVar14 = (float10)FUN_0045eba0();
            uVar9 = DAT_004d14f8 & 0xff;
            fVar16 = (float)((float10)1.0 - fVar14);
            fVar2 = (float)(DAT_004d14f8 >> 1 & 0x7f);
            local_1c = &local_34;
            local_4c = *pfVar12 * fVar2 + (float)((int)pppuVar3 * uVar9 + (uVar9 >> 1));
            local_18 = 0.0;
            puStack_20 = local_7c;
            local_34 = (undefined *)0x0;
            local_44 = pfVar12[2] * fVar2 + (float)((int)puVar4 * uVar9 + (uVar9 >> 1));
            local_2c = (undefined *)0x4746d3;
            local_28 = (undefined *)local_4c;
            local_24 = (undefined *)local_44;
            fVar14 = (float10)FUN_0041c650();
            local_48 = local_d4;
            local_18 = 0.0;
            puStack_20 = (undefined *)0x0;
            local_28 = local_120;
            local_24 = (undefined *)(float)fVar14;
            local_2c = local_60;
            local_30 = &local_1c;
            local_34 = local_114;
            local_3c = &local_70;
            local_38 = (undefined *)0x3fb33333;
            local_40 = &local_4c;
            local_1c = (undefined **)0x0;
            local_44 = 6.54582e-39;
            FUN_00422320();
            ppuVar10 = local_1c;
            if ((local_1c != (undefined **)0x0) &&
               (*(float *)((int)local_1c + 0x89) - local_48 <= 3.0)) {
              ppuVar10 = (undefined **)0x0;
              local_1c = (undefined **)0x0;
            }
            iVar7 = DAT_005d4964;
            if (((((0.8 < local_78) && (local_d4 - (float)local_24 < 10.0)) &&
                 (ppuVar10 == (undefined **)0x0)) &&
                ((fVar16 < local_18._4_4_ && (local_34 == (undefined *)0x0)))) &&
               (*(char *)(DAT_005d4964 * local_64 + DAT_00598dec + (int)local_38) != '\0')) {
              local_18 = (double)CONCAT44(fVar16,iVar5);
            }
          }
        }
        pfVar12 = pfVar12 + 3;
        iVar5 = iVar5 + 1;
      } while ((int)pfVar12 < 0x5d49e0);
    }
    *param_3 = (&DAT_005d4980)[(int)local_18 * 3];
    param_3[1] = *(undefined4 *)(&DAT_005d4984 + (int)local_18 * 0xc);
    param_3[2] = (&DAT_005d4988)[(int)local_18 * 3];
    return (int)local_18;
  }
  return -1;
}



void FUN_004747f0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0x10;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x10);
  _memset(_Dst,_Val,_Size);
  return;
}



void ** FUN_00474810(uint param_1)

{
  void *pvVar1;
  void **ppvVar2;
  short *psVar3;
  void *pvVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  int iVar8;
  size_t sVar9;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df318 == 0) {
    return (void **)0x0;
  }
  sVar9 = 0x24;
  iVar8 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x24);
  ppvVar2 = (void **)_memset(pvVar1,iVar8,sVar9);
  if (ppvVar2 == (void **)0x0) {
    return (void **)0x0;
  }
  sVar9 = 0x1ad;
  iVar8 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x1ad);
  psVar3 = (short *)_memset(pvVar1,iVar8,sVar9);
  ppvVar2[1] = psVar3;
  if (psVar3 == (short *)0x0) {
    return (void **)0x0;
  }
  if (DAT_00598d38 != 0) {
    sVar9 = 0xa4;
    iVar8 = 0;
    pvVar1 = (void *)AllocateMemoryWithCallback(0xa4);
    pvVar1 = _memset(pvVar1,iVar8,sVar9);
    *ppvVar2 = pvVar1;
    if (pvVar1 == (void *)0x0) {
      return (void **)0x0;
    }
    sVar9 = 0x120;
    iVar8 = 0;
    pvVar4 = (void *)AllocateMemoryWithCallback(0x120);
    pvVar4 = _memset(pvVar4,iVar8,sVar9);
    *(void **)((int)pvVar1 + 0xa0) = pvVar4;
    sVar9 = 0x120;
    iVar8 = 0;
    pvVar1 = (void *)AllocateMemoryWithCallback(0x120);
    pvVar1 = _memset(pvVar1,iVar8,sVar9);
    *(void **)(psVar3 + 0x50) = pvVar1;
  }
  *psVar3 = DAT_00598e20;
  DAT_00598e20 = DAT_00598e20 + 1;
  puVar6 = &DAT_004d1ae0;
  puVar7 = (undefined4 *)(psVar3 + 3);
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar7 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar7 = puVar7 + 1;
  }
  puVar6 = &DAT_004d1ae0;
  puVar7 = (undefined4 *)(psVar3 + 0x23);
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar7 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar7 = puVar7 + 1;
  }
  *(undefined4 *)((int)psVar3 + 0x1a5) = 0x3fa3d70a;
  *(uint *)(psVar3 + 0x45) = *(uint *)(psVar3 + 0x45) | param_1;
  *(uint *)((int)ppvVar2[1] + 0x8a) = *(uint *)((int)ppvVar2[1] + 0x8a) | 0x40000000;
  if ((param_1 & 2) != 0) {
    uVar5 = FUN_004064c0();
    *(undefined4 *)(psVar3 + 0x80) = uVar5;
  }
  return ppvVar2;
}



void FUN_00474980(int *param_1,int param_2)

{
  if (*param_1 == 0) {
    param_1[1] = param_2;
    param_1[2] = param_2;
    *param_1 = *param_1 + 1;
    return;
  }
  *(int *)(param_1[2] + 10) = param_2;
  *(int *)(param_2 + 0xe) = param_1[2];
  param_1[2] = param_2;
  *param_1 = *param_1 + 1;
  return;
}



void FUN_004749b0(uint *param_1,undefined4 param_2)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_1[1];
  uVar3 = 0;
  if (*param_1 != 0) {
    do {
      *(int *)(*(int *)(uVar2 + 4) + 0x86) = DAT_005d873c;
      iVar1 = *(int *)(DAT_005d873c + 0x13) + 0x104;
      *(int *)(*(int *)(uVar2 + 4) + 0x98) = iVar1;
      FUN_004931d0(CONCAT31((int3)((uint)iVar1 >> 8),*(undefined *)(*(int *)(uVar2 + 4) + 0x1aa)));
      FUN_00474980(param_2,uVar2);
      FUN_00475860(uVar2);
      uVar2 = *(uint *)(uVar2 + 10);
      uVar3 = uVar3 + 1;
    } while (uVar3 < *param_1);
  }
  param_1[2] = 0;
  param_1[1] = 0;
  *param_1 = 0;
  return;
}



undefined4 FUN_00474a30(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = FUN_00474810(param_1);
  FUN_00474980(DAT_005df318,uVar1);
  return uVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00474a60(void)

{
  double dVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float10 fVar5;
  
  AdjustStackForLargeAllocations();
  iVar3 = FUN_00474810(2);
  *(undefined4 *)(*(int *)(*(int *)(iVar3 + 4) + 0x100) + 0x48) = 1;
  *(undefined4 *)(*(int *)(*(int *)(iVar3 + 4) + 0x100) + 0x44) = 0x41200000;
  *(undefined4 *)(*(int *)(*(int *)(iVar3 + 4) + 0x100) + 0x37) = 0;
  *(undefined4 *)(*(int *)(*(int *)(iVar3 + 4) + 0x100) + 0x3b) = 0;
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0x36) = DAT_005d48e0;
  *(float *)(*(int *)(iVar3 + 4) + 0x3a) = _DAT_005d48e4 - -20.0;
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0x3e) = DAT_005d48e8;
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xbc) = *(undefined4 *)(*(int *)(iVar3 + 4) + 0x36);
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xc0) = *(undefined4 *)(*(int *)(iVar3 + 4) + 0x3a);
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xc4) = *(undefined4 *)(*(int *)(iVar3 + 4) + 0x3e);
  iVar4 = FUN_004af640();
  iVar2 = *(int *)(iVar3 + 4);
  dVar1 = (double)((float)(iVar4 % 0x13a) * 0.01);
  fVar5 = (float10)FUN_004ae0c4(dVar1);
  *(float *)(*(int *)(iVar3 + 4) + 0x36) =
       (float)((float10)*(float *)(iVar2 + 0x36) - fVar5 * (float10)-50.0);
  iVar2 = *(int *)(iVar3 + 4);
  fVar5 = (float10)FUN_004ae014(dVar1);
  *(float *)(*(int *)(iVar3 + 4) + 0x3e) =
       (float)((float10)*(float *)(iVar2 + 0x3e) - fVar5 * (float10)50.0);
  iVar2 = *(int *)(iVar3 + 4);
  *(float *)(iVar2 + 0xa4) = *(float *)(iVar2 + 0x36) - *(float *)(iVar2 + 0xbc);
  iVar2 = *(int *)(iVar3 + 4);
  *(float *)(iVar2 + 0xa8) = *(float *)(iVar2 + 0x3a) - *(float *)(iVar2 + 0xc0);
  iVar2 = *(int *)(iVar3 + 4);
  *(float *)(iVar2 + 0xac) = *(float *)(iVar2 + 0x3e) - *(float *)(iVar2 + 0xc4);
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xac) = 0;
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xa8) = 0;
  *(undefined4 *)(*(int *)(iVar3 + 4) + 0xa4) = 0;
  FUN_00474980(DAT_005df318,iVar3);
  return 1;
}



int FUN_00474bd0(undefined2 param_1,undefined4 *param_2,undefined param_3)

{
  undefined2 *puVar1;
  void *_Dst;
  char *_Dest;
  undefined4 uVar2;
  int iVar3;
  int *piVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int iVar7;
  size_t _Size;
  
  puVar1 = (undefined2 *)FUN_00425fa0();
  _Size = 0x14;
  iVar7 = 0;
  *puVar1 = param_1;
  _Dst = (void *)AllocateMemoryWithCallback(0x14);
  _Dest = (char *)_memset(_Dst,iVar7,_Size);
  *(char **)((int)puVar1 + 0x17) = _Dest;
  FID_conflict___mbscpy(_Dest,&DAT_004d156c);
  *(undefined4 *)(*(int *)((int)puVar1 + 0x17) + 0x10) = 0xffffffff;
  *(undefined *)(puVar1 + 2) = param_3;
  *(undefined4 *)((int)puVar1 + 5) = 0x640;
  if (DAT_004d8154 == 0) {
    FUN_00474f20(puVar1);
    uVar2 = FUN_0040a500(*(undefined4 *)(DAT_005e5010 + 8),puVar1,param_1);
    *(undefined4 *)((int)puVar1 + 0x13) = uVar2;
    FUN_0046d7e0(puVar1);
  }
  iVar7 = DAT_005df318;
  iVar3 = 0;
  piVar4 = &DAT_005dff2b;
  do {
    if (*piVar4 == 0) {
      (&DAT_005dfe90)[iVar3 * 0x38] = puVar1;
      (&DAT_005dfe81)[iVar3 * 0xe0] = 0x19;
      (&DAT_005dfe97)[iVar3 * 0x38] = 4;
      (&DAT_005dff2b)[iVar3 * 0x38] = 1;
      (&DAT_005dff2f)[iVar3 * 0x38] = 0;
      (&DAT_005dff37)[iVar3 * 0x38] = *(undefined4 *)(iVar7 + 4);
      puVar5 = &DAT_004d1ae0;
      puVar6 = &DAT_005dfe9b + iVar3 * 0x38;
      for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      (&DAT_005dfecb)[iVar3 * 0x38] = *param_2;
      (&DAT_005dfecf)[iVar3 * 0x38] = param_2[1];
      (&DAT_005dfed3)[iVar3 * 0x38] = param_2[2];
      puVar5 = &DAT_005dfe9b + iVar3 * 0x38;
      puVar6 = &DAT_005dfedb + iVar3 * 0x38;
      for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      (&DAT_005dff1b)[iVar3 * 0x38] = 0;
      (&DAT_005dff1f)[iVar3 * 0x38] = 0;
      (&DAT_005dff23)[iVar3 * 0x38] = 0;
      (&DAT_005dff27)[iVar3 * 0x38] = 2;
      (&DAT_005dff33)[iVar3 * 0x38] = 0x3fa3d70a;
      DAT_004d7ab0 = DAT_004d7ab0 + '\x01';
      return iVar3;
    }
    piVar4 = piVar4 + 0x38;
    iVar3 = iVar3 + 1;
  } while ((int)piVar4 < 0x5e222b);
  return 0;
}



undefined4 FUN_00474d40(int param_1)

{
  int iVar1;
  
  *DAT_005df318 = *DAT_005df318 + -1;
  iVar1 = *(int *)(param_1 + 10);
  if (iVar1 == 0) {
    if (*(int *)(param_1 + 0xe) != 0) {
      *(undefined4 *)(*(int *)(param_1 + 0xe) + 10) = 0;
      DAT_005df318[2] = *(int *)(param_1 + 0xe);
    }
    return 0;
  }
  if (*(int *)(param_1 + 0xe) != 0) {
    *(int *)(iVar1 + 0xe) = *(int *)(param_1 + 0xe);
    *(undefined4 *)(*(int *)(param_1 + 0xe) + 10) = *(undefined4 *)(param_1 + 10);
    return 0;
  }
  *(undefined4 *)(iVar1 + 0xe) = 0;
  DAT_005df318[1] = *(int *)(param_1 + 10);
  return 0;
}



void FUN_00474db0(int param_1,byte param_2)

{
  int iVar1;
  int iVar2;
  float fVar3;
  byte bVar4;
  byte bVar5;
  undefined4 **ppuVar6;
  int *piVar7;
  undefined4 ***local_18;
  int local_14;
  
  AdjustStackForLargeAllocations();
  fVar3 = 0.0;
  iVar1 = *(int *)(param_1 + 4);
  bVar5 = param_2;
  if (2 < param_2) {
    bVar5 = 3;
  }
  piVar7 = (int *)(iVar1 + 0x175);
  _param_2 = 5;
  do {
    iVar2 = *piVar7;
    if ((iVar2 != 0) && (*(int *)(*(int *)(iVar2 + 0x13) + 0x7f) != 0x13)) {
      if (*(byte *)(iVar2 + 4) < 100) {
        bVar4 = bVar5 + *(byte *)(iVar2 + 4);
        *(byte *)(iVar2 + 4) = bVar4;
        fVar3 = (float)(uint)*(byte *)(*(int *)(iVar2 + 0x13) + 0x19e) * 0.01 + fVar3;
        if (100 < bVar4) {
          *(undefined *)(iVar2 + 4) = 100;
        }
      }
    }
    piVar7 = piVar7 + 1;
    _param_2 = _param_2 + -1;
  } while (_param_2 != 0);
  iVar2 = *(int *)(iVar1 + 0x86);
  if ((fVar3 <= 0.0) || (1.0 <= fVar3)) {
    local_14 = 0x474e66;
    bVar5 = __ftol();
    if (bVar5 <= *(byte *)(iVar2 + 4)) {
      *(byte *)(iVar2 + 4) = *(byte *)(iVar2 + 4) - bVar5;
    }
  }
  else if (*(char *)(iVar2 + 4) != '\0') {
    *(char *)(iVar2 + 4) = *(char *)(iVar2 + 4) + -1;
  }
  if (*(char *)(iVar2 + 4) == '\0') {
    local_14 = param_1;
    local_18 = (undefined4 ***)0x474e86;
    FUN_0048b5d0();
    if (DAT_00598944 != 0) {
      local_14 = 0;
      local_18 = (undefined4 ***)
                 CONCAT31((int3)((uint)DAT_00598944 >> 8),
                          *(undefined *)(*(int *)(param_1 + 4) + 0x18a));
      ppuVar6 = (undefined4 **)FUN_00442710(param_1);
      local_14 = 0;
      local_18 = (undefined4 ***)0x0;
      FUN_00466530(8,0,*(undefined *)((int)ppuVar6 + 9),0);
      local_14 = 0;
      local_18 = (undefined4 ***)ppuVar6;
      FUN_00425ce0(param_1);
      return;
    }
    local_14 = *(undefined4 *)(iVar1 + 0x3a);
    local_18 = (undefined4 ***)
               CONCAT31((int3)((uint)local_14 >> 8),*(undefined *)(*(int *)(param_1 + 4) + 0x18a));
    local_14 = FUN_00442710(param_1);
    local_18 = &local_18;
    FUN_00424fa0(param_1);
  }
  return;
}



undefined4 FUN_00474f20(undefined2 *param_1)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  undefined4 uVar4;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df2f8 == 1) {
    uVar4 = 0x18;
  }
  else if (DAT_005df2f8 == 2) {
    uVar4 = 0x10;
  }
  else {
    uVar4 = 0x20;
  }
  ppiVar3 = (int **)((int)param_1 + 0xf);
  piVar1 = (int *)FUN_0044c9c0(uVar4,0);
  *ppiVar3 = piVar1;
  iVar2 = FUN_0044cb10(0x20,*param_1,ppiVar3,0,0);
  if (iVar2 == 0) {
    return 0;
  }
  (**(code **)(**ppiVar3 + 0x74))(*ppiVar3,8,&stack0xfffffff4);
  return 1;
}



void FUN_00474fb0(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = DAT_005e45e0[1];
  while (iVar2 = iVar1, iVar2 != 0) {
    iVar1 = *(int *)(iVar2 + 8);
    if (iVar2 != 0) {
      FreeMemory(iVar2);
    }
  }
  *DAT_005e45e0 = 0;
  return;
}



void FUN_00474ff0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df318 != (uint *)0x0) {
    uVar5 = 0;
    uVar4 = DAT_005df318[1];
    if (*DAT_005df318 != 0) {
      do {
        iVar2 = 0;
        do {
          iVar1 = *(int *)(*(int *)(uVar4 + 4) + 0x175 + iVar2);
          if (iVar1 != 0) {
            FUN_00475290(iVar1);
            if (*(int *)(iVar1 + 0x17) != 0) {
              FreeMemory(*(int *)(iVar1 + 0x17));
              *(undefined4 *)(iVar1 + 0x17) = 0;
            }
            if (iVar1 != 0) {
              FreeMemory(iVar1);
            }
          }
          iVar2 = iVar2 + 4;
        } while (iVar2 < 0x14);
        iVar2 = *(int *)(uVar4 + 4);
        uVar3 = 0;
        if (*(char *)(iVar2 + 0x108) != '\0') {
          do {
            iVar2 = *(int *)(iVar2 + 0x109 + uVar3 * 4);
            if (iVar2 != 0) {
              FUN_00475290(iVar2);
            }
            iVar2 = *(int *)(uVar4 + 4);
            uVar3 = uVar3 + 1;
          } while (uVar3 < *(byte *)(iVar2 + 0x108));
        }
        *(undefined *)(*(int *)(uVar4 + 4) + 0x108) = 0;
        FUN_00407780(uVar4);
        if (*(int *)(uVar4 + 4) != 0) {
          FreeMemory(*(int *)(uVar4 + 4));
          *(undefined4 *)(uVar4 + 4) = 0;
        }
        uVar3 = *(uint *)(uVar4 + 10);
        if (uVar4 != 0) {
          FreeMemory(uVar4);
        }
        uVar5 = uVar5 + 1;
        uVar4 = uVar3;
      } while (uVar5 < *DAT_005df318);
    }
    if (DAT_005df318 != (uint *)0x0) {
      FreeMemory(DAT_005df318);
    }
    DAT_005df318 = (uint *)0x0;
    if (DAT_005d3210 != 0) {
      FreeMemory(DAT_005d3210);
      DAT_005d3210 = 0;
    }
    if (DAT_005d3234 != 0) {
      FreeMemory(DAT_005d3234);
      DAT_005d3234 = 0;
    }
    if (DAT_00598944 == 0) {
      DAT_00598e20 = 0;
    }
    FUN_00474fb0();
  }
  return;
}



void FUN_00475150(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df318 != (uint *)0x0) {
    uVar4 = 1;
    iVar2 = *(int *)(DAT_005df318[1] + 10);
    if (1 < *DAT_005df318) {
      do {
        iVar3 = 0;
        do {
          iVar1 = *(int *)(*(int *)(iVar2 + 4) + 0x175 + iVar3);
          if ((iVar1 != 0) && (FUN_00475290(iVar1), iVar1 != 0)) {
            FreeMemory(iVar1);
          }
          iVar3 = iVar3 + 4;
        } while (iVar3 < 0x14);
        FUN_00407780(iVar2);
        if (*(int *)(iVar2 + 4) != 0) {
          FreeMemory(*(int *)(iVar2 + 4));
          *(undefined4 *)(iVar2 + 4) = 0;
        }
        iVar3 = *(int *)(iVar2 + 10);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
        }
        uVar4 = uVar4 + 1;
        iVar2 = iVar3;
      } while (uVar4 < *DAT_005df318);
    }
    *DAT_005df318 = 1;
    *(undefined4 *)(DAT_005df318[1] + 10) = 0;
    DAT_005df318[2] = DAT_005df318[1];
    DAT_00598e20 = 1;
  }
  return;
}



void FUN_00475230(int param_1)

{
  FUN_0048b320(*(undefined4 *)(param_1 + 0x13));
  FUN_004a6760(*(undefined4 *)(param_1 + 0x13));
  FUN_0040e630(*(undefined4 *)(param_1 + 0x13));
  if (*(int *)(param_1 + 0x13) != 0) {
    FreeMemory(*(int *)(param_1 + 0x13));
    *(undefined4 *)(param_1 + 0x13) = 0;
  }
  if (param_1 != 0) {
    FreeMemory(param_1);
  }
  return;
}



void FUN_00475290(undefined2 *param_1)

{
  char *pcVar1;
  int *piVar2;
  int iVar3;
  
  if (*(int *)((int)param_1 + 0x13) != 0) {
    pcVar1 = *(char **)(*(int *)((int)param_1 + 0x13) + 8);
    *pcVar1 = *pcVar1 + -1;
    iVar3 = *(int *)((int)param_1 + 0x13);
    if (**(char **)(iVar3 + 8) != '\0') {
      FUN_004a6760(iVar3);
      if (*(int *)((int)param_1 + 0x13) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x13));
        *(undefined4 *)((int)param_1 + 0x13) = 0;
      }
      *(undefined4 *)((int)param_1 + 0x13) = 0;
      *(undefined4 *)((int)param_1 + 0xf) = 0;
      return;
    }
    piVar2 = *(int **)(iVar3 + 0x8d);
    if ((piVar2 == (int *)0x0) || (*piVar2 == 0)) {
      *(undefined4 *)(iVar3 + 0x8d) = 0;
    }
    else {
      (**(code **)(*piVar2 + 8))(piVar2);
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x8d) = 0;
    }
    piVar2 = *(int **)(*(int *)((int)param_1 + 0x13) + 0x126);
    if ((piVar2 == (int *)0x0) || (*piVar2 == 0)) {
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x126) = 0;
    }
    else {
      (**(code **)(*piVar2 + 8))(piVar2);
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x126) = 0;
    }
    piVar2 = *(int **)(*(int *)((int)param_1 + 0x13) + 0x91);
    if ((piVar2 == (int *)0x0) || (*piVar2 == 0)) {
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x91) = 0;
    }
    else {
      (**(code **)(*piVar2 + 8))(piVar2);
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 0x91) = 0;
    }
    iVar3 = *(int *)((int)param_1 + 0x13);
    piVar2 = *(int **)(iVar3 + 0x12a);
    if ((piVar2 != (int *)0x0) && (*piVar2 != 0)) {
      (**(code **)(*piVar2 + 8))(piVar2);
      iVar3 = *(int *)((int)param_1 + 0x13);
    }
    *(undefined4 *)(iVar3 + 0x12a) = 0;
    FUN_0048b320(*(undefined4 *)((int)param_1 + 0x13));
    FUN_004a6760(*(undefined4 *)((int)param_1 + 0x13));
    FUN_0040e630(*(undefined4 *)((int)param_1 + 0x13));
    iVar3 = *(int *)(*(int *)((int)param_1 + 0x13) + 8);
    if (iVar3 != 0) {
      FreeMemory(iVar3);
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 8) = 0;
    }
    iVar3 = *(int *)(*(int *)((int)param_1 + 0x13) + 4);
    if (iVar3 != 0) {
      FreeMemory(iVar3);
      *(undefined4 *)(*(int *)((int)param_1 + 0x13) + 4) = 0;
    }
    if (*(int *)((int)param_1 + 0x13) != 0) {
      FreeMemory(*(int *)((int)param_1 + 0x13));
      *(undefined4 *)((int)param_1 + 0x13) = 0;
    }
    *(undefined4 *)((int)param_1 + 0xf) = 0;
    FUN_0041c590(*param_1);
  }
  return;
}



uint FUN_00475400(void)

{
  undefined4 uVar1;
  int iVar2;
  
  if (DAT_004d1518 != 0) {
    uVar1 = FUN_004af670(0);
    FUN_004af630(uVar1);
    DAT_004d1518 = 0;
  }
  if (DAT_004cfa30 != 0) {
    iVar2 = FUN_004af640();
    return (uint)DAT_005d67cc[iVar2 % (int)(uint)*DAT_005d67cc + 1];
  }
  iVar2 = FUN_004af640();
  return iVar2 % 0xe0 + 1;
}



void FUN_00475460(int param_1)

{
  FUN_0046bff0(param_1,0);
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 2) != 0) {
    FUN_00404e50(param_1);
  }
  return;
}



void FUN_00475490(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = &DAT_005d2500;
  do {
    if (*piVar1 == 0) {
      (&DAT_005d2500)[iVar2] = param_2;
      (&DAT_00598df0)[iVar2] = param_1;
      return;
    }
    piVar1 = piVar1 + 1;
    iVar2 = iVar2 + 1;
  } while ((int)piVar1 < 0x5d2528);
  FUN_00475460(param_1);
  return;
}



int FUN_004754d0(void)

{
  int iVar1;
  int iVar2;
  
  if (DAT_00598944 != 0) {
    if (DAT_005aa0e6 == (int *)0x0) {
      return 0;
    }
    if (DAT_005d2500 != 0) {
      DAT_005d2500 = DAT_005d2500 + -1;
    }
    iVar1 = *DAT_005aa0e6;
    if ((iVar1 < 0xfb) && (iVar1 % 0x19 == 1)) {
      iVar1 = FUN_0046bfc0();
      return iVar1;
    }
    if ((iVar1 < 0x2ef) && (iVar1 % 0xfa == 1)) {
      iVar1 = FUN_0046bfc0();
      return iVar1;
    }
    if (iVar1 % 0x2ee != 1) {
      return iVar1 / 0x2ee;
    }
    iVar1 = FUN_0046bfc0();
    return iVar1;
  }
  if ((DAT_004ca030 % 5 == 0) && (DAT_004ca030 != 0)) {
    if (DAT_005aa0e6 == (int *)0x0) {
      if (*(char *)(*(int *)(DAT_005e45e8 + 4) + 0xc9) != '\0') {
        FUN_00475490(DAT_005e45e8,9000);
        DAT_005aa0e6 = &DAT_005d2500;
      }
      if (DAT_005aa0e6 == (int *)0x0) goto LAB_004755f0;
    }
    iVar1 = *DAT_005aa0e6;
    if ((((iVar1 < 0xfb) && (iVar1 % 0x19 == 1)) || ((iVar1 < 0x2ef && (iVar1 % 0xfa == 1)))) ||
       (iVar1 % 0x2ee == 1)) {
      FUN_0046bfc0();
    }
  }
LAB_004755f0:
  iVar1 = 0;
  do {
    iVar2 = *(int *)((int)&DAT_005d2500 + iVar1);
    if (iVar2 != 0) {
      if (DAT_00598e18 == 0) {
        *(int *)((int)&DAT_005d2500 + iVar1) = iVar2 + -1;
      }
      iVar2 = *(int *)((int)&DAT_005d2500 + iVar1);
      if (iVar2 == 0) {
        if (*(int *)((int)&DAT_00598df0 + iVar1) == *(int *)(DAT_005df318 + 4)) {
          DAT_00598fd4 = 1;
          DAT_00598fd0 = 1;
          FUN_004632d0();
          FUN_00410870(*(undefined4 *)((int)&DAT_00598df0 + iVar1));
          iVar2 = FUN_0040f4a0(*(int *)(*(int *)(*(int *)(*(int *)((int)&DAT_00598df0 + iVar1) + 4)
                                                + 0x86) + 0x13) + 0x40,
                               *(int *)((int)&DAT_00598df0 + iVar1),1);
        }
        else {
          iVar2 = FUN_00475460(*(int *)((int)&DAT_00598df0 + iVar1));
        }
      }
    }
    iVar1 = iVar1 + 4;
  } while (iVar1 < 0x28);
  return iVar2;
}



void FUN_00475690(void)

{
  _memset(&DAT_00598df0,0,0x28);
  _memset(&DAT_005d2500,0,0x28);
  return;
}



void FUN_004756c0(void)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  
  _memset(&DAT_005d3220,0,0x14);
  _memset(&DAT_005d48c0,0,0x14);
  piVar3 = *(int **)(DAT_005df318 + 4);
  piVar1 = *(int **)((int)piVar3 + 10);
  *(byte *)(piVar3[1] + 0x8f) = *(byte *)(piVar3[1] + 0x8f) | 0x10;
  DAT_005d24e0 = '\x01';
  *(undefined *)((int)piVar3 + 0x22) = 1;
  if (DAT_00598d38 == 0) {
    iVar2 = 0;
    do {
      if ((&DAT_005d48c0)[iVar2] == '\0') {
        (&DAT_005d48c0)[iVar2] = 1;
        *piVar3 = (int)(&DAT_005d2540 + iVar2 * 0xa4);
        break;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 0x14);
    iVar2 = 0;
    do {
      if ((&DAT_005d3220)[iVar2] == '\0') {
        (&DAT_005d3220)[iVar2] = 1;
        *(undefined **)(piVar3[1] + 0xa0) = &DAT_005d0e60 + iVar2 * 0x120;
        *(undefined **)(*piVar3 + 0xa0) = &DAT_005d3240 + iVar2 * 0x120;
        break;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < 0x14);
  }
  do {
    if (piVar1 == (int *)0x0) {
      *(int **)(DAT_005df318 + 0xc) = piVar3;
      return;
    }
    iVar2 = piVar1[1];
    if ((((*(uint *)(iVar2 + 0x8a) & 4) != 0) || (DAT_00598d6c != 0)) ||
       (((*(uint *)(iVar2 + 0x8a) & 2) != 0 && (*(int *)(*(int *)(iVar2 + 0x100) + 0x32) == 0)))) {
      *(byte *)(iVar2 + 0x8f) = *(byte *)(iVar2 + 0x8f) | 0x10;
      DAT_005d24e0 = DAT_005d24e0 + '\x01';
      if (DAT_00598d38 == 0) {
        iVar2 = 0;
        do {
          if ((&DAT_005d48c0)[iVar2] == '\0') {
            (&DAT_005d48c0)[iVar2] = 1;
            *piVar1 = (int)(&DAT_005d2540 + iVar2 * 0xa4);
            break;
          }
          iVar2 = iVar2 + 1;
        } while (iVar2 < 0x14);
        iVar2 = 0;
        do {
          if ((&DAT_005d3220)[iVar2] == '\0') {
            (&DAT_005d3220)[iVar2] = 1;
            *(undefined **)(piVar1[1] + 0xa0) = &DAT_005d0e60 + iVar2 * 0x120;
            *(undefined **)(*piVar1 + 0xa0) = &DAT_005d3240 + iVar2 * 0x120;
            break;
          }
          iVar2 = iVar2 + 1;
        } while (iVar2 < 0x14);
      }
      *(char *)((int)piVar1 + 0x22) = DAT_005d24e0;
      *(int **)((int)piVar3 + 0x16) = piVar1;
      *(undefined4 *)((int)piVar1 + 0x16) = 0;
      piVar3 = piVar1;
    }
    piVar1 = *(int **)((int)piVar1 + 10);
  } while( true );
}



void FUN_00475860(int *param_1)

{
  uint uVar1;
  int iVar2;
  
  if (((*(byte *)(param_1[1] + 0x8f) & 0x10) == 0) &&
     ((DAT_00598944 != 0 || (*(char *)(param_1[1] + 0x189) != '\0')))) {
    *(int **)(*(int *)(DAT_005df318 + 0xc) + 0x16) = param_1;
    *(int **)(DAT_005df318 + 0xc) = param_1;
    *(undefined4 *)((int)param_1 + 0x16) = 0;
    uVar1 = *(uint *)(param_1[1] + 0x8a);
    if ((uVar1 & 4) == 0) {
      if ((uVar1 & 8) == 0) {
        if (((uVar1 & 2) != 0) && (DAT_00598d6c == 0)) {
          FUN_0046c280(param_1,0);
          *(undefined4 *)(*(int *)(param_1[1] + 0x100) + 0x32) = 0;
        }
      }
      else {
        *(undefined4 *)(*(int *)((int)param_1 + 0x1e) + 0x44) = 2;
        FUN_0046c280(param_1,0);
        *(undefined4 *)(*(int *)(param_1[1] + 0x100) + 0x32) = 0;
      }
    }
    else {
      FUN_0046c280(param_1,1);
    }
    *(byte *)(param_1[1] + 0x8f) = *(byte *)(param_1[1] + 0x8f) | 0x10;
    FUN_0047f330(param_1);
    if (DAT_00598d38 == 0) {
      iVar2 = 0;
      do {
        if ((&DAT_005d48c0)[iVar2] == '\0') {
          (&DAT_005d48c0)[iVar2] = 1;
          *param_1 = (int)(&DAT_005d2540 + iVar2 * 0xa4);
          break;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < 0x14);
      iVar2 = 0;
      while ((&DAT_005d3220)[iVar2] != '\0') {
        iVar2 = iVar2 + 1;
        if (0x13 < iVar2) {
          return;
        }
      }
      (&DAT_005d3220)[iVar2] = 1;
      *(undefined **)(param_1[1] + 0xa0) = &DAT_005d0e60 + iVar2 * 0x120;
      *(undefined **)(*param_1 + 0xa0) = &DAT_005d3240 + iVar2 * 0x120;
    }
  }
  return;
}



void FUN_004759a0(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined *puVar3;
  int iVar4;
  undefined4 *puVar5;
  
  puVar5 = *(undefined4 **)(DAT_005df318 + 4);
  if (param_1 == puVar5) {
    *(undefined4 *)(DAT_005df318 + 0xc) = 0;
    return;
  }
  puVar1 = *(undefined4 **)((int)puVar5 + 0x16);
  if (*(undefined4 **)((int)puVar5 + 0x16) != (undefined4 *)0x0) {
    while (puVar2 = puVar1, puVar2 != param_1) {
      puVar1 = *(undefined4 **)((int)puVar2 + 0x16);
      puVar5 = puVar2;
      if (*(undefined4 **)((int)puVar2 + 0x16) == (undefined4 *)0x0) {
        return;
      }
    }
    *(undefined *)((uint)*(byte *)((int)param_1 + 0x22) * 5 + -5 + DAT_005cff48) = 1;
    if (DAT_00598d38 == 0) {
      iVar4 = 0;
      puVar3 = &DAT_005d0e60;
      do {
        if (((&DAT_005d3220)[iVar4] != '\0') && (*(undefined **)(puVar2[1] + 0xa0) == puVar3)) {
          (&DAT_005d3220)[iVar4] = 0;
          break;
        }
        puVar3 = puVar3 + 0x120;
        iVar4 = iVar4 + 1;
      } while ((int)puVar3 < 0x5d24e0);
      iVar4 = 0;
      puVar3 = &DAT_005d2540;
      do {
        if (((&DAT_005d48c0)[iVar4] != '\0') && ((undefined *)*puVar2 == puVar3)) {
          (&DAT_005d48c0)[iVar4] = 0;
          break;
        }
        puVar3 = puVar3 + 0xa4;
        iVar4 = iVar4 + 1;
      } while ((int)puVar3 < 0x5d3210);
    }
    *(undefined4 *)((int)puVar5 + 0x16) = *(undefined4 *)((int)puVar2 + 0x16);
    if (param_1 == *(undefined4 **)(DAT_005df318 + 0xc)) {
      *(undefined4 **)(DAT_005df318 + 0xc) = puVar5;
    }
    *(ushort *)(param_1[1] + 0x8e) = *(ushort *)(param_1[1] + 0x8e) & 0xefff;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00475a90(void)

{
  undefined *puVar1;
  
  puVar1 = &DAT_005d06f3;
  DAT_005d0e50 = 0;
  DAT_005d0e54 = 0;
  _DAT_005d0e58 = 0;
  _DAT_005d0e5c = 0;
  _DAT_005d0670 = 0;
  _DAT_005d0674 = 0;
  _DAT_005d0678 = 0;
  _DAT_005d067c = 0;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 0x37;
  } while (puVar1 < &DAT_005d0e78);
  puVar1 = &DAT_005d04a8;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 0xd;
  } while (puVar1 < &DAT_005d066f);
  return;
}



void FUN_00475af0(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = &DAT_005d0680;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  return;
}



void FUN_00475b10(void)

{
  LONG LVar1;
  
  if (DAT_005e4a5e != '\0') {
    FUN_00475e50();
    FUN_00475fb0();
    FUN_00475ec0();
    FUN_00476350();
    FUN_00476380();
    FUN_0045ff60();
    FUN_00460c20();
    if (DAT_005b93ad == '\0') {
      DAT_004d1648 = DAT_004d1648 + -1;
      if ((DAT_004d1648 == '\0') && (DAT_005b9384 != (HMMIO)0x0)) {
        LVar1 = mmioRead(DAT_005b9384,DAT_005b9388,0x8000);
        if (LVar1 == 0) {
          mmioSeek(DAT_005b9384,0,0);
        }
        DAT_004d1648 = '\x05';
      }
    }
    else {
      DAT_004d1648 = DAT_004d1648 + -1;
      if (DAT_004d1648 == '\0') {
        FUN_0048be30(&DAT_005b9380);
        DAT_004d1648 = 5;
        return;
      }
    }
  }
  return;
}



undefined * FUN_00475bb0(void)

{
  char *pcVar1;
  int iVar2;
  
  iVar2 = 0;
  pcVar1 = &DAT_005d06f3;
  do {
    if (*pcVar1 == '\0') {
      (&DAT_005d06f3)[iVar2 * 0x37] = 1;
      return &DAT_005d06c0 + iVar2 * 0x37;
    }
    pcVar1 = pcVar1 + 0x37;
    iVar2 = iVar2 + 1;
  } while (pcVar1 < &DAT_005d0e78);
  return (undefined *)0x0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00475bf0(undefined4 *param_1,float param_2,int param_3,undefined param_4)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  float10 fVar4;
  undefined4 local_48 [11];
  undefined4 uStack_1c;
  float local_18;
  undefined4 *local_14;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  if (DAT_005e4a5e != '\0') {
    puVar2 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar3 = local_48;
    for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar3 = *puVar2;
      puVar2 = puVar2 + 1;
      puVar3 = puVar3 + 1;
    }
    local_18 = -local_18;
    if (param_2 == 0.0) {
      fVar5 = 0.0;
    }
    else {
      local_14 = local_48;
      local_18 = param_2;
      uStack_1c = 0x475c4d;
      fVar4 = (float10)FUN_00490440();
      fVar5 = (float)fVar4;
    }
    if (((param_1[8] != 0) && (param_1[1] != 0)) && ((param_3 != 4 || (_DAT_005d0e5c < 0x15)))) {
      local_14 = (undefined4 *)0x475c8c;
      local_14 = (undefined4 *)FUN_00475bb0();
      if (local_14 != (undefined4 *)0x0) {
        local_14[0xb] = param_1[8];
        *local_14 = param_1[1];
        local_14[2] = 0;
        *(undefined *)(local_14 + 0xd) = param_4;
        local_14[7] = param_2;
        local_14[8] = param_3;
        *(undefined *)((int)local_14 + 0x35) = 1;
        local_14[9] = 0;
        local_14[10] = 0;
        *(undefined *)(local_14 + 0xc) = 0;
        *(undefined *)((int)local_14 + 0x31) = 0;
        local_14[1] = *param_1;
        *(undefined *)((int)local_14 + 0x36) = *(undefined *)(param_1 + 9);
        local_14[3] = param_1[2];
        local_14[4] = param_1[3];
        local_14[5] = 0xfe;
        if (DAT_005d0e50 == (undefined4 *)0x0) {
          _DAT_005d0e5c = 1;
          DAT_005d0e50 = local_14;
        }
        else {
          local_14[9] = DAT_005d0e54;
          DAT_005d0e54[10] = local_14;
          _DAT_005d0e5c = _DAT_005d0e5c + 1;
        }
        DAT_005d0e54 = local_14;
        if (fVar5 < 15000.0) {
          local_18 = 6.553757e-39;
          FUN_00476630();
          return;
        }
        if (local_14[8] == 4) {
          local_18 = 6.553787e-39;
          FUN_00476410();
        }
      }
    }
  }
  return;
}



void FUN_00475d60(int param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  
  if (DAT_005d0e50 != 0) {
    iVar1 = DAT_005d0e50;
    do {
      if ((*(int *)(iVar1 + 0x2c) == *(int *)(param_1 + 0x20)) &&
         (*(int *)(iVar1 + 0x1c) == param_2)) {
        return;
      }
    } while ((iVar1 != 0) && (iVar1 = *(int *)(iVar1 + 0x28), iVar1 != 0));
  }
  FUN_00475bf0(param_1,param_2,param_3,param_4);
  return;
}



void FUN_00475da0(int param_1)

{
  FUN_00475bf0(&DAT_005e4b80 + param_1 * 0x27,0,4,0);
  return;
}



void FUN_00475dd0(int *param_1)

{
  int iVar1;
  
  iVar1 = DAT_005d0e50;
  if (param_1 != (int *)0x0) {
joined_r0x00475ded:
    do {
      if (iVar1 != 0) {
        if ((*(int *)(iVar1 + 0x2c) == *(int *)((int)param_1 + 9)) &&
           ((*(int *)(iVar1 + 0x1c) == param_1[1] || (*(int *)(iVar1 + 0x1c) == 0)))) {
          if (*(uint *)(iVar1 + 0x14) < 0xfa) {
            _AIL_end_sample_4((&DAT_005e49c8)[*(uint *)(iVar1 + 0x14)]);
          }
          *(undefined4 *)(iVar1 + 0x14) = 0xff;
          iVar1 = FUN_00476410(iVar1);
        }
        if (iVar1 != 0) {
          iVar1 = *(int *)(iVar1 + 0x28);
          goto joined_r0x00475ded;
        }
      }
      param_1 = (int *)*param_1;
      iVar1 = DAT_005d0e50;
    } while (param_1 != (int *)0x0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00475e50(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = DAT_005d0e50;
  if (DAT_005d0e50 != 0) {
    do {
      if (*(char *)(iVar4 + 0x34) == '\0') {
        uVar2 = *(uint *)(iVar4 + 0x14);
        if (uVar2 < 0xfa) {
          iVar3 = _AIL_sample_status_4((&DAT_005e49c8)[uVar2]);
        }
        else {
          iVar3 = (-(uint)(uVar2 != 0xfe) & 0xfffffffe) + 4;
        }
        if ((iVar3 == 2) && (*(undefined4 *)(iVar4 + 0x14) = 0xff, _DAT_005d0e5c != 0)) {
          iVar4 = FUN_00476410(iVar4);
        }
      }
    } while ((iVar4 != 0) && (piVar1 = (int *)(iVar4 + 0x28), iVar4 = *piVar1, *piVar1 != 0));
  }
  return;
}



void FUN_00475ec0(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float10 fVar5;
  undefined4 local_44 [9];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  int iStack_18;
  undefined4 *local_14;
  
  AdjustStackForLargeAllocations();
  puVar3 = (undefined4 *)(DAT_005e45e4 + 0x90);
  puVar4 = local_44;
  for (iVar2 = 0x10; iVar1 = DAT_005d0e50, iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  for (; iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x28)) {
    iStack_18 = *(int *)(iVar1 + 0x1c);
    if (iStack_18 == 0) {
      *(undefined4 *)(iVar1 + 0x18) = 0;
    }
    else {
      local_14 = local_44;
      uStack_1c = 0x475f26;
      fVar5 = (float10)FUN_00490440();
      *(float *)(iVar1 + 0x18) = (float)fVar5;
    }
    if (*(float *)(iVar1 + 0x18) <= 15000.0) {
      *(undefined *)(iVar1 + 0x32) = 0;
    }
    else {
      *(undefined *)(iVar1 + 0x32) = 1;
      *(undefined *)(iVar1 + 0x35) = 1;
      if (*(uint *)(iVar1 + 0x14) < 0xf0) {
        local_14 = (undefined4 *)(iVar1 + 8);
        iStack_18 = 0;
        uStack_1c = (&DAT_005e49c8)[*(int *)(iVar1 + 0x14)];
        uStack_20 = 0x475f65;
        _AIL_sample_ms_position_12();
        local_14 = (undefined4 *)(&DAT_005e49c8)[*(int *)(iVar1 + 0x14)];
        iStack_18 = 0x475f76;
        _AIL_end_sample_4();
        *(undefined4 *)(iVar1 + 0x14) = 0xfe;
      }
    }
    if ((*(char *)(iVar1 + 0x35) != '\0') && (*(char *)(iVar1 + 0x32) == '\0')) {
      iStack_18 = 0x475f92;
      local_14 = (undefined4 *)iVar1;
      FUN_00476630();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00475fb0(void)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = DAT_005d0e54;
  if ((DAT_004c5030 < _DAT_005d0e5c) && (iVar2 = DAT_005d0e50, DAT_005d0e50 != 0)) {
    do {
      if (iVar2 == iVar3) break;
      if (*(char *)(iVar2 + 0x32) == '\0') {
        iVar2 = *(int *)(iVar2 + 0x28);
      }
      else {
        iVar2 = FUN_00476070(iVar2,0);
      }
    } while (iVar2 != 0);
  }
  if (_DAT_005d0e5c <= DAT_004c5030) {
    return;
  }
  iVar3 = *(int *)(DAT_005d0e50 + 0x28);
joined_r0x0047600d:
  do {
    iVar2 = DAT_005d0e50;
    if (iVar3 == 0) {
      DAT_005d0e50 = iVar2;
      return;
    }
    if (*(char *)(iVar3 + 0x32) != '\0') {
      DAT_005d0e50 = iVar2;
      return;
    }
    bVar1 = false;
    DAT_005d0e50 = iVar2;
    if (iVar2 != iVar3) {
      do {
        if (bVar1) goto joined_r0x0047600d;
        if ((*(int *)(iVar3 + 0x20) < *(int *)(iVar2 + 0x20)) ||
           ((*(int *)(iVar3 + 0x20) == *(int *)(iVar2 + 0x20) &&
            (*(float *)(iVar3 + 0x18) < *(float *)(iVar2 + 0x18))))) {
          iVar3 = FUN_00476070(iVar3,iVar2);
          bVar1 = true;
        }
        else {
          iVar2 = *(int *)(iVar2 + 0x28);
        }
      } while (iVar2 != iVar3);
    }
    if (!bVar1) {
      iVar3 = *(int *)(iVar3 + 0x28);
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00476070(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 0x28);
  iVar2 = iVar1;
  if (*(int *)(param_1 + 0x24) != 0) {
    *(int *)(*(int *)(param_1 + 0x24) + 0x28) = iVar1;
    iVar2 = DAT_005d0e50;
  }
  DAT_005d0e50 = iVar2;
  if (*(int *)(param_1 + 0x28) == 0) {
    DAT_005d0e54 = *(int *)(param_1 + 0x24);
  }
  else {
    *(undefined4 *)(*(int *)(param_1 + 0x28) + 0x24) = *(undefined4 *)(param_1 + 0x24);
  }
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(undefined4 *)(param_1 + 0x28) = 0;
  if (param_1 == _DAT_005d0e58) {
    _DAT_005d0e58 = iVar1;
  }
  if (param_2 == 0) {
    *(int *)(DAT_005d0e54 + 0x28) = param_1;
    *(int *)(param_1 + 0x24) = DAT_005d0e54;
    DAT_005d0e54 = param_1;
    return;
  }
  if (*(int *)(param_2 + 0x24) == 0) {
    DAT_005d0e50 = param_1;
    *(int *)(param_1 + 0x28) = param_2;
    *(int *)(param_2 + 0x24) = param_1;
    return;
  }
  *(int *)(*(int *)(param_2 + 0x24) + 0x28) = param_1;
  *(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(param_2 + 0x24);
  *(int *)(param_1 + 0x28) = param_2;
  *(int *)(param_2 + 0x24) = param_1;
  return;
}



void FUN_00476110(undefined4 **param_1)

{
  uint uVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  undefined4 **ppuVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  float10 fVar8;
  undefined local_a0 [64];
  undefined4 *local_60 [12];
  float local_30;
  float local_2c;
  float local_28;
  undefined4 *local_20;
  undefined4 uStack_1c;
  undefined4 *puStack_18;
  undefined4 ***local_14;
  
  iVar2 = (int)param_1;
  AdjustStackForLargeAllocations();
  if (*(int *)((int)param_1 + 0x1c) == 0) {
    uVar1 = *(uint *)((int)param_1 + 0x14);
    *(undefined *)((int)param_1 + 0x30) = 100;
    *(undefined *)((int)param_1 + 0x31) = 0x40;
    if (uVar1 < 0xfa) {
      local_14 = (undefined4 ***)0x476154;
      local_14 = (undefined4 ***)__ftol();
      puStack_18 = (undefined4 *)(&DAT_005e49c8)[uVar1];
      uStack_1c = 0x476163;
      _AIL_set_sample_volume_8();
    }
    if (*(uint *)((int)param_1 + 0x14) < 0xfa) {
      puStack_18 = (undefined4 *)(&DAT_005e49c8)[*(uint *)((int)param_1 + 0x14)];
      local_14 = (undefined4 ***)0x40;
      uStack_1c = 0x476182;
      _AIL_set_sample_pan_8();
      return;
    }
  }
  else {
    puStack_18 = (undefined4 *)local_a0;
    local_14 = (undefined4 ***)(DAT_005e45e4 + 0x4c);
    puVar6 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar7 = local_60;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *puVar7 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar7 = puVar7 + 1;
    }
    local_30 = -local_30;
    local_2c = -local_2c;
    local_28 = -local_28;
    uStack_1c = 0x4761c6;
    FUN_0045f140();
    local_14 = (undefined4 ***)&local_20;
    puStack_18 = (undefined4 *)local_a0;
    uStack_1c = 0x4761d9;
    FUN_0045f9b0();
    local_14 = (undefined4 ***)
               (*(float *)(DAT_005e45e4 + 0xc0) + *(float *)(*(int *)((int)param_1 + 0x1c) + 0x30));
    puStack_18 = (undefined4 *)0x476219;
    FUN_0045eab0();
    local_14 = &local_14;
    puStack_18 = &local_20;
    uStack_1c = 0x476229;
    FUN_0045fc20();
    local_14 = (undefined4 ***)0x476237;
    iVar4 = __ftol();
    ppuVar5 = (undefined4 **)(0x40 - iVar4);
    if ((DAT_00598e18 == 0) && (DAT_004d7a30 == 0)) {
      puStack_18 = *(undefined4 **)((int)param_1 + 0x1c);
      local_14 = (undefined4 ***)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 6);
    }
    else {
      puStack_18 = *(undefined4 **)((int)param_1 + 0x1c);
      local_14 = (undefined4 ***)local_60;
    }
    uStack_1c = 0x476276;
    fVar8 = (float10)FUN_00490440();
    *(float *)((int)param_1 + 0x18) = (float)fVar8;
    local_14 = (undefined4 ***)0x476296;
    iVar4 = __ftol();
    if ((int)ppuVar5 < 0x79) {
      if ((int)ppuVar5 < 7) {
        param_1 = (undefined4 **)0x7;
      }
      else {
        param_1 = ppuVar5;
        if ((0x3b < (int)ppuVar5) && ((int)ppuVar5 < 0x45)) {
          param_1 = (undefined4 **)0x40;
        }
      }
    }
    else {
      param_1 = (undefined4 **)0x78;
    }
    if (iVar4 < 0x65) {
      if (iVar4 < 1) {
        iVar4 = 0;
      }
    }
    else {
      iVar4 = 100;
    }
    cVar3 = (char)iVar4;
    if (cVar3 != *(char *)(iVar2 + 0x30)) {
      uVar1 = *(uint *)(iVar2 + 0x14);
      if (uVar1 < 0xfa) {
        local_14 = (undefined4 ***)0x47630d;
        local_14 = (undefined4 ***)__ftol();
        puStack_18 = (undefined4 *)(&DAT_005e49c8)[uVar1];
        uStack_1c = 0x47631c;
        _AIL_set_sample_volume_8();
      }
      *(char *)(iVar2 + 0x30) = cVar3;
    }
    if ((char)param_1 != *(char *)(iVar2 + 0x31)) {
      if (*(uint *)(iVar2 + 0x14) < 0xfa) {
        puStack_18 = (undefined4 *)(&DAT_005e49c8)[*(uint *)(iVar2 + 0x14)];
        uStack_1c = 0x476343;
        local_14 = (undefined4 ***)param_1;
        _AIL_set_sample_pan_8();
      }
      *(char *)(iVar2 + 0x31) = (char)param_1;
    }
  }
  return;
}



void FUN_00476350(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = DAT_005d0e50;
  if (DAT_005d0e50 != 0) {
    do {
      if (*(uint *)(iVar2 + 0x14) < 0xf0) {
        FUN_00476110(iVar2);
      }
      piVar1 = (int *)(iVar2 + 0x28);
      iVar2 = *piVar1;
    } while (*piVar1 != 0);
  }
  return;
}



void FUN_00476380(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  
  iVar3 = DAT_005d0e50;
  if (DAT_005d0e50 != 0) {
    do {
      if ((*(char *)(iVar3 + 0x35) != '\0') && (*(char *)(iVar3 + 0x34) == '\0')) {
        uVar2 = *(int *)(iVar3 + 8) + 0x2d;
        *(uint *)(iVar3 + 8) = uVar2;
        if (uVar2 < *(uint *)(iVar3 + 0x10)) {
          if (*(uint *)(iVar3 + 0x14) < 0xf0) {
            _AIL_set_sample_ms_position_8((&DAT_005e49c8)[*(uint *)(iVar3 + 0x14)],uVar2);
          }
        }
        else {
          if (*(uint *)(iVar3 + 0x14) < 0xf0) {
            _AIL_end_sample_4((&DAT_005e49c8)[*(uint *)(iVar3 + 0x14)]);
            *(undefined4 *)(iVar3 + 0x14) = 0xff;
          }
          iVar3 = FUN_00476410(iVar3);
        }
      }
    } while ((iVar3 != 0) && (piVar1 = (int *)(iVar3 + 0x28), iVar3 = *piVar1, *piVar1 != 0));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_00476410(int param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x24);
  piVar1 = (int *)(param_1 + 0x24);
  if ((iVar2 == 0) || (param_1 == _DAT_005d0e58)) {
    iVar2 = *(int *)(param_1 + 0x28);
  }
  if (param_1 == DAT_005d0e50) {
    DAT_005d0e50 = *(int *)(param_1 + 0x28);
  }
  if (param_1 == DAT_005d0e54) {
    DAT_005d0e54 = *piVar1;
  }
  if (*piVar1 != 0) {
    *(undefined4 *)(*piVar1 + 0x28) = *(undefined4 *)(param_1 + 0x28);
  }
  if (*(int *)(param_1 + 0x28) != 0) {
    *(int *)(*(int *)(param_1 + 0x28) + 0x24) = *piVar1;
  }
  *(undefined *)(param_1 + 0x33) = 0;
  _DAT_005d0e5c = _DAT_005d0e5c + -1;
  return iVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00476480(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  
  uVar3 = 0;
  uVar2 = DAT_005d0e50;
  if (DAT_005d0e50 != 0) {
    do {
      if (*(int *)(uVar2 + 0x14) == param_1) {
        uVar3 = uVar2;
      }
    } while ((uVar2 != 0) && (uVar2 = *(uint *)(uVar2 + 0x28), uVar2 != 0));
  }
  if (uVar3 != 0) {
    if (uVar3 == DAT_005d0e50) {
      DAT_005d0e50 = *(uint *)(uVar3 + 0x28);
    }
    if (uVar3 == DAT_005d0e54) {
      DAT_005d0e54 = *(uint *)(uVar3 + 0x24);
    }
    if (*(int *)(uVar3 + 0x24) != 0) {
      *(undefined4 *)(*(int *)(uVar3 + 0x24) + 0x28) = *(undefined4 *)(uVar3 + 0x28);
    }
    iVar1 = *(int *)(uVar3 + 0x28);
    if (iVar1 != 0) {
      *(undefined4 *)(iVar1 + 0x24) = *(undefined4 *)(uVar3 + 0x24);
    }
    *(undefined *)(uVar3 + 0x33) = 0;
    _DAT_005d0e5c = _DAT_005d0e5c + -1;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  return uVar2 & 0xffffff00;
}



void FUN_00476500(uint *param_1,uint param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  FUN_00476480(param_2);
  param_1[5] = param_2;
  if (param_1[4] < param_1[2]) {
    return;
  }
  if (*param_1 == param_1[2]) {
    return;
  }
  _AIL_init_sample_4((&DAT_005e49c8)[param_2]);
  _AIL_set_sample_address_12((&DAT_005e49c8)[param_2],param_1[0xb],*param_1);
  if (param_1[2] != 0) {
    _AIL_set_sample_ms_position_8((&DAT_005e49c8)[param_2],param_1[2]);
  }
  (&DAT_005d0680)[param_2] = param_1;
  _AIL_set_sample_loop_count_8((&DAT_005e49c8)[param_2],*(char *)(param_1 + 0xd) == '\0');
  _AIL_set_sample_playback_rate_8((&DAT_005e49c8)[param_2],param_1[1]);
  _AIL_set_sample_adpcm_block_size_8((&DAT_005e49c8)[param_2],param_1[3]);
  if (param_1[3] == 0) {
    if (*(char *)((int)param_1 + 0x36) == '\x01') {
      uVar1 = (&DAT_005e49c8)[param_2];
      uVar2 = 1;
      goto LAB_004765e8;
    }
    uVar2 = 3;
  }
  else {
    if (*(char *)((int)param_1 + 0x36) != '\x01') {
      uVar1 = (&DAT_005e49c8)[param_2];
      uVar2 = 7;
      goto LAB_004765e8;
    }
    uVar2 = 5;
  }
  uVar1 = (&DAT_005e49c8)[param_2];
LAB_004765e8:
  _AIL_set_sample_type_12(uVar1,uVar2,1);
  _AIL_set_sample_volume_8((&DAT_005e49c8)[param_2],0);
  param_1[5] = param_2;
  FUN_00476110(param_1);
  _AIL_start_sample_4((&DAT_005e49c8)[param_2]);
  param_1[5] = param_2;
  *(undefined *)((int)param_1 + 0x35) = 0;
  return;
}



void FUN_00476630(int param_1)

{
  char cVar1;
  int iVar2;
  int iVar3;
  char cVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  
  iVar2 = param_1;
  AdjustStackForLargeAllocations();
  uVar5 = 0x7f;
  cVar4 = '\x7f';
  uVar7 = 1000;
  if (*(int *)(param_1 + 0x2c) != 0) {
    uVar6 = *(uint *)(param_1 + 0x20);
    if (uVar6 < DAT_005e4a54) {
      do {
        iVar3 = _AIL_sample_status_4((&DAT_005e49c8)[uVar6]);
        if (iVar3 == 2) {
          FUN_00476500(iVar2,uVar6);
          return;
        }
        iVar3 = (&DAT_005d0680)[uVar6];
        if (((iVar3 != 0) && (*(char *)(iVar3 + 0x33) != '\0')) && (*(char *)(iVar3 + 0x34) == '\0')
           ) {
          cVar4 = (char)uVar5;
          if (((*(int *)(iVar3 + 0x20) == 4) && (cVar1 = *(char *)(iVar3 + 0x30), cVar1 < 'K')) &&
             (SBORROW4((int)cVar1,cVar4 * 2) != (int)cVar1 + cVar4 * -2 < 0)) {
            uVar5 = (int)*(char *)(iVar2 + 0x30) / 2;
            param_1 = iVar3;
            uVar7 = uVar6;
          }
          else if ((*(char *)(iVar3 + 0x30) < '<') && (*(char *)(iVar3 + 0x30) < cVar4)) {
            uVar5 = (uint)*(byte *)(iVar2 + 0x30);
            param_1 = iVar3;
            uVar7 = uVar6;
          }
        }
        cVar4 = (char)uVar5;
        uVar6 = uVar6 + 1;
      } while (uVar6 < DAT_005e4a54);
    }
    if (((*(int *)(iVar2 + 0x20) == 4) && (0xf0 < *(uint *)(iVar2 + 0x14))) && ('P' < cVar4)) {
      FUN_00476410(iVar2);
      return;
    }
    if (uVar7 != 1000) {
      FUN_00476410(param_1);
      FUN_00476500(iVar2,uVar7);
    }
  }
  return;
}



undefined4 FUN_00476740(int param_1)

{
  byte bVar1;
  
  if ((DAT_00598944 == 0) && (99 < *(byte *)(param_1 + 4))) {
    return 0;
  }
  bVar1 = *(char *)(param_1 + 4) + 0x1e;
  *(byte *)(param_1 + 4) = bVar1;
  if (100 < bVar1) {
    *(undefined *)(param_1 + 4) = 100;
  }
  return 1;
}



void FUN_00476780(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 6;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(6);
  DAT_005d0494 = _memset(_Dst,_Val,_Size);
  return;
}



void FUN_004767a0(void)

{
  int iVar1;
  int iVar2;
  ushort *puVar3;
  uint uVar4;
  
  if (DAT_005d0494 != (ushort *)0x0) {
    puVar3 = DAT_005d0494;
    if (*DAT_005d0494 != 0) {
      uVar4 = 0;
      iVar2 = *(int *)(DAT_005d0494 + 1);
      if (*DAT_005d0494 != 0) {
        do {
          iVar1 = *(int *)(iVar2 + 0xb);
          if (iVar2 != 0) {
            FreeMemory(iVar2);
            puVar3 = DAT_005d0494;
          }
          uVar4 = uVar4 + 1;
          iVar2 = iVar1;
        } while (uVar4 < *puVar3);
      }
    }
    if (puVar3 != (ushort *)0x0) {
      FreeMemory(puVar3);
      DAT_005d0494 = (ushort *)0x0;
    }
  }
  return;
}



void FUN_00476850(int param_1)

{
  short sVar1;
  void *pvVar2;
  int _Val;
  size_t _Size;
  
  _Size = 0xf;
  _Val = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0xf);
  pvVar2 = _memset(pvVar2,_Val,_Size);
  *(undefined2 *)((int)pvVar2 + 1) = *(undefined2 *)(param_1 + 4);
  sVar1 = (*(ushort *)(param_1 + 4) % 5 + 1) * 200;
  *(short *)((int)pvVar2 + 3) = sVar1;
  *(short *)((int)pvVar2 + 5) = sVar1;
  if (*DAT_005d0494 != 0) {
    *(void **)(*(int *)(DAT_005d0494 + 1) + 7) = pvVar2;
    *(undefined4 *)((int)pvVar2 + 0xb) = *(undefined4 *)(DAT_005d0494 + 1);
    *(void **)(DAT_005d0494 + 1) = pvVar2;
    *DAT_005d0494 = *DAT_005d0494 + 1;
    return;
  }
  *(void **)(DAT_005d0494 + 1) = pvVar2;
  *DAT_005d0494 = *DAT_005d0494 + 1;
  return;
}



void FUN_004768e0(void)

{
  ushort uVar1;
  undefined *puVar2;
  char *pcVar3;
  char *pcVar4;
  ushort *puVar5;
  uint uVar6;
  
  uVar1 = *DAT_005d0494;
  if (uVar1 != 0) {
    puVar2 = *(undefined **)(DAT_005d0494 + 1);
    if (uVar1 != 0) {
      uVar6 = (uint)uVar1;
      do {
        if (*(short *)(puVar2 + 5) == 0) {
          puVar5 = (ushort *)
                   (*(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)(puVar2 + 1) * 4) +
                   0xa1);
          *puVar5 = *puVar5 | 1;
          *puVar2 = 1;
        }
        else {
          *(short *)(puVar2 + 5) = *(short *)(puVar2 + 5) + -1;
        }
        uVar6 = uVar6 - 1;
      } while (uVar6 != 0);
    }
    if (*DAT_005d0494 != 0) {
      uVar6 = (uint)*DAT_005d0494;
      pcVar4 = *(char **)(DAT_005d0494 + 1);
      puVar5 = DAT_005d0494;
      do {
        pcVar3 = *(char **)(pcVar4 + 0xb);
        if (*pcVar4 != '\0') {
          *puVar5 = *puVar5 - 1;
          if (pcVar4 == *(char **)(DAT_005d0494 + 1)) {
            *(undefined4 *)(DAT_005d0494 + 1) = *(undefined4 *)(pcVar4 + 0xb);
            if (*(int *)(pcVar4 + 0xb) != 0) {
              *(undefined4 *)(*(int *)(pcVar4 + 0xb) + 7) = 0;
            }
          }
          else {
            *(undefined4 *)(*(int *)(pcVar4 + 7) + 0xb) = *(undefined4 *)(pcVar4 + 0xb);
            if (*(int *)(pcVar4 + 0xb) != 0) {
              *(undefined4 *)(*(int *)(pcVar4 + 0xb) + 7) = *(undefined4 *)(pcVar4 + 7);
            }
          }
          puVar5 = DAT_005d0494;
          if (pcVar4 != (char *)0x0) {
            FreeMemory(pcVar4);
            puVar5 = DAT_005d0494;
          }
        }
        uVar6 = uVar6 - 1;
        pcVar4 = pcVar3;
      } while (uVar6 != 0);
    }
  }
  return;
}



void FUN_004769c0(void)

{
  int iVar1;
  
  iVar1 = DAT_005a88c4;
  *(undefined4 *)(DAT_005a88c4 + 0x10) = 0xffffffff;
  *(undefined4 *)(iVar1 + 8) = 0;
  *(undefined4 *)(iVar1 + 0x18) = 0x3c75c28f;
  *(undefined4 *)(iVar1 + 0x1c) = 0x3c75c28f;
  *(undefined4 *)(iVar1 + 0x30) = 0xffffffff;
  *(undefined4 *)(iVar1 + 0x28) = 0;
  *(undefined4 *)(iVar1 + 0x38) = 0x3c75c28f;
  *(undefined4 *)(iVar1 + 0x3c) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x50) = 0xffffffff;
  *(undefined4 *)(iVar1 + 0x48) = 0;
  *(undefined4 *)(iVar1 + 0x58) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x5c) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x70) = 0xffffffff;
  *(undefined4 *)(iVar1 + 0x68) = 0;
  *(undefined4 *)(iVar1 + 0x78) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x7c) = 0x3c75c28f;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00476a20(void)

{
  undefined4 uVar1;
  ushort uVar2;
  int iVar3;
  ushort *puVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  undefined4 local_74 [4];
  int local_64;
  undefined4 local_50;
  undefined4 uStackY_2c;
  int *piStackY_28;
  undefined4 uStackY_24;
  int *piStackY_20;
  undefined4 uStackY_1c;
  
  AdjustStackForLargeAllocations();
  DAT_005d0424 = DAT_005a88c0;
  uVar2 = FUN_0046be10();
  uStackY_1c = 0x476a4d;
  _memset(local_74,0,0x6c);
  local_74[0] = 0x6c;
  iVar5 = (uint)uVar2 * 0x16;
  piStackY_20 = *(int **)(*(int *)((int)DAT_005986c8 + 0x22) + iVar5);
  uStackY_1c = 0;
  uStackY_24 = 0x476a81;
  iVar3 = (**(code **)(*piStackY_20 + 100))();
  if (iVar3 != 0) {
    return 0;
  }
  DAT_005cff50 = local_50;
  DAT_005cff58 = local_64 >> 1;
  uStackY_24 = 0;
  piStackY_28 = *(int **)(*(int *)((int)DAT_005986c8 + 0x22) + iVar5);
  uStackY_2c = 0x476ab7;
  (**(code **)(*piStackY_28 + 0x80))();
  *(undefined4 *)(*(int *)((int)DAT_005986c8 + 0x22) + 0x12 + iVar5) = 1;
  uVar1 = DAT_005d0424;
  _DAT_004d17c0 = (float)*DAT_005986c8 * 0.03125;
  DAT_005cff54 = *DAT_005986c8;
  DAT_005d0420 = DAT_005cff54 * DAT_005cff54 + -1;
  puVar4 = &DAT_005d0168;
  do {
    *(undefined4 *)(puVar4 + -2) = uVar1;
    *puVar4 = uVar2;
    *(code **)(puVar4 + 5) = FUN_004769c0;
    puVar4 = puVar4 + 0xb;
  } while ((int)puVar4 < 0x5d0428);
  pfVar6 = (float *)&DAT_005cff64;
  do {
    uStackY_2c = 0x476b1b;
    iVar3 = FUN_004af640();
    pfVar6[-1] = (float)(iVar3 % (DAT_005cff54 >> 1)) + (float)(DAT_005cff54 >> 2);
    uStackY_2c = 0x476b3f;
    iVar3 = FUN_004af640();
    pfVar7 = pfVar6 + 2;
    *pfVar6 = (float)(iVar3 % (DAT_005cff54 >> 1)) + (float)(DAT_005cff54 >> 2);
    pfVar6 = pfVar7;
  } while ((int)pfVar7 < 0x5d0164);
  return 1;
}



undefined4 FUN_00476b80(uint param_1)

{
  float *pfVar1;
  float fVar2;
  ulonglong uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  short sVar7;
  undefined4 *puVar8;
  float *pfVar9;
  undefined2 uVar10;
  undefined4 unaff_EDI;
  float10 fVar11;
  double dVar12;
  
  iVar6 = param_1;
  AdjustStackForLargeAllocations();
  pfVar1 = (float *)(param_1 + 0x47);
  if (DAT_00598e2c == 0) {
    puVar8 = &DAT_005cff60;
    do {
      if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
        uVar10 = *(undefined2 *)(DAT_005e5010 + 0x21bc);
      }
      else {
        uVar10 = 0;
      }
      __ftol();
      uVar5 = __ftol();
      puVar8 = puVar8 + 2;
      *(undefined2 *)(DAT_005cff50 + (uVar5 & DAT_005d0420) * 2) = uVar10;
    } while ((int)puVar8 < 0x5d0160);
    pfVar9 = (float *)&DAT_005cff60;
    DAT_00598e30 = DAT_00598e30 + 1;
    param_1 = 0;
    fVar2 = (float)DAT_00598e30;
    do {
      dVar12 = (double)((float)param_1 + fVar2 * 0.05);
      uVar3 = (ulonglong)dVar12 >> 0x20;
      fVar11 = (float10)FUN_004ae014(dVar12);
      *pfVar9 = (float)((float10)*pfVar9 - fVar11 * (float10)-0.5);
      fVar11 = (float10)FUN_004ae0c4(SUB84(dVar12,0),(int)uVar3);
      iVar4 = DAT_005e5010;
      pfVar9[1] = (float)((float10)pfVar9[1] - fVar11 * (float10)-0.5);
      if (*(int *)(iVar4 + 0x2190) == 0) {
        sVar7 = (-(ushort)((param_1 & 1) != 0) & 0x20) - 0x20;
      }
      else {
        sVar7 = (-(ushort)((param_1 & 1) != 0) & 0xf010) - 0x10;
      }
      __ftol();
      uVar5 = __ftol();
      pfVar9 = pfVar9 + 2;
      param_1 = param_1 + 1;
      *(short *)(DAT_005cff50 + (uVar5 & DAT_005d0420) * 2) = sVar7;
    } while ((int)pfVar9 < 0x5d0160);
  }
  else if (0x20 < DAT_00598e2c) {
    return 0;
  }
  *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * 0.5;
  *(float *)(iVar6 + 0x4b) = *(float *)(DAT_005e45e4 + 0x248) * 0.5;
  *(float *)(iVar6 + 0x4f) = *(float *)(DAT_005e45e4 + 600) * 0.5;
  *(float *)(iVar6 + 0x57) = *(float *)(DAT_005e45e4 + 0x23c) * 0.4;
  *(float *)(iVar6 + 0x5b) = *(float *)(DAT_005e45e4 + 0x24c) * 0.4;
  *(float *)(iVar6 + 0x5f) = *(float *)(DAT_005e45e4 + 0x25c) * 0.4;
  *(float *)(iVar6 + 0x67) = *(float *)(DAT_005e45e4 + 0x240) * 0.5;
  *(float *)(iVar6 + 0x6b) = *(float *)(DAT_005e45e4 + 0x250) * 0.5;
  *(float *)(iVar6 + 0x6f) = *(float *)(DAT_005e45e4 + 0x260) * 0.5;
  iVar6 = FUN_004a2710(0x40400000,pfVar1,&stack0xfffffff0);
  if (iVar6 != 0) {
    iVar6 = DAT_00598e2c * 0x16;
    *(float **)(&DAT_005d0160 + iVar6) = pfVar1;
    FUN_00485990(unaff_EDI,&DAT_005d0160 + iVar6);
    DAT_00598e2c = DAT_00598e2c + 1;
    DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
  }
  return 1;
}



void FUN_00476e10(undefined4 *param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  undefined uVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  float10 fVar7;
  undefined local_48 [12];
  undefined4 local_3c;
  undefined4 local_38;
  undefined *local_34;
  float local_30;
  undefined4 *local_2c;
  float *local_28;
  float local_24;
  float local_20;
  float local_1c;
  int local_18;
  undefined *local_14;
  
  AdjustStackForLargeAllocations();
  iVar4 = *(int *)(*(int *)(param_2 + 4) + 0x86);
  iVar1 = DAT_005cff44 +
          (uint)*(ushort *)((uint)*(byte *)(param_2 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc;
  if (param_3 != 0) {
    local_14 = (undefined *)0x1;
    local_18 = *(int *)(iVar4 + 0x13) + 0x8d;
    local_1c = (float)param_2;
    local_20 = 6.559939e-39;
    iVar3 = FUN_00409bd0();
    if (iVar3 != 0) {
      local_2c = (undefined4 *)param_1[0xc];
      local_28 = (float *)param_1[0xd];
      local_24 = (float)param_1[0xe];
      local_30 = *(float *)(*(int *)(param_2 + 4) + 0x3e);
      local_34 = local_48;
      local_18 = 0;
      local_1c = local_24 - local_30;
      local_20 = 0.1;
      local_38 = 0;
      local_3c = 0x476ee8;
      local_14 = local_34;
      fVar7 = (float10)FUN_00421a70();
      if (fVar7 != (float10)-10000.0) {
        *(float *)(*(int *)(param_2 + 4) + 0xd3) =
             *(float *)(*(int *)(param_2 + 4) + 0xd3) - local_24 * 0.05;
        *(float *)(*(int *)(param_2 + 4) + 0xd7) =
             *(float *)(*(int *)(param_2 + 4) + 0xd7) - local_20 * 0.05;
        *(float *)(*(int *)(param_2 + 4) + 0xdb) =
             *(float *)(*(int *)(param_2 + 4) + 0xdb) - local_1c * 0.05;
        return;
      }
      *(undefined2 *)(iVar1 + 0xb4) = *(undefined2 *)(*(int *)(iVar4 + 0x13) + 0xa1);
      *(undefined *)(iVar1 + 0xba) = *(undefined *)(*(int *)(iVar4 + 0x13) + 0xed);
      uVar2 = *(undefined *)(*(int *)(iVar4 + 0x13) + 0xee);
      *(int *)(iVar1 + 0xa3) = param_2;
      *(undefined *)(iVar1 + 0xbb) = uVar2;
      *(int *)(iVar1 + 0xab) = iVar4;
      *(undefined4 *)(iVar1 + 200) = 0;
      *(undefined4 *)(iVar1 + 0x9b) = 0;
      *(undefined4 *)(iVar1 + 3) = 5;
      *(undefined4 *)(iVar1 + 0x97) = 1;
      *(byte *)(iVar1 + 0xb3) = *(byte *)(iVar1 + 0xb3) | 0x10;
      puVar5 = param_1;
      puVar6 = (undefined4 *)(iVar1 + 7);
      for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      local_18 = param_2;
      local_1c = 6.560431e-39;
      local_14 = (undefined *)iVar1;
      FUN_0047ae90();
      if (param_4 != 0) {
        local_3c = param_1[0xc];
        local_38 = param_1[0xd];
        local_34 = (undefined *)param_1[0xe];
        local_14 = (undefined *)0x476ff8;
        fVar7 = (float10)FUN_0045e9e0();
        local_30 = (float)(((float10)0.8 - fVar7 * (float10)-0.5) *
                          (float10)*(float *)(iVar1 + 0x87));
        local_14 = (undefined *)0x477012;
        fVar7 = (float10)FUN_0045e9e0();
        local_2c = (undefined4 *)
                   (float)(((float10)1.0 - fVar7 * (float10)-0.2) *
                           (float10)*(float *)(iVar1 + 0x8b) - (float10)-0.2);
        local_14 = (undefined *)0x477032;
        fVar7 = (float10)FUN_0045e9e0();
        local_14 = (undefined *)0x8;
        local_18 = 0;
        local_28 = (float *)(float)(((float10)0.8 - fVar7 * (float10)-0.5) *
                                   (float10)*(float *)(iVar1 + 0x8f));
        local_1c = 6.56061e-39;
        fVar7 = (float10)FUN_0045e9e0();
        local_28 = &local_30;
        local_2c = &local_3c;
        local_1c = (float)((fVar7 - (float10)-1.0) * (float10)0.2);
        local_20 = 1.401298e-45;
        local_24 = 7.006492e-45;
        local_30 = 4.203895e-45;
        local_34 = (undefined *)0x477073;
        FUN_0046cb20();
      }
    }
  }
  return;
}



void FUN_00477080(float *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  iVar3 = *(int *)(*(int *)(param_2 + 4) + 0x86);
  iVar1 = *(int *)(iVar3 + 0x13);
  if (((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 4) == 0) &&
     (iVar2 = FUN_00409bd0(param_2,iVar1 + 0x8d,1), iVar2 == 0)) {
    return;
  }
  if ((DAT_00598944 != 0) && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
    FUN_00466530(0x17,0,0,0,0,0);
  }
  iVar2 = DAT_005cff44 +
          (uint)*(ushort *)((uint)*(byte *)(param_2 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc;
  *(undefined2 *)(iVar2 + 0xb4) = *(undefined2 *)(iVar1 + 0xa1);
  *(undefined *)(iVar2 + 0xba) = *(undefined *)(iVar1 + 0xed);
  *(undefined *)(iVar2 + 0xbb) = *(undefined *)(iVar1 + 0xee);
  if ((*(byte *)(iVar1 + 0xef) & 2) == 0) {
    *(byte *)(iVar2 + 0xb3) = *(byte *)(iVar2 + 0xb3) & 0xfd;
  }
  else {
    *(byte *)(iVar2 + 0xb3) = *(byte *)(iVar2 + 0xb3) | 2;
  }
  *(undefined4 *)(iVar2 + 200) = 0;
  *(undefined4 *)(iVar2 + 0x9b) = 0;
  *(int *)(iVar2 + 0xab) = iVar3;
  *(undefined4 *)(iVar2 + 3) = 5;
  *(undefined4 *)(iVar2 + 0x97) = 1;
  *(int *)(iVar2 + 0xa3) = param_2;
  *(byte *)(iVar2 + 0xb3) = *(byte *)(iVar2 + 0xb3) | 0x10;
  puVar4 = &DAT_004d1ae0;
  puVar5 = (undefined4 *)(iVar2 + 7);
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  *(float *)(iVar2 + 0x37) = -*param_1;
  *(float *)(iVar2 + 0x3b) = -param_1[1];
  *(float *)(iVar2 + 0x3f) = -param_1[2];
  FUN_0047ae90(param_2,iVar2);
  if (DAT_005e4a64 != 0) {
    FUN_00475bf0(DAT_005e4a64 + 0x492,(undefined4 *)(iVar2 + 7),1,0);
  }
  return;
}



void FUN_004771e0(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 local_dc [16];
  undefined4 local_9c [16];
  undefined local_5c [12];
  undefined4 local_50 [7];
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined *puStack_2c;
  undefined *puStack_28;
  undefined4 uStack_24;
  undefined4 local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  undefined4 *puStack_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 4);
  puVar3 = &DAT_004d1ae0;
  puVar4 = local_50;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
  if (((((iVar2 == 4) || (iVar2 == 5)) ||
       ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
        (*(char *)(iVar1 + 4) == '\x03')))) ||
      ((*(int *)(iVar2 + 0x7b) == 8 &&
       ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)) {
    puStack_14 = (undefined4 *)(iVar1 + 0x46);
    local_18 = local_50;
    local_1c = local_dc;
    puVar3 = (undefined4 *)(iVar1 + 6);
    puVar4 = local_9c;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    local_20 = 0x477281;
    MultiplyMatrices();
    puStack_14 = local_9c;
    local_18 = local_dc;
  }
  else {
    puStack_14 = (undefined4 *)(iVar1 + 6);
    local_18 = local_50;
  }
  local_1c = local_50;
  local_20 = 0x47729b;
  MultiplyMatrices();
  puStack_14 = (undefined4 *)0x0;
  local_18 = (undefined4 *)0x0;
  local_1c = (undefined4 *)0x3dcccccd;
  local_20 = 1;
  puStack_28 = local_5c;
  uStack_24 = 4;
  puStack_2c = &stack0xfffffff0;
  uStack_30 = 2;
  uStack_34 = 0x4772d2;
  FUN_0046cb20();
  puStack_14 = (undefined4 *)param_1;
  local_18 = (undefined4 *)0x0;
  local_1c = (undefined4 *)0x4772dd;
  FUN_00477820();
  return;
}



void FUN_004772f0(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  undefined4 *puVar7;
  int *piVar8;
  undefined4 *puVar9;
  float10 fVar10;
  int local_e4 [16];
  undefined4 local_a4 [12];
  float local_74;
  float local_70;
  float local_6c;
  undefined4 *local_64;
  float local_60;
  undefined4 local_5c;
  int local_58 [9];
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 **ppuStack_2c;
  undefined4 **local_28;
  undefined4 local_24;
  int *local_20;
  int *local_1c;
  int *local_18;
  undefined4 *local_14;
  undefined4 *puVar11;
  
  AdjustStackForLargeAllocations();
  iVar1 = param_1[1];
  iVar5 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
  puVar11 = *(undefined4 **)(iVar5 + 99);
  if (((*(char *)(iVar1 + 4) == '\x05') || (*(char *)(iVar1 + 4) == '\x06')) &&
     ((iVar5 = *(int *)(iVar5 + 0x7f), iVar5 == 0xe || (iVar5 == 0xf)))) {
    if ((*(char *)(iVar1 + 5) == '\x02') && ((*(byte *)(iVar1 + 0x8a) & 4) == 0)) {
      local_14 = param_1;
      local_18 = (int *)0x4777e8;
      FUN_004771e0();
    }
  }
  else if (puVar11 != (undefined4 *)0x0) {
    do {
      uVar4 = (uint)*(byte *)(iVar1 + 4);
      uVar3 = (uint)*(byte *)(iVar1 + 5);
      if (*(char *)(puVar11[uVar4 + 8] + uVar3) == '\0') goto switchD_00477375_caseD_b;
      switch(*puVar11) {
      case 1:
      case 2:
        piVar6 = (int *)(puVar11[uVar4 + 1] + uVar3 * 0x40);
        piVar8 = local_58;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar8 = *piVar6;
          piVar6 = piVar6 + 1;
          piVar8 = piVar8 + 1;
        }
        puVar7 = (undefined4 *)(iVar1 + 6);
        puVar9 = local_a4;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar9 = *puVar7;
          puVar7 = puVar7 + 1;
          puVar9 = puVar9 + 1;
        }
        local_74 = local_74 + *(float *)(iVar1 + 0xa4);
        local_70 = local_70 + *(float *)(iVar1 + 0xa8);
        local_6c = local_6c + *(float *)(iVar1 + 0xac);
        iVar5 = param_1[1];
        iVar2 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
        if (((((iVar2 == 4) || (iVar2 == 5)) ||
             ((iVar2 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
              (*(char *)(iVar5 + 4) == '\x03')))) ||
            ((*(int *)(iVar2 + 0x7b) == 8 &&
             ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
           ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) {
          local_14 = (undefined4 *)(iVar1 + 0x46);
          local_18 = local_58;
          local_1c = local_e4;
          local_20 = (int *)0x47750c;
          MultiplyMatrices();
          local_18 = local_e4;
        }
        else {
          local_18 = local_58;
        }
        local_14 = local_a4;
        local_1c = local_58;
        local_20 = (int *)0x477526;
        MultiplyMatrices();
        local_28 = &local_64;
        local_64 = *(undefined4 **)(iVar1 + 0xa4);
        local_14 = (undefined4 *)0x0;
        local_18 = (int *)0x0;
        local_60 = *(float *)(iVar1 + 0xa8) - -0.1;
        local_1c = (int *)0x3ccccccd;
        local_20 = (int *)0x1;
        local_24 = 4;
        ppuStack_2c = &local_14;
        local_5c = *(undefined4 *)(iVar1 + 0xac);
        uStack_30 = 6;
        uStack_34 = 0x47757e;
        FUN_0046cb20();
        local_18 = puVar11;
        if ((*(char *)(iVar1 + 4) == '\x05') || (*(char *)(iVar1 + 4) == '\x06')) {
          local_14 = param_1;
          local_1c = (int *)0x477596;
          FUN_00477820();
        }
        puVar11 = (undefined4 *)local_18[0xf];
        break;
      case 3:
      case 4:
      case 5:
      case 7:
      case 8:
      case 10:
      default:
switchD_00477375_caseD_b:
        puVar11 = (undefined4 *)puVar11[0xf];
        break;
      case 6:
        piVar6 = (int *)(puVar11[uVar4 + 1] + uVar3 * 0x40);
        piVar8 = local_58;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar8 = *piVar6;
          piVar6 = piVar6 + 1;
          piVar8 = piVar8 + 1;
        }
        iVar5 = param_1[1];
        iVar2 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
        if ((((iVar2 == 4) || (iVar2 == 5)) ||
            ((iVar2 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
             (*(char *)(iVar5 + 4) == '\x03')))) ||
           (((*(int *)(iVar2 + 0x7b) == 8 &&
             ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))) ||
            ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)))) {
          local_14 = (undefined4 *)(iVar1 + 0x46);
          puVar7 = (undefined4 *)(iVar1 + 6);
          puVar9 = local_a4;
          for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
            *puVar9 = *puVar7;
            puVar7 = puVar7 + 1;
            puVar9 = puVar9 + 1;
          }
          local_18 = local_58;
          local_1c = local_e4;
          local_20 = (int *)0x47763a;
          MultiplyMatrices();
          local_14 = local_a4;
          local_18 = local_e4;
        }
        else {
          local_14 = (undefined4 *)(iVar1 + 6);
          local_18 = local_58;
        }
        local_1c = local_58;
        local_20 = (int *)0x477654;
        MultiplyMatrices();
        if ((*(int *)(*(int *)(param_1[1] + 0x98) + 0x10) != 4) ||
           ((*(byte *)(param_1[1] + 0x8a) & 1) == 0)) {
          local_14 = (undefined4 *)0x6;
          local_18 = (int *)0x0;
          local_1c = (int *)0x47768d;
          fVar10 = (float10)FUN_0045e9e0();
          local_28 = &local_14;
          local_1c = (int *)(float)((fVar10 - (float10)-1.0) * (float10)0.25);
          local_20 = (int *)0x1;
          local_24 = 8;
          ppuStack_2c = (undefined4 **)0x4776aa;
          FUN_0046cc80();
        }
        puVar11 = (undefined4 *)puVar11[0xf];
        break;
      case 9:
        piVar6 = (int *)(puVar11[uVar4 + 1] + uVar3 * 0x40);
        piVar8 = local_58;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar8 = *piVar6;
          piVar6 = piVar6 + 1;
          piVar8 = piVar8 + 1;
        }
        iVar5 = param_1[1];
        iVar2 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
        if (((((iVar2 == 4) || (iVar2 == 5)) ||
             ((iVar2 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
              (*(char *)(iVar5 + 4) == '\x03')))) ||
            ((*(int *)(iVar2 + 0x7b) == 8 &&
             ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
           ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) {
          local_14 = (undefined4 *)(iVar1 + 0x46);
          puVar7 = (undefined4 *)(iVar1 + 6);
          puVar9 = local_a4;
          for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
            *puVar9 = *puVar7;
            puVar7 = puVar7 + 1;
            puVar9 = puVar9 + 1;
          }
          local_18 = local_58;
          local_1c = local_e4;
          local_20 = (int *)0x477758;
          MultiplyMatrices();
          local_14 = local_a4;
          local_18 = local_e4;
          local_1c = local_58;
          local_20 = (int *)0x477772;
          MultiplyMatrices();
        }
        else {
          local_14 = (undefined4 *)(iVar1 + 6);
          local_18 = local_58;
          local_1c = local_58;
          local_20 = (int *)0x47772f;
          MultiplyMatrices();
        }
        if ((*(char *)(iVar1 + 4) == '\x05') || (*(char *)(iVar1 + 4) == '\x06')) {
          local_20 = local_58;
          local_14 = (undefined4 *)(uint)(*(int *)(*(int *)(*local_18 + 0x13) + 0x7f) != 7);
          local_18 = (int *)0x1;
          local_1c = param_1;
          local_24 = 0x4777aa;
          FUN_00476e10();
        }
        puVar11 = (undefined4 *)puVar11[0xf];
        break;
      case 0xb:
        piVar6 = (int *)(puVar11[uVar4 + 1] + uVar3 * 0x40);
        piVar8 = local_58;
        for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
          *piVar8 = *piVar6;
          piVar6 = piVar6 + 1;
          piVar8 = piVar8 + 1;
        }
        iVar5 = param_1[1];
        iVar2 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
        if (((((iVar2 == 4) || (iVar2 == 5)) ||
             ((iVar2 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
              (*(char *)(iVar5 + 4) == '\x03')))) ||
            ((*(int *)(iVar2 + 0x7b) == 8 &&
             ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
           ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) {
          local_14 = (undefined4 *)(iVar1 + 0x46);
          puVar7 = (undefined4 *)(iVar1 + 6);
          puVar9 = local_a4;
          for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
            *puVar9 = *puVar7;
            puVar7 = puVar7 + 1;
            puVar9 = puVar9 + 1;
          }
          local_18 = local_58;
          local_1c = local_e4;
          local_20 = (int *)0x47740f;
          MultiplyMatrices();
          local_14 = local_a4;
          local_18 = local_e4;
        }
        else {
          local_14 = (undefined4 *)(iVar1 + 6);
          local_18 = local_58;
        }
        local_1c = local_58;
        local_20 = (int *)0x477429;
        MultiplyMatrices();
        puVar11 = (undefined4 *)puVar11[0xf];
      }
      if (puVar11 == (undefined4 *)0x0) {
        return;
      }
    } while( true );
  }
  return;
}



void FUN_00477820(int param_1,int param_2)

{
  int iVar1;
  undefined uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  float10 fVar9;
  undefined4 local_12c [16];
  undefined4 local_ec [16];
  undefined4 local_ac [19];
  undefined4 local_60 [9];
  undefined4 uStack_3c;
  undefined4 uStack_38;
  float fStack_34;
  float local_30;
  float local_2c;
  float local_28;
  float fStack_24;
  int local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  undefined4 *local_14;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  iVar6 = *(int *)(param_2 + 4);
  local_14 = (undefined4 *)0x1;
  iVar1 = DAT_005cff44 +
          (uint)*(ushort *)((uint)*(byte *)(param_2 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc;
  local_18 = (undefined4 *)(*(int *)(*(int *)(iVar6 + 0x86) + 0x13) + 0x8d);
  local_1c = (undefined4 *)param_2;
  local_20 = 0x47787e;
  iVar5 = iVar6;
  iVar4 = FUN_00409bd0();
  if (iVar4 == 0) {
    *(uint *)(*(int *)(param_2 + 4) + 0x8a) = *(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0xfffffbff;
    return;
  }
  if ((DAT_00598944 != 0) && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
    iVar4 = *(int *)(*(int *)(param_2 + 4) + 0x86);
    iVar3 = *(int *)(*(int *)(iVar4 + 0x13) + 0x7f);
    if ((0xd < iVar3) && (iVar3 < 0x10)) {
      local_14 = (undefined4 *)0x0;
      local_1c = (undefined4 *)(uint)*(byte *)(iVar4 + 9);
      local_18 = (undefined4 *)0x0;
      local_20 = 0;
      fStack_24 = 2.802597e-45;
      local_28 = 2.802597e-44;
      local_2c = 6.563679e-39;
      FUN_00466530();
    }
  }
  if (param_1 == 0) {
    puVar7 = &DAT_004d1ae0;
  }
  else {
    puVar7 = (undefined4 *)
             (*(int *)(param_1 + 4 + (uint)*(byte *)(iVar6 + 4) * 4) +
             (uint)*(byte *)(iVar6 + 5) * 0x40);
  }
  puVar8 = local_ac;
  iVar6 = iVar5;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  local_14 = (undefined4 *)(iVar5 + 6);
  puVar7 = local_14;
  puVar8 = local_ec;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  iVar5 = *(int *)(param_2 + 4);
  iVar4 = *(int *)(*(int *)(iVar5 + 0x98) + 0x10);
  if (((((iVar4 == 4) || (iVar4 == 5)) ||
       ((iVar4 = *(int *)(*(int *)(iVar5 + 0x86) + 0x13), *(int *)(iVar4 + 0x114) == 6 &&
        (*(char *)(iVar5 + 4) == '\x03')))) ||
      ((*(int *)(iVar4 + 0x7b) == 8 &&
       ((*(char *)(iVar5 + 4) == '\x05' || (*(char *)(iVar5 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar5 + 0x8a) & 0x100000) != 0)) {
    local_18 = local_ac;
    local_14 = (undefined4 *)(iVar6 + 0x46);
    local_1c = local_12c;
    local_20 = 0x47799c;
    MultiplyMatrices();
    local_14 = local_ec;
    local_18 = local_12c;
  }
  else {
    local_18 = local_ac;
  }
  local_1c = local_60;
  local_20 = 0x4779b6;
  MultiplyMatrices();
  uStack_38 = *(undefined4 *)(iVar6 + 0x36);
  fStack_34 = *(float *)(iVar6 + 0x3a);
  local_14 = (undefined4 *)(local_2c - fStack_34);
  local_18 = (undefined4 *)0x0;
  local_1c = (undefined4 *)0x0;
  local_20 = 0x3dcccccd;
  fStack_24 = local_28;
  fVar10 = local_28 - *(float *)(iVar6 + 0x3e);
  local_28 = local_2c;
  local_2c = local_30;
  uStack_3c = 0x477a13;
  local_30 = *(float *)(iVar6 + 0x3e);
  fVar9 = (float10)FUN_00421a70();
  if (fVar9 != (float10)-10000.0) {
    *(float *)(iVar6 + 0xd3) = *(float *)(iVar6 + 0xd3) - (float)local_18 * 0.05;
    *(float *)(iVar6 + 0xd7) = *(float *)(iVar6 + 0xd7) - (float)local_14 * 0.05;
    *(float *)(iVar6 + 0xdb) = *(float *)(iVar6 + 0xdb) - fVar10 * 0.05;
    return;
  }
  *(undefined4 *)(iVar1 + 3) = 7;
  local_14 = (undefined4 *)iVar1;
  puVar7 = local_60;
  puVar8 = (undefined4 *)(iVar1 + 7);
  for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  *(undefined2 *)(iVar1 + 0xb4) = *(undefined2 *)(local_20 + 0x14);
  *(undefined4 *)(iVar1 + 0xb6) = 0;
  *(undefined *)(iVar1 + 0xba) = *(undefined *)(local_20 + 0x60);
  uVar2 = *(undefined *)(local_20 + 0x61);
  *(undefined4 **)(iVar1 + 0xab) = local_1c;
  local_18 = (undefined4 *)param_2;
  *(undefined *)(iVar1 + 0xbb) = uVar2;
  *(undefined4 *)(iVar1 + 200) = 0;
  *(undefined4 *)(iVar1 + 0x97) = 1;
  *(undefined4 *)(iVar1 + 0x9b) = 0;
  *(int *)(iVar1 + 0xa3) = param_2;
  *(byte *)(iVar1 + 0xb3) = *(byte *)(iVar1 + 0xb3) | 0x10;
  local_1c = (undefined4 *)0x477af1;
  FUN_0047ae90();
  return;
}



void FUN_00477b00(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  iVar2 = *(int *)(param_1 + 4);
  iVar4 = *(int *)(iVar2 + 0x86);
  iVar3 = *(int *)(iVar4 + 0x13);
  iVar1 = DAT_005cff44 +
          (uint)*(ushort *)((uint)*(byte *)(param_1 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc;
  *(undefined2 *)(iVar1 + 0xb4) = *(undefined2 *)(iVar3 + 0xa1);
  *(undefined *)(iVar1 + 0xba) = *(undefined *)(iVar3 + 0xed);
  *(undefined *)(iVar1 + 0xbb) = *(undefined *)(iVar3 + 0xee);
  if ((*(byte *)(iVar3 + 0xef) & 2) == 0) {
    *(byte *)(iVar1 + 0xb3) = *(byte *)(iVar1 + 0xb3) & 0xfd;
  }
  else {
    *(byte *)(iVar1 + 0xb3) = *(byte *)(iVar1 + 0xb3) | 2;
  }
  *(undefined4 *)(iVar1 + 200) = 0;
  *(undefined4 *)(iVar1 + 0x9b) = 0;
  *(int *)(iVar1 + 0xab) = iVar4;
  *(byte *)(iVar1 + 0xb3) = *(byte *)(iVar1 + 0xb3) | 0x10;
  *(undefined4 *)(iVar1 + 3) = 5;
  *(undefined4 *)(iVar1 + 0x97) = 1;
  *(int *)(iVar1 + 0xa3) = param_1;
  puVar5 = &DAT_004d1ae0;
  puVar6 = (undefined4 *)(iVar1 + 7);
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  *(undefined4 *)(iVar1 + 0x37) = *(undefined4 *)(iVar2 + 0x36);
  *(undefined4 *)(iVar1 + 0x3b) = *(undefined4 *)(iVar2 + 0x3a);
  *(undefined4 *)(iVar1 + 0x3f) = *(undefined4 *)(iVar2 + 0x3e);
  *(float *)(iVar1 + 7) = -*(float *)(iVar2 + 6);
  *(float *)(iVar1 + 0xb) = -*(float *)(iVar2 + 10);
  *(float *)(iVar1 + 0xf) = -*(float *)(iVar2 + 0xe);
  *(float *)(iVar1 + 0x27) = -*(float *)(iVar2 + 0x26);
  *(float *)(iVar1 + 0x2b) = -*(float *)(iVar2 + 0x2a);
  *(float *)(iVar1 + 0x2f) = -*(float *)(iVar2 + 0x2e);
  *(undefined4 *)(iVar1 + 0x9f) = 0x3fa3d70a;
  FUN_0047ae90(param_1,iVar1);
  return;
}



void FUN_00477c20(uint param_1)

{
  int iVar1;
  byte bVar2;
  
  iVar1 = *(int *)(param_1 + 0x13);
  if (**(int **)(iVar1 + 0xf0) != 0) {
    bVar2 = 0;
    if (*(byte *)(iVar1 + 0x45) != 0) {
      do {
        if (*(char *)((uint)bVar2 + *(int *)(**(int **)(iVar1 + 0xf0) + 0x149)) != '\0') {
          FUN_0040e9f0(iVar1,5,bVar2);
          break;
        }
        bVar2 = bVar2 + 1;
      } while (bVar2 < *(byte *)(iVar1 + 0x45));
    }
  }
  if (*(int *)(iVar1 + 0xf4) != 0) {
    bVar2 = 0;
    param_1 = 0;
    if (*(byte *)(iVar1 + 0x46) != 0) {
      while (*(char *)(param_1 + *(int *)(*(int *)(iVar1 + 0xf4) + 0x14d)) == '\0') {
        bVar2 = bVar2 + 1;
        param_1 = (uint)bVar2;
        if (*(byte *)(iVar1 + 0x46) <= bVar2) {
          return;
        }
      }
      FUN_0040e9f0(iVar1,6,param_1);
    }
  }
  return;
}



void FUN_00477cd0(uint param_1)

{
  int iVar1;
  byte bVar2;
  
  iVar1 = *(int *)(param_1 + 0x13);
  if (**(int **)(iVar1 + 0xf9) != 0) {
    bVar2 = 0;
    if (*(byte *)(iVar1 + 0x45) != 0) {
      do {
        if (*(char *)((uint)bVar2 + *(int *)(**(int **)(iVar1 + 0xf9) + 0x4c)) != '\0') {
          FUN_0040e9f0(iVar1,5,bVar2);
          break;
        }
        bVar2 = bVar2 + 1;
      } while (bVar2 < *(byte *)(iVar1 + 0x45));
    }
  }
  if (*(int *)(iVar1 + 0xfd) != 0) {
    bVar2 = 0;
    param_1 = 0;
    if (*(byte *)(iVar1 + 0x46) != 0) {
      while (*(char *)(param_1 + *(int *)(*(int *)(iVar1 + 0xfd) + 0x50)) == '\0') {
        bVar2 = bVar2 + 1;
        param_1 = (uint)bVar2;
        if (*(byte *)(iVar1 + 0x46) <= bVar2) {
          return;
        }
      }
      FUN_0040e9f0(iVar1,6,param_1);
    }
  }
  return;
}



void FUN_00477d80(uint param_1)

{
  int iVar1;
  byte bVar2;
  
  iVar1 = *(int *)(param_1 + 0x13);
  if (*(int *)(iVar1 + 99) != 0) {
    bVar2 = 0;
    if (*(byte *)(iVar1 + 0x45) != 0) {
      do {
        if (*(char *)((uint)bVar2 + *(int *)(*(int *)(iVar1 + 99) + 0x34)) != '\0') {
          FUN_0040e9f0(iVar1,5,bVar2);
          break;
        }
        bVar2 = bVar2 + 1;
      } while (bVar2 < *(byte *)(iVar1 + 0x45));
    }
  }
  if (*(int *)(iVar1 + 99) != 0) {
    bVar2 = 0;
    param_1 = 0;
    if (*(byte *)(iVar1 + 0x46) != 0) {
      while (*(char *)(param_1 + *(int *)(*(int *)(iVar1 + 99) + 0x38)) == '\0') {
        bVar2 = bVar2 + 1;
        param_1 = (uint)bVar2;
        if (*(byte *)(iVar1 + 0x46) <= bVar2) {
          return;
        }
      }
      FUN_0040e9f0(iVar1,6,param_1);
    }
  }
  return;
}



undefined4
FUN_00477e20(undefined4 param_1,undefined4 param_2,int *param_3,undefined4 param_4,short *param_5,
            undefined4 *param_6)

{
  undefined2 uVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  undefined *puVar5;
  undefined *puVar6;
  undefined2 *puVar7;
  undefined2 *puVar8;
  int iVar9;
  void *unaff_ESI;
  undefined4 local_4c [2];
  int local_44;
  int local_40;
  undefined *local_3c;
  
  AdjustStackForLargeAllocations();
  sVar2 = *param_5;
  sVar3 = param_5[1];
  _memset(&stack0xffffffe4,0,0x14);
  iVar4 = (**(code **)(*param_3 + 0x18))();
  if (iVar4 != 0) {
    GetErrorStringFunc();
    return 0;
  }
  iVar4 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar4 == 0) {
    _memset(unaff_ESI,0,((int)sVar3 + sVar2 * 4) * 8 + 0x54);
    if (unaff_ESI != *(void **)(param_5 + 2)) {
      FUN_004ad7a0();
    }
    sVar2 = *param_5;
    param_6[2] = unaff_ESI;
    param_6[3] = (int)*param_5;
    puVar5 = (undefined *)(sVar2 * 0x20 + (int)unaff_ESI);
    if ((DAT_00598e34 != 0) && (iVar4 = 0, 0 < *param_5)) {
      iVar9 = 0;
      do {
        iVar4 = iVar4 + 1;
        *(undefined4 *)(iVar9 + 0x10 + param_6[2]) = 0xffffffff;
        iVar9 = iVar9 + 0x20;
      } while (iVar4 < *param_5);
    }
    *puVar5 = 8;
    puVar5[1] = 8;
    *(undefined2 *)(puVar5 + 2) = 2;
    if (**(int **)(param_5 + 6) == -1) {
      *(undefined4 *)(puVar5 + 8) = 0;
      *(undefined4 *)(puVar5 + 4) = 1;
    }
    else {
      *(undefined4 *)(puVar5 + 4) = 1;
      *(undefined4 *)(puVar5 + 8) =
           *(undefined4 *)(DAT_005dca00 + 0xb + **(int **)(param_5 + 6) * 0x2e);
    }
    if (DAT_005d66a4 == 0) {
      *(undefined4 *)(puVar5 + 0xc) = 0x1b;
    }
    else {
      *(undefined4 *)(puVar5 + 0xc) = 0x21;
    }
    *(undefined4 *)(puVar5 + 0x10) = 1;
    puVar5[0x14] = 9;
    puVar5[0x15] = 0x10;
    *(undefined2 *)(puVar5 + 0x16) = 1;
    *(undefined4 *)(puVar5 + 0x18) = 1;
    *(undefined2 *)(puVar5 + 0x1c) = 0;
    *(undefined2 *)(puVar5 + 0x1e) = 0;
    puVar6 = puVar5 + 0x28;
    *(int *)(puVar5 + 0x20) = (int)*param_5;
    *(undefined4 *)(puVar5 + 0x24) = 0;
    if (((uint)puVar6 & 7) == 0) {
      *puVar6 = 3;
      puVar5[0x29] = 8;
      *(undefined2 *)(puVar5 + 0x2a) = 0;
      puVar6 = puVar5 + 0x2c;
    }
    *puVar6 = 3;
    puVar6[1] = 8;
    *(short *)(puVar6 + 2) = param_5[1];
    puVar7 = (undefined2 *)(puVar6 + 4);
    iVar4 = 0;
    puVar8 = puVar7;
    if (0 < param_5[1]) {
      do {
        puVar8 = puVar7 + 4;
        iVar9 = iVar4 * 8;
        iVar4 = iVar4 + 1;
        *puVar7 = *(undefined2 *)(*(int *)(param_5 + 4) + iVar9);
        puVar7[1] = *(undefined2 *)(*(int *)(param_5 + 4) + -6 + iVar4 * 8);
        uVar1 = *(undefined2 *)(*(int *)(param_5 + 4) + -4 + iVar4 * 8);
        puVar7[3] = 0x700;
        puVar7[2] = uVar1;
        puVar7 = puVar8;
      } while (iVar4 < param_5[1]);
    }
    *(undefined *)puVar8 = 8;
    *(undefined *)((int)puVar8 + 1) = 8;
    puVar8[1] = 1;
    if (DAT_005d66a4 == 0) {
      *(undefined4 *)(puVar8 + 2) = 0x1b;
    }
    else {
      *(undefined4 *)(puVar8 + 2) = 0x21;
    }
    *(undefined4 *)(puVar8 + 4) = 0;
    *(undefined *)(puVar8 + 6) = 0xb;
    *(undefined *)((int)puVar8 + 0xd) = 0;
    puVar8[7] = 0;
    (**(code **)(iRam00000000 + 0x14))();
    local_3c = (undefined *)0x478062;
    _memset(local_4c,0,0x30);
    local_44 = (int)*param_5;
    local_40 = (int)puVar5 - (int)unaff_ESI;
    local_3c = (undefined *)((int)puVar8 + (0x10 - (int)puVar5));
    local_4c[0] = 0x30;
    (**(code **)(iRam00000000 + 0x18))();
    *param_6 = 0;
    return 1;
  }
  return 0;
}



void FUN_004780b0(int param_1)

{
  int iVar1;
  bool bVar2;
  int iVar3;
  void *pvVar4;
  byte bVar5;
  int iVar6;
  size_t _Size;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 0x13);
  bVar5 = 0;
  for (iVar7 = *(int *)(iVar1 + 0x5b); iVar7 != 0; iVar7 = *(int *)(iVar7 + 0x74)) {
    bVar2 = false;
    iVar3 = 0;
    do {
      if (((iVar3 == 5) || (iVar3 == 6)) && (iVar6 = 1, 1 < *(byte *)(iVar3 + 0x40 + iVar1))) {
        do {
          if ((*(char *)(iVar6 + -1 + *(int *)(iVar7 + 0x135 + iVar3 * 4)) != '\0') &&
             ((iVar3 == 5 || (iVar3 == 6)))) {
            if (!bVar2) {
              *(int *)(&stack0xffffffe4 + (uint)bVar5 * 4) = iVar7;
              bVar5 = bVar5 + 1;
              bVar2 = true;
            }
            if (iVar3 == 6) {
              *(int *)(iVar1 + 0xf4) = iVar7;
            }
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < (int)(uint)*(byte *)(iVar3 + 0x40 + iVar1));
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < 7);
  }
  if (bVar5 != 0) {
    _Size = (uint)bVar5 << 2;
    iVar7 = 0;
    pvVar4 = (void *)AllocateMemoryWithCallback();
    pvVar4 = _memset(pvVar4,iVar7,_Size);
    *(void **)(iVar1 + 0xf0) = pvVar4;
    FUN_004ad7a0();
    *(byte *)(iVar1 + 0xf8) = bVar5;
    if (*(int *)(iVar1 + 0x7f) == 0x17) {
      FUN_0040ee00();
    }
    iVar1 = *(int *)(iVar1 + 0x7f);
    if (((((iVar1 == 2) || (iVar1 == 3)) ||
         ((iVar1 == 4 ||
          ((((iVar1 == 5 || (iVar1 == 6)) || (iVar1 == 7)) || ((iVar1 == 0xd || (iVar1 == 8))))))))
        || (iVar1 == 0xb)) || (((iVar1 == 0xe || (iVar1 == 9)) || (iVar1 == 0xc)))) {
      FUN_00477c20();
    }
  }
  return;
}



void FUN_00478200(int param_1)

{
  short *psVar1;
  int iVar2;
  bool bVar3;
  uint uVar4;
  void *pvVar5;
  int iVar6;
  size_t _Size;
  short *local_24 [2];
  int iVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  
  AdjustStackForLargeAllocations();
  uVar10 = 0;
  iVar7 = *(int *)(param_1 + 0x13);
  iVar8 = iVar7;
  for (psVar1 = *(short **)(iVar7 + 0x57); psVar1 != (short *)0x0;
      psVar1 = *(short **)(psVar1 + 0x2c)) {
    bVar3 = false;
    iVar6 = 0;
    do {
      if (((iVar6 == 5) || (iVar6 == 6)) && (iVar9 = 1, 1 < *(byte *)(iVar6 + 0x40 + iVar7))) {
        do {
          if (*(char *)(iVar9 + -1 + *(int *)(psVar1 + iVar6 * 2 + 0x1c)) != '\0') {
            if ((psVar1[1] == 2) && (*psVar1 == 4)) {
              *(short **)(*(int *)(param_1 + 0x13) + 0x38) = psVar1;
            }
            if ((iVar6 == 5) || (iVar6 == 6)) {
              if ((!bVar3) && ((byte)uVar10 < 5)) {
                uVar4 = uVar10 & 0xff;
                uVar10 = (uint)(byte)((byte)uVar10 + 1);
                iVar2 = *(int *)(param_1 + 0x13);
                iVar7 = iVar8;
                local_24[uVar4] = psVar1;
                bVar3 = true;
                DAT_00598e34 = (uint)(*(int *)(iVar2 + 0x7f) == 0xb);
                *(bool *)((int)psVar1 + 0x37) = *(int *)(*(int *)(param_1 + 0x13) + 0x7f) == 0xe;
                local_24[1] = *(short **)(DAT_005e5010 + 8);
                local_24[0] = *(short **)(DAT_005e5010 + 4);
                FUN_00477e20(*(undefined4 *)(DAT_005e5010 + 0x7a4));
                iVar8 = iVar7;
              }
              if (iVar6 == 6) {
                *(short **)(iVar7 + 0xfd) = psVar1;
              }
            }
          }
          iVar9 = iVar9 + 1;
        } while (iVar9 < (int)(uint)*(byte *)(iVar6 + 0x40 + iVar7));
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < 7);
  }
  if ((char)uVar10 != '\0') {
    _Size = (uVar10 & 0xff) << 2;
    iVar7 = 0;
    local_24[1] = (short *)0x478352;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    local_24[1] = (short *)0x47835b;
    pvVar5 = _memset(pvVar5,iVar7,_Size);
    *(void **)(iVar8 + 0xf9) = pvVar5;
    local_24[1] = (short *)0x478372;
    FUN_004ad7a0();
    *(char *)(iVar8 + 0x101) = (char)uVar10;
    if (*(int *)(iVar8 + 0x7f) == 0x17) {
      FUN_0040ee00();
    }
    iVar7 = *(int *)(iVar8 + 0x7f);
    if ((((((iVar7 == 2) || (iVar7 == 3)) || (iVar7 == 4)) ||
         (((iVar7 == 5 || (iVar7 == 6)) || ((iVar7 == 7 || ((iVar7 == 0xd || (iVar7 == 8)))))))) ||
        (iVar7 == 0xb)) || (((iVar7 == 0xe || (iVar7 == 9)) || (iVar7 == 0xc)))) {
      FUN_00477cd0();
    }
  }
  return;
}



void FUN_004783e0(uint param_1)

{
  undefined2 uVar1;
  size_t sVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  
  if (param_1 != 0) {
    sVar2 = param_1 * 0xcc0;
    iVar5 = 0;
    pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
    DAT_005cff44 = _memset(pvVar3,iVar5,sVar2);
    sVar2 = param_1 * 5;
    iVar5 = 0;
    pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
    DAT_005cff48 = _memset(pvVar3,iVar5,sVar2);
    uVar4 = 0;
    if (param_1 != 0) {
      iVar5 = 0;
      do {
        if (DAT_005d24e0 <= uVar4) {
          *(undefined *)((int)DAT_005cff48 + iVar5) = 1;
        }
        uVar1 = (undefined2)(uVar4 << 4);
        *(undefined2 *)((int)DAT_005cff48 + iVar5 + 1) = uVar1;
        uVar4 = uVar4 + 1;
        *(undefined2 *)((int)DAT_005cff48 + iVar5 + 3) = uVar1;
        iVar5 = iVar5 + 5;
      } while (uVar4 < param_1);
    }
    DAT_005cff40 = param_1 << 4;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00478480(int param_1,int param_2)

{
  int iVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  int *piVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  undefined4 *puVar11;
  undefined4 unaff_EDI;
  undefined4 *puVar12;
  undefined4 local_e8 [16];
  undefined4 local_a8 [16];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  ushort local_28;
  ushort uStack_26;
  ushort local_24;
  ushort uStack_22;
  ushort local_20;
  ushort uStack_1e;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  ushort local_10;
  ushort uStack_e;
  ushort local_c;
  ushort uStack_a;
  undefined2 uStack_8;
  undefined2 uStack_6;
  
  uStack_8 = 0x848d;
  uStack_6 = 0x47;
  AdjustStackForLargeAllocations();
  uStack_8 = (undefined2)unaff_EBX;
  uStack_6 = (undefined2)((uint)unaff_EBX >> 0x10);
  local_c = (ushort)unaff_ESI;
  uStack_a = (ushort)((uint)unaff_ESI >> 0x10);
  local_10 = (ushort)unaff_EDI;
  uStack_e = (ushort)((uint)unaff_EDI >> 0x10);
  uVar7 = _DAT_00598e38 & 0xffff;
  local_14._0_2_ = 1;
  local_14._2_2_ = 0;
  iVar9 = *(int *)(*(int *)(param_2 + 4) + 0x86);
  iVar10 = uVar7 * 0xcc;
  *(undefined2 *)(&DAT_005cf334 + iVar10) = *(undefined2 *)(*(int *)(iVar9 + 0x13) + 0xa1);
  local_18 = (undefined4 *)(*(int *)(iVar9 + 0x13) + 0x8d);
  local_1c._0_2_ = (ushort)param_2;
  uVar3 = (ushort)local_1c;
  local_1c._2_2_ = (ushort)((uint)param_2 >> 0x10);
  uVar2 = local_1c._2_2_;
  local_20 = 0x84db;
  uStack_1e = 0x47;
  iVar4 = FUN_00409bd0();
  if (iVar4 != 0) {
    if ((DAT_00598944 != 0) && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
      iVar1 = *(int *)(*(int *)(param_2 + 4) + 0x86);
      iVar8 = 0;
      piVar5 = *(int **)(*(int *)(iVar1 + 0x13) + 0xf0);
      iVar4 = *piVar5;
      while (param_1 != iVar4) {
        piVar5 = piVar5 + 1;
        iVar8 = iVar8 + 1;
        iVar4 = *piVar5;
      }
      local_14._0_2_ = 0;
      local_14._2_2_ = 0;
      local_18._0_2_ = 0;
      local_18._2_2_ = 0;
      local_1c._0_2_ = (ushort)*(byte *)(iVar1 + 9);
      local_1c._2_2_ = 0;
      local_20 = (ushort)iVar8;
      uStack_1e = (ushort)((uint)iVar8 >> 0x10);
      local_24 = 0;
      uStack_22 = 0;
      local_28 = 0x14;
      uStack_26 = 0;
      local_2c = 0x478532;
      FUN_00466530();
    }
    *(int *)(&DAT_005cf348 + iVar10) = param_1;
    *(undefined4 *)(&DAT_005cf283 + iVar10) = 1;
    (&DAT_005cf317)[uVar7 * 0x33] = 1;
    (&DAT_005cf31b)[uVar7 * 0x33] = 0;
    (&DAT_005cf323)[uVar7 * 0x33] = param_2;
    (&DAT_005cf32b)[uVar7 * 0x33] = iVar9;
    (&DAT_005cf31f)[uVar7 * 0x33] = 0x3fa3d70a;
    (&DAT_005cf33b)[iVar10] = *(undefined *)(*(int *)(iVar9 + 0x13) + 0xee);
    (&DAT_005cf333)[iVar10] = (&DAT_005cf333)[iVar10] | 0x10;
    iVar10 = *(int *)(param_2 + 4);
    puVar11 = (undefined4 *)
              (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar10 + 4) * 4) +
              (uint)*(byte *)(iVar10 + 5) * 0x20);
    puVar12 = (undefined4 *)&local_28;
    for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
      *puVar12 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar12 = puVar12 + 1;
    }
    local_68 = *(undefined4 *)(DAT_004d77ec + (uint)local_28 * 4);
    local_64 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_26 * 4);
    local_60 = *(undefined4 *)(DAT_004d77ec + (uint)local_24 * 4);
    local_5c = *(undefined4 *)(DAT_004d77ec + (uint)uStack_22 * 4);
    local_58 = *(undefined4 *)(DAT_004d77ec + (uint)local_20 * 4);
    local_54 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_1e * 4);
    local_50 = *(undefined4 *)(DAT_004d77ec + (uint)(ushort)local_1c * 4);
    local_4c = *(undefined4 *)(DAT_004d77ec + (uint)local_1c._2_2_ * 4);
    local_48 = *(undefined4 *)(DAT_004d77ec + ((uint)local_18 & 0xffff) * 4);
    local_44 = *(undefined4 *)(DAT_004d77ec + ((uint)local_18 >> 0x10) * 4);
    local_40 = *(undefined4 *)(DAT_004d77ec + (uint)(ushort)local_14 * 4);
    local_3c = *(undefined4 *)(DAT_004d77ec + (uint)local_14._2_2_ * 4);
    local_38 = *(undefined4 *)(DAT_004d77ec + (uint)local_10 * 4);
    local_34 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_e * 4);
    local_30 = *(undefined4 *)(DAT_004d77ec + (uint)local_c * 4);
    local_2c = *(undefined4 *)(DAT_004d77ec + (uint)uStack_a * 4);
    iVar9 = *(int *)(*(int *)(iVar10 + 0x98) + 0x10);
    if (((((iVar9 == 4) || (iVar9 == 5)) ||
         ((iVar9 = *(int *)(*(int *)(iVar10 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
          (*(char *)(iVar10 + 4) == '\x03')))) ||
        ((*(int *)(iVar9 + 0x7b) == 8 &&
         ((*(char *)(iVar10 + 4) == '\x05' || (*(char *)(iVar10 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar10 + 0x8a) & 0x100000) != 0)) {
      local_14 = (undefined4 *)(iVar10 + 0x46);
      puVar11 = (undefined4 *)(iVar10 + 6);
      puVar12 = local_a8;
      for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar12 = *puVar11;
        puVar11 = puVar11 + 1;
        puVar12 = puVar12 + 1;
      }
      local_18 = &local_68;
      local_1c = local_e8;
      local_20 = 0x871b;
      uStack_1e = 0x47;
      MultiplyMatrices();
      local_14 = local_a8;
      local_18 = local_e8;
    }
    else {
      local_14 = (undefined4 *)(iVar10 + 6);
      local_18 = &local_68;
    }
    local_20 = 0x8735;
    uStack_1e = 0x47;
    local_1c = &DAT_005cf287 + uVar7 * 0x33;
    MultiplyMatrices();
    local_14._0_2_ = 0;
    local_14._2_2_ = 0;
    local_18._0_2_ = 0;
    local_18._2_2_ = 0;
    local_1c._0_2_ = 0;
    local_1c._2_2_ = 0;
    local_24 = 0x8747;
    uStack_22 = 0x47;
    local_20 = uVar3;
    uStack_1e = uVar2;
    uVar6 = FUN_0047db60();
    (&DAT_005cf327)[uVar7 * 0x33] = uVar6;
    puVar11 = &DAT_005cf287 + uVar7 * 0x33;
    puVar12 = &DAT_005cf2c7 + uVar7 * 0x33;
    for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
      *puVar12 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar12 = puVar12 + 1;
    }
    uVar3 = DAT_00598e38 + 1;
    _DAT_00598e38 = CONCAT22(DAT_00598e38_2,uVar3);
    if (0xf < uVar3) {
      _DAT_00598e38 = (uint)DAT_00598e38_2 << 0x10;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00478780(int param_1,int param_2)

{
  int iVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  int *piVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  undefined4 *puVar11;
  undefined4 unaff_EDI;
  undefined4 *puVar12;
  undefined4 local_e8 [16];
  undefined4 local_a8 [16];
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  ushort local_28;
  ushort uStack_26;
  ushort local_24;
  ushort uStack_22;
  ushort local_20;
  ushort uStack_1e;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  ushort local_10;
  ushort uStack_e;
  ushort local_c;
  ushort uStack_a;
  undefined2 uStack_8;
  undefined2 uStack_6;
  
  uStack_8 = 0x878d;
  uStack_6 = 0x47;
  AdjustStackForLargeAllocations();
  uStack_8 = (undefined2)unaff_EBX;
  uStack_6 = (undefined2)((uint)unaff_EBX >> 0x10);
  local_c = (ushort)unaff_ESI;
  uStack_a = (ushort)((uint)unaff_ESI >> 0x10);
  uVar7 = _DAT_00598e38 & 0xffff;
  local_10 = (ushort)unaff_EDI;
  uStack_e = (ushort)((uint)unaff_EDI >> 0x10);
  local_14._0_2_ = 1;
  local_14._2_2_ = 0;
  iVar9 = *(int *)(*(int *)(param_2 + 4) + 0x86);
  iVar10 = uVar7 * 0xcc;
  *(undefined4 *)(&DAT_005cf336 + iVar10) = *(undefined4 *)(*(int *)(iVar9 + 0x13) + 0x8d);
  *(undefined2 *)(&DAT_005cf334 + iVar10) = *(undefined2 *)(*(int *)(iVar9 + 0x13) + 0xa1);
  local_18 = (undefined4 *)(*(int *)(iVar9 + 0x13) + 0x8d);
  local_1c._0_2_ = (ushort)param_2;
  uVar3 = (ushort)local_1c;
  local_1c._2_2_ = (ushort)((uint)param_2 >> 0x10);
  uVar2 = local_1c._2_2_;
  local_20 = 0x87ea;
  uStack_1e = 0x47;
  iVar4 = FUN_00409bd0();
  if (iVar4 != 0) {
    if ((DAT_00598944 != 0) && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
      iVar1 = *(int *)(*(int *)(param_2 + 4) + 0x86);
      iVar8 = 0;
      piVar5 = *(int **)(*(int *)(iVar1 + 0x13) + 0xf9);
      iVar4 = *piVar5;
      while (param_1 != iVar4) {
        piVar5 = piVar5 + 1;
        iVar8 = iVar8 + 1;
        iVar4 = *piVar5;
      }
      local_14._0_2_ = 0;
      local_14._2_2_ = 0;
      local_18._0_2_ = 0;
      local_18._2_2_ = 0;
      local_1c._0_2_ = (ushort)*(byte *)(iVar1 + 9);
      local_1c._2_2_ = 0;
      local_20 = (ushort)iVar8;
      uStack_1e = (ushort)((uint)iVar8 >> 0x10);
      local_24 = 1;
      uStack_22 = 0;
      local_28 = 0x14;
      uStack_26 = 0;
      local_2c = 0x478841;
      FUN_00466530();
    }
    *(int *)(&DAT_005cf348 + iVar10) = param_1;
    *(undefined4 *)(&DAT_005cf283 + iVar10) = 0;
    (&DAT_005cf31b)[uVar7 * 0x33] = 0;
    (&DAT_005cf317)[uVar7 * 0x33] = 1;
    (&DAT_005cf323)[uVar7 * 0x33] = param_2;
    (&DAT_005cf32b)[uVar7 * 0x33] = iVar9;
    (&DAT_005cf31f)[uVar7 * 0x33] = 0x3fa3d70a;
    (&DAT_005cf33b)[iVar10] = *(undefined *)(*(int *)(iVar9 + 0x13) + 0xee);
    (&DAT_005cf333)[iVar10] = (&DAT_005cf333)[iVar10] | 0x10;
    iVar10 = *(int *)(param_2 + 4);
    puVar11 = (undefined4 *)
              (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar10 + 4) * 4) +
              (uint)*(byte *)(iVar10 + 5) * 0x20);
    puVar12 = (undefined4 *)&local_28;
    for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
      *puVar12 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar12 = puVar12 + 1;
    }
    local_68 = *(undefined4 *)(DAT_004d77ec + (uint)local_28 * 4);
    local_64 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_26 * 4);
    local_60 = *(undefined4 *)(DAT_004d77ec + (uint)local_24 * 4);
    local_5c = *(undefined4 *)(DAT_004d77ec + (uint)uStack_22 * 4);
    local_58 = *(undefined4 *)(DAT_004d77ec + (uint)local_20 * 4);
    local_54 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_1e * 4);
    local_50 = *(undefined4 *)(DAT_004d77ec + (uint)(ushort)local_1c * 4);
    local_4c = *(undefined4 *)(DAT_004d77ec + (uint)local_1c._2_2_ * 4);
    local_48 = *(undefined4 *)(DAT_004d77ec + ((uint)local_18 & 0xffff) * 4);
    local_44 = *(undefined4 *)(DAT_004d77ec + ((uint)local_18 >> 0x10) * 4);
    local_40 = *(undefined4 *)(DAT_004d77ec + (uint)(ushort)local_14 * 4);
    local_3c = *(undefined4 *)(DAT_004d77ec + (uint)local_14._2_2_ * 4);
    local_38 = *(undefined4 *)(DAT_004d77ec + (uint)local_10 * 4);
    local_34 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_e * 4);
    local_30 = *(undefined4 *)(DAT_004d77ec + (uint)local_c * 4);
    local_2c = *(undefined4 *)(DAT_004d77ec + (uint)uStack_a * 4);
    iVar9 = *(int *)(*(int *)(iVar10 + 0x98) + 0x10);
    if (((((iVar9 == 4) || (iVar9 == 5)) ||
         ((iVar9 = *(int *)(*(int *)(iVar10 + 0x86) + 0x13), *(int *)(iVar9 + 0x114) == 6 &&
          (*(char *)(iVar10 + 4) == '\x03')))) ||
        ((*(int *)(iVar9 + 0x7b) == 8 &&
         ((*(char *)(iVar10 + 4) == '\x05' || (*(char *)(iVar10 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar10 + 0x8a) & 0x100000) != 0)) {
      local_14 = (undefined4 *)(iVar10 + 0x46);
      puVar11 = (undefined4 *)(iVar10 + 6);
      puVar12 = local_a8;
      for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
        *puVar12 = *puVar11;
        puVar11 = puVar11 + 1;
        puVar12 = puVar12 + 1;
      }
      local_18 = &local_68;
      local_1c = local_e8;
      local_20 = 0x8a24;
      uStack_1e = 0x47;
      MultiplyMatrices();
      local_14 = local_a8;
      local_18 = local_e8;
    }
    else {
      local_14 = (undefined4 *)(iVar10 + 6);
      local_18 = &local_68;
    }
    local_20 = 0x8a3e;
    uStack_1e = 0x47;
    local_1c = &DAT_005cf287 + uVar7 * 0x33;
    MultiplyMatrices();
    local_14._0_2_ = 0;
    local_14._2_2_ = 0;
    local_18._0_2_ = 0;
    local_18._2_2_ = 0;
    local_1c._0_2_ = 0;
    local_1c._2_2_ = 0;
    local_24 = 0x8a50;
    uStack_22 = 0x47;
    local_20 = uVar3;
    uStack_1e = uVar2;
    uVar6 = FUN_0047db60();
    (&DAT_005cf327)[uVar7 * 0x33] = uVar6;
    puVar11 = &DAT_005cf287 + uVar7 * 0x33;
    puVar12 = &DAT_005cf2c7 + uVar7 * 0x33;
    for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
      *puVar12 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar12 = puVar12 + 1;
    }
    uVar3 = DAT_00598e38 + 1;
    _DAT_00598e38 = CONCAT22(DAT_00598e38_2,uVar3);
    if (0xf < uVar3) {
      _DAT_00598e38 = (uint)DAT_00598e38_2 << 0x10;
    }
  }
  return;
}



void FUN_00478a90(int param_1)

{
  uint uVar1;
  float fVar2;
  int iVar3;
  uint uVar4;
  float10 fVar5;
  undefined8 uVar6;
  undefined4 *local_44 [3];
  undefined4 **local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 **local_28;
  undefined4 ***local_24;
  undefined4 **local_20;
  undefined4 *local_1c;
  undefined8 local_18;
  float fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  local_38 = *(undefined4 ***)(param_1 + 0x37);
  local_34 = *(undefined4 *)(param_1 + 0x3b);
  local_30 = *(undefined4 *)(param_1 + 0x3f);
  if (*(char *)(*(int *)(*(int *)(param_1 + 0xab) + 0x13) + 0xec) == '\x01') {
    fVar2 = *(float *)(param_1 + 0x8b) - 0.1;
    *(float *)(param_1 + 0x8b) = fVar2;
    *(float *)(param_1 + 0x3b) = fVar2 + *(float *)(param_1 + 0x3b);
  }
  else {
    uVar1 = *(uint *)(param_1 + 0x9b);
    uVar4 = uVar1 + 1;
    *(uint *)(param_1 + 0x9b) = uVar4;
    fVar2 = (float)(ulonglong)uVar1 * 0.1;
    if (*(ushort *)(*(int *)(param_1 + 0xab) + 2) < uVar4) {
      *(undefined4 *)(param_1 + 0x97) = 4;
      *(undefined4 *)(param_1 + 0x9b) = 0;
    }
    if ((*(byte *)(param_1 + 0x9b) & 1) == 0) {
      iVar3 = *(int *)(param_1 + 0xa7);
      local_20 = local_38;
      if (iVar3 == 0) {
        *(undefined4 *)(param_1 + 0x87) = 0;
        local_18 = (double)fVar2;
        local_1c = (undefined4 *)0x478bcc;
        fVar5 = (float10)FUN_004ae014();
        fVar5 = fVar5 * (float10)0.1;
        *(undefined4 *)(param_1 + 0x8f) = 0;
      }
      else {
        local_18._4_4_ = *(float *)(*(int *)(iVar3 + 4) + 0x36) - *(float *)(param_1 + 0x37);
        fVar7 = *(float *)(*(int *)(iVar3 + 4) + 0x3a) - *(float *)(param_1 + 0x3b);
        fVar8 = *(float *)(*(int *)(iVar3 + 4) + 0x3e) - *(float *)(param_1 + 0x3f);
        local_18._0_4_ = (undefined4 ***)0x478b78;
        local_1c = (undefined4 *)local_34;
        FUN_0045eab0();
        *(float *)(param_1 + 0x87) = local_18._4_4_ * 0.1;
        local_18 = (double)fVar2;
        local_1c = (undefined4 *)0x478b97;
        fVar5 = (float10)FUN_004ae014();
        fVar5 = (fVar5 + (float10)fVar7) * (float10)0.1;
        *(float *)(param_1 + 0x8f) = fVar8 * 0.1;
      }
      *(float *)(param_1 + 0x8b) = (float)fVar5;
    }
    *(float *)(param_1 + 0x37) = *(float *)(param_1 + 0x87) + *(float *)(param_1 + 0x37);
    *(float *)(param_1 + 0x3b) = *(float *)(param_1 + 0x8b) + *(float *)(param_1 + 0x3b);
    *(float *)(param_1 + 0x3f) = *(float *)(param_1 + 0x8f) + *(float *)(param_1 + 0x3f);
    *(undefined4 *)(param_1 + 0x97) = 3;
  }
  local_20 = *(undefined4 ***)(param_1 + 0x37);
  local_18 = (double)CONCAT44(&local_20,*(undefined4 *)(param_1 + 0x3f));
  local_1c = (undefined4 *)0x478c36;
  uVar6 = FUN_00423750();
  if ((int)uVar6 != 0) {
    local_18 = (double)(ulonglong)
                       CONCAT31((int3)((ulonglong)uVar6 >> 0x28),*(undefined *)(param_1 + 0xbb));
    local_1c = (undefined4 *)param_1;
    local_20 = (undefined4 **)0x478c4b;
    FUN_0047d1f0();
    local_28 = *(undefined4 ***)(param_1 + 0x3b);
    local_2c = *(undefined4 *)(param_1 + 0x37);
    local_24 = *(undefined4 ****)(param_1 + 0x3f);
    local_1c = &local_2c;
    local_18 = (double)CONCAT44(*(float *)(param_1 + 0x9f) + *(float *)(param_1 + 0x9f),param_1);
    local_20 = (undefined4 **)0x478c76;
    FUN_00441160();
    *(undefined4 *)(param_1 + 0x97) = 4;
    *(undefined4 *)(param_1 + 0x9b) = 0;
  }
  if (*(int *)(param_1 + 0x97) != 4) {
    local_24 = (undefined4 ***)local_18;
    local_1c = (undefined4 *)&stack0xfffffff8;
    local_18 = 0.0;
    local_28 = local_20;
    local_2c = 0x478cad;
    local_20 = local_44;
    fVar5 = (float10)FUN_0041c650();
    fVar2 = *(float *)(param_1 + 0x9f);
    if ((float10)(float)local_1c - (float10)fVar2 < fVar5) {
      *(undefined4 *)(param_1 + 0x97) = 3;
      *(float *)(param_1 + 0x3b) = (float)(fVar5 + (float10)fVar2);
    }
    if ((*(int *)(param_1 + 0x97) != 3) && (*(int *)(param_1 + 0x97) != 4)) {
      local_18 = 0.0;
      local_20 = &local_38;
      local_24 = &local_20;
      local_28 = (undefined4 **)0x478cff;
      local_1c = (undefined4 *)fVar2;
      iVar3 = FUN_00421c60();
      if (iVar3 != 0) {
        *(undefined4 *)(param_1 + 0x97) = 3;
        *(undefined4 **)(param_1 + 0x3b) = local_1c;
      }
    }
    local_18 = (double)CONCAT44(*(undefined4 *)(param_1 + 0x3f),*(undefined4 *)(param_1 + 0x37));
    local_1c = (undefined4 *)DAT_00598ff0;
    local_20 = (undefined4 **)0x478d26;
    iVar3 = FUN_0045cbc0();
    if (iVar3 == 0) {
      *(undefined4 *)(param_1 + 0x97) = 0;
    }
  }
  return;
}



void FUN_00478d40(void)

{
  undefined4 **ppuVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  int *piVar5;
  float10 fVar6;
  int local_34;
  int local_30;
  int local_2c;
  float local_28;
  float local_24;
  float local_20;
  undefined4 ***local_1c;
  double local_18;
  float fVar7;
  
  AdjustStackForLargeAllocations();
  piVar5 = &DAT_005cf327;
  do {
    iVar3 = piVar5[-4];
    if ((iVar3 != 0) && (iVar3 != 4)) {
      if (iVar3 == 1) {
        local_18 = (double)CONCAT44((int)piVar5 + -0xa7,0x478d7c);
        FUN_00478a90();
      }
      else {
        if (*(char *)(*(int *)(piVar5[1] + 0x13) + 0xec) == '\x02') {
          uVar4 = piVar5[-3];
          uVar2 = uVar4 + 1;
          piVar5[-3] = uVar2;
          fVar7 = (float)(ulonglong)uVar4 * 0.1;
          if ((uVar2 & 1) == 0) {
            iVar3 = *piVar5;
            if (iVar3 == 0) {
              piVar5[-8] = 0;
              local_18 = (double)fVar7;
              local_1c = (undefined4 ***)0x478e81;
              fVar6 = (float10)FUN_004ae014();
              piVar5[-6] = 0;
              piVar5[-7] = (int)(float)(fVar6 * (float10)0.1);
            }
            else {
              local_28 = *(float *)(*(int *)(iVar3 + 4) + 0x36) - (float)piVar5[-0x1c];
              local_24 = *(float *)(*(int *)(iVar3 + 4) + 0x3a) - (float)piVar5[-0x1b];
              local_20 = *(float *)(*(int *)(iVar3 + 4) + 0x3e) - (float)piVar5[-0x1a];
              local_18 = (double)CONCAT44(&local_28,0x478def);
              FUN_0045eab0();
              piVar5[-8] = (int)(local_28 * 0.1);
              if (*(float *)(*(int *)(*piVar5 + 4) + 0x3a) - -2.0 < (float)piVar5[-0x1b]) {
                local_18 = (double)fVar7;
                local_1c = (undefined4 ***)0x478e40;
                fVar6 = (float10)FUN_004ae014();
                fVar6 = (fVar6 + (float10)local_24) * (float10)0.1;
              }
              else {
                local_18 = (double)fVar7;
                local_1c = (undefined4 ***)0x478e2a;
                fVar6 = (float10)FUN_004ae014();
                fVar6 = fVar6 * (float10)0.1;
              }
              piVar5[-7] = (int)(float)fVar6;
              piVar5[-6] = (int)(local_20 * 0.1);
              if (0x5db < (uint)piVar5[-3]) {
                piVar5[-4] = 4;
                piVar5[-3] = 0;
              }
            }
          }
          piVar5[-0x1c] = (int)((float)piVar5[-8] + (float)piVar5[-0x1c]);
          piVar5[-0x1b] = (int)((float)piVar5[-7] + (float)piVar5[-0x1b]);
          piVar5[-0x1a] = (int)((float)piVar5[-6] + (float)piVar5[-0x1a]);
        }
        if ((*(byte *)(piVar5 + 3) & 0x10) != 0) {
          local_18 = (double)CONCAT44((int)piVar5 + -0xa7,0x478ec7);
          FUN_00478fb0();
        }
        local_2c = piVar5[-0x1a];
        local_34 = piVar5[-0x1c];
        local_30 = piVar5[-0x1b];
        uVar4 = piVar5[-3] + 1;
        piVar5[-3] = uVar4;
        if (*(ushort *)(piVar5[1] + 2) < uVar4) {
          local_18 = (double)(ulonglong)CONCAT31((int3)(uVar4 >> 8),*(undefined *)(piVar5 + 5));
          local_20 = 6.571623e-39;
          local_1c = (undefined4 ***)(undefined4 **)((int)piVar5 + -0xa7);
          FUN_0047d1f0();
          local_1c = &local_1c;
          local_18 = (double)CONCAT44((float)piVar5[-2] + (float)piVar5[-2],
                                      (undefined4 **)((int)piVar5 + -0xa7));
          local_20 = 6.571679e-39;
          FUN_00441160();
          piVar5[-4] = 4;
          piVar5[-3] = 0;
        }
        ppuVar1 = (undefined4 **)((int)piVar5 + -0xa7);
        local_18 = (double)CONCAT44(&local_34,ppuVar1);
        local_1c = (undefined4 ***)0x478f48;
        iVar3 = FUN_00423750();
        if (iVar3 != 0) {
          local_18 = (double)(ulonglong)
                             CONCAT31((int3)((uint)iVar3 >> 8),*(undefined *)(piVar5 + 5));
          local_20 = 6.571745e-39;
          local_1c = (undefined4 ***)ppuVar1;
          FUN_0047d1f0();
          local_1c = &local_1c;
          local_18 = (double)CONCAT44((float)piVar5[-2] + (float)piVar5[-2],ppuVar1);
          local_20 = 6.571801e-39;
          FUN_00441160();
          piVar5[-4] = 4;
          piVar5[-3] = 0;
        }
      }
    }
    piVar5 = piVar5 + 0x33;
  } while (piVar5 < &DAT_005cffe7);
  return;
}



void FUN_00478fb0(int param_1)

{
  int iVar1;
  float10 fVar2;
  double dVar3;
  float fVar4;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(*(int *)(param_1 + 0xa3) + 4);
  fVar4 = *(float *)(iVar1 + 0x3e) - *(float *)(param_1 + 0x3f);
  fVar2 = (float10)FUN_004ad3c0((double)(*(float *)(iVar1 + 0x36) - *(float *)(param_1 + 0x37)),
                                fVar4);
  if (fVar2 < (float10)4.0) {
    dVar3 = (double)fVar4;
    fVar2 = (float10)FUN_004ad3c0(dVar3);
    if (((fVar2 < (float10)4.0) &&
        (fVar2 = (float10)FUN_004ad3c0((double)(float)((ulonglong)dVar3 >> 0x20)),
        fVar2 < (float10)4.0)) &&
       (*(int *)(param_1 + 0xab) == *(int *)(*(int *)(*(int *)(param_1 + 0xa3) + 4) + 0x86))) {
      return;
    }
  }
  *(byte *)(param_1 + 0xb3) = *(byte *)(param_1 + 0xb3) & 0xef;
  return;
}



void FUN_00479070(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = 0;
  if (DAT_005cff40 != 0) {
    iVar2 = 0;
    do {
      iVar1 = DAT_005cff44 + iVar2;
      if (((*(int *)(iVar1 + 0x97) != 0) && (*(int *)(iVar1 + 0x97) != 4)) &&
         (*(int *)(iVar1 + 3) == 0)) {
        FUN_0047a0c0(param_1,param_2,iVar1);
      }
      uVar3 = uVar3 + 1;
      iVar2 = iVar2 + 0xcc;
    } while (uVar3 < DAT_005cff40);
  }
  return;
}



void FUN_004790d0(void)

{
  int iVar1;
  uint uVar2;
  uint *puVar3;
  int iVar4;
  
  uVar2 = 0;
  if (DAT_005cff40 != 0) {
    iVar4 = 0;
    do {
      iVar1 = DAT_005cff44 + iVar4;
      if (*(int *)(iVar1 + 0x97) != 0) {
        if (*(int *)(iVar1 + 0x97) == 4) {
          if ((*(int *)(iVar1 + 3) != 5) && (*(int *)(iVar1 + 3) != 6)) {
            FUN_004a24d0(*(undefined4 *)(iVar1 + 0xab),iVar1);
          }
        }
        else {
          switch(*(undefined4 *)(iVar1 + 0xaf)) {
          case 1:
          case 0xb:
          case 0xe:
          case 0xf:
          case 0x11:
          case 0x12:
          case 0x14:
          case 0x18:
          case 0x1d:
            if (*(int *)(iVar1 + 3) == 7) {
              FUN_0049e3f0(*(undefined4 *)(iVar1 + 0xaf),iVar1 + 0x47);
            }
            else if (*(int *)(iVar1 + 3) == 3) {
              FUN_00476b80(iVar1);
            }
            break;
          case 0x1e:
            FUN_0049e2d0(**(int **)(iVar1 + 0xa3) + 6);
          }
        }
      }
      uVar2 = uVar2 + 1;
      iVar4 = iVar4 + 0xcc;
    } while (uVar2 < DAT_005cff40);
  }
  puVar3 = &DAT_005cf31b;
  do {
    if ((puVar3[-1] != 0) && (puVar3[-1] == 4)) {
      FUN_004a24d0(puVar3[4],(int)puVar3 + -0x9b);
      uVar2 = *puVar3;
      *puVar3 = uVar2 + 1;
      if (0x46 < uVar2 + 1) {
        puVar3[-1] = 0;
      }
    }
    puVar3 = puVar3 + 0x33;
  } while (puVar3 < &DAT_005cffdb);
  return;
}



void FUN_00479210(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  
  iVar2 = 0;
  uVar4 = 0;
  DAT_005cf260 = 0;
  if (DAT_005cff40 != 0) {
    do {
      iVar1 = DAT_005cff44 + iVar2;
      if (((*(int *)(iVar1 + 0x97) != 0) && (*(int *)(iVar1 + 0x97) != 4)) &&
         (*(int *)(iVar1 + 3) == 1)) {
        FUN_004792a0(iVar1);
      }
      uVar4 = uVar4 + 1;
      iVar2 = iVar2 + 0xcc;
    } while (uVar4 < DAT_005cff40);
  }
  iVar2 = 0;
  piVar3 = &DAT_005cf317;
  do {
    if ((*piVar3 != 0) && (*piVar3 != 4)) {
      FUN_004a0d70((int)piVar3 + -0x97,iVar2);
    }
    piVar3 = piVar3 + 0x33;
    iVar2 = iVar2 + 1;
  } while (piVar3 < &DAT_005cffd7);
  return;
}



void FUN_004792a0(int param_1)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  int *piVar8;
  float *pfVar9;
  int *piVar10;
  int iVar11;
  int iVar12;
  float local_24c [12];
  float local_21c;
  float local_218;
  float local_214;
  float local_204;
  int local_1fc [4];
  int local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  undefined4 local_1e0;
  undefined4 local_1dc;
  undefined4 local_1d8;
  int local_1d4;
  undefined4 local_1d0;
  undefined4 local_1cc;
  undefined4 local_1c8;
  int local_1c4;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined4 local_1b8;
  undefined4 local_1b4;
  undefined4 local_1b0;
  undefined4 local_1ac;
  undefined4 local_1a8;
  undefined4 local_1a4;
  undefined4 local_1a0;
  undefined4 local_19c;
  undefined4 local_198;
  undefined4 local_194;
  int local_190 [4];
  int local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  int local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  int local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  undefined4 local_140;
  undefined4 local_13c;
  undefined4 local_138;
  undefined4 local_134;
  undefined4 local_130;
  undefined4 local_12c;
  undefined4 local_128;
  int local_124 [4];
  int local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  int local_fc;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  int local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined4 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  int local_b8;
  undefined4 *local_b4;
  int local_b0;
  int local_ac;
  int local_a8;
  int local_a4;
  float local_9c;
  int local_90;
  int local_8c;
  int local_88;
  int local_84;
  int local_80 [3];
  float local_74;
  undefined2 *local_70;
  int local_6c;
  float local_68 [5];
  float local_54;
  float local_48;
  float local_40;
  int local_28;
  float local_24;
  undefined4 uStack_20;
  float *local_1c;
  float *pfStack_18;
  undefined4 *local_14;
  undefined2 *puVar13;
  
  AdjustStackForLargeAllocations();
  local_28 = *(int *)(param_1 + 200);
  puVar1 = *(undefined4 **)(local_28 + 0x155);
  pfVar7 = (float *)(param_1 + 0x47);
  pfVar9 = local_68;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  pfVar7 = (float *)(param_1 + 0x47);
  pfVar9 = (float *)((int)puVar1 + 0x86);
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  local_1c = local_68;
  pfVar7 = local_68;
  pfVar9 = (float *)(local_28 + 200);
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  pfStack_18 = local_68;
  local_14 = (undefined4 *)(DAT_005e45e4 + 0x278);
  uStack_20 = 0x47930e;
  local_b4 = puVar1;
  MultiplyMatrices();
  pfStack_18 = local_68;
  local_1c = local_24c;
  local_14 = &DAT_004d1b60;
  uStack_20 = 0x479326;
  MultiplyMatrices();
  local_21c = local_21c / local_214;
  local_204 = local_214;
  if (local_21c <= 0.0) {
    local_21c = -local_21c;
  }
  local_74 = local_218 / local_214;
  if (local_74 <= 0.0) {
    local_74 = -local_74;
  }
  if ((((1.0 <= local_214) && (local_214 <= DAT_005d669c)) && (local_21c <= 1.0)) &&
     (((local_74 <= 1.0 && (0.0 <= local_21c)) && (0.0 <= local_74)))) {
    switch(puVar1[0x13]) {
    case 8:
      puVar1[0xd] = DAT_005a17a0;
      puVar1[0xf] = DAT_005a17a8;
      uVar4 = DAT_005a17a4;
      break;
    default:
      puVar1[0xd] = DAT_005a17d0;
      puVar1[0xf] = DAT_005a17d8;
      uVar4 = DAT_005a17d4;
      break;
    case 0x10:
      puVar1[0xd] = DAT_005a17c0;
      puVar1[0xf] = DAT_005a17c8;
      uVar4 = DAT_005a17c4;
      break;
    case 0x20:
      puVar1[0xd] = DAT_005a17b0;
      puVar1[0xf] = DAT_005a17b8;
      uVar4 = DAT_005a17b4;
      break;
    case 0x40:
      puVar1[0xd] = DAT_005a17e0;
      puVar1[0xf] = DAT_005a17e8;
      uVar4 = DAT_005a17e4;
    }
    iVar3 = puVar1[0x17];
    puVar1[0xe] = uVar4;
    puVar1[3] = *(undefined4 *)(*(int *)(iVar3 + 0x22) + 0xe + *(int *)(iVar3 + 0x2e) * 0x16);
    *puVar1 = *(undefined4 *)(*(int *)(iVar3 + 0x22) + *(int *)(iVar3 + 0x2e) * 0x16);
    *(undefined2 *)(puVar1 + 1) = *(undefined2 *)(iVar3 + 0x2e);
    *(int *)(iVar3 + 0x2e) = *(int *)(iVar3 + 0x2e) + 1;
    iVar3 = puVar1[0x17];
    if (*(int *)(iVar3 + 0x2e) == *(int *)(iVar3 + 0x1e)) {
      *(int *)(iVar3 + 0x2e) = *(int *)(iVar3 + 0x2e) + -1;
    }
    *(undefined *)((int)puVar1 + 0x126) = 1;
    if (*(int *)(local_28 + 0xc) != 0) {
      local_14 = (undefined4 *)0x0;
      local_b0 = puVar1[0x13] - *(int *)(local_28 + 0x38) >> 1;
      pfStack_18 = (float *)local_28;
      local_a8 = puVar1[0x13] - local_b0;
      local_a4 = puVar1[0x13] - local_b0;
      local_1c = (float *)&local_b0;
      uStack_20 = 0x47951b;
      local_ac = local_b0;
      iVar3 = FUN_004ac330();
      if (iVar3 != 0) {
        local_24 = -local_48;
        local_9c = -local_68[1];
        uVar4 = puVar1[7];
        local_b8 = puVar1[3];
        local_74 = -local_54;
        local_1c = (float *)-local_40;
        local_90 = puVar1[0xe];
        pfVar7 = local_68;
        pfVar9 = local_24c;
        for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
          *pfVar9 = *pfVar7;
          pfVar7 = pfVar7 + 1;
          pfVar9 = pfVar9 + 1;
        }
        local_14 = (undefined4 *)0x479599;
        local_19c = __ftol();
        local_14 = (undefined4 *)0x4795b5;
        local_198 = __ftol();
        local_14 = (undefined4 *)0x4795d2;
        local_194 = __ftol();
        local_14 = (undefined4 *)0x4795e8;
        local_1c0 = __ftol();
        local_14 = (undefined4 *)0x4795fe;
        local_1bc = __ftol();
        local_14 = (undefined4 *)0x479615;
        local_1b8 = __ftol();
        local_14 = (undefined4 *)0x479632;
        local_1e4 = __ftol();
        local_14 = (undefined4 *)0x479649;
        local_1e0 = __ftol();
        local_14 = (undefined4 *)0x479666;
        local_1dc = __ftol();
        local_14 = (undefined4 *)0x479677;
        local_1a8 = __ftol();
        local_14 = (undefined4 *)0x47968b;
        local_1a4 = __ftol();
        local_14 = (undefined4 *)0x47969f;
        local_1a0 = __ftol();
        local_14 = (undefined4 *)0x4796b0;
        local_1cc = __ftol();
        local_1c8 = 0;
        local_14 = (undefined4 *)0x4796cc;
        local_1c4 = __ftol();
        local_14 = (undefined4 *)0x4796e0;
        local_1fc[3] = __ftol();
        local_14 = (undefined4 *)0x4796f4;
        local_1ec = __ftol();
        local_14 = (undefined4 *)0x479708;
        local_1e8 = __ftol();
        local_14 = (undefined4 *)0x47971f;
        local_1b4 = __ftol();
        local_14 = (undefined4 *)0x479736;
        local_1b0 = __ftol();
        local_14 = (undefined4 *)0x47974d;
        local_1ac = __ftol();
        local_14 = (undefined4 *)0x479764;
        local_1d8 = __ftol();
        local_14 = (undefined4 *)0x479778;
        local_1d4 = __ftol();
        local_14 = (undefined4 *)0x47978f;
        local_1d0 = __ftol();
        local_14 = (undefined4 *)0x4797ab;
        local_1fc[0] = __ftol();
        local_14 = (undefined4 *)0x4797be;
        local_1fc[1] = __ftol();
        local_14 = (undefined4 *)0x4797d4;
        local_1fc[2] = __ftol();
        local_14 = (undefined4 *)0x4797f9;
        local_130 = __ftol();
        local_14 = (undefined4 *)0x479815;
        local_12c = __ftol();
        local_14 = (undefined4 *)0x479835;
        local_128 = __ftol();
        local_14 = (undefined4 *)0x47984b;
        local_154 = __ftol();
        local_14 = (undefined4 *)0x479861;
        local_150 = __ftol();
        local_14 = (undefined4 *)0x47987b;
        local_14c = __ftol();
        local_14 = (undefined4 *)0x47989b;
        local_178 = __ftol();
        local_14 = (undefined4 *)0x4798b2;
        local_174 = __ftol();
        local_14 = (undefined4 *)0x4798d2;
        local_170 = __ftol();
        local_14 = (undefined4 *)0x4798e3;
        local_13c = __ftol();
        local_14 = (undefined4 *)0x4798f7;
        local_138 = __ftol();
        local_14 = (undefined4 *)0x47990b;
        local_134 = __ftol();
        local_14 = (undefined4 *)0x47991c;
        local_160 = __ftol();
        local_15c = 0;
        local_14 = (undefined4 *)0x479939;
        local_158 = __ftol();
        local_14 = (undefined4 *)0x47994d;
        local_190[3] = __ftol();
        local_14 = (undefined4 *)0x479961;
        local_180 = __ftol();
        local_14 = (undefined4 *)0x479975;
        local_17c = __ftol();
        local_14 = (undefined4 *)0x47998c;
        local_148 = __ftol();
        local_14 = (undefined4 *)0x4799a3;
        local_144 = __ftol();
        local_14 = (undefined4 *)0x4799ba;
        local_140 = __ftol();
        local_14 = (undefined4 *)0x4799d4;
        local_16c = __ftol();
        local_14 = (undefined4 *)0x4799e8;
        local_168 = __ftol();
        local_14 = (undefined4 *)0x479a02;
        local_164 = __ftol();
        local_14 = (undefined4 *)0x479a21;
        local_190[0] = __ftol();
        local_14 = (undefined4 *)0x479a34;
        local_190[1] = __ftol();
        local_14 = (undefined4 *)0x479a4d;
        local_190[2] = __ftol();
        local_14 = (undefined4 *)0x479a6f;
        local_c4 = __ftol();
        local_14 = (undefined4 *)0x479a8b;
        local_c0 = __ftol();
        local_14 = (undefined4 *)0x479aa8;
        local_bc = __ftol();
        local_14 = (undefined4 *)0x479abe;
        local_e8 = __ftol();
        local_14 = (undefined4 *)0x479ad4;
        local_e4 = __ftol();
        local_14 = (undefined4 *)0x479aeb;
        local_e0 = __ftol();
        local_14 = (undefined4 *)0x479b08;
        local_10c = __ftol();
        local_14 = (undefined4 *)0x479b1f;
        local_108 = __ftol();
        local_14 = (undefined4 *)0x479b3c;
        local_104 = __ftol();
        local_14 = (undefined4 *)0x479b4d;
        local_d0 = __ftol();
        local_14 = (undefined4 *)0x479b61;
        local_cc = __ftol();
        local_14 = (undefined4 *)0x479b75;
        local_c8 = __ftol();
        local_14 = (undefined4 *)0x479b86;
        local_f4 = __ftol();
        local_f0 = 0;
        local_14 = (undefined4 *)0x479ba0;
        local_ec = __ftol();
        local_14 = (undefined4 *)0x479bb4;
        local_124[3] = __ftol();
        local_14 = (undefined4 *)0x479bc8;
        local_114 = __ftol();
        local_14 = (undefined4 *)0x479bdc;
        local_110 = __ftol();
        local_14 = (undefined4 *)0x479bf3;
        local_dc = __ftol();
        local_14 = (undefined4 *)0x479c0a;
        local_d8 = __ftol();
        local_14 = (undefined4 *)0x479c21;
        local_d4 = __ftol();
        local_14 = (undefined4 *)0x479c38;
        local_100 = __ftol();
        local_14 = (undefined4 *)0x479c4c;
        local_fc = __ftol();
        local_14 = (undefined4 *)0x479c63;
        local_f8 = __ftol();
        local_14 = (undefined4 *)0x479c7f;
        local_124[0] = __ftol();
        local_14 = (undefined4 *)0x479c92;
        local_124[1] = __ftol();
        local_14 = (undefined4 *)0x479ca8;
        local_124[2] = __ftol();
        local_14 = (undefined4 *)0x0;
        switch(uVar4) {
        case 8:
          param_1._0_1_ = 3;
          break;
        default:
          param_1._0_1_ = 7;
          break;
        case 0x10:
          param_1._0_1_ = 4;
          break;
        case 0x20:
          param_1._0_1_ = 5;
          break;
        case 0x40:
          param_1._0_1_ = 6;
          break;
        case 0x100:
          param_1._0_1_ = 8;
        }
        local_88 = 0;
        iVar3 = puVar1[7] << 0x17;
        pfStack_18 = (float *)puVar1;
        if (0 < *(int *)(local_28 + 0x1c)) {
          local_8c = 0;
          iVar11 = iVar3;
          iVar12 = iVar3;
          do {
            local_84 = 0;
            piVar8 = (int *)(local_8c + *(int *)(local_28 + 0xc));
            piVar10 = local_80;
            for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
              *piVar10 = *piVar8;
              piVar8 = piVar8 + 1;
              piVar10 = piVar10 + 1;
            }
            iVar11 = local_80[2] * local_1d4 + iVar11 +
                     local_80[0] * local_1c4 + local_80[1] * local_1ec;
            iVar3 = local_80[0] * local_158 + local_80[1] * local_180 +
                    local_80[2] * local_168 + iVar3;
            iVar12 = local_80[2] * local_fc + iVar12 +
                     local_80[0] * local_ec + local_80[1] * local_114;
            uVar2 = 0xd;
            puVar13 = local_70;
            if (0 < local_6c) {
              do {
                iVar11 = iVar11 + local_1fc[uVar2];
                iVar3 = iVar3 + local_190[uVar2];
                iVar12 = iVar12 + local_124[uVar2];
                iVar5 = ((iVar3 >> 0x18) << (sbyte)param_1 | iVar11 >> 0x18) * 2;
                iVar6 = iVar12 >> 0x18;
                if (iVar6 < (int)(uint)*(ushort *)(local_90 + iVar5)) {
                  if (iVar6 < (int)local_14) {
                    local_14 = (undefined4 *)iVar6;
                  }
                  *(undefined2 *)(local_b8 + iVar5) = *puVar13;
                  *(short *)(local_90 + iVar5) = (short)(char)((uint)iVar12 >> 0x18);
                }
                uVar2 = (uint)*(byte *)(local_84 + (int)local_74);
                puVar13 = puVar13 + 1;
                local_84 = local_84 + 1;
              } while (local_84 < local_6c);
            }
            local_88 = local_88 + 1;
            local_8c = local_8c + 0x18;
            pfStack_18 = (float *)local_b4;
          } while (local_88 < *(int *)(local_28 + 0x1c));
        }
        *(undefined4 *)((int)pfStack_18 + 0x65) = 0;
        *(float *)((int)pfStack_18 + 0x61) = local_204;
        local_14 = (undefined4 *)0x127;
        *(int *)((int)pfStack_18 + 0x69) = local_b0;
        *(int *)((int)pfStack_18 + 0x6d) = local_ac;
        *(int *)((int)pfStack_18 + 0x71) = local_a8;
        *(undefined4 *)((int)pfStack_18 + 0x79) = 0x3f800000;
        *(undefined4 *)((int)pfStack_18 + 0x7d) = 0;
        *(int *)((int)pfStack_18 + 0x75) = local_a4;
        *(undefined4 *)((int)pfStack_18 + 0x81) = 0x127;
        *(undefined *)((int)pfStack_18 + 0x85) = 1;
        local_1c = (float *)(&DAT_005bcb60 + DAT_005cf260 * 0x127);
        uStack_20 = 0x479f0c;
        FUN_004ad7a0();
        local_14 = (undefined4 *)(&DAT_005bcb60 + DAT_005cf260 * 0x127);
        DAT_005cf260 = DAT_005cf260 + 1;
        pfStack_18 = (float *)local_204;
        local_1c = (float *)0x479f39;
        FUN_004859e0();
        return;
      }
    }
  }
  return;
}



void FUN_0047a0c0(int *param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  
  if (((*(uint *)(**(int **)(param_3 + 0xa3) + 0x8a) & 10) == 0) &&
     (*(int *)(*(int *)(*(int *)(**(int **)(param_3 + 0xa3) + 0x86) + 0x13) + 0x38) == 0)) {
    FUN_0047d720(param_3 + 0x47);
  }
  else {
    *(undefined4 *)(param_3 + 0x47) = *(undefined4 *)(DAT_005e45e4 + 0x238);
    *(undefined4 *)(param_3 + 0x4b) = *(undefined4 *)(DAT_005e45e4 + 0x248);
    *(undefined4 *)(param_3 + 0x4f) = *(undefined4 *)(DAT_005e45e4 + 600);
    *(undefined4 *)(param_3 + 0x57) = *(undefined4 *)(DAT_005e45e4 + 0x23c);
    *(undefined4 *)(param_3 + 0x5b) = *(undefined4 *)(DAT_005e45e4 + 0x24c);
    *(undefined4 *)(param_3 + 0x5f) = *(undefined4 *)(DAT_005e45e4 + 0x25c);
    *(undefined4 *)(param_3 + 0x67) = *(undefined4 *)(DAT_005e45e4 + 0x240);
    *(undefined4 *)(param_3 + 0x6b) = *(undefined4 *)(DAT_005e45e4 + 0x250);
    *(undefined4 *)(param_3 + 0x6f) = *(undefined4 *)(DAT_005e45e4 + 0x260);
  }
  (**(code **)(*param_1 + 0x40))(param_1,DAT_005b9ce0,param_3 + 0x47);
  iVar1 = (**(code **)(*param_1 + 0x20))(param_1,*(undefined4 *)(param_3 + 0xb6),param_2,1);
  if (iVar1 != 0) {
    (**(code **)(*param_1 + 0x50))(param_1);
  }
  return;
}



void FUN_0047a1c0(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  
  uVar5 = 0;
  if (DAT_005cff40 != 0) {
    iVar1 = 0;
    iVar4 = DAT_005cff44;
    do {
      if (*(int *)(iVar4 + 0x97 + iVar1) != 0) {
        puVar2 = (undefined4 *)(iVar4 + 7 + iVar1);
        puVar6 = (undefined4 *)(iVar4 + 0x47 + iVar1);
        for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
          *puVar6 = *puVar2;
          puVar2 = puVar2 + 1;
          puVar6 = puVar6 + 1;
        }
        *(undefined4 *)(DAT_005cff44 + 0xaf + iVar1) =
             *(undefined4 *)(*(int *)(*(int *)(DAT_005cff44 + 0xab + iVar1) + 0x13) + 0x7f);
        iVar4 = DAT_005cff44;
      }
      uVar5 = uVar5 + 1;
      iVar1 = iVar1 + 0xcc;
    } while (uVar5 < DAT_005cff40);
  }
  puVar2 = &DAT_005cf287;
  do {
    if (puVar2[0x24] != 0) {
      puVar6 = puVar2;
      puVar7 = puVar2 + 0x10;
      for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar7 = *puVar6;
        puVar6 = puVar6 + 1;
        puVar7 = puVar7 + 1;
      }
    }
    puVar2 = puVar2 + 0x33;
  } while (puVar2 < (undefined4 *)((int)&DAT_005cff44 + 3));
  return;
}



void FUN_0047a250(int param_1,int param_2)

{
  int *piVar1;
  void *_Dst;
  size_t _Size;
  int iVar2;
  int *piVar3;
  int iVar4;
  float *pfVar5;
  undefined4 *puVar6;
  float *pfVar7;
  undefined4 *puVar8;
  float10 fVar9;
  undefined local_f0 [12];
  undefined4 local_e4 [12];
  undefined4 local_b4;
  float local_b0;
  float local_ac;
  float local_a4 [8];
  float local_84;
  float local_80;
  float local_7c;
  undefined4 local_64 [4];
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  float local_34;
  float local_30;
  undefined4 local_2c;
  float local_28;
  float local_24;
  float local_20;
  int iVar10;
  undefined *puVar11;
  
  AdjustStackForLargeAllocations();
  _Size = *(size_t *)(*(int *)(param_2 + 4) + 0x86);
  local_24 = (float)(*(int *)(_Size + 0x13) + 0x8d);
  _Dst = (void *)(DAT_005cff44 +
                 (uint)*(ushort *)((uint)*(byte *)(param_2 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc);
  local_20 = 6.578682e-39;
  _memset(_Dst,0,_Size);
  iVar10 = 1;
  local_20 = 6.578698e-39;
  iVar2 = FUN_00409bd0();
  if (iVar2 != 0) {
    iVar2 = *(int *)(param_2 + 4);
    pfVar5 = (float *)(iVar2 + 6);
    pfVar7 = local_a4;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar7 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar7 = pfVar7 + 1;
    }
    if (*(int *)(*(int *)(iVar10 + 0x13) + 0x7f) == 0x19) {
      puVar6 = &DAT_004d1ae0;
      puVar8 = local_64;
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *puVar8 = *puVar6;
        puVar6 = puVar6 + 1;
        puVar8 = puVar8 + 1;
      }
      local_34 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x18
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_30 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1a
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_2c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1c +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_a4[0] = -local_a4[0];
      local_a4[1] = -local_a4[1];
      local_a4[2] = -local_a4[2];
      local_84 = -local_84;
      local_80 = -local_80;
      local_7c = -local_7c;
    }
    else {
      local_64[0] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[1] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 2 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[2] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 4 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[3] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 6 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_54 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 8 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_50 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 10 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_4c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0xc +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_48 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0xe +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_44 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x10 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_40 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x12 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_3c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x14 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_38 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x16 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_34 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x18
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_30 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1a
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_2c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1c +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_28 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x10c + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1e
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
    }
    iVar10 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
    if (((((iVar10 == 4) || (iVar10 == 5)) ||
         ((iVar10 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13), *(int *)(iVar10 + 0x114) == 6 &&
          (*(char *)(iVar2 + 4) == '\x03')))) ||
        ((*(int *)(iVar10 + 0x7b) == 8 &&
         ((*(char *)(iVar2 + 4) == '\x05' || (*(char *)(iVar2 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar2 + 0x8a) & 0x100000) != 0)) {
      local_20 = 6.580087e-39;
      MultiplyMatrices();
    }
    local_20 = 6.580128e-39;
    MultiplyMatrices();
    iVar2 = *(int *)(param_2 + 4);
    local_38 = *(undefined4 *)(iVar2 + 0x36);
    local_34 = *(float *)(iVar2 + 0x3a);
    local_30 = *(float *)(iVar2 + 0x3e);
    puVar11 = local_f0;
    local_b0 = local_b0 - local_34;
    local_20 = 0.1;
    local_24 = local_ac;
    local_ac = local_ac - local_30;
    local_2c = local_b4;
    local_3c = 0x47a727;
    local_28 = local_34;
    fVar9 = (float10)FUN_00421a70();
    if (fVar9 != (float10)-10000.0) {
      *(float *)(*(int *)(param_2 + 4) + 0xd3) =
           *(float *)(*(int *)(param_2 + 4) + 0xd3) - local_20 * 0.05;
      *(float *)(*(int *)(param_2 + 4) + 0xd7) =
           *(float *)(*(int *)(param_2 + 4) + 0xd7) - local_b0 * 0.05;
      *(float *)(*(int *)(param_2 + 4) + 0xdb) =
           *(float *)(*(int *)(param_2 + 4) + 0xdb) - local_ac * 0.05;
      return;
    }
    if (((char)DAT_00598944 != '\0') && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
      local_20 = 0.0;
      piVar3 = *(int **)(*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x86) + 0x13) + 0xf0);
      iVar2 = *piVar3;
      while (param_1 != iVar2) {
        piVar1 = piVar3 + 1;
        piVar3 = piVar3 + 1;
        local_20 = (float)((int)local_20 + 1);
        iVar2 = *piVar1;
      }
      puVar11 = (undefined *)0x0;
      local_24 = 0.0;
      local_28 = 2.802597e-44;
      local_2c = 0x47a7d9;
      FUN_00466530();
    }
    puVar6 = local_e4;
    puVar8 = (undefined4 *)((int)_Dst + 7);
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar8 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar8 = puVar8 + 1;
    }
    *(undefined4 *)((int)_Dst + 3) = 1;
    *(undefined2 *)((int)_Dst + 0xb4) = *(undefined2 *)((int)local_24 + 0x14);
    *(undefined *)((int)_Dst + 0xba) = *(undefined *)((int)local_24 + 0x60);
    *(undefined *)((int)_Dst + 0xbb) = *(undefined *)((int)local_24 + 0x61);
    if ((*(byte *)((int)local_24 + 0x62) & 2) == 0) {
      *(byte *)((int)_Dst + 0xb3) = *(byte *)((int)_Dst + 0xb3) & 0xfd;
    }
    else {
      *(byte *)((int)_Dst + 0xb3) = *(byte *)((int)_Dst + 0xb3) | 2;
    }
    if ((*(int *)(*(int *)(puVar11 + 0x13) + 0x7f) == 1) &&
       (*(char *)((int)local_24 + 0x5f) == '\x03')) {
      *(undefined4 *)((int)_Dst + 3) = 3;
    }
    *(undefined **)((int)_Dst + 0xab) = puVar11;
    *(int *)((int)_Dst + 200) = param_1;
    *(undefined4 *)((int)_Dst + 0x97) = 1;
    *(undefined4 *)((int)_Dst + 0x9b) = 0;
    *(int *)((int)_Dst + 0xa3) = param_2;
    *(undefined4 *)((int)_Dst + 0xb6) = 0;
    *(byte *)((int)_Dst + 0xb3) = *(byte *)((int)_Dst + 0xb3) | 0x10;
    FUN_0047ae90();
  }
  return;
}



void FUN_0047a890(int param_1,int param_2)

{
  int *piVar1;
  void *_Dst;
  size_t _Size;
  int iVar2;
  int *piVar3;
  int iVar4;
  float *pfVar5;
  undefined4 *puVar6;
  float *pfVar7;
  undefined4 *puVar8;
  float10 fVar9;
  undefined local_f0 [12];
  undefined4 local_e4 [12];
  undefined4 local_b4;
  float local_b0;
  undefined4 *local_ac;
  float local_a4 [8];
  float local_84;
  float local_80;
  float local_7c;
  undefined4 local_64 [4];
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  float local_34;
  float local_30;
  undefined4 local_2c;
  float local_28;
  undefined4 *local_24;
  float local_20;
  float fVar10;
  int iVar11;
  undefined *puVar12;
  
  AdjustStackForLargeAllocations();
  _Size = *(size_t *)(*(int *)(param_2 + 4) + 0x86);
  local_24 = (undefined4 *)(*(int *)(_Size + 0x13) + 0x8d);
  _Dst = (void *)(DAT_005cff44 +
                 (uint)*(ushort *)((uint)*(byte *)(param_2 + 0x22) * 5 + -2 + DAT_005cff48) * 0xcc);
  local_20 = 6.580924e-39;
  _memset(_Dst,0,_Size);
  iVar11 = 1;
  local_20 = 6.58094e-39;
  iVar2 = FUN_00409bd0();
  if (iVar2 != 0) {
    iVar2 = *(int *)(param_2 + 4);
    pfVar5 = (float *)(iVar2 + 6);
    pfVar7 = local_a4;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar7 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar7 = pfVar7 + 1;
    }
    if (*(int *)(*(int *)(iVar11 + 0x13) + 0x7f) == 0x19) {
      puVar6 = &DAT_004d1ae0;
      puVar8 = local_64;
      for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
        *puVar8 = *puVar6;
        puVar6 = puVar6 + 1;
        puVar8 = puVar8 + 1;
      }
      local_34 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x18
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_30 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1a
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_2c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1c +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_a4[0] = -local_a4[0];
      local_a4[1] = -local_a4[1];
      local_a4[2] = -local_a4[2];
      local_84 = -local_84;
      local_80 = -local_80;
      local_7c = -local_7c;
    }
    else {
      local_64[0] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[1] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 2 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[2] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 4 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_64[3] = *(undefined4 *)
                     (DAT_004d77ec +
                     (uint)*(ushort *)
                            (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 6 +
                            (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_54 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 8 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_50 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 10 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_4c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0xc +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_48 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0xe +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_44 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x10 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_40 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x12 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_3c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x14 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_38 = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x16 +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_34 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x18
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_30 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1a
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_2c = *(undefined4 *)
                  (DAT_004d77ec +
                  (uint)*(ushort *)
                         (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1c +
                         (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
      local_28 = *(float *)(DAT_004d77ec +
                           (uint)*(ushort *)
                                  (*(int *)(param_1 + 0x14 + (uint)*(byte *)(iVar2 + 4) * 4) + 0x1e
                                  + (uint)*(byte *)(iVar2 + 5) * 0x20) * 4);
    }
    iVar11 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
    if (((((iVar11 == 4) || (iVar11 == 5)) ||
         ((iVar11 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13), *(int *)(iVar11 + 0x114) == 6 &&
          (*(char *)(iVar2 + 4) == '\x03')))) ||
        ((*(int *)(iVar11 + 0x7b) == 8 &&
         ((*(char *)(iVar2 + 4) == '\x05' || (*(char *)(iVar2 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar2 + 0x8a) & 0x100000) != 0)) {
      local_20 = 6.582249e-39;
      MultiplyMatrices();
    }
    local_20 = 6.58229e-39;
    MultiplyMatrices();
    iVar2 = *(int *)(param_2 + 4);
    local_38 = *(undefined4 *)(iVar2 + 0x36);
    local_34 = *(float *)(iVar2 + 0x3a);
    local_30 = *(float *)(iVar2 + 0x3e);
    puVar12 = local_f0;
    local_b0 = local_b0 - local_34;
    local_20 = 0.1;
    local_24 = local_ac;
    fVar10 = (float)local_ac - local_30;
    local_2c = local_b4;
    local_3c = 0x47ad2e;
    local_28 = local_34;
    fVar9 = (float10)FUN_00421a70();
    if (fVar9 != (float10)-10000.0) {
      *(float *)(*(int *)(param_2 + 4) + 0xd3) =
           *(float *)(*(int *)(param_2 + 4) + 0xd3) - local_20 * 0.05;
      *(float *)(*(int *)(param_2 + 4) + 0xd7) =
           *(float *)(*(int *)(param_2 + 4) + 0xd7) - local_b0 * 0.05;
      *(float *)(*(int *)(param_2 + 4) + 0xdb) =
           *(float *)(*(int *)(param_2 + 4) + 0xdb) - fVar10 * 0.05;
      return;
    }
    if (((char)DAT_00598944 != '\0') && ((*(byte *)(*(int *)(param_2 + 4) + 0x8a) & 1) != 0)) {
      local_20 = 0.0;
      piVar3 = *(int **)(*(int *)(*(int *)(*(int *)(param_2 + 4) + 0x86) + 0x13) + 0xf9);
      iVar2 = *piVar3;
      while (param_1 != iVar2) {
        piVar1 = piVar3 + 1;
        piVar3 = piVar3 + 1;
        local_20 = (float)((int)local_20 + 1);
        iVar2 = *piVar1;
      }
      puVar12 = (undefined *)0x0;
      local_24 = (undefined4 *)0x1;
      local_28 = 2.802597e-44;
      local_2c = 0x47ade0;
      FUN_00466530();
    }
    puVar6 = local_e4;
    puVar8 = (undefined4 *)((int)_Dst + 7);
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar8 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar8 = puVar8 + 1;
    }
    *(undefined4 *)((int)_Dst + 3) = 0;
    *(undefined2 *)((int)_Dst + 0xb4) = *(undefined2 *)(local_24 + 5);
    *(undefined4 *)((int)_Dst + 0xb6) = *local_24;
    *(undefined *)((int)_Dst + 0xba) = *(undefined *)(local_24 + 0x18);
    *(undefined *)((int)_Dst + 0xbb) = *(undefined *)((int)local_24 + 0x61);
    if ((*(int *)(*(int *)(puVar12 + 0x13) + 0x7f) == 1) &&
       (*(char *)((int)local_24 + 0x5f) == '\x03')) {
      *(undefined4 *)((int)_Dst + 3) = 3;
    }
    *(undefined **)((int)_Dst + 0xab) = puVar12;
    *(int *)((int)_Dst + 200) = param_1;
    *(undefined4 *)((int)_Dst + 0x97) = 1;
    *(undefined4 *)((int)_Dst + 0x9b) = 0;
    *(int *)((int)_Dst + 0xa3) = param_2;
    *(byte *)((int)_Dst + 0xb3) = *(byte *)((int)_Dst + 0xb3) | 0x10;
    FUN_0047ae90();
  }
  return;
}



void FUN_0047ae90(int param_1,char *param_2)

{
  float fVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  uint uVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float *pfVar9;
  float fVar10;
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined4 *puVar14;
  float10 fVar15;
  undefined4 local_60 [15];
  undefined4 uStack_24;
  int local_20;
  int *piStack_1c;
  undefined8 local_18;
  float fVar16;
  
  AdjustStackForLargeAllocations();
  *param_2 = DAT_00598e3c;
  param_2[1] = *(char *)((uint)*(byte *)(param_1 + 0x22) * 5 + -2 + DAT_005cff48);
  DAT_00598e3c = DAT_00598e3c + 1 & 0x7f;
  iVar13 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13);
  iVar2 = *(int *)(iVar13 + 0x7f);
  *(char **)(*(int *)(param_1 + 4) + 0x104) = param_2;
  iVar3 = *(int *)(param_1 + 4);
  iVar11 = *(int *)(*(int *)(iVar3 + 0x98) + 0x10);
  if (((((iVar11 == 4) || (iVar11 == 5)) ||
       ((iVar11 = *(int *)(*(int *)(iVar3 + 0x86) + 0x13), *(int *)(iVar11 + 0x114) == 6 &&
        (*(char *)(iVar3 + 4) == '\x03')))) ||
      ((*(int *)(iVar11 + 0x7b) == 8 &&
       ((*(char *)(iVar3 + 4) == '\x05' || (*(char *)(iVar3 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar3 + 0x8a) & 0x100000) != 0)) {
    piStack_1c = local_60;
    local_18 = (double)CONCAT44(iVar3 + 6,iVar3 + 0x46);
    local_20 = 0x47af61;
    MultiplyMatrices();
  }
  else {
    puVar12 = (undefined4 *)(iVar3 + 6);
    puVar14 = local_60;
    for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar14 = *puVar12;
      puVar12 = puVar12 + 1;
      puVar14 = puVar14 + 1;
    }
  }
  fVar16 = *(float *)(*(int *)(param_1 + 4) + 0xa4);
  fVar1 = *(float *)(*(int *)(param_1 + 4) + 0xac);
  local_18 = (double)(fVar1 * fVar1 + fVar16 * fVar16);
  piStack_1c = (int *)0x47af93;
  fVar15 = (float10)FUN_004ad534();
  fVar1 = (float)fVar15;
  if ((iVar2 == 0x17) || (iVar2 == 0x18)) {
    iVar3 = *(int *)(param_1 + 4);
    fVar4 = *(float *)(iVar3 + 0xf3);
    fVar16 = *(float *)(iVar3 + 0xf7);
    fVar10 = *(float *)(iVar3 + 0xfb);
  }
  else {
    piStack_1c = &local_20;
    local_18 = (double)CONCAT44(local_60,param_1);
    local_20 = 0x47afb2;
    pfVar9 = (float *)FUN_0047f360();
    fVar4 = *pfVar9;
    fVar16 = pfVar9[1];
    fVar10 = pfVar9[2];
  }
  switch(iVar2) {
  case 1:
    if (*(char *)(iVar13 + 0xec) != '\x03') goto switchD_0047aff2_caseD_2;
    *(undefined4 *)(param_2 + 0x8b) = *(undefined4 *)(iVar13 + 0xa9);
    goto LAB_0047b14b;
  case 2:
switchD_0047aff2_caseD_2:
    *(float *)(param_2 + 0x87) = -fVar4 * *(float *)(iVar13 + 0xa5);
    *(float *)(param_2 + 0x8b) = -fVar16 * *(float *)(iVar13 + 0xa9);
    *(float *)(param_2 + 0x8f) = -fVar10 * *(float *)(iVar13 + 0xad);
    goto LAB_0047b33b;
  case 3:
  case 0x12:
  case 0x18:
    fVar7 = fVar1 - *(float *)(iVar13 + 0xa5) * -2.0;
    fVar6 = -fVar10 * fVar7;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar7;
    *(float *)(param_2 + 0x8b) = -fVar16 * fVar7;
    break;
  case 4:
  case 8:
  case 0xc:
    fVar6 = *(float *)(iVar13 + 0xa5) + fVar1;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar6;
    fVar6 = -fVar10 * fVar6;
    *(float *)(param_2 + 0x8b) = -fVar16 * *(float *)(iVar13 + 0xa9);
    break;
  case 5:
  case 6:
    *(undefined4 *)(param_2 + 0x8b) = *(undefined4 *)(iVar13 + 0xa9);
LAB_0047b14b:
    fVar16 = *(float *)(iVar13 + 0xa5) + fVar1;
    fVar6 = -fVar10 * fVar16;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar16;
    break;
  case 7:
    fVar7 = *(float *)(iVar13 + 0xa5) + fVar1;
    fVar8 = fVar7 - -0.5;
    fVar6 = -fVar10 * fVar8;
    *(float *)(param_2 + 0x8b) = -fVar16 * fVar7 - -1.0;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar8;
    break;
  case 9:
    fVar6 = *(float *)(iVar13 + 0xa5) + fVar1;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar6;
    *(float *)(param_2 + 0x8b) =
         -fVar16 * *(float *)(iVar13 + 0xa9) + *(float *)(*(int *)(param_1 + 4) + 0xa8);
    *(float *)(param_2 + 0x8f) = -fVar10 * fVar6;
    if (DAT_005e4a64 != 0) {
      piStack_1c = (int *)(param_2 + 7);
      local_18 = 4.940656458412465e-324;
      local_20 = DAT_005e4a64 + 0x492;
      uStack_24 = 0x47b232;
      FUN_00475bf0();
    }
    goto LAB_0047b33b;
  default:
    *(float *)(param_2 + 0x8b) = -fVar16 * *(float *)(iVar13 + 0xa9);
    fVar16 = *(float *)(iVar13 + 0xa5) + fVar1;
    fVar6 = -fVar10 * fVar16;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar16;
    break;
  case 0xb:
  case 0xe:
  case 0xf:
  case 0x11:
  case 0x14:
  case 0x1d:
    fVar7 = *(float *)(iVar13 + 0xa5) + fVar1;
    fVar6 = -fVar10 * fVar7;
    *(float *)(param_2 + 0x87) = -fVar4 * fVar7;
    *(float *)(param_2 + 0x8b) = -fVar16 * fVar7;
    break;
  case 0x17:
    *(undefined4 *)(param_2 + 0x8b) = 0xc0a00000;
    *(undefined4 *)(param_2 + 0x87) = 0;
    *(undefined4 *)(param_2 + 0x8f) = 0;
    goto LAB_0047b33b;
  case 0x19:
  case 0x1b:
    *(float *)(param_2 + 0x87) = -fVar4 * *(float *)(iVar13 + 0xa5);
    *(float *)(param_2 + 0x8b) = -fVar16 * *(float *)(iVar13 + 0xa9);
    *(float *)(param_2 + 0x8f) = -fVar10 * *(float *)(iVar13 + 0xad);
    uVar5 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if (((uVar5 & 0x200000) == 0) &&
       (*(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar5 | 0x200000, param_1 == DAT_005e45e8)) {
      DAT_004d7a40 = 1;
      *(char **)(DAT_005e45e4 + 0x2b9) = param_2 + 7;
    }
    goto LAB_0047b33b;
  case 0x1e:
    uVar5 = *(uint *)(*(int *)(param_1 + 4) + 0x8a);
    if (((uVar5 & 0x100000) == 0) &&
       (*(uint *)(*(int *)(param_1 + 4) + 0x8a) = uVar5 | 0x100000, param_1 == DAT_005e45e8)) {
      DAT_004d7a40 = 1;
      *(char **)(DAT_005e45e4 + 0x2b9) = param_2 + 7;
    }
    goto LAB_0047b33b;
  }
  *(float *)(param_2 + 0x8f) = fVar6;
LAB_0047b33b:
  local_18 = (double)CONCAT44(fVar1,(int)&local_18 + 4);
  piStack_1c = (int *)param_2;
  local_20 = param_1;
  *(undefined4 *)(param_2 + 0xa7) = 0;
  uStack_24 = 0x47b354;
  FUN_0047b3e0();
  return;
}



void FUN_0047b3e0(int param_1,int param_2,float *param_3,float param_4)

{
  short *psVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  float10 fVar5;
  undefined4 local_24;
  undefined4 local_20;
  float local_1c;
  undefined4 *local_18;
  undefined4 **local_14;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13);
  iVar6 = *(int *)(iVar3 + 0x7f);
  *(undefined4 *)(param_2 + 0x93) = *(undefined4 *)(iVar3 + 0xb1);
  if ((*(byte *)(iVar3 + 0xef) & 4) == 0) {
    *(byte *)(param_2 + 0xb3) = *(byte *)(param_2 + 0xb3) & 0xfb;
  }
  else {
    *(byte *)(param_2 + 0xb3) = *(byte *)(param_2 + 0xb3) | 4;
  }
  if ((iVar6 != 0x1e) && (iVar6 != 0x1b)) {
    *(undefined4 *)(param_2 + 0x9f) = *(undefined4 *)(iVar3 + 0xb5);
  }
  if ((*(byte *)(iVar3 + 0xef) & 0x20) == 0) goto LAB_0047b56d;
  if ((*(byte *)(*(int *)(param_1 + 4) + 0x8a) & 2) == 0) {
    iVar4 = *(int *)(param_1 + 0x12);
  }
  else {
    iVar4 = *(int *)(DAT_005df318 + 4);
  }
  if (iVar4 == 0) goto LAB_0047b56d;
  local_14 = *(undefined4 ***)(*(int *)(iVar4 + 4) + 0x3a);
  fVar2 = *(float *)(*(int *)(iVar4 + 4) + 0x3e);
  *param_3 = *(float *)(*(int *)(param_1 + 4) + 0x36) - *(float *)(*(int *)(iVar4 + 4) + 0x36);
  param_3[1] = *(float *)(*(int *)(param_1 + 4) + 0x3a) - (float)local_14;
  param_3[2] = *(float *)(*(int *)(param_1 + 4) + 0x3e) - fVar2;
  local_18 = (undefined4 *)0x47b4c1;
  FUN_0045eab0();
  local_24 = *(undefined4 *)(param_2 + 0x37);
  if (((iVar6 == 0x12) || (iVar6 == 0x18)) || (iVar6 == 3)) {
    local_1c = param_4 - *(float *)(iVar3 + 0xa5) * -2.0;
  }
  else {
    local_1c = *(float *)(iVar3 + 0xa5) + param_4;
  }
  *(float *)(param_2 + 0x87) = -*param_3 * local_1c;
  *(float *)(param_2 + 0x8f) = -param_3[2] * local_1c;
  switch(iVar6) {
  case 2:
  case 3:
  case 4:
  case 0xb:
  case 0xc:
  case 0xe:
  case 0xf:
  case 0x12:
  case 0x18:
    fVar5 = -(float10)param_3[1] * (float10)local_1c;
    break;
  case 5:
  case 6:
  case 7:
    local_14 = &local_18;
    local_18 = &local_24;
    local_20 = 0x47b558;
    fVar5 = (float10)FUN_0047df80();
    break;
  default:
    goto switchD_0047b536_caseD_8;
  }
  *(float *)(param_2 + 0x8b) = (float)fVar5;
switchD_0047b536_caseD_8:
  *(int *)(param_2 + 0xa7) = iVar4;
LAB_0047b56d:
  if ((param_1 == DAT_005e45e8) && ((*(byte *)(iVar3 + 0xef) & 8) != 0)) {
    DAT_004d7a40 = 1;
    *(int *)(DAT_005e45e4 + 0x2b9) = param_2 + 7;
  }
  psVar1 = (short *)((uint)*(byte *)(param_1 + 0x22) * 5 + -2 + DAT_005cff48);
  *psVar1 = *psVar1 + 1;
  *(char *)(param_1 + 0x23) = *(char *)(param_1 + 0x23) + '\x01';
  iVar3 = DAT_005cff48 + (uint)*(byte *)(param_1 + 0x22) * 5;
  if ((uint)*(byte *)(param_1 + 0x22) * 0x10 <= (uint)*(ushort *)(iVar3 + -2)) {
    *(undefined2 *)(iVar3 + -2) = *(undefined2 *)(iVar3 + -4);
  }
  return;
}



// WARNING: Type propagation algorithm not settling

void FUN_0047b620(undefined4 *******param_1,int param_2)

{
  float fVar1;
  char cVar2;
  undefined2 uVar3;
  undefined4 *****pppppuVar4;
  undefined4 ******ppppppuVar5;
  undefined4 uVar6;
  undefined4 *******pppppppuVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  undefined4 *****unaff_ESI;
  undefined4 *puVar11;
  int iVar12;
  undefined4 *puVar13;
  float10 fVar14;
  undefined local_ac [12];
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 *****local_94;
  undefined4 local_90;
  undefined4 local_8c;
  float local_88 [2];
  float local_80;
  float local_7c;
  undefined4 local_78;
  float local_74;
  double local_70;
  undefined4 *****local_68;
  float local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  undefined *local_4c;
  undefined4 ******local_48;
  undefined4 ******local_44;
  float local_40;
  undefined4 ******local_38;
  undefined4 *******local_34;
  undefined4 *******local_30;
  undefined4 *******local_2c;
  undefined4 *******local_28;
  undefined4 *******local_24;
  undefined4 *******local_20;
  undefined4 *******local_1c;
  undefined8 local_18;
  undefined4 ******ppppppuVar15;
  float fVar16;
  float fVar17;
  
  AdjustStackForLargeAllocations();
  local_68 = (undefined4 *****)0x0;
  local_38 = (undefined4 ******)0xc61c4000;
  if (((param_2 == 0) || (iVar9 = *(int *)(param_2 + 0x13), iVar9 == 0)) ||
     ((ppppppuVar15 = *(undefined4 *******)((int)param_1 + 0xa3),
      ppppppuVar15 != (undefined4 ******)0x0 &&
      (unaff_ESI = ppppppuVar15[1], (*(byte *)((int)unaff_ESI + 0x8f) & 0x10) == 0)))) {
    *(undefined4 *)((int)param_1 + 0x97) = 0;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
    return;
  }
  local_28 = *(undefined4 ********)((int)param_1 + 0x37);
  local_24 = *(undefined4 ********)((int)param_1 + 0x3b);
  local_70 = (double)CONCAT44(local_28,local_70._0_4_);
  local_4c = *(undefined **)((int)param_1 + 0x3f);
  uVar3 = *(undefined2 *)(iVar9 + 0xe9);
  local_48 = *(undefined4 *******)(iVar9 + 0x7f);
  local_20 = (undefined4 *******)local_4c;
  switch(local_48) {
  case (undefined4 ******)0x1:
    if ((((*(byte *)((int)param_1 + 0xb3) & 4) == 0) || (*(int *)((int)param_1 + 0xab) == 0)) ||
       (*(char *)(iVar9 + 0xec) != '\x03')) {
      uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
      *(uint *)((int)param_1 + 0x9b) = uVar10;
      if (uVar10 < 0x272) {
        local_18 = (double)CONCAT44(2,param_1);
        local_1c = (undefined4 *******)0x47b9d2;
        FUN_0047e150();
      }
      else {
        *(undefined4 *)((int)param_1 + 0x97) = 4;
        *(undefined4 *)((int)param_1 + 0x9b) = 0;
      }
    }
    else {
      local_7c = *(float *)((int)param_1 + 0x87);
      local_78 = *(undefined4 *)((int)param_1 + 0x8b);
      local_74 = *(float *)((int)param_1 + 0x8f);
      local_18 = (double)CONCAT44(&local_7c,0x47b914);
      FUN_0045eab0();
      local_88[0] = local_74 * 0.1494381 - local_7c * -0.988771;
      local_80 = -(local_7c * 0.1494381) - local_74 * -0.988771;
      local_18 = (double)CONCAT44(local_88,0x47b964);
      FUN_0045eab0();
      *(float *)((int)param_1 + 0x87) = local_88[0] * 0.15;
      *(undefined4 *)((int)param_1 + 0x8b) = 0;
      *(float *)((int)param_1 + 0x8f) = local_80 * 0.15;
    }
    break;
  case (undefined4 ******)0x2:
    local_18 = (double)CONCAT44(2,param_1);
    if (*(char *)(iVar9 + 0xec) == '\x01') {
      local_1c = (undefined4 *******)0x47b7e1;
      FUN_0047e450();
      *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - 0.1;
    }
    else {
      local_1c = (undefined4 *******)0x47b7fd;
      FUN_0047e640();
    }
    local_1c = local_28;
    local_18 = (double)CONCAT44(0x47b817,local_24);
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)0.5) + (float10)(float)local_1c);
    local_18 = (double)CONCAT44(0x47b828,(float)local_18);
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x47b839,(float)((fVar14 - (float10)0.5) + (float10)(float)local_18)
                               );
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)((ulonglong)(uint)(float)((fVar14 - (float10)0.5) + (float10)0.0) << 0x20);
    local_1c = (undefined4 *******)0x47b84e;
    fVar14 = (float10)FUN_0045e9e0();
    local_28 = &local_1c;
    local_1c = (undefined4 *******)(float)((float10)0.05 - fVar14 * (float10)-0.1);
    local_20 = (undefined4 *******)0x1;
    local_24 = (undefined4 *******)0x5;
    local_2c = (undefined4 *******)0x47b86b;
    FUN_0046cc80();
    uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
    *(uint *)((int)param_1 + 0x9b) = uVar10;
    if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
      *(undefined4 *)((int)param_1 + 0x9b) = 0;
      *(undefined4 *)(*(int *)(*(int *)((int)param_1 + 0xa3) + 4) + 0x90) = 0;
      local_18 = (double)(ulonglong)*(byte *)((int)param_1 + 0xbb);
      local_1c = param_1;
      local_20 = (undefined4 *******)0x47b8c0;
      FUN_0047d1f0();
    }
    break;
  case (undefined4 ******)0x3:
  case (undefined4 ******)0xe:
  case (undefined4 ******)0xf:
  case (undefined4 ******)0x11:
  case (undefined4 ******)0x14:
  case (undefined4 ******)0x1d:
    if ((*(int *)((int)param_1 + 0xa7) == 0) ||
       ((*(uint *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x8a) & 0x200) != 0)) {
      uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
      *(uint *)((int)param_1 + 0x9b) = uVar10;
      if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) {
        *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - 0.025;
      }
      else {
        local_1c = (undefined4 *******)&local_68;
        local_18 = 0.0;
        local_20 = (undefined4 *******)local_ac;
        local_2c = (undefined4 *******)0x47bd0a;
        local_24 = (undefined4 *******)local_4c;
        fVar14 = (float10)FUN_0041c650();
        if ((float10)*(float *)((int)param_1 + 0x3b) - (float10)1.0 < fVar14) {
          *(float *)((int)param_1 + 0x3b) = (float)(fVar14 - (float10)-1.4);
        }
      }
    }
    else {
      local_18 = (double)(ulonglong)CONCAT14(*(undefined *)(iVar9 + 0xec),param_1);
      local_1c = (undefined4 *******)0x47bc4f;
      FUN_0047e150();
      local_24 = *(undefined4 ********)((int)param_1 + 0x3f);
      local_1c = (undefined4 *******)&local_68;
      local_20 = (undefined4 *******)local_ac;
      local_18 = 0.0;
      local_28 = *(undefined4 ********)((int)param_1 + 0x37);
      local_2c = (undefined4 *******)0x47bc6e;
      fVar14 = (float10)FUN_0041c650();
      if ((float10)*(float *)((int)param_1 + 0x3b) - (float10)1.0 < fVar14) {
        *(float *)((int)param_1 + 0x3b) = (float)(fVar14 - (float10)-1.4);
      }
      uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
      *(uint *)((int)param_1 + 0x9b) = uVar10;
      if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) {
        *(undefined4 *)((int)param_1 + 0x97) = 4;
      }
    }
    local_1c = local_28;
    local_18 = (double)CONCAT44(0x47bd43,local_24);
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)0.5) + (float10)(float)local_1c);
    local_18 = (double)CONCAT44(0x47bd54,(float)local_18);
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x47bd65,(float)((fVar14 - (float10)0.5) + (float10)(float)local_18)
                               );
    FUN_0045e9e0();
    if (local_48 != (undefined4 ******)0x3) {
      local_18 = 0.0;
      local_1c = (undefined4 *******)0x47bd84;
      fVar14 = (float10)FUN_0045e9e0();
      local_28 = &local_1c;
      local_1c = (undefined4 *******)(float)((float10)0.05 - fVar14 * (float10)-0.1);
      local_20 = (undefined4 *******)0x1;
      local_24 = (undefined4 *******)0x5;
      local_2c = (undefined4 *******)0x47bda1;
      FUN_0046cc80();
    }
    break;
  case (undefined4 ******)0x4:
    if ((*(int *)((int)param_1 + 0xa7) == 0) ||
       ((*(uint *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x8a) & 0x200) != 0)) {
      local_18 = 0.009999999776482582;
      local_60 = 0.0;
      local_1c = (undefined4 *******)0x47bb67;
      fVar14 = (float10)FUN_004ae014();
      local_18 = 0.009999999776482582;
      local_70 = (double)(fVar14 * (float10)*(float *)((int)param_1 + 0x8f));
      local_1c = (undefined4 *******)0x47bb82;
      fVar14 = (float10)FUN_004ae0c4();
      local_18 = 0.009999999776482582;
      local_64 = (float)(fVar14 * (float10)*(float *)((int)param_1 + 0x87) + (float10)local_70);
      local_1c = (undefined4 *******)0x47bba0;
      fVar14 = (float10)FUN_004ae0c4();
      local_18 = 0.009999999776482582;
      local_70 = (double)(fVar14 * (float10)*(float *)((int)param_1 + 0x8f));
      local_1c = (undefined4 *******)0x47bbbb;
      fVar14 = (float10)FUN_004ae014();
      local_5c = (float)((float10)local_70 - fVar14 * (float10)*(float *)((int)param_1 + 0x87));
      local_18 = (double)CONCAT44(&local_64,0x47bbd3);
      FUN_0045eab0();
      uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
      *(uint *)((int)param_1 + 0x9b) = uVar10;
      *(float *)((int)param_1 + 0x87) = local_64 + local_64;
      *(float *)((int)param_1 + 0x8f) = local_5c + local_5c;
      if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) {
        fVar17 = *(float *)((int)param_1 + 0x8b) - 0.1;
        goto LAB_0047bdd4;
      }
    }
    else {
      local_18 = (double)CONCAT44(1,param_1);
      local_1c = (undefined4 *******)0x47bb26;
      FUN_0047e150();
      uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
      *(uint *)((int)param_1 + 0x9b) = uVar10;
      if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) goto LAB_0047bdc8;
    }
    goto LAB_0047bdda;
  default:
    goto switchD_0047b6a9_caseD_5;
  case (undefined4 ******)0x6:
  case (undefined4 ******)0x9:
    local_18 = (double)CONCAT44(0x47b9f1,local_24);
    local_1c = local_28;
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)0.5) + (float10)(float)local_1c);
    local_18 = (double)CONCAT44(0x47ba02,(float)local_18);
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x47ba13,(float)((fVar14 - (float10)0.5) + (float10)(float)local_18)
                               );
    fVar14 = (float10)FUN_0045e9e0();
    local_18._4_4_ = (float)((fVar14 - (float10)0.5) + (float10)0.0);
    local_18._0_4_ = 6.587098e-39;
    uVar6 = FUN_004af640();
    local_18 = (double)(CONCAT44(local_18._4_4_,uVar6) & 0xffffffff00000007);
    local_1c = (undefined4 *******)0x47ba2f;
    fVar14 = (float10)FUN_0045e9e0();
    local_28 = &local_1c;
    local_1c = (undefined4 *******)(float)((float10)0.05 - fVar14 * (float10)-0.1);
    local_20 = (undefined4 *******)0x1;
    local_24 = (undefined4 *******)0x5;
    local_2c = (undefined4 *******)0x47ba4c;
    FUN_0046cc80();
    *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - 0.1;
    if ((*(int *)((int)param_1 + 0xa7) != 0) &&
       ((*(uint *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x8a) & 0x200) == 0)) {
      local_18 = (double)CONCAT44(1,param_1);
      local_1c = (undefined4 *******)0x47ba89;
      FUN_0047eb70();
    }
    break;
  case (undefined4 ******)0x7:
    local_18 = (double)CONCAT44(0x47baa8,local_24);
    local_1c = local_28;
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)0.5) + (float10)(float)local_1c);
    local_18 = (double)CONCAT44(0x47bab9,(float)local_18);
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x47baca,(float)((fVar14 - (float10)0.5) + (float10)(float)local_18)
                               );
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)((ulonglong)
                        (uint)(float)((fVar14 - (float10)0.5) +
                                     (float10)(float)CONCAT22((short)((uint)unaff_ESI >> 0x10),uVar3
                                                             )) << 0x20);
    local_1c = (undefined4 *******)0x47bade;
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)-1.0) * (float10)0.1);
    local_24 = (undefined4 *******)0x5;
    goto LAB_0047bee3;
  case (undefined4 ******)0x8:
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    break;
  case (undefined4 ******)0xb:
    break;
  case (undefined4 ******)0xc:
    uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
    *(uint *)((int)param_1 + 0x9b) = uVar10;
    if (*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) {
LAB_0047bdc8:
      fVar17 = *(float *)((int)param_1 + 0x8b) - 0.05;
LAB_0047bdd4:
      *(float *)((int)param_1 + 0x8b) = fVar17;
    }
LAB_0047bdda:
    local_1c = local_28;
    local_18 = (double)CONCAT44(0x47bdf1,local_24);
    fVar14 = (float10)FUN_0045e9e0();
    local_1c = (undefined4 *******)(float)((fVar14 - (float10)0.5) + (float10)(float)local_1c);
    local_18 = (double)CONCAT44(0x47be02,(float)local_18);
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)CONCAT44(0x47be13,(float)((fVar14 - (float10)0.5) + (float10)(float)local_18)
                               );
    fVar14 = (float10)FUN_0045e9e0();
    local_18 = (double)((ulonglong)(uint)(float)((fVar14 - (float10)0.5) + (float10)0.0) << 0x20);
    local_1c = (undefined4 *******)0x47be28;
    fVar14 = (float10)FUN_0045e9e0();
    local_28 = &local_1c;
    local_1c = (undefined4 *******)(float)((float10)0.05 - fVar14 * (float10)-0.1);
    local_20 = (undefined4 *******)0x1;
    local_24 = (undefined4 *******)0x5;
    local_2c = (undefined4 *******)0x47be45;
    FUN_0046cc80();
    break;
  case (undefined4 ******)0x12:
  case (undefined4 ******)0x18:
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    pppppuVar4 = ppppppuVar15[1];
    local_64 = *(float *)((int)param_1 + 0x37) - *(float *)((int)pppppuVar4 + 0x36);
    local_60 = *(float *)((int)param_1 + 0x3b) - *(float *)((int)pppppuVar4 + 0x3a);
    fVar17 = *(float *)((int)param_1 + 0x3f) - *(float *)((int)pppppuVar4 + 0x3e);
    if (*(float *)(iVar9 + 0xb9) < fVar17 * fVar17 + local_60 * local_60 + local_64 * local_64) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
      *(undefined4 *)((int)param_1 + 0x9b) = 0;
    }
    break;
  case (undefined4 ******)0x17:
    fVar17 = (float)local_24 - 2.0;
    local_1c = (undefined4 *******)0x3ccccccd;
    local_24 = (undefined4 *******)0x10;
    local_18 = (double)CONCAT44(local_4c,fVar17);
LAB_0047bee3:
    local_28 = &local_1c;
    local_20 = (undefined4 *******)0x1;
    local_2c = (undefined4 *******)0x47bee8;
    FUN_0046cc80();
switchD_0047b6a9_caseD_5:
    *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - 0.1;
    break;
  case (undefined4 ******)0x19:
    uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
    *(uint *)((int)param_1 + 0x9b) = uVar10;
    if ((*(ushort *)(*(int *)((int)param_1 + 0xab) + 2) < uVar10) ||
       ((*(uint *)((int)ppppppuVar15[1] + 0x8a) & 0x200000) == 0)) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
      *(uint *)((int)ppppppuVar15[1] + 0x8a) = *(uint *)((int)ppppppuVar15[1] + 0x8a) & 0xffdfffff;
LAB_0047b773:
      local_18 = (double)CONCAT44(*(undefined4 *)(*(int *)((int)param_1 + 0xa3) + 4),0x47b782);
      FUN_004184b0();
    }
    else {
      local_18 = (double)CONCAT44(param_2,param_1);
      local_1c = (undefined4 *******)0x47b6e5;
      FUN_0047ef80();
    }
    break;
  case (undefined4 ******)0x1b:
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    if ((*(uint *)((int)ppppppuVar15[1] + 0x8a) & 0x200000) == 0) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
      local_18 = (double)CONCAT44(ppppppuVar15[1],0x47b7c8);
      FUN_004184b0();
    }
    else {
      local_18 = (double)CONCAT44(param_2,param_1);
      local_1c = (undefined4 *******)0x47b7ad;
      FUN_0047ef80();
    }
    break;
  case (undefined4 ******)0x1e:
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    if ((*(uint *)((int)ppppppuVar15[1] + 0x8a) & 0x100000) == 0) {
      local_a0 = *(undefined4 *)((int)param_1 + 0x37);
      local_9c = *(undefined4 *)((int)param_1 + 0x3b);
      local_98 = *(undefined4 *)((int)param_1 + 0x3f);
      *(undefined4 *)((int)param_1 + 0x97) = 4;
      local_18 = (double)CONCAT44(&local_a0,(int)ppppppuVar15[1] + 6);
      local_20 = (undefined4 *******)0x47b770;
      local_1c = (undefined4 *******)ppppppuVar15;
      FUN_0041be30();
      goto LAB_0047b773;
    }
    puVar11 = (undefined4 *)((int)ppppppuVar15[1] + 6);
    puVar13 = (undefined4 *)((int)param_1 + 7);
    for (iVar12 = 0x10; iVar12 != 0; iVar12 = iVar12 + -1) {
      *puVar13 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar13 = puVar13 + 1;
    }
  }
  ppppppuVar5 = local_48;
  ppppppuVar15 = *(undefined4 *******)((int)param_1 + 0x87);
  fVar16 = *(float *)((int)param_1 + 0x8b);
  fVar17 = *(float *)((int)param_1 + 0x8f);
  if (((local_48 == (undefined4 ******)0x1) && ((*(byte *)((int)param_1 + 0xb3) & 4) != 0)) &&
     ((iVar12 = *(int *)(*(int *)(*(int *)((int)param_1 + 0xa3) + 4) + 0x18b), iVar12 != 0 &&
      (*(int *)(iVar12 + 0x5b) != 0)))) {
    ppppppuVar15 = (undefined4 ******)
                   ((*(float *)(iVar12 + 0x3e) - *(float *)(*(int *)(iVar12 + 0x5b) + 0x77)) +
                   (*(float *)(iVar12 + 0x3a) - *(float *)(*(int *)(iVar12 + 0x5b) + 0x73)) +
                   (*(float *)(iVar12 + 0x36) - *(float *)(*(int *)(iVar12 + 0x5b) + 0x6f)) +
                   (float)ppppppuVar15);
  }
  local_34 = (undefined4 *******)((float)ppppppuVar15 + *(float *)((int)param_1 + 0x37));
  local_1c = &local_34;
  local_18 = (double)CONCAT44(*(undefined4 *)((int)param_1 + 0x9f),&local_28);
  local_20 = param_1;
  local_30 = (undefined4 *******)(fVar16 + *(float *)((int)param_1 + 0x3b));
  local_2c = (undefined4 *******)(fVar17 + *(float *)((int)param_1 + 0x3f));
  local_4c = (undefined *)
             (fVar17 * fVar17 + fVar16 * fVar16 + (float)ppppppuVar15 * (float)ppppppuVar15);
  local_24 = (undefined4 *******)0x47bfc4;
  pppppppuVar7 = (undefined4 *******)FUN_00423c40();
  if (pppppppuVar7 == (undefined4 *******)0x0) goto switchD_0047c05d_caseD_1b;
  if ((char)DAT_00598944 == '\0') {
LAB_0047c0d3:
    local_1c = (undefined4 *******)ppppppuVar5;
    goto LAB_0047c0d5;
  }
  if (*(undefined4 ********)((int)param_1 + 0xa7) != (undefined4 *******)0x0) {
    if (*(undefined4 ********)((int)param_1 + 0xa7) == pppppppuVar7) goto LAB_0047c0d3;
    goto switchD_0047c05d_caseD_1b;
  }
  if ((*(byte *)((int)pppppppuVar7[1] + 0x8a) & 1) != 0) {
    if (((int)ppppppuVar5 < 0xe) || (0xf < (int)ppppppuVar5)) goto LAB_0047c0d3;
    local_18 = (double)CONCAT44(iVar9 + 0x8d,param_2);
    local_1c = (undefined4 *******)ppppppuVar5;
    local_20 = param_1;
    local_28 = (undefined4 *******)0x47c016;
    local_24 = pppppppuVar7;
    FUN_0047d270();
    local_24 = (undefined4 *******)(uint)*(byte *)(param_2 + 9);
    local_18 = 0.0;
    local_1c = (undefined4 *******)0x0;
    local_20 = (undefined4 *******)0x0;
    local_28 = (undefined4 *******)0xd;
    local_2c = (undefined4 *******)0x47c02e;
    FUN_00466530();
    *(undefined4 *)((int)param_1 + 0x97) = 4;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
    goto switchD_0047c05d_caseD_1b;
  }
  switch(local_48) {
  case (undefined4 ******)0x2:
    *(undefined4 *)((int)param_1 + 0x97) = 4;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
    *(undefined4 *)(*(int *)(*(int *)((int)param_1 + 0xa3) + 4) + 0x90) = 0;
    local_1c = (undefined4 *******)local_48;
    goto LAB_0047c0d5;
  default:
    *(undefined4 *)((int)param_1 + 0x97) = 4;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
    local_1c = (undefined4 *******)local_48;
LAB_0047c0d5:
    local_18 = (double)CONCAT44(iVar9 + 0x8d,param_2);
    local_20 = param_1;
    local_28 = (undefined4 *******)0x47c0dc;
    local_24 = pppppppuVar7;
    FUN_0047d270();
    break;
  case (undefined4 ******)0xe:
  case (undefined4 ******)0xf:
    *(undefined4 *)((int)param_1 + 0x97) = 4;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
    break;
  case (undefined4 ******)0x1b:
  case (undefined4 ******)0x1e:
    break;
  }
switchD_0047c05d_caseD_1b:
  if ((*(int *)((int)param_1 + 0x97) != 4) && (*(int *)((int)param_1 + 0x97) != 0)) {
    local_1c = (undefined4 *******)&local_68;
    local_18 = 0.0;
    local_20 = &local_44;
    local_24 = local_2c;
    local_28 = local_34;
    local_2c = (undefined4 *******)0x47c113;
    fVar14 = (float10)FUN_0041c650();
    ppppppuVar5 = local_48;
    fVar1 = (float)fVar14;
    if ((float)local_30 - *(float *)((int)param_1 + 0x9f) < fVar1) {
      switch(local_48) {
      case (undefined4 ******)0x2:
        if (*(char *)(iVar9 + 0xec) == '\x01') {
          if (local_40 <= 0.75) {
            *(undefined4 ********)((int)param_1 + 0x3b) = local_24;
          }
          else {
            *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
          }
          local_1c = &local_44;
          local_18 = (double)CONCAT44(0x3f800000,&stack0xfffffff0);
          local_20 = (undefined4 *******)0x47c1ee;
          FUN_0047d970();
          if (0.5 < fVar16) {
            fVar16 = 0.5;
            *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
            *(undefined4 *)((int)param_1 + 0x8b) = 0x3f000000;
            *(float *)((int)param_1 + 0x8f) = fVar17;
            if ((*(byte *)((int)param_1 + 0xba) != 0xff) && (DAT_005e4a64 != 0)) {
              local_1c = (undefined4 *******)((int)param_1 + 7);
              local_18 = 1.976262583364986e-323;
              local_20 = (undefined4 *******)
                         ((uint)*(byte *)((int)param_1 + 0xba) * 0x27 + DAT_005e4a64);
              local_24 = (undefined4 *******)0x47c25b;
              FUN_00475bf0();
            }
            break;
          }
        }
        else {
          if (local_40 <= 0.75) {
            *(undefined4 ********)((int)param_1 + 0x3b) = local_24;
          }
          else {
            *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
          }
          local_1c = &local_44;
          local_18 = (double)CONCAT44(0x3f4ccccd,&stack0xfffffff0);
          local_20 = (undefined4 *******)0x47c28e;
          FUN_0047d970();
        }
        *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
        *(float *)((int)param_1 + 0x8b) = fVar16;
        *(float *)((int)param_1 + 0x8f) = fVar17;
        if ((*(byte *)((int)param_1 + 0xba) != 0xff) && (DAT_005e4a64 != 0)) {
          local_1c = (undefined4 *******)((int)param_1 + 7);
          local_18 = 1.976262583364986e-323;
          local_20 = (undefined4 *******)
                     ((uint)*(byte *)((int)param_1 + 0xba) * 0x27 + DAT_005e4a64);
          local_24 = (undefined4 *******)0x47c2e4;
          FUN_00475bf0();
        }
        break;
      default:
        if (local_40 <= 0.75) {
          *(undefined4 ********)((int)param_1 + 0x3b) = local_24;
        }
        else {
          *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
        }
        uVar10 = (uint)*(byte *)((int)param_1 + 0xbb);
        *(undefined4 *)((int)param_1 + 0x97) = 4;
        *(undefined4 *)((int)param_1 + 0x9b) = 0;
LAB_0047c523:
        local_18 = (double)(ulonglong)uVar10;
        local_1c = param_1;
        local_20 = (undefined4 *******)0x47c529;
        FUN_0047d1f0();
        break;
      case (undefined4 ******)0x5:
        if (local_40 <= 0.75) {
          *(undefined4 ********)((int)param_1 + 0x3b) = local_24;
        }
        else {
          *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
        }
        cVar2 = *(char *)(iVar9 + 0xec);
        if (cVar2 == '\x01') {
LAB_0047c3df:
          local_18 = (double)CONCAT44(0x3f000000,&stack0xfffffff0);
        }
        else if (cVar2 == '\x02') {
          local_18 = (double)CONCAT44(0x3f400000,&stack0xfffffff0);
        }
        else {
          if (cVar2 != '\x03') goto LAB_0047c3df;
          local_18 = (double)CONCAT44(0x3f4ccccd,&stack0xfffffff0);
        }
        local_1c = &local_44;
        local_20 = (undefined4 *******)0x47c3f1;
        FUN_0047d970();
        if ((*(int *)((int)param_1 + 0xa7) != 0) &&
           ((*(uint *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x8a) & 0x200) == 0)) {
          local_18 = (double)(fVar17 * fVar17 + (float)ppppppuVar15 * (float)ppppppuVar15);
          local_1c = (undefined4 *******)0x47c427;
          fVar14 = (float10)FUN_004ad534();
          local_58 = *(float *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x36) -
                     *(float *)((int)param_1 + 0x37);
          local_54 = 0.0;
          local_50 = *(float *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x3e) -
                     *(float *)((int)param_1 + 0x3f);
          local_18 = (double)CONCAT44(&local_58,0x47c461);
          FUN_0045eab0();
          ppppppuVar15 = (undefined4 ******)((float)fVar14 * local_58);
          fVar17 = (float)fVar14 * local_50;
        }
        *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
        *(float *)((int)param_1 + 0x8b) = fVar16;
        *(float *)((int)param_1 + 0x8f) = fVar17;
        local_18 = (double)CONCAT44((float)local_4c -
                                    (fVar17 * fVar17 +
                                    fVar16 * fVar16 + (float)ppppppuVar15 * (float)ppppppuVar15),
                                    0x47c4bb);
        fVar14 = (float10)FUN_0045ec60();
        if (fVar14 <= (float10)0.107) {
          uVar10 = CONCAT31((int3)((uint)extraout_EDX >> 8),*(undefined *)((int)param_1 + 0xbb));
          *(undefined4 *)((int)param_1 + 0x97) = 4;
          *(undefined4 *)((int)param_1 + 0x9b) = 0;
          goto LAB_0047c523;
        }
        break;
      case (undefined4 ******)0xb:
        if (local_40 <= 0.75) {
          local_40 = 0.0;
          local_18 = (double)CONCAT44(&local_44,0x47c31a);
          FUN_0045eab0();
        }
        else {
          *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
        }
        local_18 = (double)CONCAT44(&stack0xfffffff0,&local_44);
        local_1c = (undefined4 *******)0x47c32a;
        FUN_0047da80();
        local_1c = *(undefined4 ********)((int)param_1 + 0x37);
        local_18 = (double)CONCAT44(*(undefined4 *)((int)param_1 + 0x3f),0x47c348);
        FUN_0046be90();
        if (DAT_005e4a64 != 0) {
          local_1c = (undefined4 *******)((int)param_1 + 7);
          local_18 = 1.976262583364986e-323;
          local_20 = (undefined4 *******)(DAT_005e4a64 + 0x666);
          local_24 = (undefined4 *******)0x47c366;
          FUN_00475bf0();
        }
        uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
        *(uint *)((int)param_1 + 0x9b) = uVar10;
        if (5 < uVar10) {
          *(undefined4 *)((int)param_1 + 0x97) = 4;
        }
        break;
      case (undefined4 ******)0x19:
      case (undefined4 ******)0x1b:
      case (undefined4 ******)0x1e:
        if (local_40 <= 0.75) {
          local_40 = 0.0;
          local_18 = (double)CONCAT44(&local_44,0x47c17c);
          FUN_0045eab0();
        }
        else {
          *(float *)((int)param_1 + 0x3b) = *(float *)((int)param_1 + 0x9f) + fVar1;
        }
        local_18 = (double)CONCAT44(&stack0xfffffff0,&local_44);
        local_1c = (undefined4 *******)0x47c18c;
        FUN_0047da80();
        *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
        *(float *)((int)param_1 + 0x8b) = fVar16;
        *(float *)((int)param_1 + 0x8f) = fVar17;
      }
      if (((((ppppppuVar5 != (undefined4 ******)0x12) && (ppppppuVar5 != (undefined4 ******)0x18))
           && (ppppppuVar5 != (undefined4 ******)0x17)) &&
          ((ppppppuVar5 != (undefined4 ******)0x2 && (ppppppuVar5 != (undefined4 ******)0x8)))) &&
         ((ppppppuVar5 != (undefined4 ******)0x3 && (ppppppuVar5 != (undefined4 ******)0xc)))) {
        *(byte *)((int)param_1 + 0xb3) = *(byte *)((int)param_1 + 0xb3) & 0xef;
      }
    }
  }
  ppppppuVar5 = local_48;
  if ((*(int *)((int)param_1 + 0x97) != 4) && (*(int *)((int)param_1 + 0x97) != 0)) {
    iVar12 = 0;
    switch(local_48) {
    case (undefined4 ******)0x2:
      local_2c = *(undefined4 ********)((int)param_1 + 0x9f);
      local_1c = &local_38;
      local_18 = 0.0078125;
      local_20 = &local_44;
      local_24 = (undefined4 *******)0x0;
      local_28 = (undefined4 *******)0x0;
      local_30 = &local_28;
      local_34 = &local_34;
      local_38 = (undefined4 ******)0x47c699;
      iVar12 = FUN_00422190();
      if (iVar12 == 0) goto LAB_0047ca64;
      if (*(char *)(iVar9 + 0xec) == '\x01') {
        local_1c = &local_44;
        local_18 = (double)CONCAT44(0x3f800000,&stack0xfffffff0);
        local_20 = (undefined4 *******)0x47c6c5;
        FUN_0047d970();
        if (0.5 < fVar16) {
          fVar16 = 0.5;
          *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
          *(undefined4 *)((int)param_1 + 0x8b) = 0x3f000000;
          *(float *)((int)param_1 + 0x8f) = fVar17;
          if ((*(byte *)((int)param_1 + 0xba) != 0xff) && (DAT_005e4a64 != 0)) {
            local_1c = (undefined4 *******)((int)param_1 + 7);
            local_18 = 1.976262583364986e-323;
            local_20 = (undefined4 *******)
                       ((uint)*(byte *)((int)param_1 + 0xba) * 0x27 + DAT_005e4a64);
            local_24 = (undefined4 *******)0x47c72f;
            FUN_00475bf0();
          }
          break;
        }
      }
      else {
        local_1c = &local_44;
        local_18 = (double)CONCAT44(0x3f4ccccd,&stack0xfffffff0);
        local_20 = (undefined4 *******)0x47c749;
        FUN_0047d970();
      }
      *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
      *(float *)((int)param_1 + 0x8b) = fVar16;
      *(float *)((int)param_1 + 0x8f) = fVar17;
      if ((*(byte *)((int)param_1 + 0xba) != 0xff) && (DAT_005e4a64 != 0)) {
        local_1c = (undefined4 *******)((int)param_1 + 7);
        local_18 = 1.976262583364986e-323;
        local_20 = (undefined4 *******)((uint)*(byte *)((int)param_1 + 0xba) * 0x27 + DAT_005e4a64);
        local_24 = (undefined4 *******)0x47c7a0;
        FUN_00475bf0();
      }
      break;
    default:
      local_1c = *(undefined4 ********)((int)param_1 + 0x9f);
      local_18 = 2.121995790965272e-314;
      local_20 = &local_28;
      local_24 = &local_34;
      local_28 = (undefined4 *******)0x47c820;
      iVar8 = FUN_00421c60();
      if (iVar8 != 0) {
        *(undefined4 ********)((int)param_1 + 0x3b) = local_30;
        *(undefined4 ********)((int)param_1 + 0x37) = local_34;
        *(undefined4 ********)((int)param_1 + 0x3f) = local_2c;
        *(undefined4 *)((int)param_1 + 0x97) = 4;
        *(undefined4 *)((int)param_1 + 0x9b) = 0;
        if (*(char *)((int)param_1 + 0xbb) == '4') {
          if (DAT_005e4a64 != 0) {
            local_1c = (undefined4 *******)((int)param_1 + 7);
            local_18 = 1.976262583364986e-323;
            local_20 = (undefined4 *******)(DAT_005e4a64 + 0x7ec);
            local_24 = (undefined4 *******)0x47c885;
            FUN_00475bf0();
          }
        }
        else {
          local_18 = (double)(ulonglong)
                             CONCAT31((int3)((uint)local_30 >> 8),*(char *)((int)param_1 + 0xbb));
          local_1c = param_1;
          local_20 = (undefined4 *******)0x47c864;
          FUN_0047d1f0();
        }
        if ((((ppppppuVar5 != (undefined4 ******)0x12) && (ppppppuVar5 != (undefined4 ******)0x18))
            && (ppppppuVar5 != (undefined4 ******)0x17)) &&
           (((ppppppuVar5 != (undefined4 ******)0x2 && (ppppppuVar5 != (undefined4 ******)0x8)) &&
            ((ppppppuVar5 != (undefined4 ******)0x3 && (ppppppuVar5 != (undefined4 ******)0xc))))))
        {
          *(byte *)((int)param_1 + 0xb3) = *(byte *)((int)param_1 + 0xb3) & 0xef;
        }
      }
      break;
    case (undefined4 ******)0x5:
      cVar2 = *(char *)(iVar9 + 0xec);
      if (cVar2 == '\x01') {
LAB_0047c5ab:
        local_18._4_4_ = 0.5;
      }
      else if (cVar2 == '\x02') {
        local_18._4_4_ = 0.75;
      }
      else {
        if (cVar2 != '\x03') goto LAB_0047c5ab;
        local_18._4_4_ = 0.8;
      }
      local_1c = &local_38;
      local_18 = (double)((ulonglong)(uint)local_18._4_4_ << 0x20);
      local_20 = &local_44;
      local_2c = *(undefined4 ********)((int)param_1 + 0x9f);
      local_28 = (undefined4 *******)&stack0xfffffff0;
      local_24 = (undefined4 *******)0x0;
      local_30 = &local_28;
      local_34 = &local_34;
      local_38 = (undefined4 ******)0x47c5d4;
      iVar12 = FUN_00422190();
      if ((*(int *)((int)param_1 + 0xa7) != 0) &&
         ((*(uint *)(*(int *)(*(int *)((int)param_1 + 0xa7) + 4) + 0x8a) & 0x200) == 0)) {
        if (iVar12 == 0) goto LAB_0047ca64;
        local_18 = (double)CONCAT44(&stack0xfffffff0,0x47c60a);
        fVar14 = (float10)FUN_00490b90();
        iVar8 = *(int *)((int)param_1 + 0xa7);
        fVar17 = (float)fVar14;
        local_58 = *(float *)(*(int *)(iVar8 + 4) + 0x36) - *(float *)((int)param_1 + 0x37);
        local_54 = *(float *)(*(int *)(iVar8 + 4) + 0x3a) - *(float *)((int)param_1 + 0x3b);
        local_50 = *(float *)(*(int *)(iVar8 + 4) + 0x3e) - *(float *)((int)param_1 + 0x3f);
        local_18 = (double)CONCAT44(&local_58,0x47c643);
        FUN_0045eab0();
        ppppppuVar15 = (undefined4 ******)(fVar17 * local_58);
        fVar16 = -(fVar17 * local_54);
        fVar17 = fVar17 * local_50;
      }
      break;
    case (undefined4 ******)0xb:
    case (undefined4 ******)0x19:
    case (undefined4 ******)0x1b:
    case (undefined4 ******)0x1e:
      local_2c = *(undefined4 ********)((int)param_1 + 0x9f);
      local_1c = &local_38;
      local_18 = 0.0078125;
      local_20 = &local_44;
      local_24 = (undefined4 *******)0x0;
      local_28 = (undefined4 *******)0x0;
      local_30 = &local_28;
      local_34 = &local_34;
      local_38 = (undefined4 ******)0x47c7cf;
      iVar12 = FUN_00422190();
      if (iVar12 == 0) goto LAB_0047ca64;
      local_18 = (double)CONCAT44(&stack0xfffffff0,&local_44);
      local_1c = (undefined4 *******)0x47c7e9;
      FUN_0047da80();
      *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
      *(float *)((int)param_1 + 0x8b) = fVar16;
      *(float *)((int)param_1 + 0x8f) = fVar17;
    }
    if (iVar12 != 0) {
      if ((((ppppppuVar5 != (undefined4 ******)0x12) && (ppppppuVar5 != (undefined4 ******)0x18)) &&
          (ppppppuVar5 != (undefined4 ******)0x17)) &&
         (((ppppppuVar5 != (undefined4 ******)0x2 && (ppppppuVar5 != (undefined4 ******)0x8)) &&
          ((ppppppuVar5 != (undefined4 ******)0x3 && (ppppppuVar5 != (undefined4 ******)0xc)))))) {
        *(byte *)((int)param_1 + 0xb3) = *(byte *)((int)param_1 + 0xb3) & 0xef;
      }
      if ((float)local_38 != -10000.0) {
        local_18 = (double)CONCAT44(local_38,param_1);
        local_1c = (undefined4 *******)0x47c8fe;
        FUN_0046cf20();
        local_38 = (undefined4 ******)0xc61c4000;
      }
      if (ppppppuVar5 == (undefined4 ******)0x2) {
        if (*(char *)(iVar9 + 0xec) == '\x01') {
          if (0.5 < fVar16) {
            fVar16 = 0.5;
          }
          *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
          *(float *)((int)param_1 + 0x8b) = fVar16;
          local_18 = (double)(ulonglong)
                             CONCAT31((int3)((uint)fVar16 >> 8),*(undefined *)((int)param_1 + 0xba))
          ;
          local_1c = param_1;
          *(float *)((int)param_1 + 0x8f) = fVar17;
          local_20 = (undefined4 *******)0x47ca3f;
          FUN_0047d1f0();
        }
        else {
          *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
          *(float *)((int)param_1 + 0x8b) = fVar16;
          *(float *)((int)param_1 + 0x8f) = fVar17;
        }
      }
      else if (ppppppuVar5 == (undefined4 ******)0x5) {
        local_18 = (double)CONCAT44((float)local_4c -
                                    (fVar17 * fVar17 +
                                    fVar16 * fVar16 + (float)ppppppuVar15 * (float)ppppppuVar15),
                                    0x47c9bd);
        fVar14 = (float10)FUN_0045ec60();
        if (fVar14 <= (float10)0.107) {
          local_18 = (double)(ulonglong)
                             CONCAT31((int3)((uint)extraout_ECX >> 8),
                                      *(undefined *)((int)param_1 + 0xbb));
          local_1c = param_1;
          *(undefined4 *)((int)param_1 + 0x97) = 4;
          *(undefined4 *)((int)param_1 + 0x9b) = 0;
          local_20 = (undefined4 *******)0x47c9f4;
          FUN_0047d1f0();
        }
      }
      else if (ppppppuVar5 == (undefined4 ******)0xb) {
        local_1c = *(undefined4 ********)((int)param_1 + 0x37);
        local_18 = (double)CONCAT44(*(undefined4 *)((int)param_1 + 0x3f),0x47c93c);
        FUN_0046be90();
        if (DAT_005e4a64 != 0) {
          local_1c = (undefined4 *******)((int)param_1 + 7);
          local_18 = 1.976262583364986e-323;
          local_20 = (undefined4 *******)(DAT_005e4a64 + 0x666);
          local_24 = (undefined4 *******)0x47c95b;
          FUN_00475bf0();
        }
        uVar10 = *(int *)((int)param_1 + 0x9b) + 1;
        *(uint *)((int)param_1 + 0x9b) = uVar10;
        if (5 < uVar10) {
          *(undefined4 *)((int)param_1 + 0x97) = 4;
        }
        local_18 = (double)(ulonglong)
                           CONCAT31((int3)(uVar10 >> 8),*(undefined *)((int)param_1 + 0xba));
        local_1c = param_1;
        local_20 = (undefined4 *******)0x47c98b;
        FUN_0047d1f0();
      }
    }
  }
LAB_0047ca64:
  if ((*(int *)((int)param_1 + 0x97) == 4) || (*(int *)((int)param_1 + 0x97) == 0))
  goto LAB_0047cba7;
  local_34 = (undefined4 *******)((float)ppppppuVar15 + *(float *)((int)param_1 + 0x37));
  local_30 = (undefined4 *******)(fVar16 + *(float *)((int)param_1 + 0x3b));
  local_2c = (undefined4 *******)(fVar17 + *(float *)((int)param_1 + 0x3f));
  *(undefined4 ********)((int)param_1 + 0x37) = local_34;
  *(undefined4 ********)((int)param_1 + 0x3b) = local_30;
  *(undefined4 ********)((int)param_1 + 0x3f) = local_2c;
  if (ppppppuVar5 == (undefined4 ******)0x3) {
    local_18 = 2.121995790965272e-314;
    local_20 = &local_34;
    local_1c = (undefined4 *******)0x2;
    local_24 = param_1;
    local_28 = (undefined4 *******)0x0;
    local_2c = (undefined4 *******)0x47cad8;
    FUN_00494670();
    local_18 = 0.0;
LAB_0047cb36:
    local_20 = &local_34;
    local_1c = (undefined4 *******)0x2;
    local_24 = param_1;
    local_28 = (undefined4 *******)0x0;
    local_2c = (undefined4 *******)0x47cb3e;
    FUN_00494670();
  }
  else {
    if (ppppppuVar5 == (undefined4 ******)0xb) {
      local_18 = 2.121995791459338e-314;
      local_20 = &local_34;
      local_1c = (undefined4 *******)0x2;
      local_24 = param_1;
      local_28 = (undefined4 *******)0x0;
      local_2c = (undefined4 *******)0x47cafe;
      FUN_00494670();
      local_18 = 4.940656458412465e-324;
      goto LAB_0047cb36;
    }
    if ((ppppppuVar5 == (undefined4 ******)0x12) || (ppppppuVar5 == (undefined4 ******)0x18)) {
      local_18 = 2.121995792447469e-314;
      local_20 = &local_34;
      local_1c = (undefined4 *******)0x2;
      local_24 = param_1;
      local_28 = (undefined4 *******)0x0;
      local_2c = (undefined4 *******)0x47cb29;
      FUN_00494670();
      local_18 = 1.48219693752374e-323;
      goto LAB_0047cb36;
    }
  }
  *(undefined4 *******)((int)param_1 + 0x87) = ppppppuVar15;
  *(float *)((int)param_1 + 0x8b) = fVar16;
  *(float *)((int)param_1 + 0x8f) = fVar17;
  if ((((*(int *)((int)param_1 + 0x93) != 0) && (ppppppuVar5 != (undefined4 ******)0x19)) &&
      (ppppppuVar5 != (undefined4 ******)0x1b)) && (ppppppuVar5 != (undefined4 ******)0x1e)) {
    local_18 = (double)CONCAT44(*(int *)((int)param_1 + 0x93),(int)param_1 + 7);
    local_1c = (undefined4 *******)0x47cb7f;
    FUN_0047d5c0();
  }
  if ((((*(byte *)(iVar9 + 0xef) & 0x10) != 0) && (ppppppuVar5 != (undefined4 ******)0x19)) &&
     ((ppppppuVar5 != (undefined4 ******)0x1b && (ppppppuVar5 != (undefined4 ******)0x1e)))) {
    local_18 = (double)CONCAT44(&stack0xfffffff0,param_1);
    local_1c = (undefined4 *******)0x47cba4;
    FUN_0047d510();
  }
LAB_0047cba7:
  local_18 = (double)CONCAT44(*(undefined4 *)((int)param_1 + 0x3f),
                              *(undefined4 *)((int)param_1 + 0x37));
  local_1c = (undefined4 *******)DAT_00598ff0;
  local_20 = (undefined4 *******)0x47cbbb;
  iVar9 = FUN_0045cbc0();
  if (iVar9 == 0) {
    *(undefined4 *)((int)param_1 + 0x97) = 4;
    *(undefined4 *)((int)param_1 + 0x9b) = 0;
  }
  if (*(int *)((int)param_1 + 0x97) == 4) {
    if (((ppppppuVar5 != (undefined4 ******)0x12) && (ppppppuVar5 != (undefined4 ******)0x18)) &&
       (((ppppppuVar5 != (undefined4 ******)0x17 &&
         (((ppppppuVar5 != (undefined4 ******)0x2 && (ppppppuVar5 != (undefined4 ******)0x8)) &&
          (ppppppuVar5 != (undefined4 ******)0x3)))) && (ppppppuVar5 != (undefined4 ******)0xc)))) {
      *(byte *)((int)param_1 + 0xb3) = *(byte *)((int)param_1 + 0xb3) & 0xef;
    }
    local_94 = *(undefined4 ******)((int)param_1 + 0x37);
    local_90 = *(undefined4 *)((int)param_1 + 0x3b);
    local_8c = *(undefined4 *)((int)param_1 + 0x3f);
    local_1c = (undefined4 *******)&local_94;
    local_18 = (double)CONCAT44(*(undefined4 *)((int)param_1 + 0x9f),param_1);
    local_20 = (undefined4 *******)0x47cc33;
    FUN_00441160();
    if (ppppppuVar5 == (undefined4 ******)0x19) {
      iVar9 = *(int *)(*(int *)((int)param_1 + 0xa3) + 4);
      *(uint *)(iVar9 + 0x8a) = *(uint *)(iVar9 + 0x8a) & 0xffdfffff;
      local_18 = (double)CONCAT44(*(undefined4 *)(*(int *)((int)param_1 + 0xa3) + 4),0x47cc65);
      FUN_004184b0();
    }
  }
  if (((ppppppuVar5 == (undefined4 ******)0x17) && (*(int *)((int)param_1 + 0x9b) == 0)) &&
     (*(int *)((int)param_1 + 0x97) == 4)) {
    local_34 = *(undefined4 ********)((int)param_1 + 0x37);
    local_30 = *(undefined4 ********)((int)param_1 + 0x3b);
    local_2c = *(undefined4 ********)((int)param_1 + 0x3f);
    local_18 = (double)CONCAT44(&local_34,*(undefined4 *)((int)param_1 + 0xa3));
    local_1c = (undefined4 *******)0x47cca1;
    FUN_0046d130();
    return;
  }
  if ((*(int *)((int)param_1 + 0x97) != 0) &&
     (((*(byte *)((int)param_1 + 0xb3) & 2) != 0 || (ppppppuVar5 == (undefined4 ******)0x8)))) {
    local_1c = *(undefined4 ********)((int)param_1 + 0xa3);
    local_18 = 2.121995790965272e-314;
    local_20 = (undefined4 *******)((int)param_1 + 7);
    local_24 = (undefined4 *******)0x47ccd7;
    FUN_00476e10();
    return;
  }
  return;
}



void FUN_0047ce20(void)

{
  undefined4 *puVar1;
  
  if ((DAT_005cff40 != 0) && (DAT_005cff44 != 0)) {
    FreeMemory(DAT_005cff44);
    DAT_005cff44 = 0;
  }
  if (DAT_005cff48 != 0) {
    FreeMemory(DAT_005cff48);
    DAT_005cff48 = 0;
  }
  puVar1 = &DAT_005cf317;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 0x33;
  } while (puVar1 < &DAT_005cffd7);
  DAT_00598e3c = 0;
  return;
}



void FUN_0047ced0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598d6c == 0) {
    for (iVar2 = *(int *)(DAT_005df318 + 4); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x16)) {
      uVar6 = (uint)*(ushort *)((uint)*(byte *)(iVar2 + 0x22) * 5 + -4 + DAT_005cff48);
      if (uVar6 < (uint)*(byte *)(iVar2 + 0x22) * 0x10) {
        iVar4 = uVar6 * 0xcc;
        do {
          iVar1 = DAT_005cff44 + iVar4;
          iVar3 = *(int *)(DAT_005cff44 + 0x97 + iVar4);
          if (iVar3 != 0) {
            if (iVar3 == 4) {
              uVar5 = *(int *)(iVar1 + 0x9b) + 1;
              *(uint *)(iVar1 + 0x9b) = uVar5;
              if (0x27 < uVar5) {
                if (*(int *)(iVar1 + 0xa3) == DAT_005e45e8) {
                  FUN_00418480(0);
                }
                DAT_004d7a30 = 0;
                *(undefined4 *)(iVar1 + 0x97) = 0;
                *(char *)(iVar2 + 0x23) = *(char *)(iVar2 + 0x23) + -1;
              }
            }
            else {
              FUN_0047b620(iVar1,*(undefined4 *)(iVar1 + 0xab));
            }
          }
          uVar6 = uVar6 + 1;
          iVar4 = iVar4 + 0xcc;
        } while ((int)uVar6 < (int)((uint)*(byte *)(iVar2 + 0x22) * 0x10));
      }
    }
    FUN_00478d40();
  }
  return;
}



undefined4 FUN_0047cfd0(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  byte bVar5;
  byte bVar6;
  
  AdjustStackForLargeAllocations();
  uVar4 = 1;
  iVar1 = *(int *)(param_1 + 4);
  if ((*(byte *)(iVar1 + 0x8a) & 4) != 0) {
    return uVar4;
  }
  if ((*(char *)(iVar1 + 4) == '\x05') || (*(char *)(iVar1 + 4) == '\x06')) {
    bVar6 = 0;
    iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
    if (*(char *)(iVar2 + 0xf8) != '\0') {
      do {
        iVar3 = *(int *)(*(int *)(iVar2 + 0xf0) + (uint)bVar6 * 4);
        if ((iVar3 != 0) &&
           (*(char *)(*(int *)(iVar3 + 0x135 + (uint)*(byte *)(iVar1 + 4) * 4) +
                     (uint)*(byte *)(iVar1 + 5)) != '\0')) {
          switch(*(undefined4 *)(iVar2 + 0x7f)) {
          case 1:
            if (*(char *)(iVar2 + 0xec) == '\x03') {
              if (*(byte *)(iVar1 + 200) < 5) {
                *(int *)(iVar1 + 0x90) = iVar3;
                FUN_0047a250(iVar3,param_1);
                uVar4 = 0;
                bVar5 = *(char *)(iVar1 + 200) + 1;
                *(byte *)(iVar1 + 200) = bVar5;
                if (bVar5 < 5) goto LAB_0047d0c9;
              }
              *(int *)(iVar1 + 0x90) = iVar3;
              goto LAB_0047d0c9;
            }
          case 2:
            *(int *)(iVar1 + 0x90) = iVar3;
          default:
            FUN_0047a250(iVar3,param_1);
            break;
          case 0xd:
            FUN_00478480(iVar3,param_1);
            break;
          case 0x17:
            break;
          }
          uVar4 = 0;
        }
LAB_0047d0c9:
        bVar6 = bVar6 + 1;
      } while (bVar6 < *(byte *)(iVar2 + 0xf8));
    }
  }
  return uVar4;
}



void FUN_0047d120(int param_1)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  byte bVar6;
  
  iVar2 = *(int *)(param_1 + 4);
  if (((*(byte *)(iVar2 + 0x8a) & 4) == 0) &&
     ((*(char *)(iVar2 + 4) == '\x05' || (*(char *)(iVar2 + 4) == '\x06')))) {
    bVar6 = 0;
    iVar3 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13);
    if (*(char *)(iVar3 + 0x101) != '\0') {
      do {
        iVar4 = *(int *)(*(int *)(iVar3 + 0xf9) + (uint)bVar6 * 4);
        if ((iVar4 != 0) &&
           (*(char *)(*(int *)(iVar4 + 0x38 + (uint)*(byte *)(iVar2 + 4) * 4) +
                     (uint)*(byte *)(iVar2 + 5)) != '\0')) {
          iVar5 = *(int *)(iVar3 + 0x7f);
          if (iVar5 == 1) {
            if (*(char *)(iVar3 + 0xec) == '\x03') {
              if (*(byte *)(iVar2 + 200) < 5) {
                FUN_0047a890(iVar4,param_1);
                pcVar1 = (char *)(*(int *)(param_1 + 4) + 200);
                *pcVar1 = *pcVar1 + '\x01';
              }
            }
            else {
LAB_0047d191:
              FUN_0047a890(iVar4,param_1);
            }
          }
          else if (iVar5 == 0xd) {
            FUN_00478780(iVar4,param_1);
          }
          else if (iVar5 != 0x17) goto LAB_0047d191;
        }
        bVar6 = bVar6 + 1;
      } while (bVar6 < *(byte *)(iVar3 + 0x101));
    }
  }
  return;
}



void FUN_0047d1f0(int param_1,byte param_2,undefined4 param_3)

{
  if ((DAT_005e4a64 != 0) && (param_2 != 0xff)) {
    FUN_00475bf0((uint)param_2 * 0x27 + DAT_005e4a64,param_1 + 7,1,param_3);
  }
  return;
}



void FUN_0047d230(undefined4 param_1,byte param_2,undefined4 param_3)

{
  if ((DAT_005e4a64 != 0) && (param_2 != 0xff)) {
    FUN_00475bf0((uint)param_2 * 0x27 + DAT_005e4a64,param_1,1,param_3);
  }
  return;
}



void FUN_0047d270(int param_1,int param_2,undefined4 param_3,int param_4,int param_5)

{
  ushort uVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  char cVar5;
  
  switch(param_3) {
  case 2:
    *(undefined4 *)(param_2 + 0x97) = 4;
    *(undefined4 *)(param_2 + 0x9b) = 0;
    *(undefined4 *)(*(int *)(*(int *)(param_2 + 0xa3) + 4) + 0x90) = 0;
    break;
  default:
    *(undefined4 *)(param_2 + 0x97) = 4;
    *(undefined4 *)(param_2 + 0x9b) = 0;
    break;
  case 0xe:
    *(undefined4 *)(param_2 + 0x97) = 0;
    FUN_0046c910(1,*(undefined2 *)(param_4 + 2),*(undefined4 *)(param_2 + 0xab),param_1);
    FUN_0047d1f0(param_2,0x2c,0);
    iVar4 = *(int *)(param_1 + 4);
    iVar3 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10);
    if (((((iVar3 == 4) || (iVar3 == 5)) ||
         ((iVar3 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) == 6 &&
          (*(char *)(iVar4 + 4) == '\x03')))) ||
        (((*(int *)(iVar3 + 0x7b) == 8 &&
          ((*(char *)(iVar4 + 4) == '\x05' || (*(char *)(iVar4 + 4) == '\x06')))) ||
         ((*(uint *)(iVar4 + 0x8a) & 0x100000) != 0)))) &&
       (((*(uint *)(iVar4 + 0x8a) & 0x4000) == 0 && ((*(ushort *)(iVar4 + 0x8e) & 0x40) == 0)))) {
      *(ushort *)(iVar4 + 0x8e) = *(ushort *)(iVar4 + 0x8e) | 0x40;
    }
    break;
  case 0xf:
    *(undefined4 *)(param_2 + 0x97) = 0;
    iVar4 = *(int *)(param_1 + 4);
    uVar1 = *(ushort *)(iVar4 + 0x8e);
    if (((((((uVar1 & 0x80) == 0) && (iVar3 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10), iVar3 != 4))
          && (iVar3 != 5)) &&
         ((iVar3 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) != 6 ||
          (*(char *)(iVar4 + 4) != '\x03')))) &&
        ((*(int *)(iVar3 + 0x7b) != 8 ||
         ((*(char *)(iVar4 + 4) != '\x05' && (*(char *)(iVar4 + 4) != '\x06')))))) &&
       ((*(uint *)(iVar4 + 0x8a) & 0x100000) == 0)) {
      sVar2 = *(short *)(param_5 + 0x5a);
      if (sVar2 == 0x10) {
        cVar5 = '+';
      }
      else {
        cVar5 = (sVar2 != 8) + '2';
      }
      iVar4 = FUN_0046ce10(sVar2,*(undefined2 *)(param_4 + 2),param_1,cVar5);
      if (iVar4 != 0) {
        FUN_0047d230(*(int *)(param_1 + 4) + 6,cVar5,1);
      }
    }
    else if ((((*(uint *)(iVar4 + 0x8a) & 0x4000) == 0) && ((uVar1 & 0x40) == 0)) &&
            ((((iVar3 = *(int *)(*(int *)(iVar4 + 0x98) + 0x10), iVar3 == 4 || (iVar3 == 5)) ||
              (((iVar3 = *(int *)(*(int *)(iVar4 + 0x86) + 0x13), *(int *)(iVar3 + 0x114) == 6 &&
                (*(char *)(iVar4 + 4) == '\x03')) ||
               ((*(int *)(iVar3 + 0x7b) == 8 &&
                ((*(char *)(iVar4 + 4) == '\x05' || (*(char *)(iVar4 + 4) == '\x06')))))))) ||
             ((*(uint *)(iVar4 + 0x8a) & 0x100000) != 0)))) {
      *(ushort *)(iVar4 + 0x8e) = uVar1 | 0x40;
    }
    break;
  case 0x1b:
  case 0x1e:
    break;
  }
  if (*(char *)(param_2 + 0xbb) != '4') {
    FUN_0047d1f0(param_2,*(char *)(param_2 + 0xbb),0);
  }
  return;
}



void FUN_0047d510(int param_1,int param_2)

{
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  float local_1c;
  undefined4 local_18;
  float *local_14;
  float *local_10;
  float **local_c;
  
  AdjustStackForLargeAllocations();
  local_c = *(float ***)(param_2 + 4);
  local_1c = *(float *)(param_2 + 8);
  local_10 = (float *)0x47d53b;
  FUN_0045eab0();
  *(float **)(param_1 + 0x27) = local_10;
  *(float ***)(param_1 + 0x2b) = local_c;
  local_c = (float **)&local_1c;
  *(float *)(param_1 + 0x2f) = local_1c;
  local_1c = -local_1c;
  local_18 = 0;
  local_14 = local_10;
  local_10 = (float *)0x47d571;
  FUN_0045eab0();
  *(float *)(param_1 + 7) = local_1c;
  *(undefined4 *)(param_1 + 0xb) = local_18;
  local_c = &local_10;
  *(float **)(param_1 + 0xf) = local_14;
  local_10 = &local_1c;
  local_14 = (float *)&local_28;
  local_18 = 0x47d597;
  FUN_0045eb50();
  *(undefined4 *)(param_1 + 0x17) = local_28;
  *(undefined4 *)(param_1 + 0x1b) = local_24;
  *(undefined4 *)(param_1 + 0x1f) = local_20;
  return;
}



undefined4 FUN_0047d5c0(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [4];
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 uStack_18;
  undefined4 *puStack_14;
  undefined4 uStack_10;
  
  AdjustStackForLargeAllocations();
  puVar2 = &DAT_004d1ae0;
  puVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  if (param_2 == 1) {
    local_30 = 0x3d90deaa;
    local_2c = 0xbf7f5bd5;
    local_20 = 0x3f7f5bd5;
  }
  else if (param_2 == 2) {
    local_44[0] = 0x3d90deaa;
    local_44[2] = 0x3f7f5bd5;
    local_24 = 0xbf7f5bd5;
  }
  else if (param_2 == 3) {
    local_44[0] = 0x3d90deaa;
    local_44[1] = 0xbf7f5bd5;
    local_34 = 0x3f7f5bd5;
    local_30 = 0x3d90deaa;
  }
  puStack_14 = local_44;
  uStack_10 = param_1;
  uStack_18 = param_1;
  local_1c = 0x47d649;
  MultiplyMatrices();
  return 1;
}



undefined4 FUN_0047d660(undefined4 param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [5];
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 uStack_18;
  undefined4 *puStack_14;
  undefined4 uStack_10;
  
  AdjustStackForLargeAllocations();
  puStack_14 = local_44;
  puVar2 = &DAT_004d1ae0;
  puVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  local_30 = 0;
  uStack_10 = param_1;
  uStack_18 = param_1;
  local_2c = 0x3f800000;
  local_20 = 0xbf800000;
  local_1c = 0x47d6a8;
  MultiplyMatrices();
  return param_1;
}



undefined4 FUN_0047d6c0(undefined4 param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [5];
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 uStack_18;
  undefined4 *puStack_14;
  undefined4 uStack_10;
  
  AdjustStackForLargeAllocations();
  puStack_14 = local_44;
  puVar2 = &DAT_004d1ae0;
  puVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  local_30 = 0;
  uStack_10 = param_1;
  uStack_18 = param_1;
  local_2c = 0xbf800000;
  local_20 = 0x3f800000;
  local_1c = 0x47d708;
  MultiplyMatrices();
  return param_1;
}



undefined4 FUN_0047d720(undefined4 param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [8];
  undefined4 local_24;
  undefined4 local_1c;
  undefined4 uStack_18;
  undefined4 *puStack_14;
  undefined4 uStack_10;
  
  AdjustStackForLargeAllocations();
  puStack_14 = local_44;
  puVar2 = &DAT_004d1ae0;
  puVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  local_44[0] = 0xbf800000;
  uStack_10 = param_1;
  uStack_18 = param_1;
  local_44[2] = 0;
  local_24 = 0;
  local_1c = 0x47d768;
  MultiplyMatrices();
  return param_1;
}



float10 FUN_0047d780(float param_1)

{
  float10 fVar1;
  
  fVar1 = (float10)param_1 * (float10)param_1 * (float10)param_1;
  return ((float10)param_1 - fVar1 * (float10)0.1667) -
         fVar1 * (float10)param_1 * (float10)param_1 * (float10)-0.0083;
}



float10 FUN_0047d7b0(float param_1)

{
  float10 fVar1;
  
  fVar1 = (float10)param_1 * (float10)param_1;
  return fVar1 * fVar1 * (float10)0.0417 - ((float10)-1.0 - fVar1 * (float10)-0.5);
}



float10 FUN_0047d7e0(float param_1)

{
  return ((float10)1.5708 - (float10)param_1) -
         (float10)param_1 * (float10)param_1 * (float10)param_1 * (float10)0.1667;
}



float10 FUN_0047d810(float param_1)

{
  return ((float10)1.0 - (float10)param_1 * (float10)param_1 * (float10)-0.3333) * (float10)param_1;
}



float10 FUN_0047d830(float param_1)

{
  return (float10)param_1 -
         (float10)param_1 * (float10)param_1 * (float10)param_1 *
         ((float10)-0.1667 - (float10)param_1 * (float10)param_1 * (float10)0.075);
}



void FUN_0047d860(float *param_1,float *param_2,float param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = *param_1 * *param_1 + param_1[2] * param_1[2] + param_1[1] * param_1[1];
  if (0.1 <= fVar1) {
    fVar4 = (float10)FUN_004ad534((double)fVar1);
    fVar4 = (float10)1.0 / fVar4;
    fVar1 = *param_1;
    fVar2 = param_1[1];
    fVar3 = param_1[2];
    *param_1 = (float)((float10)fVar1 * fVar4);
    param_1[1] = (float)(fVar4 * (float10)fVar2);
    param_1[2] = (float)(fVar4 * (float10)fVar3);
    fVar4 = ((float10)param_2[1] * fVar4 * (float10)fVar2 +
            (float10)param_2[2] * fVar4 * (float10)fVar3 +
            (float10)*param_2 * (float10)fVar1 * fVar4) * (float10)1.5;
    *param_2 = (float)((float10)*param_2 - (float10)*param_1 * fVar4);
    param_2[1] = (float)((float10)param_2[1] - fVar4 * (float10)param_1[1]);
    param_2[2] = (float)((float10)param_2[2] - fVar4 * (float10)param_1[2]);
    if (param_3 != 1.0) {
      *param_2 = *param_2 * param_3;
      param_2[1] = param_3 * param_2[1];
      param_2[2] = param_3 * param_2[2];
      return;
    }
  }
  return;
}



void FUN_0047d970(float *param_1,float *param_2,float param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = *param_1 * *param_1 + param_1[2] * param_1[2] + param_1[1] * param_1[1];
  if (0.1 <= fVar1) {
    fVar4 = (float10)FUN_004ad534((double)fVar1);
    fVar4 = (float10)1.0 / fVar4;
    fVar1 = *param_1;
    fVar2 = param_1[1];
    fVar3 = param_1[2];
    *param_1 = (float)((float10)fVar1 * fVar4);
    param_1[1] = (float)(fVar4 * (float10)fVar2);
    param_1[2] = (float)(fVar4 * (float10)fVar3);
    fVar4 = (float10)param_2[1] * fVar4 * (float10)fVar2 +
            (float10)param_2[2] * fVar4 * (float10)fVar3 +
            (float10)*param_2 * (float10)fVar1 * fVar4;
    fVar4 = fVar4 + fVar4;
    *param_2 = (float)((float10)*param_2 - (float10)*param_1 * fVar4);
    param_2[1] = (float)((float10)param_2[1] - fVar4 * (float10)param_1[1]);
    param_2[2] = (float)((float10)param_2[2] - fVar4 * (float10)param_1[2]);
    if (param_3 != 1.0) {
      *param_2 = *param_2 * param_3;
      param_2[1] = param_3 * param_2[1];
      param_2[2] = param_3 * param_2[2];
      return;
    }
  }
  return;
}



void FUN_0047da80(float *param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  fVar1 = *param_1 * *param_1 + param_1[2] * param_1[2] + param_1[1] * param_1[1];
  if (0.1 <= fVar1) {
    fVar4 = (float10)FUN_004ad534((double)fVar1);
    fVar4 = (float10)1.0 / fVar4;
    fVar1 = *param_1;
    fVar2 = param_1[1];
    fVar3 = param_1[2];
    *param_1 = (float)(fVar4 * (float10)fVar1);
    param_1[1] = (float)(fVar4 * (float10)fVar2);
    param_1[2] = (float)(fVar4 * (float10)fVar3);
    fVar4 = (float10)param_2[1] * fVar4 * (float10)fVar2 +
            (float10)param_2[2] * fVar4 * (float10)fVar3 +
            (float10)*param_2 * fVar4 * (float10)fVar1;
    fVar4 = fVar4 + fVar4;
    *param_2 = (float)((float10)*param_2 - fVar4 * (float10)*param_1);
    param_2[1] = (float)((float10)param_2[1] - fVar4 * (float10)param_1[1]);
    param_2[2] = (float)((float10)param_2[2] - fVar4 * (float10)param_1[2]);
    return;
  }
  return;
}



float FUN_0047db60(float param_1,int param_2,undefined4 *param_3,undefined4 param_4)

{
  int iVar1;
  uint uVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  float10 fVar8;
  undefined4 local_9c [8];
  undefined4 local_7c;
  undefined4 local_74;
  float local_5c;
  int local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  undefined4 *local_1c;
  undefined *local_18;
  undefined4 **local_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)((int)param_1 + 4);
  local_58 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13);
  if (*(int *)(DAT_005df318 + 4) == 0) {
    return 0.0;
  }
  local_28 = *(float *)(local_58 + 0xb9);
  local_20 = 0.0;
  local_5c = *(float *)(local_58 + 0xbd);
  local_30 = *(float *)(local_58 + 0xc9);
  iVar5 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
  local_24 = local_28;
  if (((((iVar5 == 4) || (iVar5 == 5)) ||
       ((*(int *)(local_58 + 0x114) == 6 && (*(char *)(iVar1 + 4) == '\x03')))) ||
      ((*(int *)(local_58 + 0x7b) == 8 &&
       ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) ||
     ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)) {
    local_14 = (undefined4 **)(iVar1 + 6);
    local_18 = (undefined *)(iVar1 + 0x46);
    local_1c = local_9c;
    local_20 = 6.599293e-39;
    MultiplyMatrices();
  }
  else {
    puVar6 = (undefined4 *)(iVar1 + 6);
    puVar7 = local_9c;
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar7 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar7 = puVar7 + 1;
    }
  }
  uVar2 = *(uint *)(*(int *)((int)param_1 + 4) + 0x8a);
  if (((uVar2 & 0x200400) == 0) && ((uVar2 & 2) == 0)) {
    local_54 = local_7c;
    local_50 = *(undefined4 *)(*(int *)((int)param_1 + 4) + 0xf7);
    local_14 = (undefined4 **)&local_54;
    local_4c = local_74;
    local_18 = (undefined *)0x47dc64;
    FUN_0045eab0();
    local_14 = (undefined4 **)&local_54;
    local_18 = &stack0xfffffff0;
    local_1c = (undefined4 *)0x47dc86;
    FUN_0045eba0();
  }
  fVar3 = *(float *)(DAT_005df318 + 4);
  do {
    if (fVar3 == 0.0) {
      if (local_24 != local_28) {
        return local_20;
      }
      return 0.0;
    }
    iVar1 = *(int *)((int)fVar3 + 4);
    if ((((*(uint *)(iVar1 + 0x8a) & 0x400000) != 0) && ((*(ushort *)(iVar1 + 0x8e) & 0x8000) == 0))
       && ((**(short **)(iVar1 + 0x86) != 0 || (*(char *)(iVar1 + 0x108) != '\0')))) {
      iVar5 = *(int *)((int)param_1 + 4);
      if (((((*(uint *)(iVar5 + 0x8a) & 1) == 0) || ((*(ushort *)(iVar1 + 0x8e) & 4) != 0)) &&
          (fVar3 != param_1)) && ((*(uint *)(iVar1 + 0x8a) & 0x200) == 0)) {
        if (((*(byte *)(iVar1 + 0x8a) & 2) != 0) && ((*(uint *)(iVar5 + 0x8a) & 2) != 0)) {
          return local_20;
        }
        if (*(int *)(*(int *)(*(int *)(iVar5 + 0x86) + 0x13) + 0x7f) == 0x12) {
          local_30 = -0.707;
        }
        local_44 = *(float *)(iVar5 + 0x3a);
        local_3c = *(float *)(iVar1 + 0x36);
        local_38 = *(float *)(iVar1 + 0x3a);
        local_48 = *(float *)(iVar5 + 0x36);
        local_40 = *(float *)(iVar5 + 0x3e);
        local_34 = *(float *)(iVar1 + 0x3e);
        local_1c = (undefined4 *)(local_48 - local_3c);
        fVar4 = (local_40 - local_34) * (local_40 - local_34) +
                (local_44 - local_38) * (local_44 - local_38) + (float)local_1c * (float)local_1c;
        if ((local_5c <= fVar4) && (fVar4 <= local_28)) {
          local_14 = &local_1c;
          local_18 = (undefined *)0x47de4b;
          FUN_0045eab0();
          local_14 = &local_1c;
          local_18 = &stack0xfffffff0;
          local_1c = (undefined4 *)0x47de5b;
          fVar8 = (float10)FUN_0045eba0();
          if (((float10)local_30 <= fVar8) && (fVar4 <= local_24)) {
            if (param_2 == 0) {
              local_2c = *(float *)(local_58 + 0xb5);
              if (local_2c < 1.0) {
                local_2c = 1.0;
              }
              local_14 = (undefined4 **)0x0;
              local_28 = local_38 - -1.28;
              local_18 = (undefined *)param_4;
              local_1c = param_3;
              local_20 = local_2c;
              local_24 = local_34;
              local_34 = local_44 - -1.28;
              local_2c = local_3c;
              local_30 = local_40;
              local_38 = local_48;
              local_3c = 6.600276e-39;
              fVar8 = (float10)FUN_00421a70();
              if (fVar8 != (float10)-10000.0) goto LAB_0047df52;
              if (*(int *)(*(int *)(*(int *)(*(int *)((int)param_1 + 4) + 0x86) + 0x13) + 0x7f) ==
                  0x12) {
                local_14 = (undefined4 **)&stack0xfffffff0;
                local_18 = (undefined *)0x47df1d;
                FUN_0045eab0();
                local_14 = &local_1c;
                local_18 = (undefined *)0x47df29;
                FUN_0045eab0();
                local_14 = &local_1c;
                local_18 = &stack0xfffffff0;
                local_1c = (undefined4 *)0x47df39;
                fVar8 = (float10)FUN_0045eba0();
                if (fVar8 < (float10)0.98) goto LAB_0047df52;
              }
            }
            local_24 = fVar4;
            local_20 = fVar3;
          }
        }
      }
    }
LAB_0047df52:
    fVar3 = *(float *)((int)fVar3 + 0x16);
  } while( true );
}



float10 FUN_0047df80(float param_1,float *param_2,float *param_3)

{
  float fVar1;
  float10 fVar2;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_3[1] - param_2[1];
  fVar2 = (float10)FUN_004ad534((double)((param_3[2] - param_2[2]) * (param_3[2] - param_2[2]) +
                                        fVar1 * fVar1 +
                                        (*param_3 - *param_2) * (*param_3 - *param_2)));
  fVar2 = fVar2 / (float10)param_1;
  return (((float10)fVar1 + (float10)fVar1) - fVar2 * fVar2 * (float10)-0.1) / (fVar2 + fVar2);
}



void FUN_0047e000(float *param_1,float param_2,float *param_3,float *param_4)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float10 fVar7;
  float10 fVar8;
  float10 fVar9;
  float10 fVar10;
  float fStack_8;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_4[2];
  fVar2 = *param_4;
  fVar3 = *param_3;
  fVar4 = param_3[2];
  fVar5 = param_4[1];
  fVar6 = param_3[1];
  fVar7 = (float10)FUN_004ad534();
  fVar8 = fVar7 / (float10)param_2;
  fStack_8 = (float)((ulonglong)
                     (double)((fVar1 - fVar4) * (fVar1 - fVar4) + (fVar2 - fVar3) * (fVar2 - fVar3))
                    >> 0x20);
  fVar9 = (float10)6.600784e-39 / fVar8;
  fVar10 = (float10)fStack_8 / fVar8;
  if ((float10)30.0 <= fVar7) {
    fVar9 = fVar9 + fVar9;
    fVar7 = (float10)0.5;
    fVar10 = fVar10 + fVar10;
  }
  else {
    fVar9 = fVar9 * (float10)1.5;
    fVar7 = (float10)0.667;
    fVar10 = fVar10 * (float10)1.5;
  }
  *param_1 = (float)fVar9;
  param_1[1] = (float)(((fVar8 + fVar8) /
                       (((float10)(fVar5 - fVar6) + (float10)(fVar5 - fVar6)) -
                       fVar8 * fVar8 * (float10)-0.1)) * fVar7);
  param_1[2] = (float)fVar10;
  return;
}



float10 FUN_0047e0d0(float param_1,float *param_2,float *param_3)

{
  float10 fVar1;
  
  AdjustStackForLargeAllocations();
  fVar1 = (float10)FUN_004ad534((double)((param_3[2] - param_2[2]) * (param_3[2] - param_2[2]) +
                                        (param_3[1] - param_2[1]) * (param_3[1] - param_2[1]) +
                                        (*param_3 - *param_2) * (*param_3 - *param_2)));
  fVar1 = fVar1 / (float10)param_1;
  return ((float10)2.0 - fVar1 * fVar1 * (float10)-0.1) / (fVar1 + fVar1);
}



void FUN_0047e150(int param_1,int param_2)

{
  float fVar1;
  int iVar2;
  int iVar3;
  float10 fVar4;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined8 local_10;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 0xa7);
  if (((iVar2 == 0) || (iVar3 = *(int *)(iVar2 + 4), (*(uint *)(iVar3 + 0x8a) & 0x4200) != 0)) ||
     ((*(byte *)(iVar3 + 0x8e) & 0x40) != 0)) {
    iVar2 = *(int *)(param_1 + 0xab);
    if (*(char *)(*(int *)(iVar2 + 0x13) + 0xec) != '\x03') {
      return;
    }
    *(float *)(param_1 + 0x87) =
         *(float *)(param_1 + 0x27) * *(float *)(*(int *)(iVar2 + 0x13) + 0xa5);
    *(float *)(param_1 + 0x8b) =
         *(float *)(param_1 + 0x2b) * *(float *)(*(int *)(iVar2 + 0x13) + 0xa9);
    *(float *)(param_1 + 0x8f) =
         *(float *)(param_1 + 0x2f) * *(float *)(*(int *)(iVar2 + 0x13) + 0xad);
    return;
  }
  local_1c = *(float *)(iVar3 + 0x36) - *(float *)(param_1 + 0x37);
  local_18 = *(float *)(*(int *)(iVar2 + 4) + 0x3a) - *(float *)(param_1 + 0x3b);
  local_14 = *(float *)(*(int *)(iVar2 + 4) + 0x3e) - *(float *)(param_1 + 0x3f);
  local_10 = (double)CONCAT44(&local_1c,0x47e1b8);
  FUN_0045eab0();
  fVar5 = *(float *)(param_1 + 0x8f);
  local_10 = (double)(fVar5 * fVar5 +
                     *(float *)(param_1 + 0x8b) * *(float *)(param_1 + 0x8b) +
                     *(float *)(param_1 + 0x87) * *(float *)(param_1 + 0x87));
  local_14 = 6.60139e-39;
  fVar4 = (float10)FUN_004ad534();
  fVar1 = (float)fVar4;
  local_20 = 1.0 / fVar1;
  local_10._0_4_ = local_20 * (float)&local_1c;
  local_10._4_4_ = local_20 * (float)&local_10;
  local_20 = local_20 * fVar5;
  local_14 = 6.601476e-39;
  fVar4 = (float10)FUN_0045eba0();
  if (param_2 == 1) {
    local_28 = (float)local_10 * 3.0 - local_1c * -0.2;
    local_20 = local_20 * 3.0;
    local_24 = local_10._4_4_ * 3.0 - local_18 * -0.2;
    fVar5 = local_14 * -0.2;
  }
  else if (param_2 == 2) {
    if (fVar4 <= (float10)0.5) {
      return;
    }
    local_28 = (float)local_10 * 1.5 - local_1c * -0.4;
    local_20 = local_20 * 1.5;
    local_24 = local_10._4_4_ * 1.5 - local_18 * -0.4;
    fVar5 = local_14 * -0.4;
  }
  else {
    if (param_2 == 3) {
      if (fVar4 <= (float10)0.1) {
        return;
      }
      local_28 = (float)local_10 - local_1c * -0.6;
      local_24 = local_10._4_4_ - local_18 * -0.6;
      local_20 = local_20 - local_14 * -0.6;
      goto LAB_0047e3b3;
    }
    if (fVar4 <= (float10)0.5) {
      return;
    }
    local_28 = (float)local_10 * 1.5 - local_1c * -0.4;
    local_20 = local_20 * 1.5;
    local_24 = local_10._4_4_ * 1.5 - local_18 * -0.4;
    fVar5 = local_14 * -0.4;
  }
  local_20 = local_20 - fVar5;
LAB_0047e3b3:
  local_10 = (double)CONCAT44(&local_28,0x47e3bf);
  FUN_0045eab0();
  *(float *)(param_1 + 0x87) = fVar1 * local_28;
  *(float *)(param_1 + 0x8b) = fVar1 * local_24;
  *(float *)(param_1 + 0x8f) = fVar1 * local_20;
  return;
}



void FUN_0047e450(int param_1,int param_2)

{
  float fVar1;
  int iVar2;
  int iVar3;
  float10 fVar4;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined8 local_10;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  iVar2 = *(int *)(param_1 + 0xa7);
  if (iVar2 == 0) {
    return;
  }
  iVar3 = *(int *)(iVar2 + 4);
  if ((*(uint *)(iVar3 + 0x8a) & 0x4200) != 0) {
    return;
  }
  if ((*(byte *)(iVar3 + 0x8e) & 0x40) != 0) {
    return;
  }
  local_1c = *(float *)(iVar3 + 0x36) - *(float *)(param_1 + 0x37);
  local_18 = *(float *)(*(int *)(iVar2 + 4) + 0x3a) - *(float *)(param_1 + 0x3b);
  local_14 = *(float *)(*(int *)(iVar2 + 4) + 0x3e) - *(float *)(param_1 + 0x3f);
  local_10 = (double)CONCAT44(&local_1c,0x47e4b8);
  FUN_0045eab0();
  fVar5 = *(float *)(param_1 + 0x8f);
  local_10 = (double)(fVar5 * fVar5 +
                     *(float *)(param_1 + 0x8b) * *(float *)(param_1 + 0x8b) +
                     *(float *)(param_1 + 0x87) * *(float *)(param_1 + 0x87));
  local_14 = 6.602459e-39;
  fVar4 = (float10)FUN_004ad534();
  fVar1 = (float)fVar4;
  local_20 = 1.0 / fVar1;
  local_28 = local_20 * (float)local_10;
  local_10._4_4_ = local_20 * local_10._4_4_;
  local_20 = local_20 * fVar5;
  if (param_2 == 1) {
    local_28 = local_1c * 0.2 - local_28 * -3.0;
    fVar5 = local_14 * 0.2;
    local_24 = local_18 * 0.2 - local_10._4_4_ * -3.0;
    local_20 = local_20 * -3.0;
  }
  else {
    if ((param_2 != 2) && (param_2 == 3)) {
      local_28 = local_28 - local_1c * -0.6;
      local_24 = local_10._4_4_ - local_18 * -0.6;
      local_20 = local_20 - local_14 * -0.6;
      goto LAB_0047e60f;
    }
    local_28 = local_1c * 0.4 - local_28 * -1.5;
    fVar5 = local_14 * 0.4;
    local_24 = local_18 * 0.4 - local_10._4_4_ * -1.5;
    local_20 = local_20 * -1.5;
  }
  local_20 = fVar5 - local_20;
LAB_0047e60f:
  local_10 = (double)CONCAT44(&local_28,0x47e618);
  FUN_0045eab0();
  *(float *)(param_1 + 0x87) = fVar1 * local_28;
  *(float *)(param_1 + 0x8f) = fVar1 * local_20;
  return;
}



void FUN_0047e640(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  float10 fVar3;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined8 local_10;
  float fVar4;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 0xa7);
  if (iVar1 == 0) {
    return;
  }
  iVar2 = *(int *)(iVar1 + 4);
  if ((*(uint *)(iVar2 + 0x8a) & 0x4200) != 0) {
    return;
  }
  if ((*(byte *)(iVar2 + 0x8e) & 0x40) != 0) {
    return;
  }
  local_1c = *(float *)(iVar2 + 0x36) - *(float *)(param_1 + 0x37);
  local_18 = *(float *)(*(int *)(iVar1 + 4) + 0x3a) - *(float *)(param_1 + 0x3b);
  local_14 = *(float *)(*(int *)(iVar1 + 4) + 0x3e) - *(float *)(param_1 + 0x3f);
  local_10 = (double)CONCAT44(&local_1c,0x47e6a8);
  FUN_0045eab0();
  fVar4 = *(float *)(param_1 + 0x8f);
  local_10 = (double)(fVar4 * fVar4 +
                     *(float *)(param_1 + 0x8b) * *(float *)(param_1 + 0x8b) +
                     *(float *)(param_1 + 0x87) * *(float *)(param_1 + 0x87));
  local_14 = 6.603158e-39;
  fVar3 = (float10)FUN_004ad534();
  local_20 = 1.0 / (float)fVar3;
  local_28 = local_20 * (float)local_10;
  local_10._4_4_ = local_20 * local_10._4_4_;
  local_20 = local_20 * fVar4;
  if (param_2 == 1) {
    local_28 = local_28 * 3.0 - local_1c * -0.2;
    local_20 = local_20 * 3.0;
    local_24 = local_10._4_4_ * 3.0 - local_18 * -0.2;
    fVar4 = local_14 * -0.2;
  }
  else {
    if ((param_2 != 2) && (param_2 == 3)) {
      local_28 = local_28 - local_1c * -0.6;
      local_24 = local_10._4_4_ - local_18 * -0.6;
      local_20 = local_20 - local_14 * -0.6;
      goto LAB_0047e802;
    }
    local_28 = local_28 * 1.5 - local_1c * -0.4;
    local_20 = local_20 * 1.5;
    local_24 = local_10._4_4_ * 1.5 - local_18 * -0.4;
    fVar4 = local_14 * -0.4;
  }
  local_20 = local_20 - fVar4;
LAB_0047e802:
  local_10 = (double)CONCAT44(&local_28,0x47e80b);
  FUN_0045eab0();
  iVar1 = *(int *)(param_1 + 0xab);
  *(float *)(param_1 + 0x87) = *(float *)(*(int *)(iVar1 + 0x13) + 0xa5) * local_28;
  *(float *)(param_1 + 0x8b) = *(float *)(*(int *)(iVar1 + 0x13) + 0xa9) * local_24;
  *(float *)(param_1 + 0x8f) = *(float *)(*(int *)(iVar1 + 0x13) + 0xad) * local_20;
  return;
}



void FUN_0047e850(float *param_1,undefined4 ***param_2,int param_3,uint param_4)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 **ppuVar4;
  float10 fVar5;
  undefined4 **local_80 [8];
  float local_60;
  float local_58;
  float local_40 [3];
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float *local_24;
  float *local_20;
  undefined4 ****local_1c;
  undefined8 local_18;
  float fVar6;
  float fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)((int)param_2 + 4);
  local_28 = *(float *)(iVar1 + 0x36);
  local_24 = *(float **)(iVar1 + 0x3a);
  local_20 = *(float **)(iVar1 + 0x3e);
  if (param_3 == 0) {
    iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
    if (((((iVar2 == 4) || (iVar2 == 5)) ||
         ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
          (*(char *)(iVar1 + 4) == '\x03')))) ||
        ((*(int *)(iVar2 + 0x7b) == 8 &&
         ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) ||
       ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)) {
      local_18 = (double)CONCAT44(iVar1 + 6,iVar1 + 0x46);
      local_1c = (undefined4 ****)local_80;
      local_20 = (float *)0x47e971;
      MultiplyMatrices();
    }
    else {
      puVar3 = (undefined4 *)(iVar1 + 6);
      ppuVar4 = local_80;
      for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
        *ppuVar4 = (undefined4 *)*puVar3;
        puVar3 = puVar3 + 1;
        ppuVar4 = ppuVar4 + 1;
      }
    }
    iVar1 = *(int *)((int)param_2 + 4);
    local_60 = -local_60;
    iVar2 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
    local_2c = -local_58;
    if ((((iVar2 == 4) || (iVar2 == 5)) ||
        ((iVar2 = *(int *)(*(int *)(iVar1 + 0x86) + 0x13), *(int *)(iVar2 + 0x114) == 6 &&
         (*(char *)(iVar1 + 4) == '\x03')))) ||
       (((*(int *)(iVar2 + 0x7b) == 8 &&
         ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))) ||
        ((*(uint *)(iVar1 + 0x8a) & 0x100000) != 0)))) {
      fVar7 = 40.0;
      param_2 = (undefined4 ***)0x40000000;
    }
    else {
      fVar7 = 20.0;
      param_2 = (undefined4 ***)0x3f800000;
    }
  }
  else {
    iVar2 = *(int *)(param_3 + 4);
    local_34 = *(float *)(iVar2 + 0x36) - *(float *)(iVar1 + 0x36);
    local_30 = *(float *)(iVar2 + 0x3a) - *(float *)(iVar1 + 0x3a);
    local_2c = *(float *)(iVar2 + 0x3e) - *(float *)(iVar1 + 0x3e);
    local_18 = (double)(local_2c * local_2c + local_30 * local_30 + local_34 * local_34);
    local_1c = (undefined4 ****)0x47e8cb;
    fVar5 = (float10)FUN_004ad534();
    fVar7 = (float)fVar5;
    param_2 = (undefined4 ***)0x3f800000;
    local_60 = (1.0 / fVar7) * local_34;
    local_2c = (1.0 / fVar7) * local_2c;
  }
  fVar7 = fVar7 - (float)param_2;
  fVar8 = 0.0;
  if (0.0 < fVar7) {
    fVar6 = (float)param_2 * local_2c;
    local_18 = (double)((ulonglong)(uint)((float)param_2 * local_60) << 0x20);
    do {
      local_24 = (float *)((float)local_20 + fVar6);
      local_28 = local_28 + local_18._4_4_;
      local_1c = &local_1c;
      local_18 = 0.0;
      local_20 = local_40;
      local_2c = 6.604428e-39;
      fVar5 = (float10)FUN_0041c650();
      if ((float)local_24 - (float)param_2 < (float)fVar5) goto LAB_0047eb4d;
      local_18 = (double)(ulonglong)param_4;
      local_20 = &local_28;
      local_1c = (undefined4 ****)param_2;
      local_24 = &local_28;
      local_28 = 6.604491e-39;
      iVar1 = FUN_00421c60();
      if ((((iVar1 != 0) ||
           (iVar1 = (uint)*(ushort *)(DAT_00598ff0 + 0x10) * (uint)*(ushort *)(DAT_00598ff0 + 0xe),
           (float)((uint)*(ushort *)(DAT_00598ff0 + 6) * iVar1) - (float)param_2 <= local_28)) ||
          (local_28 <= (float)param_2)) ||
         (((float)((uint)*(ushort *)(DAT_00598ff0 + 8) * iVar1) - (float)param_2 <= (float)local_20
          || ((float)local_20 <= (float)param_2)))) goto LAB_0047eb4d;
      fVar8 = (float)param_2 + fVar8;
    } while (fVar8 < fVar7);
  }
  if (param_3 != 0) {
    iVar1 = *(int *)(param_3 + 4);
    local_28 = *(float *)(iVar1 + 0x36);
    local_24 = *(float **)(iVar1 + 0x3a);
    local_20 = *(float **)(iVar1 + 0x3e);
  }
LAB_0047eb4d:
  *param_1 = local_28;
  param_1[1] = (float)local_24;
  param_1[2] = (float)local_20;
  return;
}



void FUN_0047eb70(int param_1,int param_2)

{
  float fVar1;
  byte bVar2;
  int iVar3;
  float fVar4;
  float10 fVar5;
  float local_1c;
  undefined4 local_18;
  undefined8 local_14;
  float fVar6;
  
  AdjustStackForLargeAllocations();
  iVar3 = *(int *)(*(int *)(param_1 + 0xa7) + 4);
  if ((*(uint *)(iVar3 + 0x8a) & 0x4200) != 0) {
    return;
  }
  if ((*(byte *)(iVar3 + 0x8e) & 0x40) != 0) {
    return;
  }
  if (param_2 == 1) {
    bVar2 = *(byte *)(param_1 + 0x9b);
  }
  else if (param_2 == 2) {
    bVar2 = *(byte *)(param_1 + 0x9b);
  }
  else {
    bVar2 = *(byte *)(param_1 + 0x9b);
  }
  if ((bVar2 & 1) != 0) {
    return;
  }
  local_1c = *(float *)(iVar3 + 0x36) - *(float *)(param_1 + 0x37);
  local_18 = 0;
  local_14 = (double)CONCAT44(&local_1c,0x47ec09);
  FUN_0045eab0();
  fVar6 = *(float *)(param_1 + 0x8f);
  local_14 = (double)(fVar6 * fVar6 + *(float *)(param_1 + 0x87) * *(float *)(param_1 + 0x87));
  local_18 = 0x47ec39;
  fVar5 = (float10)FUN_004ad534();
  fVar1 = (float)fVar5;
  fVar6 = (1.0 / fVar1) * fVar6;
  if (param_2 == 1) {
    fVar4 = -3.0;
  }
  else {
    if ((param_2 != 2) && (param_2 == 3)) {
      fVar6 = fVar6 + (float)local_14;
      goto LAB_0047ecb0;
    }
    fVar4 = -1.5;
  }
  fVar6 = (float)local_14 - fVar6 * fVar4;
LAB_0047ecb0:
  local_14._4_4_ = (float)((int)&local_14 + 4);
  local_14._0_4_ = 6.605249e-39;
  FUN_0045eab0();
  *(float *)(param_1 + 0x87) = fVar1 * local_14._4_4_;
  *(float *)(param_1 + 0x8f) = fVar1 * fVar6;
  return;
}



void FUN_0047ecf0(float param_1)

{
  double dVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  float10 fVar8;
  undefined local_90 [32];
  float local_70;
  float local_6c;
  float local_68;
  float local_50 [8];
  float local_30;
  float local_28;
  undefined4 uStack_24;
  float *pfStack_20;
  undefined *puStack_1c;
  double dStack_18;
  float fVar9;
  float fVar10;
  
  iVar4 = (int)param_1;
  AdjustStackForLargeAllocations();
  *(float *)(*(int *)(*(int *)((int)param_1 + 0xa3) + 4) + 0x104) = param_1;
  if (*(int *)((int)param_1 + 0xa3) == DAT_005e45e8) {
    DAT_004d7a40 = 1;
    *(int *)(DAT_005e45e4 + 0x2b9) = (int)param_1 + 7;
  }
  iVar5 = *(int *)((int)param_1 + 0xa3);
  pfVar6 = (float *)((int)param_1 + 0xbc);
  fVar9 = 0.0;
  iVar2 = *(int *)(iVar5 + 4);
  fVar10 = *(float *)((int)param_1 + 0xc0);
  uVar3 = *(uint *)(iVar2 + 0xc9);
  if ((uVar3 & 4) != 0) {
    fVar10 = fVar10 - 0.04;
    fVar9 = -0.1;
  }
  if ((uVar3 & 8) != 0) {
    fVar9 = fVar9 - -0.1;
    fVar10 = fVar10 - -0.04;
  }
  param_1 = *pfVar6;
  if ((uVar3 & 1) != 0) {
    param_1 = *pfVar6 - 0.1;
  }
  if ((uVar3 & 2) != 0) {
    param_1 = param_1 - -0.1;
  }
  if ((*(float *)(DAT_00598d90 + 0x108) < *(float *)(iVar4 + 0x3b)) &&
     ((*(byte *)(iVar2 + 0x8a) & 4) == 0)) {
    *(undefined4 *)(iVar4 + 0x97) = 0;
    iVar5 = *(int *)(iVar5 + 4);
    *(uint *)(iVar5 + 0x8a) = *(uint *)(iVar5 + 0x8a) & 0xffdfffff;
    dStack_18 = (double)CONCAT44(*(undefined4 *)(*(int *)(iVar4 + 0xa3) + 4),0x47ee05);
    FUN_004184b0();
  }
  pfVar6 = (float *)&DAT_004d1ae0;
  pfVar7 = local_50;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *pfVar7 = *pfVar6;
    pfVar6 = pfVar6 + 1;
    pfVar7 = pfVar7 + 1;
  }
  fVar10 = fVar10 * 0.9;
  dVar1 = (double)fVar9;
  puStack_1c = (undefined *)0x47ee42;
  dStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae0c4();
  local_50[0] = (float)fVar8;
  puStack_1c = (undefined *)0x47ee4f;
  dStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae0c4();
  local_28 = (float)fVar8;
  puStack_1c = (undefined *)0x47ee5c;
  dStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae014();
  local_50[2] = (float)-fVar8;
  puStack_1c = (undefined *)0x47ee6b;
  dStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae014();
  local_30 = (float)fVar8;
  iVar5 = iVar4 + 7;
  dStack_18 = (double)CONCAT44(iVar5,local_50);
  pfStack_20 = (float *)0x47ee7f;
  puStack_1c = (undefined *)iVar5;
  MultiplyMatrices();
  pfStack_20 = local_50;
  dStack_18 = (double)((ulonglong)(uint)fVar10 << 0x20);
  uStack_24 = 0x47ee95;
  puStack_1c = (undefined *)(param_1 * 0.9);
  FUN_0040bee0();
  puStack_1c = local_90;
  dStack_18 = (double)CONCAT44(iVar5,local_50);
  pfStack_20 = (float *)0x47eea9;
  MultiplyMatrices();
  dStack_18 = (double)(*(float *)(iVar4 + 0x8f) * *(float *)(iVar4 + 0x8f) +
                      *(float *)(iVar4 + 0x8b) * *(float *)(iVar4 + 0x8b) +
                      *(float *)(iVar4 + 0x87) * *(float *)(iVar4 + 0x87));
  puStack_1c = (undefined *)0x47eedf;
  fVar8 = (float10)FUN_004ad534();
  *(float *)(iVar4 + 0x87) = (float)(fVar8 * (float10)local_70);
  *(float *)(iVar4 + 0x8b) = (float)(fVar8 * (float10)local_6c);
  *(float *)(iVar4 + 0x8f) = (float)(fVar8 * (float10)local_68);
  *(float *)(iVar4 + 0xbc) = param_1 * 0.9;
  *(float *)(iVar4 + 0xc0) = fVar10;
  *(float *)(*(int *)(*(int *)(iVar4 + 0xa3) + 4) + 0xf3) =
       (float)((float10)*(float *)(iVar4 + 0x37) + fVar8 * (float10)local_70);
  *(float *)(*(int *)(*(int *)(iVar4 + 0xa3) + 4) + 0xf7) =
       *(float *)(iVar4 + 0x3b) + *(float *)(iVar4 + 0x8b);
  *(float *)(*(int *)(*(int *)(iVar4 + 0xa3) + 4) + 0xfb) =
       *(float *)(iVar4 + 0x3f) + *(float *)(iVar4 + 0x8f);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0047ef80(float param_1,float param_2)

{
  double dVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  float10 fVar8;
  undefined local_90 [32];
  float local_70;
  float local_6c;
  float local_68;
  float local_50 [8];
  float local_30;
  float local_28;
  undefined4 uStack_24;
  float *pfStack_20;
  undefined *puStack_1c;
  undefined8 uStack_18;
  float fVar9;
  
  iVar3 = (int)param_1;
  AdjustStackForLargeAllocations();
  iVar4 = *(int *)((int)param_2 + 0x13) + 0x8d;
  *(float *)(*(int *)(*(int *)((int)param_1 + 0xa3) + 4) + 0x104) = param_1;
  if (*(int *)((int)param_1 + 0xa3) == DAT_005e45e8) {
    DAT_004d7a40 = 1;
    *(int *)(DAT_005e45e4 + 0x2b9) = (int)param_1 + 7;
  }
  fVar9 = 0.0;
  iVar5 = *(int *)((int)param_1 + 0xa3);
  uVar2 = *(uint *)(*(int *)(iVar5 + 4) + 0xc9);
  param_2 = *(float *)((int)param_1 + 0xbc);
  param_1 = *(float *)((int)param_1 + 0xc0);
  if ((iVar5 == DAT_005e45e8) &&
     ((((DAT_005de238 != 0 || (DAT_005de644 != 0)) || (DAT_005de234 != 0)) || (DAT_005de640 != 0))))
  {
    if (DAT_005de238 == 0) {
      if (DAT_005de644 != 0) {
        param_1 = (float)DAT_005de644 * 2.5e-05;
        fVar9 = (float)DAT_005de644 * 0.0001;
      }
    }
    else {
      param_1 = _DAT_004d18f0 * (float)DAT_005de238;
      fVar9 = _DAT_004d18f4 * (float)DAT_005de238;
    }
    if (DAT_005de234 == 0) {
      if (DAT_005de640 != 0) {
        DAT_00598e40 = '\x01';
        param_2 = param_2 - (float)DAT_005de640 * -0.0001;
      }
    }
    else {
      DAT_00598e40 = '\x01';
      param_2 = (float)DAT_005de234 * _DAT_004d18f0 + param_2;
      if (param_2 <= 0.8) {
        if (param_2 < -0.8) {
          param_2 = -0.8;
        }
      }
      else {
        param_2 = 0.8;
      }
    }
  }
  else {
    if ((uVar2 & 4) != 0) {
      param_1 = param_1 - 0.04;
      fVar9 = -0.1;
    }
    if ((uVar2 & 8) != 0) {
      fVar9 = fVar9 - -0.1;
      param_1 = param_1 - -0.04;
    }
    if ((uVar2 & 1) != 0) {
      if (iVar5 == DAT_005e45e8) {
        DAT_00598e40 = '\0';
      }
      param_2 = param_2 - 0.1;
    }
    if ((uVar2 & 2) != 0) {
      if (*(int *)(iVar3 + 0xa3) == DAT_005e45e8) {
        DAT_00598e40 = '\0';
      }
      param_2 = param_2 - -0.1;
    }
  }
  if ((*(float *)(DAT_00598d90 + 0x108) < *(float *)(iVar3 + 0x3b)) &&
     ((*(byte *)(*(int *)(*(int *)(iVar3 + 0xa3) + 4) + 0x8a) & 4) == 0)) {
    *(undefined4 *)(iVar3 + 0x97) = 4;
    iVar5 = *(int *)(*(int *)(iVar3 + 0xa3) + 4);
    *(uint *)(iVar5 + 0x8a) = *(uint *)(iVar5 + 0x8a) & 0xffdfffff;
    uStack_18._4_4_ = *(float *)(*(int *)(iVar3 + 0xa3) + 4);
    uStack_18._0_4_ = (float *)0x47f1d9;
    FUN_004184b0();
  }
  if ((*(int *)(iVar3 + 0xa3) != DAT_005e45e8) || (DAT_00598e40 != '\x01')) {
    param_2 = param_2 * 0.9;
  }
  pfVar6 = (float *)&DAT_004d1ae0;
  pfVar7 = local_50;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *pfVar7 = *pfVar6;
    pfVar6 = pfVar6 + 1;
    pfVar7 = pfVar7 + 1;
  }
  dVar1 = (double)fVar9;
  puStack_1c = (undefined *)0x47f22f;
  uStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae0c4();
  local_50[0] = (float)fVar8;
  puStack_1c = (undefined *)0x47f23c;
  uStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae0c4();
  local_28 = (float)fVar8;
  puStack_1c = (undefined *)0x47f249;
  uStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae014();
  local_50[2] = (float)-fVar8;
  puStack_1c = (undefined *)0x47f258;
  uStack_18 = dVar1;
  fVar8 = (float10)FUN_004ae014();
  local_30 = (float)fVar8;
  iVar5 = iVar3 + 7;
  uStack_18._0_4_ = local_50;
  pfStack_20 = (float *)0x47f26c;
  puStack_1c = (undefined *)iVar5;
  uStack_18._4_4_ = (float)iVar5;
  MultiplyMatrices();
  pfStack_20 = local_50;
  uStack_18._0_4_ = (float *)0x0;
  puStack_1c = (undefined *)param_2;
  uStack_24 = 0x47f282;
  uStack_18._4_4_ = param_1 * 0.9;
  FUN_0040bee0();
  uStack_18._0_4_ = local_50;
  puStack_1c = local_90;
  pfStack_20 = (float *)0x47f296;
  uStack_18._4_4_ = (float)iVar5;
  MultiplyMatrices();
  *(float *)(iVar3 + 0x87) = *(float *)(iVar4 + 0x18) * local_70;
  *(float *)(iVar3 + 0x8b) = *(float *)(iVar4 + 0x1c) * local_6c;
  fVar9 = *(float *)(iVar4 + 0x20);
  *(float *)(iVar3 + 0xbc) = param_2;
  *(float *)(iVar3 + 0xc0) = param_1 * 0.9;
  *(float *)(iVar3 + 0x8f) = fVar9 * local_68;
  *(float *)(*(int *)(*(int *)(iVar3 + 0xa3) + 4) + 0xf3) =
       *(float *)(iVar3 + 0x37) + *(float *)(iVar3 + 0x87);
  *(float *)(*(int *)(*(int *)(iVar3 + 0xa3) + 4) + 0xf7) =
       *(float *)(iVar3 + 0x8b) + *(float *)(iVar3 + 0x3b);
  *(float *)(*(int *)(*(int *)(iVar3 + 0xa3) + 4) + 0xfb) =
       *(float *)(iVar3 + 0x3f) + *(float *)(iVar3 + 0x8f);
  return;
}



undefined4 FUN_0047f330(int param_1)

{
  int iVar1;
  char *pcVar2;
  
  iVar1 = 0;
  pcVar2 = DAT_005cff48;
  do {
    if (*pcVar2 != '\0') {
      *(char *)(param_1 + 0x22) = (char)iVar1 + '\x01';
      return 1;
    }
    iVar1 = iVar1 + 1;
    pcVar2 = pcVar2 + 5;
  } while (iVar1 < 8);
  return 0;
}



void FUN_0047f360(int *param_1,int param_2,int param_3)

{
  float10 fVar1;
  undefined4 *local_1c;
  int local_18;
  undefined4 ***local_14;
  undefined4 ***local_10;
  int iVar2;
  int iVar3;
  undefined4 ***pppuVar4;
  
  AdjustStackForLargeAllocations();
  local_1c = *(undefined4 **)(param_3 + 0x20);
  local_18 = *(undefined4 *)(*(int *)(param_2 + 4) + 0xf7);
  local_10 = (undefined4 ***)&local_1c;
  local_14 = (undefined4 ***)0x47f396;
  FUN_0045eab0();
  iVar2 = *(int *)(param_3 + 0x24);
  pppuVar4 = *(undefined4 ****)(param_3 + 0x28);
  local_10 = (undefined4 ***)&local_1c;
  local_14 = &local_10;
  local_18 = 0x47f3b8;
  fVar1 = (float10)FUN_0045eba0();
  if (((*(uint *)(*(int *)(param_2 + 4) + 0x8a) & 0x20000000) == 0) && (DAT_004d867c == 0)) {
    if ((float10)0.8 < fVar1) {
      local_14 = *(undefined4 ****)(param_3 + 0x28);
      iVar3 = *(int *)(param_3 + 0x24);
    }
    else {
      local_14 = *(undefined4 ****)(param_3 + 0x28);
      iVar3 = *(int *)(*(int *)(param_2 + 4) + 0xf7);
    }
  }
  else {
    iVar3 = local_18;
    if (fVar1 < (float10)0.0045) goto LAB_0047f41e;
  }
  iVar2 = iVar3;
  pppuVar4 = local_14;
LAB_0047f41e:
  local_10 = &local_10;
  local_14 = (undefined4 ***)0x47f427;
  FUN_0045eab0();
  *param_1 = (int)local_10;
  param_1[1] = iVar2;
  param_1[2] = (int)pppuVar4;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0047f450(void)

{
  _DAT_005bcb44 = 0;
  _DAT_005bcb40 = 0;
  DAT_005bcb4c = 0x10;
  DAT_005bcb48 = 0x10;
  return 1;
}



void FUN_0047f480(void)

{
  if (DAT_004d1934 == 0) {
    DAT_00598e44 = DAT_00598e44 + -1;
    if (DAT_00598e44 == -1) {
      DAT_00598e44 = '\x01';
      DAT_004d1934 = 1;
    }
  }
  else {
    DAT_00598e44 = DAT_00598e44 + '\x01';
    if (DAT_00598e44 == '\b') {
      DAT_00598e44 = 7;
      DAT_004d1934 = 0;
      return;
    }
  }
  return;
}



undefined4 FUN_0047f4d0(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 0x6a;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x6a);
  DAT_00598e5c = _memset(_Dst,_Val,_Size);
  if (DAT_00598e5c == (void *)0x0) {
    return 0;
  }
  if (DAT_00598944 != 0) {
    if (DAT_005df2f8 != 1) {
      if (DAT_005df2f8 != 2) {
        DAT_00598e64 = 3;
        DAT_00598e68 = 0x40400000;
        return 1;
      }
      DAT_00598e64 = 6;
      DAT_00598e68 = 0x40c00000;
      return 1;
    }
    DAT_00598e64 = 4;
    DAT_00598e68 = 0x402ccccd;
  }
  return 1;
}



undefined4 FUN_0047f560(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  float fVar3;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df2f8 == 1) {
    if (DAT_00598944 == 0) {
      fVar3 = 49.0;
    }
    else {
      fVar3 = (float)(DAT_00598e64 + 0x31);
    }
    uVar2 = 0x41f00000;
    uVar1 = 0x42540000;
  }
  else if (DAT_005df2f8 == 2) {
    if (DAT_00598944 == 0) {
      fVar3 = 30.0;
    }
    else {
      fVar3 = (float)(DAT_00598e64 + 0x1e);
    }
    uVar2 = 0x41a00000;
    uVar1 = 0x42000000;
  }
  else {
    if (DAT_00598944 == 0) {
      fVar3 = 59.0;
    }
    else {
      fVar3 = (float)(DAT_00598e64 + 0x3b);
    }
    uVar2 = 0x42340000;
    uVar1 = 0x427c0000;
  }
  FUN_00481120(uVar1,fVar3,uVar2,0x168,&DAT_005bbfe0);
  FUN_0047f650();
  FUN_0047f6a0();
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0047f650(void)

{
  int iVar1;
  uint *puVar2;
  uint *puVar3;
  int iVar4;
  
  DAT_005bbfa0 = 0xffff;
  _DAT_005bbfa4 = 0xf300;
  _DAT_005bbfa8 = 0x7e0;
  iVar4 = 6;
  puVar2 = &DAT_005bbfac;
  do {
    puVar3 = puVar2 + 1;
    iVar1 = iVar4 + 0x16;
    iVar4 = iVar4 + 2;
    *puVar2 = (uint)*(ushort *)(s_EXITING_MOVIE_PLAYER_004d2cd4 + iVar1);
    puVar2 = puVar3;
  } while ((int)puVar3 < 0x5bbfcc);
  return;
}



undefined4 FUN_0047f6a0(void)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  undefined2 *puVar4;
  undefined2 *puVar5;
  int *unaff_ESI;
  undefined *puVar6;
  uint uVar7;
  undefined4 local_90;
  undefined4 local_8c;
  uint local_88;
  uint local_84;
  int local_80;
  undefined2 *local_6c;
  undefined4 uStackY_3c;
  undefined4 uStackY_34;
  int **ppiStackY_30;
  undefined4 local_28;
  int *local_24;
  undefined4 local_20;
  int iVar8;
  undefined *puVar9;
  int iVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  local_24 = DAT_005e72fc;
  iVar10 = 0;
  if ((-(DAT_00598944 != 0) & 8U) == 0xfd) {
    return 1;
  }
  puVar6 = &DAT_005bbf94;
  iVar11 = 0xc;
  while( true ) {
    local_20 = 0x47f710;
    _memset(&local_90,0,0x6c);
    local_90 = 0x6c;
    local_8c = 7;
    local_28 = 0x800;
    if ((DAT_005df2ec == 0) || (local_88 = 4, *(int *)(DAT_005e5010 + 0x790) == 0)) {
      local_88 = 2;
    }
    local_84 = local_88;
    iVar2 = FUN_00413f70();
    if (iVar2 != 0) {
      return 0;
    }
    local_20 = 0x47f77f;
    _memset(&local_90,0,0x6c);
    local_90 = 0x6c;
    puVar9 = (undefined *)0x0;
    iVar8 = 1;
    local_20 = 0;
    local_28 = 0x47f79e;
    local_24 = unaff_ESI;
    iVar2 = (**(code **)(*unaff_ESI + 100))();
    if (iVar2 != 0) {
      return 0;
    }
    uVar1 = *(undefined4 *)(puVar6 + iVar11);
    uVar7 = 0;
    puVar5 = local_6c;
    if (local_84 != 0) {
      do {
        uVar3 = 0;
        puVar4 = puVar5;
        if (local_88 != 0) {
          do {
            *puVar4 = (short)uVar1;
            uVar3 = uVar3 + 1;
            puVar4 = puVar4 + 1;
          } while (uVar3 < local_88);
        }
        uVar7 = uVar7 + 1;
        puVar5 = puVar5 + (local_80 >> 1);
      } while (uVar7 < local_84);
    }
    local_28 = 0;
    ppiStackY_30 = (int **)0x47f7fc;
    iVar2 = (**(code **)(*unaff_ESI + 0x80))();
    if (iVar2 != 0) break;
    ppiStackY_30 = &local_24;
    uStackY_34 = 8;
    uStackY_3c = 0x47f80f;
    puVar6 = puVar9;
    (**(code **)(*unaff_ESI + 0x74))();
    *(int **)(DAT_00598e5c + iVar11) = unaff_ESI;
    iVar10 = iVar10 + 1;
    iVar11 = iVar11 + 4;
    if (iVar8 <= iVar10) {
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_0047f860(void)

{
  return 1;
}



uint FUN_0047f870(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int *unaff_ESI;
  undefined4 *unaff_EDI;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  int local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 uStackY_4c;
  undefined4 uStackY_44;
  undefined4 uStackY_40;
  int *piStackY_3c;
  undefined4 uStackY_38;
  undefined4 uStackY_34;
  undefined4 uStackY_2c;
  undefined *puStackY_28;
  int *piVar2;
  
  AdjustStackForLargeAllocations();
  _memset(&local_88,0,0x6c);
  local_88 = 0x6c;
  local_84 = 7;
  local_7c = param_2;
  local_80 = param_3;
  FUN_0044b620();
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return 0;
  }
  piVar2 = (int *)&stack0xffffffe4;
  (**(code **)*unaff_EDI)();
  puStackY_28 = (undefined *)0x47f912;
  _memset(&local_f4,0,0x6c);
  local_8c = (-(uint)(DAT_005e58d0 != 0) & 0x3800) + 0x4001800;
  local_f4 = 0x6c;
  local_f0 = 7;
  local_e8 = param_2;
  local_ec = param_3;
  FUN_0044b620();
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return 0;
  }
  puStackY_28 = (undefined *)0x47f992;
  iVar1 = (**(code **)*unaff_ESI)();
  if (iVar1 != 0) {
    return 0;
  }
  puStackY_28 = &stack0xffffffe8;
  uStackY_2c = 8;
  uStackY_34 = 0x47f9ad;
  iVar1 = (**(code **)(*unaff_ESI + 0x74))();
  if (iVar1 != 0) {
    return 0;
  }
  uStackY_34 = 0;
  uStackY_38 = 0x1000000;
  piStackY_3c = (int *)0x0;
  uStackY_44 = 0;
  uStackY_4c = 0x47f9d1;
  FUN_00424d60();
  piStackY_3c = piVar2;
  uStackY_34 = param_1;
  uStackY_38 = *(undefined4 *)(DAT_005e5010 + 8);
  uStackY_40 = 0x47f9eb;
  iVar1 = (**(code **)(*piStackY_3c + 0x10))();
  return ~-(uint)(iVar1 != 0) & (uint)unaff_ESI;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0047fa00(void)

{
  int *piVar1;
  uint uVar2;
  bool bVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  float *pfVar9;
  int iVar10;
  undefined4 *puVar11;
  longlong lVar12;
  undefined4 local_70 [12];
  float local_40;
  float local_38;
  undefined4 uStack_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float *local_20;
  float *local_1c;
  float *local_18;
  float *local_14;
  undefined4 uVar13;
  undefined4 uVar14;
  float fVar15;
  short sVar16;
  uint uVar17;
  
  AdjustStackForLargeAllocations();
  local_18 = (float *)0x0;
  uVar17 = 0;
  if (DAT_004d83a4 != 0) {
    uVar17 = (uint)*(ushort *)(DAT_004d83a4 + 0x60);
  }
  local_14 = (float *)0x0;
  if (DAT_005b935c != 0) {
    DAT_00598e58 = DAT_00598e58 + 1;
    DAT_00598e60 = DAT_00598e60 + 1;
    if (0x3b < DAT_00598e60) {
      DAT_00598e60 = 0;
    }
    if (DAT_00598e58 == 4) {
      DAT_00598e58 = 0;
    }
    DAT_00598e5c[0x19] = (float)(uint)(DAT_00598e5c[0x19] == 0.0);
    *(short *)(DAT_00598e5c + 0x1a) = *(short *)(DAT_00598e5c + 0x1a) + 10;
    if (0x166 < *(ushort *)(DAT_00598e5c + 0x1a)) {
      *(undefined2 *)(DAT_00598e5c + 0x1a) = 0;
    }
  }
  fVar15 = 0.0;
  DAT_00598e54 = 0;
  DAT_00598e50 = 0;
  piVar1 = *(int **)(DAT_005df318 + 4);
  local_2c = 0.0;
  local_28 = (float)0;
  while (piVar1 != (int *)0x0) {
    uVar2 = *(uint *)(*piVar1 + 0x8a);
    if ((uVar2 & 0x400000) == 0) {
      piVar1 = *(int **)((int)piVar1 + 0x1a);
    }
    else {
      uVar13 = local_28;
      fVar15 = local_2c;
      if (((DAT_00598944 != 0) || (*(char *)(piVar1[1] + 0x189) != '\0')) ||
         (piVar1 == *(int **)(DAT_005df318 + 4))) {
        if ((uVar2 & 1) == 0) {
          if (local_18 != (float *)0x0) {
            pfVar9 = (float *)piVar1[1];
            bVar3 = true;
            if (((*(uint *)((int)pfVar9 + 0x8a) & 2) != 0) &&
               (2 < *(int *)((int)pfVar9[0x40] + 0x48))) {
              bVar3 = false;
            }
            if ((bVar3) && ((*(uint *)((int)pfVar9 + 0x8a) & 0x200) == 0)) {
              puVar8 = (undefined4 *)(*piVar1 + 6);
              puVar11 = local_70;
              local_14 = pfVar9;
              for (iVar7 = 0x10; fVar5 = local_38, fVar4 = local_40, iVar7 != 0; iVar7 = iVar7 + -1)
              {
                *puVar11 = *puVar8;
                puVar8 = puVar8 + 1;
                puVar11 = puVar11 + 1;
              }
              local_18 = &local_24;
              local_1c = &local_30;
              local_20 = (float *)local_38;
              local_24 = local_40;
              local_30 = 6.610651e-39;
              uVar13 = local_28;
              fVar15 = local_2c;
              iVar7 = FUN_00480850();
              local_30 = fVar15;
              local_2c = (float)uVar13;
              uVar13 = local_2c;
              fVar15 = local_30;
              if (iVar7 != 0) {
                local_18 = (float *)piVar1[1];
                local_1c = &local_24;
                local_20 = &local_30;
                local_24 = fVar5;
                local_28 = fVar4;
                uStack_34 = 0x47fbf5;
                local_14 = (float *)iVar7;
                lVar12 = FUN_00480990();
                iVar6 = (int)((ulonglong)lVar12 >> 0x20);
                iVar7 = (int)lVar12;
                if (lVar12 != 0x271000002710) {
                  sVar16 = (short)uVar17;
                  if (DAT_005df2f8 == 1) {
                    if (DAT_00598944 == 0) {
                      local_24 = (float)((iVar7 - sVar16) + 0x32);
                      local_20 = (float *)(iVar6 + 0x2e);
                    }
                    else {
                      local_24 = (float)((iVar7 - sVar16) + 0x35);
                      local_20 = (float *)(iVar6 + 0x31);
                    }
                  }
                  else if (DAT_005df2f8 == 2) {
                    local_24 = (float)(((iVar7 >> 1) - (int)sVar16) + 0x20);
                    local_20 = (float *)((iVar6 >> 1) + 0x1e);
                  }
                  else if (DAT_00598944 == 0) {
                    local_24 = (float)((iVar7 - sVar16) + 0x3c);
                    local_20 = (float *)(iVar6 + 0x38);
                  }
                  else {
                    local_24 = (float)((iVar7 - sVar16) + 0x3f);
                    local_20 = (float *)(iVar6 + 0x3b);
                  }
                  bVar3 = false;
                  if (((*(uint *)(piVar1[1] + 0x8a) & 0x20000) == 0) || (DAT_00598e58 < 3)) {
                    bVar3 = true;
                  }
                  if (bVar3) {
                    local_14 = (float *)0x11;
                    local_18 = (float *)0x0;
                    if (DAT_00598944 == 0) {
                      local_1c = *(float **)(DAT_005dcedc + 0x68);
                    }
                    else {
                      local_1c = (float *)DAT_00598e5c[*(ushort *)(piVar1[1] + 0x1aa) + 6];
                    }
                    local_28 = *(float *)(DAT_005e5010 + 0x7b0);
                    local_2c = 6.611002e-39;
                    FUN_00424e90();
                  }
                }
                local_14 = (float *)((int)local_14 + 1);
              }
            }
          }
        }
        else {
          fVar15 = *(float *)(piVar1[1] + 0x36);
          uVar13 = *(undefined4 *)(piVar1[1] + 0x3e);
          local_30 = -*(float *)(DAT_005e45e4 + 0x54);
          local_2c = 0.0;
          local_28 = -*(float *)(DAT_005e45e4 + 0x74);
          local_24 = -*(float *)(DAT_005e45e4 + 0x4c);
          local_20 = (float *)0x0;
          local_14 = &local_30;
          local_1c = (float *)-*(float *)(DAT_005e45e4 + 0x6c);
          local_18 = (float *)0x47fb4b;
          FUN_0045eab0();
          local_14 = &local_24;
          local_18 = (float *)0x47fb57;
          FUN_0045eab0();
          local_18 = (float *)0x1;
        }
      }
      piVar1 = *(int **)((int)piVar1 + 0x1a);
      local_2c = fVar15;
      local_28 = (float)uVar13;
    }
  }
  _DAT_00598e4c = local_14;
  local_2c = local_28;
  if (DAT_00598e5c[0x19] != 0.0) {
    pfVar9 = (float *)&DAT_005dff13;
    uVar13 = local_28;
    do {
      uVar14 = uVar13;
      if (pfVar9[6] != 0.0) {
        local_20 = (float *)*pfVar9;
        local_18 = &local_24;
        local_14 = (float *)0x0;
        local_1c = &local_30;
        local_24 = pfVar9[-2];
        local_30 = 6.611126e-39;
        local_2c = fVar15;
        local_28 = (float)uVar13;
        local_14 = (float *)FUN_00480850();
        if (local_14 != (float *)0x0) {
          local_24 = *pfVar9;
          local_1c = &local_24;
          local_18 = (float *)0x0;
          local_20 = &local_30;
          local_28 = pfVar9[-2];
          uStack_34 = 0x47fd45;
          local_30 = fVar15;
          local_2c = (float)uVar13;
          lVar12 = FUN_00480990();
          iVar6 = (int)((ulonglong)lVar12 >> 0x20);
          iVar7 = (int)lVar12;
          if (lVar12 != 0x271000002710) {
            sVar16 = (short)uVar17;
            if (DAT_005df2f8 == 1) {
              local_24 = (float)((iVar7 - sVar16) + 0x35);
              local_20 = (float *)(iVar6 + 0x31);
            }
            else if (DAT_005df2f8 == 2) {
              local_24 = (float)(((iVar7 >> 1) - (int)sVar16) + 0x20);
              local_20 = (float *)((iVar6 >> 1) + 0x1e);
            }
            else {
              local_24 = (float)((iVar7 - sVar16) + 0x3f);
              local_20 = (float *)(iVar6 + 0x3b);
            }
            local_14 = (float *)0x11;
            local_18 = (float *)0x0;
            local_1c = (float *)DAT_00598e5c[3];
            local_28 = *(float *)(DAT_005e5010 + 0x7b0);
            local_2c = 6.611328e-39;
            FUN_00424e90();
          }
        }
      }
      pfVar9 = pfVar9 + 0x38;
      local_2c = (float)uVar14;
      uVar13 = uVar14;
    } while ((int)pfVar9 < 0x5e2213);
  }
  sVar16 = (short)uVar17;
  uVar13 = local_2c;
  if (DAT_00598944 == 0) {
    if ((DAT_00598e5c[0x19] != 0.0) && (iVar7 = 0, 0 < DAT_004d86a8)) {
      iVar10 = 0;
      iVar6 = DAT_004d86ac;
      do {
        if (*(int *)(iVar6 + 0x10 + iVar10) == 0) {
          local_14 = (float *)DAT_00598e5c[5];
          local_1c = &local_24;
          local_18 = (float *)0x0;
          local_20 = &local_30;
          local_24 = *(float *)(iVar6 + 0x93 + iVar10);
          local_28 = *(float *)(iVar6 + 0x8b + iVar10);
          uStack_34 = 0x47fe78;
          local_30 = fVar15;
          FUN_00480010();
          iVar6 = DAT_004d86ac;
        }
        sVar16 = (short)uVar17;
        iVar7 = iVar7 + 1;
        iVar10 = iVar10 + 0xe0;
        uVar13 = local_2c;
      } while (iVar7 < DAT_004d86a8);
    }
  }
  else if (DAT_00598e5c[0x19] != 0.0) {
    pfVar9 = (float *)&DAT_005e2213;
    do {
      uVar13 = local_2c;
      if (pfVar9[6] != 0.0) {
        local_1c = &local_24;
        local_14 = (float *)DAT_00598e5c[4];
        local_20 = &local_30;
        local_24 = *pfVar9;
        local_18 = (float *)0x0;
        local_28 = pfVar9[-2];
        uStack_34 = 0x47fe11;
        local_30 = fVar15;
        FUN_00480010();
        uVar13 = local_2c;
      }
      sVar16 = (short)uVar17;
      pfVar9 = pfVar9 + 0x38;
      local_2c = (float)uVar13;
    } while ((int)pfVar9 < 0x5e4513);
  }
  local_1c = &local_24;
  local_14 = (float *)DAT_00598e5c[0xe];
  local_20 = &local_30;
  local_18 = (float *)0x0;
  local_24 = DAT_005d6738;
  local_28 = (float)DAT_005d6730;
  uStack_34 = 0x47febc;
  local_30 = fVar15;
  local_2c = (float)uVar13;
  FUN_00480010();
  local_1c = &local_24;
  local_14 = (float *)DAT_00598e5c[0xf];
  local_20 = &local_30;
  local_18 = (float *)0x0;
  local_24 = DAT_005d6748;
  local_28 = (float)DAT_005d6740;
  uStack_34 = 0x47fee7;
  local_30 = fVar15;
  local_2c = (float)uVar13;
  FUN_00480010();
  if ((DAT_005df2f8 == 1) || (DAT_005df2f8 != 2)) {
    local_20 = (float *)(10 - sVar16);
    local_1c = (float *)0x6;
  }
  else {
    local_1c = (float *)0x3;
    local_20 = (float *)(5 - sVar16);
  }
  if (DAT_00598944 != 0) {
    local_1c = (float *)((int)local_1c + DAT_00598e64);
  }
  if (*(char *)(DAT_004d83a4 + 0x62) == '\0') {
    local_14 = (float *)0x11;
    local_18 = (float *)0x0;
    local_24 = (float)local_20;
    local_20 = local_1c;
    if (*(int *)(DAT_004d83a4 + 0x5c) == 0) {
      local_28 = *(float *)(DAT_005e5010 + 0x7b0);
      local_2c = 6.611969e-39;
      local_1c = (float *)*DAT_00598e5c;
      FUN_00424e90();
    }
    else {
      local_28 = *(float *)(DAT_005e5010 + 0x7b0);
      local_2c = 6.611932e-39;
      local_1c = (float *)DAT_00598e5c[1];
      FUN_00424e90();
    }
  }
  else {
    local_14 = (float *)0x0;
    local_18 = (float *)0x0;
    if (*(int *)(DAT_004d83a4 + 0x5c) == 0) {
      local_24 = *DAT_00598e5c;
    }
    else {
      local_24 = DAT_00598e5c[1];
    }
    local_28 = 6.612027e-39;
    FUN_004173e0();
  }
  if ((DAT_00598e48 != 0) && (DAT_00598e5c[2] != 0.0)) {
    local_14 = (float *)0x11;
    local_18 = (float *)0x0;
    local_28 = *(float *)(DAT_005e5010 + 0x7b0);
    local_20 = (float *)0xe6;
    local_24 = 4.203895e-43;
    local_2c = 6.612107e-39;
    local_1c = (float *)DAT_00598e5c[2];
    FUN_00424e90();
  }
  local_14 = (float *)0x47ffe5;
  FUN_004800e0();
  if (DAT_005b935c != 0) {
    local_14 = (float *)0x47fff3;
    FUN_00480e20();
    DAT_005b935c = 0;
  }
  return;
}



void FUN_00480010(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  short sVar1;
  int iVar2;
  int iVar3;
  longlong lVar4;
  
  AdjustStackForLargeAllocations();
  sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  iVar2 = FUN_00480850(param_1,param_2,param_3,param_4,param_5,param_6,param_7);
  if (iVar2 != 0) {
    lVar4 = FUN_00480990(param_1,param_2,param_3,param_4,param_5,param_6,0,iVar2);
    iVar3 = (int)((ulonglong)lVar4 >> 0x20);
    iVar2 = (int)lVar4;
    if (lVar4 != 0x271000002710) {
      if (DAT_005df2f8 == 1) {
        iVar2 = (iVar2 - sVar1) + 0x35;
        iVar3 = iVar3 + 0x31;
      }
      else if (DAT_005df2f8 == 2) {
        iVar2 = ((iVar2 >> 1) - (int)sVar1) + 0x20;
        iVar3 = (iVar3 >> 1) + 0x1e;
      }
      else {
        iVar2 = (iVar2 - sVar1) + 0x3f;
        iVar3 = iVar3 + 0x3b;
      }
      FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),iVar2,iVar3,param_8,0,0x11);
    }
  }
  return;
}



void FUN_004800e0(void)

{
  short sVar1;
  int iVar2;
  
  sVar1 = 0;
  if (DAT_004d83a4 != 0) {
    sVar1 = *(short *)(DAT_004d83a4 + 0x60);
  }
  iVar2 = 0;
  if (DAT_00598944 != 0) {
    iVar2 = DAT_00598e64;
  }
  if (DAT_00598e50 != 0) {
    if (DAT_005df2f8 == 1) {
      if (((DAT_00598e50 & 1) != 0) && (((DAT_00598e54 & 1) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x28 - sVar1,iVar2 + 0xf,
                     *(undefined4 *)(DAT_00598e5c + 0x40),0,0x11);
      }
      if (((DAT_00598e50 & 2) != 0) && (((DAT_00598e54 & 2) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x42 - sVar1,iVar2 + 0x12,
                     *(undefined4 *)(DAT_00598e5c + 0x44),0,0x11);
      }
      if (((DAT_00598e50 & 4) != 0) && (((DAT_00598e54 & 4) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x52 - sVar1,iVar2 + 0x24,
                     *(undefined4 *)(DAT_00598e5c + 0x48),0,0x11);
      }
      if (((DAT_00598e50 & 8) != 0) && (((DAT_00598e54 & 8) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x42 - sVar1,iVar2 + 0x3e,
                     *(undefined4 *)(DAT_00598e5c + 0x4c),0,0x11);
      }
      if (((DAT_00598e50 & 0x10) != 0) && (((DAT_00598e54 & 0x10) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x28 - sVar1,iVar2 + 0x4e,
                     *(undefined4 *)(DAT_00598e5c + 0x50),0,0x11);
      }
      if (((DAT_00598e50 & 0x20) != 0) && (((DAT_00598e54 & 0x20) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x16 - sVar1,iVar2 + 0x3e,
                     *(undefined4 *)(DAT_00598e5c + 0x54),0,0x11);
      }
      if (((DAT_00598e50 & 0x40) != 0) && (((DAT_00598e54 & 0x40) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x13 - sVar1,iVar2 + 0x24,
                     *(undefined4 *)(DAT_00598e5c + 0x58),0,0x11);
      }
      if (((DAT_00598e50 & 0x80) != 0) && (((DAT_00598e54 & 0x80) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x16 - sVar1,iVar2 + 0x12,
                     *(undefined4 *)(DAT_00598e5c + 0x5c),0,0x11);
        return;
      }
    }
    else if (DAT_005df2f8 == 2) {
      if (((DAT_00598e50 & 1) != 0) && (((DAT_00598e54 & 1) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x19 - sVar1,iVar2 + 9,
                     *(undefined4 *)(DAT_00598e5c + 0x40),0,0x11);
      }
      if (((DAT_00598e50 & 2) != 0) && (((DAT_00598e54 & 2) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x28 - sVar1,iVar2 + 0xb,
                     *(undefined4 *)(DAT_00598e5c + 0x44),0,0x11);
      }
      if (((DAT_00598e50 & 4) != 0) && (((DAT_00598e54 & 4) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x32 - sVar1,iVar2 + 0x17,
                     *(undefined4 *)(DAT_00598e5c + 0x48),0,0x11);
      }
      if (((DAT_00598e50 & 8) != 0) && (((DAT_00598e54 & 8) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x28 - sVar1,iVar2 + 0x26,
                     *(undefined4 *)(DAT_00598e5c + 0x4c),0,0x11);
      }
      if (((DAT_00598e50 & 0x10) != 0) && (((DAT_00598e54 & 0x10) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x19 - sVar1,iVar2 + 0x30,
                     *(undefined4 *)(DAT_00598e5c + 0x50),0,0x11);
      }
      if (((DAT_00598e50 & 0x20) != 0) && (((DAT_00598e54 & 0x20) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0xd - sVar1,iVar2 + 0x26,
                     *(undefined4 *)(DAT_00598e5c + 0x54),0,0x11);
      }
      if (((DAT_00598e50 & 0x40) != 0) && (((DAT_00598e54 & 0x40) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0xb - sVar1,iVar2 + 0x17,
                     *(undefined4 *)(DAT_00598e5c + 0x58),0,0x11);
      }
      if (((DAT_00598e50 & 0x80) != 0) && (((DAT_00598e54 & 0x80) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0xd - sVar1,iVar2 + 0xb,
                     *(undefined4 *)(DAT_00598e5c + 0x5c),0,0x11);
        return;
      }
    }
    else {
      if (((DAT_00598e50 & 1) != 0) && (((DAT_00598e54 & 1) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x2f - sVar1,iVar2 + 0x10,
                     *(undefined4 *)(DAT_00598e5c + 0x40),0,0x11);
      }
      if (((DAT_00598e50 & 2) != 0) && (((DAT_00598e54 & 2) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x4f - sVar1,iVar2 + 0x14,
                     *(undefined4 *)(DAT_00598e5c + 0x44),0,0x11);
      }
      if (((DAT_00598e50 & 4) != 0) && (((DAT_00598e54 & 4) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x62 - sVar1,iVar2 + 0x2b,
                     *(undefined4 *)(DAT_00598e5c + 0x48),0,0x11);
      }
      if (((DAT_00598e50 & 8) != 0) && (((DAT_00598e54 & 8) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x4f - sVar1,iVar2 + 0x4b,
                     *(undefined4 *)(DAT_00598e5c + 0x4c),0,0x11);
      }
      if (((DAT_00598e50 & 0x10) != 0) && (((DAT_00598e54 & 0x10) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x2f - sVar1,iVar2 + 0x5e,
                     *(undefined4 *)(DAT_00598e5c + 0x50),0,0x11);
      }
      if (((DAT_00598e50 & 0x20) != 0) && (((DAT_00598e54 & 0x20) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x18 - sVar1,iVar2 + 0x4b,
                     *(undefined4 *)(DAT_00598e5c + 0x54),0,0x11);
      }
      if (((DAT_00598e50 & 0x40) != 0) && (((DAT_00598e54 & 0x40) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x14 - sVar1,iVar2 + 0x2b,
                     *(undefined4 *)(DAT_00598e5c + 0x58),0,0x11);
      }
      if (((DAT_00598e50 & 0x80) != 0) && (((DAT_00598e54 & 0x80) == 0 || (2 < DAT_00598e58)))) {
        FUN_00424e90(*(undefined4 *)(DAT_005e5010 + 0x7b0),0x18 - sVar1,iVar2 + 0x14,
                     *(undefined4 *)(DAT_00598e5c + 0x5c),0,0x11);
      }
    }
  }
  return;
}



undefined4
FUN_00480850(float param_1,float param_2,float param_3,float param_4,undefined4 param_5,
            undefined4 param_6,int param_7)

{
  undefined4 uVar1;
  float10 fVar2;
  float10 fVar3;
  double dVar4;
  
  AdjustStackForLargeAllocations();
  fVar2 = (float10)FUN_004ad3c0((double)(param_1 - param_3));
  dVar4 = (double)(param_2 - param_4);
  fVar3 = (float10)FUN_004ad3c0(dVar4);
  if (fVar3 < (float10)80.0 && fVar2 < (float10)80.0) {
    FUN_0045eab0();
    uVar1 = FUN_00480bc0(param_5,&stack0xfffffff0,param_6,param_7);
    return uVar1;
  }
  if (param_7 != 0) {
    fVar2 = (float10)FUN_004ad3c0((double)(float)((ulonglong)dVar4 >> 0x20));
    fVar3 = (float10)FUN_004ad3c0((double)(param_2 - param_4));
    if (fVar3 < (float10)200.0 && fVar2 < (float10)200.0) {
      FUN_0045eab0();
      uVar1 = FUN_00480bc0(param_5,&stack0xfffffff0,param_6,param_7);
      return uVar1;
    }
  }
  return 0;
}



undefined8
FUN_00480990(float param_1,float param_2,float param_3,float param_4,float param_5,
            undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  float fVar1;
  int iVar2;
  int iVar3;
  float10 fVar4;
  float10 fVar5;
  double local_18;
  
  AdjustStackForLargeAllocations();
  local_18 = (double)((param_2 - param_4) * (param_2 - param_4) +
                     (param_1 - param_3) * (param_1 - param_3));
  fVar4 = (float10)FUN_004ad534();
  fVar1 = 1.0 / (float)fVar4;
  local_18 = (double)CONCAT44(fVar1 * (float)&local_18,fVar1 * param_5);
  fVar5 = (float10)FUN_0045eba0();
  local_18 = (double)fVar5;
  fVar5 = (float10)FUN_004af934();
  if (100.0 <= (float)fVar4) {
switchD_00480a49_caseD_4:
    return 0x271000002710;
  }
  switch(param_8) {
  case 1:
    local_18 = (double)fVar5;
    FUN_004ae014();
    local_18 = (double)CONCAT44(0x480a71,local_18._0_4_);
    iVar2 = __ftol();
    local_18 = (double)fVar5;
    FUN_004ae0c4();
    local_18 = (double)CONCAT44(0x480a8b,local_18._0_4_);
    iVar3 = __ftol();
    iVar3 = -iVar3;
    if (DAT_00598944 != 0) {
      return CONCAT44(iVar3 + DAT_00598e64,iVar2);
    }
    goto LAB_00480b8b;
  case 2:
    local_18 = (double)((float10)3.141593 - fVar5);
    FUN_004ae014();
    local_18 = (double)CONCAT44(0x480ad7,local_18._0_4_);
    iVar2 = __ftol();
    local_18 = (double)((float10)3.141593 - fVar5);
    break;
  case 3:
    local_18 = (double)((float10)3.141593 - fVar5);
    FUN_004ae014();
    local_18 = (double)CONCAT44(0x480b04,local_18._0_4_);
    iVar2 = __ftol();
    iVar2 = -iVar2;
    local_18 = (double)((float10)3.141593 - fVar5);
    break;
  case 4:
    local_18 = (double)fVar5;
    FUN_004ae014();
    local_18 = (double)CONCAT44(0x480b5c,local_18._0_4_);
    iVar2 = __ftol();
    iVar2 = -iVar2;
    local_18 = (double)fVar5;
    FUN_004ae0c4();
    local_18 = (double)CONCAT44(0x480b78,local_18._0_4_);
    iVar3 = __ftol();
    iVar3 = -iVar3;
    if (DAT_00598944 != 0) {
      iVar3 = iVar3 + DAT_00598e64;
    }
    goto LAB_00480b8b;
  default:
    goto switchD_00480a49_caseD_4;
  }
  FUN_004ae0c4();
  local_18 = (double)CONCAT44(0x480b20,local_18._0_4_);
  iVar3 = __ftol();
  if (DAT_00598944 != 0) {
    return CONCAT44(iVar3 + DAT_00598e64,iVar2);
  }
LAB_00480b8b:
  return CONCAT44(iVar3,iVar2);
}



undefined4 FUN_00480bc0(float *param_1,float *param_2,float *param_3,int param_4,int param_5)

{
  float *pfVar1;
  float fVar2;
  uint uVar3;
  float fVar4;
  byte bVar5;
  undefined4 uVar6;
  float10 fVar7;
  
  fVar4 = *param_1 * *param_2 + param_1[2] * param_2[2];
  fVar7 = (float10)FUN_004ad534((double)(1.0 - fVar4 * fVar4));
  pfVar1 = param_2 + 2;
  fVar2 = *param_2;
  param_2 = (float *)(float)fVar7;
  if (*param_3 * fVar2 + param_3[2] * *pfVar1 < 0.0) {
    param_2 = (float *)-(float)param_2;
  }
  if ((param_4 == 0) || (param_5 != 0)) goto LAB_00480d99;
  if (0.9239 <= fVar4) {
    DAT_00598e50 = DAT_00598e50 | 1;
    if ((*(uint *)(param_4 + 0x8a) & 0x20000) != 0) {
      DAT_00598e54 = DAT_00598e54 | 1;
    }
    goto LAB_00480d99;
  }
  if (fVar4 <= -0.9239) {
    bVar5 = 0x10;
    goto LAB_00480d67;
  }
  if (0.9239 <= (float)param_2) {
    DAT_00598e50 = DAT_00598e50 | 4;
    if ((*(uint *)(param_4 + 0x8a) & 0x20000) != 0) {
      DAT_00598e54 = DAT_00598e54 | 4;
    }
    goto LAB_00480d99;
  }
  if ((float)param_2 <= -0.9239) {
    bVar5 = 0x40;
    goto LAB_00480d67;
  }
  if ((0.0 < (float)param_2) && (0.0 < fVar4)) {
    DAT_00598e50 = DAT_00598e50 | 2;
    if ((*(uint *)(param_4 + 0x8a) & 0x20000) != 0) {
      DAT_00598e54 = DAT_00598e54 | 2;
    }
    goto LAB_00480d99;
  }
  if (((float)param_2 <= 0.0) || (0.0 <= fVar4)) {
    if (((float)param_2 < 0.0) && (fVar4 < 0.0)) {
      bVar5 = 0x20;
      goto LAB_00480d67;
    }
    bVar5 = 0x80;
    DAT_00598e50 = DAT_00598e50 | 0x80;
    uVar3 = *(uint *)(param_4 + 0x8a);
  }
  else {
    bVar5 = 8;
LAB_00480d67:
    DAT_00598e50 = DAT_00598e50 | bVar5;
    uVar3 = *(uint *)(param_4 + 0x8a);
  }
  if ((uVar3 & 0x20000) != 0) {
    DAT_00598e54 = DAT_00598e54 | bVar5;
  }
LAB_00480d99:
  if ((0.0 < fVar4) && (0.0 < (float)param_2)) {
    return 1;
  }
  if ((fVar4 < 0.0) && (0.0 < (float)param_2)) {
    return 2;
  }
  if ((0.0 <= fVar4) || (uVar6 = 3, 0.0 <= (float)param_2)) {
    uVar6 = 4;
  }
  return uVar6;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00480e20(void)

{
  ushort uVar1;
  short sVar2;
  int iVar3;
  undefined4 uVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int iVar9;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  sVar2 = *(short *)(DAT_004d83a4 + 0x60);
  fVar5 = (float)(int)sVar2;
  fVar10 = 0.0;
  if (DAT_00598944 != 0) {
    fVar10 = DAT_00598e68;
  }
  iVar3 = *(int *)(DAT_004d83a4 + 4);
  if (DAT_005df2f8 == 1) {
    fVar6 = 15.0;
    fVar7 = 12.0;
    fVar8 = 75.0;
  }
  else if (DAT_005df2f8 == 2) {
    fVar6 = 9.0;
    fVar7 = 7.0;
    fVar8 = 44.0;
  }
  else {
    fVar6 = 18.0;
    fVar7 = 14.0;
    fVar8 = 88.0;
  }
  if (DAT_004d0420 == 0) {
    _memset((void *)(iVar3 + 0xb00),0,0x20);
    return;
  }
  if (DAT_005d66a4 == 0) {
    *(float *)(iVar3 + 0xb00) = fVar6 - fVar5;
    *(float *)(iVar3 + 0xb04) = fVar7 + fVar10;
    *(undefined4 *)(iVar3 + 0xb18) = DAT_005dda90;
    *(undefined4 *)(iVar3 + 0xb1c) = _DAT_005dda10;
    *(undefined4 *)(iVar3 + 0xb10) = 0x7fffffff;
    fVar6 = fVar8 + fVar10 + *(float *)(iVar3 + 0xb04);
    fVar7 = (fVar8 + *(float *)(iVar3 + 0xb00)) - fVar5;
    *(undefined4 *)(iVar3 + 0xb24) = *(undefined4 *)(iVar3 + 0xb04);
    *(float *)(iVar3 + 0xb20) = fVar7;
    *(undefined4 *)(iVar3 + 0xb38) = _DAT_005ddad0;
    *(undefined4 *)(iVar3 + 0xb3c) = _DAT_005dda10;
    *(float *)(iVar3 + 0xb40) = fVar7;
    *(undefined4 *)(iVar3 + 0xb30) = 0x7fffffff;
    *(float *)(iVar3 + 0xb44) = fVar6;
    *(undefined4 *)(iVar3 + 0xb58) = _DAT_005ddad0;
    uVar4 = _DAT_005ddb10;
    *(float *)(iVar3 + 0xb60) = *(float *)(iVar3 + 0xb00) - fVar5;
    *(undefined4 *)(iVar3 + 0xb5c) = uVar4;
    *(undefined4 *)(iVar3 + 0xb50) = 0x7fffffff;
    *(float *)(iVar3 + 0xb64) = fVar6;
    *(undefined4 *)(iVar3 + 0xb78) = DAT_005dda90;
    uVar4 = _DAT_005ddb10;
    *(undefined4 *)(iVar3 + 0xb70) = 0x7fffffff;
    *(undefined4 *)(iVar3 + 0xb7c) = uVar4;
  }
  if (DAT_005df2f8 == 1) {
    fVar5 = 53.0;
    fVar10 = fVar10 - -49.0;
  }
  else if (DAT_005df2f8 == 2) {
    fVar5 = 32.0;
    fVar10 = fVar10 - -30.0;
  }
  else {
    fVar5 = 63.0;
    fVar10 = fVar10 - -59.0;
  }
  fVar6 = (float)(int)sVar2;
  *(float *)(iVar3 + 0xb84) = fVar10;
  *(undefined4 *)(iVar3 + 0xb90) = 0x7fffffff;
  *(undefined4 *)(iVar3 + 0xb98) = 0x3f6e147b;
  *(undefined4 *)(iVar3 + 0xb9c) = 0x3f6e147b;
  *(float *)(iVar3 + 0xb80) = fVar5 - fVar6;
  *(float *)(iVar3 + 0xba0) =
       *(float *)(&DAT_005bbfe0 + (uint)*(ushort *)(DAT_00598e5c + 0x68) * 8) - fVar6;
  uVar4 = *(undefined4 *)(&DAT_005bbfe4 + (uint)*(ushort *)(DAT_00598e5c + 0x68) * 8);
  *(undefined4 *)(iVar3 + 3000) = 0x3f6e147b;
  *(undefined4 *)(iVar3 + 0xba4) = uVar4;
  *(undefined4 *)(iVar3 + 0xbbc) = 0x3f6e147b;
  if (DAT_005d6644 == 0) {
    *(undefined4 *)(iVar3 + 0xbb0) = 0x7f000000;
  }
  else {
    *(undefined4 *)(iVar3 + 0xbb0) = 0x7fffffff;
  }
  uVar1 = *(ushort *)(DAT_00598e5c + 0x68);
  if (uVar1 < 0x14f) {
    iVar9 = uVar1 + 0x19;
  }
  else {
    iVar9 = uVar1 - 0x14f;
  }
  *(float *)(iVar3 + 0xbc0) = *(float *)(&DAT_005bbfe0 + iVar9 * 8) - fVar6;
  uVar4 = *(undefined4 *)(&DAT_005bbfe4 + iVar9 * 8);
  *(undefined4 *)(iVar3 + 0xbd8) = 0x3f6e147b;
  *(undefined4 *)(iVar3 + 0xbc4) = uVar4;
  *(undefined4 *)(iVar3 + 0xbdc) = 0x3f6e147b;
  if (DAT_005d6644 == 0) {
    *(undefined4 *)(iVar3 + 0xbd0) = 0x7fffffff;
    return;
  }
  *(undefined4 *)(iVar3 + 0xbd0) = 0x7f000000;
  return;
}



void FUN_00481120(float param_1,float param_2,float param_3,int param_4,float *param_5)

{
  float unaff_ESI;
  float unaff_EDI;
  float10 fVar1;
  
  AdjustStackForLargeAllocations();
  if (0 < param_4) {
    do {
      fVar1 = (float10)FUN_004ae014((double)unaff_EDI);
      *param_5 = (float)(fVar1 * (float10)param_3 + (float10)param_1);
      fVar1 = (float10)FUN_004ae0c4((double)unaff_EDI);
      unaff_EDI = unaff_ESI + unaff_EDI;
      param_5[1] = (float)((float10)param_2 - fVar1 * (float10)param_3);
      param_5 = param_5 + 2;
      param_4 = param_4 + -1;
    } while (param_4 != 0);
  }
  return;
}



void FUN_004811b0(void)

{
  if (DAT_00598e5c != 0) {
    FreeMemory(DAT_00598e5c);
    DAT_00598e5c = 0;
  }
  return;
}



undefined4 FUN_004811d0(void)

{
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004811e0(void)

{
  ushort *puVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  byte bVar7;
  uint uVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  int *local_30;
  
  AdjustStackForLargeAllocations();
  DAT_00598f2c = 0;
  _DAT_005e4488 = FUN_004858c0();
  switch(_DAT_005e4488) {
  case 1:
    iVar5 = FUN_0048da70();
    if (iVar5 == 0x12) {
      FUN_0048daa0();
    }
    if (DAT_00598d44 != '\0') {
      if (DAT_00598fcc != '\0') {
        FUN_00412840();
        DAT_00598fcc = '\0';
      }
      FUN_00414bb0();
      FUN_00428d60();
      FUN_00414850();
      return 1;
    }
    break;
  case 2:
    WaitForSingleObject(HANDLE_005d664c,30000);
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x1f8);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x238);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 8);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x278);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    if (((DAT_00598944 != 0) && (DAT_00598924 == 0)) && (*DAT_005d7824 != 0)) {
      FUN_004749b0();
    }
    piVar6 = *(int **)(DAT_005df318 + 4);
    while (piVar6 != (int *)0x0) {
      if ((DAT_00598944 == 0) || ((*(byte *)(piVar6[1] + 0x8f) & 0x80) == 0)) {
        iVar5 = piVar6[1];
        if ((*(uint *)(iVar5 + 0x8a) & 0x400000) == 0) {
          *(undefined4 *)(*piVar6 + 0x8a) = *(undefined4 *)(iVar5 + 0x8a);
        }
        else {
          *(ushort *)(iVar5 + 0x8e) = *(ushort *)(iVar5 + 0x8e) & 0xf7ff;
          if ((DAT_004d1ad8 == 0) && (cVar2 = FUN_004a9ad5(), cVar2 != '\0')) {
            *(ushort *)(piVar6[1] + 0x8e) = *(ushort *)(piVar6[1] + 0x8e) | 0x800;
          }
          FUN_004ad7a0();
          if (piVar6 == *(int **)(DAT_005df318 + 4)) {
            FUN_004ad7a0();
          }
          if (6 < *(byte *)(*piVar6 + 4)) {
            *(undefined *)(*piVar6 + 5) = 0;
          }
        }
        *(int **)((int)piVar6 + 0x1a) = *(int **)((int)piVar6 + 0x16);
        piVar6 = *(int **)((int)piVar6 + 0x16);
      }
      else {
        piVar6 = *(int **)((int)piVar6 + 0x16);
      }
    }
    FUN_0047a1c0();
    FUN_004a1410();
    FUN_004a2200();
    FUN_004266e0();
    FUN_00493dd0();
    FUN_00494f70();
    FUN_0044d5b0();
    uVar8 = 0;
    iVar5 = DAT_00598d90;
    if (*(int *)(DAT_00598d90 + 0x23d) != 0) {
      do {
        piVar6 = *(int **)(*(int *)(*(int *)(*(int *)(iVar5 + 0x241) + uVar8 * 4) + 0x56) + 0x38);
        if ((piVar6 != (int *)0x0) && (*piVar6 != 0)) {
          (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
          iVar5 = DAT_00598d90;
        }
        uVar8 = uVar8 + 1;
      } while (uVar8 < *(uint *)(iVar5 + 0x23d));
    }
    SetEvent(HANDLE_005d664c);
    FUN_004a2660();
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    if (((DAT_00599070 != (short *)0x0) && (_DAT_00598f00 != 0)) && (*DAT_00599070 != 0)) {
      _DAT_00598f00 = 0;
      FUN_00493530();
    }
    if ((DAT_004d03fc != 0) || (DAT_004d0400 != 0)) {
      iVar5 = 0;
      if (0 < DAT_005ba504) {
        do {
          FUN_00483340();
          iVar5 = iVar5 + 1;
        } while (iVar5 < DAT_005ba504);
      }
      FUN_004849a0();
    }
    DAT_005bb220 = 0;
    FUN_004aba00();
    if (((DAT_004d0404 != 0) || (DAT_004d0408 != 0)) && (FUN_00484230(), DAT_004d0408 != 0)) {
      FUN_00479210();
      FUN_004a6d40();
    }
    if (DAT_004d0424 != 0) {
      FUN_004790d0();
      FUN_004a2380();
    }
    FUN_00485a70();
    FUN_0049cbf0();
    if (DAT_005e72d0 != 0) {
      local_30 = (int *)0x481b2d;
      FUN_004ae1a0();
    }
    FUN_004a26c0();
    if ((DAT_004d1ad8 == 0) && (DAT_004d0420 != 0)) {
      if (DAT_004d0410 != 0) {
        if (DAT_005b935c != 0) {
          FUN_0044d060();
        }
        FUN_0044d300();
      }
      if (DAT_00598e5c != 0) {
        FUN_0047fa00();
      }
    }
    DAT_004d1ad8 = 0;
    if ((DAT_00598944 != 0) && (DAT_004d8268 != 0)) {
      FUN_004375e0();
    }
    if (_DAT_004d8258 != 0) {
      FUN_00489ab0();
      _DAT_004d8258 = 0;
    }
    FUN_004923e0();
    FUN_00414850();
    DAT_005b94c4 = 0;
    DAT_005b94c0 = 0;
    DAT_005b946c = 0;
    iVar5 = FUN_00414bb0();
    if (iVar5 == 0) {
      FUN_00470960();
      return 0;
    }
    _DAT_00598f24 = 1;
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x4c))();
    if (iVar5 != 0) {
      return 0;
    }
    if (DAT_005ba508 == 1) {
      local_30 = (int *)0x481c1d;
      _memset(&local_30,0,0x18);
      local_30 = (int *)0x18;
      iVar5 = 0x481c39;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x1c))();
      DAT_00598f10 = iVar5;
    }
    if (DAT_004d0410 == 0) {
LAB_00481c6c:
      if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
        FUN_00485920();
      }
    }
    else if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
      FUN_0044d600();
      goto LAB_00481c6c;
    }
    FUN_0049cf00();
    FUN_00483db0();
    iVar5 = 0x481c95;
    FUN_00479070();
    if (DAT_005ba508 == 1) {
      local_30 = (int *)0x481cad;
      _memset(&local_30,0,0x18);
      local_30 = (int *)0x18;
      iVar5 = 0x481cca;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x1c))();
      DAT_005b94c4 = iVar5;
      iVar5 = DAT_005b94c4;
    }
    iVar9 = 0;
    if (DAT_004d03fc != 0) {
      if (DAT_00598d80 == 0) {
        if (DAT_00598da8 == 0) {
          bVar7 = 0;
          uVar8 = 0;
          iVar3 = DAT_00598d90;
          if (*(char *)(DAT_00598d90 + 0x238) != '\0') {
            do {
              piVar6 = (int *)(*(int *)(iVar3 + 0x22c) + uVar8 * 4);
              if (*piVar6 != 0) {
                *piVar6 = 0;
                iVar9 = iVar9 + 1;
                local_30 = *(int **)(DAT_005e5010 + 8);
                iVar5 = *(int *)(*(int *)(DAT_00598d90 + 0x228) + uVar8 * 4);
                iVar4 = (**(code **)(*local_30 + 0x20))();
                iVar3 = DAT_00598d90;
                if (iVar4 != 0) {
                  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
                  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
                  return 0;
                }
              }
              bVar7 = bVar7 + 1;
              uVar8 = (uint)bVar7;
            } while (bVar7 < *(byte *)(iVar3 + 0x238));
          }
        }
        else {
          iVar3 = FUN_004278f0();
          if (iVar3 != 0) {
            local_30 = *(int **)(DAT_005e5010 + 8);
            iVar5 = DAT_005dfe60;
            iVar3 = (**(code **)(*local_30 + 0x20))();
            if (iVar3 != 0) {
              (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
LAB_00481dd6:
              (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
              return 0;
            }
          }
        }
      }
      else {
        FUN_00485cf0();
      }
    }
    if (DAT_005ba508 == 1) {
      local_30 = (int *)0x481d0a;
      _memset(&local_30,0,0x18);
      local_30 = (int *)0x18;
      iVar5 = 0x481d22;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x1c))();
      DAT_005b94c4 = iVar5 - DAT_005b94c4;
    }
    if (DAT_005ba508 == 1) {
      DAT_005b94c0 = iVar5;
    }
    _DAT_005bbf80 = iVar9;
    if (DAT_004d0400 != 0) {
      local_30 = *(int **)(DAT_005e5010 + 8);
      iVar5 = (**(code **)(*local_30 + 0x20))();
      if (iVar5 != 0) {
        return 0;
      }
      uVar8 = 0;
      if (DAT_00598f2c != 0) {
        puVar10 = &DAT_005b94e0;
        do {
          local_30 = *(int **)(DAT_005e5010 + 8);
          if (puVar10[1] == 0) {
            iVar5 = (**(code **)(*local_30 + 0x20))();
          }
          else {
            iVar5 = (**(code **)(*local_30 + 0x20))();
          }
          if (iVar5 != 0) goto LAB_00481dd6;
          uVar8 = uVar8 + 1;
          puVar10 = puVar10 + 4;
        } while (uVar8 < DAT_00598f2c);
      }
    }
    if (DAT_005ba508 == 1) {
      local_30 = (int *)0x481e03;
      _memset(&local_30,0,0x18);
      local_30 = (int *)0x18;
      iVar5 = 0x481e1b;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x1c))();
      DAT_005b94c0 = iVar5 - DAT_005b94c0;
    }
    FUN_00493800();
    FUN_00494fc0();
    local_30 = *(int **)(DAT_005e5010 + 8);
    iVar5 = DAT_00598d94;
    iVar9 = (**(code **)(*local_30 + 0x20))();
    if (iVar9 != 0) {
      return 0;
    }
    FUN_0048a8f0(*(undefined4 *)(DAT_005df318 + 4));
    if (*(int *)(DAT_005e5010 + 0x2190) != 0) {
      FUN_00485920();
    }
    if ((DAT_004d0410 != 0) && (*(int *)(DAT_005e5010 + 0x2190) != 0)) {
      FUN_0044d600(*(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
    }
    _memset(&local_30,0,0x18);
    local_30 = (int *)0x18;
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x1c))(*(int **)(DAT_005e5010 + 8),&local_30);
    DAT_00598f10 = iVar5 - DAT_00598f10;
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))(*(int **)(DAT_005e5010 + 8));
    _DAT_00598f24 = 0;
    if (DAT_00598fa4 != '\0') {
      DAT_00598fa8 = 1;
      return 1;
    }
    break;
  case 4:
    WaitForSingleObject(HANDLE_005d664c,0xffffffff);
    FUN_004ad7a0();
    FUN_00414850();
    iVar5 = FUN_00414bb0();
    if (iVar5 == 0) {
      FUN_00470960();
      return 0;
    }
    FUN_0045ecb0();
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x1f8);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x238);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 8);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x278);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    if (DAT_004cb05c == 2) {
      local_30 = DAT_005dfe20;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))(*(int **)(DAT_005e5010 + 8));
    }
    local_30 = (int *)0x482223;
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x4c))();
    if (iVar5 != 0) {
      return 0;
    }
    local_30 = *(int **)(DAT_005e5010 + 0xc);
    iVar5 = FUN_0043d7f0(*(undefined4 *)(DAT_005e5010 + 8));
    if (iVar5 == 0) {
      return 0;
    }
    local_30 = *(int **)(DAT_005e5010 + 8);
    (**(code **)(*local_30 + 0x50))();
    if (DAT_004cb05c == 2) {
      FUN_0042f760();
    }
    else if ((DAT_004cb05c == 3) || (DAT_004cb05c == 9)) {
      FUN_004328a0();
      FUN_0042a850();
      FUN_00434550(*(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
      FUN_004923e0();
    }
    if (_DAT_004d8258 != 0) {
      FUN_00489ab0();
      _DAT_004d8258 = 0;
    }
    if (DAT_004d8260 != 0) {
      FUN_0043dcb0(DAT_004d8338,DAT_004d833c,DAT_005bcb48,DAT_005bcb4c,
                   (&DAT_005bcb30)[(int)DAT_00598e44 >> 1]);
    }
    SetEvent(HANDLE_005d664c);
    break;
  case 5:
    WaitForSingleObject(HANDLE_005d664c,0xffffffff);
    for (iVar5 = *(int *)(DAT_005df318 + 4); iVar5 != 0; iVar5 = *(int *)(iVar5 + 0x1a)) {
      puVar1 = (ushort *)(*(int *)(iVar5 + 4) + 0x8e);
      *puVar1 = *puVar1 & 0xf7ff;
      FUN_004ad7a0();
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x1f8);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x238);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 8);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x278);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    SetEvent(HANDLE_005d664c);
    iVar5 = FUN_00414d80();
    if (iVar5 == 0) {
      FUN_00470960();
      return 0;
    }
    DAT_005bb220 = 0;
    FUN_004aba00();
    FUN_00484230();
    if (DAT_004d0408 != 0) {
      FUN_004a6d40();
    }
    FUN_00485a70();
    if (DAT_005e72d0 != 0) {
      local_30 = (int *)0x48166c;
      FUN_004ae1a0();
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x4c))();
    if (iVar5 == 0) {
      FUN_00465a00();
      FUN_00483db0();
      FUN_00485920();
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
      FUN_004923e0();
      FUN_00414850();
      return 1;
    }
    return 0;
  case 6:
    FUN_004858f0();
    FUN_00470820();
    FUN_00470800();
    return 1;
  case 7:
    FUN_0043e8e0();
    FUN_0046ac80();
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    goto LAB_004817fb;
  case 8:
    FUN_0046a900();
    if (DAT_00598f20 != 0) {
      FUN_004858f0();
      return 1;
    }
    goto LAB_0048134e;
  case 9:
    FUN_0043e140();
    FUN_00414850();
    FUN_0043e140();
    FUN_0046ac80();
    DAT_005d7846 = 1;
    DAT_005d7845 = 1;
    goto LAB_004817fb;
  case 10:
    iVar5 = FUN_0048da70();
    if (iVar5 == 0x14) {
      FUN_0048daa0();
    }
    if (iVar5 != 0x15) {
      FUN_0043d7f0();
      if (DAT_004d8260 != 0) {
        FUN_0043dcb0();
      }
      FUN_00414850();
      if ((DAT_004d785c != 0) && (DAT_005e58d0 != 0)) {
        (**(code **)(*DAT_005e514c + 0x30))();
        return 1;
      }
      (**(code **)(*DAT_005e514c + 0x30))();
      return 1;
    }
    break;
  case 0xb:
    iVar5 = FUN_0048da70();
    if (iVar5 == 0) {
      WaitForSingleObject(DAT_005d66b4,0xffffffff);
      FUN_004378d0();
      ReleaseMutex(DAT_005d66b4);
      FUN_0048daa0();
      DAT_004cb05c = 0xd;
      DAT_004d8100 = 1;
      DAT_005df2d0 = 1;
      return 1;
    }
    break;
  case 0xe:
    FUN_004858f0();
    FUN_00470820();
    FUN_00470800();
    return 1;
  case 0x10:
    FUN_0043e140();
    FUN_00414850();
    FUN_0046a900();
    FUN_0046ac80();
    goto LAB_004817fb;
  case 0x11:
    DAT_00598f8c = 0;
    _DAT_005e45d4 = 0;
    DAT_00598fac = 0;
    _DAT_00598fb4 = 0;
    DAT_004d24e8 = 100;
    FUN_0046a900();
    FUN_0046ac80();
    goto LAB_004817fb;
  case 0x12:
    DAT_005e45d0 = 1;
    FUN_0046a900();
    FUN_00453440();
    goto LAB_0048134e;
  case 0x13:
    FUN_0043e140();
    FUN_00414850();
    FUN_0043e140();
    FUN_0043e8e0();
    FUN_00492780();
    FUN_0046ac80();
    _DAT_004d1ba0 = 0;
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
LAB_004817fb:
    FUN_004858f0();
    FUN_0048daa0();
    return 1;
  case 0x14:
    WaitForSingleObject(HANDLE_005d664c,0xffffffff);
    iVar5 = *(int *)(DAT_005df318 + 4);
    while (iVar5 != 0) {
      puVar1 = (ushort *)(*(int *)(iVar5 + 4) + 0x8e);
      *puVar1 = *puVar1 & 0xf7ff;
      FUN_004ad7a0();
      FUN_004ad7a0();
      iVar9 = *(int *)(iVar5 + 10);
      *(int *)(iVar5 + 0x1a) = iVar9;
      *(int *)(iVar5 + 0x16) = iVar9;
      iVar5 = iVar9;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x90);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x1f8);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x238);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    puVar10 = (undefined4 *)(DAT_005e45e4 + 8);
    puVar11 = (undefined4 *)(DAT_005e45e4 + 0x278);
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar11 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar11 = puVar11 + 1;
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))();
    if (iVar5 != 0) {
      return 0;
    }
    SetEvent(HANDLE_005d664c);
    iVar5 = FUN_00414bb0();
    if (iVar5 == 0) {
      FUN_00470960();
      return 0;
    }
    DAT_005bb220 = 0;
    FUN_004aba00();
    FUN_00484230();
    if (DAT_004d0408 != 0) {
      FUN_004a6d40();
    }
    if (DAT_005e72d0 != 0) {
      local_30 = (int *)0x4814d5;
      FUN_004ae1a0();
    }
    iVar5 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x4c))();
    if (iVar5 == 0) {
      FUN_00465a00();
      FUN_00483db0();
      FUN_00485920();
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))();
      FUN_004923e0();
      FUN_00414850();
      FUN_004858f0();
      return 1;
    }
    return 0;
  case 0x15:
    FUN_0048daa0();
    FUN_004858f0();
    return 1;
  case 0x16:
    FUN_004858f0();
    FUN_0048daa0();
    return 1;
  case 0x17:
    FUN_00486920();
    FUN_004858f0();
    FUN_0048daa0();
    return 1;
  case 0x18:
    FUN_00486920();
LAB_0048134e:
    FUN_004858f0();
    FUN_0048daa0();
    return 1;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00482470(undefined4 param_1,undefined4 param_2,int *param_3)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  int *unaff_ESI;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  AdjustStackForLargeAllocations();
  FUN_00418380();
  iVar2 = DAT_005e5010;
  puVar4 = &DAT_004d1ae0;
  puVar5 = &DAT_005b9480;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  iVar2 = (**(code **)(**(int **)(iVar2 + 8) + 0x3c))(*(int **)(iVar2 + 8),&DAT_005b9ce8);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),DAT_005b9ce8,&DAT_004d1ae0);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),DAT_005e45e4 + 0x48);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0x48),&DAT_004d1ae0)
  ;
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),DAT_005e45e4 + 0xd0);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0xd0),
                     DAT_005e45e4 + 0x90);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),DAT_005e45e4 + 0x8c);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0x8c),
                     DAT_005e45e4 + 0x4c);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),DAT_005e45e4 + 0x114);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0x114),
                     DAT_005e45e4 + 0xd4);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                    (*(int **)(DAT_005e5010 + 8),&DAT_005b9ce0);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                    (*(int **)(DAT_005e5010 + 8),DAT_005b9ce0,&DAT_004d1ae0);
  if (iVar2 != 0) {
    return 0;
  }
  _memset(&DAT_00598ea8,0,0x14);
  _DAT_00598ea8 = 0x14;
  _DAT_00598eac = 1;
  _DAT_00598eb4 = 0x20;
  iVar2 = (**(code **)(*param_3 + 0x18))
                    (*(undefined4 *)(DAT_005e5010 + 8),&DAT_00598ea8,&stack0xfffffff8,0);
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(*unaff_ESI + 0x10))(unaff_ESI,&DAT_00598ea8);
  puVar1 = DAT_00598eb8;
  if (iVar2 != 0) {
    return 0;
  }
  _memset(DAT_00598eb8,0,0x20);
  *puVar1 = 6;
  puVar1[1] = 8;
  *(undefined2 *)(puVar1 + 2) = 3;
  *(undefined4 *)(puVar1 + 4) = 3;
  *(undefined4 *)(puVar1 + 8) = *(undefined4 *)(DAT_005e45e4 + 0x114);
  *(undefined4 *)(puVar1 + 0xc) = 2;
  *(undefined4 *)(puVar1 + 0x10) = *(undefined4 *)(DAT_005e45e4 + 0x48);
  *(undefined4 *)(puVar1 + 0x14) = 1;
  *(undefined4 *)(puVar1 + 0x18) = DAT_005b9ce0;
  puVar1[0x1c] = 0xb;
  puVar1[0x1d] = 0;
  *(undefined2 *)(puVar1 + 0x1e) = 0;
  (**(code **)(*unaff_ESI + 0x14))(unaff_ESI);
  _memset(&DAT_00598e70,0,0x30);
  _DAT_00598e70 = 0x30;
  _DAT_00598e7c = 0;
  _DAT_00598e80 = 0x20;
  iVar2 = (**(code **)(*unaff_ESI + 0x18))(unaff_ESI,&DAT_00598e70);
  if (iVar2 != 0) {
    return 0;
  }
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x4c))(*(int **)(DAT_005e5010 + 8));
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
                    (*(int **)(DAT_005e5010 + 8),unaff_ESI,*(undefined4 *)(DAT_005e5010 + 0xc),2);
  if (iVar2 != 0) {
    return 0;
  }
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x50))(*(int **)(DAT_005e5010 + 8));
  if ((unaff_ESI != (int *)0x0) && (*unaff_ESI != 0)) {
    (**(code **)(*unaff_ESI + 8))(unaff_ESI);
  }
  return 1;
}



undefined4 FUN_00482800(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  if (*(int *)(DAT_00598d90 + 0x124) == 0) {
    FUN_004906c0();
  }
  else {
    FUN_00490640();
  }
  if (DAT_00598ff0 != 0) {
    FUN_0048e210(param_1,param_2,param_3,param_4);
  }
  FUN_00482880(*(undefined4 *)(DAT_005e5010 + 0x7a4),*(undefined4 *)(DAT_005e5010 + 4),
               *(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e5010 + 0xc));
  if (DAT_00598944 != 0) {
    FUN_004655e0();
  }
  thunk_FUN_004533b0();
  FUN_0046d4e0();
  return 1;
}



uint FUN_00482880(undefined4 param_1,undefined4 param_2,int *param_3)

{
  float fVar1;
  short sVar2;
  int iVar3;
  uint *puVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  bool bVar7;
  int iVar8;
  int *piVar9;
  uint uVar10;
  void *pvVar11;
  int **ppiVar12;
  int iVar13;
  uint uVar14;
  uint *puVar15;
  int iVar16;
  undefined4 *puVar17;
  undefined4 *puVar18;
  undefined4 *puVar19;
  uint uVar20;
  uint local_4b4 [256];
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_94 [2];
  int *local_8c;
  int local_88;
  undefined *local_84;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  int *local_58;
  undefined4 *local_54;
  undefined4 *local_50;
  int local_4c;
  int local_48;
  int local_44;
  int local_40;
  uint local_3c;
  int *_Size;
  int *piVar21;
  int local_28;
  uint local_24;
  int local_20;
  int iVar22;
  short sVar23;
  int iVar24;
  size_t sVar25;
  uint uVar26;
  int iVar27;
  
  AdjustStackForLargeAllocations();
  uVar20 = 0;
  local_40 = 0;
  if (DAT_00598d90 == 0) {
    return 1;
  }
  if (DAT_00598ff0 == (int *)0x0) {
    return 1;
  }
  FUN_00483230();
  uVar14 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar22 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar14 * 4);
      if (((*(byte *)(iVar22 + 0xa1) & 4) == 0) &&
         ((*(int *)(iVar22 + 0x9d) == 0 || ((*(byte *)(*(int *)(iVar22 + 0x9d) + 1) & 0x80) == 0))))
      {
        *(undefined4 *)(*(int *)(iVar22 + 0x56) + 0x34) = 1;
      }
      else {
        *(undefined4 *)(*(int *)(iVar22 + 0x56) + 0x34) = 0;
      }
      uVar14 = uVar14 + 1;
    } while (uVar14 < *(uint *)(DAT_00598d90 + 0x239));
  }
  *(undefined *)(DAT_00598d90 + 0x238) = 0;
  local_44 = 0;
  uVar14 = 0;
  _Size = (int *)0x1;
  local_48 = 0;
  do {
    puVar15 = local_4b4;
    uVar26 = 0;
    iVar16 = *(int *)(*(int *)((int)DAT_00598ff0 + 10) + local_44 * 4);
    local_28 = 0;
    iVar27 = 0;
    iVar22 = 0;
    iVar24 = 0;
    local_20 = 0;
    iVar13 = DAT_00598d90;
    do {
      if (0xfe < uVar26) break;
      if (iVar16 < 1) {
        uVar14 = 0;
        local_44 = local_44 + 1;
        if (local_44 ==
            (uint)*(ushort *)(DAT_00598ff0 + 2) * (uint)*(ushort *)((int)DAT_00598ff0 + 6)) {
          local_20 = 1;
          local_48 = 1;
        }
        else {
          iVar16 = *(int *)(*(int *)((int)DAT_00598ff0 + 10) + local_44 * 4);
        }
      }
      else if (_Size == (int *)0x0) {
        if (uVar20 == 0) {
          uVar14 = uVar14 + 1;
          _Size = (int *)0x1;
          if ((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
              (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) <= uVar14) {
            iVar16 = 0;
          }
        }
        else {
          iVar8 = *(int *)(iVar13 + 0x234) + uVar20 * 10;
          uVar10 = (uint)*(ushort *)(iVar8 + -10);
          if (((*(ushort *)(iVar8 + -10) & 0x8000) == 0) &&
             (puVar4 = *(uint **)(*(int *)(*(int *)(iVar13 + 0x230) + uVar10 * 4) + 0x56),
             puVar4[0xd] == 0)) {
            local_3c = *puVar4;
            if (local_28 + local_3c <= DAT_005d6648) {
              puVar4[0xd] = 1;
              iVar8 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar10 * 4);
              local_28 = local_28 + **(int **)(iVar8 + 0x56);
              iVar27 = iVar27 + (*(int **)(iVar8 + 0x56))[2];
              *puVar15 = uVar10;
              uVar20 = (uint)*(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -8 + uVar20 * 10);
              goto LAB_00482ad4;
            }
            if (DAT_005d6648 < local_3c) {
              uVar20 = (uint)*(ushort *)(iVar8 + -8);
            }
            local_20 = 1;
          }
          else {
            uVar20 = (uint)*(ushort *)(iVar8 + -8);
          }
        }
      }
      else {
        _Size = (int *)0x0;
        iVar8 = uVar14 * 0xf + *(int *)(*DAT_00598ff0 + -0x28 + iVar16 * 0x3e);
        iVar3 = *(int *)(iVar8 + 4);
        uVar20 = (uint)*(ushort *)(iVar8 + 10);
        if ((0 < iVar3) &&
           (piVar21 = *(int **)(*(int *)(*(int *)(iVar13 + 0x230) + -4 + iVar3 * 4) + 0x56),
           piVar21[0xd] == 0)) {
          if (DAT_005d6648 < (uint)(local_28 + *piVar21)) {
            _Size = (int *)0x1;
            local_20 = 1;
          }
          else {
            piVar21[0xd] = 1;
            iVar8 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + -4 + iVar3 * 4);
            local_28 = local_28 + **(int **)(iVar8 + 0x56);
            iVar27 = iVar27 + (*(int **)(iVar8 + 0x56))[2];
            *puVar15 = iVar3 - 1;
LAB_00482ad4:
            uVar26 = uVar26 + 1;
            puVar15 = puVar15 + 1;
            iVar13 = DAT_00598d90;
            if (*(int *)(iVar8 + 0x5b) == 0) {
              iVar24 = iVar24 + 1;
            }
            else {
              iVar22 = iVar22 + 1;
            }
          }
        }
      }
    } while (local_20 == 0);
    *(char *)(iVar13 + 0x238) = *(char *)(iVar13 + 0x238) + '\x01';
    iVar22 = iVar22 * 0x4c + iVar24 * 0x48;
    if (uVar26 != 0) {
      puVar15 = local_4b4;
      uVar14 = uVar26;
      do {
        uVar10 = *puVar15;
        puVar15 = puVar15 + 1;
        uVar14 = uVar14 - 1;
        iVar22 = iVar22 + *(int *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar10 * 4) +
                                           0x56) + 0x14) * 0x24;
      } while (uVar14 != 0);
    }
    _Size = (int *)(iVar22 + 4 + (iVar27 + local_28 * 4) * 8);
    _memset(&local_64,0,0x14);
    local_64 = 0x14;
    local_60 = 3;
    local_5c = 1;
    piVar21 = (int *)0x0;
    uVar14 = *(uint *)(DAT_005e5010 + 8);
    local_58 = _Size;
    iVar22 = (**(code **)(*param_3 + 0x18))();
    if ((iVar22 != 0) ||
       (iVar22 = (**(code **)(*piVar21 + 0x10))(), puVar17 = local_54, iVar22 != 0)) {
      return 0;
    }
    local_50 = local_54;
    _memset(local_54,0,(size_t)_Size);
    iVar22 = 0;
    if (uVar26 != 0) {
      puVar15 = local_4b4;
      uVar10 = uVar26;
      do {
        uVar20 = 0;
        iVar24 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + *puVar15 * 4);
        if (*(int *)(iVar24 + 0x5b) == 0) {
          local_24 = 0;
          *(undefined4 **)(*(int *)(iVar24 + 0x56) + 0x3c) = puVar17;
          if (**(int **)(iVar24 + 0x56) != 0) {
            do {
              FUN_0045f520();
              *puVar17 = local_b4;
              puVar17[1] = local_b0;
              puVar17[2] = local_ac;
              _Size = puVar17 + 4;
              *_Size = *(int *)(*(int *)(*(int *)(iVar24 + 0x56) + 4) + 0x10 + uVar20);
              puVar17[6] = *(undefined4 *)(*(int *)(*(int *)(iVar24 + 0x56) + 4) + 0x18 + uVar20);
              fVar1 = *(float *)(*(int *)(*(int *)(iVar24 + 0x56) + 4) + 0x1c + uVar20);
              puVar17[7] = fVar1;
              if (fVar1 == 1.0) {
                puVar17[7] = 0x3f7d70a4;
              }
              FUN_004533e0();
              puVar17 = puVar17 + 8;
              local_24 = local_24 + 1;
              uVar20 = uVar20 + 0x20;
            } while (local_24 < **(uint **)(iVar24 + 0x56));
          }
          iVar24 = **(int **)(iVar24 + 0x56);
        }
        else {
          *(undefined4 **)(*(int *)(iVar24 + 0x56) + 0x3c) = puVar17;
          if (puVar17 != (undefined4 *)(*(int **)(iVar24 + 0x56))[1]) {
            _Size = (int *)(**(int **)(iVar24 + 0x56) << 5);
            FUN_004ad7a0();
          }
          iVar16 = **(int **)(iVar24 + 0x56);
          puVar17 = puVar17 + iVar16 * 8;
          if (iVar16 != 0) {
            piVar9 = (int *)((*(int **)(iVar24 + 0x56))[0xf] + 0x10);
            do {
              _Size = piVar9;
              FUN_004533e0();
              piVar9 = piVar9 + 8;
              uVar20 = uVar20 + 1;
            } while (uVar20 < **(uint **)(iVar24 + 0x56));
          }
          iVar24 = **(int **)(iVar24 + 0x56);
        }
        iVar22 = iVar22 + iVar24;
        puVar15 = puVar15 + 1;
        uVar10 = uVar10 - 1;
        uVar20 = uVar14;
      } while (uVar10 != 0);
    }
    local_40 = local_40 + iVar22;
    *(undefined *)puVar17 = 4;
    *(undefined *)((int)puVar17 + 1) = 8;
    *(undefined2 *)((int)puVar17 + 2) = 1;
    puVar17[2] = DAT_005b9ce8;
    puVar17[1] = DAT_005b9ce0;
    puVar19 = puVar17 + 3;
    sVar23 = 0;
    bVar7 = false;
    if (uVar26 != 0) {
      puVar15 = local_4b4;
      do {
        iVar22 = 0;
        iVar24 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + *puVar15 * 4);
        puVar5 = *(undefined4 **)(iVar24 + 0x56);
        puVar5[0xe] = puVar19 + 3;
        iVar16 = puVar5[5];
        puVar5[0xd] = puVar19;
        if (iVar16 != 0) {
          piVar9 = (int *)puVar5[8];
          do {
            if (*piVar9 != 0) {
              iVar22 = iVar22 + 1;
            }
            piVar9 = piVar9 + 1;
            iVar16 = iVar16 + -1;
          } while (iVar16 != 0);
        }
        iVar22 = (puVar5[2] + iVar22 * 2) * 8;
        iVar16 = iVar22 + 0x28;
        if (*(int *)(iVar24 + 0x5b) == 0) {
          *(undefined *)puVar19 = 0xc;
          *(undefined *)((int)puVar19 + 1) = 0x10;
          *(short *)((int)puVar19 + 2) = 1;
          if (bVar7) {
            puVar19[1] = 0;
            puVar19[2] = 0;
            puVar19[3] = 0;
            puVar19[4] = iVar16;
            puVar19 = puVar19 + 5;
          }
          else {
            bVar7 = true;
            puVar19[1] = 0;
            puVar19[2] = 0;
            puVar19[3] = 0;
            puVar19[4] = iVar16;
            puVar19 = puVar19 + 5;
          }
        }
        else {
          *(undefined *)puVar19 = 0xc;
          *(undefined *)((int)puVar19 + 1) = 0x10;
          *(short *)((int)puVar19 + 2) = 1;
          bVar7 = false;
          puVar19[1] = 0;
          puVar19[2] = 0;
          puVar19[3] = 0;
          puVar19[4] = iVar22 + 0x44;
          *(undefined *)(puVar19 + 5) = 5;
          *(undefined *)((int)puVar19 + 0x15) = 0xc;
          *(short *)((int)puVar19 + 0x16) = 1;
          puVar19[7] = *(undefined4 *)(iVar24 + 0x52);
          puVar19[8] = DAT_005b9ce8;
          puVar19[6] = DAT_005b9ce0;
          puVar19 = puVar19 + 9;
        }
        *(undefined *)puVar19 = 9;
        *(undefined *)((int)puVar19 + 1) = 0x10;
        *(short *)((int)puVar19 + 2) = 1;
        iVar22 = 0;
        local_3c = 0;
        puVar19[1] = 1;
        *(short *)(puVar19 + 2) = sVar23;
        *(short *)((int)puVar19 + 10) = sVar23;
        uVar6 = *puVar5;
        puVar19[4] = 0;
        puVar19[3] = uVar6;
        puVar19 = puVar19 + 5;
        puVar5[0xb] = (int)puVar19 - (int)puVar17;
        if (puVar5[5] != 0) {
          iVar16 = 0;
          do {
            local_4c = local_3c * 4;
            if (*(int *)(local_4c + puVar5[8]) != 0) {
              uVar6 = *(undefined4 *)(puVar5[7] + 0x48 + iVar16);
              *(undefined *)puVar19 = 8;
              *(undefined *)((int)puVar19 + 1) = 8;
              *(short *)((int)puVar19 + 2) = 1;
              puVar19[1] = 1;
              puVar19[2] = uVar6;
              puVar18 = puVar19 + 3;
              if (((uint)puVar18 & 7) == 0) {
                puVar18 = puVar19 + 4;
                *(int *)(puVar5[0xd] + 0x10) = *(int *)(puVar5[0xd] + 0x10) + 4;
                *(undefined *)(puVar19 + 3) = 3;
                *(undefined *)((int)puVar19 + 0xd) = 8;
                *(short *)((int)puVar19 + 0xe) = 0;
              }
              *(undefined *)puVar18 = 3;
              *(undefined *)((int)puVar18 + 1) = 8;
              puVar19 = puVar18 + 1;
              *(short *)((int)puVar18 + 2) = *(short *)(local_4c + puVar5[8]);
              uVar20 = 0;
              puVar5[0x10] = puVar19;
              if (*(int *)(local_4c + puVar5[8]) != 0) {
                iVar13 = iVar22 * 0xc;
                puVar18 = puVar19;
                do {
                  puVar19 = puVar18 + 2;
                  *(short *)puVar18 = *(short *)(iVar13 + puVar5[3]) + sVar23;
                  *(short *)((int)puVar18 + 2) = *(short *)(iVar13 + 2 + puVar5[3]) + sVar23;
                  sVar2 = *(short *)(iVar13 + 4 + puVar5[3]);
                  *(short *)((int)puVar18 + 6) = 0x700;
                  uVar20 = uVar20 + 1;
                  *(short *)(puVar18 + 1) = sVar2 + sVar23;
                  iVar13 = iVar13 + 0xc;
                  puVar18 = puVar19;
                } while (uVar20 < *(uint *)(local_4c + puVar5[8]));
              }
              iVar22 = iVar22 + *(int *)(local_4c + puVar5[8]);
            }
            local_3c = local_3c + 1;
            iVar16 = iVar16 + 0x50;
          } while (local_3c < (uint)puVar5[5]);
        }
        puVar5[0xc] = (int)puVar19 - (int)puVar17;
        sVar23 = sVar23 + *(short *)puVar5;
        *(char *)(iVar24 + 0x5a) = *(char *)(DAT_00598d90 + 0x238) + -1;
        if (*(int *)(iVar24 + 0x5b) != 0) {
          *(undefined *)puVar19 = 4;
          *(undefined *)((int)puVar19 + 1) = 8;
          *(short *)((int)puVar19 + 2) = 1;
          puVar19[2] = DAT_005b9ce8;
          puVar19[1] = DAT_005b9ce0;
          puVar19 = puVar19 + 3;
        }
        puVar15 = puVar15 + 1;
        uVar26 = uVar26 - 1;
        uVar20 = uVar14;
      } while (uVar26 != 0);
    }
    *(undefined *)puVar19 = 0xb;
    *(undefined *)((int)puVar19 + 1) = 0;
    *(short *)((int)puVar19 + 2) = 0;
    (**(code **)(*_Size + 0x14))();
    local_3c = 0x4830d6;
    _memset(local_94,0,0x30);
    local_88 = (int)puVar17 - (int)local_50;
    local_84 = (undefined *)((int)puVar19 + (4 - (int)puVar17));
    local_94[0] = 0x30;
    uVar14 = 0x483114;
    local_8c = piVar21;
    piVar21 = _Size;
    (**(code **)(*_Size + 0x18))();
    sVar25 = 0x38;
    iVar22 = 0;
    pvVar11 = (void *)AllocateMemoryWithCallback();
    ppiVar12 = (int **)_memset(pvVar11,iVar22,sVar25);
    *ppiVar12 = piVar21;
    ppiVar12[0xc] = (int *)DAT_005b9470;
    DAT_005b9470 = ppiVar12;
    if (local_48 != 0) {
      DAT_00598f44 = local_40;
      if (*(int *)(DAT_00598d90 + 0x228) != 0) {
        FreeMemory();
        *(undefined4 *)(DAT_00598d90 + 0x228) = 0;
      }
      sVar25 = (uint)*(byte *)(DAT_00598d90 + 0x238) << 2;
      iVar22 = 0;
      pvVar11 = (void *)AllocateMemoryWithCallback();
      pvVar11 = _memset(pvVar11,iVar22,sVar25);
      *(void **)(DAT_00598d90 + 0x228) = pvVar11;
      sVar25 = (uint)*(byte *)(DAT_00598d90 + 0x238) << 2;
      iVar22 = 0;
      pvVar11 = (void *)AllocateMemoryWithCallback();
      pvVar11 = _memset(pvVar11,iVar22,sVar25);
      uVar14 = 0;
      *(void **)(DAT_00598d90 + 0x22c) = pvVar11;
      uVar20 = (uint)*(byte *)(DAT_00598d90 + 0x238);
      ppiVar12 = DAT_005b9470;
      if (uVar20 != 0) {
        do {
          iVar22 = uVar20 - uVar14;
          uVar14 = uVar14 + 1;
          *(int **)(*(int *)(DAT_00598d90 + 0x228) + -4 + iVar22 * 4) = *ppiVar12;
          ppiVar12 = (int **)ppiVar12[0xc];
          uVar20 = (uint)*(byte *)(DAT_00598d90 + 0x238);
        } while (uVar14 < uVar20);
      }
      return uVar20;
    }
  } while( true );
}



void FUN_00483230(void)

{
  int *piVar1;
  int **ppiVar2;
  bool bVar3;
  
  if (DAT_005b9470 != (int **)0x0) {
    do {
      piVar1 = *DAT_005b9470;
      if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
        *DAT_005b9470 = (int *)0x0;
      }
      else {
        (**(code **)(*piVar1 + 8))(piVar1);
        *DAT_005b9470 = (int *)0x0;
      }
      ppiVar2 = DAT_005b9470;
      bVar3 = DAT_005b9470 != (int **)0x0;
      DAT_005b9470 = (int **)DAT_005b9470[0xc];
      if (bVar3) {
        FreeMemory(ppiVar2);
      }
    } while (DAT_005b9470 != (int **)0x0);
  }
  DAT_005b9470 = (int **)0x0;
  return;
}



void FUN_00483290(void)

{
  FUN_0048ef50();
  FUN_00483230();
  return;
}



void FUN_004832b0(int *param_1,int param_2)

{
  *(float *)(param_2 + 0x26) = -*(float *)(DAT_005e45e4 + 0x240);
  *(float *)(param_2 + 0x2e) = -*(float *)(DAT_005e45e4 + 0x260);
  *(float *)(param_2 + 6) = -*(float *)(DAT_005e45e4 + 0x238);
  *(float *)(param_2 + 0xe) = -*(float *)(DAT_005e45e4 + 600);
  (**(code **)(*param_1 + 0x40))
            (*(undefined4 *)(DAT_005e5010 + 8),*(undefined4 *)(param_2 + 0x52),
             (float *)(param_2 + 6));
  return;
}



undefined4 FUN_00483320(int param_1)

{
  return **(undefined4 **)
           (*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + param_1 * 4) + 0x56) + 0x38);
}



void FUN_00483340(int param_1,undefined4 param_2)

{
  **(undefined4 **)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + param_1 * 4) + 0x56) + 0x38)
       = param_2;
  return;
}



byte FUN_00483370(float param_1,float param_2,float param_3,int param_4)

{
  float fVar1;
  float fVar2;
  bool bVar3;
  bool bVar4;
  int iVar5;
  int *piVar6;
  float *pfVar7;
  
  AdjustStackForLargeAllocations();
  iVar5 = 0;
  bVar3 = false;
  bVar4 = false;
  if (*(int *)(param_4 + 100) < 1) {
    return 0;
  }
  pfVar7 = (float *)(param_4 + 0x6c);
  piVar6 = (int *)(param_4 + 0x3c);
  while( true ) {
    fVar2 = param_1 - *(float *)(param_4 + *piVar6 * 0xc);
    fVar1 = param_2 - *(float *)(param_4 + 8 + *piVar6 * 0xc);
    if (fVar1 * fVar1 + fVar2 * fVar2 <= param_3 * param_3) {
      bVar3 = true;
    }
    else {
      bVar4 = true;
    }
    fVar1 = fVar1 * *pfVar7 + pfVar7[-1] * fVar2;
    if (param_3 <= fVar1) {
      if (fVar1 <= -param_3) {
        bVar4 = true;
      }
      else {
        bVar3 = true;
      }
    }
    else {
      bVar3 = true;
    }
    if ((bVar3) && (bVar4)) break;
    iVar5 = iVar5 + 1;
    piVar6 = piVar6 + 1;
    pfVar7 = pfVar7 + 2;
    if (*(int *)(param_4 + 100) <= iVar5) {
      return -bVar3 & 2;
    }
  }
  return 1;
}



void FUN_00483470(float *param_1,float param_2)

{
  float fVar1;
  bool bVar2;
  bool bVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  float fVar7;
  float fVar8;
  float *pfVar9;
  float fVar10;
  float *pfVar11;
  float fVar12;
  float10 fVar13;
  float *local_20;
  float *local_1c;
  uint uVar15;
  double dVar14;
  float *pfVar16;
  
  AdjustStackForLargeAllocations();
  fVar12 = 1.401298e-45;
  dVar14 = 0.0;
  uVar15 = 0;
  bVar3 = false;
  fVar10 = param_2;
  if (1 < (int)param_2) {
    pfVar9 = param_1 + 3;
    do {
      if (0 < (int)fVar12) {
        pfVar16 = param_1 + (int)fVar10 * 3;
        pfVar11 = param_1;
        local_20 = (float *)fVar12;
        do {
          dVar14 = (double)(*pfVar9 - *pfVar11);
          fVar13 = (float10)FUN_004ad3c0(dVar14);
          if (fVar13 < (float10)0.1000000014901161) {
            dVar14 = (double)(pfVar9[2] - pfVar11[2]);
            fVar13 = (float10)FUN_004ad3c0(dVar14);
            if (fVar13 < (float10)0.1000000014901161) {
              param_2 = (float)((int)param_2 + -1);
              if (fVar12 != param_2) {
                *pfVar9 = pfVar16[-3];
                pfVar9[1] = pfVar16[-2];
                pfVar9[2] = pfVar16[-1];
                pfVar9 = (float *)0x4834e7;
              }
              pfVar16 = pfVar16 + -3;
            }
          }
          pfVar11 = pfVar11 + 3;
          local_20 = (float *)((int)local_20 + -1);
          fVar10 = param_2;
        } while (local_20 != (float *)0x0);
      }
      uVar15 = (uint)((ulonglong)dVar14 >> 0x20);
      fVar12 = (float)((int)fVar12 + 1);
      pfVar9 = pfVar9 + 3;
    } while ((int)fVar12 < (int)fVar10);
  }
  fVar12 = *param_1;
  fVar4 = 0.0;
  iVar6 = 0;
  dVar14 = (double)((ulonglong)uVar15 << 0x20);
  pfVar9 = param_1;
  if (0 < (int)fVar10) {
    do {
      if (*pfVar9 < fVar12) {
        fVar12 = *pfVar9;
        dVar14 = (double)CONCAT44((int)((ulonglong)dVar14 >> 0x20),iVar6);
      }
      iVar6 = iVar6 + 1;
      pfVar9 = pfVar9 + 3;
    } while (iVar6 < (int)fVar10);
    fVar4 = SUB84(dVar14,0);
  }
  param_1[0xf] = fVar4;
  pfVar9 = param_1 + 0x14;
  if (fVar4 == 0.0) {
    *pfVar9 = 1.401298e-45;
  }
  else {
    *pfVar9 = 0.0;
  }
  local_20 = param_1 + 0x1a;
  fVar12 = 1.401298e-45;
  fVar10 = param_2;
  local_1c = pfVar9;
  do {
    iVar6 = (int)((ulonglong)dVar14 >> 0x20);
    if (iVar6 < 7) {
      dVar14 = (double)((ulonglong)(iVar6 + 1) << 0x20);
    }
    else {
      bVar3 = true;
    }
    fVar4 = *pfVar9;
    fVar1 = pfVar9[-5];
    bVar2 = true;
    fVar8 = param_1[(int)fVar4 * 3] - param_1[(int)fVar1 * 3];
    pfVar16 = param_1 + (int)fVar1 * 3;
    fVar7 = 0.0;
    fVar5 = param_1[(int)fVar4 * 3 + 2] - pfVar16[2];
    pfVar11 = param_1;
    if (0 < (int)param_2) {
      do {
        pfVar9 = local_1c;
        if (!bVar2) break;
        if (((fVar7 != fVar1) && (fVar7 != fVar4)) &&
           ((*pfVar11 - *pfVar16) * fVar5 - (pfVar11[2] - pfVar16[2]) * fVar8 < -0.1)) {
          bVar2 = false;
          fVar7 = (float)((int)fVar7 + -1);
          pfVar11 = pfVar11 + -3;
        }
        fVar7 = (float)((int)fVar7 + 1);
        pfVar11 = pfVar11 + 3;
      } while ((int)fVar7 < (int)param_2);
    }
    if (bVar2) {
      dVar14 = (double)(fVar8 * fVar8 + fVar5 * fVar5);
      local_1c = (float *)0x48365f;
      fVar13 = (float10)FUN_004ad534();
      *local_20 = (float)((float10)1.0 / fVar13);
      local_20[1] = (float)((float10)fVar8 * ((float10)1.0 / fVar13));
      *local_20 = -(fVar5 * *local_20);
      if (*pfVar9 == SUB84(dVar14,0)) {
        bVar3 = true;
      }
      else {
        fVar8 = 0.0;
        if (0 < (int)param_2) {
          do {
            if ((fVar8 != fVar4) && (fVar8 != fVar1)) {
              fVar10 = fVar8;
              if (1 < (int)fVar12) {
                fVar5 = 1.401298e-45;
                if (1 < (int)fVar12 + -1) {
                  do {
                    if (param_1[(int)fVar5 + 0xf] == fVar10) {
                      fVar10 = -NAN;
                      fVar5 = fVar12;
                    }
                    fVar5 = (float)((int)fVar5 + 1);
                  } while ((int)fVar5 < (int)fVar12 + -1);
                }
              }
              if (fVar10 != -NAN) {
                fVar8 = param_2;
              }
            }
            fVar8 = (float)((int)fVar8 + 1);
          } while ((int)fVar8 < (int)param_2);
        }
        pfVar9[-4] = *pfVar9;
        pfVar9[1] = fVar10;
        fVar12 = (float)((int)fVar12 + 1);
        pfVar9 = pfVar9 + 1;
        local_20 = local_20 + 2;
        local_1c = pfVar9;
      }
    }
    else {
      *pfVar9 = fVar7;
    }
    if (bVar3) {
      param_1[0x19] = fVar12;
      return;
    }
  } while( true );
}



void FUN_00483730(float *param_1,float *param_2,float *param_3)

{
  if (*param_1 < *param_2) {
    *param_2 = *param_1;
  }
  if (param_1[2] < param_2[1]) {
    param_2[1] = param_1[2];
  }
  if (*param_3 < *param_1) {
    *param_3 = *param_1;
  }
  if (param_3[1] < param_1[2]) {
    param_3[1] = param_1[2];
  }
  return;
}



void FUN_00483790(int param_1,undefined4 param_2)

{
  int iVar1;
  
  iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + param_1 * 4);
  FUN_00483370((*(float *)(iVar1 + 0x85) + *(float *)(iVar1 + 0x79)) * 0.5,
               (*(float *)(iVar1 + 0x8d) + *(float *)(iVar1 + 0x81)) * 0.5,
               *(undefined4 *)(iVar1 + 0x91),param_2);
  return;
}



void FUN_004837f0(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  float fVar15;
  
  AdjustStackForLargeAllocations();
  fVar1 = param_2[5];
  fVar2 = param_2[9];
  fVar15 = 1.0 / (param_2[3] * *param_3 + param_2[0xb] * param_3[2] + param_2[7] * param_3[1] +
                 param_2[0xf]);
  fVar3 = param_3[1];
  fVar4 = param_2[6];
  fVar5 = param_3[2];
  fVar6 = param_2[1];
  fVar7 = param_2[10];
  fVar8 = param_3[1];
  fVar9 = param_2[2];
  fVar10 = *param_3;
  fVar11 = param_3[2];
  fVar12 = param_2[0xd];
  fVar13 = *param_3;
  fVar14 = param_2[0xe];
  *param_1 = fVar15 * (*param_2 * *param_3 + param_2[8] * param_3[2] + param_2[4] * param_3[1] +
                      param_2[0xc]);
  param_1[1] = fVar15 * (fVar6 * fVar10 + fVar2 * fVar5 + fVar1 * fVar3 + fVar12);
  param_1[2] = fVar15 * (fVar9 * fVar13 + fVar7 * fVar11 + fVar4 * fVar8 + fVar14);
  return;
}



undefined4 FUN_004838e0(int param_1,undefined4 param_2,float param_3,float param_4)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float10 fVar6;
  float10 fVar7;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + param_1 * 4);
  fVar2 = param_4 * *(float *)(iVar1 + 0x91) * 1.2;
  fVar3 = (*(float *)(iVar1 + 0x81) + *(float *)(iVar1 + 0x8d)) * 0.5;
  fVar4 = param_3 * *(float *)(iVar1 + 0x91) * 1.2;
  fVar5 = (*(float *)(iVar1 + 0x85) + *(float *)(iVar1 + 0x79)) * 0.5;
  fVar6 = (float10)FUN_00483ac0(param_2,fVar4 + fVar5,*(undefined4 *)(iVar1 + 0x7d),fVar2 + fVar3);
  if ((float10)1.0 < fVar6) {
    fVar6 = (float10)FUN_00483ac0(param_2,fVar5 - fVar4,*(undefined4 *)(iVar1 + 0x7d),fVar3 - fVar2)
    ;
    if ((float10)1.0 < fVar6) {
      return 0;
    }
  }
  fVar6 = (float10)FUN_00483ac0(param_2,fVar5 - fVar4,*(undefined4 *)(iVar1 + 0x89),fVar3 - fVar2);
  if (fVar6 < (float10)-1.0) {
    fVar6 = (float10)FUN_00483ac0(param_2,fVar4 + fVar5,*(undefined4 *)(iVar1 + 0x89),fVar2 + fVar3)
    ;
    if (fVar6 < (float10)-1.0) {
      return 0;
    }
  }
  if (*(int *)(iVar1 + 0x5b) == 0) {
    fVar6 = (float10)FUN_00483b60(param_2,fVar2 + fVar5,*(undefined4 *)(iVar1 + 0x7d),fVar3 - fVar4)
    ;
    fVar7 = (float10)FUN_00483b60(param_2,fVar5 - fVar2,*(undefined4 *)(iVar1 + 0x7d),fVar4 + fVar3)
    ;
    if ((float)fVar6 < -1.0) {
      return 0;
    }
    if ((float10)1.0 < fVar7) {
      return 0;
    }
  }
  return 1;
}



float10 FUN_00483ac0(int param_1,float param_2,float param_3,float param_4)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)*(float *)(param_1 + 0xc) * (float10)param_2 +
          (float10)*(float *)(param_1 + 0x1c) * (float10)param_3 +
          (float10)*(float *)(param_1 + 0x2c) * (float10)param_4 +
          (float10)*(float *)(param_1 + 0x3c);
  fVar2 = (float10)*(float *)(param_1 + 4) * (float10)param_2 +
          (float10)*(float *)(param_1 + 0x14) * (float10)param_3 +
          (float10)*(float *)(param_1 + 0x24) * (float10)param_4 +
          (float10)*(float *)(param_1 + 0x34);
  if (fVar1 != (float10)0.0) {
    if (*(float *)(param_1 + 8) * param_2 +
        *(float *)(param_1 + 0x18) * param_3 + *(float *)(param_1 + 0x28) * param_4 +
        *(float *)(param_1 + 0x38) < -1.0) {
      fVar2 = -fVar2;
    }
    return fVar2 / fVar1;
  }
  return (float10)1.0;
}



float10 FUN_00483b60(float *param_1,float param_2,float param_3,float param_4)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)param_1[3] * (float10)param_2 +
          (float10)param_1[7] * (float10)param_3 + (float10)param_1[0xb] * (float10)param_4 +
          (float10)param_1[0xf];
  fVar2 = (float10)param_1[4] * (float10)param_3 +
          (float10)param_1[8] * (float10)param_4 + (float10)*param_1 * (float10)param_2 +
          (float10)param_1[0xc];
  if (fVar1 != (float10)0.0) {
    if (param_1[2] * param_2 + param_1[6] * param_3 + param_1[10] * param_4 + param_1[0xe] < -1.0) {
      fVar2 = -fVar2;
    }
    return fVar2 / fVar1;
  }
  return (float10)1.0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00483c00(float *param_1,float param_2,float param_3,float param_4)

{
  float fVar1;
  float fVar2;
  
  fVar2 = (param_2 * (param_4 - -1.0)) / DAT_004d1b60;
  fVar1 = (param_3 * (param_4 - -1.0)) / _DAT_004d1b74;
  *param_1 = (*(float *)(DAT_005e45e4 + 0x240) * param_4 +
             *(float *)(DAT_005e45e4 + 0x23c) * fVar1 + *(float *)(DAT_005e45e4 + 0x238) * fVar2) -
             *(float *)(DAT_005e45e4 + 0x228);
  param_1[1] = (*(float *)(DAT_005e45e4 + 0x24c) * fVar1 +
               *(float *)(DAT_005e45e4 + 0x248) * fVar2 + *(float *)(DAT_005e45e4 + 0x250) * param_4
               ) - *(float *)(DAT_005e45e4 + 0x22c);
  param_1[2] = (*(float *)(DAT_005e45e4 + 0x25c) * fVar1 +
               *(float *)(DAT_005e45e4 + 600) * fVar2 + *(float *)(DAT_005e45e4 + 0x260) * param_4)
               - *(float *)(DAT_005e45e4 + 0x230);
  return;
}



uint FUN_00483cd0(undefined4 param_1,int *param_2,int **param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  int iVar1;
  uint unaff_ESI;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  int *local_28;
  undefined4 local_24;
  undefined *local_20;
  int *local_1c;
  undefined4 *puStackY_18;
  
  AdjustStackForLargeAllocations();
  puStackY_18 = (undefined4 *)0x483ceb;
  _memset(&local_58,0,0x50);
  local_4c = param_4;
  local_50 = param_4;
  local_54 = param_4;
  local_3c = param_5;
  local_40 = param_5;
  local_44 = param_5;
  local_1c = (int *)param_6;
  local_24 = param_6;
  local_34 = param_7;
  local_20 = (undefined *)param_6;
  local_2c = param_7;
  local_58 = 0x50;
  local_48 = 0;
  local_30 = param_7;
  local_28 = (int *)0x0;
  puStackY_18 = (undefined4 *)0x483d60;
  iVar1 = (**(code **)(*param_2 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  local_1c = *param_3;
  puStackY_18 = &local_58;
  local_20 = (undefined *)0x483d77;
  iVar1 = (**(code **)(*local_1c + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  local_28 = *param_3;
  local_20 = &stack0xfffffff8;
  local_24 = param_1;
  local_2c = 0x483d92;
  iVar1 = (**(code **)(*local_28 + 0x18))();
  return ~-(uint)(iVar1 != 0) & unaff_ESI;
}



void FUN_00483db0(void)

{
  int iVar1;
  undefined4 uVar2;
  float fVar3;
  int iVar4;
  float *pfVar5;
  int *piVar6;
  int *piVar7;
  undefined4 *puVar8;
  float *pfVar9;
  int *piVar10;
  undefined4 *puVar11;
  float10 fVar12;
  int local_13c [16];
  float local_fc [4];
  float local_ec;
  float local_e8;
  float local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_ac;
  float local_a8;
  undefined4 local_a4;
  undefined4 local_9c;
  undefined4 local_98;
  float local_94;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  float local_48;
  undefined4 local_44;
  undefined4 local_40;
  ushort local_3c;
  ushort uStack_3a;
  ushort local_38;
  ushort uStack_36;
  ushort local_34;
  ushort uStack_32;
  ushort local_30;
  ushort uStack_2e;
  ushort local_2c;
  ushort uStack_2a;
  ushort local_28;
  ushort uStack_26;
  ushort local_24;
  ushort uStack_22;
  ushort local_20;
  ushort uStack_1e;
  undefined4 uStack_1c;
  undefined8 local_18;
  int iVar13;
  int *piVar14;
  
  AdjustStackForLargeAllocations();
  piVar7 = *(int **)(DAT_005df318 + 4);
joined_r0x00483dd7:
  do {
    if (piVar7 == (int *)0x0) {
      return;
    }
    iVar1 = *piVar7;
    if (((*(byte *)(iVar1 + 0x8a) & 0x20) != 0) &&
       (((*(uint *)(iVar1 + 0x8a) & 0x200) == 0 || ((*(byte *)(piVar7[1] + 0x8a) & 1) == 0)))) {
      iVar13 = *(int *)(*(int *)(*(int *)(iVar1 + 0x86) + 0x13) + 0x57);
      iVar4 = *(int *)(*(int *)(iVar1 + 0x98) + 0x10);
      if ((iVar4 == 4) ||
         ((iVar4 == 5 ||
          (((*(int *)(*(int *)(*(int *)(piVar7[1] + 0x86) + 0x13) + 0x7b) == 6 &&
            (*(char *)(iVar1 + 4) == '\x03')) || (iVar4 == 8)))))) {
        uStack_1c = (float *)local_13c;
        local_18 = (double)CONCAT44(iVar1 + 6,iVar1 + 0x46);
        local_20 = 0x3f31;
        uStack_1e = 0x48;
        piVar14 = piVar7;
        MultiplyMatrices();
      }
      else {
        local_18 = (double)*(float *)(iVar1 + 0x9c);
        uStack_1c._0_2_ = 0x3e71;
        uStack_1c._2_2_ = 0x48;
        fVar12 = (float10)FUN_004ad3c0();
        if (fVar12 <= (float10)0.05000000074505806) {
          *(undefined4 *)(iVar1 + 0x9c) = 0;
          piVar6 = (int *)(iVar1 + 6);
          piVar10 = local_13c;
          for (iVar4 = 0x10; piVar14 = piVar7, iVar4 != 0; iVar4 = iVar4 + -1) {
            *piVar10 = *piVar6;
            piVar6 = piVar6 + 1;
            piVar10 = piVar10 + 1;
          }
        }
        else {
          pfVar5 = (float *)&DAT_004d1ae0;
          pfVar9 = local_fc;
          for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
            *pfVar9 = *pfVar5;
            pfVar5 = pfVar5 + 1;
            pfVar9 = pfVar9 + 1;
          }
          local_18 = (double)*(float *)(iVar1 + 0x9c);
          uStack_1c._0_2_ = 0x3ea4;
          uStack_1c._2_2_ = 0x48;
          fVar12 = (float10)FUN_004ae0c4();
          local_18 = (double)*(float *)(iVar1 + 0x9c);
          uStack_1c._0_2_ = 0x3ebb;
          uStack_1c._2_2_ = 0x48;
          fVar3 = (float)fVar12;
          fVar12 = (float10)FUN_004ae014();
          local_fc[0] = fVar3;
          local_fc[1] = (float)-fVar12;
          local_ec = (float)fVar12;
          uStack_1c = (float *)local_13c;
          local_18 = (double)CONCAT44(iVar1 + 6,local_fc);
          local_20 = 0x3ef6;
          uStack_1e = 0x48;
          local_e8 = local_fc[0];
          MultiplyMatrices();
          piVar14 = piVar7;
        }
      }
      if ((((*(byte *)(piVar7[1] + 0x8a) & 8) != 0) &&
          (iVar4 = *(int *)(piVar7[1] + 0x100), iVar4 != 0)) &&
         ((iVar4 = *(int *)(iVar4 + 0x48), iVar4 == 3 || (iVar4 == 4)))) {
        piVar7 = *(int **)((int)piVar7 + 0x1a);
        goto joined_r0x00483dd7;
      }
      for (; iVar13 != 0; iVar13 = *(int *)(iVar13 + 0x58)) {
        puVar8 = (undefined4 *)
                 (*(int *)(iVar13 + 0x14 + (uint)*(byte *)(iVar1 + 4) * 4) +
                 (uint)*(byte *)(iVar1 + 5) * 0x20);
        puVar11 = (undefined4 *)&local_3c;
        for (iVar4 = 8; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar11 = *puVar8;
          puVar8 = puVar8 + 1;
          puVar11 = puVar11 + 1;
        }
        local_7c = *(undefined4 *)(DAT_004d77ec + (uint)local_3c * 4);
        local_78 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_3a * 4);
        local_74 = *(undefined4 *)(DAT_004d77ec + (uint)local_38 * 4);
        local_70 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_36 * 4);
        local_6c = *(undefined4 *)(DAT_004d77ec + (uint)local_34 * 4);
        local_68 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_32 * 4);
        local_64 = *(undefined4 *)(DAT_004d77ec + (uint)local_30 * 4);
        local_60 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_2e * 4);
        local_5c = *(undefined4 *)(DAT_004d77ec + (uint)local_2c * 4);
        local_58 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_2a * 4);
        local_54 = *(undefined4 *)(DAT_004d77ec + (uint)local_28 * 4);
        local_50 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_26 * 4);
        local_4c = *(undefined4 *)(DAT_004d77ec + (uint)local_24 * 4);
        local_48 = *(float *)(DAT_004d77ec + (uint)uStack_22 * 4);
        local_44 = *(undefined4 *)(DAT_004d77ec + (uint)local_20 * 4);
        local_40 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_1e * 4);
        if (((*(int *)((int)(undefined4 *)local_18 + 0x114) == 1) ||
            ((*(int *)((int)(undefined4 *)local_18 + 0x7b) == 1 &&
             ((*(char *)(iVar1 + 4) == '\x05' || (*(char *)(iVar1 + 4) == '\x06')))))) &&
           (*(float *)((int)(undefined4 *)local_18 + 0x67) != 0.0)) {
          local_48 = local_48 - *(float *)((int)(undefined4 *)local_18 + 0x67);
        }
        local_18._4_4_ = local_13c;
        local_18._0_4_ = &local_7c;
        uStack_1c = &local_bc;
        local_20 = 0x40d2;
        uStack_1e = 0x48;
        MultiplyMatrices();
        if ((iVar13 == *(int *)(*(int *)(*(int *)(iVar1 + 0x86) + 0x13) + 0x38)) &&
           (0.0001 < local_94 * local_94 + local_a8 * local_a8 + local_bc * local_bc)) {
          local_bc = *(float *)(DAT_005e45e4 + 0x238);
          local_b8 = *(undefined4 *)(DAT_005e45e4 + 0x248);
          local_b4 = *(undefined4 *)(DAT_005e45e4 + 600);
          local_ac = *(undefined4 *)(DAT_005e45e4 + 0x23c);
          local_a8 = *(float *)(DAT_005e45e4 + 0x24c);
          local_a4 = *(undefined4 *)(DAT_005e45e4 + 0x25c);
          local_9c = *(undefined4 *)(DAT_005e45e4 + 0x240);
          local_98 = *(undefined4 *)(DAT_005e45e4 + 0x250);
          local_94 = *(float *)(DAT_005e45e4 + 0x260);
        }
        iVar4 = *local_18._4_4_;
        local_18 = (double)CONCAT44(&local_bc,*(undefined4 *)(iVar13 + 0x54));
        uStack_1c._0_2_ = (undefined2)*(undefined4 *)(DAT_005e5010 + 8);
        uStack_1c._2_2_ = (undefined2)((uint)*(undefined4 *)(DAT_005e5010 + 8) >> 0x10);
        local_20 = 0x41b4;
        uStack_1e = 0x48;
        (**(code **)(iVar4 + 0x40))();
        piVar7 = piVar14;
      }
      if (DAT_004d0404 != 0) {
        local_18 = (double)CONCAT44(piVar7,0x4841d4);
        FUN_0049bcf0();
        local_18 = (double)CONCAT44(1,DAT_005e514c);
        uVar2 = *(undefined4 *)(*(int *)(*(int *)(iVar1 + 0x86) + 0x13) + 0x1a4);
        uStack_1c._0_2_ = (undefined2)uVar2;
        uStack_1c._2_2_ = (undefined2)((uint)uVar2 >> 0x10);
        local_20 = (ushort)DAT_005e5148;
        uStack_1e = (ushort)((uint)DAT_005e5148 >> 0x10);
        local_24 = 0x41fa;
        uStack_22 = 0x48;
        (**(code **)(*DAT_005e5148 + 0x20))();
        local_18 = (double)CONCAT44(piVar7,0x484200);
        FUN_0049bd30();
      }
    }
    piVar7 = *(int **)((int)piVar7 + 0x1a);
  } while( true );
}



void FUN_00484230(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined local_44 [40];
  undefined4 uStack_1c;
  int *piStack_18;
  undefined *puStack_14;
  
  AdjustStackForLargeAllocations();
  piVar1 = *(int **)(DAT_005df318 + 4);
  puStack_14 = local_44;
  piStack_18 = (int *)0x484261;
  FUN_0045ecb0();
  for (; piVar1 != (int *)0x0; piVar1 = *(int **)((int)piVar1 + 0x1a)) {
    iVar2 = *piVar1;
    *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) & 0xffffffdf;
    if ((*(uint *)(*piVar1 + 0x8a) & 0x400000) != 0) {
      puStack_14 = local_44;
      uStack_1c = 0x48429c;
      piStack_18 = piVar1;
      iVar3 = FUN_00484300();
      if (iVar3 == 0) {
        *(ushort *)(piVar1[1] + 0x8e) = *(ushort *)(piVar1[1] + 0x8e) & 0xfffb;
      }
      else {
        if (iVar3 == 1) {
          uVar4 = *(uint *)(iVar2 + 0x8a) | 0x10000;
        }
        else {
          uVar4 = *(uint *)(iVar2 + 0x8a) & 0xfffeffff;
        }
        *(uint *)(iVar2 + 0x8a) = uVar4;
        *(uint *)(iVar2 + 0x8a) = uVar4 | 0x20;
        *(ushort *)(piVar1[1] + 0x8e) = *(ushort *)(piVar1[1] + 0x8e) | 4;
      }
    }
  }
  return;
}



undefined FUN_00484300(int *param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 *puVar10;
  float *pfVar11;
  undefined4 *puVar12;
  float local_e4 [8];
  float local_c4;
  float local_c0;
  float local_bc;
  float local_a4;
  float local_a0;
  float local_9c;
  float local_84;
  float local_80;
  float local_7c;
  undefined4 local_64 [9];
  float local_40;
  float local_34;
  float local_30;
  float local_2c;
  float local_24;
  int local_20;
  float local_1c;
  int local_18;
  int local_14;
  
  AdjustStackForLargeAllocations();
  local_18 = *(int *)(DAT_005e5010 + 0x253c);
  iVar9 = *(int *)(DAT_005e5010 + 0x2538);
  iVar7 = *(int *)(*(int *)(*param_1 + 0x86) + 0x13);
  fVar1 = *(float *)(DAT_005e45e4 + 0x238);
  fVar2 = *(float *)(DAT_005e45e4 + 0x248);
  fVar3 = *(float *)(DAT_005e45e4 + 600);
  fVar4 = *(float *)(DAT_005e45e4 + 0x240);
  fVar5 = *(float *)(DAT_005e45e4 + 0x250);
  fVar6 = *(float *)(DAT_005e45e4 + 0x260);
  local_20 = iVar9;
  puVar10 = (undefined4 *)(*param_1 + 6);
  puVar12 = local_64;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar12 = *puVar10;
    puVar10 = puVar10 + 1;
    puVar12 = puVar12 + 1;
  }
  iVar8 = 0;
  local_24 = (float)(iVar9 >> 1);
  local_14 = 0;
  local_1c = (float)(local_18 >> 1);
  fVar1 = fVar1 * *(float *)(iVar7 + 0x1a8);
  fVar2 = fVar2 * *(float *)(iVar7 + 0x1a8);
  local_e4[0] = local_34 - fVar1;
  fVar3 = fVar3 * *(float *)(iVar7 + 0x1a8);
  local_e4[1] = local_30 - fVar2;
  local_e4[2] = local_2c - fVar3;
  local_c4 = local_34 + fVar1;
  local_c0 = local_30 + fVar2;
  fVar4 = fVar4 * *(float *)(iVar7 + 0x1a8);
  local_bc = local_2c + fVar3;
  fVar5 = fVar5 * *(float *)(iVar7 + 0x1a8);
  local_a4 = local_34 + fVar4;
  fVar6 = fVar6 * *(float *)(iVar7 + 0x1a8);
  local_a0 = local_30 + fVar5;
  local_84 = local_34 - fVar4;
  iVar9 = 0;
  local_9c = local_2c + fVar6;
  local_80 = local_30 - fVar5;
  pfVar11 = local_e4;
  local_7c = local_2c - fVar6;
  do {
    fVar1 = pfVar11[2] * param_2[10] + pfVar11[1] * param_2[6] + *pfVar11 * param_2[2] +
            param_2[0xe];
    if (((DAT_005d669c <= fVar1) || (fVar1 < 0.0)) && (param_1 != DAT_005e45e8)) {
      return false;
    }
    fVar1 = 1.0 / (param_2[0xb] * pfVar11[2] + param_2[7] * pfVar11[1] + param_2[3] * *pfVar11 +
                  param_2[0xf]);
    local_40 = (1.0 - (param_2[9] * pfVar11[2] + param_2[5] * pfVar11[1] + param_2[1] * *pfVar11 +
                      param_2[0xd]) * fVar1) * local_1c;
    if (((param_2[8] * pfVar11[2] + *param_2 * *pfVar11 + param_2[4] * pfVar11[1] + param_2[0xc]) *
         fVar1 - -1.0) * local_24 <= 0.0) {
LAB_004845ac:
      iVar8 = 1;
    }
    else {
      local_14 = 0x484579;
      iVar7 = __ftol();
      if ((local_20 <= iVar7 + 1) || (local_40 <= 0.0)) goto LAB_004845ac;
      local_14 = 0x484599;
      iVar7 = __ftol();
      if (local_18 <= iVar7 + 1) goto LAB_004845ac;
      local_14 = 1;
    }
    iVar9 = iVar9 + 1;
    pfVar11 = pfVar11 + 8;
    if (3 < iVar9) {
      if (local_14 == 0) {
        if (iVar8 == 0) {
          return true;
        }
      }
      else if (iVar8 == 0) {
        return 2;
      }
      if (local_14 != 0) {
        return true;
      }
      return param_1 == DAT_005e45e8;
    }
  } while( true );
}



undefined4 FUN_00484610(float param_1,float *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  float *pfVar4;
  float10 fVar5;
  float10 fVar6;
  float10 fVar7;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  float local_d0 [8];
  float local_b0;
  float local_ac;
  float local_a8;
  float local_90;
  float local_8c;
  float local_88;
  float local_70;
  float local_6c;
  float local_68;
  float local_4c;
  float local_30;
  float local_2c;
  int local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float fVar8;
  float fVar9;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  local_14 = *(float *)(DAT_005e45e4 + 0x238);
  local_30 = (float)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
  local_2c = (float)(*(int *)(DAT_005e5010 + 0x253c) >> 1);
  local_24 = (*(float *)((int)param_1 + 0x79) + *(float *)((int)param_1 + 0x85)) * 0.5;
  fVar10 = *(float *)((int)param_1 + 0x91);
  local_20 = (*(float *)((int)param_1 + 0x89) + *(float *)((int)param_1 + 0x7d)) * 0.5;
  local_1c = (*(float *)((int)param_1 + 0x8d) + *(float *)((int)param_1 + 0x81)) * 0.5;
  fVar9 = (*(float *)((int)param_1 + 0x89) - *(float *)((int)param_1 + 0x7d)) * 0.5;
  fVar8 = *(float *)(DAT_005e45e4 + 600);
  local_18 = 6.637577e-39;
  FUN_0045eab0();
  local_14 = fVar10 * local_14;
  fVar10 = fVar10 * fVar8;
  local_28 = 0;
  pfVar4 = local_d0 + 1;
  local_d0[2] = local_1c - fVar10;
  local_d0[1] = local_20 - fVar9;
  local_b0 = local_14 + local_24;
  local_ac = local_20 - fVar9;
  local_a8 = fVar10 + local_1c;
  local_90 = local_24 - local_14;
  fVar5 = (float10)999.0;
  local_88 = local_1c - fVar10;
  local_70 = local_14 + local_24;
  local_6c = fVar9 + local_20;
  local_68 = fVar10 + local_1c;
  param_1 = 999.0;
  fVar10 = -999.0;
  local_8c = fVar9 + local_20;
  local_18 = -999.0;
  iVar3 = DAT_005e5010;
  do {
    fVar6 = (float10)1.0 /
            ((float10)*pfVar4 * (float10)param_2[7] +
             (float10)pfVar4[-1] * (float10)param_2[3] + (float10)pfVar4[1] * (float10)param_2[0xb]
            + (float10)param_2[0xf]);
    fVar7 = (((float10)*pfVar4 * (float10)param_2[4] +
              (float10)pfVar4[1] * (float10)param_2[8] + (float10)*param_2 * (float10)pfVar4[-1] +
             (float10)param_2[0xc]) * fVar6 - (float10)-1.0) * (float10)local_30;
    local_4c = (float)(((float10)1.0 -
                       ((float10)pfVar4[-1] * (float10)param_2[1] +
                        (float10)*pfVar4 * (float10)param_2[5] +
                        (float10)pfVar4[1] * (float10)param_2[9] + (float10)param_2[0xd]) * fVar6) *
                      (float10)local_2c);
    if ((float10)0.0 <= fVar7) {
      iVar1 = *(int *)(iVar3 + 0x2538);
      local_14 = 6.638193e-39;
      iVar2 = __ftol();
      iVar3 = DAT_005e5010;
      fVar7 = extraout_ST0;
      fVar5 = extraout_ST1;
      if ((iVar2 < iVar1 + 1) && (0.0 <= local_4c)) {
        iVar1 = *(int *)(DAT_005e5010 + 0x253c);
        local_14 = 6.638251e-39;
        iVar2 = __ftol();
        iVar3 = DAT_005e5010;
        fVar7 = extraout_ST0_00;
        fVar5 = extraout_ST1_00;
        if (iVar2 < iVar1 + 1) {
          return 1;
        }
      }
    }
    if ((float10)local_18 < fVar7) {
      local_18 = (float)fVar7;
    }
    if (fVar10 < local_4c) {
      fVar10 = local_4c;
    }
    if (fVar7 < (float10)param_1) {
      param_1 = (float)fVar7;
    }
    if ((float10)local_4c < fVar5) {
      fVar5 = (float10)local_4c;
    }
    pfVar4 = pfVar4 + 8;
    local_28 = local_28 + 1;
  } while (local_28 < 4);
  if (((param_1 <= (float)*(int *)(iVar3 + 0x2538)) && (0.0 <= local_18)) &&
     (fVar5 <= (float10)*(int *)(iVar3 + 0x253c))) {
    if (0.0 <= fVar10) {
      return 1;
    }
    return 0;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004849a0(void)

{
  ushort *puVar1;
  ushort uVar2;
  bool bVar3;
  ulonglong uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  undefined4 *puVar13;
  int *piVar14;
  float fVar15;
  int *piVar16;
  int iVar17;
  float10 extraout_ST0;
  float10 fVar18;
  undefined local_144 [64];
  undefined local_104 [12];
  undefined local_f8 [12];
  undefined local_ec [12];
  undefined local_e0 [12];
  float local_d4;
  float local_d0;
  float local_cc;
  int local_74;
  int local_70;
  int local_6c;
  float local_68;
  uint local_64;
  int local_60;
  int local_5c;
  int local_58;
  uint local_54;
  int local_50;
  float local_4c;
  float local_48;
  undefined4 local_44;
  undefined4 local_40;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  undefined *local_20;
  float *local_1c;
  undefined8 local_18;
  uint uVar19;
  
  AdjustStackForLargeAllocations();
  local_60 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * (uint)*(ushort *)((int)DAT_00598ff0 + 0xe)
  ;
  local_34 = 0;
  if (DAT_00598d80 != 0) {
    _DAT_00598f40 = 0;
    DAT_00598f44 = 0;
    DAT_00598f3c = DAT_00598f3c & 0xffffff00;
  }
  iVar11 = 0;
  if (0 < DAT_00598f30) {
    piVar14 = &DAT_005b9d00;
    do {
      iVar5 = *piVar14;
      piVar14 = piVar14 + 1;
      *(ushort *)(iVar5 + 0xa1) = *(ushort *)(iVar5 + 0xa1) & 0xf7ff;
      iVar11 = iVar11 + 1;
    } while (iVar11 < DAT_00598f30);
  }
  DAT_00598f30 = 0;
  local_4c = (float)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                    (uint)*(ushort *)(DAT_00598ff0 + 4)) *
             (float)(uint)*(ushort *)((int)DAT_00598ff0 + 6);
  local_48 = (float)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                    (uint)*(ushort *)(DAT_00598ff0 + 4)) *
             (float)(uint)*(ushort *)(DAT_00598ff0 + 2);
  local_44 = 0;
  local_40 = 0;
  if (DAT_004d0438 == 0) {
    local_18 = 7.673848903566801e+21;
    local_20 = local_104;
    local_1c = (float *)0xbf800000;
    local_24 = 0x484b0f;
    FUN_00483c00();
    local_20 = local_f8;
    local_18 = 7.673846651766987e+21;
    local_1c = (float *)0xbf800000;
    local_24 = 0x484b2d;
    FUN_00483c00();
    local_20 = local_ec;
    local_18 = 7.673848903566801e+21;
    local_1c = (float *)0x3f800000;
    local_24 = 0x484b4b;
    FUN_00483c00();
    local_18._4_4_ = 0x447a0000;
  }
  else {
    local_20 = local_104;
    local_18 = (double)CONCAT44(DAT_005d669c,0xbf800000);
    local_1c = (float *)0xbf800000;
    local_24 = 0x484a98;
    FUN_00483c00();
    local_20 = local_f8;
    local_18 = (double)CONCAT44(DAT_005d669c,0x3f800000);
    local_1c = (float *)0xbf800000;
    local_24 = 0x484ab8;
    FUN_00483c00();
    local_20 = local_ec;
    local_18 = (double)CONCAT44(DAT_005d669c,0xbf800000);
    local_1c = (float *)0x3f800000;
    local_24 = 0x484ad7;
    FUN_00483c00();
    local_18._4_4_ = DAT_005d669c;
  }
  local_20 = local_e0;
  local_18 = (double)CONCAT44(local_18._4_4_,0x3f800000);
  local_1c = (float *)0x3f800000;
  local_24 = 0x484b69;
  FUN_00483c00();
  local_1c = (float *)local_104;
  local_18 = (double)CONCAT44(&local_44,&local_4c);
  local_20 = (undefined *)0x484b80;
  FUN_00483730();
  local_1c = (float *)local_f8;
  local_18 = (double)CONCAT44(&local_44,&local_4c);
  local_20 = (undefined *)0x484b97;
  FUN_00483730();
  local_1c = (float *)local_ec;
  local_18 = (double)CONCAT44(&local_44,&local_4c);
  local_20 = (undefined *)0x484bae;
  FUN_00483730();
  local_1c = (float *)local_e0;
  local_18 = (double)CONCAT44(&local_44,&local_4c);
  local_20 = (undefined *)0x484bc5;
  FUN_00483730();
  local_1c = &local_d4;
  local_d4 = -*(float *)(DAT_005e45e4 + 0x228);
  local_d0 = -*(float *)(DAT_005e45e4 + 0x22c);
  local_cc = -*(float *)(DAT_005e45e4 + 0x230);
  local_18 = (double)CONCAT44(&local_44,&local_4c);
  local_20 = (undefined *)0x484c0b;
  FUN_00483730();
  local_18 = (double)CONCAT44(5,local_104);
  local_1c = (float *)0x484c1c;
  FUN_00483470();
  if ((DAT_004d7a2c == 0) || (DAT_004d7a30 != 0)) {
    local_18 = (double)CONCAT44(-*(float *)(DAT_005e45e4 + 0x230),-*(float *)(DAT_005e45e4 + 0x228))
    ;
  }
  else {
    iVar11 = *(int *)(*(int *)(DAT_005df318 + 4) + 4);
    local_18 = (double)CONCAT44(*(undefined4 *)(iVar11 + 0x3e),*(undefined4 *)(iVar11 + 0x36));
  }
  local_1c = (float *)DAT_00598ff0;
  local_20 = (undefined *)0x484c78;
  local_38 = FUN_0045cb80();
  piVar14 = DAT_00598ff0;
  local_20 = (undefined *)(uint)*(ushort *)((int)DAT_00598ff0 + 0xe);
  local_5c = 0;
  local_1c = (float *)(uint)*(ushort *)(DAT_00598ff0 + 4);
  local_54 = 0xffffffff;
  if ((((0.0 < local_d4) && (0.0 < local_cc)) &&
      (uVar2 = *(ushort *)((int)DAT_00598ff0 + 6),
      local_d4 < (float)(uint)uVar2 * (float)(int)local_20 * (float)(int)local_1c)) &&
     (local_cc <
      (float)(uint)*(ushort *)(DAT_00598ff0 + 2) * (float)(int)local_20 * (float)(int)local_1c)) {
    local_18 = (double)CONCAT44(0x484d1b,(int)local_18);
    iVar11 = __ftol();
    iVar11 = iVar11 * (uint)uVar2;
    local_18 = (double)CONCAT44(0x484d30,(int)local_18);
    iVar5 = __ftol();
    iVar11 = *(int *)(*(int *)((int)piVar14 + 10) + (iVar11 + iVar5) * 4);
    if (0 < iVar11) {
      local_5c = *(int *)(*piVar14 + -0x24 + iVar11 * 0x3e);
      local_54 = *(uint *)((int)piVar14 + local_5c * 4 + 0x26);
    }
  }
  local_18 = (double)CONCAT44(0x484d60,(int)local_18);
  iVar6 = __ftol();
  local_18 = (double)CONCAT44(0x484d6c,(int)local_18);
  iVar11 = __ftol();
  local_18 = (double)CONCAT44(0x484d78,(int)local_18);
  local_3c = __ftol();
  local_18 = (double)CONCAT44(0x484d83,(int)local_18);
  iVar5 = __ftol();
  if (iVar6 < 0) {
    iVar6 = 0;
  }
  if (local_3c < 0) {
    local_3c = 0;
  }
  if (iVar11 < 0) {
    iVar11 = 0;
  }
  if (iVar5 < 0) {
    iVar5 = 0;
  }
  uVar19 = (uint)*(ushort *)((int)piVar14 + 6);
  if ((int)uVar19 <= iVar11) {
    iVar11 = uVar19 - 1;
  }
  uVar8 = (uint)*(ushort *)(piVar14 + 2);
  if ((int)uVar8 <= iVar5) {
    iVar5 = uVar8 - 1;
  }
  if ((int)uVar19 <= iVar6) {
    iVar6 = uVar19 - 1;
  }
  if ((int)uVar8 <= local_3c) {
    local_3c = uVar8 - 1;
  }
  if ((float10)(iVar11 + iVar6) * extraout_ST0 * (float10)0.5 <= (float10)local_d4) {
    iVar17 = -1;
    local_28 = iVar11;
  }
  else {
    iVar17 = 1;
    local_28 = iVar6;
    iVar6 = iVar11;
  }
  if ((float10)(iVar5 + local_3c) * extraout_ST0 * (float10)0.5 <= (float10)local_cc) {
    local_50 = -1;
    local_74 = iVar5;
  }
  else {
    local_50 = 1;
    local_74 = local_3c;
    local_3c = iVar5;
  }
  local_18 = (double)((int)local_1c * (int)local_1c * (int)local_20 * (int)local_20);
  local_18 = local_18 + local_18;
  local_1c = (float *)0x484e71;
  local_58 = iVar17;
  fVar18 = (float10)FUN_004ad534();
  local_18 = (double)CONCAT44(DAT_005e45e4 + 0xd4,DAT_005e45e4 + 0x278);
  local_1c = (float *)local_144;
  local_68 = (float)(fVar18 * (float10)0.5);
  local_20 = (undefined *)0x484e9b;
  FUN_0045ecb0();
  local_18 = (double)(*(float *)(DAT_005e45e4 + 0x2a0) * *(float *)(DAT_005e45e4 + 0x2a0) +
                     *(float *)(DAT_005e45e4 + 0x280) * *(float *)(DAT_005e45e4 + 0x280));
  local_1c = (float *)0x484ec8;
  FUN_004ad534();
  DAT_005ba504 = 0;
  DAT_005b9ce4 = 0;
  DAT_005ba500 = 0;
  local_28 = local_28 - iVar17;
  local_74 = local_74 - local_50;
  do {
    local_28 = local_28 + iVar17;
    local_2c = local_74;
    do {
      local_2c = local_2c + local_50;
      iVar11 = *(int *)(*(int *)((int)DAT_00598ff0 + 10) +
                       ((uint)*(ushort *)((int)DAT_00598ff0 + 6) * local_2c + local_28) * 4);
      if (0 < iVar11) {
        fVar15 = (float)(iVar11 * 0x3e);
        iVar5 = *DAT_00598ff0 + (int)fVar15;
        iVar17 = *(int *)(*DAT_00598ff0 + -0x24 + (int)fVar15);
        if (((local_5c == iVar17) || ((local_54 & 1 << ((byte)iVar17 & 0x1f)) != 0)) &&
           (local_64 = (uint)*(ushort *)(iVar5 + -0x38), *(int *)(iVar5 + -0x30) != 0)) {
          local_18 = (double)CONCAT44(local_104,local_68);
          local_1c = (float *)(((float)local_2c - -0.5) * (float)(uint)*(ushort *)(DAT_00598ff0 + 4)
                              * (float)(uint)*(ushort *)((int)DAT_00598ff0 + 0xe));
          local_20 = (undefined *)
                     (((float)local_28 - -0.5) * (float)local_104 *
                     (float)(uint)*(ushort *)((int)DAT_00598ff0 + 0xe));
          local_24 = 0x484fd4;
          local_6c = iVar11;
          local_70 = FUN_00483370();
          if (local_70 != 0) {
            DAT_005ba500 = DAT_005ba500 + 1;
            iVar5 = 0;
            if (0 < local_60) {
              local_18 = 0.0;
              iVar17 = DAT_00598d90;
              do {
                iVar11 = *(int *)(*(int *)(*DAT_00598ff0 + -0x28 + (int)fVar15) + 4 + local_18._4_4_
                                 );
                if (0 < iVar11) {
                  iVar9 = iVar11 * 4;
                  iVar10 = *(int *)(*(int *)(iVar17 + 0x230) + -4 + iVar9);
                  local_18 = (double)((ulonglong)local_18._4_4_ << 0x20);
                  if (((*(byte *)(iVar10 + 0xa1) & 4) != 0) && (DAT_005ba504 < 500)) {
                    iVar11 = iVar11 + -1;
                    local_18 = (double)CONCAT44(iVar11,0x485064);
                    local_30 = iVar11;
                    iVar7 = FUN_00483320();
                    iVar17 = DAT_00598d90;
                    if (iVar7 == 0) {
                      local_18 = (double)CONCAT44(local_144,iVar10);
                      local_1c = (float *)0x48507c;
                      iVar7 = FUN_00485ea0();
                      iVar17 = DAT_00598d90;
                      if (iVar7 != 0) {
                        if (((DAT_00598f28 == 2) && (local_38 != 0)) && (DAT_00598e18 == 0)) {
                          if ((*(uint *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + -4 +
                                                          iVar9) + 0xa5) +
                                        (uint)(*(ushort *)(local_38 + 0xd) >> 5) * 4) &
                              1 << ((byte)*(ushort *)(local_38 + 0xd) & 0x1f)) == 0)
                          goto LAB_004851ed;
                          iVar11 = local_30;
                          iVar10 = (int)local_18;
                        }
                        local_18 = (double)CONCAT44(1,iVar11);
                        local_1c = (float *)0x4850e2;
                        FUN_00483340();
                        iVar7 = local_24;
                        *(undefined4 *)
                         (*(int *)(DAT_00598d90 + 0x22c) +
                         (uint)*(byte *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + -4 + iVar9) +
                                        0x5a) * 4) = 1;
                        (&DAT_005ba620)[DAT_005ba504] = iVar11;
                        DAT_005ba504 = DAT_005ba504 + 1;
                        iVar17 = DAT_00598d90;
                        if (DAT_00598d80 != 0) {
                          piVar14 = *(int **)(iVar10 + 0x56);
                          iVar11 = 0;
                          if (piVar14[0xf] == 0) {
                            local_18 = (double)CONCAT44(*piVar14 << 5,piVar14[1]);
                          }
                          else {
                            local_18 = (double)CONCAT44(*piVar14 << 5,piVar14[0xf]);
                          }
                          local_1c = (float *)(&DAT_005bbec0 + local_24 * 0x20);
                          local_20 = (undefined *)0x485158;
                          FUN_004ad7a0();
                          uVar19 = 0;
                          DAT_00598f44 = DAT_00598f44 + **(int **)(iVar10 + 0x56);
                          piVar14 = *(int **)(iVar10 + 0x56);
                          local_24 = iVar7 + *piVar14;
                          iVar17 = DAT_00598d90;
                          if (piVar14[5] != 0) {
                            do {
                              uVar12 = 0;
                              uVar8 = DAT_00598f3c & 0xff;
                              if (uVar8 != 0) {
                                piVar16 = &DAT_005bae00;
                                do {
                                  if (*(int *)(piVar14[7] + 0x48 + iVar11) == *piVar16) break;
                                  uVar12 = uVar12 + 1;
                                  piVar16 = piVar16 + 1;
                                } while (uVar12 < uVar8);
                                iVar10 = (int)local_18;
                              }
                              if (uVar12 == uVar8) {
                                if (uVar8 == 0x100) {
                                  return;
                                }
                                (&DAT_005bae00)[uVar8] = *(undefined4 *)(piVar14[7] + 0x48 + iVar11)
                                ;
                                DAT_00598f3c = CONCAT31(DAT_00598f3c._1_3_,
                                                        (char)DAT_00598f3c + '\x01');
                              }
                              piVar14 = *(int **)(iVar10 + 0x56);
                              uVar19 = uVar19 + 1;
                              iVar11 = iVar11 + 0x50;
                              iVar17 = DAT_00598d90;
                            } while (uVar19 < (uint)piVar14[5]);
                          }
                        }
                      }
                    }
                  }
                }
LAB_004851ed:
                uVar2 = *(ushort *)
                         (*(int *)(*DAT_00598ff0 + -0x28 + (int)local_20) + 10 + local_18._4_4_);
                iVar11 = local_6c;
                fVar15 = (float)local_20;
                uVar4 = (ulonglong)local_18;
                while ((local_6c = iVar11, local_20 = (undefined *)fVar15, uVar2 != 0 &&
                       (local_18._4_4_ = (uint)(uVar4 >> 0x20), DAT_005ba504 < 500))) {
                  iVar11 = (uint)uVar2 * 10;
                  local_18 = (double)(uVar4 & 0xffffffff00000000);
                  uVar2 = *(ushort *)(*(int *)(iVar17 + 0x234) + -10 + iVar11);
                  if (((uVar2 & 0x8000) == 0) &&
                     ((*(byte *)(*(int *)(*(int *)(iVar17 + 0x230) + (uint)uVar2 * 4) + 0xa1) & 4)
                      != 0)) {
                    local_18 = (double)CONCAT44((uint)uVar2,0x48525c);
                    iVar9 = FUN_00483320();
                    iVar17 = DAT_00598d90;
                    if ((iVar9 == 0) &&
                       (iVar9 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                        (uint)*(ushort *)
                                               (*(int *)(DAT_00598d90 + 0x234) + -10 + iVar11) * 4),
                       local_30 = iVar9, iVar9 != 0)) {
                      local_18 = (double)CONCAT44(local_144,iVar9);
                      local_1c = (float *)0x48529a;
                      iVar7 = FUN_00485ea0();
                      iVar10 = local_24;
                      iVar17 = DAT_00598d90;
                      if ((iVar7 != 0) &&
                         ((((DAT_00598f28 != 2 || (local_38 == 0)) || (DAT_00598e18 != 0)) ||
                          (puVar1 = (ushort *)(*(int *)(DAT_00598d90 + 0x234) + -10 + iVar11),
                          iVar11 = (int)local_18,
                          (*(uint *)(*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                                      (uint)*puVar1 * 4) + 0xa5) +
                                    (uint)(*(ushort *)(local_38 + 0xd) >> 5) * 4) &
                          1 << ((byte)*(ushort *)(local_38 + 0xd) & 0x1f)) != 0)))) {
                        if (DAT_00598d80 != 0) {
                          piVar14 = *(int **)(iVar9 + 0x56);
                          if (piVar14[0xf] == 0) {
                            local_18 = (double)CONCAT44(*piVar14 << 5,piVar14[1]);
                          }
                          else {
                            local_18 = (double)CONCAT44(*piVar14 << 5,piVar14[0xf]);
                          }
                          local_1c = (float *)(&DAT_005bbec0 + local_24 * 0x20);
                          local_20 = (undefined *)0x485341;
                          FUN_004ad7a0();
                          uVar19 = 0;
                          DAT_00598f44 = DAT_00598f44 + **(int **)(iVar9 + 0x56);
                          piVar14 = *(int **)(iVar9 + 0x56);
                          local_24 = iVar10 + *piVar14;
                          if (piVar14[5] != 0) {
                            iVar17 = 0;
                            do {
                              uVar12 = 0;
                              uVar8 = DAT_00598f3c & 0xff;
                              if (uVar8 != 0) {
                                piVar16 = &DAT_005bae00;
                                do {
                                  if (*(int *)(piVar14[7] + 0x48 + iVar17) == *piVar16) break;
                                  uVar12 = uVar12 + 1;
                                  piVar16 = piVar16 + 1;
                                } while (uVar12 < uVar8);
                                iVar11 = (int)local_18;
                                iVar9 = local_30;
                              }
                              if (uVar12 == uVar8) {
                                if (uVar8 == 0x100) {
                                  return;
                                }
                                (&DAT_005bae00)[uVar8] = *(undefined4 *)(piVar14[7] + 0x48 + iVar17)
                                ;
                                DAT_00598f3c = CONCAT31(DAT_00598f3c._1_3_,
                                                        (char)DAT_00598f3c + '\x01');
                              }
                              piVar14 = *(int **)(iVar9 + 0x56);
                              uVar19 = uVar19 + 1;
                              iVar17 = iVar17 + 0x50;
                            } while (uVar19 < (uint)piVar14[5]);
                          }
                        }
                        local_18 = (double)CONCAT44(1,(uint)*(ushort *)
                                                             (*(int *)(DAT_00598d90 + 0x234) + -10 +
                                                             iVar11));
                        local_1c = (float *)0x4853f4;
                        FUN_00483340();
                        iVar10 = DAT_00598d90;
                        iVar17 = DAT_005ba504 + 1;
                        DAT_005ba504 = iVar17;
                        *(uint *)(iVar17 * 4 + 0x5ba61c) =
                             (uint)*(ushort *)(*(int *)(DAT_00598d90 + 0x234) + -10 + iVar11);
                        iVar17 = *(int *)(*(int *)(iVar10 + 0x230) +
                                         *(int *)(iVar17 * 4 + 0x5ba61c) * 4);
                        iVar9 = *(int *)(iVar17 + 0x9d);
                        if ((iVar9 != 0) && ((*(byte *)(iVar9 + 1) & 2) != 0)) {
                          local_18 = (double)CONCAT44(iVar17,*(undefined4 *)(DAT_005e5010 + 8));
                          local_1c = (float *)0x48544c;
                          FUN_004832b0();
                          iVar10 = DAT_00598d90;
                        }
                        *(undefined4 *)
                         (*(int *)(iVar10 + 0x22c) +
                         (uint)*(byte *)(*(int *)(*(int *)(iVar10 + 0x230) +
                                                 (uint)*(ushort *)
                                                        (*(int *)(iVar10 + 0x234) + -10 + iVar11) *
                                                 4) + 0x5a) * 4) = 1;
                        iVar17 = DAT_00598d90;
                      }
                    }
                  }
                  uVar2 = *(ushort *)(*(int *)(iVar17 + 0x234) + -8 + iVar11);
                  iVar11 = local_6c;
                  fVar15 = (float)local_20;
                  uVar4 = (ulonglong)local_18;
                }
                iVar5 = iVar5 + 1;
                local_18 = (double)((ulonglong)(local_18._4_4_ + 0xf) << 0x20);
              } while (iVar5 < local_60);
            }
            if (499 < DAT_005ba504) {
              DAT_005ba504 = 499;
            }
            bVar3 = false;
            if (0 < (int)DAT_00598f2c) {
              puVar13 = &DAT_005b94e0;
              uVar19 = DAT_00598f2c;
              do {
                if ((float *)*puVar13 == local_1c) {
                  bVar3 = true;
                }
                puVar13 = puVar13 + 4;
                uVar19 = uVar19 - 1;
              } while (uVar19 != 0);
            }
            _DAT_005b9474 = DAT_005ba504;
            if ((!bVar3) &&
               (((DAT_00598f28 != 2 || (local_38 == 0)) ||
                ((DAT_00598e18 != 0 ||
                 ((*(uint *)(*(int *)(*DAT_00598ff0 + -4 + (int)fVar15) +
                            (uint)(*(ushort *)(local_38 + 0xd) >> 5) * 4) &
                  1 << ((byte)*(ushort *)(local_38 + 0xd) & 0x1f)) != 0)))))) {
              DAT_005b9ce4 = DAT_005b9ce4 + local_64;
              if (local_70 == 2) {
                local_34 = local_34 + -1;
                if (DAT_00598f2c < 0x80) {
                  (&DAT_005b94e0)[DAT_00598f2c * 4] = local_1c;
                  (&DAT_005b94e4)[DAT_00598f2c * 4] = 0;
LAB_004855aa:
                  (&DAT_005b94ec)[DAT_00598f2c * 4] = iVar11 + -1;
                  DAT_00598f2c = DAT_00598f2c + 1;
                }
              }
              else if (DAT_00598f2c < 0x80) {
                (&DAT_005b94e0)[DAT_00598f2c * 4] = local_1c;
                (&DAT_005b94e4)[DAT_00598f2c * 4] = 1;
                goto LAB_004855aa;
              }
              local_34 = local_34 + 1;
            }
          }
        }
      }
    } while (local_2c != local_3c);
    iVar17 = local_58;
    if (local_28 == iVar6) {
      return;
    }
  } while( true );
}



int FUN_004855e0(int param_1,int param_2,int param_3,float *param_4)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  float fVar15;
  int iVar16;
  int iVar17;
  uint uVar18;
  int iVar19;
  uint uVar20;
  int *piVar21;
  float *pfVar22;
  float10 fVar23;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float local_c0 [8];
  float local_a0;
  undefined4 local_9c;
  float local_98;
  float local_80;
  undefined4 local_7c;
  float local_78;
  float local_60;
  undefined4 local_5c;
  float local_58;
  float local_40;
  float local_3c;
  float local_34;
  int local_20 [4];
  int iVar24;
  int iVar25;
  
  AdjustStackForLargeAllocations();
  uVar20 = (uint)*(ushort *)(DAT_00598ff0 + 4);
  iVar25 = 0;
  iVar24 = 0;
  uVar18 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe);
  local_c0[0] = (float)(param_1 * uVar20 * uVar18);
  iVar19 = *(int *)(*DAT_00598ff0 + -0x3e + param_3 * 0x3e);
  local_c0[1] = (float)*(undefined4 *)(iVar19 + 4);
  local_c0[2] = (float)(param_2 * uVar20 * uVar18);
  local_a0 = (float)((param_1 + 1) * uVar20 * uVar18);
  local_80 = local_a0;
  local_9c = *(undefined4 *)(uVar18 * 0x20 + 4 + iVar19);
  local_98 = local_c0[2];
  local_7c = *(undefined4 *)((uVar18 + 2) * uVar18 * 0x20 + 4 + iVar19);
  local_78 = (float)((param_2 + 1) * uVar20 * uVar18);
  local_60 = local_c0[0];
  local_58 = local_78;
  iVar16 = *(int *)(DAT_005e5010 + 0x2538);
  iVar17 = *(int *)(DAT_005e5010 + 0x253c);
  local_5c = *(undefined4 *)((uVar18 + 1) * uVar18 * 0x20 + 4 + iVar19);
  fVar23 = (float10)(iVar16 >> 1);
  piVar21 = local_20;
  pfVar22 = local_c0;
  param_1 = 4;
  do {
    fVar1 = param_4[7];
    fVar2 = param_4[3];
    fVar3 = *pfVar22;
    fVar4 = pfVar22[1];
    fVar5 = param_4[0xb];
    fVar6 = pfVar22[2];
    fVar7 = param_4[2];
    fVar8 = param_4[6];
    fVar9 = *param_4;
    fVar10 = pfVar22[2];
    fVar11 = param_4[0xf];
    fVar12 = param_4[1];
    fVar13 = *pfVar22;
    fVar14 = param_4[10];
    fVar15 = pfVar22[1];
    *piVar21 = 0;
    local_34 = 1.0 / (fVar5 * fVar6 + fVar1 * fVar4 + fVar2 * fVar3 + fVar11);
    fVar1 = fVar14 * pfVar22[2] + fVar8 * fVar15 + fVar7 * fVar13 + param_4[0xe];
    local_40 = (float)((((float10)pfVar22[1] * (float10)param_4[4] +
                         (float10)fVar10 * (float10)param_4[8] + (float10)fVar9 * (float10)*pfVar22
                        + (float10)param_4[0xc]) * (float10)local_34 - (float10)-1.0) * fVar23);
    local_3c = (1.0 - (param_4[5] * pfVar22[1] + param_4[9] * pfVar22[2] + fVar12 * *pfVar22 +
                      param_4[0xd]) * local_34) * (float)(iVar17 >> 1);
    if ((DAT_005d669c < fVar1) || (fVar1 < 1.0)) {
      *piVar21 = 1;
      iVar25 = 1;
    }
    if (local_40 <= 0.0) {
LAB_00485826:
      iVar25 = 1;
    }
    else {
      local_20[3] = 0x4857f5;
      iVar19 = __ftol();
      fVar23 = extraout_ST0;
      if ((iVar16 <= iVar19 + 1) || (local_3c <= 0.0)) goto LAB_00485826;
      local_20[3] = 0x485815;
      iVar19 = __ftol();
      fVar23 = extraout_ST0_00;
      if (iVar17 <= iVar19 + 1) goto LAB_00485826;
      iVar24 = 1;
    }
    pfVar22 = pfVar22 + 8;
    piVar21 = piVar21 + 1;
    param_1 = param_1 + -1;
    if (param_1 == 0) {
      if ((((local_20[0] != 0) && (local_20[1] != 0)) && (local_20[2] != 0)) && (local_20[3] != 0))
      {
        return 0;
      }
      if (iVar24 == 0) {
        if (iVar25 == 0) {
          return 1;
        }
      }
      else if (iVar25 == 0) {
        return 2;
      }
      if (iVar24 != 0) {
        return 1;
      }
      return iVar24;
    }
  } while( true );
}



bool CreateEventHandle(void)

{
  HANDLE_00598ea0 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  return HANDLE_00598ea0 != (HANDLE)0x0;
}



undefined4 FUN_004858c0(void)

{
  undefined4 uVar1;
  
  WaitForSingleObject(HANDLE_00598ea0,0xffffffff);
  uVar1 = DAT_00598f04;
  SetEvent(HANDLE_00598ea0);
  return uVar1;
}



void FUN_004858f0(undefined4 param_1)

{
  WaitForSingleObject(HANDLE_00598ea0,0xffffffff);
  DAT_00598f04 = param_1;
  SetEvent(HANDLE_00598ea0);
  return;
}



void FUN_00485920(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  FUN_004a2320();
  FUN_004a6400();
  FUN_00426720();
  iVar3 = 0;
  if (0 < DAT_005bb220) {
    piVar2 = &DAT_005bbb84;
    do {
      iVar1 = ((undefined4 *)*piVar2)[1];
      if (iVar1 == 0) {
        if (DAT_004d0424 != 0) {
          FUN_004a2440(*(undefined4 *)*piVar2);
        }
      }
      else if (DAT_004d0408 != 0) {
        FUN_004a8d85(iVar1);
      }
      iVar3 = iVar3 + 1;
      piVar2 = piVar2 + 1;
    } while (iVar3 < DAT_005bb220);
  }
  FUN_004a2350();
  return;
}



void FUN_00485990(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = DAT_005bb220;
  if (DAT_005bb220 < 200) {
    iVar2 = DAT_005bb220 * 0xc;
    *(undefined4 *)(&DAT_005bb224 + iVar2) = param_2;
    *(undefined4 *)(&DAT_005bb22c + iVar2) = param_1;
    *(undefined4 *)(&DAT_005bb228 + iVar2) = 0;
    (&DAT_005bbb84)[iVar1] = &DAT_005bb224 + iVar2;
    DAT_005bb220 = DAT_005bb220 + 1;
  }
  return;
}



void FUN_004859e0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = DAT_005bb220;
  if (DAT_005bb220 < 200) {
    iVar2 = DAT_005bb220 * 0xc;
    *(undefined4 *)(&DAT_005bb228 + iVar2) = param_2;
    *(undefined4 *)(&DAT_005bb22c + iVar2) = param_1;
    *(undefined4 *)(&DAT_005bb224 + iVar2) = 0;
    (&DAT_005bbb84)[iVar1] = &DAT_005bb224 + iVar2;
    DAT_005bb220 = DAT_005bb220 + 1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00485a30(int *param_1,int *param_2)

{
  _DAT_005b9468 = param_1;
  _DAT_005b9464 = param_2;
  if (*(float *)(*param_1 + 8) < *(float *)(*param_2 + 8)) {
    return 1;
  }
  return 0xffffffff;
}



void FUN_00485a70(void)

{
  int *piVar1;
  int iVar2;
  undefined2 uVar3;
  undefined2 extraout_var;
  int **ppiVar4;
  int iVar5;
  int iVar6;
  int local_28 [4];
  int local_18;
  undefined4 local_14;
  int iVar7;
  int iVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  local_28[0] = DAT_005986c8;
  if (DAT_005e72d0 == 0) {
    local_28[1] = DAT_005a1130;
    local_28[2] = DAT_005a1134;
    local_28[3] = DAT_005a1138;
    local_18 = DAT_005a113c;
    local_14 = DAT_005a1140;
  }
  else {
    local_28[1] = DAT_005a1144;
    local_28[2] = DAT_005a1148;
    local_28[3] = DAT_005a114c;
    local_18 = DAT_005a1150;
    local_14 = DAT_005a1154;
  }
  iVar9 = 0;
  do {
    iVar7 = local_28[iVar9];
    if (iVar7 != 0) {
      iVar8 = 0;
      if (0 < DAT_005bb220) {
        ppiVar4 = (int **)&DAT_005bbb84;
        iVar5 = *(int *)(iVar7 + 0x26);
        do {
          piVar1 = *ppiVar4;
          uVar3 = (undefined2)((uint)iVar7 >> 0x10);
          iVar6 = iVar5;
          if (*piVar1 == 0) {
            local_28[3] = *(int *)(piVar1[1] + 0x5c);
            if (local_28[3] == iVar7) {
              local_18 = CONCAT22(uVar3,*(undefined2 *)(piVar1[1] + 4));
              local_14 = 1;
              local_28[2] = 0x485b71;
              local_14 = FUN_004a8c65();
              local_18 = *(undefined4 *)(piVar1[1] + 0x5c);
              local_28[3] = 0x485b81;
              FUN_0048f4c0();
              iVar6 = iVar5 + -1;
              if (iVar6 == 0) break;
              iVar2 = piVar1[1];
              if (*(char *)(iVar2 + 0x85) == '\0') {
                local_18 = CONCAT22(extraout_var,*(undefined2 *)(iVar2 + 10));
                local_28[3] = *(undefined4 *)(iVar2 + 0x5c);
                local_14 = 1;
                local_28[2] = 0x485ba4;
                local_14 = FUN_004a8c65();
                local_18 = *(undefined4 *)(piVar1[1] + 0x5c);
                local_28[3] = 0x485bb4;
                FUN_0048f4c0();
                iVar6 = iVar5 + -2;
                goto joined_r0x00485bb8;
              }
            }
          }
          else if (iVar9 == 0) {
            local_14 = CONCAT22(uVar3,*(undefined2 *)(*piVar1 + 8));
            local_18 = DAT_005986c8;
            local_28[3] = 0x485b42;
            local_14 = FUN_0048f3a0();
            local_18 = DAT_005986c8;
            local_28[3] = 0x485b52;
            FUN_0048f4c0();
            iVar6 = iVar5 + -1;
joined_r0x00485bb8:
            if (iVar6 == 0) break;
          }
          iVar8 = iVar8 + 1;
          ppiVar4 = ppiVar4 + 1;
          iVar5 = iVar6;
        } while (iVar8 < DAT_005bb220);
      }
    }
    iVar9 = iVar9 + 1;
    if (5 < iVar9) {
      return;
    }
  } while( true );
}



void FUN_00485bf0(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  puVar2 = &DAT_004d1b60;
  puVar3 = (undefined4 *)(DAT_005e45e4 + 0xd4);
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
            (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0x114),DAT_005e45e4 + 0xd4);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00485c30(float param_1,undefined4 param_2,float param_3)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  float10 fVar4;
  float10 fVar5;
  
  AdjustStackForLargeAllocations();
  fVar4 = (float10)FUN_004ae0c4((double)(param_3 * 0.5));
  fVar5 = (float10)FUN_004ae014((double)(param_3 * 0.5));
  puVar2 = &DAT_004d1ae0;
  puVar3 = &DAT_004d1b60;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  _DAT_004d1b88 = (float)fVar5;
  _DAT_004d1b98 = (float)-(fVar5 * (float10)param_1);
  _DAT_004d1b8c = (float)fVar5;
  puVar2 = &DAT_004d1b60;
  puVar3 = (undefined4 *)(DAT_005e45e4 + 0xd4);
  DAT_004d1b60 = (float)fVar4;
  _DAT_004d1b74 = (float)fVar4;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
            (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(DAT_005e45e4 + 0x114),DAT_005e45e4 + 0xd4);
  return;
}



void FUN_00485cf0(void)

{
  short *psVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  short *psVar6;
  short sVar7;
  int iVar8;
  uint uVar9;
  int *piVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  int *piVar16;
  
  AdjustStackForLargeAllocations();
  (**(code **)(**(int **)(DAT_005e5010 + 0x14) + 0x68))
            (*(int **)(DAT_005e5010 + 0x14),1,&DAT_004d1ae0);
  if ((char)DAT_00598f3c != '\0') {
    piVar16 = &DAT_005bae00;
    do {
      iVar8 = 0;
      iVar15 = 0;
      iVar11 = 0;
      (**(code **)(**(int **)(DAT_005e5010 + 0x14) + 0x5c))
                (*(int **)(DAT_005e5010 + 0x14),1,*piVar16);
      if (DAT_005ba504 != 0) {
        piVar10 = &DAT_005ba620;
        iVar4 = DAT_005ba504;
        do {
          iVar14 = 0;
          uVar13 = 0;
          iVar2 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + *piVar10 * 4);
          iVar5 = *(int *)(iVar2 + 0x56);
          if (*(int *)(iVar5 + 0x14) != 0) {
            iVar12 = 0;
            do {
              if (*(int *)(*(int *)(iVar5 + 0x1c) + 0x48 + iVar12) == *piVar16) {
                uVar9 = 0;
                if (*(int *)(*(int *)(iVar5 + 0x20) + uVar13 * 4) != 0) {
                  iVar3 = iVar14 * 0xc;
                  psVar6 = (short *)(&DAT_005bb202 + iVar15 * 6);
                  do {
                    psVar1 = (short *)(*(int *)(iVar5 + 0xc) + iVar3);
                    iVar3 = iVar3 + 0xc;
                    sVar7 = (short)iVar8;
                    psVar6[-1] = *psVar1 + sVar7;
                    *psVar6 = *(short *)(*(int *)(*(int *)(iVar2 + 0x56) + 0xc) + -10 + iVar3) +
                              sVar7;
                    psVar6[1] = *(short *)(*(int *)(*(int *)(iVar2 + 0x56) + 0xc) + -8 + iVar3) +
                                sVar7;
                    iVar5 = *(int *)(iVar2 + 0x56);
                    iVar15 = iVar15 + 1;
                    uVar9 = uVar9 + 1;
                    psVar6 = psVar6 + 3;
                    iVar8 = iVar11;
                  } while (uVar9 < *(uint *)(*(int *)(iVar5 + 0x20) + uVar13 * 4));
                }
              }
              iVar5 = *(int *)(iVar2 + 0x56);
              iVar14 = iVar14 + *(int *)(*(int *)(iVar5 + 0x20) + uVar13 * 4);
              uVar13 = uVar13 + 1;
              iVar12 = iVar12 + 0x50;
            } while (uVar13 < *(uint *)(iVar5 + 0x14));
          }
          piVar10 = piVar10 + 1;
          iVar8 = iVar8 + **(int **)(iVar2 + 0x56);
          iVar4 = iVar4 + -1;
          iVar11 = iVar8;
        } while (iVar4 != 0);
      }
      piVar16 = piVar16 + 1;
    } while (0x485d4e < (DAT_00598f3c & 0xff));
  }
  return;
}



undefined4 FUN_00485ea0(int param_1,float *param_2)

{
  float *pfVar1;
  float *pfVar2;
  float *pfVar3;
  bool bVar4;
  float10 fVar5;
  float10 fVar6;
  float local_98 [24];
  float local_38;
  float local_34;
  float local_30;
  undefined4 uStack_20;
  int iStack_1c;
  undefined8 local_18;
  float fVar7;
  char cVar8;
  uint uVar9;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  bVar4 = true;
  if ((*(byte *)(param_1 + 0xa2) & 8) == 0) {
    iStack_1c = param_1;
    fVar10 = 999.0;
    fVar7 = -999.0;
    local_18 = -7.600059763003583e+21;
    uStack_20 = 0x485ef2;
    FUN_004861c0();
    uVar9 = 0;
    if (param_1._3_1_ != 0) {
      do {
        cVar8 = (char)uVar9;
        pfVar1 = local_98 + uVar9 * 3 + 1;
        pfVar2 = local_98 + uVar9 * 3;
        pfVar3 = local_98 + uVar9 * 3 + 2;
        local_38 = *pfVar3 * param_2[8] + param_2[4] * *pfVar1 + *param_2 * *pfVar2 + param_2[0xc];
        local_34 = *pfVar3 * param_2[9] + *pfVar2 * param_2[1] + *pfVar1 * param_2[5] + param_2[0xd]
        ;
        local_30 = *pfVar2 * param_2[2] + *pfVar1 * param_2[6] + *pfVar3 * param_2[10] +
                   param_2[0xe];
        local_18 = (double)(param_2[0xb] * *pfVar3 +
                            param_2[3] * local_98[uVar9 * 3] + param_2[7] * local_98[uVar9 * 3 + 1]
                           + param_2[0xf]);
        iStack_1c = 0x485fbb;
        fVar5 = (float10)FUN_004ad3c0();
        fVar6 = (float10)local_38 * ((float10)1.0 / fVar5);
        local_34 = (float)((float10)local_34 * ((float10)1.0 / fVar5));
        if (0.0 < local_30) {
          bVar4 = false;
        }
        if (((((float10)-1.0 <= fVar6) && (fVar6 <= (float10)1.0)) && (-1.0 <= local_34)) &&
           (local_34 <= 1.0)) {
          return 1;
        }
        if (fVar6 < (float10)(float)local_18) {
          local_18 = (double)CONCAT44(local_18._4_4_,(float)fVar6);
        }
        if ((float10)local_18._4_4_ < fVar6) {
          local_18 = (double)CONCAT44((float)fVar6,(float)local_18);
        }
        if (local_34 < fVar10) {
          fVar10 = local_34;
        }
        if (fVar7 < local_34) {
          fVar7 = local_34;
        }
        uVar9 = (uint)(byte)(cVar8 + 1U);
      } while ((byte)(cVar8 + 1U) < param_1._3_1_);
    }
    if (((!bVar4) && ((float)local_18 <= 1.0)) &&
       ((-1.0 <= local_18._4_4_ && ((fVar10 <= 1.0 && (-1.0 <= fVar7)))))) {
      return 1;
    }
    if (DAT_00598f30 < 0x200) {
      (&DAT_005b9d00)[DAT_00598f30] = param_1;
      DAT_00598f30 = DAT_00598f30 + 1;
      *(byte *)(param_1 + 0xa2) = *(byte *)(param_1 + 0xa2) | 8;
    }
  }
  return 0;
}



void FUN_004861c0(int param_1,undefined4 *param_2,undefined *param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = (undefined4 *)(param_1 + 0x79);
  puVar2 = (undefined4 *)(param_1 + 0x85);
  if (*(float *)(param_1 + 0x79) == *(float *)(param_1 + 0x85)) {
    *param_2 = *puVar1;
    param_2[1] = *(undefined4 *)(param_1 + 0x7d);
    param_2[2] = *(undefined4 *)(param_1 + 0x81);
    param_2[3] = *puVar2;
    param_2[4] = *(undefined4 *)(param_1 + 0x89);
    param_2[5] = *(undefined4 *)(param_1 + 0x8d);
    param_2[6] = *param_2;
    param_2[7] = param_2[1];
    param_2[8] = param_2[2];
    param_2[7] = *(undefined4 *)(param_1 + 0x89);
  }
  else {
    if (*(float *)(param_1 + 0x7d) != *(float *)(param_1 + 0x89)) {
      if (*(float *)(param_1 + 0x81) == *(float *)(param_1 + 0x8d)) {
        *param_2 = *puVar1;
        param_2[1] = *(undefined4 *)(param_1 + 0x7d);
        param_2[2] = *(undefined4 *)(param_1 + 0x81);
        param_2[3] = *puVar2;
        param_2[4] = *(undefined4 *)(param_1 + 0x89);
        param_2[5] = *(undefined4 *)(param_1 + 0x8d);
        param_2[6] = *param_2;
        param_2[7] = param_2[1];
        param_2[8] = param_2[2];
        param_2[6] = *puVar2;
        param_2[9] = *param_2;
        param_2[10] = param_2[1];
        param_2[0xb] = param_2[2];
        param_2[10] = *(undefined4 *)(param_1 + 0x89);
        *param_3 = 4;
        return;
      }
      *param_2 = *puVar1;
      param_2[1] = *(undefined4 *)(param_1 + 0x7d);
      param_2[2] = *(undefined4 *)(param_1 + 0x81);
      param_2[3] = *puVar1;
      param_2[4] = *(undefined4 *)(param_1 + 0x7d);
      param_2[5] = *(undefined4 *)(param_1 + 0x8d);
      puVar2 = (undefined4 *)(param_1 + 0x85);
      param_2[6] = *(undefined4 *)(param_1 + 0x85);
      param_2[7] = *(undefined4 *)(param_1 + 0x7d);
      param_2[8] = *(undefined4 *)(param_1 + 0x81);
      param_2[9] = *puVar2;
      param_2[10] = *(undefined4 *)(param_1 + 0x7d);
      param_2[0xb] = *(undefined4 *)(param_1 + 0x8d);
      param_2[0xc] = *puVar1;
      param_2[0xd] = *(undefined4 *)(param_1 + 0x89);
      param_2[0xe] = *(undefined4 *)(param_1 + 0x81);
      param_2[0xf] = *puVar1;
      param_2[0x10] = *(undefined4 *)(param_1 + 0x89);
      param_2[0x11] = *(undefined4 *)(param_1 + 0x8d);
      param_2[0x12] = *puVar2;
      param_2[0x13] = *(undefined4 *)(param_1 + 0x89);
      param_2[0x14] = *(undefined4 *)(param_1 + 0x81);
      param_2[0x15] = *puVar2;
      param_2[0x16] = *(undefined4 *)(param_1 + 0x89);
      param_2[0x17] = *(undefined4 *)(param_1 + 0x8d);
      *param_3 = 8;
      return;
    }
    *param_2 = *puVar1;
    param_2[1] = *(undefined4 *)(param_1 + 0x7d);
    param_2[2] = *(undefined4 *)(param_1 + 0x81);
    param_2[3] = *puVar2;
    param_2[4] = *(undefined4 *)(param_1 + 0x89);
    param_2[5] = *(undefined4 *)(param_1 + 0x8d);
    param_2[6] = *param_2;
    param_2[7] = param_2[1];
    param_2[8] = param_2[2];
    param_2[6] = *puVar2;
  }
  param_2[9] = *param_2;
  param_2[10] = param_2[1];
  param_2[0xb] = param_2[2];
  param_2[0xb] = *(undefined4 *)(param_1 + 0x8d);
  *param_3 = 4;
  return;
}



undefined4 FUN_004863f0(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 local_4c [3];
  undefined4 local_40;
  undefined4 local_3c;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x20);
  *unaff_ESI = 7;
  unaff_ESI[1] = 8;
  *(undefined2 *)(unaff_ESI + 2) = 3;
  *(undefined4 *)(unaff_ESI + 4) = 4;
  *(undefined4 *)(unaff_ESI + 8) = 3;
  *(undefined4 *)(unaff_ESI + 0xc) = 5;
  *(undefined4 *)(unaff_ESI + 0x10) = param_1;
  *(undefined4 *)(unaff_ESI + 0x14) = 6;
  *(undefined4 *)(unaff_ESI + 0x18) = param_2;
  unaff_ESI[0x1c] = 0xb;
  unaff_ESI[0x1d] = 0;
  *(undefined2 *)(unaff_ESI + 0x1e) = 0;
  iVar1 = (**(code **)(iRam00000000 + 0x14))();
  if (iVar1 != 0) {
    return 0;
  }
  local_3c = 0x4864e4;
  _memset(local_4c,0,0x30);
  local_4c[0] = 0x30;
  local_40 = 0;
  local_3c = 0x20;
  iVar1 = (**(code **)(iRam00000000 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  *param_3 = 0;
  return 1;
}



undefined4 FUN_00486530(undefined4 param_1,undefined4 *param_2)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 local_4c [3];
  undefined4 local_40;
  undefined4 local_3c;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x14);
  *unaff_ESI = 5;
  unaff_ESI[1] = 0xc;
  *(undefined2 *)(unaff_ESI + 2) = 1;
  *(undefined4 *)(unaff_ESI + 8) = DAT_005b9ce8;
  *(undefined4 *)(unaff_ESI + 0xc) = param_1;
  *(undefined4 *)(unaff_ESI + 4) = DAT_005b9ce0;
  unaff_ESI[0x10] = 0xb;
  unaff_ESI[0x11] = 0;
  *(undefined2 *)(unaff_ESI + 0x12) = 0;
  iVar1 = (**(code **)(iRam00000000 + 0x14))();
  if (iVar1 != 0) {
    return 0;
  }
  local_3c = 0x48660b;
  _memset(local_4c,0,0x30);
  local_4c[0] = 0x30;
  local_40 = 0;
  local_3c = 0x14;
  iVar1 = (**(code **)(iRam00000000 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  *param_2 = 0;
  return 1;
}



undefined4 FUN_00486650(undefined4 param_1,undefined4 *param_2)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 local_4c [3];
  undefined4 local_40;
  undefined4 local_3c;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x18);
  *unaff_ESI = 8;
  unaff_ESI[1] = 8;
  *(undefined2 *)(unaff_ESI + 2) = 2;
  *(undefined4 *)(unaff_ESI + 4) = 0x11;
  *(undefined4 *)(unaff_ESI + 8) = param_1;
  *(undefined4 *)(unaff_ESI + 0xc) = 0x12;
  *(undefined4 *)(unaff_ESI + 0x10) = param_1;
  unaff_ESI[0x14] = 0xb;
  unaff_ESI[0x15] = 0;
  *(undefined2 *)(unaff_ESI + 0x16) = 0;
  iVar1 = (**(code **)(iRam00000000 + 0x14))();
  if (iVar1 != 0) {
    return 0;
  }
  local_3c = 0x486732;
  _memset(local_4c,0,0x30);
  local_4c[0] = 0x30;
  local_40 = 0;
  local_3c = 0x18;
  iVar1 = (**(code **)(iRam00000000 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  *param_2 = 0;
  return 1;
}



undefined4 FUN_00486780(undefined4 param_1,undefined4 *param_2)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 local_4c [3];
  undefined4 local_40;
  undefined4 local_3c;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x10);
  *unaff_ESI = 8;
  unaff_ESI[1] = 8;
  *(undefined2 *)(unaff_ESI + 2) = 1;
  *(undefined4 *)(unaff_ESI + 4) = 8;
  *(undefined4 *)(unaff_ESI + 8) = param_1;
  unaff_ESI[0xc] = 0xb;
  unaff_ESI[0xd] = 0;
  *(undefined2 *)(unaff_ESI + 0xe) = 0;
  iVar1 = (**(code **)(iRam00000000 + 0x14))();
  if (iVar1 != 0) {
    return 0;
  }
  local_3c = 0x486856;
  _memset(local_4c,0,0x30);
  local_4c[0] = 0x30;
  local_40 = 0;
  local_3c = 0x10;
  iVar1 = (**(code **)(iRam00000000 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  *param_2 = 0;
  return 1;
}



void FUN_004868a0(void)

{
  return;
}



undefined4 FUN_004868b0(int param_1)

{
  void *_Dst;
  int iVar1;
  size_t _Size;
  
  _memset(&DAT_005b9440,0,0x24);
  _Size = (param_1 + 1) * 0x37;
  iVar1 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  DAT_005b9440 = _memset(_Dst,iVar1,_Size);
  if (0 < param_1) {
    iVar1 = 0x37;
    do {
      param_1 = param_1 + -1;
      *(undefined *)((int)DAT_005b9440 + iVar1) = 1;
      iVar1 = iVar1 + 0x37;
    } while (param_1 != 0);
  }
  return 1;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_00486920(char *param_1,undefined4 param_2,int param_3,int param_4)

{
  int ******ppppppiVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  int ****ppppiVar5;
  uint uVar6;
  undefined4 *puVar7;
  int *piVar8;
  int ******ppppppiVar9;
  char local_198 [256];
  undefined4 local_98 [4];
  int local_88;
  int local_74;
  undefined4 uStackY_38;
  int *****pppppiStackY_34;
  undefined4 uStackY_30;
  int *****local_2c;
  int *****local_28;
  int *****local_24;
  int *******local_20;
  int iVar10;
  int *****pppppiVar11;
  int *****pppppiVar12;
  
  AdjustStackForLargeAllocations();
  iVar10 = param_4;
  local_28 = (int *****)0x0;
  local_2c = (int *****)0x0;
  if ((param_4 == 0) && (pppppiVar12 = (int *****)0x1, 0 < *(int *)(DAT_005df2c8 + 0xcc))) {
    do {
      *(undefined *)((int)pppppiVar12 * 0x37 + 1 + DAT_005b9440) =
           *(undefined *)(*(int *)(DAT_005df2c8 + 0x10) + 0x20e + (int)pppppiVar12 * 0x222);
      pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
    } while ((int)pppppiVar12 <= *(int *)(DAT_005df2c8 + 0xcc));
  }
  iVar4 = FUN_004afef0();
  if ((iVar4 != 0) && (iVar4 = FUN_004afec0(), iVar4 != 0)) {
    return 0;
  }
  pcVar3 = param_1;
  if (iVar10 == 0) {
    FID_conflict___mbscpy(local_198,&DAT_005d50e0);
    FID_conflict__strcat(local_198,param_1);
  }
  else {
    FUN_00489960();
    FID_conflict___mbscpy(local_198,pcVar3);
  }
  DAT_005b9428 = (int ****)OpenFileWithFixedFlags0x40();
  if (DAT_005b9428 == (int ****)0x0) {
    return 0;
  }
  local_20 = (int *******)&param_3;
  local_24 = (int *****)0x486a3b;
  FUN_004ae3e0();
  if (iVar10 == 0) {
    local_20 = (int *******)&DAT_004ca030;
    local_24 = (int *****)0x486a5a;
    FUN_004ae3e0();
    local_20 = (int *******)DAT_004d80cc;
    local_24 = (int *****)0x486a77;
    FUN_004ae3e0();
    if ((param_3 == 0) || (DAT_005df318 == (int *)0x0)) {
      local_20 = (int *******)(DAT_004d80cc + 5);
    }
    else {
      local_20 = (int *******)(*(int *)(DAT_005df318[1] + 4) + 399);
    }
    local_24 = (int *****)0x486abd;
    FUN_004ae3e0();
    local_20 = (int *******)(*(int *)(DAT_005df2c8 + 4) + 8);
    local_24 = (int *****)0x486adc;
    FUN_004ae3e0();
    local_20 = *(int ********)(DAT_005df2c8 + 0xc);
    local_24 = (int *****)0x486afc;
    FUN_004ae3e0();
    ppppiVar5 = (int ****)FUN_00437ae0();
    if (ppppiVar5 != (int ****)0x0) {
      local_20 = (int *******)0x486b25;
      _memset(local_98,0,0x6c);
      local_98[0] = 0x6c;
      local_20 = (int *******)0x0;
      local_28 = (int *****)0x486b45;
      local_24 = (int *****)ppppiVar5;
      (*(code *)(*ppppiVar5)[0x19])();
      local_28 = (int *****)DAT_005b9428;
      local_2c = (int *****)0x1;
      pppppiStackY_34 = (int *****)&local_24;
      uStackY_30 = 4;
      local_24 = (int *****)0x2580;
      uStackY_38 = 0x486b6b;
      FUN_004ae3e0();
      if (*(int *)(DAT_005e5010 + 0x2194) == 0) {
        pppppiVar12 = (int *****)0x0;
        do {
          local_28 = (int *****)DAT_005b9428;
          local_2c = (int *****)0x50;
          pppppiStackY_34 = (int *****)(local_74 + (local_88 >> 1) * (int)pppppiVar12 * 2);
          uStackY_30 = 2;
          uStackY_38 = 0x486c04;
          FUN_004ae3e0();
          pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
        } while ((int)pppppiVar12 < 0x3c);
        local_28 = (int *****)0x0;
        uStackY_30 = 0x486c1e;
        local_2c = (int *****)ppppiVar5;
        (*(code *)(*ppppiVar5)[0x20])();
      }
      else {
        pppppiVar12 = (int *****)0x0;
        do {
          iVar10 = 0;
          do {
            uVar6 = (uint)*(ushort *)(local_74 + ((local_88 >> 1) * (int)pppppiVar12 + iVar10) * 2);
            local_28 = (int *****)DAT_005b9428;
            param_1 = (char *)((uVar6 & 0xffe0) << 1 | uVar6 & 0x1f);
            local_2c = (int *****)0x1;
            pppppiStackY_34 = (int *****)&param_1;
            uStackY_30 = 2;
            uStackY_38 = 0x486bbc;
            FUN_004ae3e0();
            iVar10 = iVar10 + 1;
          } while (iVar10 < 0x50);
          pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
        } while ((int)pppppiVar12 < 0x3c);
        local_28 = (int *****)0x0;
        uStackY_30 = 0x486be2;
        local_2c = (int *****)ppppiVar5;
        (*(code *)(*ppppiVar5)[0x20])();
      }
      goto LAB_00486c4e;
    }
    local_20 = (int *******)&local_24;
  }
  else {
    local_20 = (int *******)&DAT_004ca030;
  }
  local_24 = (int *****)0x486c4b;
  FUN_004ae3e0();
LAB_00486c4e:
  if (param_3 != 0) {
    local_20 = (int *******)&DAT_005df300;
    local_24 = (int *****)0x486c6c;
    FUN_004ae3e0();
    if (param_4 != 0) {
      local_20 = (int *******)&DAT_004d8328;
      local_24 = (int *****)0x486c8a;
      FUN_004ae3e0();
      DAT_005990a0 = 0;
    }
    local_20 = (int *******)&DAT_005d6540;
    local_24 = (int *****)0x486cac;
    FUN_004ae3e0();
    local_20 = (int *******)(DAT_005e45e4 + 0x90);
    local_24 = (int *****)0x486cca;
    FUN_004ae3e0();
    local_20 = (int *******)(DAT_005e45e4 + 0x4c);
    local_24 = (int *****)0x486ce7;
    FUN_004ae3e0();
    for (iVar10 = *(int *)(DAT_005df318[1] + 0x16); iVar10 != 0; iVar10 = *(int *)(iVar10 + 0x16)) {
      iVar4 = *(int *)(iVar10 + 4);
      if ((((*(byte *)(iVar4 + 0x8a) & 2) != 0) && ((*(byte *)(iVar4 + 0x8e) & 0x20) != 0)) &&
         (*(char *)(iVar4 + 0x189) == '\0')) {
        FUN_004759a0();
        iVar4 = *(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x92);
        if ((-1 < iVar4) && (iVar4 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245))) {
          param_1 = (char *)0x1;
          iVar4 = *(int *)(DAT_005df318[1] + 10);
          if (1 < *DAT_005df318) {
            do {
              iVar2 = *(int *)(iVar4 + 4);
              if (((*(uint *)(iVar2 + 0x8a) & 2) != 0) &&
                 (*(int *)(*(int *)(iVar2 + 0x100) + 0x7e) ==
                  *(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x92))) {
                *(uint *)(iVar2 + 0x8a) = *(uint *)(iVar2 + 0x8a) | 0x400000;
                FUN_00475860();
                iVar2 = *(int *)(*(int *)(iVar4 + 4) + 0x100);
                if ((*(char *)(iVar2 + 0x2a) == '\0') && (*(char *)(iVar2 + 0x36) == '\0')) {
                  *(byte *)(iVar2 + 0x58) = *(byte *)(iVar2 + 0x58) | 2;
                }
              }
              iVar4 = *(int *)(iVar4 + 10);
              param_1 = param_1 + 1;
            } while ((int)param_1 < *DAT_005df318);
          }
        }
      }
    }
    for (iVar10 = DAT_005df318[1]; iVar10 != 0; iVar10 = *(int *)(iVar10 + 10)) {
    }
    local_20 = (int *******)&stack0xffffffec;
    local_24 = (int *****)0x486e5e;
    FUN_004ae3e0();
    iVar10 = DAT_005df318[1];
    pppppiVar12 = (int *****)0x0;
    piVar8 = DAT_005df318;
    if (0 < *DAT_005df318) {
      do {
        iVar4 = *(int *)(iVar10 + 4);
        if (((((*(byte *)(iVar4 + 0x8a) & 8) == 0) || (DAT_004ca030 != 1)) ||
            (*(int *)(*(int *)(iVar4 + 0x100) + 0x92) == -1)) || (DAT_004d814c == 0)) {
          local_20 = (int *******)(iVar4 + 0x189);
          if ((*(char *)(iVar4 + 0x189) == '\0') && ((*(byte *)(iVar4 + 0x8f) & 0x10) == 0)) {
            iVar10 = *(int *)(iVar10 + 10);
          }
          else {
            local_24 = (int *****)0x486ee5;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0x18a);
            local_24 = (int *****)0x486f01;
            FUN_004ae3e0();
            pppppiVar11 = (int *****)0x0;
            do {
              ppppppiVar1 = *(int *******)(*(int *)(iVar10 + 4) + 0x175 + (int)pppppiVar11 * 4);
              if (ppppppiVar1 != (int ******)0x0) {
                local_24 = (int *****)0x486f2c;
                local_20 = (int *******)ppppppiVar1;
                FUN_004ae3e0();
                local_20 = (int *******)(ppppppiVar1 + 1);
                local_24 = (int *****)0x486f42;
                FUN_004ae3e0();
                if (0 < (int)pppppiVar12) {
                  local_20 = *(int ********)((int)ppppppiVar1 + 0x17);
                  local_24 = (int *****)0x486f60;
                  FUN_004ae3e0();
                }
                local_20 = (int *******)((int)ppppppiVar1 + 5);
                local_24 = (int *****)0x486f77;
                FUN_004ae3e0();
                local_20 = (int *******)((int)ppppppiVar1 + 10);
                local_24 = (int *****)0x486f8d;
                FUN_004ae3e0();
                local_20 = (int *******)(ppppppiVar1 + 3);
                local_24 = (int *****)0x486fa4;
                FUN_004ae3e0();
              }
              pppppiVar11 = (int *****)((int)pppppiVar11 + 1);
            } while ((int)pppppiVar11 < 5);
            iVar4 = 0;
            do {
              iVar4 = iVar4 + 1;
            } while (iVar4 < 0x1b);
            local_20 = (int *******)&stack0xfffffff0;
            local_24 = (int *****)0x486ff1;
            FUN_004ae3e0();
            pppppiVar11 = (int *****)0x0;
            do {
              local_20 = *(int ********)(*(int *)(iVar10 + 4) + 0x109 + (int)pppppiVar11 * 4);
              if (local_20 != (int *******)0x0) {
                local_24 = (int *****)0x48701c;
                FUN_004ae3e0();
                local_20 = (int *******)
                           (*(int *)(*(int *)(iVar10 + 4) + 0x109 + (int)pppppiVar11 * 4) + 4);
                local_24 = (int *****)0x487040;
                FUN_004ae3e0();
                local_20 = (int *******)
                           (*(int *)(*(int *)(iVar10 + 4) + 0x109 + (int)pppppiVar11 * 4) + 0x1f);
                local_24 = (int *****)0x487063;
                FUN_004ae3e0();
                local_20 = (int *******)
                           (*(int *)(*(int *)(iVar10 + 4) + 0x109 + (int)pppppiVar11 * 4) + 10);
                local_24 = (int *****)0x487087;
                FUN_004ae3e0();
                local_20 = (int *******)
                           (*(int *)(*(int *)(iVar10 + 4) + 0x109 + (int)pppppiVar11 * 4) + 5);
                local_24 = (int *****)0x4870ab;
                FUN_004ae3e0();
              }
              pppppiVar11 = (int *****)((int)pppppiVar11 + 1);
            } while ((int)pppppiVar11 < 0x1b);
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 6);
            local_24 = (int *****)0x4870d4;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0x46);
            local_24 = (int *****)0x4870ee;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0xa4);
            local_24 = (int *****)0x48710b;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0xd3);
            local_24 = (int *****)0x487127;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 4);
            local_24 = (int *****)0x487141;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 5);
            local_24 = (int *****)0x48715b;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0x8a);
            local_24 = (int *****)0x487177;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0x8e);
            local_24 = (int *****)0x487193;
            FUN_004ae3e0();
            local_20 = (int *******)(*(int *)(iVar10 + 4) + 0xe7);
            local_24 = (int *****)0x4871b0;
            FUN_004ae3e0();
            if ((*(byte *)(*(int *)(iVar10 + 4) + 0x8a) & 2) != 0) {
              local_20 = *(int ********)(*(int *)(iVar10 + 4) + 0x100);
              local_24 = (int *****)0x4871da;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 4);
              local_24 = (int *****)0x4871f9;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x10);
              local_24 = (int *****)0x487218;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x1c);
              local_24 = (int *****)0x487237;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x28);
              local_24 = (int *****)0x487256;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x29);
              local_24 = (int *****)0x487275;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x2a);
              local_24 = (int *****)0x487294;
              FUN_004ae3e0();
              iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
              if (*(char *)(iVar4 + 0x2a) != '\0') {
                local_20 = *(int ********)(iVar4 + 0xae);
                local_24 = (int *****)0x4872c2;
                FUN_004ae3e0();
              }
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x2b);
              local_24 = (int *****)0x4872e2;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x2f);
              local_24 = (int *****)0x487302;
              FUN_004ae3e0();
              iVar4 = *(int *)(*(int *)(iVar10 + 4) + 0x100);
              if (*(char *)(iVar4 + 0x2f) != '\0') {
                local_20 = *(int ********)(iVar4 + 0xb2);
                local_24 = (int *****)0x487330;
                FUN_004ae3e0();
              }
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x32);
              local_24 = (int *****)0x487350;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x36);
              local_24 = (int *****)0x487370;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x37);
              local_24 = (int *****)0x487390;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x3b);
              local_24 = (int *****)0x4873b0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x3f);
              local_24 = (int *****)0x4873d0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x43);
              local_24 = (int *****)0x4873f0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x44);
              local_24 = (int *****)0x487410;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x48);
              local_24 = (int *****)0x487430;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x4c);
              local_24 = (int *****)0x487450;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x58);
              local_24 = (int *****)0x487470;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x59);
              local_24 = (int *****)0x487490;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x5d);
              local_24 = (int *****)0x4874b0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x61);
              local_24 = (int *****)0x4874d0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x65);
              local_24 = (int *****)0x4874f0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x69);
              local_24 = (int *****)0x487510;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x6a);
              local_24 = (int *****)0x487530;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x6b);
              local_24 = (int *****)0x487550;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x6c);
              local_24 = (int *****)0x487570;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x6d);
              local_24 = (int *****)0x487590;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x6e);
              local_24 = (int *****)0x4875b0;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x82);
              local_24 = (int *****)0x4875d2;
              FUN_004ae3e0();
              local_20 = (int *******)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x96);
              local_24 = (int *****)0x4875f4;
              FUN_004ae3e0();
              if ((*(byte *)(*(int *)(iVar10 + 4) + 0x8a) & 8) != 0) {
                if (((DAT_004ca030 == 1) &&
                    (*(int *)(*(int *)(*(int *)(iVar10 + 4) + 0x100) + 0x92) != -1)) &&
                   (DAT_004d814c == 0)) {
                  *(undefined **)(iVar10 + 0x1e) = &DAT_005dcd46;
                }
                if (*(int *)(iVar10 + 0x1e) == 0) {
                  local_20 = (int *******)&local_2c;
                  local_24 = (int *****)0x487661;
                  FUN_004ae3e0();
                  local_20 = (int *******)&local_28;
                }
                else {
                  local_20 = (int *******)(*(int *)(iVar10 + 0x1e) + 0x44);
                  local_24 = (int *****)0x487642;
                  FUN_004ae3e0();
                  local_20 = (int *******)(*(int *)(iVar10 + 0x1e) + 0x48);
                }
                local_24 = (int *****)0x487678;
                FUN_004ae3e0();
              }
            }
            iVar10 = *(int *)(iVar10 + 10);
            piVar8 = DAT_005df318;
          }
        }
        else {
          iVar10 = *(int *)(iVar10 + 10);
        }
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < *piVar8);
    }
    if ((DAT_004ca030 % 5 == 0) && (DAT_004ca030 != 0)) {
      local_20 = (int *******)&DAT_005d2500;
      local_24 = (int *****)0x4876c1;
      FUN_004ae3e0();
    }
    puVar7 = &DAT_005dff2b;
    do {
      puVar7 = puVar7 + 0x38;
    } while ((int)puVar7 < 0x5e222b);
    local_20 = (int *******)&stack0xfffffff4;
    local_24 = (int *****)0x4876fe;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    do {
      if ((&DAT_005dff2b)[(int)pppppiVar12 * 0x38] != 0) {
        local_20 = (int *******)(&DAT_005dfe90)[(int)pppppiVar12 * 0x38];
        local_24 = (int *****)0x487735;
        FUN_004ae3e0();
        local_20 = (int *******)&local_20;
        local_24 = (int *****)0x487774;
        FUN_004ae3e0();
        local_20 = (int *******)((&DAT_005dfe90)[(int)pppppiVar12 * 0x38] + 4);
        local_24 = (int *****)0x48779d;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005dfe80 + (int)pppppiVar12 * 0xe0);
        local_24 = (int *****)0x4877c3;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005dfe81 + (int)pppppiVar12 * 0xe0);
        local_24 = (int *****)0x4877ea;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005dff2b + (int)pppppiVar12 * 0x38);
        local_24 = (int *****)0x487811;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005dff2f + (int)pppppiVar12 * 0x38);
        local_24 = (int *****)0x487838;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005dff1b + (int)pppppiVar12 * 0x38);
        local_24 = (int *****)0x48785f;
        FUN_004ae3e0();
      }
      pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
    } while ((int)pppppiVar12 < 0x28);
    iVar10 = 0;
    if (0 < DAT_004d86a8) {
      do {
        iVar10 = iVar10 + 1;
      } while (iVar10 < DAT_004d86a8);
    }
    local_20 = (int *******)&stack0xfffffff4;
    local_24 = (int *****)0x4878ca;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    if (0 < DAT_004d86a8) {
      do {
        iVar10 = DAT_004d86ac + (int)pppppiVar12 * 0xe0;
        if ((*(int *)(iVar10 + 0x10) == 0) && (*(int *)(iVar10 + 0xab) != 0)) {
          local_20 = (int *******)&local_20;
          local_24 = (int *****)0x48792f;
          FUN_004ae3e0();
          local_20 = (int *******)((int)pppppiVar12 * 0xe0 + 1 + DAT_004d86ac);
          local_24 = (int *****)0x487959;
          FUN_004ae3e0();
          local_20 = (int *******)((int)pppppiVar12 * 0xe0 + 0xab + DAT_004d86ac);
          local_24 = (int *****)0x487986;
          FUN_004ae3e0();
          local_20 = (int *******)((int)pppppiVar12 * 0xe0 + 0x9b + DAT_004d86ac);
          local_24 = (int *****)0x4879b4;
          FUN_004ae3e0();
          local_20 = (int *******)((int)pppppiVar12 * 0xe0 + 0xe + DAT_004d86ac);
          local_24 = (int *****)0x4879de;
          FUN_004ae3e0();
        }
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < DAT_004d86a8);
    }
    puVar7 = &DAT_005de770;
    do {
      puVar7 = puVar7 + 0x38;
    } while ((int)puVar7 < 0x5debd0);
    local_20 = (int *******)&stack0xfffffff4;
    local_24 = (int *****)0x487a2f;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    do {
      if ((&DAT_005de770)[(int)pppppiVar12 * 0x38] != 0) {
        local_20 = (int *******)&local_20;
        local_24 = (int *****)0x487a7e;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005de76e + (int)pppppiVar12 * 0x70);
        local_24 = (int *****)0x487aa4;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005de80b + (int)pppppiVar12 * 0x38);
        local_24 = (int *****)0x487acb;
        FUN_004ae3e0();
        local_20 = (int *******)(&DAT_005de7fb + (int)pppppiVar12 * 0xe0);
        local_24 = (int *****)0x487af2;
        FUN_004ae3e0();
      }
      pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
    } while ((int)pppppiVar12 < 5);
  }
  if (param_4 == 0) {
    pppppiVar12 = (int *****)0x1;
    if (0 < *(int *)(DAT_005df2c8 + 0xcc)) {
      do {
        ppppppiVar9 = (int ******)((int)pppppiVar12 * 0x37 + DAT_005b9440);
        local_24 = (int *****)0x487b4b;
        local_20 = (int *******)ppppppiVar9;
        FUN_004ae3e0();
        local_20 = (int *******)((int)ppppppiVar9 + 1);
        local_24 = (int *****)0x487b61;
        FUN_004ae3e0();
        local_20 = (int *******)((int)ppppppiVar9 + 6);
        local_24 = (int *****)0x487b78;
        FUN_004ae3e0();
        local_20 = *(int ********)((int)ppppppiVar9 + 7);
        local_24 = (int *****)0x487b91;
        FUN_004ae3e0();
        local_20 = *(int ********)((int)ppppppiVar9 + 0xb);
        local_24 = (int *****)0x487baa;
        FUN_004ae3e0();
        ppppppiVar1 = (int ******)((int)ppppppiVar9 + 0x13);
        local_24 = (int *****)0x487bc0;
        local_20 = (int *******)ppppppiVar1;
        FUN_004ae3e0();
        local_20 = (int *******)ppppppiVar9[7];
        local_24 = (int *****)0x487bda;
        FUN_004ae3e0();
        local_20 = (int *******)ppppppiVar9[8];
        local_24 = (int *****)0x487bf4;
        FUN_004ae3e0();
        local_20 = *(int ********)((int)ppppppiVar9 + 0x2a);
        local_24 = (int *****)0x487c0e;
        FUN_004ae3e0();
        pppppiVar11 = (int *****)0x0;
        if (*(byte *)ppppppiVar1 != 0) {
          do {
            local_20 = (int *******)ppppppiVar9[5][(int)pppppiVar11];
            local_24 = (int *****)0x487c3a;
            FUN_004ae3e0();
            local_20 = (int *******)ppppppiVar9[6][(int)pppppiVar11];
            local_24 = (int *****)0x487c5e;
            FUN_004ae3e0();
            pppppiVar11 = (int *****)((int)pppppiVar11 + 1);
          } while ((int)pppppiVar11 < (int)(uint)*(byte *)ppppppiVar1);
        }
        local_20 = (int *******)(ppppppiVar9 + 9);
        local_24 = (int *****)0x487c84;
        FUN_004ae3e0();
        local_20 = *(int ********)((int)ppppppiVar9 + 0x26);
        local_24 = (int *****)0x487c9e;
        FUN_004ae3e0();
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 <= *(int *)(DAT_005df2c8 + 0xcc));
    }
    local_20 = (int *******)(*(int *)(DAT_005df2c8 + 4) + 8);
    local_24 = (int *****)0x487cd2;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    if (0 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8)) {
      do {
        local_20 = (int *******)(*(int *)(DAT_005df2c8 + 8) + 0x14 + (int)pppppiVar12 * 0x140);
        local_24 = (int *****)0x487d08;
        FUN_004ae3e0();
        local_20 = (int *******)(*(int *)(DAT_005df2c8 + 8) + 0x11a + (int)pppppiVar12 * 0x140);
        local_24 = (int *****)0x487d34;
        FUN_004ae3e0();
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < *(int *)(*(int *)(DAT_005df2c8 + 4) + 8));
    }
    local_20 = (int *******)DAT_004d80f0;
    local_24 = (int *****)0x487d62;
    FUN_004ae3e0();
    local_20 = (int *******)(DAT_004d80f0 + 1);
    local_24 = (int *****)0x487d7e;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    do {
      local_20 = (int *******)(DAT_004d80f0[2] + (int)pppppiVar12 * 2);
      local_24 = (int *****)0x487da3;
      FUN_004ae3e0();
      pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
    } while ((int)pppppiVar12 < 5);
  }
  if (param_3 != 0) {
    pppppiVar12 = (int *****)0x0;
    if (*(short *)(DAT_00598d90 + 0x245) != 0) {
      do {
        local_20 = (int *******)(*(int *)(DAT_00598d90 + 0x247) + (int)pppppiVar12 * 6);
        local_24 = (int *****)0x487ded;
        FUN_004ae3e0();
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245));
    }
    pppppiVar12 = (int *****)0x0;
    if (*(short *)(DAT_00598d90 + 0x24b) != 0) {
      do {
        local_20 = (int *******)(*(int *)(DAT_00598d90 + 0x24f) + 2 + (int)pppppiVar12 * 6);
        local_24 = (int *****)0x487e35;
        FUN_004ae3e0();
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x24b));
    }
    local_20 = (int *******)(DAT_00598d90 + 0x2dd);
    local_24 = (int *****)0x487e67;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    if (0 < *(int *)(DAT_00598d90 + 0x23d)) {
      do {
        iVar10 = *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x241) + (int)pppppiVar12 * 4) + 0x5b);
        local_20 = (int *******)(iVar10 + 0x1e);
        local_24 = (int *****)0x487ea3;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x22);
        local_24 = (int *****)0x487eb9;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x23);
        local_24 = (int *****)0x487ed0;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x2b);
        local_24 = (int *****)0x487ee7;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x3b);
        local_24 = (int *****)0x487efd;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x3f);
        local_24 = (int *****)0x487f14;
        FUN_004ae3e0();
        local_20 = (int *******)(iVar10 + 0x1a);
        local_24 = (int *****)0x487f2b;
        FUN_004ae3e0();
        local_20 = (int *******)
                   (*(int *)(*(int *)(DAT_00598d90 + 0x241) + (int)pppppiVar12 * 4) + 0x85);
        local_24 = (int *****)0x487f55;
        FUN_004ae3e0();
        local_20 = (int *******)
                   (*(int *)(*(int *)(DAT_00598d90 + 0x241) + (int)pppppiVar12 * 4) + 0x79);
        local_24 = (int *****)0x487f7e;
        FUN_004ae3e0();
        local_20 = (int *******)
                   (*(int *)(*(int *)(DAT_00598d90 + 0x241) + (int)pppppiVar12 * 4) + 6);
        local_24 = (int *****)0x487fa6;
        FUN_004ae3e0();
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < *(int *)(DAT_00598d90 + 0x23d));
    }
    iVar10 = 0;
    if (0 < *(int *)(DAT_00598d90 + 0x239)) {
      do {
        iVar10 = iVar10 + 1;
      } while (iVar10 < *(int *)(DAT_00598d90 + 0x239));
    }
    local_20 = (int *******)&stack0xfffffff4;
    local_24 = (int *****)0x488020;
    FUN_004ae3e0();
    pppppiVar12 = (int *****)0x0;
    iVar10 = DAT_00598d90;
    if (0 < *(int *)(DAT_00598d90 + 0x239)) {
      do {
        iVar4 = *(int *)(*(int *)(iVar10 + 0x230) + (int)pppppiVar12 * 4);
        pcVar3 = *(char **)(iVar4 + 0x9d);
        if (((pcVar3 != (char *)0x0) && (*pcVar3 == '\x02')) && (*(short *)(iVar4 + 0xa1) == 0)) {
          local_20 = (int *******)&stack0xfffffff8;
          local_24 = (int *****)0x48806e;
          FUN_004ae3e0();
          iVar10 = DAT_00598d90;
        }
        pppppiVar12 = (int *****)((int)pppppiVar12 + 1);
      } while ((int)pppppiVar12 < *(int *)(iVar10 + 0x239));
    }
  }
  FUN_004adcf0();
  return 1;
}



void FUN_004880b0(char *param_1,uint param_2)

{
  uint *puVar1;
  char cVar2;
  undefined2 uVar3;
  size_t sVar4;
  undefined2 *puVar5;
  int iVar6;
  void *pvVar7;
  undefined *puVar8;
  undefined2 *puVar9;
  undefined4 uVar10;
  undefined4 *puVar11;
  int *piVar12;
  char *pcVar13;
  undefined4 *puVar14;
  uint unaff_ESI;
  uint uVar15;
  char *pcVar16;
  undefined4 *puVar17;
  char local_22c [16];
  int local_21c [20];
  char acStackY_1ca [258];
  undefined4 local_c8 [13];
  float local_94;
  undefined local_88 [4];
  undefined local_84 [4];
  undefined local_80 [4];
  undefined4 local_7c [4];
  uint local_6c;
  undefined4 local_68 [4];
  uint local_58;
  ushort local_54 [6];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined local_38 [4];
  undefined4 local_34;
  uint local_30;
  undefined local_2c [4];
  undefined2 *local_28;
  undefined4 local_24;
  uint *local_20;
  int iVar18;
  int iVar19;
  uint uVar20;
  
  AdjustStackForLargeAllocations();
  puVar9 = (undefined2 *)(DAT_005b9440 + param_2 * 0x37);
  FID_conflict___mbscpy(acStackY_1ca + 2,(char *)puVar9);
  FID_conflict__strcat(acStackY_1ca + 2,param_1);
  sVar4 = _strlen(acStackY_1ca + 2);
  cVar2 = acStackY_1ca[sVar4 + 1];
  while (cVar2 != '.') {
    cVar2 = acStackY_1ca[sVar4];
    sVar4 = sVar4 - 1;
  }
  acStackY_1ca[sVar4 + 1] = '\0';
  FID_conflict__strcat(acStackY_1ca + 2,&DAT_004d1f4c);
  puVar5 = (undefined2 *)OpenFileWithFixedFlags0x40();
  if (puVar5 != (undefined2 *)0x0) {
    local_20 = (uint *)local_80;
    local_24 = 0x488176;
    local_28 = puVar5;
    CopyDataWithLock();
    local_20 = &local_30;
    local_24 = 0x488187;
    CopyDataWithLock();
    iVar19 = 0;
    uVar20 = 0;
    if (local_30 != 0) {
      do {
        local_20 = local_c8;
        local_24 = 0x4881ac;
        CopyDataWithLock();
        local_94 = local_94 - -0.4;
        local_20 = (uint *)&stack0xfffffff4;
        local_24 = 0x4881cf;
        CopyDataWithLock();
        param_1 = (char *)0x0;
        if ((char)unaff_ESI != '\0') {
          local_20 = (uint *)local_54;
          pcVar13 = local_22c;
          do {
            local_24 = 0x4881fe;
            CopyDataWithLock();
            *(undefined4 *)(pcVar13 + 0x10) = 0xffffffff;
            FID_conflict___mbscpy(pcVar13,&DAT_004d1f58);
            iVar18 = 1;
            local_24 = 0x488221;
            local_20 = (uint *)pcVar13;
            CopyDataWithLock();
            uVar15 = 0;
            if (*(short *)(DAT_00598d90 + 0x245) != 0) {
              local_20 = (uint *)0x0;
              do {
                iVar18 = 0x488249;
                iVar6 = _strcmp(pcVar13,(char *)(DAT_004d86b4 + (int)local_20));
                if (iVar6 == 0) {
                  *(uint *)(pcVar13 + 0x10) = uVar15;
                }
                uVar15 = uVar15 + 1;
                local_20 = (uint *)((int)local_20 + 0x10);
              } while (uVar15 < *(ushort *)(DAT_00598d90 + 0x245));
            }
            param_1 = (char *)((int)param_1 + 1);
            local_20 = (uint *)(iVar18 + 2);
            pcVar13 = pcVar13 + 0x14;
          } while (param_1 < (unaff_ESI & 0xff));
        }
        local_20 = &local_34;
        local_24 = 0x4882a1;
        CopyDataWithLock();
        local_20 = &local_48;
        local_24 = 0x4882b2;
        CopyDataWithLock();
        local_20 = (uint *)local_88;
        local_24 = 0x4882c6;
        CopyDataWithLock();
        local_20 = local_7c;
        local_6c = 0xffffffff;
        local_58 = 0xffffffff;
        local_24 = 0x4882e0;
        CopyDataWithLock();
        uVar15 = 0;
        if (*(short *)(DAT_00598d90 + 0x245) != 0) {
          iVar18 = 0;
          do {
            iVar6 = _strcmp((char *)local_7c,(char *)(DAT_004d86b4 + iVar18));
            if (iVar6 == 0) {
              local_6c = uVar15;
            }
            uVar15 = uVar15 + 1;
            iVar18 = iVar18 + 0x10;
          } while (uVar15 < *(ushort *)(DAT_00598d90 + 0x245));
        }
        local_20 = local_68;
        local_24 = 0x488336;
        CopyDataWithLock();
        uVar15 = 0;
        if (*(short *)(DAT_00598d90 + 0x245) != 0) {
          iVar18 = 0;
          do {
            iVar6 = _strcmp((char *)local_68,(char *)(DAT_004d86b4 + iVar18));
            if (iVar6 == 0) {
              local_58 = uVar15;
            }
            uVar15 = uVar15 + 1;
            iVar18 = iVar18 + 0x10;
          } while (uVar15 < *(ushort *)(DAT_00598d90 + 0x245));
        }
        local_20 = &param_2;
        local_24 = 0x48838c;
        CopyDataWithLock();
        local_20 = (uint *)&stack0xffffffe8;
        iVar18 = 1;
        local_24 = 0x48839d;
        puVar9 = puVar5;
        CopyDataWithLock();
        if (iVar18 < 0) {
          iVar18 = 1;
        }
        if (((iVar18 != 4) && (0xe1 < local_54[0])) && (local_54[0] < 0xe9)) {
          iVar18 = 3;
        }
        if ((iVar18 < 3) &&
           ((*(char *)((int)puVar9 + 0x13) == '\0' ||
            ((uint)*(ushort *)(*(int *)(puVar9 + 0x10) + iVar19 * 2) != uVar20 + 2)))) {
          local_20 = (uint *)local_84;
          local_24 = 0x488409;
          CopyDataWithLock();
          local_20 = (uint *)local_38;
          local_24 = 0x48841a;
          CopyDataWithLock();
          local_20 = &param_2;
          local_24 = 0x48842b;
          CopyDataWithLock();
          sVar4 = param_2 << 4;
          iVar18 = 0;
          local_20 = (uint *)0x48843d;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_20 = (uint *)0x488446;
          pvVar7 = _memset(pvVar7,iVar18,sVar4);
          local_24 = 0x488458;
          local_20 = (uint *)pvVar7;
          CopyDataWithLock();
          if (pvVar7 != (void *)0x0) {
            FreeMemory();
          }
          local_20 = &param_2;
          local_24 = 0x488476;
          CopyDataWithLock();
          uVar15 = 0;
          if (param_2 != 0) {
            do {
              local_20 = (uint *)local_2c;
              local_24 = 0x488490;
              CopyDataWithLock();
              local_20 = &local_24;
              local_24 = 0x4884a1;
              CopyDataWithLock();
              uVar15 = uVar15 + 1;
            } while (uVar15 < param_2);
          }
          local_20 = &param_2;
          local_24 = 0x4884ba;
          puVar9 = puVar5;
          CopyDataWithLock();
          if (local_58 != 0xffffffff) {
            *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + local_58 * 6) = 1;
          }
          uVar15 = 0;
          if ((char)unaff_ESI != '\0') {
            piVar12 = local_21c;
            do {
              if (*piVar12 != -1) {
                *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + *piVar12 * 6) = 1;
              }
              uVar15 = uVar15 + 1;
              piVar12 = piVar12 + 5;
            } while (uVar15 < (unaff_ESI & 0xff));
          }
        }
        else {
          iVar18 = FUN_00474a30();
          puVar14 = local_c8;
          puVar11 = (undefined4 *)(*(int *)(iVar18 + 4) + 6);
          for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
            *puVar11 = *puVar14;
            puVar14 = puVar14 + 1;
            puVar11 = puVar11 + 1;
          }
          *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x4c) =
               *(undefined4 *)(*(int *)(iVar18 + 4) + 0x36);
          *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x50) =
               *(undefined4 *)(*(int *)(iVar18 + 4) + 0x3a);
          *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x54) =
               *(undefined4 *)(*(int *)(iVar18 + 4) + 0x3e);
          iVar6 = *(int *)(*(int *)(iVar18 + 4) + 0x3e);
          pcVar13 = *(char **)(*(int *)(iVar18 + 4) + 0x36);
          local_20 = (uint *)0x48857c;
          uVar10 = FUN_0045cbc0();
          *(undefined4 *)(*(int *)(iVar18 + 4) + 0xb4) = uVar10;
          if ((int)pcVar13 < 3) {
            uVar15 = 0;
            if (*(char *)(iVar19 + *(int *)(iVar6 + 0x1c)) != '\0') {
              do {
                pcVar13 = (char *)(uint)*(ushort *)
                                         (*(int *)(iVar19 * 4 + *(int *)(iVar6 + 0x14)) + uVar15 * 2
                                         );
                local_20 = (uint *)0x4885d8;
                FUN_004429a0();
                uVar15 = uVar15 + 1;
              } while (uVar15 < *(byte *)(iVar19 + *(int *)(iVar6 + 0x1c)));
            }
            iVar19 = iVar19 + 1;
          }
          else {
            param_1 = (char *)0x0;
            if ((char)unaff_ESI != '\0') {
              pcVar16 = local_22c;
              do {
                local_20 = (uint *)0x488616;
                FUN_004429a0();
                local_20 = (uint *)0x488625;
                pcVar13 = pcVar16;
                FUN_004ad7a0();
                param_1 = (char *)((int)param_1 + 1);
                pcVar16 = pcVar16 + 0x14;
              } while (param_1 < (unaff_ESI & 0xff));
            }
          }
          puVar9 = local_28;
          *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x3b) = local_34;
          *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x37) = local_48;
          *(char **)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x48) = pcVar13;
          puVar14 = local_7c;
          puVar11 = (undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x6e);
          for (iVar6 = 5; iVar6 != 0; iVar6 = iVar6 + -1) {
            *puVar11 = *puVar14;
            puVar14 = puVar14 + 1;
            puVar11 = puVar11 + 1;
          }
          puVar14 = local_68;
          puVar11 = (undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x82);
          for (iVar6 = 5; iVar6 != 0; iVar6 = iVar6 + -1) {
            *puVar11 = *puVar14;
            puVar14 = puVar14 + 1;
            puVar11 = puVar11 + 1;
          }
          iVar6 = *(int *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x48);
          if ((2 < iVar6) && (iVar6 < 5)) {
            puVar1 = (uint *)(*(int *)(iVar18 + 4) + 0x8a);
            *puVar1 = *puVar1 | 10;
          }
          local_20 = (uint *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x44);
          local_24 = 0x4886d5;
          CopyDataWithLock();
          local_20 = (uint *)local_38;
          local_24 = 0x4886e6;
          CopyDataWithLock();
          local_20 = &param_2;
          local_24 = 0x4886f7;
          CopyDataWithLock();
          *(undefined *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x2a) = (undefined)param_2;
          sVar4 = param_2 << 4;
          iVar6 = 0;
          local_20 = (uint *)0x488718;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_20 = (uint *)0x488721;
          pvVar7 = _memset(pvVar7,iVar6,sVar4);
          *(void **)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0xae) = pvVar7;
          local_20 = *(uint **)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0xae);
          local_24 = 0x48874f;
          CopyDataWithLock();
          local_20 = &param_2;
          local_24 = 0x488760;
          CopyDataWithLock();
          param_1 = (char *)0x0;
          *(undefined *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x2f) = (undefined)param_2;
          if (param_2 != 0) {
            do {
              sVar4 = 6;
              iVar6 = 0;
              local_20 = (uint *)0x48878b;
              pvVar7 = (void *)AllocateMemoryWithCallback();
              local_20 = (uint *)0x488794;
              puVar8 = (undefined *)_memset(pvVar7,iVar6,sVar4);
              local_20 = (uint *)local_2c;
              local_24 = 0x4887a7;
              CopyDataWithLock();
              local_20 = &local_24;
              local_24 = 0x4887b8;
              CopyDataWithLock();
              *(undefined4 *)(puVar8 + 2) =
                   *(undefined4 *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0xb2);
              *(undefined **)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0xb2) = puVar8;
              *puVar8 = local_2c[0];
              puVar8[1] = (undefined)local_24;
              param_1 = (char *)((int)param_1 + 1);
            } while (param_1 < param_2);
          }
          local_20 = &param_2;
          local_24 = 0x488803;
          CopyDataWithLock();
          *(uint *)(*(int *)(*(int *)(iVar18 + 4) + 0x100) + 0x32) = param_2;
          puVar5 = local_28;
        }
        uVar20 = uVar20 + 1;
      } while (uVar20 < local_30);
    }
    FUN_004adcf0();
    DAT_004d7ab0 = *(char *)(puVar9 + 3);
    uVar20 = 0;
    if (*(char *)(puVar9 + 3) != '\0') {
      param_1 = (char *)0x0;
      puVar14 = &DAT_005dff2b;
      do {
        puVar11 = (undefined4 *)((int)param_1 + *(int *)((int)puVar5 + 7));
        local_44 = *puVar11;
        local_40 = puVar11[1];
        local_3c = puVar11[2];
        uVar3 = *(undefined2 *)(*(int *)((int)puVar5 + 0xb) + uVar20 * 2);
        puVar9 = (undefined2 *)FUN_00425fa0();
        *puVar9 = uVar3;
        local_20 = (uint *)0x48889f;
        uVar10 = FUN_0040a500();
        *(undefined4 *)((int)puVar9 + 0x13) = uVar10;
        FUN_0046d7e0();
        puVar5 = puVar9;
        FUN_00441dd0();
        *(undefined2 **)((int)puVar14 + -0x9b) = puVar9;
        puVar14[1] = 0;
        puVar14[3] = 0;
        puVar11 = &DAT_004d1ae0;
        puVar17 = puVar14 + -0x24;
        for (iVar19 = 0x10; iVar19 != 0; iVar19 = iVar19 + -1) {
          *puVar17 = *puVar11;
          puVar11 = puVar11 + 1;
          puVar17 = puVar17 + 1;
        }
        puVar14[-0x18] = local_44;
        puVar14[-0x16] = local_3c;
        puVar14[-0x17] = local_40;
        puVar14[-4] = 0;
        puVar14[-3] = 0;
        puVar14[-2] = 0;
        puVar14[-0x25] = 4;
        *puVar14 = 1;
        puVar14[-1] = 2;
        puVar14[2] = 0x40000000;
        uVar20 = uVar20 + 1;
        param_1 = (char *)((int)param_1 + 0xc);
        puVar14 = puVar14 + 0x38;
      } while (uVar20 < *(byte *)(puVar5 + 3));
    }
  }
  return;
}



void FUN_00488940(char *param_1,int param_2)

{
  char cVar1;
  byte bVar2;
  undefined uVar3;
  undefined2 uVar4;
  size_t sVar5;
  HANDLE hFile;
  DWORD _Size;
  void *pvVar6;
  BOOL BVar7;
  int iVar8;
  uint uVar9;
  undefined4 uVar10;
  undefined *puVar11;
  uint *puVar12;
  DWORD DVar13;
  float *pfVar14;
  undefined4 *puVar15;
  undefined *puVar16;
  undefined4 *puVar17;
  float10 fVar18;
  undefined local_34c [16];
  uint local_33c [20];
  char acStackY_2ea [258];
  float local_1e8 [16];
  undefined4 local_1a8 [13];
  float local_174;
  DWORD local_168;
  undefined4 local_164 [4];
  uint local_154;
  char local_150 [256];
  undefined4 local_50 [4];
  uint local_40;
  ushort local_3c;
  char *local_30;
  DWORD DVar19;
  void *pvVar20;
  int iVar21;
  char *pcVar22;
  int iVar23;
  undefined2 *puVar24;
  int iVar25;
  
  AdjustStackForLargeAllocations();
  if ((*(char *)(DAT_005b9440 + param_2 * 0x37) == '\0') && (DAT_004d80d0 != 3)) {
    FID_conflict___mbscpy(acStackY_2ea + 2,&DAT_005d5be0);
    FID_conflict__strcat(acStackY_2ea + 2,param_1);
    sVar5 = _strlen(acStackY_2ea + 2);
    cVar1 = acStackY_2ea[sVar5 + 1];
    while (cVar1 != '.') {
      cVar1 = acStackY_2ea[sVar5];
      sVar5 = sVar5 - 1;
    }
    acStackY_2ea[sVar5 + 1] = '\0';
    FID_conflict__strcat(acStackY_2ea + 2,&DAT_004d1f60);
    local_30 = (char *)0x488a0a;
    hFile = CreateFileA(acStackY_2ea + 2,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x8000000,
                        (HANDLE)0x0);
    if ((hFile == (HANDLE)0x0) || (hFile == (HANDLE)0xffffffff)) {
      FUN_004880b0();
      return;
    }
    _Size = GetFileSize(hFile,(LPDWORD)0x0);
    iVar23 = 0;
    DVar19 = _Size;
    pvVar6 = (void *)AllocateMemoryWithCallback();
    pvVar6 = _memset(pvVar6,iVar23,DVar19);
    if (pvVar6 != (void *)0x0) {
      _memset(pvVar6,0,_Size);
      DVar19 = 0x488a6b;
      BVar7 = ReadFile(hFile,pvVar6,_Size,&local_168,(LPOVERLAPPED)0x0);
      if (BVar7 != 0) {
        CloseHandle(hFile);
        ParseToken();
        ParseToken();
        FUN_004adb90();
        ParseToken();
        ParseToken();
        local_30 = (char *)FUN_004adb80();
        iVar23 = 0;
        if (local_30 != (char *)0x0) {
          do {
            ParseToken();
            pfVar14 = local_1e8;
            do {
              param_1 = (char *)0x4;
              do {
                ParseToken();
                pcVar22 = local_150;
                fVar18 = (float10)FUN_004adb90();
                *pfVar14 = (float)fVar18;
                pfVar14 = pfVar14 + 1;
                param_1 = (char *)((int)param_1 + -1);
              } while (param_1 != (char *)0x0);
            } while (pcVar22 != (char *)0x1);
            FUN_004ad7a0();
            local_174 = local_174 - -0.2;
            ParseToken();
            ParseToken();
            bVar2 = FUN_004adb80();
            uVar9 = (uint)bVar2;
            if (bVar2 != 0) {
              puVar12 = local_33c;
              do {
                ParseToken();
                puVar24 = (undefined2 *)0x488c1d;
                uVar4 = FUN_004adb80();
                *puVar12 = 0xffffffff;
                *puVar24 = uVar4;
                ParseToken();
                ParseToken();
                FID_conflict___mbscpy((char *)(puVar12 + -4),local_150);
                param_1 = (char *)0x0;
                if (*(short *)(DAT_00598d90 + 0x245) != 0) {
                  iVar25 = 0;
                  do {
                    iVar8 = _strcmp((char *)(puVar12 + -4),(char *)(DAT_004d86b4 + iVar25));
                    if (iVar8 == 0) {
                      *puVar12 = (uint)param_1;
                    }
                    iVar25 = iVar25 + 0x10;
                    param_1 = (char *)((int)param_1 + 1);
                  } while (param_1 < (uint)*(ushort *)(DAT_00598d90 + 0x245));
                }
                puVar12 = puVar12 + 5;
                uVar9 = uVar9 - 1;
              } while (uVar9 != 0);
            }
            ParseToken();
            ParseToken();
            FUN_004adb90();
            ParseToken();
            ParseToken();
            fVar18 = (float10)FUN_004adb90();
            ParseToken();
            ParseToken();
            FID_conflict___mbscpy((char *)local_164,local_150);
            uVar9 = 0;
            local_154 = 0xffffffff;
            if (*(short *)(DAT_00598d90 + 0x245) != 0) {
              param_1 = (char *)0x0;
              do {
                iVar25 = _strcmp((char *)local_164,(char *)(DAT_004d86b4 + (int)param_1));
                if (iVar25 == 0) {
                  local_154 = uVar9;
                }
                uVar9 = uVar9 + 1;
                param_1 = (char *)((int)param_1 + 0x10);
              } while (uVar9 < *(ushort *)(DAT_00598d90 + 0x245));
            }
            ParseToken();
            ParseToken();
            FID_conflict___mbscpy((char *)local_50,local_150);
            uVar9 = 0;
            local_40 = 0xffffffff;
            if (*(short *)(DAT_00598d90 + 0x245) != 0) {
              param_1 = (char *)0x0;
              do {
                iVar25 = _strcmp((char *)local_50,(char *)(DAT_004d86b4 + (int)param_1));
                if (iVar25 == 0) {
                  local_40 = uVar9;
                }
                uVar9 = uVar9 + 1;
                param_1 = (char *)((int)param_1 + 0x10);
              } while (uVar9 < *(ushort *)(DAT_00598d90 + 0x245));
            }
            ParseToken();
            ParseToken();
            pcVar22 = local_150;
            pvVar20 = pvVar6;
            ParseToken();
            param_1 = (char *)FUN_004adb80();
            if ((int)param_1 < 0) {
              param_1 = (char *)0x1;
            }
            if (((param_1 != (char *)0x4) && (0xe1 < local_3c)) && (local_3c < 0xe9)) {
              param_1 = (char *)0x3;
            }
            if (((int)param_1 < 3) &&
               ((*(char *)((int)pvVar20 + 0x13) == '\0' ||
                ((char *)(uint)*(ushort *)(*(int *)((int)pvVar20 + 0x20) + iVar23 * 2) != pcVar22)))
               ) {
              ParseToken();
              ParseToken();
              ParseToken();
              ParseToken();
              iVar25 = FUN_004adb80();
              for (iVar8 = iVar25; iVar8 != 0; iVar8 = iVar8 + -1) {
                ParseToken();
                ParseToken();
                ParseToken();
              }
              ParseToken();
              for (; iVar25 != 0; iVar25 = iVar25 + -1) {
                ParseToken();
              }
              ParseToken();
              ParseToken();
              for (iVar25 = FUN_004adb80(); iVar25 != 0; iVar25 = iVar25 + -1) {
                ParseToken();
                ParseToken();
              }
              ParseToken();
              pcVar22 = local_150;
              DVar13 = _Size;
              ParseToken();
              if (local_40 != 0xffffffff) {
                *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + local_40 * 6) = 1;
              }
              if (DVar13 != 0) {
                puVar12 = local_33c;
                do {
                  if (*puVar12 != 0xffffffff) {
                    *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + *puVar12 * 6) = 1;
                  }
                  puVar12 = puVar12 + 5;
                  DVar13 = DVar13 - 1;
                } while (DVar13 != 0);
              }
              DAT_004d77a0 = DAT_004d77a0 + '\x01';
            }
            else {
              iVar25 = FUN_00474a30();
              puVar15 = local_1a8;
              puVar17 = (undefined4 *)(*(int *)(iVar25 + 4) + 6);
              for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
                *puVar17 = *puVar15;
                puVar15 = puVar15 + 1;
                puVar17 = puVar17 + 1;
              }
              *(undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x4c) =
                   *(undefined4 *)(*(int *)(iVar25 + 4) + 0x36);
              *(undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x50) =
                   *(undefined4 *)(*(int *)(iVar25 + 4) + 0x3a);
              *(undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x54) =
                   *(undefined4 *)(*(int *)(iVar25 + 4) + 0x3e);
              iVar8 = *(int *)(*(int *)(iVar25 + 4) + 0x3e);
              puVar11 = *(undefined **)(*(int *)(iVar25 + 4) + 0x36);
              iVar21 = 0x489165;
              uVar10 = FUN_0045cbc0();
              *(undefined4 *)(*(int *)(iVar25 + 4) + 0xb4) = uVar10;
              if ((int)param_1 < 3) {
                uVar9 = 0;
                if (*(char *)(iVar23 + *(int *)(iVar21 + 0x1c)) != '\0') {
                  do {
                    puVar11 = (undefined *)
                              (uint)*(ushort *)
                                     (*(int *)(*(int *)(iVar21 + 0x14) + iVar23 * 4) + uVar9 * 2);
                    FUN_004429a0();
                    uVar9 = uVar9 + 1;
                  } while (uVar9 < *(byte *)(iVar23 + *(int *)(iVar21 + 0x1c)));
                }
                iVar23 = iVar23 + 1;
                _Size = DVar19;
              }
              else {
                _Size = DVar19;
                if (iVar8 != 0) {
                  puVar16 = local_34c;
                  do {
                    FUN_004429a0();
                    puVar11 = puVar16;
                    FUN_004ad7a0();
                    puVar16 = puVar16 + 0x14;
                    iVar8 = iVar8 + -1;
                  } while (iVar8 != 0);
                }
              }
              *(undefined **)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x3b) = puVar11;
              *(float *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x37) = (float)fVar18;
              *(char **)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x48) = param_1;
              puVar15 = local_164;
              puVar17 = (undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x6e);
              for (iVar8 = 5; iVar8 != 0; iVar8 = iVar8 + -1) {
                *puVar17 = *puVar15;
                puVar15 = puVar15 + 1;
                puVar17 = puVar17 + 1;
              }
              puVar15 = local_50;
              puVar17 = (undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x82);
              for (iVar8 = 5; iVar8 != 0; iVar8 = iVar8 + -1) {
                *puVar17 = *puVar15;
                puVar15 = puVar15 + 1;
                puVar17 = puVar17 + 1;
              }
              iVar8 = *(int *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x48);
              if ((2 < iVar8) && (iVar8 < 5)) {
                puVar12 = (uint *)(*(int *)(iVar25 + 4) + 0x8a);
                *puVar12 = *puVar12 | 10;
              }
              ParseToken();
              ParseToken();
              fVar18 = (float10)FUN_004adb90();
              *(float *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x44) = (float)fVar18;
              ParseToken();
              ParseToken();
              uVar3 = FUN_004adb80();
              *(undefined *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a) = uVar3;
              sVar5 = (uint)*(byte *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a) << 4;
              iVar8 = 0;
              pvVar6 = (void *)AllocateMemoryWithCallback();
              pvVar6 = _memset(pvVar6,iVar8,sVar5);
              param_1 = (char *)0x0;
              *(void **)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xae) = pvVar6;
              if (*(char *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a) != '\0') {
                iVar8 = 0;
                do {
                  ParseToken();
                  fVar18 = (float10)FUN_004adb90();
                  *(float *)(*(int *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xae) + iVar8) =
                       (float)fVar18;
                  ParseToken();
                  fVar18 = (float10)FUN_004adb90();
                  *(float *)(*(int *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xae) + 4 + iVar8) =
                       (float)fVar18;
                  ParseToken();
                  fVar18 = (float10)FUN_004adb90();
                  param_1 = (char *)((int)param_1 + 1);
                  *(float *)(*(int *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xae) + 8 + iVar8) =
                       (float)fVar18;
                  iVar8 = iVar8 + 0x10;
                } while (param_1 < (uint)*(byte *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a));
              }
              ParseToken();
              param_1 = (char *)0x0;
              if (*(char *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a) != '\0') {
                iVar8 = 0;
                do {
                  ParseToken();
                  uVar10 = FUN_004adb80();
                  iVar8 = iVar8 + 0x10;
                  *(undefined4 *)
                   (*(int *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xae) + -4 + iVar8) = uVar10;
                  param_1 = (char *)((int)param_1 + 1);
                } while (param_1 < (uint)*(byte *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2a));
              }
              ParseToken();
              ParseToken();
              uVar3 = FUN_004adb80();
              param_1 = (char *)0x0;
              *(undefined *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2f) = uVar3;
              if (*(char *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2f) != '\0') {
                do {
                  sVar5 = 6;
                  iVar8 = 0;
                  pvVar6 = (void *)AllocateMemoryWithCallback();
                  puVar11 = (undefined *)_memset(pvVar6,iVar8,sVar5);
                  ParseToken();
                  uVar3 = FUN_004adb80();
                  *puVar11 = uVar3;
                  ParseToken();
                  uVar3 = FUN_004adb80();
                  puVar11[1] = uVar3;
                  *(undefined4 *)(puVar11 + 2) =
                       *(undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xb2);
                  *(undefined **)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0xb2) = puVar11;
                  param_1 = (char *)((int)param_1 + 1);
                } while (param_1 < (uint)*(byte *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x2f));
              }
              ParseToken();
              pcVar22 = local_150;
              pvVar6 = (void *)0x489605;
              ParseToken();
              uVar10 = FUN_004adb80();
              *(undefined4 *)(*(int *)(*(int *)(iVar25 + 4) + 0x100) + 0x32) = uVar10;
              DVar19 = _Size;
            }
          } while (pcVar22 + 1 < local_30);
        }
        FreeMemory();
        FUN_00489680();
        return;
      }
      FreeMemory();
      return;
    }
  }
  else {
    FUN_004071e0();
  }
  return;
}



void FUN_00489680(int param_1)

{
  undefined2 uVar1;
  undefined4 uVar2;
  undefined2 *puVar3;
  undefined4 uVar4;
  ushort *puVar5;
  int iVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined2 *puVar10;
  int iVar11;
  uint uVar12;
  
  AdjustStackForLargeAllocations();
  DAT_004d7ab0 = *(undefined *)(param_1 + 6);
  uVar12 = 0;
  if (*(char *)(param_1 + 6) != '\0') {
    iVar11 = 0;
    puVar7 = &DAT_005dff2b;
    do {
      uVar2 = *(undefined4 *)(iVar11 + *(int *)(param_1 + 7) + 8);
      uVar1 = *(undefined2 *)(*(int *)(param_1 + 0xb) + uVar12 * 2);
      puVar3 = (undefined2 *)FUN_00425fa0();
      *puVar3 = uVar1;
      uVar4 = FUN_0040a500(*(undefined4 *)(DAT_005e5010 + 8),puVar3,uVar1);
      *(undefined4 *)((int)puVar3 + 0x13) = uVar4;
      FUN_0046d7e0(puVar3);
      uVar4 = 0x48970e;
      puVar10 = puVar3;
      FUN_00441dd0();
      *(undefined2 **)((int)puVar7 + -0x9b) = puVar3;
      puVar7[1] = 0;
      puVar7[3] = 0;
      puVar7[-0x25] = 4;
      puVar8 = &DAT_004d1ae0;
      puVar9 = puVar7 + -0x24;
      for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
        *puVar9 = *puVar8;
        puVar8 = puVar8 + 1;
        puVar9 = puVar9 + 1;
      }
      puVar7[-0x18] = uVar4;
      *puVar7 = 1;
      puVar7[-0x17] = puVar10;
      puVar7[-0x16] = uVar2;
      puVar7[-4] = 0;
      puVar7[-3] = 0;
      puVar7[-2] = 0;
      puVar7[-1] = 2;
      puVar7[2] = 0x40000000;
      if ((*(byte *)(uVar12 + *(int *)(param_1 + 0xf)) & 8) != 0) {
        *(byte *)((int)puVar7 + -0xab) = *(byte *)((int)puVar7 + -0xab) | 8;
        *(undefined *)(*(int *)((int)puVar7 + -0x9b) + 4) = 100;
      }
      uVar12 = uVar12 + 1;
      iVar11 = iVar11 + 0xc;
      puVar7 = puVar7 + 0x38;
    } while (uVar12 < *(byte *)(param_1 + 6));
  }
  uVar12 = 0;
  puVar5 = (ushort *)(DAT_00598d90 + 0x245);
  if (*(short *)(DAT_00598d90 + 0x245) != 0) {
    iVar6 = 0;
    iVar11 = DAT_004d86b4;
    do {
      if (((*(char *)(iVar11 + iVar6) != 'A') || (*(char *)(iVar11 + 1 + iVar6) != 'I')) ||
         (*(char *)(iVar11 + 2 + iVar6) != '_')) {
        FUN_00472ec0(puVar5,uVar12,*(undefined *)(*(int *)(param_1 + 0x26) + uVar12),DAT_00598d90);
        iVar11 = DAT_004d86b4;
      }
      uVar12 = uVar12 + 1;
      iVar6 = iVar6 + 0x10;
      puVar5 = (ushort *)(DAT_00598d90 + 0x245);
    } while (uVar12 < *puVar5);
  }
  return;
}



void FUN_00489830(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = DAT_005b9440 + param_1 * 0x37;
  if (*(char *)(iVar1 + 6) != '\0') {
    if (*(int *)(iVar1 + 7) != 0) {
      FreeMemory(*(int *)(iVar1 + 7));
      *(undefined4 *)(iVar1 + 7) = 0;
    }
    if (*(int *)(iVar1 + 0xb) != 0) {
      FreeMemory(*(int *)(iVar1 + 0xb));
      *(undefined4 *)(iVar1 + 0xb) = 0;
    }
    *(undefined *)(iVar1 + 6) = 0;
  }
  if (*(char *)(iVar1 + 0x13) != '\0') {
    iVar3 = 0;
    if (*(char *)(iVar1 + 0x13) != '\0') {
      do {
        iVar2 = *(int *)(*(int *)(iVar1 + 0x14) + iVar3 * 4);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x14) + iVar3 * 4) = 0;
        }
        iVar2 = *(int *)(*(int *)(iVar1 + 0x18) + iVar3 * 4);
        if (iVar2 != 0) {
          FreeMemory(iVar2);
          *(undefined4 *)(*(int *)(iVar1 + 0x18) + iVar3 * 4) = 0;
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < (int)(uint)*(byte *)(iVar1 + 0x13));
    }
    if (*(int *)(iVar1 + 0x14) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x14));
      *(undefined4 *)(iVar1 + 0x14) = 0;
    }
    if (*(int *)(iVar1 + 0x1c) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x1c));
      *(undefined4 *)(iVar1 + 0x1c) = 0;
    }
    if (*(int *)(iVar1 + 0x20) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x20));
      *(undefined4 *)(iVar1 + 0x20) = 0;
    }
    if (*(int *)(iVar1 + 0x2a) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x2a));
      *(undefined4 *)(iVar1 + 0x2a) = 0;
    }
    *(undefined *)(iVar1 + 0x13) = 0;
  }
  if (*(short *)(iVar1 + 0x24) != 0) {
    if (*(int *)(iVar1 + 0x26) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x26));
      *(undefined4 *)(iVar1 + 0x26) = 0;
    }
    *(undefined2 *)(iVar1 + 0x24) = 0;
  }
  if (*(int *)(iVar1 + 0x2e) != 0) {
    if (*(int *)(iVar1 + 0x32) != 0) {
      FreeMemory(*(int *)(iVar1 + 0x32));
      *(undefined4 *)(iVar1 + 0x32) = 0;
    }
    *(undefined4 *)(iVar1 + 0x2e) = 0;
  }
  return;
}



void FUN_00489960(char *param_1)

{
  int iVar1;
  
  AdjustStackForLargeAllocations();
  do {
    FID_conflict___mbscpy(param_1,&DAT_005d54e0);
    FUN_004ae5f0(DAT_00598f48,&stack0xfffffff4,10);
    FID_conflict__strcat(param_1,&DAT_004d1f68);
    FID_conflict__strcat(param_1,&stack0xfffffff4);
    FID_conflict__strcat(param_1,&DAT_004d1f6c);
    iVar1 = OpenFileWithFixedFlags0x40(param_1,&DAT_004d1f74);
  } while (iVar1 == 0);
  FUN_004adcf0(iVar1);
  FID_conflict___mbscpy(&DAT_005de660,param_1);
  return;
}



undefined4 FUN_00489a00(char *param_1)

{
  int iVar1;
  
  AdjustStackForLargeAllocations();
  FID_conflict___mbscpy(param_1,&DAT_005d54e0);
  FUN_004ae5f0(DAT_00598f48,&stack0xfffffff4);
  FID_conflict__strcat(param_1,&DAT_004d1f78);
  FID_conflict__strcat(param_1,&stack0xfffffff4);
  FID_conflict__strcat(param_1,&DAT_004d1f7c);
  DAT_00598f48 = 0;
  iVar1 = OpenFileWithFixedFlags0x40(param_1);
  if (iVar1 != 0) {
    FUN_004adcf0();
    FID_conflict___mbscpy(&DAT_005de660,param_1);
    return 1;
  }
  return 0;
}



void FUN_00489ab0(void)

{
  int iVar1;
  
  iVar1 = FUN_004afef0(s_c__Screenshots_004d1f88);
  if ((iVar1 != 0) && (iVar1 = FUN_004afec0(s_c__Screenshots_004d1f98), iVar1 != 0)) {
    return;
  }
  FUN_00489ae0(1);
  return;
}



undefined4 FUN_00489ae0(void)

{
  bool bVar1;
  int iVar2;
  LSTATUS LVar3;
  int iVar4;
  uint uVar5;
  BYTE local_2e4 [256];
  char local_1e4 [256];
  undefined4 local_e4 [2];
  short local_dc;
  short local_d8;
  undefined4 local_78;
  int local_74;
  uint local_70;
  undefined2 local_6c;
  undefined2 local_6a;
  undefined4 local_68;
  int local_64;
  undefined2 local_50;
  int local_4e;
  undefined4 local_46;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  uint uVar6;
  int iVar7;
  char *hKey;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  local_3c._0_1_ = s_Network_Logon_004d2000[4];
  local_3c._1_1_ = s_Network_Logon_004d2000[5];
  local_3c._2_1_ = s_Network_Logon_004d2000[6];
  local_3c._3_1_ = s_Network_Logon_004d2000[7];
  local_38._0_1_ = s_Network_Logon_004d2000[8];
  local_38._1_1_ = s_Network_Logon_004d2000[9];
  local_38._2_1_ = s_Network_Logon_004d2000[10];
  local_38._3_1_ = s_Network_Logon_004d2000[11];
  local_40._0_1_ = s_Network_Logon_004d2000[0];
  local_40._1_1_ = s_Network_Logon_004d2000[1];
  local_40._2_1_ = s_Network_Logon_004d2000[2];
  local_40._3_1_ = s_Network_Logon_004d2000[3];
  local_34 = (undefined4 *)CONCAT22(local_34._2_2_,s_Network_Logon_004d2000._12_2_);
  bVar1 = false;
  LVar3 = RegOpenKeyExA((HKEY)0x80000002,(LPCSTR)&local_40,0,0x20019,(PHKEY)&stack0xffffffec);
  if (LVar3 == 0) {
    hKey = &stack0xffffffdc;
    LVar3 = RegQueryValueExA((HKEY)hKey,(LPCSTR)0xff,(LPDWORD)0x0,(LPDWORD)0x0,local_2e4,
                             (LPDWORD)hKey);
    if (LVar3 != 0) {
      hKey = s_default_004d201c;
      FID_conflict___mbscpy((char *)local_2e4,s_default_004d201c);
    }
    RegCloseKey((HKEY)hKey);
  }
  else {
    FID_conflict___mbscpy((char *)local_2e4,s_default_004d2024);
  }
  do {
    FID_conflict___mbscpy(local_1e4,s_c__Screenshots__004d202c);
    FID_conflict__strcat(local_1e4,s_HedzScrnshot__004d203c);
    FID_conflict__strcat(local_1e4,(char *)local_2e4);
    DAT_00598f4c = DAT_00598f4c + 1;
    FUN_004ae5f0();
    FID_conflict__strcat(local_1e4,&stack0xfffffffa);
    FID_conflict__strcat(local_1e4,&DAT_004d204c);
    iVar4 = OpenFileWithFixedFlags0x40();
    if (iVar4 == 0) {
      bVar1 = true;
    }
  } while (!bVar1);
  iVar4 = OpenFileWithFixedFlags0x40();
  if (iVar4 != 0) {
    _memset(local_e4,0,0x6c);
    local_e4[0] = 0x6c;
    iVar4 = (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 100))();
    if (iVar4 == 0) {
      local_34 = (undefined4 *)0x489ccd;
      _memset(&local_50,0,0xe);
      local_34 = (undefined4 *)0x489cdc;
      _memset(&local_78,0,0x28);
      iVar4 = (int)local_d8;
      local_68 = 0;
      uVar5 = (uint)local_dc;
      local_64 = uVar5 * iVar4 * 3;
      local_50 = 0x4d42;
      local_46 = 0x36;
      local_4e = (uVar5 * iVar4 + 0x12) * 3;
      local_34 = (undefined4 *)&local_50;
      local_78 = 0x28;
      local_6c = 1;
      local_6a = 0x18;
      local_38 = 0x489d3e;
      local_74 = iVar4;
      local_70 = uVar5;
      uVar6 = uVar5;
      iVar7 = iVar4;
      FUN_004ae3e0();
      local_34 = &local_78;
      local_38 = 0x489d4f;
      FUN_004ae3e0();
      if (*(int *)(DAT_005e5010 + 0x2194) == 0) {
        uVar8 = 0;
        iVar2 = iVar4;
        if (uVar5 != 0) {
          do {
            for (; iVar2 != 0; iVar2 = iVar2 + -1) {
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489e4e;
              FUN_004ae3e0();
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489e6a;
              FUN_004ae3e0();
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489e84;
              FUN_004ae3e0();
              iVar4 = iVar7;
              uVar5 = uVar6;
            }
            uVar8 = uVar8 + 1;
            iVar2 = iVar4;
          } while (uVar8 < uVar5);
        }
      }
      else {
        uVar8 = 0;
        iVar2 = iVar4;
        if (uVar5 != 0) {
          do {
            for (; iVar2 != 0; iVar2 = iVar2 + -1) {
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489dac;
              FUN_004ae3e0();
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489dc8;
              FUN_004ae3e0();
              local_34 = (undefined4 *)&stack0xfffffffb;
              local_38 = 0x489de2;
              FUN_004ae3e0();
              iVar4 = iVar7;
              uVar5 = uVar6;
            }
            uVar8 = uVar8 + 1;
            iVar2 = iVar4;
          } while (uVar8 < uVar5);
        }
      }
      FUN_004adcf0();
      (**(code **)(**(int **)(DAT_005e5010 + 0x7b0) + 0x80))();
      return 1;
    }
    return 0;
  }
  return 0;
}



void FUN_00489ee0(void)

{
  void *pvVar1;
  int iVar2;
  size_t sVar3;
  
  sVar3 = 0xc;
  iVar2 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0xc);
  DAT_005b9424 = _memset(pvVar1,iVar2,sVar3);
  sVar3 = 0x6b;
  iVar2 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x6b);
  pvVar1 = _memset(pvVar1,iVar2,sVar3);
  *(void **)((int)DAT_005b9424 + 8) = pvVar1;
  FUN_00489f30(0);
  FUN_0048a1f0();
  return;
}



undefined4 FUN_00489f30(int param_1)

{
  if (param_1 == 0) {
    **(undefined4 **)(DAT_005b9424 + 8) = 0x3f333333;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 8) = 0;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0xc) = 0x3efd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x14) = 0x3efd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x18) = 0;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x20) = 0x3f333333;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x24) = 0xbefd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x2c) = 0x3efd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x30) = 0xbf333333;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x38) = 0;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x3c) = 0xbefd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x44) = 0xbefd6c0d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x48) = 0;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x50) = 0xbf333333;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x54) = 0x3efd6d5d;
    *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x5c) = 0xbefd6d5d;
  }
  else {
    if (param_1 == 1) {
      **(undefined4 **)(DAT_005b9424 + 8) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 8) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0xc) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x14) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x18) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x20) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x24) = 0xbf800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x2c) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x30) = 0xbf800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x38) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x3c) = 0xbf800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x44) = 0xbf800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x48) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x50) = 0xbf800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x54) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x5c) = 0xbf800000;
      return 1;
    }
    if (param_1 == 2) {
      **(undefined4 **)(DAT_005b9424 + 8) = 0xc0000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 8) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0xc) = 0xbf400000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x14) = 0xbf400000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x18) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x20) = 0xc0000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x24) = 0x3f400000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x2c) = 0xbf400000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x30) = 0x40000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x38) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x3c) = 0x3f000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x44) = 0x3f000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x48) = 0;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x50) = 0x3f800000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x54) = 0xbf000000;
      *(undefined4 *)(*(int *)(DAT_005b9424 + 8) + 0x5c) = 0x3f000000;
      return 1;
    }
  }
  return 1;
}



undefined4 FUN_0048a1f0(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int *piVar4;
  int *unaff_ESI;
  int local_1ac [72];
  undefined4 local_8c [2];
  undefined4 local_84;
  int local_80;
  undefined *local_7c;
  undefined4 local_5c;
  short asStackY_58 [14];
  undefined4 uStackY_3c;
  
  AdjustStackForLargeAllocations();
  _memset(local_1ac,0,0x120);
  _memset(&local_5c,0,0x40);
  uVar2 = 0;
  do {
    *(undefined2 *)(&local_5c + uVar2 * 2) = 0;
    asStackY_58[uVar2 * 4 + -1] = 8 - (short)uVar2;
    asStackY_58[uVar2 * 4] = 7 - (short)uVar2;
    if (uVar2 == 0) {
      asStackY_58[1] = 0;
    }
    else {
      asStackY_58[uVar2 * 4 + 1] = 0x1f;
    }
    uVar2 = uVar2 + 1;
  } while (uVar2 < 7);
  _memset(&stack0xffffffe4,0,0x14);
  iVar3 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar3 != 0) {
    return 0;
  }
  iVar3 = (**(code **)(**DAT_005b9424 + 0x10))();
  if (iVar3 != 0) {
    return 0;
  }
  DAT_005b9424[1] = unaff_ESI;
  _memset(unaff_ESI,0,0x1a0);
  if (unaff_ESI != local_1ac) {
    FUN_004ad7a0();
  }
  piVar1 = unaff_ESI + 0x48;
  *(undefined *)piVar1 = 8;
  *(undefined *)((int)unaff_ESI + 0x121) = 8;
  *(undefined2 *)((int)unaff_ESI + 0x122) = 2;
  unaff_ESI[0x49] = 1;
  unaff_ESI[0x4a] = 0;
  if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
    unaff_ESI[0x4b] = 0x21;
  }
  else {
    unaff_ESI[0x4b] = 0x1b;
  }
  unaff_ESI[0x4c] = 1;
  *(undefined *)(unaff_ESI + 0x4d) = 9;
  *(undefined *)((int)unaff_ESI + 0x135) = 0x10;
  *(undefined2 *)((int)unaff_ESI + 0x136) = 1;
  unaff_ESI[0x4e] = 1;
  *(undefined2 *)(unaff_ESI + 0x4f) = 0;
  *(undefined2 *)((int)unaff_ESI + 0x13e) = 0;
  unaff_ESI[0x50] = 9;
  unaff_ESI[0x51] = 0;
  piVar4 = unaff_ESI + 0x52;
  if (((uint)piVar4 & 7) == 0) {
    *(undefined *)piVar4 = 3;
    *(undefined *)((int)unaff_ESI + 0x149) = 8;
    *(undefined2 *)((int)unaff_ESI + 0x14a) = 0;
    piVar4 = unaff_ESI + 0x53;
  }
  *(undefined *)piVar4 = 3;
  *(undefined *)((int)piVar4 + 1) = 8;
  *(undefined2 *)((int)piVar4 + 2) = 8;
  if (piVar4 + 1 != &local_5c) {
    FUN_004ad7a0();
  }
  *(undefined *)(piVar4 + 0x11) = 8;
  *(undefined *)((int)piVar4 + 0x45) = 8;
  *(undefined2 *)((int)piVar4 + 0x46) = 1;
  if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
    piVar4[0x12] = 0x21;
  }
  else {
    piVar4[0x12] = 0x1b;
  }
  piVar4[0x13] = 0;
  *(undefined *)(piVar4 + 0x14) = 0xb;
  *(undefined *)((int)piVar4 + 0x51) = 0;
  *(undefined2 *)((int)piVar4 + 0x52) = 0;
  iVar3 = (**(code **)(**DAT_005b9424 + 0x14))();
  if (iVar3 != 0) {
    return 0;
  }
  uStackY_3c = 0x48a433;
  _memset(local_8c,0,0x30);
  local_7c = (undefined *)((int)piVar4 + (0x54 - (int)piVar1));
  local_80 = (int)piVar1 - (int)unaff_ESI;
  local_8c[0] = 0x30;
  local_84 = 9;
  (**(code **)(**DAT_005b9424 + 0x18))();
  return 1;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_0048a480(float ******param_1)

{
  float ***pppfVar1;
  float *****pppppfVar2;
  float ****ppppfVar3;
  float ******ppppppfVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  int iVar9;
  undefined4 *puVar10;
  float10 fVar11;
  float *****local_f4 [2];
  float local_ec [22];
  undefined4 local_94 [12];
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined local_54 [12];
  undefined local_48 [12];
  float ***local_3c;
  float ***local_34;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined *puStack_20;
  float *******local_1c;
  undefined8 local_18;
  int iVar12;
  float fVar13;
  int iVar14;
  
  ppppppfVar4 = param_1;
  AdjustStackForLargeAllocations();
  iVar14 = -1;
  iVar12 = 0;
  switch(param_1[1][0x26][4]) {
  case (float ***)0x1:
switchD_0048a4b4_caseD_1:
    local_18._4_4_ = 0;
    break;
  case (float ***)0x2:
  case (float ***)0x3:
  case (float ***)0x7:
    local_18._4_4_ = 1;
    break;
  case (float ***)0x4:
  case (float ***)0x5:
  case (float ***)0x8:
    local_18 = 4.246343716811559e-314;
    FUN_00489f30();
    iVar12 = 1;
    goto switchD_0048a4b4_caseD_8;
  case (float ***)0x6:
    if (*(char *)(param_1[1] + 1) != '\x03') goto switchD_0048a4b4_caseD_1;
    local_18._4_4_ = 2;
    break;
  default:
    goto switchD_0048a4b4_caseD_8;
  }
  local_18 = (double)CONCAT44(local_18._4_4_,0x48a4e2);
  FUN_00489f30();
switchD_0048a4b4_caseD_8:
  pppppfVar2 = param_1[1];
  local_3c = *(float ****)((int)pppppfVar2 + 0x36);
  local_34 = *(float ****)((int)pppppfVar2 + 0x3e);
  pppfVar1 = *(float ****)((int)pppppfVar2 + 0x3a);
  *pppppfVar2[0x28] = local_3c;
  param_1[1][0x28][1] = pppfVar1;
  param_1[1][0x28][2] = local_34;
  if (param_1[1][0x26][4] == (float ***)0x1) {
    iVar6 = 0xc;
    iVar9 = 8;
    iVar7 = 0x20;
    do {
      iVar6 = iVar6 + 0xc;
      iVar9 = iVar9 + -1;
      *(float *)((int)param_1[1][0x28] + iVar7) =
           *(float *)(*(int *)(DAT_005b9424 + 8) + -0x18 + iVar6) + (float)local_3c;
      *(float *)((int)param_1[1][0x28] + iVar7 + 8) =
           *(float *)(*(int *)(DAT_005b9424 + 8) + -0x10 + iVar6) + (float)local_34;
      iVar7 = iVar7 + 0x20;
    } while (iVar9 != 0);
  }
  else {
    puVar8 = (undefined4 *)((int)param_1[1] + 6);
    puVar10 = local_94;
    for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar10 = *puVar8;
      puVar8 = puVar8 + 1;
      puVar10 = puVar10 + 1;
    }
    local_64 = 0;
    local_60 = 0;
    local_5c = 0;
    param_1 = (float ******)0x0;
    iVar7 = 0;
    do {
      local_18._0_4_ = local_94;
      local_18._4_4_ = *(int *)(DAT_005b9424 + 8) + (int)param_1;
      puStack_20 = (undefined *)0x48a5d8;
      local_1c = (float *******)(float ******)((int)local_f4 + (int)param_1);
      FUN_0045f6b0();
      *(float *)((int)ppppppfVar4[1][0x28] + iVar7 + 0x20) =
           (float)local_3c + (float)*(float ******)((int)local_f4 + (int)param_1);
      iVar6 = (int)param_1 + 8;
      param_1 = (float ******)((int)param_1 + 0xc);
      *(float *)((int)ppppppfVar4[1][0x28] + iVar7 + 0x28) =
           *(float *)((int)local_f4 + iVar6) + (float)local_34;
      iVar7 = iVar7 + 0x20;
    } while (local_18._4_4_ != 1);
  }
  pppppfVar2 = ppppppfVar4[1];
  fVar13 = *(float *)((int)pppppfVar2 + 0x19d);
  local_18 = (double)CONCAT44(pppppfVar2[0x28],pppppfVar2[0x2c]);
  local_1c = (float *******)0x48a633;
  iVar7 = FUN_0048aeb0();
  if ((iVar7 == 0) ||
     (*(float *)((int)ppppppfVar4[1] + 0x3a) <= *(float *)((int)ppppppfVar4[1][0x2c] + 0x7d))) {
    iVar14 = 0;
    iVar7 = 9;
    do {
      local_18 = 0.0;
      local_1c = (float *******)&local_1c;
      uStack_24 = *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar14 + 8);
      puStack_20 = local_48;
      uStack_28 = *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar14);
      uStack_2c = 0x48a7a2;
      fVar11 = (float10)FUN_0041c650();
      *(float *)((int)ppppppfVar4[1][0x28] + iVar14 + 4) = (float)(fVar11 - (float10)-0.1);
      local_18 = (double)(*(float *)((int)ppppppfVar4[1][0x28] + iVar14 + 4) -
                         *(float *)((int)ppppppfVar4[1] + 0x19d));
      local_1c = (float *******)0x48a7d6;
      fVar11 = (float10)FUN_004ad3c0();
      if ((float10)1.0 < fVar11) {
        *(float *)((int)ppppppfVar4[1][0x28] + iVar14 + 4) =
             *(float *)((int)ppppppfVar4[1] + 0x19d) - -0.1;
      }
      pppppfVar2 = ppppppfVar4[1];
      ppppfVar3 = pppppfVar2[0x2c];
      if ((((ppppfVar3 == (float ****)0x0) || (*(int *)((int)ppppfVar3 + 0x9d) == 0)) ||
          ((*(byte *)((int)pppppfVar2 + 0x8a) & 0x10) == 0)) &&
         (((iVar12 == 0 || (ppppfVar3 == (float ****)0x0)) ||
          ((*(int *)((int)ppppfVar3 + 0x9d) == 0 ||
           ((*(byte *)(*(int *)((int)ppppfVar3 + 0x9d) + 1) & 4) == 0)))))) {
        *(undefined4 *)((int)pppppfVar2[0x28] + iVar14 + 0x10) = 0x7f000000;
      }
      else {
        *(undefined4 *)((int)pppppfVar2[0x28] + iVar14 + 0x10) = 0xff000000;
      }
      iVar14 = iVar14 + 0x20;
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
  }
  else {
    iVar7 = 0;
    bVar5 = 0;
    iVar12 = 0;
    do {
      if (bVar5 == 0) {
LAB_0048a6a5:
        *(float *)((int)ppppppfVar4[1][0x28] + iVar12 + 4) = fVar13 - -0.1;
        local_18 = (double)(*(float *)((int)ppppppfVar4[1][0x28] + iVar12 + 4) -
                           *(float *)((int)ppppppfVar4[1] + 0x19d));
        local_1c = (float *******)0x48a6d9;
        fVar11 = (float10)FUN_004ad3c0();
        if ((float10)1.0 < fVar11) {
          *(float *)((int)ppppppfVar4[1][0x28] + iVar12 + 4) =
               *(float *)((int)ppppppfVar4[1] + 0x19d) - -0.1;
        }
        if (iVar14 == -1) {
          iVar14 = iVar7;
        }
      }
      else {
        puVar8 = (undefined4 *)((int)ppppppfVar4[1][0x28] + iVar12);
        local_18 = (double)CONCAT44(local_54,&stack0xfffffff4);
        local_1c = (float *******)ppppppfVar4;
        puStack_20 = (undefined *)puVar8[2];
        uStack_24 = puVar8[1];
        uStack_28 = *puVar8;
        uStack_2c = 0x48a68b;
        iVar6 = FUN_0048a940();
        if (iVar6 != 0) goto LAB_0048a6a5;
        *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar12 + 4) = 0xc61c3c00;
      }
      bVar5 = bVar5 + 1;
      iVar7 = iVar7 + 1;
      *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar12 + 0x10) = 0x7f000000;
      iVar12 = iVar12 + 0x20;
    } while (bVar5 < 9);
    if (iVar14 == -1) {
      local_18 = 4.940656458412465e-324;
    }
    else {
      iVar12 = 0;
      iVar7 = 9;
      do {
        ppppfVar3 = ppppppfVar4[1][0x28];
        if (*(int *)(iVar12 + 4 + (int)ppppfVar3) == -0x39e3c400) {
          *(float ****)(iVar12 + 4 + (int)ppppfVar3) = ppppfVar3[iVar14 * 8 + 1];
        }
        iVar12 = iVar12 + 0x20;
        iVar7 = iVar7 + -1;
      } while (iVar7 != 0);
    }
  }
  if ((undefined4 *)local_18 != (undefined4 *)0x0) {
    iVar12 = 9;
    iVar14 = 0;
    do {
      local_1c = (float *******)&local_1c;
      local_18 = 0.0;
      uStack_24 = *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar14 + 8);
      puStack_20 = local_48;
      uStack_28 = *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar14);
      uStack_2c = 0x48a895;
      fVar11 = (float10)FUN_0041c650();
      iVar12 = iVar12 + -1;
      *(float *)((int)ppppppfVar4[1][0x28] + iVar14 + 4) = (float)(fVar11 - (float10)-0.1);
      *(undefined4 *)((int)ppppppfVar4[1][0x28] + iVar14 + 0x10) = 0x7f000000;
      iVar14 = iVar14 + 0x20;
    } while (iVar12 != 0);
  }
  return 1;
}



void FUN_0048a8f0(int *param_1)

{
  FUN_004ad7a0(DAT_005b9424[1],*(undefined4 *)(*param_1 + 0xa0),0x120);
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
            (*(int **)(DAT_005e5010 + 8),*DAT_005b9424,*(undefined4 *)(DAT_005e5010 + 0xc),1);
  return;
}



undefined4
FUN_0048a940(float param_1,float param_2,float param_3,int param_4,float *param_5,
            undefined4 *param_6)

{
  int iVar1;
  int iVar2;
  bool bVar3;
  float fVar4;
  float fVar5;
  bool bVar6;
  int iVar7;
  ushort *puVar8;
  ushort uVar9;
  float10 fVar10;
  undefined local_f0 [64];
  undefined local_b0 [12];
  undefined local_a4 [12];
  float local_98;
  float local_94;
  float local_8c;
  float local_88;
  float local_80;
  float local_7c;
  float local_74;
  float local_70;
  undefined4 local_6c;
  float local_68;
  undefined4 local_64;
  float local_60;
  undefined4 local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  float local_48;
  float local_44;
  uint local_40;
  int local_3c;
  float local_38;
  undefined4 local_34;
  float local_30;
  float local_2c;
  undefined4 local_28;
  float local_24;
  float local_20;
  float *local_1c;
  undefined8 local_18;
  
  AdjustStackForLargeAllocations();
  local_18 = -5.133623904033384e+37;
  iVar7 = *(int *)(*(int *)(param_4 + 4) + 0xb0);
  iVar1 = *(int *)(*(int *)(iVar7 + 0x56) + 0x3c);
  iVar2 = *(int *)(*(int *)(iVar7 + 0x56) + 0xc);
  if (iVar1 != 0) {
    if ((*(byte *)(iVar7 + 0xa2) & 2) != 0) {
      if (*(float *)(iVar7 + 0x89) <= *(float *)(*(int *)(param_4 + 4) + 0x3a)) {
        *param_5 = *(float *)(iVar7 + 0x89);
        return 1;
      }
      return 0;
    }
    local_70 = param_1;
    local_6c = param_2;
    local_68 = param_3;
    local_3c = iVar7;
    if (*(int *)(iVar7 + 0x5b) == 0) {
      local_2c = param_1;
      local_28 = param_2;
      local_24 = param_3;
    }
    else {
      local_18 = (double)CONCAT44(iVar7 + 6,local_f0);
      local_1c = (float *)0x48a9d5;
      FUN_0045f140();
      local_1c = &local_2c;
      local_18 = (double)CONCAT44(&local_70,local_f0);
      local_20 = 6.673112e-39;
      FUN_0045f760();
    }
    local_40 = 0;
    if (*(int *)(*(int *)(iVar7 + 0x56) + 8) != 0) {
      puVar8 = (ushort *)(iVar2 + 4);
      do {
        local_94 = *(float *)((uint)puVar8[-2] * 0x20 + iVar1);
        local_98 = *(float *)((uint)puVar8[-2] * 0x20 + 8 + iVar1);
        local_20 = *(float *)((uint)puVar8[-1] * 0x20 + iVar1);
        local_80 = *(float *)((uint)puVar8[-1] * 0x20 + 8 + iVar1);
        local_18 = (double)CONCAT44(local_18._4_4_,local_80);
        local_38 = *(float *)((uint)*puVar8 * 0x20 + iVar1);
        local_34 = *(undefined4 *)((uint)*puVar8 * 0x20 + 4 + iVar1);
        local_30 = *(float *)((uint)*puVar8 * 0x20 + 8 + iVar1);
        fVar4 = local_94;
        if (local_20 < local_94) {
          fVar4 = local_20;
        }
        param_1 = local_94;
        if (local_94 < local_20) {
          param_1 = local_20;
        }
        if (local_38 < fVar4) {
          fVar4 = local_38;
        }
        if (param_1 < local_38) {
          param_1 = local_38;
        }
        if ((fVar4 <= local_2c) && (local_2c <= param_1)) {
          fVar4 = local_98;
          if (local_80 < local_98) {
            fVar4 = local_80;
          }
          param_2 = local_98;
          if (local_98 < local_80) {
            param_2 = local_80;
          }
          if (local_30 < fVar4) {
            fVar4 = local_30;
          }
          if (param_2 < local_30) {
            param_2 = local_30;
          }
          if ((fVar4 <= local_24) && (local_24 <= param_2)) {
            local_8c = local_30 - local_98;
            local_7c = local_2c - local_94;
            bVar6 = false;
            local_74 = local_24 - local_98;
            local_88 = local_20 - local_94;
            local_80 = local_80 - local_98;
            local_94 = local_38 - local_94;
            local_18 = (double)local_8c;
            local_1c = (float *)0x48abf2;
            fVar10 = (float10)FUN_004ad3c0();
            if (fVar10 <= (float10)0.009999999776482582) {
              fVar4 = local_74 / local_80;
              if (fVar4 <= 1.0 && 0.0 <= fVar4) {
                fVar5 = (local_7c - local_88 * fVar4) * (1.0 / local_94);
                bVar3 = 0.0 <= fVar5;
                fVar5 = fVar5 + fVar4;
                uVar9 = (ushort)(fVar5 < 1.0) << 8 | (ushort)(fVar5 == 1.0) << 0xe;
                goto LAB_0048ad21;
              }
            }
            else {
              fVar4 = local_94 * (1.0 / local_8c);
              fVar4 = (local_7c - local_74 * fVar4) / (local_88 - local_80 * fVar4);
              if (fVar4 <= 1.0 && 0.0 <= fVar4) {
                fVar5 = (local_74 - local_80 * fVar4) * (1.0 / local_8c);
                if (fVar5 < 0.0) {
                  bVar3 = false;
                  uVar9 = (ushort)(fVar5 + fVar4 < 1.0) << 8 | (ushort)(fVar5 + fVar4 == 1.0) << 0xe
                  ;
                }
                else {
                  bVar3 = true;
                  uVar9 = (ushort)(fVar5 + fVar4 < 1.0) << 8 | (ushort)(fVar5 + fVar4 == 1.0) << 0xe
                  ;
                }
LAB_0048ad21:
                if ((bool)(uVar9 != 0 & bVar3)) {
                  bVar6 = true;
                }
              }
            }
            if (bVar6) {
              local_1c = (float *)local_a4;
              local_18 = (double)CONCAT44(&stack0xfffffff0,&local_20);
              local_20 = 6.674345e-39;
              FUN_0045ec80();
              local_1c = (float *)local_b0;
              local_18 = (double)CONCAT44(&stack0xfffffff0,&local_38);
              local_20 = 6.674378e-39;
              FUN_0045ec80();
              local_1c = (float *)&local_64;
              local_18 = (double)CONCAT44(local_a4,local_b0);
              local_20 = 6.674414e-39;
              FUN_0045eb50();
              local_18 = (double)CONCAT44(&local_64,0x48ad99);
              FUN_0045eab0();
              local_58 = local_2c;
              local_18 = (double)CONCAT44(&stack0xfffffff0,&local_64);
              local_1c = (float *)local_24;
              local_20 = local_2c;
              local_24 = 6.674473e-39;
              fVar10 = (float10)FUN_0041cd40();
              iVar7 = local_3c;
              local_54 = (float)fVar10;
              local_50 = local_24;
              if (*(int *)(local_3c + 0x5b) == 0) {
                local_4c = local_58;
                local_44 = local_24;
                local_48 = local_54;
              }
              else {
                local_1c = &local_4c;
                local_18 = (double)CONCAT44(&local_58,local_3c + 6);
                local_20 = 6.674528e-39;
                FUN_0045f6b0();
              }
              if ((((local_18._4_4_ < local_48) && (local_48 <= *(float *)(iVar7 + 0x89))) &&
                  (local_60 <= 0.0)) && (local_48 < *(float *)(*(int *)(param_4 + 4) + 0x3a))) {
                local_18 = (double)((ulonglong)(uint)local_48 << 0x20);
                *param_6 = local_64;
                param_6[1] = local_60;
                param_6[2] = local_5c;
              }
            }
          }
        }
        local_40 = local_40 + 1;
        puVar8 = puVar8 + 6;
        iVar7 = local_3c;
      } while (local_40 < *(uint *)(*(int *)(local_3c + 0x56) + 8));
    }
    if ((*(float *)(iVar7 + 0x7d) <= local_18._4_4_) &&
       (local_18._4_4_ <= *(float *)(*(int *)(param_4 + 4) + 0x3a))) {
      *param_5 = local_18._4_4_;
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_0048aeb0(int param_1,float *param_2)

{
  uint uVar1;
  
  if (param_1 == 0) {
    return 0;
  }
  if ((*(int *)(param_1 + 0x9d) != 0) && ((*(byte *)(*(int *)(param_1 + 0x9d) + 1) & 4) != 0)) {
    return 0;
  }
  uVar1 = 0;
  while( true ) {
    if (((((*param_2 <= *(float *)(param_1 + 0x79)) || (*(float *)(param_1 + 0x85) <= *param_2)) ||
         (param_2[2] <= *(float *)(param_1 + 0x81))) || (*(float *)(param_1 + 0x8d) <= param_2[2]))
       && (uVar1 == 0)) break;
    uVar1 = uVar1 + 1;
    param_2 = param_2 + 8;
    if (8 < uVar1) {
      return 1;
    }
  }
  return 0;
}



void FUN_0048af30(float *param_1,uint param_2)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float10 fVar6;
  
  AdjustStackForLargeAllocations();
  param_2 = param_2 & 0xff;
  fVar2 = param_1[param_2 * 8] - *param_1;
  pfVar1 = param_1 + param_2 * 8;
  fVar4 = param_1[param_2 * 8 + 2] - param_1[2];
  fVar5 = pfVar1[1] - param_1[1];
  fVar3 = fVar4 * fVar4 + fVar2 * fVar2;
  fVar6 = (float10)FUN_004ad3c0((double)(fVar3 / (fVar5 * fVar5 + fVar3)));
  *pfVar1 = (float)(fVar6 * (float10)fVar2 + (float10)*param_1);
  pfVar1[1] = (float)(fVar6 * (float10)fVar5 + (float10)param_1[1]);
  pfVar1[2] = (float)(fVar6 * (float10)fVar4 + (float10)param_1[2]);
  return;
}



void FUN_0048afc0(void)

{
  int *piVar1;
  
  if (DAT_005b9424 != (int **)0x0) {
    if (DAT_005b9424[2] != (int *)0x0) {
      FreeMemory(DAT_005b9424[2]);
      DAT_005b9424[2] = (int *)0x0;
    }
    piVar1 = *DAT_005b9424;
    if (piVar1 != (int *)0x0) {
      if (*piVar1 != 0) {
        (**(code **)(*piVar1 + 8))(piVar1);
      }
      *DAT_005b9424 = (int *)0x0;
    }
    if (DAT_005b9424 != (int **)0x0) {
      FreeMemory(DAT_005b9424);
      DAT_005b9424 = (int **)0x0;
    }
  }
  return;
}



undefined4 * FUN_0048b030(void)

{
  undefined4 *puVar1;
  char *pcVar2;
  int iVar3;
  
  iVar3 = 0;
  pcVar2 = &DAT_005d04a8;
  do {
    if (*pcVar2 == '\0') {
      (&DAT_005d04a8)[iVar3 * 0xd] = 1;
      puVar1 = (undefined4 *)((int)&DAT_005d04a0 + iVar3 * 0xd);
      *puVar1 = 0;
      return puVar1;
    }
    pcVar2 = pcVar2 + 0xd;
    iVar3 = iVar3 + 1;
  } while (pcVar2 < &DAT_005d066f);
  return (undefined4 *)0x0;
}



undefined4 FUN_0048b070(undefined *param_1,int param_2)

{
  uint uVar1;
  undefined uVar2;
  byte bVar3;
  int iVar4;
  uint unaff_EBX;
  int *piVar5;
  int iVar6;
  undefined local_60 [46];
  int local_32;
  int local_2e;
  undefined4 uStack_28;
  undefined **ppuStack_24;
  undefined4 uStack_20;
  undefined *puStack_1c;
  int iStack_18;
  undefined *local_14;
  int iVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  local_14 = param_1;
  iStack_18 = 0x48b090;
  iVar4 = FUN_00441a80();
  local_14 = &stack0xfffffff4;
  ppuStack_24 = (undefined **)local_60;
  puStack_1c = (undefined *)0x1;
  uStack_20 = 0x4a;
  uStack_28 = 0x48b0aa;
  iStack_18 = iVar4;
  iVar7 = iVar4;
  FUN_00441d30();
  piVar5 = (int *)(param_2 + 0x3c);
  if (local_32 == local_2e) {
    return 0;
  }
  local_14 = &stack0xfffffff4;
  ppuStack_24 = (undefined **)&stack0xfffffffa;
  puStack_1c = (undefined *)0x1;
  uStack_20 = 1;
  uStack_28 = 0x48b0db;
  iStack_18 = iVar4;
  FUN_00441d30();
  DAT_005dec2e = 8;
  uVar8 = unaff_EBX & 0xffffff;
  if ((char)(unaff_EBX >> 0x10) != '\0') {
    while( true ) {
      local_14 = &stack0xfffffff4;
      ppuStack_24 = &local_14;
      puStack_1c = (undefined *)0x1;
      uStack_20 = 4;
      uStack_28 = 0x48b10b;
      iStack_18 = iVar4;
      FUN_00441d30();
      puStack_1c = local_14;
      if ((int)local_14 < 0) {
        return 0;
      }
      local_14 = param_1;
      iStack_18 = param_2;
      uStack_20 = 0x48b127;
      iVar4 = FUN_0048b1f0();
      *piVar5 = iVar4;
      if (iVar4 == 0) break;
      iVar4 = 0;
      do {
        iVar6 = 0;
        if (*(char *)(iVar4 + 0x40 + param_2) != '\0') {
          do {
            iStack_18 = iVar7;
            local_14 = &stack0xfffffff4;
            puStack_1c = (undefined *)0x48b150;
            iVar7 = iStack_18;
            uVar2 = FUN_004422d0();
            iVar6 = iVar6 + 1;
            *(undefined *)(*(int *)(*(int *)(*piVar5 + 0x1c) + iVar4 * 4) + -1 + iVar6) = uVar2;
          } while (iVar6 < (int)(uint)*(byte *)(iVar4 + 0x40 + param_2));
        }
        if ((iVar4 == 5) && (*(int *)(param_2 + 0x7f) == 0x17)) {
          local_14 = &stack0xfffffff4;
          puStack_1c = (undefined *)0x48b188;
          iStack_18 = iVar7;
          FUN_004422d0();
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < 7);
      local_14 = (undefined *)0x48b196;
      FUN_004422c0();
      iStack_18 = iVar7;
      local_14 = &stack0xfffffff4;
      ppuStack_24 = (undefined **)(*piVar5 + 0x26);
      puStack_1c = (undefined *)0x1;
      uStack_20 = 1;
      uStack_28 = 0x48b1ad;
      iVar4 = iStack_18;
      FUN_00441d30();
      uVar1 = uVar8 >> 0x10;
      piVar5 = (int *)(*piVar5 + 0x14);
      bVar3 = (char)(uVar8 >> 0x18) + 1;
      uVar8 = CONCAT13(bVar3,(int3)uVar8);
      iVar7 = iVar4;
      if ((byte)uVar1 <= bVar3) {
        return 1;
      }
    }
    return 0;
  }
  return 1;
}



void * FUN_0048b1f0(undefined4 param_1,int param_2,undefined4 param_3)

{
  void *pvVar1;
  void *pvVar2;
  uint _Size;
  byte *pbVar3;
  int iVar4;
  int _Val;
  size_t sVar5;
  
  sVar5 = 0x27;
  iVar4 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x27);
  pvVar1 = _memset(pvVar1,iVar4,sVar5);
  if (pvVar1 == (void *)0x0) {
    return (void *)0x0;
  }
  sVar5 = 0x1c;
  iVar4 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x1c);
  pvVar2 = _memset(pvVar2,iVar4,sVar5);
  *(void **)((int)pvVar1 + 0x1c) = pvVar2;
  if (pvVar2 == (void *)0x0) {
    return (void *)0x0;
  }
  iVar4 = 0;
  pbVar3 = (byte *)(param_2 + 0x40);
  do {
    if (*pbVar3 != 0) {
      _Size = (uint)*pbVar3;
      _Val = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback(_Size);
      pvVar2 = _memset(pvVar2,_Val,_Size);
      *(void **)(*(int *)((int)pvVar1 + 0x1c) + iVar4) = pvVar2;
    }
    pbVar3 = pbVar3 + 1;
    iVar4 = iVar4 + 4;
  } while ((int)(pbVar3 + (-0x40 - param_2)) < 7);
  *(undefined4 *)((int)pvVar1 + 0x10) = param_1;
  FUN_0048b2a0(param_1,param_3);
  return pvVar1;
}



void FUN_0048b2a0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  void *pvVar2;
  size_t _Size;
  
  iVar1 = FUN_0048b2f0(param_1);
  if (iVar1 != 0) {
    _Size = 0x27;
    iVar1 = 0;
    pvVar2 = (void *)AllocateMemoryWithCallback(0x27);
    pvVar2 = _memset(pvVar2,iVar1,_Size);
    *(undefined4 *)((int)pvVar2 + 0x10) = param_1;
    *(void **)((int)pvVar2 + 0x14) = DAT_00598f50;
    DAT_00598f50 = pvVar2;
    FUN_00415fa0(pvVar2,param_2,0);
  }
  return;
}



bool FUN_0048b2f0(int param_1)

{
  int iVar1;
  
  iVar1 = DAT_00598f50;
  if (DAT_00598f50 != 0) {
    do {
      if (*(int *)(iVar1 + 0x10) == param_1) break;
      iVar1 = *(int *)(iVar1 + 0x14);
    } while (iVar1 != 0);
  }
  return iVar1 == 0;
}



void FUN_0048b320(int param_1)

{
  int iVar1;
  char *pcVar2;
  int iVar3;
  int iVar4;
  
  if ((param_1 != 0) && (*(int *)(param_1 + 0x3c) != 0)) {
    iVar4 = *(int *)(param_1 + 0x3c);
    do {
      iVar3 = 0;
      pcVar2 = (char *)(param_1 + 0x40);
      do {
        if (((*pcVar2 != '\0') && (*(int *)(iVar4 + 0x1c) != 0)) &&
           (iVar1 = *(int *)(iVar3 + *(int *)(iVar4 + 0x1c)), iVar1 != 0)) {
          FreeMemory(iVar1);
          *(undefined4 *)(*(int *)(iVar4 + 0x1c) + iVar3) = 0;
        }
        iVar3 = iVar3 + 4;
        pcVar2 = pcVar2 + 1;
      } while (iVar3 < 0x1c);
      if (*(int *)(iVar4 + 0x1c) != 0) {
        FreeMemory(*(int *)(iVar4 + 0x1c));
        *(undefined4 *)(iVar4 + 0x1c) = 0;
      }
      *(undefined4 *)(iVar4 + 0x1c) = 0;
      iVar3 = *(int *)(iVar4 + 0x14);
      if (iVar4 != 0) {
        FreeMemory(iVar4);
      }
      iVar4 = iVar3;
    } while (iVar3 != 0);
  }
  return;
}



void FUN_0048b3b0(int param_1)

{
  char cVar1;
  int iVar2;
  undefined *puVar3;
  bool bVar4;
  int iVar5;
  uint uVar6;
  short sVar7;
  undefined *puVar8;
  undefined4 uVar9;
  
  AdjustStackForLargeAllocations();
  bVar4 = false;
  iVar2 = *(int *)(param_1 + 4);
  iVar5 = *(int *)(*(int *)(iVar2 + 0x86) + 0x13);
  puVar3 = *(undefined **)(iVar5 + 0x3c);
  if ((*(int *)(iVar5 + 0x7f) == 0x1f) &&
     (((cVar1 = *(char *)(iVar2 + 4), cVar1 == '\x05' || (cVar1 == '\x06')) &&
      (*(char *)(iVar2 + 0x1a9) == cVar1)))) {
    bVar4 = true;
  }
  if ((((*(byte *)(iVar2 + 0x8a) & 8) != 0) && (*(char *)(iVar2 + 4) == '\x05')) &&
     ((*(char *)(iVar2 + 5) == '\x01' && (DAT_005e4a64 != 0)))) {
    FUN_00475bf0(DAT_005e4a64 + 0x861,iVar2 + 6,4,0);
  }
  do {
    if (puVar3 == (undefined *)0x0) {
      *(undefined *)(*(int *)(param_1 + 4) + 0x1a9) = *(undefined *)(*(int *)(param_1 + 4) + 4);
      return;
    }
    iVar5 = *(int *)(param_1 + 4);
    iVar2 = *(int *)(*(int *)(puVar3 + 0x1c) + (uint)*(byte *)(iVar5 + 4) * 4);
    if (((iVar2 == 0) || (*(char *)((uint)*(byte *)(iVar5 + 5) + iVar2) == '\0')) ||
       ((puVar3[0x26] & 2) != 0)) goto LAB_0048b522;
    if (*(int *)(puVar3 + 0x10) == 0x10) {
      uVar9 = 4;
      if ((*(byte *)(iVar5 + 0x8a) & 0x10) == 0) {
LAB_0048b519:
        iVar5 = iVar5 + 6;
        puVar8 = puVar3;
      }
      else {
        iVar5 = iVar5 + 6;
        puVar8 = &DAT_005e4786;
      }
LAB_0048b51a:
      FUN_00475bf0(puVar8,iVar5,uVar9,0);
    }
    else {
      if (*(int *)(puVar3 + 0x10) == 0x12) {
        uVar9 = 4;
        if ((*(byte *)(iVar5 + 0x8a) & 0x10) == 0) goto LAB_0048b519;
        iVar5 = iVar5 + 6;
        puVar8 = &DAT_005e47ad;
        goto LAB_0048b51a;
      }
      if (*(byte *)(iVar5 + 4) == 4) {
        uVar6 = FUN_0045fe00();
        sVar7 = (short)((ulonglong)(uVar6 & 0xffff) % 3);
        if (sVar7 == 0) {
          iVar5 = *(int *)(param_1 + 4) + 6;
          uVar9 = 4;
          puVar8 = &DAT_005e475f;
        }
        else {
          if (sVar7 != 1) {
            if (sVar7 == 2) {
              iVar5 = *(int *)(param_1 + 4);
              uVar9 = 1;
              goto LAB_0048b519;
            }
            goto LAB_0048b522;
          }
          iVar5 = *(int *)(param_1 + 4) + 6;
          uVar9 = 4;
          puVar8 = &DAT_005e4849;
        }
        goto LAB_0048b51a;
      }
      if (!bVar4) {
        uVar9 = 1;
        goto LAB_0048b519;
      }
    }
LAB_0048b522:
    puVar3 = *(undefined **)(puVar3 + 0x14);
  } while( true );
}



void FUN_0048b540(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x3c);
  if (iVar1 != 0) {
    while ((*(byte *)(iVar1 + 0x26) & 1) == 0) {
      iVar1 = *(int *)(iVar1 + 0x14);
      if (iVar1 == 0) {
        return;
      }
    }
    FUN_00475bf0(iVar1,*(int *)(param_1 + 4) + 6,1,0);
  }
  return;
}



void FUN_0048b580(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x3c);
  if (iVar1 != 0) {
    while ((*(byte *)(iVar1 + 0x26) & 1) == 0) {
      iVar1 = *(int *)(iVar1 + 0x14);
      if (iVar1 == 0) {
        return;
      }
    }
    FUN_00475bf0(iVar1,DAT_005e45e4 + 0x90,1,0);
  }
  return;
}



void FUN_0048b5d0(int param_1)

{
  int iVar1;
  int iVar2;
  char *pcVar3;
  char *pcVar4;
  undefined4 *puVar5;
  int iVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  puVar7 = (undefined4 *)0x0;
  iVar1 = *(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13);
  for (iVar2 = *(int *)(iVar1 + 0x3c); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x14)) {
    iVar6 = 0;
    pcVar4 = (char *)(iVar1 + 0x40);
    iVar9 = 7;
    puVar8 = puVar7;
    do {
      puVar7 = puVar8;
      if ((((*pcVar4 != '\0') &&
           (pcVar3 = *(char **)(*(int *)(iVar2 + 0x1c) + iVar6), pcVar3 != (char *)0x0)) &&
          (*pcVar3 != '\0')) &&
         (((*(byte *)(iVar2 + 0x26) & 2) != 0 &&
          (puVar5 = (undefined4 *)FUN_0048b030(), puVar5 != (undefined4 *)0x0)))) {
        *(undefined4 *)((int)puVar5 + 9) = *(undefined4 *)(iVar2 + 0x20);
        puVar5[1] = *(int *)(param_1 + 4) + 6;
        puVar7 = puVar5;
        if (puVar8 != (undefined4 *)0x0) {
          *puVar5 = puVar8;
        }
      }
      pcVar4 = pcVar4 + 1;
      iVar6 = iVar6 + 4;
      iVar9 = iVar9 + -1;
      puVar8 = puVar7;
    } while (iVar9 != 0);
  }
  if (puVar7 != (undefined4 *)0x0) {
    FUN_00475dd0(puVar7);
    while (puVar7 != (undefined4 *)0x0) {
      *(undefined *)(puVar7 + 2) = 0;
      puVar7 = (undefined4 *)*puVar7;
    }
  }
  return;
}



void FUN_0048b690(undefined4 param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = (undefined4 *)FUN_0048b030();
  puVar2 = (undefined4 *)0x0;
  if (puVar1 != (undefined4 *)0x0) {
    puVar1[1] = param_2;
    *(undefined4 *)((int)puVar1 + 9) = param_1;
    puVar2 = puVar1;
  }
  if (puVar2 != (undefined4 *)0x0) {
    FUN_00475dd0(puVar2);
    while (puVar2 != (undefined4 *)0x0) {
      *(undefined *)(puVar2 + 2) = 0;
      puVar2 = (undefined4 *)*puVar2;
    }
  }
  return;
}



void FUN_0048b6d0(void)

{
  byte bVar1;
  void *pvVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  uint unaff_ESI;
  undefined2 unaff_DI;
  uint local_52;
  int local_44;
  undefined4 local_3c;
  undefined4 local_38;
  undefined local_30;
  int iVar5;
  size_t sVar6;
  undefined2 uStack_e;
  
  AdjustStackForLargeAllocations();
  FUN_00441a80();
  FUN_00441d30();
  bVar1 = 0;
  if (local_52 != 0) {
    uStack_e = (undefined2)(unaff_ESI >> 0x10);
    do {
      FUN_00441d30();
      sVar6 = 0x27;
      iVar5 = 0;
      pvVar2 = (void *)AllocateMemoryWithCallback();
      puVar3 = (undefined4 *)_memset(pvVar2,iVar5,sVar6);
      puVar3[4] = unaff_ESI & 0xffff;
      puVar3[5] = DAT_00598f50;
      sVar6 = CONCAT22(unaff_DI,uStack_e);
      iVar5 = 0;
      DAT_00598f50 = puVar3;
      pvVar2 = (void *)AllocateMemoryWithCallback();
      pvVar2 = _memset(pvVar2,iVar5,sVar6);
      FUN_00441d30();
      iVar5 = _AIL_WAV_info_8();
      if (iVar5 != 0) {
        iVar5 = _AIL_mem_alloc_lock_4();
        puVar3[8] = iVar5;
        puVar3[1] = local_3c;
        *(undefined *)(puVar3 + 9) = local_30;
        *puVar3 = local_38;
        if (local_44 == 1) {
          puVar3[2] = 0;
        }
        else {
          puVar3[2] = 0x48b795;
        }
        if ((iVar5 != 0) && (FUN_004ad7a0(), pvVar2 != (void *)0x0)) {
          FreeMemory();
        }
        uVar4 = __ftol();
        puVar3[3] = uVar4;
      }
      bVar1 = bVar1 + 1;
    } while (bVar1 < local_52);
  }
  return;
}



undefined4 FUN_0048b860(char *param_1)

{
  void *_Dst;
  char local_104 [236];
  undefined4 uStackY_18;
  void *pvStackY_14;
  int _Val;
  char *_Source;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df310 == '\0') {
    _Source = &gRootFileDirectory;
  }
  else {
    _Source = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_104,_Source);
  FID_conflict__strcat(local_104,param_1);
  DAT_00598f58 = OpenFileWithFixedFlags0x40();
  if (DAT_00598f58 == 0) {
    return 0;
  }
  if (DAT_00598f54 != (void *)0x0) {
    return 1;
  }
  _Size = 0x1703;
  _Val = 0;
  pvStackY_14 = (void *)0x48b8e6;
  _Dst = (void *)AllocateMemoryWithCallback();
  pvStackY_14 = (void *)0x48b8ef;
  DAT_00598f54 = _memset(_Dst,_Val,_Size);
  if (DAT_00598f54 != (void *)0x0) {
    uStackY_18 = 0x48b90f;
    pvStackY_14 = DAT_00598f54;
    CopyDataWithLock();
    return 1;
  }
  return 0;
}



undefined4 FUN_0048b930(uint param_1,undefined4 param_2)

{
  size_t sVar1;
  void *pvVar2;
  undefined4 uVar3;
  int iVar4;
  size_t _Size;
  
  if (DAT_00598f58 == 0) {
    FUN_0048b860(param_2);
  }
  param_1 = param_1 & 0xffff;
  iVar4 = *(int *)(DAT_00598f54 + param_1 + 3 + param_1 * 0xc);
  sVar1 = *(size_t *)(DAT_00598f54 + param_1 + 7 + param_1 * 0xc);
  if (((iVar4 != 0) || (sVar1 != 0)) && (sVar1 != 0)) {
    FUN_004af5b0(DAT_00598f58);
    SeekInResourceWithLock(DAT_00598f58,iVar4 + 0x1703,0);
    iVar4 = 0;
    _Size = sVar1;
    pvVar2 = (void *)AllocateMemoryWithCallback(sVar1);
    pvVar2 = _memset(pvVar2,iVar4,_Size);
    CopyDataWithLock(pvVar2,1,sVar1,DAT_00598f58);
    uVar3 = FUN_00424a20((int)pvVar2 + 0xd,&param_2);
    if (pvVar2 != (void *)0x0) {
      FreeMemory(pvVar2);
    }
    return uVar3;
  }
  return 0;
}



void FUN_0048b9f0(void)

{
  if (DAT_00598f54 != 0) {
    FreeMemory(DAT_00598f54);
    DAT_00598f54 = 0;
  }
  FUN_004adcf0(DAT_00598f58);
  DAT_00598f58 = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0048ba60(void)

{
  AdjustStackForLargeAllocations();
  DAT_00598f74 = DAT_00598f74 + 1;
  DAT_00598f7c = DAT_00598f7c + 1;
  if (DAT_00598f74 == 100) {
    DAT_00598f74 = 0;
    DAT_005b93b8 = FUN_004afb50();
    DAT_00598f7c = 0;
    _DAT_005e449c = __ftol();
  }
  return 1;
}



uint FUN_0048baf0(int *param_1,undefined4 param_2,int param_3,uint param_4)

{
  int *piVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  undefined4 unaff_EBX;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  uVar2 = param_2;
  piVar1 = param_1;
  uVar5 = param_4;
  if (DAT_005b9390 < param_4) {
    uVar5 = DAT_005b9390;
  }
  uVar4 = (**(code **)(*param_1 + 0x2c))
                    (param_1,param_2,uVar5,&param_2,&param_1,&param_4,&stack0xfffffff8,0);
  if (uVar4 == 0x88780096) {
    (**(code **)(*piVar1 + 0x50))(piVar1);
    uVar4 = (**(code **)(*piVar1 + 0x2c))
                      (piVar1,uVar2,uVar5,&param_2,&stack0xfffffff0,&param_4,&stack0xfffffff4,0);
  }
  iVar3 = param_3;
  if (uVar4 == 0) {
    FUN_004ad7a0(param_2,param_3,param_1);
    if (param_4 != 0) {
      FUN_004ad7a0(param_4,(int)param_1 + iVar3,unaff_EBX);
    }
    uVar4 = (**(code **)(*piVar1 + 0x4c))(piVar1,param_2,param_1,param_4,unaff_EBX);
    if (uVar4 == 0) {
      return 1;
    }
  }
  return uVar4 & 0xffffff00;
}



undefined4 FUN_0048bbc0(int param_1,LPSTR param_2,size_t param_3)

{
  HMMIO pHVar1;
  void *pvVar2;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  int *piStackY_20;
  int _Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  piStackY_20 = (int *)0x48bbe4;
  _AIL_get_DirectSound_info_12();
  piStackY_20 = (int *)0x48bbf1;
  pHVar1 = mmioOpenA(param_2,(LPMMIOINFO)0x0,0x10);
  *(HMMIO *)(param_1 + 4) = pHVar1;
  if (pHVar1 == (HMMIO)0x0) {
    return 0;
  }
  _Val = 0;
  piStackY_20 = (int *)0x48bc0f;
  _Size = param_3;
  pvVar2 = (void *)AllocateMemoryWithCallback();
  piStackY_20 = (int *)0x48bc18;
  pvVar2 = _memset(pvVar2,_Val,_Size);
  *(void **)(param_1 + 8) = pvVar2;
  if (pvVar2 == (void *)0x0) {
    mmioClose(*(HMMIO *)(param_1 + 4),0);
    return 0;
  }
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(size_t *)(param_1 + 0x10) = param_3;
  piStackY_20 = (int *)0x48bc54;
  _memset(&local_2c,0,0x14);
  local_24 = *(undefined4 *)(param_1 + 0x10);
  local_2c = 0x14;
  local_28 = 0x100e0;
  piStackY_20 = (int *)0x48bc77;
  _memset(&stack0xffffffe8,0,0x10);
  *(undefined4 *)(param_1 + 0xc) = 0;
  piStackY_20 = DAT_005e49c0;
  local_24 = 0x48bcbd;
  (**(code **)(*DAT_005e49c0 + 0xc))();
  *(undefined *)(param_1 + 0x2d) = 0;
  return 1;
}



undefined4 FUN_0048bcd0(int param_1,LONG param_2)

{
  mmioSeek(*(HMMIO *)(param_1 + 4),param_2,0);
  return 1;
}



undefined4 FUN_0048bcf0(int param_1,int param_2)

{
  int cch;
  LONG LVar1;
  
  if (*(int *)(param_1 + 4) == 0) {
    return 0;
  }
  _memset(*(void **)(param_1 + 8),0,*(size_t *)(param_1 + 0x10));
  FUN_0048baf0(*(undefined4 *)(param_1 + 0xc),0,*(undefined4 *)(param_1 + 8),
               *(undefined4 *)(param_1 + 0x10));
  *(int *)(param_1 + 0x14) = param_2;
  *(undefined4 *)(param_1 + 0x18) = 0;
  if ((*(uint *)(param_1 + 0x20) == *(uint *)(param_1 + 0x24)) ||
     ((uint)(param_2 + -0x400 + *(int *)(param_1 + 0x10)) <= *(uint *)(param_1 + 0x20))) {
    LVar1 = mmioRead(*(HMMIO *)(param_1 + 4),*(HPSTR *)(param_1 + 8),*(LONG *)(param_1 + 0x10));
    FUN_0048baf0(*(undefined4 *)(param_1 + 0xc),0,*(undefined4 *)(param_1 + 8),
                 *(undefined4 *)(param_1 + 0x10));
    *(undefined4 *)(param_1 + 0x1c) = 0;
    *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + LVar1;
  }
  else {
    cch = *(int *)(param_1 + 0x10) + -0x400;
    mmioRead(*(HMMIO *)(param_1 + 4),*(HPSTR *)(param_1 + 8),cch);
    FUN_0048baf0(*(undefined4 *)(param_1 + 0xc),0,*(undefined4 *)(param_1 + 8),cch);
    *(LONG *)(param_1 + 0x14) = *(LONG *)(param_1 + 0x24);
    mmioSeek(*(HMMIO *)(param_1 + 4),*(LONG *)(param_1 + 0x24),0);
    LVar1 = mmioRead(*(HMMIO *)(param_1 + 4),*(HPSTR *)(param_1 + 8),cch);
    FUN_0048baf0(*(undefined4 *)(param_1 + 0xc),0,*(undefined4 *)(param_1 + 8),0);
    *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + LVar1;
    DAT_00598720._0_1_ = (undefined)DAT_0059871c;
    DAT_005dcb83 = 100;
  }
  (**(code **)(**(int **)(param_1 + 0xc) + 0x30))(*(int **)(param_1 + 0xc),0,0,1);
  (**(code **)(**(int **)(param_1 + 0xc) + 0x34))(*(int **)(param_1 + 0xc),0);
  *(undefined *)(param_1 + 0x2d) = 1;
  DAT_004d1648 = 3;
  return 1;
}



undefined4 FUN_0048be30(uint param_1)

{
  uint uVar1;
  int cch;
  LONG LVar2;
  uint uVar3;
  int cch_00;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  uVar1 = param_1;
  if ((*(int *)(param_1 + 0x20) == 1) && (*(int *)(param_1 + 0x24) == 1)) {
    *(undefined4 *)(param_1 + 0x20) = 0;
    *(undefined4 *)(param_1 + 0x24) = 0;
  }
  (**(code **)(**(int **)(param_1 + 0xc) + 0x10))
            (*(int **)(param_1 + 0xc),&param_1,&stack0xfffffff4);
  uVar4 = *(uint *)(uVar1 + 0x1c);
  *(uint *)(uVar1 + 0x18) = param_1;
  if (uVar4 < param_1) {
    cch = param_1 - uVar4;
  }
  else {
    cch = (*(int *)(uVar1 + 0x10) + param_1) - uVar4;
  }
  if (cch != 0) {
    if ((*(uint *)(uVar1 + 0x20) == *(uint *)(uVar1 + 0x24)) ||
       ((uint)(cch + *(int *)(uVar1 + 0x14)) <= *(uint *)(uVar1 + 0x20))) {
      LVar2 = mmioRead(*(HMMIO *)(uVar1 + 4),*(HPSTR *)(uVar1 + 8),cch);
      FUN_0048baf0(*(undefined4 *)(uVar1 + 0xc),*(undefined4 *)(uVar1 + 0x1c),
                   *(undefined4 *)(uVar1 + 8),cch);
      uVar3 = *(int *)(uVar1 + 0x1c) + LVar2;
      *(int *)(uVar1 + 0x14) = *(int *)(uVar1 + 0x14) + LVar2;
      uVar4 = *(uint *)(uVar1 + 0x10);
      *(uint *)(uVar1 + 0x1c) = uVar3;
      if (uVar4 < uVar3) {
        *(uint *)(uVar1 + 0x1c) = uVar3 - uVar4;
      }
    }
    else {
      if (DAT_005dcb7f == 2) {
        FUN_0048c060(&DAT_005b9380);
        DAT_005dcb7f = 0;
        return 1;
      }
      DAT_00598720._0_1_ = (byte)DAT_0059871c;
      DAT_005dcb73 = 1;
      *(int *)((uint)(byte)DAT_0059871c * 0x20 + 0xc + DAT_005dcb61) =
           *(int *)((uint)(byte)DAT_0059871c * 0x20 + 0xc + DAT_005dcb61) + 1;
      DAT_005dcb83 = 100;
      cch_00 = *(int *)(uVar1 + 0x20) - *(int *)(uVar1 + 0x14);
      LVar2 = mmioRead(*(HMMIO *)(uVar1 + 4),*(HPSTR *)(uVar1 + 8),cch_00);
      FUN_0048baf0(*(undefined4 *)(uVar1 + 0xc),*(undefined4 *)(uVar1 + 0x1c),
                   *(undefined4 *)(uVar1 + 8),cch_00);
      uVar4 = *(int *)(uVar1 + 0x1c) + LVar2;
      *(int *)(uVar1 + 0x14) = *(int *)(uVar1 + 0x14) + LVar2;
      *(uint *)(uVar1 + 0x1c) = uVar4;
      if (*(uint *)(uVar1 + 0x10) < uVar4) {
        *(uint *)(uVar1 + 0x1c) = uVar4 - *(uint *)(uVar1 + 0x10);
      }
      *(LONG *)(uVar1 + 0x14) = *(LONG *)(uVar1 + 0x24);
      mmioSeek(*(HMMIO *)(uVar1 + 4),*(LONG *)(uVar1 + 0x24),0);
      LVar2 = mmioRead(*(HMMIO *)(uVar1 + 4),*(HPSTR *)(uVar1 + 8),cch - cch_00);
      FUN_0048baf0(*(undefined4 *)(uVar1 + 0xc),*(undefined4 *)(uVar1 + 0x1c),
                   *(undefined4 *)(uVar1 + 8),cch - cch_00);
      uVar3 = *(int *)(uVar1 + 0x1c) + LVar2;
      *(int *)(uVar1 + 0x14) = *(int *)(uVar1 + 0x14) + LVar2;
      uVar4 = *(uint *)(uVar1 + 0x10);
      *(uint *)(uVar1 + 0x1c) = uVar3;
      if (uVar4 < uVar3) {
        *(uint *)(uVar1 + 0x1c) = uVar3 - uVar4;
      }
      *(undefined4 *)(uVar1 + 0x20) = 1;
      *(undefined4 *)(uVar1 + 0x24) = 1;
    }
    if (uVar4 <= *(uint *)(uVar1 + 0x1c)) {
      *(undefined4 *)(uVar1 + 0x1c) = 0;
    }
  }
  return 1;
}



// Calls a function based on 2 params

void CallMysteryFunction(int param_1,int *param_2)

{
  int iVar1;
  
  if (param_2 != (int *)0x0) {
    iVar1 = (param_1 + -100) * 0x14;
    if (param_1 == 0) {
      iVar1 = -10000;
    }
    if ((-1 < param_1) && (param_1 < 0x65)) {
      (**(code **)(*param_2 + 0x3c))(param_2,iVar1);
    }
  }
  return;
}



void FUN_0048c060(int param_1)

{
  int *piVar1;
  
  piVar1 = *(int **)(param_1 + 0xc);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 0x48))(piVar1);
  }
  *(undefined *)(param_1 + 0x2d) = 0;
  return;
}



undefined4 FUN_0048c080(int param_1)

{
  FUN_0048c060(param_1);
  (**(code **)(**(int **)(param_1 + 0xc) + 8))(*(int **)(param_1 + 0xc));
  *(undefined4 *)(param_1 + 0xc) = 0;
  mmioClose(*(HMMIO *)(param_1 + 4),0);
  if (*(int *)(param_1 + 8) != 0) {
    FreeMemory(*(int *)(param_1 + 8));
    *(undefined4 *)(param_1 + 8) = 0;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0048c0d0(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  ushort uVar4;
  undefined4 uVar5;
  undefined *puVar6;
  char *pcVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  float *pfVar13;
  float *pfVar14;
  float *pfVar15;
  float10 fVar16;
  char local_d4 [100];
  float local_70;
  float local_6c;
  float local_68;
  float local_64;
  float local_60;
  float local_5c;
  float local_58 [4];
  float local_48;
  float local_40;
  float local_38;
  float local_30;
  undefined4 uStackY_2c;
  float local_28;
  undefined8 uVar17;
  ulonglong uVar18;
  float fVar19;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(HANDLE_005d664c,0xffffffff);
  DAT_005b935c = 1;
  if ((char)DAT_00598944 == '\0') {
    if (DAT_00598d44 == '\0') {
      if (DAT_00598fec != 0) {
        DAT_00598fec = 0;
        FUN_0048daa0();
        ResumeAudioStreamsAndSamples();
        goto LAB_0048c180;
      }
    }
    else if (DAT_00598fec == 0) {
      DAT_00598fec = 1;
      FUN_004858c0();
      DAT_005de4e0 = FUN_0048da70();
      FUN_0048daa0();
      PauseAudioStreams();
LAB_0048c180:
      CallMysteryFunction();
    }
  }
  if ((char)DAT_00598944 != '\0') {
    WaitForSingleObject(DAT_005d7a94,0xffffffff);
    iVar12 = *(int *)(DAT_005d8460 + 4);
    SetEvent(DAT_005d7a94);
    if (0 < iVar12) {
      do {
        FUN_00463d50();
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
    }
  }
  uVar5 = FUN_0048da70();
  switch(uVar5) {
  case 1:
    if (((char)DAT_00598944 == '\0') && (DAT_004d79b0 != 0)) {
      FUN_00417aa0();
    }
    if (DAT_00598fac == 0) {
      FUN_00444660();
    }
    if (DAT_00598f90 != 0) {
      if (DAT_00598fbc == 0) {
        *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9) = 0x20;
      }
      else if (DAT_00598fbc == 1) {
        *(undefined4 *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xc9) = 0;
      }
      DAT_00598fbc = (uint)(DAT_00598fbc == 0);
    }
    iVar12 = FUN_0048d5a0();
    if (iVar12 == 0x1b) {
      FUN_0048daa0();
      FUN_004858f0();
      break;
    }
    if (iVar12 != 0x1c) break;
    DAT_00598948 = 0;
    if (DAT_005d70a4 == 1) {
      FUN_00466130();
      iVar11 = ram0x005d70b2;
      for (iVar12 = ram0x005d70b2; unique0x10002177 = iVar11, iVar12 != 0;
          iVar12 = *(int *)(iVar12 + 0x40)) {
        if (*(int *)(iVar12 + 8) != 0) {
          FUN_004ad7a0();
          *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x36) =
               (*(float *)(&DAT_004cf448 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6730) -
               -12.0;
          *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3a) =
               (*(float *)(&DAT_004cf44c + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + _DAT_005d6734) -
               -11.28;
          *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3e) =
               ((*(float *)(&DAT_004cf450 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6738) -
               -10.0) - 4.0;
        }
        iVar11 = ram0x005d70b2;
      }
      iVar12 = *(int *)(*(int *)(iVar11 + 8) + 4);
      fVar1 = *(float *)(iVar12 + 6);
      pfVar13 = (float *)(iVar12 + 6);
      pfVar14 = local_58;
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *pfVar14 = *pfVar13;
        pfVar13 = pfVar13 + 1;
        pfVar14 = pfVar14 + 1;
      }
      local_58[2] = -fVar1;
      local_40 = -*(float *)(iVar12 + 0x16);
      local_30 = -*(float *)(iVar12 + 0x26);
      local_58[0] = *(float *)(iVar12 + 0xe);
      local_48 = *(float *)(iVar12 + 0x1e);
      local_38 = *(float *)(iVar12 + 0x2e);
      *(undefined *)(iVar12 + 4) = 1;
      pfVar13 = local_58;
      pfVar14 = (float *)(iVar12 + 6);
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *pfVar14 = *pfVar13;
        pfVar13 = pfVar13 + 1;
        pfVar14 = pfVar14 + 1;
      }
      *(undefined *)(iVar12 + 5) = 0;
      uVar17 = 0x48c39f;
      FUN_00410870();
      iVar12 = *(int *)(iVar11 + 0x40);
      while (iVar12 != 0) {
        iVar11 = *(int *)(*(int *)(iVar12 + 8) + 4);
        pfVar13 = (float *)(iVar11 + 6);
        pfVar14 = local_58;
        iVar10 = iVar12;
        for (iVar9 = 0x10; iVar9 != 0; iVar9 = iVar9 + -1) {
          *pfVar14 = *pfVar13;
          pfVar13 = pfVar13 + 1;
          pfVar14 = pfVar14 + 1;
        }
        if (*(ushort *)(iVar12 + 0x3e) < (ushort)uVar17) {
          local_58[2] = *(float *)(iVar11 + 6);
          local_40 = *(float *)(iVar11 + 0x16);
          local_30 = *(float *)(iVar11 + 0x26);
          local_58[0] = -*(float *)(iVar11 + 0xe);
          *(int *)(iVar11 + 0x86) = DAT_005d873c;
          iVar12 = *(int *)(DAT_005d873c + 0x13);
          *(undefined *)(iVar11 + 4) = 4;
          local_48 = -*(float *)(iVar11 + 0x1e);
          *(undefined *)(iVar11 + 5) = 0;
          *(int *)(iVar11 + 0x98) = iVar12 + 0x104;
          local_38 = -*(float *)(iVar11 + 0x2e);
          FUN_00410870();
        }
        else {
          local_58[2] = -*(float *)(iVar11 + 6);
          local_58[0] = *(float *)(iVar11 + 0xe);
          local_40 = -*(float *)(iVar11 + 0x16);
          local_30 = -*(float *)(iVar11 + 0x26);
          local_48 = *(float *)(iVar11 + 0x1e);
          local_38 = *(float *)(iVar11 + 0x2e);
          *(undefined *)(iVar11 + 4) = 1;
        }
        *(undefined *)(iVar11 + 5) = 0;
        pfVar13 = local_58;
        pfVar14 = (float *)(iVar11 + 6);
        for (iVar12 = 0x10; iVar12 != 0; iVar12 = iVar12 + -1) {
          *pfVar14 = *pfVar13;
          pfVar13 = pfVar13 + 1;
          pfVar14 = pfVar14 + 1;
        }
        uVar17 = 0x48c47f;
        FUN_00410870();
        iVar12 = *(int *)(iVar10 + 0x40);
      }
    }
    else {
      FUN_00466130();
      for (iVar12 = ram0x005d70b2; iVar11 = unique0x100017dc, iVar12 != 0;
          iVar12 = *(int *)(iVar12 + 0x40)) {
        FUN_004ad7a0();
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x36) =
             (*(float *)(&DAT_004cf448 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6730) -
             -12.0;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3a) =
             (*(float *)(&DAT_004cf44c + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + _DAT_005d6734) -
             -11.28;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3e) =
             ((*(float *)(&DAT_004cf450 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6738) -
             -10.0) - 4.0;
      }
      for (; iVar11 != 0; iVar11 = *(int *)(iVar11 + 0x40)) {
        *(undefined *)(*(int *)(*(int *)(iVar11 + 8) + 4) + 4) = 1;
        *(undefined *)(*(int *)(*(int *)(iVar11 + 8) + 4) + 5) = 0;
        FUN_00410870();
      }
    }
    if (DAT_005e4a64 != 0) {
      FUN_00475bf0();
    }
    CallMysteryFunction();
    FUN_0048c060();
    if (DAT_005e4a4c != 0) {
      _AIL_close_stream_4();
    }
    FID_conflict___mbscpy(local_d4,&gRootFileDirectory);
    FID_conflict__strcat(local_d4,s_Music__004d2530);
    FID_conflict__strcat(local_d4,s_netw_mus_004d2538);
    DAT_005e4a4c = _AIL_open_stream_12();
    _AIL_set_stream_volume_8();
    _AIL_start_stream_4();
    DAT_00598e20._0_1_ = 0;
    DAT_00598980 = 0;
    DAT_0059897c = 0;
    DAT_00598f84 = 0;
    _DAT_005d70a8 = 1;
    FUN_004858f0();
    goto LAB_0048d392;
  case 2:
    DAT_00598fc0 = '\0';
    DAT_00598fc4 = 0;
    DAT_00598fc8 = 0;
    _DAT_00598f80 = 0;
    *(undefined *)(DAT_004d83a4 + 0x62) = 2;
    iVar12 = FUN_0048d5a0();
    if (iVar12 != 0x1b) {
      FUN_004858f0();
      FUN_0048daa0();
      DAT_004cb05c = 8;
      break;
    }
    goto LAB_0048d392;
  case 3:
    if (DAT_00598d44 == '\0') {
      FUN_00444660();
    }
    if (DAT_005de4e4 != 4) {
      FUN_00418510();
    }
    break;
  case 4:
    FUN_00444660();
    FUN_0043d740();
    FUN_004858f0();
    goto LAB_0048d392;
  case 5:
    FUN_00444660();
    FUN_0043d740();
    FUN_0047f480();
    FUN_00492300();
    break;
  case 6:
    FUN_0048daa0();
    if ((char)DAT_00598944 == '\0') {
      FUN_004858f0();
    }
    else {
      local_28 = 2.942727e-44;
      _DAT_00598950 = 0;
      uStackY_2c = 0x48cd55;
      FUN_00466530();
    }
    break;
  case 7:
    if ((DAT_005d675c != DAT_005d6760) || (_DAT_00598f98 = FUN_00444660(), _DAT_00598f98 == 0)) {
      for (iVar12 = *(int *)(DAT_005df318 + 4); iVar12 != 0; iVar12 = *(int *)(iVar12 + 0x16)) {
        uVar4 = *(ushort *)(*(int *)(iVar12 + 4) + 0x8e);
        if ((uVar4 & 1) == 0) {
          uVar4 = uVar4 | 1;
        }
        else {
          uVar4 = uVar4 & 0xfffe;
        }
        *(ushort *)(*(int *)(iVar12 + 4) + 0x8e) = uVar4;
        iVar11 = *(int *)(iVar12 + 4);
        if ((*(byte *)(iVar11 + 0x8e) & 1) != 0) {
          *(char *)(iVar11 + 5) = *(char *)(iVar11 + 5) + '\x01';
          iVar11 = *(int *)(iVar12 + 4);
          if (*(byte *)(*(byte *)(iVar11 + 4) + 0x40 + *(int *)(*(int *)(iVar11 + 0x86) + 0x13)) <=
              *(byte *)(iVar11 + 5)) {
            *(undefined *)(iVar11 + 5) = 0;
          }
        }
      }
      fVar1 = _DAT_004d24f8 * 0.0174524;
      _DAT_004d24f8 = _DAT_004d24f8 * 0.9998477 - _DAT_004d2500 * 0.0174524;
      _DAT_004d2500 = fVar1 - _DAT_004d2500 * -0.9998477;
      FUN_004ad7a0();
      local_28 = DAT_005d6730 - -38.0;
      local_60 = _DAT_005d6734 - -20.0;
      fVar3 = DAT_005d6738 - -10.0;
      local_64 = local_28 -
                 (local_58[0] * _DAT_004d24f8 + local_38 * _DAT_004d2500 + local_48 * _DAT_004d24fc)
                 * -40.0;
      local_5c = fVar3 - (local_58[2] * _DAT_004d24f8 +
                         local_30 * _DAT_004d2500 + local_40 * _DAT_004d24fc) * -40.0;
      local_70 = (local_64 - -*(float *)(DAT_005e45e4 + 0xc0)) - *(float *)(DAT_005e45e4 + 0xc0);
      local_6c = (local_60 - -*(float *)(DAT_005e45e4 + 0xc4)) - *(float *)(DAT_005e45e4 + 0xc4);
      local_68 = (local_5c - -*(float *)(DAT_005e45e4 + 200)) - *(float *)(DAT_005e45e4 + 200);
      *(float *)(DAT_005e45e4 + 0xc0) = -local_70;
      *(float *)(DAT_005e45e4 + 0xc4) = -local_60;
      *(float *)(DAT_005e45e4 + 200) = -local_68;
      fVar1 = *(float *)(DAT_005e45e4 + 0xc0) + local_28;
      fVar2 = *(float *)(DAT_005e45e4 + 0xc4) + local_60;
      fVar3 = *(float *)(DAT_005e45e4 + 200) + fVar3;
      fVar19 = (float)((ulonglong)(double)(fVar3 * fVar3 + fVar2 * fVar2 + fVar1 * fVar1) >> 0x20);
      fVar16 = (float10)FUN_004ad534();
      fVar1 = (float)fVar16;
      local_5c = -(fVar19 / fVar1);
      local_60 = 0.0;
      local_64 = fVar3 / fVar1;
      FUN_0045eab0();
      pfVar13 = &local_64;
      FUN_0045eb50();
      *(float *)(DAT_005e45e4 + 0x4c) = local_64;
      *(float *)(DAT_005e45e4 + 0x5c) = local_60;
      *(float *)(DAT_005e45e4 + 0x6c) = local_5c;
      *(float *)(DAT_005e45e4 + 0x50) = local_70;
      *(float *)(DAT_005e45e4 + 0x60) = local_6c;
      *(float *)(DAT_005e45e4 + 0x70) = local_68;
      *(float **)(DAT_005e45e4 + 0x54) = pfVar13;
      *(float *)(DAT_005e45e4 + 100) = fVar2 / fVar1;
      *(float *)(DAT_005e45e4 + 0x74) = fVar3 / fVar1;
      FUN_0045ecb0();
      if (DAT_00598f84 == 0) {
        DAT_00598f84 = 1;
        FUN_004858f0();
      }
      FUN_00492300();
      break;
    }
    if (DAT_005e4a4c != 0) {
      _AIL_close_stream_4();
      DAT_005e4a4c = 0;
    }
    if ((_DAT_00598fe4 != 1) && (DAT_005d70a4 != 1)) {
      DAT_00598b6c = DAT_00598b6c + 1;
      if ((DAT_00598b6c == DAT_005d70a4) || (DAT_005d7847 != '\0')) {
        FUN_00466130();
        iVar11 = ram0x005d70b2;
        _DAT_00598fe4 = 1;
        iVar12 = *(int *)(*(int *)(ram0x005d70b2 + 8) + 4);
        fVar1 = *(float *)(iVar12 + 6);
        pfVar13 = (float *)(iVar12 + 6);
        pfVar14 = local_58;
        for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
          *pfVar14 = *pfVar13;
          pfVar13 = pfVar13 + 1;
          pfVar14 = pfVar14 + 1;
        }
        local_58[2] = -fVar1;
        local_40 = -*(float *)(iVar12 + 0x16);
        local_30 = -*(float *)(iVar12 + 0x26);
        local_58[0] = *(float *)(iVar12 + 0xe);
        local_48 = *(float *)(iVar12 + 0x1e);
        local_38 = *(float *)(iVar12 + 0x2e);
        *(undefined *)(iVar12 + 4) = 1;
        pfVar13 = local_58;
        pfVar14 = (float *)(iVar12 + 6);
        for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
          *pfVar14 = *pfVar13;
          pfVar13 = pfVar13 + 1;
          pfVar14 = pfVar14 + 1;
        }
        *(undefined *)(iVar12 + 5) = 0;
        FUN_00410870();
        uVar18 = (ulonglong)*(ushort *)(iVar11 + 0x3e);
        for (iVar12 = *(int *)(iVar11 + 0x40); iVar12 != 0; iVar12 = *(int *)(iVar12 + 0x40)) {
          iVar11 = *(int *)(*(int *)(iVar12 + 8) + 4);
          pfVar13 = (float *)(iVar11 + 6);
          pfVar14 = pfVar13;
          pfVar15 = local_58;
          for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
            *pfVar15 = *pfVar14;
            pfVar14 = pfVar14 + 1;
            pfVar15 = pfVar15 + 1;
          }
          if (*(ushort *)(iVar12 + 0x3e) < (ushort)uVar18) {
            local_58[2] = *pfVar13;
            local_58[0] = -*(float *)(iVar11 + 0xe);
            local_40 = *(float *)(iVar11 + 0x16);
            local_30 = *(float *)(iVar11 + 0x26);
            local_48 = -*(float *)(iVar11 + 0x1e);
            *(int *)(iVar11 + 0x86) = DAT_005d873c;
            iVar10 = *(int *)(DAT_005d873c + 0x13);
            *(undefined *)(iVar11 + 4) = 4;
            local_38 = -*(float *)(iVar11 + 0x2e);
            *(int *)(iVar11 + 0x98) = iVar10 + 0x104;
          }
          else {
            fVar1 = *pfVar13;
            pfVar14 = pfVar13;
            pfVar15 = local_58;
            for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
              *pfVar15 = *pfVar14;
              pfVar14 = pfVar14 + 1;
              pfVar15 = pfVar15 + 1;
            }
            local_58[2] = -fVar1;
            local_40 = -*(float *)(iVar11 + 0x16);
            local_30 = -*(float *)(iVar11 + 0x26);
            *(undefined *)(iVar11 + 4) = 1;
            local_58[0] = *(float *)(iVar11 + 0xe);
            local_48 = *(float *)(iVar11 + 0x1e);
            local_38 = *(float *)(iVar11 + 0x2e);
          }
          *(undefined *)(iVar11 + 5) = 0;
          pfVar14 = local_58;
          for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
            *pfVar13 = *pfVar14;
            pfVar14 = pfVar14 + 1;
            pfVar13 = pfVar13 + 1;
          }
          uVar18 = 0x48d045;
          FUN_00410870();
        }
      }
      else {
        FUN_0048daa0();
        FUN_004858f0();
      }
      break;
    }
    goto LAB_0048d392;
  case 9:
    FUN_00444660();
    iVar12 = FUN_0048d5a0();
    if (iVar12 == 0x1b) {
      FUN_0048daa0();
      FUN_004858f0();
    }
    _DAT_00598fdc = 1;
    FUN_0048daa0();
    FUN_004858f0();
    break;
  case 10:
    FUN_004858f0();
    goto LAB_0048d392;
  case 0xb:
    FUN_00444660();
    FUN_0043d740();
    FUN_0047f480();
    break;
  case 0xd:
    FUN_004858f0();
    goto LAB_0048d392;
  case 0xe:
    FUN_004858f0();
    goto LAB_0048d392;
  case 0xf:
    FUN_0048daa0();
    FUN_004858f0();
    break;
  case 0x10:
    FUN_004858f0();
    goto LAB_0048d392;
  case 0x11:
    FUN_00444660();
    FUN_0048d5a0();
    if (*(char *)(DAT_004d83a4 + 0x62) == '\x03') {
      DAT_005de4e4 = FUN_004858c0();
      PauseAudioStreams();
      CallMysteryFunction();
      FUN_004858f0();
    }
    else {
      *(undefined *)(DAT_004d83a4 + 0x62) = 1;
      if (DAT_004d79b0 != 0) {
        *(undefined4 *)(DAT_004d79b0 + 8) = 0;
      }
      FUN_004362d0();
    }
    break;
  case 0x12:
    FUN_00444660();
    iVar12 = FUN_004858c0();
    if (iVar12 == 1) break;
    DAT_005de4e4 = FUN_004858c0();
    FUN_004858f0();
    DAT_00598fcc = 1;
    if (DAT_00598d44 == '\0') {
      DAT_005de4e0 = 1;
    }
    goto LAB_0048d392;
  case 0x13:
    FUN_00444660();
    FUN_0048daa0();
    FUN_004858f0();
    break;
  case 0x14:
    FUN_00444660();
    iVar12 = FUN_004858c0();
    if (iVar12 != 10) {
      DAT_005de4e4 = FUN_004858c0();
      FUN_004858f0();
      DAT_004d809c = 0;
    }
    break;
  case 0x15:
    FUN_00444660();
    FUN_0048daa0();
    if (DAT_004d784c != 0) {
      _DAT_004d7858 = 1;
    }
    FUN_004858f0();
    DAT_00598fa4 = '\x01';
    DAT_00598fa8 = '\0';
    break;
  case 0x18:
    FUN_004858f0();
    goto LAB_0048d392;
  case 0x19:
    iVar12 = 0;
    if (DAT_005d6760 != 0) {
      pcVar7 = &DAT_005d7847;
      iVar11 = DAT_005d6760;
      do {
        if (*pcVar7 != '\0') {
          iVar12 = iVar12 + 1;
        }
        pcVar7 = pcVar7 + 0x48;
        iVar11 = iVar11 + -1;
      } while (iVar11 != 0);
    }
    DAT_005d6760 = DAT_005d6760 - iVar12;
    FUN_0046a900();
    DAT_00598924 = 0;
    FUN_0048daa0();
    if (DAT_005d6c94 == 0) {
      local_28 = 3.082857e-44;
      uStackY_2c = 0x48ce67;
      FUN_00466530();
    }
    else {
      local_28 = 6.686158e-39;
      timeSetEvent(5000,1000,FUN_00465100,0,1);
      FUN_004858f0();
    }
    break;
  case 0x1a:
    if ((DAT_00598b6c != DAT_005d70a4 + -1) && (DAT_005d7847 == '\0')) {
      _memset(&DAT_005d7840,0,DAT_005d6760 * 0x48);
    }
    local_28 = 4.484155e-44;
    DAT_00598f84 = 0;
    uStackY_2c = 0x48caca;
    FUN_00466530();
    DAT_005d675c = DAT_005d675c + 1;
    goto LAB_0048d392;
  case 0x1c:
    DAT_00598948 = 0;
    if (DAT_005d6760 != 0) {
      puVar6 = &DAT_005d7845;
      iVar12 = DAT_005d6760;
      do {
        puVar6[-1] = 0;
        *puVar6 = 0;
        puVar6[1] = 0;
        puVar6 = puVar6 + 0x48;
        iVar12 = iVar12 + -1;
      } while (iVar12 != 0);
    }
    if (DAT_005d70a4 == 1) {
      FUN_00466130();
      iVar11 = ram0x005d70b2;
      for (iVar12 = ram0x005d70b2; unique0x10002173 = iVar11, iVar12 != 0;
          iVar12 = *(int *)(iVar12 + 0x40)) {
        FUN_004ad7a0();
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x36) =
             (*(float *)(&DAT_004cf448 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6730) -
             -12.0;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3a) =
             (*(float *)(&DAT_004cf44c + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + _DAT_005d6734) -
             -11.28;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3e) =
             ((*(float *)(&DAT_004cf450 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6738) -
             -10.0) - 4.0;
        iVar11 = ram0x005d70b2;
      }
      iVar12 = *(int *)(*(int *)(iVar11 + 8) + 4);
      fVar1 = *(float *)(iVar12 + 6);
      pfVar13 = (float *)(iVar12 + 6);
      pfVar14 = local_58;
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *pfVar14 = *pfVar13;
        pfVar13 = pfVar13 + 1;
        pfVar14 = pfVar14 + 1;
      }
      local_58[2] = -fVar1;
      local_40 = -*(float *)(iVar12 + 0x16);
      local_30 = -*(float *)(iVar12 + 0x26);
      local_58[0] = *(float *)(iVar12 + 0xe);
      local_48 = *(float *)(iVar12 + 0x1e);
      local_38 = *(float *)(iVar12 + 0x2e);
      *(undefined *)(iVar12 + 4) = 1;
      pfVar13 = local_58;
      pfVar14 = (float *)(iVar12 + 6);
      for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
        *pfVar14 = *pfVar13;
        pfVar13 = pfVar13 + 1;
        pfVar14 = pfVar14 + 1;
      }
      *(undefined *)(iVar12 + 5) = 0;
      FUN_00410870();
      uVar18 = (ulonglong)*(ushort *)(iVar11 + 0x3e);
      for (iVar12 = *(int *)(iVar11 + 0x40); iVar12 != 0; iVar12 = *(int *)(iVar12 + 0x40)) {
        iVar11 = *(int *)(*(int *)(iVar12 + 8) + 4);
        pfVar13 = (float *)(iVar11 + 6);
        pfVar14 = pfVar13;
        pfVar15 = local_58;
        for (iVar10 = 0x10; iVar10 != 0; iVar10 = iVar10 + -1) {
          *pfVar15 = *pfVar14;
          pfVar14 = pfVar14 + 1;
          pfVar15 = pfVar15 + 1;
        }
        if (*(ushort *)(iVar12 + 0x3e) < (ushort)uVar18) {
          local_58[2] = *pfVar13;
          local_58[0] = -*(float *)(iVar11 + 0xe);
          local_40 = *(float *)(iVar11 + 0x16);
          local_30 = *(float *)(iVar11 + 0x26);
          local_48 = -*(float *)(iVar11 + 0x1e);
          *(int *)(iVar11 + 0x86) = DAT_005d873c;
          iVar10 = *(int *)(DAT_005d873c + 0x13);
          *(undefined *)(iVar11 + 4) = 4;
          local_38 = -*(float *)(iVar11 + 0x2e);
          *(int *)(iVar11 + 0x98) = iVar10 + 0x104;
        }
        else {
          *(undefined *)(iVar11 + 4) = 1;
          local_58[2] = -*pfVar13;
          local_40 = -*(float *)(iVar11 + 0x16);
          local_58[0] = *(float *)(iVar11 + 0xe);
          local_48 = *(float *)(iVar11 + 0x1e);
          local_30 = -*(float *)(iVar11 + 0x26);
          local_38 = *(float *)(iVar11 + 0x2e);
        }
        *(undefined *)(iVar11 + 5) = 0;
        pfVar14 = local_58;
        for (iVar11 = 0x10; iVar11 != 0; iVar11 = iVar11 + -1) {
          *pfVar13 = *pfVar14;
          pfVar14 = pfVar14 + 1;
          pfVar13 = pfVar13 + 1;
        }
        uVar18 = 0x48c895;
        FUN_00410870();
      }
    }
    else {
      FUN_00466130();
      for (iVar12 = ram0x005d70b2; iVar11 = unique0x100013a0, iVar12 != 0;
          iVar12 = *(int *)(iVar12 + 0x40)) {
        FUN_004ad7a0();
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x36) =
             (*(float *)(&DAT_004cf448 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6730) -
             -12.0;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3a) =
             (*(float *)(&DAT_004cf44c + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + _DAT_005d6734) -
             -11.28;
        *(float *)(*(int *)(*(int *)(iVar12 + 8) + 4) + 0x3e) =
             ((*(float *)(&DAT_004cf450 + (uint)*(byte *)(iVar12 + 0x11) * 0xc) + DAT_005d6738) -
             -10.0) - 4.0;
      }
      for (; iVar11 != 0; iVar11 = *(int *)(iVar11 + 0x40)) {
        *(undefined *)(*(int *)(*(int *)(iVar11 + 8) + 4) + 4) = 1;
        *(undefined *)(*(int *)(*(int *)(iVar11 + 8) + 4) + 5) = 0;
        FUN_00410870();
      }
    }
    if (DAT_005e4a64 != 0) {
      FUN_00475bf0();
    }
    CallMysteryFunction();
    FUN_0048c060();
    if (DAT_005e4a4c != 0) {
      _AIL_close_stream_4();
    }
    FID_conflict___mbscpy(local_d4,&gRootFileDirectory);
    FID_conflict__strcat(local_d4,s_Music__004d2544);
    FID_conflict__strcat(local_d4,s_netw_mus_004d254c);
    DAT_005e4a4c = _AIL_open_stream_12();
    _AIL_set_stream_volume_8();
    _AIL_start_stream_4();
    FUN_004858f0();
    FUN_0048daa0();
    DAT_00598e20._0_1_ = 0;
    DAT_00598980 = 0;
    DAT_0059897c = 0;
    _DAT_005d70a8 = 1;
    break;
  case 0x1d:
    uVar8 = FUN_00444660();
    if ((uVar8 & 0x2000) == 0) break;
LAB_0048d392:
    FUN_0048daa0();
  }
  if ((DAT_00598fa4 != '\0') && (DAT_00598fa8 != '\0')) {
    ResumeAudioStreamsAndSamples();
    CallMysteryFunction();
    DAT_00598fa4 = '\0';
    DAT_00598fa8 = '\0';
  }
  if ((char)DAT_00598944 != '\0') {
    iVar12 = *(int *)(DAT_005d7c4c + 4);
    while (iVar12 != 0) {
      FUN_00466f40();
      DAT_00598fb8 = DAT_00598fb8 + 1;
      iVar12 = *(int *)(DAT_005d7c4c + 4);
    }
    if (DAT_00598fc0 == '\x18') {
      if ((DAT_00598fe8 == '\0') && (0xc < DAT_00598fb8)) {
        DAT_00598fe8 = '\b';
      }
      else {
        DAT_00598fb8 = 0;
      }
      DAT_00598fc0 = '\0';
      DAT_00598fc4 = DAT_00598fc4 + 1;
      if (DAT_00598fc4 == 0x3c) {
        DAT_00598fc4 = 0;
        DAT_00598fc8 = DAT_00598fc8 + 1;
      }
      if (((DAT_005d86b0 == '\x01') && (DAT_005aa0e6 != (int *)0x0)) && (*DAT_005aa0e6 < 1)) {
        DAT_005aa0e6 = (int *)0x0;
        DAT_00598fac = 1;
        FUN_0046bff0();
        _memset(&DAT_005d7c42,0,8);
        if (DAT_005d6c94 != 0) {
          local_28 = 1.401298e-44;
          uStackY_2c = 0x48d4cf;
          FUN_00466530();
          SetEvent(HANDLE_005d664c);
          return;
        }
      }
    }
    else {
      DAT_00598fc0 = DAT_00598fc0 + '\x01';
      if ((DAT_00598fe8 != '\0') && (DAT_00598fe8 = DAT_00598fe8 + -1, DAT_00598fe8 == '\0')) {
        DAT_00598fb8 = 0;
      }
    }
  }
  SetEvent(HANDLE_005d664c);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0048d5a0(undefined4 param_1)

{
  byte *pbVar1;
  ushort *puVar2;
  byte bVar3;
  short sVar4;
  int iVar5;
  int *piVar6;
  uint uVar7;
  uint uVar8;
  bool bVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  
  uVar7 = DAT_005df318[1];
  _DAT_00598f00 = 1;
  if (DAT_00598fac == 0) {
    iVar5 = FUN_00446480(10);
    if ((iVar5 == 0) || (*(byte *)(*(int *)(uVar7 + 4) + 0x189) < 2)) {
      iVar5 = FUN_00446480(0x15);
      if ((iVar5 == 0) || (*(byte *)(*(int *)(uVar7 + 4) + 0x189) < 2)) {
        if (*(int *)(*(int *)(uVar7 + 4) + 0x193) == 0) goto LAB_0048d616;
        uVar11 = 0;
        uVar10 = 0;
      }
      else {
        uVar11 = 2;
        uVar10 = 1;
      }
    }
    else {
      uVar11 = 1;
      uVar10 = 1;
    }
    FUN_00446840(uVar10,uVar11);
  }
LAB_0048d616:
  if ((((char)DAT_00598944 == '\0') ||
      (FUN_00462e90(*(undefined4 *)(*(int *)(DAT_005df318[1] + 4) + 0xc9)),
      (char)DAT_00598944 == '\0')) || (_DAT_00598f80 != 0)) {
    FUN_00472830(DAT_00598d90);
    if (DAT_00598d6c == 0) {
      FUN_00471ae0(param_1,DAT_00598d90);
    }
    FUN_00426880();
    if ((char)DAT_00598944 != '\0') {
      FUN_004768e0();
      uVar7 = 0;
      if (DAT_005d6760 != 0) {
        piVar6 = &DAT_005d7848;
        do {
          if (uVar7 != _DAT_005d7a80) {
            sVar4 = *(short *)((int)piVar6 + 10) + 1;
            *(short *)((int)piVar6 + 10) = sVar4;
            if (sVar4 == 0xfa) {
              if ((*piVar6 != 0) && (iVar5 = *(int *)(*piVar6 + 4), iVar5 != 0)) {
                *(undefined4 *)(iVar5 + 0xc9) = 0;
              }
              FUN_00466530(0x1b,0,0,0,0,piVar6[-2]);
            }
            else if (((sVar4 == 500) && (*piVar6 != 0)) &&
                    (iVar5 = *(int *)(*piVar6 + 4), iVar5 != 0)) {
              pbVar1 = (byte *)(iVar5 + 0x8f);
              *pbVar1 = *pbVar1 | 0x80;
            }
          }
          uVar7 = uVar7 + 1;
          piVar6 = piVar6 + 0x12;
        } while (uVar7 < DAT_005d6760);
      }
    }
  }
  FUN_00409320();
  if (DAT_004d7ab0 != '\0') {
    FUN_00425410();
  }
  if ((char)DAT_00598944 != '\0') {
    if (_DAT_00598f9c == 1) {
      if (_DAT_00598fa0 == 0) {
        _DAT_00598fa0 = 1;
        FUN_004632d0();
        _DAT_005b9360 = 5;
      }
      if (_DAT_005b9360 == 0) {
        iVar5 = FUN_00463310(DAT_005d6760);
        if (iVar5 == 0) {
          _DAT_00598f9c = 0;
          _DAT_00598fa0 = 0;
          _DAT_00598f80 = 1;
          if (DAT_005d86b0 == '\x01') {
            _memset(&DAT_005d2500,0,0x28);
            DAT_005aa0e6 = &DAT_005d2500;
            DAT_005d2500 = DAT_005d70a0 * 0x5dc;
          }
        }
      }
      else {
        _DAT_005b9360 = _DAT_005b9360 + -1;
      }
    }
    if (DAT_004d7ab4 != '\0') {
      FUN_00425a50();
    }
  }
  FUN_004a39d0();
  FUN_0047ced0();
  FUN_004a4a00();
  FUN_004942a0(DAT_005df318[1]);
  FUN_00494da0();
  FUN_0044d250();
  FUN_00475b10();
  FUN_00418510();
  if ((DAT_00598fb0 != 0) || ((_DAT_005e45d4 != 0 && (DAT_00598e18 == 0)))) {
    _DAT_005e45d4 = 0;
    if (DAT_00598fb0 == 0) {
      bVar3 = DAT_00598f8c + 1;
      bVar9 = 0x18 < DAT_00598f8c;
      DAT_00598f8c = bVar3;
      if (bVar9) {
        DAT_00598fac = 1;
        FUN_0046bff0(DAT_005df318[1],1);
        if ((char)DAT_00598944 != '\0') {
          _memset(&DAT_005d7c42,0,8);
          FUN_00466530(10,0,0,0,0,0);
        }
      }
    }
    else {
      DAT_00598fac = 1;
      DAT_00598fb0 = 0;
      uVar8 = 0;
      uVar7 = DAT_005df318[1];
      if (*DAT_005df318 != 0) {
        do {
          FUN_0046bff0(uVar7,0);
          uVar7 = *(uint *)(uVar7 + 10);
          uVar8 = uVar8 + 1;
        } while (uVar8 < *DAT_005df318);
      }
    }
  }
  if ((DAT_00598fac != 0) && (DAT_004d24e8 = DAT_004d24e8 + -1, DAT_004d24e8 == '\0')) {
    DAT_00598f8c = 0;
    _DAT_005e45d4 = 0;
    DAT_00598fac = 0;
    _DAT_00598fb4 = 0;
    DAT_004d24e8 = 'd';
    if ((char)DAT_00598944 != '\0') {
      DAT_00598fd4 = 0;
      _DAT_00598fd8 = 0;
      timeKillEvent(DAT_005d7a90);
      return 0x1c;
    }
LAB_0048d980:
    DAT_004d24f0 = DAT_00598fd4 == 0;
    DAT_00598fd4 = 0;
    _DAT_00598fd8 = 0;
    return 0x1b;
  }
  if (DAT_00598fd4 != 0) {
    if (_DAT_00598fd8 == 0) {
      DAT_004d24ec = 0xf0;
      _DAT_00598fd8 = 1;
    }
    else if (DAT_004d24ec == 0x62) {
      FUN_0046bff0(DAT_005df318[1],0);
    }
    DAT_004d24ec = DAT_004d24ec + -1;
    if (DAT_00598fd0 == 0) {
      if ((DAT_004d24ec == 0) && (*(char *)(*(int *)(DAT_005df318[1] + 4) + 0x189) == '\0')) {
        DAT_004d24ec = 0;
        goto LAB_0048d980;
      }
      if (*(char *)(*(int *)(DAT_005df318[1] + 4) + 0x189) != '\0') {
        DAT_004d24f0 = 1;
        DAT_00598fd4 = 0;
        _DAT_00598fd8 = 0;
        puVar2 = (ushort *)(*(int *)(DAT_005df318[1] + 4) + 0x8e);
        *puVar2 = *puVar2 & 0xffdf;
        return 0;
      }
    }
    else if (DAT_004d24ec == 0) {
      DAT_004d24f0 = 0;
      DAT_00598fd4 = 0;
      _DAT_00598fd8 = 0;
      DAT_00598fd0 = 0;
      return 0x1b;
    }
  }
  FUN_00492300();
  return 0;
}



bool FUN_0048da50(void)

{
  DAT_00598f88 = CreateEventA((LPSECURITY_ATTRIBUTES)0x0,0,1,(LPCSTR)0x0);
  return DAT_00598f88 != (HANDLE)0x0;
}



undefined4 FUN_0048da70(void)

{
  undefined4 uVar1;
  
  WaitForSingleObject(DAT_00598f88,0xffffffff);
  uVar1 = DAT_00598fe0;
  SetEvent(DAT_00598f88);
  return uVar1;
}



void FUN_0048daa0(undefined4 param_1)

{
  WaitForSingleObject(DAT_00598f88,0xffffffff);
  DAT_00598fe0 = param_1;
  SetEvent(DAT_00598f88);
  return;
}



void FUN_0048dbb0(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  if (DAT_00598ff0 != (int *)0x0) {
    if ((*DAT_00598ff0 != 0) && (uVar2 = 0, *(short *)(DAT_00598ff0 + 1) != 0)) {
      iVar3 = 0;
      do {
        if (*(int *)(*DAT_00598ff0 + iVar3) != 0) {
          FreeMemory(*(int *)(*DAT_00598ff0 + iVar3));
        }
        *(undefined4 *)(*DAT_00598ff0 + iVar3) = 0;
        iVar1 = *(int *)(*DAT_00598ff0 + 10 + iVar3);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
        }
        *(undefined4 *)(*DAT_00598ff0 + 10 + iVar3) = 0;
        iVar1 = *(int *)(*DAT_00598ff0 + 0x16 + iVar3);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
        }
        uVar2 = uVar2 + 1;
        iVar3 = iVar3 + 0x3e;
        *(undefined4 *)(*DAT_00598ff0 + -0x28 + iVar3) = 0;
      } while (uVar2 < *(ushort *)(DAT_00598ff0 + 1));
    }
    if (DAT_00598ff0[6] != 0) {
      FreeMemory(DAT_00598ff0[6]);
    }
    DAT_00598ff0[6] = 0;
    *(undefined2 *)((int)DAT_00598ff0 + 0x12) = 0;
    if (DAT_00598ff0[8] != 0) {
      FreeMemory(DAT_00598ff0[8]);
    }
    DAT_00598ff0[8] = 0;
    if (DAT_00598ff0[5] != 0) {
      FreeMemory(DAT_00598ff0[5]);
    }
    DAT_00598ff0[5] = 0;
    if (*DAT_00598ff0 != 0) {
      FreeMemory(*DAT_00598ff0);
    }
    *DAT_00598ff0 = 0;
    if (*(int *)((int)DAT_00598ff0 + 10) != 0) {
      FreeMemory(*(int *)((int)DAT_00598ff0 + 10));
    }
    *(undefined4 *)((int)DAT_00598ff0 + 10) = 0;
  }
  return;
}



void FUN_0048dd70(int param_1)

{
  ushort uVar1;
  undefined4 uVar2;
  short sVar3;
  size_t sVar4;
  void *pvVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  uint uVar9;
  int iVar10;
  short sVar11;
  void **ppvVar12;
  short local_20;
  uint uVar13;
  short sVar14;
  uint uVar15;
  uint uVar16;
  
  AdjustStackForLargeAllocations();
  if (param_1 == 0) {
    *(short *)(DAT_00598ff0 + 1) = *(short *)(DAT_00598ff0 + 2) * *(short *)((int)DAT_00598ff0 + 6);
    sVar4 = (uint)*(ushort *)(DAT_00598ff0 + 1) * 0x3e;
    iVar6 = param_1;
    pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
    pvVar5 = _memset(pvVar5,iVar6,sVar4);
    *DAT_00598ff0 = pvVar5;
    sVar4 = (uint)*(ushort *)(DAT_00598ff0 + 2) * (uint)*(ushort *)((int)DAT_00598ff0 + 6) * 4;
    iVar6 = param_1;
    pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
    pvVar5 = _memset(pvVar5,iVar6,sVar4);
    *(void **)((int)DAT_00598ff0 + 10) = pvVar5;
    if (*(short *)(DAT_00598ff0 + 1) != 0) {
      uVar13 = 0;
      iVar6 = 0;
      do {
        uVar16 = uVar13 + 1;
        *(uint *)(*(int *)((int)DAT_00598ff0 + 10) + uVar13 * 4) = uVar16;
        *(uint *)((int)*DAT_00598ff0 + iVar6 + 0x26) =
             uVar13 % (uint)*(ushort *)((int)DAT_00598ff0 + 6);
        *(uint *)((int)*DAT_00598ff0 + iVar6 + 0x2a) = uVar13 / *(ushort *)((int)DAT_00598ff0 + 6);
        uVar13 = uVar16;
        iVar6 = iVar6 + 0x3e;
      } while (uVar16 < *(ushort *)(DAT_00598ff0 + 1));
    }
  }
  else {
    sVar4 = (uint)*(ushort *)(DAT_00598ff0 + 1) * 0x3e;
    iVar6 = 0;
    pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
    pvVar5 = _memset(pvVar5,iVar6,sVar4);
    uVar13 = 0;
    *DAT_00598ff0 = pvVar5;
    if (*(short *)(DAT_00598ff0 + 1) != 0) {
      iVar6 = 0;
      puVar8 = (undefined4 *)(param_1 + 0x26);
      do {
        uVar13 = uVar13 + 1;
        *(undefined4 *)((int)*DAT_00598ff0 + iVar6 + 0x1a) = puVar8[-3];
        *(undefined4 *)((int)*DAT_00598ff0 + iVar6 + 0x26) = *puVar8;
        *(undefined4 *)((int)*DAT_00598ff0 + iVar6 + 0x2a) = puVar8[1];
        *(undefined4 *)((int)*DAT_00598ff0 + iVar6 + 0x16) = puVar8[-4];
        iVar6 = iVar6 + 0x3e;
        puVar8 = (undefined4 *)((int)puVar8 + 0x3e);
      } while (uVar13 < *(ushort *)(DAT_00598ff0 + 1));
    }
  }
  iVar10 = 0;
  uVar13 = 0;
  iVar6 = *(ushort *)((int)DAT_00598ff0 + 0xe) + 1;
  if (*(short *)(DAT_00598ff0 + 1) != 0) {
    sVar4 = iVar6 * iVar6 * 0x20;
    do {
      iVar6 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar6,sVar4);
      *(void **)((int)*DAT_00598ff0 + iVar10) = pvVar5;
      sVar4 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
              (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * 0x18;
      iVar6 = 0;
      pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
      pvVar5 = _memset(pvVar5,iVar6,sVar4);
      *(void **)((int)*DAT_00598ff0 + iVar10 + 10) = pvVar5;
      if (param_1 == 0) {
        sVar4 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * 0xf;
        iVar6 = 0;
        pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
        pvVar5 = _memset(pvVar5,iVar6,sVar4);
        *(void **)((int)*DAT_00598ff0 + iVar10 + 0x16) = pvVar5;
      }
      uVar16 = 0;
      do {
        uVar15 = 0;
        do {
          iVar6 = ((*(ushort *)((int)DAT_00598ff0 + 0xe) + 1) * uVar16 + uVar15) * 0x20;
          *(float *)(*(int *)((int)*DAT_00598ff0 + iVar10) + iVar6) =
               (float)(ulonglong)
                      ((*(int *)((int)(int *)((int)*DAT_00598ff0 + iVar10) + 0x26) *
                        (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) + uVar15) *
                      (uint)*(ushort *)(DAT_00598ff0 + 4));
          *(float *)(*(int *)((int)*DAT_00598ff0 + iVar10) + 8 + iVar6) =
               (float)(ulonglong)
                      (((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                        *(int *)((int)(int *)((int)*DAT_00598ff0 + iVar10) + 0x2a) + uVar16) *
                      (uint)*(ushort *)(DAT_00598ff0 + 4));
          if (param_1 == 0) {
            *(undefined4 *)(*(int *)((int)*DAT_00598ff0 + iVar10) + 4 + iVar6) = 0;
          }
          else {
            *(undefined4 *)(*(int *)((int)*DAT_00598ff0 + iVar10) + 4 + iVar6) =
                 *(undefined4 *)(*(int *)(param_1 + iVar10) + 4 + iVar6);
          }
          if ((uVar15 & 1) == 0) {
            uVar2 = 0x3dcccccd;
          }
          else {
            uVar2 = 0x3f666666;
          }
          *(undefined4 *)(*(int *)((int)*DAT_00598ff0 + iVar10) + 0x18 + iVar6) = uVar2;
          if ((uVar16 & 1) == 0) {
            uVar2 = 0x3dcccccd;
          }
          else {
            uVar2 = 0x3f666666;
          }
          uVar15 = uVar15 + 1;
          *(undefined4 *)(*(int *)((int)*DAT_00598ff0 + iVar10) + 0x1c + iVar6) = uVar2;
          uVar1 = *(ushort *)((int)DAT_00598ff0 + 0xe);
        } while (uVar15 <= uVar1);
        uVar16 = uVar16 + 1;
      } while (uVar16 <= uVar1);
      uVar15 = 0;
      uVar16 = (uint)uVar1;
      ppvVar12 = DAT_00598ff0;
      if (uVar1 != 0) {
        do {
          uVar9 = 0;
          if (uVar16 != 0) {
            do {
              iVar6 = uVar15 * uVar16 + uVar9;
              sVar14 = (uVar1 + 1) * (short)uVar15;
              sVar3 = sVar14 + (short)uVar9;
              sVar11 = sVar3 + 1;
              sVar14 = sVar14 + (short)uVar9 + uVar1;
              local_20 = sVar14 + 2;
              sVar14 = sVar14 + 1;
              iVar7 = iVar6 * 0x18;
              uVar9 = uVar9 + 1;
              *(short *)(*(int *)((int)*ppvVar12 + iVar10 + 10) + iVar7) = sVar3;
              *(short *)(*(int *)((int)*DAT_00598ff0 + iVar10 + 10) + 2 + iVar7) = sVar14;
              *(short *)(*(int *)((int)*DAT_00598ff0 + iVar10 + 10) + 4 + iVar7) = sVar11;
              *(short *)(*(int *)((int)*DAT_00598ff0 + iVar10 + 10) + (iVar6 * 2 + 1) * 0xc) =
                   sVar11;
              *(short *)(*(int *)((int)*DAT_00598ff0 + iVar10 + 10) + 0xe + iVar7) = sVar14;
              *(short *)(*(int *)((int)*DAT_00598ff0 + iVar10 + 10) + 0x10 + iVar7) = local_20;
              uVar1 = *(ushort *)((int)DAT_00598ff0 + 0xe);
              uVar16 = (uint)uVar1;
              ppvVar12 = DAT_00598ff0;
            } while (uVar9 < uVar16);
          }
          uVar1 = *(ushort *)((int)ppvVar12 + 0xe);
          uVar15 = uVar15 + 1;
          uVar16 = (uint)uVar1;
        } while (uVar15 < uVar16);
      }
      uVar13 = uVar13 + 1;
      iVar10 = iVar10 + 0x3e;
    } while (uVar13 < *(ushort *)(ppvVar12 + 1));
  }
  return;
}



undefined4 FUN_0048e210(undefined4 param_1,undefined4 param_2,int *param_3)

{
  short *psVar1;
  byte bVar2;
  short sVar3;
  undefined4 uVar4;
  int iVar5;
  ushort uVar6;
  void *pvVar7;
  int *piVar8;
  void *pvVar9;
  undefined4 *puVar10;
  uint uVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  short sVar14;
  uint uVar15;
  uint *puVar16;
  undefined4 uVar17;
  ushort uVar18;
  uint uVar19;
  int *piVar20;
  undefined4 local_88 [2];
  uint local_80;
  int local_7c;
  undefined *local_78;
  int local_58 [3];
  undefined4 *local_4c;
  undefined4 *local_48;
  int local_44;
  undefined4 *local_40;
  void *local_3c;
  uint uVar21;
  undefined4 *puVar22;
  uint local_28;
  int *local_24;
  int *local_20;
  int iVar23;
  int iVar24;
  uint uVar25;
  size_t sVar26;
  undefined4 *puVar27;
  short sVar28;
  uint uVar29;
  int iVar30;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598ff0 != (int *)0x0) {
    FUN_0048ef50();
    sVar26 = 4;
    iVar23 = 0;
    pvVar7 = (void *)AllocateMemoryWithCallback();
    piVar8 = (int *)_memset(pvVar7,iVar23,sVar26);
    sVar26 = 4;
    iVar23 = 0;
    pvVar7 = (void *)AllocateMemoryWithCallback();
    pvVar7 = _memset(pvVar7,iVar23,sVar26);
    sVar26 = (uint)*(ushort *)((int)DAT_00598ff0 + 0x12) * 2 + 2;
    iVar23 = 0;
    local_3c = pvVar7;
    pvVar9 = (void *)AllocateMemoryWithCallback();
    puVar10 = (undefined4 *)_memset(pvVar9,iVar23,sVar26);
    local_28 = 0;
    piVar20 = DAT_00598ff0;
    puVar13 = puVar10;
    local_24 = piVar8;
    if (*(short *)((int)DAT_00598ff0 + 6) != 0) {
      do {
        uVar21 = 0;
        if (*(short *)(piVar20 + 2) != 0) {
          do {
            uVar6 = 0;
            do {
              uVar19 = (uint)uVar6;
              uVar6 = uVar6 + 1;
              *(undefined2 *)((int)puVar10 + uVar19 * 2) = 0;
            } while (uVar6 < *(ushort *)((int)DAT_00598ff0 + 0x12) ||
                     uVar6 == *(ushort *)((int)DAT_00598ff0 + 0x12));
            uVar15 = 0;
            iVar23 = 0;
            uVar29 = 0;
            local_20 = (int *)0x0;
            uVar19 = 0;
            do {
              uVar15 = uVar15 + 1;
              piVar8[uVar19] = -1;
              *(undefined4 *)((int)pvVar7 + uVar19 * 4) = 0;
              uVar19 = uVar15 & 0xffff;
            } while (uVar19 == 0);
            iVar30 = 0;
            do {
              iVar24 = 1;
              uVar19 = uVar21;
              do {
                if ((iVar30 + local_28 < (uint)*(ushort *)((int)DAT_00598ff0 + 6)) &&
                   (uVar19 < *(ushort *)(DAT_00598ff0 + 2))) {
                  *piVar8 = *(int *)(*(int *)((int)DAT_00598ff0 + 10) +
                                    (uVar19 * *(ushort *)((int)DAT_00598ff0 + 6) + iVar30 + local_28
                                    ) * 4);
                }
                piVar8 = piVar8 + 1;
                uVar19 = uVar19 + 1;
                iVar24 = iVar24 + -1;
              } while (iVar24 != 0);
              iVar30 = iVar30 + 1;
            } while (iVar30 == 0);
            uVar19 = 0;
            uVar15 = 0;
            piVar20 = DAT_00598ff0;
            do {
              if (0 < local_24[uVar19]) {
                iVar30 = local_24[uVar19] + -1;
                local_24[uVar19] = iVar30;
                uVar25 = 0;
                if (0 < (int)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                             (uint)*(ushort *)((int)DAT_00598ff0 + 0xe))) {
                  uVar11 = 0;
                  piVar8 = DAT_00598ff0;
                  do {
                    iVar5 = uVar11 * 0xf;
                    iVar24 = *(int *)(*piVar8 + 0x16 + iVar30 * 0x3e);
                    puVar16 = (uint *)(iVar24 + iVar5);
                    if (*(int *)(iVar24 + 4 + iVar5) == 0) {
                      uVar11 = *puVar16;
                      uVar29 = uVar29 + 2;
                      if (*(ushort *)((int)piVar8 + 0x12) < uVar11) {
                        *puVar16 = 0;
                        uVar11 = 0;
                      }
                      psVar1 = (short *)((int)puVar13 + uVar11 * 2);
                      *psVar1 = *psVar1 + 1;
                      piVar8 = DAT_00598ff0;
                      if ((uVar11 != 0) &&
                         (*(short *)(*(int *)(*DAT_00598ff0 + 0x16 + iVar30 * 0x3e) + 8 + iVar5) !=
                          0)) {
                        iVar23 = iVar23 + 1;
                      }
                    }
                    uVar25 = uVar25 + 1;
                    uVar11 = uVar25 & 0xffff;
                  } while ((int)uVar11 <
                           (int)((uint)*(ushort *)((int)piVar8 + 0xe) *
                                (uint)*(ushort *)((int)piVar8 + 0xe)));
                }
                *(int **)((int)pvVar7 + uVar19 * 4) = local_20;
                local_20 = (int *)((int)local_20 +
                                  (uint)*(ushort *)(*DAT_00598ff0 + 4 + iVar30 * 0x3e));
                piVar20 = DAT_00598ff0;
              }
              uVar15 = uVar15 + 1;
              uVar19 = uVar15 & 0xffff;
            } while (uVar19 == 0);
            puVar10 = puVar13;
            if (local_20 != (int *)0x0) {
              puVar10 = (undefined4 *)
                        ((uint)*(ushort *)((int)piVar20 + 0x12) * 0x14 + 0x2c +
                        ((uVar29 & 0xffff) + ((int)local_20 + iVar23 * 4) * 4) * 8);
              _memset(local_58,0,0x14);
              local_58[0] = 0x14;
              local_20 = param_3;
              local_58[1] = 3;
              local_58[2] = 1;
              local_28 = 0;
              local_4c = puVar10;
              iVar23 = (**(code **)(*param_3 + 0x18))();
              if (iVar23 != 0) {
                return 0;
              }
              uVar19 = 0;
              uVar21 = 0;
              do {
                iVar23 = *(int *)(uVar21 * 4 + 0x48e4ef);
                if (-1 < iVar23) {
                  *(undefined4 *)(*DAT_00598ff0 + 0xe + iVar23 * 0x3e) = 0;
                }
                uVar19 = uVar19 + 1;
                uVar21 = uVar19 & 0xffff;
              } while (uVar21 == 0);
              local_24 = local_58;
              iVar23 = (**(code **)(iRam00000000 + 0x10))();
              puVar13 = local_48;
              if (iVar23 != 0) {
                return 0;
              }
              puVar22 = (undefined4 *)0x0;
              local_40 = local_48;
              _memset(local_48,0,(size_t)puVar10);
              uVar19 = 0;
              uVar21 = 0;
              do {
                if (-1 < local_24[uVar21]) {
                  iVar23 = local_24[uVar21] * 0x3e;
                  *(undefined4 **)(*DAT_00598ff0 + 0x12 + iVar23) = puVar13;
                  puVar12 = *(undefined4 **)(*DAT_00598ff0 + iVar23);
                  puVar27 = puVar13;
                  if (puVar13 != puVar12) {
                    puVar10 = (undefined4 *)((uint)*(ushort *)(*DAT_00598ff0 + iVar23 + 4) << 5);
                    FUN_004ad7a0();
                    puVar22 = puVar12;
                  }
                  uVar18 = 0;
                  uVar6 = *(ushort *)(*DAT_00598ff0 + 4 + iVar23);
                  puVar13 = puVar13 + (uint)uVar6 * 8;
                  if (uVar6 != 0) {
                    do {
                      if (DAT_005e58e0 != 0) {
                        if (puVar27[(uint)uVar18 * 8 + 6] == 0x3f800000) {
                          puVar27[(uint)uVar18 * 8 + 6] = 0x3f7c28f6;
                        }
                        else if ((float)puVar27[(uint)uVar18 * 8 + 6] == 0.0) {
                          puVar27[(uint)uVar18 * 8 + 6] = 0x3c75c28f;
                        }
                        if (puVar27[(uint)uVar18 * 8 + 7] == 0x3f800000) {
                          puVar27[(uint)uVar18 * 8 + 7] = 0x3f7c28f6;
                        }
                        else if ((float)puVar27[(uint)uVar18 * 8 + 7] == 0.0) {
                          puVar27[(uint)uVar18 * 8 + 7] = 0x3c75c28f;
                        }
                      }
                      puVar10 = puVar27 + (uint)uVar18 * 8 + 4;
                      puVar22 = (undefined4 *)0x48e654;
                      FUN_004533e0();
                      uVar18 = uVar18 + 1;
                    } while (uVar18 < *(ushort *)(*DAT_00598ff0 + 4 + iVar23));
                  }
                }
                uVar19 = uVar19 + 1;
                uVar21 = uVar19 & 0xffff;
              } while (uVar21 == 0);
              uVar21 = 1;
              piVar8 = DAT_00598ff0;
              if (*(short *)((int)DAT_00598ff0 + 0x12) != 0) {
                do {
                  uVar19 = 0;
                  uVar15 = 0;
                  do {
                    if ((-1 < local_24[uVar19]) &&
                       (uVar29 = 0,
                       0 < (int)((uint)*(ushort *)((int)piVar8 + 0xe) *
                                (uint)*(ushort *)((int)piVar8 + 0xe)))) {
                      puVar12 = puVar13 + 0x10;
                      iVar23 = local_24[uVar19] * 0x3e;
                      uVar19 = 0;
                      do {
                        piVar8 = (int *)(*piVar8 + iVar23);
                        puVar16 = (uint *)(*(int *)((int)piVar8 + 0x16) + uVar19 * 0xf);
                        sVar28 = *(short *)(puVar16 + 2);
                        if (((puVar16[1] == 0) && (pvVar7 = local_3c, *puVar16 == uVar21)) &&
                           (sVar28 != 0)) {
                          if ((*(byte *)(puVar16 + 3) & 1) == 0) {
                            iVar24 = uVar19 * 0x18;
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)(*(int *)((int)piVar8 + 10) + iVar24) * 0x20
                                      + *piVar8);
                            puVar22 = puVar13;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)
                                              (*(int *)((int)(int *)(*DAT_00598ff0 + iVar23) + 10) +
                                               4 + iVar24) * 0x20 + *(int *)(*DAT_00598ff0 + iVar23)
                                      );
                            puVar22 = puVar12 + -8;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)
                                              (*(int *)((int)(int *)(*DAT_00598ff0 + iVar23) + 10) +
                                               0x10 + iVar24) * 0x20 +
                                      *(int *)(*DAT_00598ff0 + iVar23));
                            puVar22 = puVar12;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            piVar8 = (int *)(*DAT_00598ff0 + iVar23);
                            uVar6 = *(ushort *)(*(int *)((int)piVar8 + 10) + 0xe + iVar24);
                          }
                          else {
                            iVar24 = uVar19 * 0x18;
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)(*(int *)((int)piVar8 + 10) + iVar24) * 0x20
                                      + *piVar8);
                            puVar22 = puVar13;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)
                                              (*(int *)((int)(int *)(*DAT_00598ff0 + iVar23) + 10) +
                                               0xc + iVar24) * 0x20 +
                                      *(int *)(*DAT_00598ff0 + iVar23));
                            puVar22 = puVar12 + -8;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            puVar10 = (undefined4 *)
                                      ((uint)*(ushort *)
                                              (*(int *)((int)(int *)(*DAT_00598ff0 + iVar23) + 10) +
                                               0x10 + iVar24) * 0x20 +
                                      *(int *)(*DAT_00598ff0 + iVar23));
                            puVar22 = puVar12;
                            for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                              *puVar22 = *puVar10;
                              puVar10 = puVar10 + 1;
                              puVar22 = puVar22 + 1;
                            }
                            piVar8 = (int *)(*DAT_00598ff0 + iVar23);
                            uVar6 = *(ushort *)(*(int *)((int)piVar8 + 10) + 2 + iVar24);
                          }
                          puVar10 = (undefined4 *)((uint)uVar6 * 0x20 + *piVar8);
                          puVar22 = puVar12 + 8;
                          for (iVar30 = 8; iVar30 != 0; iVar30 = iVar30 + -1) {
                            *puVar22 = *puVar10;
                            puVar10 = puVar10 + 1;
                            puVar22 = puVar22 + 1;
                          }
                          if (DAT_005e58e0 == 0) {
                            if ((sVar28 == 1) || (sVar28 == 4)) {
                              uVar17 = 0;
                            }
                            else {
                              uVar17 = 0x3f800000;
                            }
                            puVar12[-10] = uVar17;
                            if ((sVar28 == 1) || (sVar28 == 2)) {
                              uVar17 = 0;
                            }
                            else {
                              uVar17 = 0x3f800000;
                            }
                            puVar12[-9] = uVar17;
                            uVar17 = 0x3f000000;
                            if (sVar28 == 5) {
                              puVar12[-10] = 0x3f000000;
                              puVar12[-9] = 0xbf000000;
                            }
                            if ((sVar28 == 3) || (sVar28 == 4)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[-2] = uVar4;
                            if ((sVar28 == 1) || (sVar28 == 4)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[-1] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[-2] = 0x3fc00000;
                              puVar12[-1] = 0x3f000000;
                            }
                            if ((sVar28 == 2) || (sVar28 == 3)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[6] = uVar4;
                            if ((sVar28 == 3) || (sVar28 == 4)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[7] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[6] = 0x3f000000;
                              puVar12[7] = 0x3fc00000;
                            }
                            if ((sVar28 == 1) || (sVar28 == 2)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[0xe] = uVar4;
                            if ((sVar28 == 2) || (sVar28 == 3)) {
                              uVar4 = 0;
                            }
                            else {
                              uVar4 = 0x3f800000;
                            }
                            puVar12[0xf] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[0xe] = 0xbf000000;
                              goto LAB_0048eab4;
                            }
                          }
                          else {
                            if ((sVar28 == 1) || (sVar28 == 4)) {
                              uVar17 = 0x3c75c28f;
                            }
                            else {
                              uVar17 = 0x3f7c28f6;
                            }
                            puVar12[-10] = uVar17;
                            if ((sVar28 == 1) || (sVar28 == 2)) {
                              uVar17 = 0x3c75c28f;
                            }
                            else {
                              uVar17 = 0x3f7c28f6;
                            }
                            puVar12[-9] = uVar17;
                            uVar17 = 0x3f03d70a;
                            if (sVar28 == 5) {
                              puVar12[-10] = 0x3f03d70a;
                              puVar12[-9] = 0xbf03d70a;
                            }
                            if ((sVar28 == 3) || (sVar28 == 4)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[-2] = uVar4;
                            if ((sVar28 == 1) || (sVar28 == 4)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[-1] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[-2] = 0x3fbe147b;
                              puVar12[-1] = 0x3f03d70a;
                            }
                            if ((sVar28 == 2) || (sVar28 == 3)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[6] = uVar4;
                            if ((sVar28 == 3) || (sVar28 == 4)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[7] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[6] = 0x3f03d70a;
                              puVar12[7] = 0x3fbe147b;
                            }
                            if ((sVar28 == 1) || (sVar28 == 2)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[0xe] = uVar4;
                            if ((sVar28 == 2) || (sVar28 == 3)) {
                              uVar4 = 0x3c75c28f;
                            }
                            else {
                              uVar4 = 0x3f7c28f6;
                            }
                            puVar12[0xf] = uVar4;
                            if (sVar28 == 5) {
                              puVar12[0xe] = 0xbf03d70a;
LAB_0048eab4:
                              puVar12[0xf] = uVar17;
                            }
                          }
                          puVar10 = puVar12 + -0xc;
                          puVar22 = (undefined4 *)0x48eac0;
                          FUN_004533e0();
                          puVar13 = puVar13 + 0x20;
                          puVar12 = puVar12 + 0x20;
                          pvVar7 = local_3c;
                        }
                        uVar29 = uVar29 + 1;
                        uVar19 = uVar29 & 0xffff;
                        piVar8 = DAT_00598ff0;
                      } while ((int)uVar19 <
                               (int)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                                    (uint)*(ushort *)((int)DAT_00598ff0 + 0xe)));
                    }
                    uVar15 = uVar15 + 1;
                    uVar19 = uVar15 & 0xffff;
                  } while (uVar19 == 0);
                  uVar21 = uVar21 + 1;
                } while (uVar21 <= *(ushort *)((int)piVar8 + 0x12));
              }
              *(undefined *)puVar13 = 9;
              *(undefined *)((int)puVar13 + 1) = 0x10;
              *(undefined2 *)((int)puVar13 + 2) = 1;
              sVar28 = 0;
              puVar13[3] = puVar10;
              puVar13[1] = 1;
              *(undefined2 *)(puVar13 + 2) = 0;
              *(undefined2 *)((int)puVar13 + 10) = 0;
              puVar13[4] = 0;
              puVar10 = puVar13 + 5;
              uVar21 = 0;
              do {
                uVar19 = 0;
                if (*(short *)((int)puVar22 + uVar21 * 2) != 0) {
                  *(undefined *)puVar10 = 8;
                  *(undefined *)((int)puVar10 + 1) = 8;
                  *(undefined2 *)((int)puVar10 + 2) = 1;
                  if (uVar21 == 0) {
                    puVar10[1] = 1;
                    puVar10[2] = 0;
                  }
                  else {
                    puVar10[1] = 1;
                    puVar10[2] = *(undefined4 *)(DAT_00598ff0[8] + -4 + uVar21 * 4);
                  }
                  puVar12 = puVar10 + 3;
                  if (((uint)puVar12 & 7) == 0) {
                    *(undefined *)puVar12 = 3;
                    *(undefined *)((int)puVar10 + 0xd) = 8;
                    *(undefined2 *)((int)puVar10 + 0xe) = 0;
                    puVar12 = puVar10 + 4;
                  }
                  *(undefined *)puVar12 = 3;
                  *(undefined *)((int)puVar12 + 1) = 8;
                  uVar15 = 0;
                  *(short *)((int)puVar12 + 2) = *(short *)((int)puVar22 + uVar21 * 2) << 1;
                  puVar10 = puVar12 + 1;
                  do {
                    iVar23 = uVar19 * 4;
                    if ((-1 < local_24[uVar19]) &&
                       (uVar29 = 0,
                       0 < (int)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                                (uint)*(ushort *)((int)DAT_00598ff0 + 0xe)))) {
                      iVar30 = local_24[uVar19] * 0x3e;
                      uVar19 = 0;
                      puVar12 = puVar10;
                      do {
                        local_44 = *DAT_00598ff0 + iVar30;
                        puVar16 = (uint *)(uVar19 * 0xf + *(int *)(local_44 + 0x16));
                        puVar10 = puVar12;
                        if ((puVar16[1] == 0) && (*puVar16 == uVar21)) {
                          if ((uVar21 == 0) || (*(short *)(puVar16 + 2) == 0)) {
                            iVar24 = uVar19 * 0x18;
                            puVar10 = puVar12 + 4;
                            *(short *)puVar12 =
                                 *(short *)(*(int *)(local_44 + 10) + iVar24) +
                                 *(short *)((int)pvVar7 + iVar23);
                            *(short *)((int)puVar12 + 2) =
                                 *(short *)(*(int *)(*DAT_00598ff0 + 10 + iVar30) + 2 + iVar24) +
                                 *(short *)((int)pvVar7 + iVar23);
                            sVar14 = *(short *)(*(int *)(*DAT_00598ff0 + 10 + iVar30) + 4 + iVar24);
                            sVar3 = *(short *)((int)pvVar7 + iVar23);
                            *(undefined2 *)((int)puVar12 + 6) = 0x700;
                            *(short *)(puVar12 + 1) = sVar14 + sVar3;
                            *(short *)(puVar12 + 2) =
                                 *(short *)(*(int *)(*DAT_00598ff0 + 10 + iVar30) + 0xc + iVar24) +
                                 *(short *)((int)pvVar7 + iVar23);
                            *(short *)((int)puVar12 + 10) =
                                 *(short *)(*(int *)(*DAT_00598ff0 + 10 + iVar30) + 0xe + iVar24) +
                                 *(short *)((int)pvVar7 + iVar23);
                            sVar14 = *(short *)(*(int *)(*DAT_00598ff0 + 10 + iVar30) + 0x10 +
                                               iVar24);
                            sVar3 = *(short *)((int)pvVar7 + iVar23);
                            *(undefined2 *)((int)puVar12 + 0xe) = 0x700;
                            *(short *)(puVar12 + 3) = sVar14 + sVar3;
                            sVar28 = sVar28 + 2;
                          }
                          else {
                            bVar2 = *(byte *)(puVar16 + 3);
                            sVar14 = (short)local_20;
                            *(short *)puVar12 = sVar14;
                            if ((bVar2 & 1) == 0) {
                              *(undefined2 *)((int)puVar12 + 6) = 0x700;
                              *(short *)((int)puVar12 + 2) = sVar14 + 3;
                              *(short *)(puVar12 + 1) = sVar14 + 1;
                              *(short *)(puVar12 + 2) = sVar14 + 1;
                              *(short *)((int)puVar12 + 10) = sVar14 + 3;
                              *(short *)(puVar12 + 3) = sVar14 + 2;
                              *(undefined2 *)((int)puVar12 + 0xe) = 0x700;
                              puVar10 = puVar12 + 4;
                              sVar28 = sVar28 + 2;
                              local_20 = local_20 + 1;
                            }
                            else {
                              *(undefined2 *)((int)puVar12 + 6) = 0x700;
                              *(short *)((int)puVar12 + 2) = sVar14 + 2;
                              *(short *)(puVar12 + 1) = sVar14 + 1;
                              *(short *)((int)puVar12 + 10) = sVar14 + 3;
                              *(short *)(puVar12 + 3) = sVar14 + 2;
                              *(short *)(puVar12 + 2) = sVar14;
                              *(undefined2 *)((int)puVar12 + 0xe) = 0x700;
                              puVar10 = puVar12 + 4;
                              sVar28 = sVar28 + 2;
                              local_20 = local_20 + 1;
                            }
                          }
                        }
                        uVar29 = uVar29 + 1;
                        uVar19 = uVar29 & 0xffff;
                        puVar12 = puVar10;
                      } while ((int)uVar19 <
                               (int)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                                    (uint)*(ushort *)((int)DAT_00598ff0 + 0xe)));
                    }
                    uVar15 = uVar15 + 1;
                    uVar19 = uVar15 & 0xffff;
                  } while (uVar19 == 0);
                }
                uVar21 = uVar21 + 1;
              } while (uVar21 <= *(ushort *)((int)DAT_00598ff0 + 0x12));
              *(undefined *)puVar10 = 0xb;
              *(undefined *)((int)puVar10 + 1) = 0;
              *(undefined2 *)((int)puVar10 + 2) = 0;
              uVar21 = local_28;
              (**(code **)(iRam00000000 + 0x14))();
              local_3c = (void *)0x48ee45;
              _memset(local_88,0,0x30);
              local_80 = uVar21;
              local_78 = (undefined *)((int)puVar10 + (4 - (int)puVar13));
              local_7c = (int)puVar13 - (int)local_40;
              puVar10 = local_88;
              local_88[0] = 0x30;
              uVar21 = 0x48ee7a;
              (**(code **)(iRam00000000 + 0x18))();
              uVar15 = 0;
              uVar19 = 0;
              do {
                if (-1 < local_24[uVar19]) {
                  *(short *)(*DAT_00598ff0 + 6 + local_24[uVar19] * 0x3e) = sVar28;
                }
                uVar15 = uVar15 + 1;
                uVar19 = uVar15 & 0xffff;
              } while (uVar19 == 0);
              sVar26 = 0x38;
              iVar23 = 0;
              pvVar9 = (void *)AllocateMemoryWithCallback();
              puVar13 = (undefined4 *)_memset(pvVar9,iVar23,sVar26);
              *puVar13 = 0;
              puVar13[0xc] = DAT_00598ff4;
              piVar20 = DAT_00598ff0;
              DAT_00598ff4 = puVar13;
            }
            uVar21 = uVar21 + 1;
            piVar8 = local_24;
            puVar13 = puVar10;
          } while (uVar21 < *(ushort *)(piVar20 + 2));
        }
        local_28 = local_28 + 1;
      } while (local_28 < *(ushort *)((int)piVar20 + 6));
    }
    if (puVar10 != (undefined4 *)0x0) {
      FreeMemory();
    }
    if (piVar8 != (int *)0x0) {
      FreeMemory();
    }
    if (pvVar7 != (void *)0x0) {
      FreeMemory();
    }
  }
  return 1;
}



void FUN_0048ef50(void)

{
  int *piVar1;
  int **ppiVar2;
  bool bVar3;
  
  if (DAT_00598ff4 != (int **)0x0) {
    do {
      piVar1 = *DAT_00598ff4;
      if ((piVar1 == (int *)0x0) || (*piVar1 == 0)) {
        *DAT_00598ff4 = (int *)0x0;
      }
      else {
        (**(code **)(*piVar1 + 8))(piVar1);
        *DAT_00598ff4 = (int *)0x0;
      }
      ppiVar2 = DAT_00598ff4;
      bVar3 = DAT_00598ff4 != (int **)0x0;
      DAT_00598ff4 = (int **)DAT_00598ff4[0xc];
      if (bVar3) {
        FreeMemory(ppiVar2);
      }
    } while (DAT_00598ff4 != (int **)0x0);
  }
  DAT_00598ff4 = (int **)0x0;
  return;
}



void FUN_0048efb0(void)

{
  FUN_0048dbb0();
  if (DAT_00598ff0 != 0) {
    if (*(int *)(DAT_00598ff0 + 0x1c) != 0) {
      FreeMemory(*(int *)(DAT_00598ff0 + 0x1c));
      *(undefined4 *)(DAT_00598ff0 + 0x1c) = 0;
    }
    if (DAT_00598ff0 != 0) {
      FreeMemory(DAT_00598ff0);
    }
  }
  DAT_00598ff0 = 0;
  return;
}



undefined4 * FUN_0048f000(int param_1,int param_2,int param_3,int param_4)

{
  undefined4 uVar1;
  void *pvVar2;
  undefined4 *puVar3;
  bool bVar4;
  undefined4 uVar5;
  int iVar6;
  size_t sVar7;
  
  uVar1 = param_1;
  AdjustStackForLargeAllocations();
  bVar4 = DAT_005e58d0 == 0;
  sVar7 = 0x32;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(0x32);
  puVar3 = (undefined4 *)_memset(pvVar2,iVar6,sVar7);
  *(undefined4 *)((int)puVar3 + 0x1e) = 0;
  puVar3[1] = 0;
  *puVar3 = param_1;
  *(int *)((int)puVar3 + 0x26) = param_2;
  sVar7 = param_3 * 0x16;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)puVar3 + 0x22) = pvVar2;
  sVar7 = param_2 * 0x16;
  iVar6 = 0;
  pvVar2 = (void *)AllocateMemoryWithCallback(sVar7);
  pvVar2 = _memset(pvVar2,iVar6,sVar7);
  *(void **)((int)puVar3 + 0x2a) = pvVar2;
  if (0 < param_3) {
    iVar6 = 0;
    do {
      iVar6 = iVar6 + 0x16;
      param_3 = param_3 + -1;
      *(undefined2 *)(*(int *)((int)puVar3 + 0x22) + -10 + iVar6) = 0xffff;
    } while (param_3 != 0);
  }
  if ((((param_4 == 9) || (param_4 == 10)) || (param_4 == 5)) ||
     (uVar5 = DAT_005dcb1c, param_4 == 6)) {
    uVar5 = 0;
  }
  FUN_00458980(bVar4,param_4,param_1,param_1,uVar5,puVar3 + 2,puVar3 + 3,puVar3 + 4);
  *(undefined2 *)(puVar3 + 5) = 0xffff;
  if ((DAT_005e58d0 != 0) && (0 < param_2)) {
    param_1 = param_2;
    param_2 = 0;
    do {
      if (((param_4 == 9) || (param_4 == 10)) || ((param_4 == 5 || (param_4 == 6)))) {
        iVar6 = *(int *)((int)puVar3 + 0x2a);
        uVar5 = 0;
      }
      else {
        iVar6 = *(int *)((int)puVar3 + 0x2a);
        uVar5 = DAT_005dcb1c;
      }
      iVar6 = param_2 + iVar6;
      FUN_00458980(bVar4,param_4,uVar1,uVar1,uVar5,iVar6,iVar6 + 4,iVar6 + 8);
      *(undefined2 *)(*(int *)((int)puVar3 + 0x2a) + 0xc + param_2) = 0xffff;
      param_2 = param_2 + 0x16;
      param_1 = param_1 + -1;
    } while (param_1 != 0);
  }
  return puVar3;
}



undefined4 FUN_0048f1a0(undefined4 *param_1,int param_2,int param_3,int param_4)

{
  undefined4 *puVar1;
  size_t sVar2;
  void *pvVar3;
  void *pvVar4;
  int iVar5;
  bool bVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  int iVar9;
  
  puVar1 = param_1;
  AdjustStackForLargeAllocations();
  bVar6 = DAT_005e58d0 == 0;
  if (param_2 < *(int *)((int)param_1 + 0x26)) {
    param_2 = *(int *)((int)param_1 + 0x26);
  }
  sVar2 = param_3 * 0x16;
  iVar9 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(sVar2);
  pvVar3 = _memset(pvVar3,iVar9,sVar2);
  sVar2 = param_2 * 0x16;
  iVar9 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(sVar2);
  pvVar4 = _memset(pvVar4,iVar9,sVar2);
  FUN_004ad7a0(pvVar3,*(undefined4 *)((int)param_1 + 0x22),*(int *)((int)param_1 + 0x1e) * 0x16);
  FUN_004ad7a0(pvVar4,*(undefined4 *)((int)param_1 + 0x2a),*(int *)((int)param_1 + 0x26) * 0x16);
  if (*(int *)((int)param_1 + 0x22) != 0) {
    FreeMemory(*(int *)((int)param_1 + 0x22));
    *(undefined4 *)((int)param_1 + 0x22) = 0;
  }
  if (*(int *)((int)param_1 + 0x2a) != 0) {
    FreeMemory(*(int *)((int)param_1 + 0x2a));
    *(undefined4 *)((int)param_1 + 0x2a) = 0;
  }
  *(void **)((int)param_1 + 0x2a) = pvVar4;
  iVar9 = *(int *)((int)param_1 + 0x1e);
  *(void **)((int)param_1 + 0x22) = pvVar3;
  if (iVar9 < param_3) {
    param_3 = param_3 - iVar9;
    iVar9 = iVar9 * 0x16;
    do {
      param_3 = param_3 + -1;
      *(undefined2 *)(iVar9 + 0xc + *(int *)((int)param_1 + 0x22)) = 0xffff;
      iVar9 = iVar9 + 0x16;
    } while (param_3 != 0);
  }
  iVar9 = *(int *)((int)param_1 + 0x26);
  if (iVar9 < param_2) {
    iVar5 = iVar9 * 0x16;
    param_1 = (undefined4 *)(param_2 - iVar9);
    do {
      if ((((param_4 == 9) || (param_4 == 10)) || (param_4 == 5)) || (param_4 == 6)) {
        iVar9 = *(int *)((int)puVar1 + 0x2a);
        uVar7 = *puVar1;
        uVar8 = 0;
      }
      else {
        iVar9 = *(int *)((int)puVar1 + 0x2a);
        uVar7 = *puVar1;
        uVar8 = DAT_005dcb1c;
      }
      iVar9 = iVar9 + iVar5;
      FUN_00458980(bVar6,param_4,uVar7,uVar7,uVar8,iVar9,iVar9 + 4,iVar9 + 8);
      *(undefined2 *)(iVar5 + 0xc + *(int *)((int)puVar1 + 0x2a)) = 0xffff;
      iVar5 = iVar5 + 0x16;
      param_1 = (undefined4 *)((int)param_1 + -1);
    } while (param_1 != (undefined4 *)0x0);
  }
  *(int *)((int)puVar1 + 0x26) = param_2;
  return 1;
}



undefined4 FUN_0048f340(int param_1)

{
  if (param_1 != 0) {
    return *(undefined4 *)(param_1 + 0x10);
  }
  return 0;
}



undefined4 FUN_0048f360(int param_1)

{
  if (param_1 != 0) {
    return *(undefined4 *)(param_1 + 8);
  }
  return 0;
}



undefined4 FUN_0048f380(int param_1,uint param_2)

{
  return *(undefined4 *)(*(int *)(param_1 + 0x22) + (param_2 & 0xffff) * 0x16);
}



uint FUN_0048f3a0(int param_1,ushort param_2)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  
  if (param_2 == 0xffff) {
    return 0xffff;
  }
  if (DAT_005e58d0 == 0) {
    uVar4 = (uint)param_2;
  }
  else {
    iVar3 = (uint)param_2 * 0x16;
    if (*(int *)(*(int *)(param_1 + 0x22) + 0x12 + iVar3) == 0) {
      uVar4 = 0;
      if (0 < *(int *)(param_1 + 0x26)) {
        puVar1 = (ushort *)(*(int *)(param_1 + 0x2a) + 0xc);
        do {
          if (param_2 == *puVar1) {
            FUN_0048f4c0(param_1,uVar4);
            return uVar4 & 0xffff;
          }
          uVar4 = uVar4 + 1;
          puVar1 = puVar1 + 0xb;
        } while ((int)uVar4 < *(int *)(param_1 + 0x26));
      }
    }
    uVar4 = *(uint *)(param_1 + 4);
    DAT_005b946c = DAT_005b946c + 1;
    iVar5 = uVar4 * 0x16;
    iVar2 = FUN_00424e90(*(undefined4 *)(*(int *)(param_1 + 0x2a) + iVar5),0,0,
                         *(undefined4 *)(*(int *)(param_1 + 0x22) + iVar3),0,0);
    if (iVar2 != 0) {
      iVar3 = FUN_00424d60(*(undefined4 *)(*(int *)(param_1 + 0x2a) + iVar5),0,
                           *(undefined4 *)(*(int *)(param_1 + 0x22) + iVar3),0,0,0);
      if (iVar3 != 0) {
        return 0xffff;
      }
    }
    *(ushort *)(*(int *)(param_1 + 0x2a) + 0xc + iVar5) = param_2;
  }
  FUN_0048f4c0(param_1,uVar4);
  iVar3 = *(int *)(param_1 + 4) + 1;
  *(int *)(param_1 + 4) = iVar3;
  if (iVar3 == *(int *)(param_1 + 0x26)) {
    *(undefined4 *)(param_1 + 4) = 0;
  }
  return uVar4 & 0xffff;
}



undefined4 FUN_0048f4c0(int param_1,ushort param_2)

{
  int iVar1;
  int **ppiVar2;
  int **ppiVar3;
  int **ppiVar4;
  int *local_1c [3];
  
  AdjustStackForLargeAllocations();
  if (param_2 == 0xffff) {
    return 1;
  }
  if (DAT_005e58d0 == 0) {
    local_1c[2] = *(int **)(*(int *)(param_1 + 0x22) + 4 + (uint)param_2 * 0x16);
    local_1c[1] = *(int **)(param_1 + 0xc);
    local_1c[0] = DAT_005e5148;
    (**(code **)(*DAT_005e5148 + 0x14))();
    ppiVar2 = (int **)(param_1 + 8);
    ppiVar3 = local_1c;
    for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
      *ppiVar3 = *ppiVar2;
      ppiVar2 = ppiVar2 + 1;
      ppiVar3 = ppiVar3 + 1;
    }
    *(undefined2 *)ppiVar3 = *(undefined2 *)ppiVar2;
    ppiVar2 = (int **)((uint)param_2 * 0x16 + *(int *)(param_1 + 0x22));
  }
  else {
    local_1c[2] = *(int **)(*(int *)(param_1 + 0x2a) + 4 + (uint)param_2 * 0x16);
    local_1c[1] = *(int **)(param_1 + 0xc);
    local_1c[0] = DAT_005e5148;
    (**(code **)(*DAT_005e5148 + 0x14))();
    ppiVar2 = (int **)(param_1 + 8);
    ppiVar3 = local_1c;
    for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
      *ppiVar3 = *ppiVar2;
      ppiVar2 = ppiVar2 + 1;
      ppiVar3 = ppiVar3 + 1;
    }
    *(undefined2 *)ppiVar3 = *(undefined2 *)ppiVar2;
    ppiVar2 = (int **)((uint)param_2 * 0x16 + *(int *)(param_1 + 0x2a));
  }
  ppiVar3 = ppiVar2;
  ppiVar4 = (int **)(param_1 + 8);
  for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
    *ppiVar4 = *ppiVar3;
    ppiVar3 = ppiVar3 + 1;
    ppiVar4 = ppiVar4 + 1;
  }
  *(undefined2 *)ppiVar4 = *(undefined2 *)ppiVar3;
  ppiVar3 = local_1c;
  for (iVar1 = 5; iVar1 != 0; iVar1 = iVar1 + -1) {
    *ppiVar2 = *ppiVar3;
    ppiVar3 = ppiVar3 + 1;
    ppiVar2 = ppiVar2 + 1;
  }
  *(undefined2 *)ppiVar2 = *(undefined2 *)ppiVar3;
  return 1;
}



int FUN_0048f5a0(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 uVar2;
  
  *(undefined4 *)(*(int *)(param_1 + 0x22) + *(int *)(param_1 + 0x1e) * 0x16) = param_2;
  *(undefined4 *)(*(int *)(param_1 + 0x22) + 4 + *(int *)(param_1 + 0x1e) * 0x16) = param_3;
  *(undefined4 *)(*(int *)(param_1 + 0x22) + 8 + *(int *)(param_1 + 0x1e) * 0x16) = param_4;
  *(undefined2 *)(*(int *)(param_1 + 0x22) + 0xc + *(int *)(param_1 + 0x1e) * 0x16) =
       *(undefined2 *)(param_1 + 0x1e);
  iVar1 = *(int *)(param_1 + 0x1e) + 1;
  *(int *)(param_1 + 0x1e) = iVar1;
  uVar2 = FUN_0048f3a0(param_1,CONCAT22((short)((uint)(iVar1 * 5) >> 0x10),
                                        *(undefined2 *)
                                         (*(int *)(param_1 + 0x22) + -10 + iVar1 * 0x16)));
  FUN_0048f4c0(param_1,uVar2);
  return *(int *)(param_1 + 0x1e) + -1;
}



undefined4 FUN_0048f630(int param_1)

{
  if (param_1 != 0) {
    if (*(int *)(param_1 + 0x22) != 0) {
      FreeMemory(*(int *)(param_1 + 0x22));
    }
    *(undefined4 *)(param_1 + 0x22) = 0;
    if (*(int *)(param_1 + 0x2a) != 0) {
      FreeMemory(*(int *)(param_1 + 0x2a));
    }
    *(undefined4 *)(param_1 + 0x2a) = 0;
    FreeMemory(param_1);
  }
  return 1;
}



undefined4 FUN_0048f680(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  iVar1 = 0;
  *(undefined4 *)(param_1 + 0x1e) = 0;
  *(undefined2 *)(param_1 + 0x14) = 0xffff;
  if (0 < *(int *)(param_1 + 0x26)) {
    do {
      iVar1 = iVar1 + 1;
      *(undefined2 *)(*(int *)(param_1 + 0x2a) + 0xc + iVar2) = 0xffff;
      iVar2 = iVar2 + 0x16;
    } while (iVar1 < *(int *)(param_1 + 0x26));
  }
  return 1;
}



undefined4 FUN_0048f6c0(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 != 0) {
    piVar1 = *(int **)(param_1 + 8);
    if (((piVar1 != (int *)0x0) &&
        (iVar2 = (**(code **)(*piVar1 + 0x60))(piVar1), iVar2 == -0x7789fe3e)) &&
       (iVar2 = (**(code **)(**(int **)(param_1 + 8) + 0x6c))(*(int **)(param_1 + 8)), iVar2 != 0))
    {
      return 0;
    }
    iVar2 = 0;
    if (0 < *(int *)(param_1 + 0x26)) {
      iVar4 = 0;
      while (((piVar1 = *(int **)(*(int *)(param_1 + 0x2a) + iVar4), piVar1 == (int *)0x0 ||
              (iVar3 = (**(code **)(*piVar1 + 0x60))(piVar1), iVar3 != -0x7789fe3e)) ||
             (piVar1 = *(int **)(*(int *)(param_1 + 0x2a) + iVar4),
             iVar3 = (**(code **)(*piVar1 + 0x6c))(piVar1), iVar3 == 0))) {
        iVar2 = iVar2 + 1;
        *(undefined2 *)(*(int *)(param_1 + 0x2a) + 0xc + iVar4) = 0xffff;
        iVar4 = iVar4 + 0x16;
        if (*(int *)(param_1 + 0x26) <= iVar2) {
          return 1;
        }
      }
      return 0;
    }
  }
  return 1;
}



void FUN_0048f750(int param_1)

{
  int **ppiVar1;
  undefined4 uVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  bool bVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  undefined4 *puVar11;
  int iVar12;
  undefined4 *puVar13;
  float10 fVar14;
  undefined4 ***local_1c;
  undefined8 local_18;
  
  iVar7 = param_1;
  AdjustStackForLargeAllocations();
  iVar8 = *(int *)(param_1 + 0x56);
  uVar2 = **(undefined4 **)(iVar8 + 4);
  *(undefined4 *)(param_1 + 0x6d) = uVar2;
  *(undefined4 *)(param_1 + 0x61) = uVar2;
  uVar2 = *(undefined4 *)(*(int *)(iVar8 + 4) + 4);
  *(undefined4 *)(param_1 + 0x71) = uVar2;
  *(undefined4 *)(param_1 + 0x65) = uVar2;
  uVar2 = *(undefined4 *)(*(int *)(iVar8 + 4) + 8);
  *(undefined4 *)(param_1 + 0x75) = uVar2;
  *(undefined4 *)(param_1 + 0x69) = uVar2;
  local_18._0_4_ = (float)(param_1 + 6);
  local_18._4_4_ = &local_1c;
  local_1c = &local_1c;
  FUN_0045f6b0();
  *(undefined4 ****)(param_1 + 0x85) = local_1c;
  *(undefined4 ****)(param_1 + 0x79) = local_1c;
  *(float *)(param_1 + 0x89) = (float)local_18;
  *(float *)(param_1 + 0x7d) = (float)local_18;
  ppiVar1 = (int **)(param_1 + 0x56);
  *(undefined4 ****)(param_1 + 0x8d) = local_18._4_4_;
  *(undefined4 ****)(param_1 + 0x81) = local_18._4_4_;
  iVar12 = 0;
  param_1 = 0;
  if (0 < **ppiVar1) {
    do {
      fVar3 = *(float *)(iVar12 + *(int *)(iVar8 + 4));
      fVar4 = *(float *)(iVar12 + 4 + *(int *)(iVar8 + 4));
      fVar5 = *(float *)(iVar12 + 8 + *(int *)(iVar8 + 4));
      if (fVar3 < *(float *)(iVar7 + 0x61)) {
        *(float *)(iVar7 + 0x61) = fVar3;
      }
      if (fVar4 < *(float *)(iVar7 + 0x65)) {
        *(float *)(iVar7 + 0x65) = fVar4;
      }
      if (fVar5 < *(float *)(iVar7 + 0x69)) {
        *(float *)(iVar7 + 0x69) = fVar5;
      }
      if (*(float *)(iVar7 + 0x6d) < fVar3) {
        *(float *)(iVar7 + 0x6d) = fVar3;
      }
      if (*(float *)(iVar7 + 0x71) < fVar4) {
        *(float *)(iVar7 + 0x71) = fVar4;
      }
      if (*(float *)(iVar7 + 0x75) < fVar5) {
        *(float *)(iVar7 + 0x75) = fVar5;
      }
      local_18._4_4_ = &local_1c;
      local_18._0_4_ = (float)(iVar7 + 6);
      local_1c = &local_1c;
      FUN_0045f6b0();
      if ((float)local_1c < *(float *)(iVar7 + 0x79)) {
        *(undefined4 ****)(iVar7 + 0x79) = local_1c;
      }
      if ((float)local_18 < *(float *)(iVar7 + 0x7d)) {
        *(float *)(iVar7 + 0x7d) = (float)local_18;
      }
      if ((float)local_18._4_4_ < *(float *)(iVar7 + 0x81)) {
        *(undefined4 ****)(iVar7 + 0x81) = local_18._4_4_;
      }
      if (*(float *)(iVar7 + 0x85) < (float)local_1c) {
        *(undefined4 ****)(iVar7 + 0x85) = local_1c;
      }
      if (*(float *)(iVar7 + 0x89) < (float)local_18) {
        *(float *)(iVar7 + 0x89) = (float)local_18;
      }
      if (*(float *)(iVar7 + 0x8d) < (float)local_18._4_4_) {
        *(undefined4 ****)(iVar7 + 0x8d) = local_18._4_4_;
      }
      if ((*(byte *)(iVar7 + 0xa1) & 8) != 0) {
        *(undefined4 ****)(iVar12 + *(int *)(iVar8 + 4)) = local_1c;
        *(float *)(iVar12 + 4 + *(int *)(iVar8 + 4)) = (float)local_18;
        *(undefined4 ****)(iVar12 + 8 + *(int *)(iVar8 + 4)) = local_18._4_4_;
      }
      param_1 = param_1 + 1;
      iVar12 = iVar12 + 0x20;
    } while (param_1 < **(int **)(iVar7 + 0x56));
  }
  if ((*(byte *)(iVar7 + 0xa1) & 8) != 0) {
    *(undefined4 *)(iVar7 + 0x6d) = *(undefined4 *)(iVar7 + 0x79);
    *(undefined4 *)(iVar7 + 0x71) = *(undefined4 *)(iVar7 + 0x7d);
    *(undefined4 *)(iVar7 + 0x75) = *(undefined4 *)(iVar7 + 0x81);
    puVar11 = &DAT_004d1ae0;
    puVar13 = (undefined4 *)(iVar7 + 6);
    for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
      *puVar13 = *puVar11;
      puVar11 = puVar11 + 1;
      puVar13 = puVar13 + 1;
    }
  }
  fVar4 = (*(float *)(iVar7 + 0x85) + *(float *)(iVar7 + 0x79)) * 0.5 - *(float *)(iVar7 + 0x79);
  fVar3 = (*(float *)(iVar7 + 0x81) + *(float *)(iVar7 + 0x8d)) * 0.5 - *(float *)(iVar7 + 0x81);
  local_18 = (double)(fVar3 * fVar3 + fVar4 * fVar4);
  local_1c = (undefined4 ***)0x48f9e4;
  fVar14 = (float10)FUN_004ad534();
  *(float *)(iVar7 + 0x91) = (float)fVar14;
  local_18 = (double)(*(float *)(iVar7 + 0xe) * *(float *)(iVar7 + 0xe) +
                     *(float *)(iVar7 + 10) * *(float *)(iVar7 + 10) +
                     *(float *)(iVar7 + 6) * *(float *)(iVar7 + 6));
  local_1c = (undefined4 ***)0x48fa20;
  fVar14 = (float10)FUN_004ad534();
  local_18 = (double)(*(float *)(iVar7 + 0x1e) * *(float *)(iVar7 + 0x1e) +
                     *(float *)(iVar7 + 0x1a) * *(float *)(iVar7 + 0x1a) +
                     *(float *)(iVar7 + 0x16) * *(float *)(iVar7 + 0x16));
  local_1c = (undefined4 ***)0x48fa59;
  FUN_004ad534();
  local_18 = (double)(*(float *)(iVar7 + 0x2e) * *(float *)(iVar7 + 0x2e) +
                     *(float *)(iVar7 + 0x2a) * *(float *)(iVar7 + 0x2a) +
                     *(float *)(iVar7 + 0x26) * *(float *)(iVar7 + 0x26));
  local_1c = (undefined4 ***)0x48fa91;
  FUN_004ad534();
  iVar8 = *(int *)(iVar7 + 0x5b);
  *(float *)(iVar7 + 0x95) = (float)fVar14;
  if (iVar8 != 0) {
    bVar6 = false;
    uVar10 = (uint)*(byte *)(iVar8 + 0x10);
    uVar9 = 0;
    if (uVar10 != 0) {
      do {
        if (*(float *)(*(int *)(iVar8 + 0x7f) + 0x14 + uVar9 * 0x32) != 0.0) {
          bVar6 = true;
          uVar9 = uVar10;
        }
        uVar9 = uVar9 + 1;
      } while ((int)uVar9 < (int)uVar10);
    }
    if (bVar6) {
      fVar3 = (*(float *)(iVar7 + 0x85) + *(float *)(iVar7 + 0x79)) * 0.5;
      fVar5 = (*(float *)(iVar7 + 0x81) + *(float *)(iVar7 + 0x8d)) * 0.5;
      fVar4 = (*(float *)(iVar7 + 0x7d) + *(float *)(iVar7 + 0x89)) * 0.5;
      *(float *)(iVar7 + 0x79) = fVar3 - *(float *)(iVar7 + 0x91);
      *(float *)(iVar7 + 0x85) = fVar3 + *(float *)(iVar7 + 0x91);
      *(float *)(iVar7 + 0x81) = fVar5 - *(float *)(iVar7 + 0x91);
      *(float *)(iVar7 + 0x8d) = fVar5 + *(float *)(iVar7 + 0x91);
      *(float *)(iVar7 + 0x7d) = fVar4 - *(float *)(iVar7 + 0x91);
      *(float *)(iVar7 + 0x89) = fVar4 + *(float *)(iVar7 + 0x91);
    }
  }
  return;
}



void FUN_0048fb90(int param_1)

{
  undefined4 uVar1;
  float fVar2;
  int *piVar3;
  float fVar4;
  float fVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  piVar3 = *(int **)(param_1 + 0x56);
  iVar8 = 0;
  uVar1 = *(undefined4 *)piVar3[1];
  *(undefined4 *)(param_1 + 0x6d) = uVar1;
  *(undefined4 *)(param_1 + 0x61) = uVar1;
  uVar1 = *(undefined4 *)(piVar3[1] + 4);
  *(undefined4 *)(param_1 + 0x71) = uVar1;
  *(undefined4 *)(param_1 + 0x65) = uVar1;
  uVar1 = *(undefined4 *)(piVar3[1] + 8);
  *(undefined4 *)(param_1 + 0x75) = uVar1;
  *(undefined4 *)(param_1 + 0x69) = uVar1;
  if (0 < *piVar3) {
    iVar7 = 0;
    do {
      pfVar6 = (float *)(piVar3[1] + iVar7);
      fVar2 = *pfVar6;
      fVar4 = pfVar6[1];
      fVar5 = pfVar6[2];
      if (fVar2 < *(float *)(param_1 + 0x61)) {
        *(float *)(param_1 + 0x61) = fVar2;
      }
      if (fVar4 < *(float *)(param_1 + 0x65)) {
        *(float *)(param_1 + 0x65) = fVar4;
      }
      if (fVar5 < *(float *)(param_1 + 0x69)) {
        *(float *)(param_1 + 0x69) = fVar5;
      }
      if (*(float *)(param_1 + 0x6d) < fVar2) {
        *(float *)(param_1 + 0x6d) = fVar2;
      }
      if (*(float *)(param_1 + 0x71) < fVar4) {
        *(float *)(param_1 + 0x71) = fVar4;
      }
      if (*(float *)(param_1 + 0x75) < fVar5) {
        *(float *)(param_1 + 0x75) = fVar5;
      }
      iVar8 = iVar8 + 1;
      iVar7 = iVar7 + 0x20;
    } while (iVar8 < *piVar3);
  }
  if (*(float *)(param_1 + 0x61) == *(float *)(param_1 + 0x6d)) {
    *(ushort *)(param_1 + 0xa1) = *(ushort *)(param_1 + 0xa1) | 0x1000;
    *(float *)(param_1 + 0x61) = *(float *)(param_1 + 0x61) - 1.0;
    *(float *)(param_1 + 0x6d) = *(float *)(param_1 + 0x6d) - -1.0;
  }
  if (*(float *)(param_1 + 0x69) == *(float *)(param_1 + 0x75)) {
    *(ushort *)(param_1 + 0xa1) = *(ushort *)(param_1 + 0xa1) | 0x1000;
    *(float *)(param_1 + 0x69) = *(float *)(param_1 + 0x69) - 1.0;
    *(float *)(param_1 + 0x75) = *(float *)(param_1 + 0x75) - -1.0;
  }
  return;
}



void FUN_0048fcd0(int param_1)

{
  int **ppiVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  bool bVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  undefined4 *puVar10;
  uint uVar11;
  int iVar12;
  undefined4 *puVar13;
  float10 fVar14;
  float10 fVar15;
  float local_2c;
  float local_28;
  float local_24;
  undefined4 local_20;
  float *pfStack_1c;
  undefined8 local_18;
  double dVar16;
  
  iVar6 = param_1;
  AdjustStackForLargeAllocations();
  iVar7 = *(int *)(param_1 + 0x56);
  uVar11 = (uint)*(ushort *)(DAT_00598ff0 + 6) * (uint)*(ushort *)(DAT_00598ff0 + 0xe) *
           (uint)*(ushort *)(DAT_00598ff0 + 0x10);
  local_2c = **(float **)(iVar7 + 4);
  local_28 = *(float *)(*(int *)(iVar7 + 4) + 4);
  local_24 = *(float *)(*(int *)(iVar7 + 4) + 8);
  pfStack_1c = &local_2c;
  local_18 = (double)CONCAT44(&local_2c,param_1 + 6);
  local_20 = 0x48fd43;
  uVar8 = uVar11;
  FUN_0045f6b0();
  *(float *)(param_1 + 0x85) = local_2c;
  *(float *)(param_1 + 0x79) = local_2c;
  *(float *)(param_1 + 0x89) = local_28;
  *(float *)(param_1 + 0x7d) = local_28;
  ppiVar1 = (int **)(param_1 + 0x56);
  *(float *)(param_1 + 0x8d) = local_24;
  *(float *)(param_1 + 0x81) = local_24;
  param_1 = 0;
  if (0 < **ppiVar1) {
    iVar12 = 0;
    uVar11 = uVar8;
    do {
      local_2c = *(float *)(*(int *)(iVar7 + 4) + iVar12);
      local_28 = *(float *)(*(int *)(iVar7 + 4) + 4 + iVar12);
      pfStack_1c = &local_2c;
      local_24 = *(float *)(*(int *)(iVar7 + 4) + 8 + iVar12);
      local_18 = (double)CONCAT44(&local_2c,iVar6 + 6);
      local_20 = 0x48fdb7;
      FUN_0045f6b0();
      if (local_2c < *(float *)(iVar6 + 0x79)) {
        *(float *)(iVar6 + 0x79) = local_2c;
      }
      if (local_28 < *(float *)(iVar6 + 0x7d)) {
        *(float *)(iVar6 + 0x7d) = local_28;
      }
      if (local_24 < *(float *)(iVar6 + 0x81)) {
        *(float *)(iVar6 + 0x81) = local_24;
      }
      if (*(float *)(iVar6 + 0x85) < local_2c) {
        *(float *)(iVar6 + 0x85) = local_2c;
      }
      if (*(float *)(iVar6 + 0x89) < local_28) {
        *(float *)(iVar6 + 0x89) = local_28;
      }
      if (*(float *)(iVar6 + 0x8d) < local_24) {
        *(float *)(iVar6 + 0x8d) = local_24;
      }
      if ((*(byte *)(iVar6 + 0xa1) & 8) != 0) {
        *(float *)(*(int *)(iVar7 + 4) + iVar12) = local_2c;
        *(float *)(*(int *)(iVar7 + 4) + 4 + iVar12) = local_28;
        *(float *)(*(int *)(iVar7 + 4) + 8 + iVar12) = local_24;
      }
      param_1 = param_1 + 1;
      iVar12 = iVar12 + 0x20;
      uVar8 = uVar11;
    } while (param_1 < **(int **)(iVar6 + 0x56));
  }
  if ((*(byte *)(iVar6 + 0xa1) & 8) != 0) {
    *(undefined4 *)(iVar6 + 0x6d) = *(undefined4 *)(iVar6 + 0x79);
    *(undefined4 *)(iVar6 + 0x71) = *(undefined4 *)(iVar6 + 0x7d);
    *(undefined4 *)(iVar6 + 0x75) = *(undefined4 *)(iVar6 + 0x81);
    puVar10 = &DAT_004d1ae0;
    puVar13 = (undefined4 *)(iVar6 + 6);
    for (iVar7 = 0x10; uVar11 = uVar8, iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar13 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar13 = puVar13 + 1;
    }
  }
  fVar3 = (*(float *)(iVar6 + 0x79) + *(float *)(iVar6 + 0x85)) * 0.5 - *(float *)(iVar6 + 0x79);
  fVar2 = (*(float *)(iVar6 + 0x81) + *(float *)(iVar6 + 0x8d)) * 0.5 - *(float *)(iVar6 + 0x81);
  local_18 = (double)(fVar2 * fVar2 + fVar3 * fVar3);
  pfStack_1c = (float *)0x48ff0d;
  fVar14 = (float10)FUN_004ad534();
  *(float *)(iVar6 + 0x91) = (float)fVar14;
  local_18 = (double)(*(float *)(iVar6 + 0xe) * *(float *)(iVar6 + 0xe) +
                     *(float *)(iVar6 + 10) * *(float *)(iVar6 + 10) +
                     *(float *)(iVar6 + 6) * *(float *)(iVar6 + 6));
  pfStack_1c = (float *)0x48ff49;
  fVar14 = (float10)FUN_004ad534();
  local_18 = (double)(*(float *)(iVar6 + 0x1e) * *(float *)(iVar6 + 0x1e) +
                     *(float *)(iVar6 + 0x1a) * *(float *)(iVar6 + 0x1a) +
                     *(float *)(iVar6 + 0x16) * *(float *)(iVar6 + 0x16));
  pfStack_1c = (float *)0x48ff82;
  FUN_004ad534();
  local_18 = (double)(*(float *)(iVar6 + 0x2e) * *(float *)(iVar6 + 0x2e) +
                     *(float *)(iVar6 + 0x2a) * *(float *)(iVar6 + 0x2a) +
                     *(float *)(iVar6 + 0x26) * *(float *)(iVar6 + 0x26));
  pfStack_1c = (float *)0x48ffba;
  FUN_004ad534();
  iVar7 = *(int *)(iVar6 + 0x5b);
  *(float *)(iVar6 + 0x95) = (float)fVar14;
  uVar8 = 0;
  if (iVar7 != 0) {
    bVar5 = false;
    uVar9 = (uint)*(byte *)(iVar7 + 0x10);
    if (uVar9 != 0) {
      do {
        if (*(float *)(*(int *)(iVar7 + 0x7f) + 0x14 + uVar8 * 0x32) != 0.0) {
          bVar5 = true;
          uVar8 = uVar9;
        }
        uVar8 = uVar8 + 1;
      } while ((int)uVar8 < (int)uVar9);
    }
    if (bVar5) {
      local_18 = (double)(*(float *)(iVar6 + 0x36) - *(float *)(iVar6 + 0x79));
      pfStack_1c = (float *)0x490025;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x36) - *(float *)(iVar6 + 0x85));
      pfStack_1c = (float *)0x49003b;
      fVar14 = (float10)FUN_004ad3c0();
      if ((float10)local_18 <= fVar14) {
        fVar2 = *(float *)(iVar6 + 0x85);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x79);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x36) - fVar2);
      pfStack_1c = (float *)0x490063;
      fVar14 = (float10)FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - *(float *)(iVar6 + 0x7d));
      pfStack_1c = (float *)0x49007c;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - *(float *)(iVar6 + 0x89));
      pfStack_1c = (float *)0x490092;
      fVar15 = (float10)FUN_004ad3c0();
      if ((float10)local_18 <= fVar15) {
        fVar2 = *(float *)(iVar6 + 0x89);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x7d);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x3a) - fVar2);
      pfStack_1c = (float *)0x4900ba;
      FUN_004ad3c0();
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - *(float *)(iVar6 + 0x81));
      pfStack_1c = (float *)0x4900d6;
      fVar15 = (float10)FUN_004ad3c0();
      dVar16 = (double)fVar15;
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - *(float *)(iVar6 + 0x8d));
      pfStack_1c = (float *)0x4900ec;
      fVar15 = (float10)FUN_004ad3c0();
      if ((float10)dVar16 <= fVar15) {
        fVar2 = *(float *)(iVar6 + 0x8d);
      }
      else {
        fVar2 = *(float *)(iVar6 + 0x81);
      }
      local_18 = (double)(*(float *)(iVar6 + 0x3e) - fVar2);
      pfStack_1c = (float *)0x490117;
      fVar15 = (float10)FUN_004ad3c0();
      local_18 = (double)(fVar15 * fVar15 +
                         (float10)local_18._4_4_ * (float10)local_18._4_4_ +
                         (float10)(float)fVar14 * (float10)(float)fVar14);
      pfStack_1c = (float *)0x49013f;
      fVar14 = (float10)FUN_004ad534();
      fVar2 = (float)fVar14;
      fVar3 = *(float *)(iVar6 + 0x36) - fVar2;
      if (fVar3 <= 0.0) {
        fVar3 = 0.0;
      }
      fVar4 = *(float *)(iVar6 + 0x3e) - fVar2;
      *(float *)(iVar6 + 0x79) = fVar3;
      if (fVar4 <= 0.0) {
        fVar4 = 0.0;
      }
      fVar3 = fVar2 + *(float *)(iVar6 + 0x36);
      local_18 = (double)(ulonglong)uVar11;
      *(float *)(iVar6 + 0x81) = fVar4;
      if ((float)(longlong)local_18 <= fVar3) {
        fVar3 = (float)(longlong)local_18;
      }
      fVar4 = fVar2 + *(float *)(iVar6 + 0x3e);
      *(float *)(iVar6 + 0x85) = fVar3;
      if ((float)ZEXT48(pfStack_1c) <= fVar4) {
        fVar4 = (float)ZEXT48(pfStack_1c);
      }
      *(float *)(iVar6 + 0x8d) = fVar4;
      *(float *)(iVar6 + 0x7d) = *(float *)(iVar6 + 0x3a) - fVar2;
      *(float *)(iVar6 + 0x89) = fVar2 + *(float *)(iVar6 + 0x3a);
    }
  }
  if (*(float *)(iVar6 + 0x79) == *(float *)(iVar6 + 0x85)) {
    *(float *)(iVar6 + 0x79) = *(float *)(iVar6 + 0x79) - 1.0;
    *(float *)(iVar6 + 0x85) = *(float *)(iVar6 + 0x85) - -1.0;
  }
  if (*(float *)(iVar6 + 0x81) == *(float *)(iVar6 + 0x8d)) {
    *(float *)(iVar6 + 0x81) = *(float *)(iVar6 + 0x81) - 1.0;
    *(float *)(iVar6 + 0x8d) = *(float *)(iVar6 + 0x8d) - -1.0;
  }
  return;
}



void FUN_00490280(int param_1)

{
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  uint *puVar8;
  uint uVar9;
  
  AdjustStackForLargeAllocations();
  uVar9 = 0;
  fVar4 = (*(float *)(param_1 + 0x61) + *(float *)(param_1 + 0x6d)) * 0.5;
  fVar5 = (*(float *)(param_1 + 0x71) + *(float *)(param_1 + 0x65)) * 0.5;
  fVar6 = (*(float *)(param_1 + 0x69) + *(float *)(param_1 + 0x75)) * 0.5;
  puVar8 = *(uint **)(param_1 + 0x56);
  if (*puVar8 != 0) {
    iVar7 = 0;
    do {
      uVar9 = uVar9 + 1;
      *(float *)(puVar8[1] + iVar7) = *(float *)(puVar8[1] + iVar7) - fVar4;
      iVar3 = *(int *)(*(int *)(param_1 + 0x56) + 4);
      *(float *)(iVar3 + 4 + iVar7) = *(float *)(iVar3 + 4 + iVar7) - fVar5;
      iVar3 = *(int *)(*(int *)(param_1 + 0x56) + 4);
      pfVar1 = (float *)(iVar3 + 8 + iVar7);
      pfVar2 = (float *)(iVar3 + 8 + iVar7);
      iVar7 = iVar7 + 0x20;
      *pfVar2 = *pfVar1 - fVar6;
      puVar8 = *(uint **)(param_1 + 0x56);
    } while (uVar9 < *puVar8);
  }
  *(float *)(param_1 + 0x61) = *(float *)(param_1 + 0x61) - fVar4;
  *(float *)(param_1 + 0x65) = *(float *)(param_1 + 0x65) - fVar5;
  *(float *)(param_1 + 0x46) = fVar4;
  *(float *)(param_1 + 0x69) = *(float *)(param_1 + 0x69) - fVar6;
  *(float *)(param_1 + 0x6d) = *(float *)(param_1 + 0x6d) - fVar4;
  *(float *)(param_1 + 0x4a) = fVar5;
  *(float *)(param_1 + 0x71) = *(float *)(param_1 + 0x71) - fVar5;
  *(float *)(param_1 + 0x4e) = fVar6;
  *(float *)(param_1 + 0x75) = *(float *)(param_1 + 0x75) - fVar6;
  return;
}



void FUN_00490380(int param_1)

{
  AdjustStackForLargeAllocations();
  *(float *)(param_1 + 0x46) = (*(float *)(param_1 + 0x61) + *(float *)(param_1 + 0x6d)) * 0.5;
  *(float *)(param_1 + 0x4a) = (*(float *)(param_1 + 0x71) + *(float *)(param_1 + 0x65)) * 0.5;
  *(float *)(param_1 + 0x4e) = (*(float *)(param_1 + 0x75) + *(float *)(param_1 + 0x69)) * 0.5;
  return;
}



void FUN_004903e0(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 local_44 [10];
  undefined4 uStack_1c;
  int iStack_18;
  undefined4 *local_14;
  int local_10;
  
  AdjustStackForLargeAllocations();
  puVar2 = &DAT_004d1ae0;
  puVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  iStack_18 = param_1 + 6;
  local_14 = local_44;
  uStack_1c = 0x49042a;
  local_10 = iStack_18;
  FUN_0045ecb0();
  return;
}



float10 FUN_00490440(int param_1,int param_2)

{
  float10 fVar1;
  float10 fVar2;
  float10 fVar3;
  
  fVar1 = (float10)*(float *)(param_2 + 0x30) - (float10)*(float *)(param_1 + 0x30);
  fVar2 = (float10)*(float *)(param_2 + 0x34) - (float10)*(float *)(param_1 + 0x34);
  fVar3 = (float10)*(float *)(param_2 + 0x38) - (float10)*(float *)(param_1 + 0x38);
  return fVar3 * (float10)(float)fVar3 + fVar2 * fVar2 + fVar1 * (float10)(float)fVar1;
}



void FUN_00490490(float *param_1,undefined4 param_2)

{
  int iVar1;
  float *pfVar2;
  undefined4 *puVar3;
  float *pfVar4;
  undefined4 *puVar5;
  float10 fVar6;
  float local_88 [8];
  float local_68;
  float local_60;
  undefined4 local_48 [5];
  float local_34;
  float local_30;
  float local_24;
  undefined4 local_20;
  undefined4 uStack_1c;
  double local_18;
  float fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  fVar7 = param_1[2] * param_1[2];
  local_18 = (double)(*param_1 * *param_1 + fVar7);
  uStack_1c = 0x4904ca;
  fVar6 = (float10)FUN_004ad534();
  fVar8 = (float)fVar6;
  local_18 = (double)(param_1[1] * param_1[1] + fVar7);
  uStack_1c = 0x4904ec;
  fVar6 = (float10)FUN_004ad534();
  pfVar2 = (float *)&DAT_004d1ae0;
  pfVar4 = local_88;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *pfVar4 = *pfVar2;
    pfVar2 = pfVar2 + 1;
    pfVar4 = pfVar4 + 1;
  }
  if (0.0 < fVar8) {
    local_88[0] = param_1[2] / fVar8;
    local_68 = *param_1 / fVar8;
    local_88[2] = -local_68;
    local_60 = local_88[0];
  }
  puVar3 = &DAT_004d1ae0;
  puVar5 = local_48;
  fVar8 = (float)fVar6;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar5 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar5 = puVar5 + 1;
  }
  if (0.0 < (float)fVar6) {
    local_34 = param_1[2] / fVar8;
    local_30 = param_1[1] / fVar8;
    local_24 = -local_30;
  }
  local_18 = (double)CONCAT44(local_48,local_88);
  uStack_1c = param_2;
  local_20 = 0x490583;
  FUN_0045ecb0();
  return;
}



void FUN_00490590(undefined4 param_1,int param_2,float *param_3)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  
  AdjustStackForLargeAllocations();
  pfVar3 = (float *)&DAT_004d1ae0;
  pfVar4 = param_3;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar4 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar4 = pfVar4 + 1;
  }
  fVar5 = (float10)FUN_004ae0c4();
  fVar1 = (float)fVar5;
  fVar5 = (float10)FUN_004ae014();
  if (param_2 == 0) {
    param_3[6] = (float)fVar5;
    param_3[9] = (float)-fVar5;
    param_3[5] = fVar1;
    param_3[10] = fVar1;
    return;
  }
  if (param_2 == 1) {
    param_3[2] = (float)-fVar5;
    *param_3 = fVar1;
    param_3[8] = (float)fVar5;
    param_3[10] = fVar1;
    return;
  }
  if (param_2 == 2) {
    param_3[1] = (float)fVar5;
    param_3[4] = (float)-fVar5;
    *param_3 = fVar1;
    param_3[5] = fVar1;
    return;
  }
  return;
}



undefined4 FUN_00490640(void)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  uVar4 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) == 0) {
    return 1;
  }
  while( true ) {
    iVar3 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar4 * 4);
    puVar1 = (undefined4 *)(iVar3 + 0x52);
    iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))(*(int **)(DAT_005e5010 + 8),puVar1);
    if (iVar2 != 0) {
      return 0;
    }
    iVar3 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                      (*(int **)(DAT_005e5010 + 8),*puVar1,iVar3 + 6);
    if (iVar3 != 0) break;
    uVar4 = uVar4 + 1;
    if (*(uint *)(DAT_00598d90 + 0x239) <= uVar4) {
      return 1;
    }
  }
  return 0;
}



int FUN_004906c0(void)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  iVar1 = *(int *)(DAT_00598d90 + 0x239);
  if (iVar1 != 0) {
    while( true ) {
      iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x3c))
                        (*(int **)(DAT_005e5010 + 8),
                         *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar2 * 4) + 0x52);
      if (iVar1 != 0) break;
      iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar2 * 4);
      iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
                        (*(int **)(DAT_005e5010 + 8),*(undefined4 *)(iVar1 + 0x52),iVar1 + 6);
      if (iVar1 != 0) break;
      uVar2 = uVar2 + 1;
      if (*(uint *)(DAT_00598d90 + 0x239) <= uVar2) {
        return 0;
      }
    }
    iVar1 = 0;
  }
  return iVar1;
}



void FUN_00490740(undefined4 *param_1,undefined4 *param_2)

{
  *param_2 = *param_1;
  param_2[1] = param_1[1];
  param_2[2] = param_1[2];
  param_2[3] = param_1[3];
  param_2[4] = param_1[4];
  param_2[5] = param_1[5];
  param_2[6] = param_1[6];
  param_2[7] = param_1[7];
  param_2[8] = param_1[8];
  param_2[9] = param_1[9];
  param_2[10] = param_1[10];
  param_2[0xb] = param_1[0xb];
  param_2[0xc] = param_1[0xc];
  param_2[0xd] = param_1[0xd];
  param_2[0xe] = param_1[0xe];
  param_2[0xf] = param_1[0xf];
  return;
}



void FUN_004907b0(int param_1,float *param_2)

{
  float fVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  float fVar5;
  
  AdjustStackForLargeAllocations();
  piVar2 = *(int **)(param_1 + 0x56);
  fVar5 = *(float *)(*piVar2 * 0x20 + -0x1c + piVar2[1]);
  FUN_0045f6b0(&stack0xfffffff0,param_1 + 6);
  uVar3 = 0;
  if (*piVar2 != 1) {
    iVar4 = 0;
    do {
      fVar1 = *(float *)(piVar2[1] + 4 + iVar4);
      fVar5 = (float)(param_1 + 6);
      FUN_0045f6b0();
      if (fVar5 < fVar1) {
        fVar5 = fVar1;
      }
      uVar3 = uVar3 + 1;
      iVar4 = iVar4 + 0x20;
    } while (uVar3 < *piVar2 - 1U);
  }
  *param_2 = fVar5;
  return;
}



void FUN_004908b0(undefined4 param_1)

{
  StringToInteger(param_1);
  return;
}



// // Function: ParseQuotedToken
// // Description: This function parses a string, handling quoted and unquoted sections, and stops
// when it encounters a delimiter (`,` or `;`). Quoted sections are treated as single tokens even if
// they contain delimiters. It copies characters into a destination buffer and returns a boolean
// indicating whether a valid token was parsed.
// // Old Name: FUN_004908d0
// //
// // Arguments:
// //   param_1 (int): A pointer to the source string to be parsed.
// //   param_2 (int): A pointer to the destination buffer where parsed characters are stored.
// //   param_3 (uint*): A pointer to the current position within the string (used to track parsing
// progress).
// //   param_4 (uint): The maximum length or end position of the string being parsed.
// 

bool ParseQuotedToken(int param_1,int param_2,uint *param_3,uint param_4)

{
  char cVar1;
  bool bVar2;
  bool bVar3;
  uint uVar4;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  uVar4 = *param_3;
  iVar5 = 0;
  while (uVar4 < param_4) {
    if (DAT_004d3f4c < 2) {
      uVar4 = (byte)PTR_DAT_004d3d40[*(char *)(param_1 + *param_3) * 2] & 8;
    }
    else {
      uVar4 = GetCharacterType((int)*(char *)(param_1 + *param_3),8);
    }
    if (((uVar4 == 0) && (*(char *)(param_1 + *param_3) != ',')) &&
       (*(char *)(param_1 + *param_3) != ';')) break;
    uVar4 = *param_3 + 1;
    *param_3 = uVar4;
  }
  uVar4 = *param_3;
  bVar3 = true;
  bVar2 = false;
  while (uVar4 < param_4) {
    if (DAT_004d3f4c < 2) {
      uVar4 = (byte)PTR_DAT_004d3d40[*(char *)(param_1 + *param_3) * 2] & 8;
    }
    else {
      uVar4 = GetCharacterType((int)*(char *)(param_1 + *param_3),8);
    }
    if (((uVar4 != 0) && (!bVar2)) ||
       ((cVar1 = *(char *)(param_1 + *param_3), cVar1 == ',' || (cVar1 == ';')))) break;
    bVar3 = false;
    if (cVar1 == '\"') {
      bVar2 = !bVar2;
    }
    *(char *)(iVar5 + param_2) = cVar1;
    iVar5 = iVar5 + 1;
    uVar4 = *param_3 + 1;
    *param_3 = uVar4;
  }
  *(undefined *)(iVar5 + param_2) = 0;
  return !bVar3;
}



// // Function: ParseToken
// // Description: This function parses a string and extracts a token based on certain delimiters
// ('"', ',', ';'). It copies characters into a destination buffer until it encounters one of these
// delimiters or reaches the end of the provided input length.
// // Old Name: FUN_004909f0
// //
// // Arguments:
// //   param_1 (int): A pointer to the source string to be parsed.
// //   param_2 (int): A pointer to the destination buffer where parsed characters are stored.
// //   param_3 (uint*): A pointer to the current position within the string (used to track parsing
// progress).
// //   param_4 (uint): The maximum length or end position of the string being parsed.
// 

bool ParseToken(int param_1,int param_2,uint *param_3,uint param_4)

{
  char cVar1;
  bool bVar2;
  uint uVar3;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  uVar3 = *param_3;
  iVar4 = 0;
  while (uVar3 < param_4) {
    if (DAT_004d3f4c < 2) {
      uVar3 = (byte)PTR_DAT_004d3d40[*(char *)(param_1 + *param_3) * 2] & 8;
    }
    else {
      uVar3 = GetCharacterType((int)*(char *)(param_1 + *param_3),8);
    }
    if ((((uVar3 == 0) && (cVar1 = *(char *)(param_1 + *param_3), cVar1 != '\"')) && (cVar1 != ','))
       && (cVar1 != ';')) break;
    uVar3 = *param_3 + 1;
    *param_3 = uVar3;
  }
  uVar3 = *param_3;
  bVar2 = true;
  while (uVar3 < param_4) {
    if (DAT_004d3f4c < 2) {
      uVar3 = (byte)PTR_DAT_004d3d40[*(char *)(param_1 + *param_3) * 2] & 8;
    }
    else {
      uVar3 = GetCharacterType((int)*(char *)(param_1 + *param_3),8);
    }
    if (((uVar3 != 0) || (cVar1 = *(char *)(param_1 + *param_3), cVar1 == '\"')) ||
       ((cVar1 == ',' || (cVar1 == ';')))) break;
    bVar2 = false;
    *(char *)(iVar4 + param_2) = cVar1;
    uVar3 = *param_3 + 1;
    iVar4 = iVar4 + 1;
    *param_3 = uVar3;
  }
  *(undefined *)(iVar4 + param_2) = 0;
  return !bVar2;
}



void FUN_00490af0(char *param_1,undefined4 param_2)

{
  char cVar1;
  char *pcVar2;
  
  do {
    pcVar2 = param_1;
    cVar1 = FUN_004afbf0(param_2);
    *pcVar2 = cVar1;
    param_1 = pcVar2 + 1;
  } while (cVar1 != '\n');
  *pcVar2 = '\0';
  return;
}



void FUN_00490b20(void)

{
  float param_11;
  float param_12;
  float param_13;
  float param_14;
  float param_15;
  float param_16;
  float *param_17;
  
  *param_17 = param_14 - param_11;
  param_17[1] = param_15 - param_12;
  param_17[2] = param_16 - param_13;
  return;
}



float10 FUN_00490b60(float *param_1,float *param_2)

{
  return (float10)*param_1 * (float10)*param_2 +
         (float10)param_2[2] * (float10)param_1[2] + (float10)param_2[1] * (float10)param_1[1];
}



void FUN_00490b90(float *param_1)

{
  AdjustStackForLargeAllocations();
  FUN_004ad534((double)(*param_1 * *param_1 + param_1[2] * param_1[2] + param_1[1] * param_1[1]));
  return;
}



void FUN_00490be0(undefined4 param_1,undefined4 param_2)

{
  float10 fVar1;
  float10 fVar2;
  float10 fVar3;
  
  fVar1 = (float10)FUN_00490b60(param_1,param_2);
  fVar2 = (float10)FUN_00490b90();
  fVar3 = (float10)FUN_00490b90();
  FUN_004af934((double)((float10)(float)fVar1 / (fVar3 * (float10)(float)fVar2)));
  return;
}



float10 FUN_00490c30(float param_1)

{
  return (float10)param_1 * (float10)57.29578;
}



void FUN_00490c40(float *param_1,float *param_2,float *param_3)

{
  int iVar1;
  float fVar2;
  
  *param_3 = *param_2 * *param_1 + param_1[4] * param_2[1] + param_1[8] * param_2[2] + param_1[0xc];
  param_3[1] = param_1[1] * *param_2 + param_1[5] * param_2[1] + param_1[9] * param_2[2] +
               param_1[0xd];
  param_3[2] = param_1[2] * *param_2 + param_1[6] * param_2[1] + param_1[10] * param_2[2] +
               param_1[0xe];
  fVar2 = 1.0 / (param_1[3] * *param_2 + param_1[7] * param_2[1] + param_1[0xb] * param_2[2] +
                param_1[0xf]);
  param_3[3] = fVar2;
  param_3[2] = fVar2 * param_3[2];
  iVar1 = *(int *)(DAT_005e5010 + 0x2538);
  param_3[1] = (1.0 - param_3[1] * param_3[3]) * (float)(*(int *)(DAT_005e5010 + 0x253c) >> 1);
  *param_3 = (float)(iVar1 >> 1) * (*param_3 * param_3[3] - -1.0);
  param_3[4] = param_2[4];
  param_3[5] = param_2[5];
  param_3[6] = param_2[6];
  param_3[7] = param_2[7];
  return;
}



// // Function: LoadDisplaySettings
// // Description: This function loads display settings from the Windows Registry, including bits
// per pixel and screen resolution. It reads the resolution as a string, splits it into width and
// height, and converts the values to integers. If the registry query fails, it sets default values
// for the settings.
// // Old Name: FUN_00490d60
// //
// // Arguments: None (global variables are used to store the result)
// 

void LoadDisplaySettings(void)

{
  LSTATUS LVar1;
  int iVar2;
  char local_40 [12];
  undefined4 local_34;
  
  AdjustStackForLargeAllocations();
  local_34 = 0x490da0;
  LVar1 = RegCreateKeyExA((HKEY)0x80000002,s_Config_0001_Display_Settings_004d28b8,0,(LPSTR)0x0,0,
                          0xf003f,(LPSECURITY_ATTRIBUTES)0x0,(PHKEY)&stack0xfffffff4,(LPDWORD)0x1);
  if (LVar1 != 0) {
    DAT_00599004 = 0;
    DAT_00599008 = 0;
    DAT_0059900c = 0;
    return;
  }
  RegQueryValueExA((HKEY)0x0,s_BitsPerPixel_004d291c,(LPDWORD)0x0,(LPDWORD)&stack0xfffffff0,
                   &stack0xffffffe4,(LPDWORD)&stack0xfffffff8);
  DAT_00599004 = StringToInteger();
  RegQueryValueExA((HKEY)0x0,s_Resolution_004d292c,(LPDWORD)0x0,(LPDWORD)&stack0xfffffff0,
                   &stack0xffffffd8,(LPDWORD)&stack0xfffffff8);
  iVar2 = 0;
  do {
    if ((&stack0xffffffd8)[iVar2] == ',') break;
    *(undefined *)((int)&local_34 + iVar2) = (&stack0xffffffd8)[iVar2];
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0xc);
  if (iVar2 == 0xc) {
    DAT_00599004 = 0;
    DAT_0059900c = 0;
    DAT_00599008 = 0;
    return;
  }
  *(undefined *)((int)&local_34 + iVar2) = 0;
  _strncpy(local_40,&stack0xffffffd9 + iVar2,0xc - (iVar2 + 1));
  DAT_0059900c = StringToInteger();
  DAT_00599008 = StringToInteger();
  return;
}



void LoadIntroMovieFunc(void)

{
  int iVar1;
  char local_104 [244];
  undefined4 uStackY_10;
  char *_Source;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df310 == '\x02') {
    uStackY_10 = 0x490eb7;
    FID_conflict___mbscpy(local_104,&DAT_005d56e0);
    _Source = s_VISident_avi_004d2960;
  }
  else {
    uStackY_10 = 0x490ed7;
    FID_conflict___mbscpy(&DAT_005d56e0,&gRootFileDirectory);
    uStackY_10 = 0x490ee9;
    FID_conflict__strcat(&DAT_005d56e0,s_Movies__004d2970);
    uStackY_10 = 0x490efd;
    FID_conflict___mbscpy(local_104,&DAT_005d56e0);
    _Source = s_VISident_avi_004d2978;
  }
  uStackY_10 = 0x490f11;
  FID_conflict__strcat(local_104,_Source);
  uStackY_10 = 0x490f25;
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 != 0) {
    FUN_004adcf0();
    return;
  }
  uStackY_10 = 0x490f48;
  FID_conflict___mbscpy(&DAT_005d56e0,&DAT_00599018);
  DAT_005d56e0 = 0;
  return;
}



LRESULT FUN_00490f60(HWND param_1,UINT param_2,WPARAM param_3,LPARAM param_4)

{
  LRESULT LVar1;
  
  if (param_2 != 2) {
    LVar1 = DefWindowProcA(param_1,param_2,param_3,param_4);
    return LVar1;
  }
  PostQuitMessage(0);
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

HWND FUN_00490fa0(void)

{
  ATOM AVar1;
  HDC hdc;
  LONG LVar2;
  HWND hWnd;
  int iVar3;
  undefined4 *puVar4;
  DWORD iModeNum;
  undefined4 *puVar5;
  DEVMODEA local_f4;
  undefined4 local_58 [5];
  undefined4 uStackY_44;
  
  AdjustStackForLargeAllocations();
  puVar4 = (undefined4 *)s_HEDZ____c_VIS_Interactive_PLC_004d29d8;
  puVar5 = local_58;
  for (iVar3 = 7; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  *(undefined2 *)puVar5 = *(undefined2 *)puVar4;
  iModeNum = 0;
  hdc = GetDC(gMainWindowHandle);
  GetGraphicsMode(hdc);
  iVar3 = EnumDisplaySettingsA((LPCSTR)0x0,0,(DEVMODEA *)&DAT_005b92c0);
  while (iVar3 != 0) {
    iModeNum = iModeNum + 1;
    iVar3 = EnumDisplaySettingsA((LPCSTR)0x0,iModeNum,(DEVMODEA *)&DAT_005b92c0);
  }
  FUN_004ad7a0();
  local_f4.dmPelsWidth = 0x280;
  local_f4.dmPelsHeight = 0x1e0;
  local_f4.dmBitsPerPel = 0x10;
  local_f4.dmFields = 0x1c0000;
  LVar2 = ChangeDisplaySettingsA(&local_f4,2);
  if (LVar2 == 0) {
    ChangeDisplaySettingsA(&local_f4,0);
    if (_DAT_00599014 == 0) {
      LoadIconA((HINSTANCE)0x0,(LPCSTR)0x7f00);
      LoadIconA((HINSTANCE)0x0,(LPCSTR)0x7f05);
      GetStockObject(0);
      AVar1 = RegisterClassExA((WNDCLASSEXA *)&stack0xffffffc8);
      if (AVar1 == 0) {
        _DAT_00599014 = GetLastError();
        return (HWND)0x0;
      }
    }
    uStackY_44 = 0x491125;
    hWnd = CreateWindowExA(0,(LPCSTR)local_58,(LPCSTR)0x0,0x90000000,-0x80000000,-0x80000000,
                           -0x80000000,-0x80000000,(HWND)0x0,(HMENU)0x0,DAT_005d6504,(LPVOID)0x0);
    ShowCursor(0);
    _DAT_00599014 = 1;
    ShowWindow(hWnd,3);
    SetForegroundWindow(hWnd);
    ReleaseDC(hWnd,hdc);
    return hWnd;
  }
  MessageBoxA(gMainWindowHandle,s_Unable_to_change_screen_depth_to_004d2a44,s_ERROR_004d2a3c,0);
  return (HWND)0x0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00491160(HWND param_1)

{
  DestroyWindow(param_1);
  if (((DAT_00599008 != 0) && (DAT_0059900c != 0)) && (DAT_00599004 != 0)) {
    _DAT_005b932c = DAT_00599008;
    _DAT_005b9330 = DAT_0059900c;
    _DAT_005b9328 = DAT_00599004;
    _DAT_005b92e8 = 0x1c0000;
    ChangeDisplaySettingsA((DEVMODEA *)&DAT_005b92c0,0);
  }
  return;
}



void FUN_004911c0(void)

{
  HWND hWnd;
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  char local_154 [256];
  undefined4 local_54 [12];
  HWND local_24;
  LPMSG lpMsg;
  
  AdjustStackForLargeAllocations();
  puVar2 = (undefined4 *)s__positionC_C__stretch__userexit___004d2a94;
  puVar3 = local_54;
  for (iVar1 = 0xb; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = *(undefined2 *)puVar2;
  if ((DAT_005d56e0 != '\0') && (hWnd = (HWND)FUN_00490fa0(), hWnd != (HWND)0x0)) {
    GetCurrentThread();
    FUN_004afef0();
    FID_conflict___mbscpy(local_154,(char *)local_54);
    FID_conflict__strcat(local_154,s_HDZtween_avi_004d2b04);
    local_24 = (HWND)0x49124d;
    tp_HaveScreen();
    do {
      iVar1 = tp_StatusGet();
    } while (iVar1 != 0x7d2);
    do {
      lpMsg = (LPMSG)&local_24;
      local_24 = (HWND)0x491272;
      GetMessageA(lpMsg,hWnd,0,0);
      if (lpMsg == (LPMSG)0x100) {
        tp_SetKey();
      }
      iVar1 = tp_StatusGet();
    } while (iVar1 == 0x7d2);
    tp_DestroyScreen();
    FUN_00491160();
    FUN_004afef0();
  }
  return;
}



void FUN_004912b0(void)

{
  HWND hWnd;
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  char local_154 [256];
  undefined4 local_54 [12];
  HWND local_24;
  LPMSG lpMsg;
  
  AdjustStackForLargeAllocations();
  puVar2 = (undefined4 *)s__positionC_C__stretch__userexit___004d2b20;
  puVar3 = local_54;
  for (iVar1 = 0xb; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = *(undefined2 *)puVar2;
  if (DAT_005d56e0 != '\0') {
    FUN_004afef0();
    hWnd = (HWND)FUN_00490fa0();
    if (hWnd != (HWND)0x0) {
      GetCurrentThread();
      FID_conflict___mbscpy(local_154,(char *)local_54);
      FID_conflict__strcat(local_154,s_HDZoutro_avi_004d2b8c);
      local_24 = (HWND)0x49133d;
      tp_HaveScreen();
      do {
        iVar1 = tp_StatusGet();
      } while (iVar1 != 0x7d2);
      do {
        lpMsg = (LPMSG)&local_24;
        local_24 = (HWND)0x491362;
        GetMessageA(lpMsg,hWnd,0,0);
        if (lpMsg == (LPMSG)0x100) {
          tp_SetKey();
        }
        iVar1 = tp_StatusGet();
      } while (iVar1 == 0x7d2);
      tp_DestroyScreen();
      FUN_00491160();
      FUN_004afef0();
    }
  }
  return;
}



void FUN_004913a0(void)

{
  HWND hWnd;
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  bool bVar4;
  char local_160 [256];
  undefined4 local_60 [10];
  undefined4 uStackY_38;
  UINT UVar5;
  
  AdjustStackForLargeAllocations();
  puVar2 = (undefined4 *)s__positionC_C__stretch__userexit___004d2ba8;
  puVar3 = local_60;
  for (iVar1 = 0xb; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  *(undefined2 *)puVar3 = *(undefined2 *)puVar2;
  if ((DAT_005d56e0 != '\0') && (DAT_00598d2c != '\0')) {
    UVar5 = 0;
    uStackY_38 = 0x491411;
    RegCreateKeyExA((HKEY)0x80000002,s_Software_Vis_Interactive_Hedz_004d2bfc,0,(LPSTR)0x0,0,0xf003f
                    ,(LPSECURITY_ATTRIBUTES)0x0,&HKEY_00598b70,(LPDWORD)&DAT_00598ff8);
    iVar1 = FUN_004674d0();
    bVar4 = iVar1 == 0;
    if (!bVar4) {
      FUN_004674a0();
    }
    DAT_00599010 = bVar4;
    hWnd = (HWND)FUN_00490fa0();
    if (hWnd != (HWND)0x0) {
      GetCurrentThread();
      FID_conflict___mbscpy(local_160,(char *)local_60);
      FUN_004afef0();
      FID_conflict__strcat(local_160,s_HASident_avi_004d2c68);
      tp_HaveScreen();
      do {
        iVar1 = tp_StatusGet();
      } while (iVar1 != 0x7d2);
      do {
        GetMessageA((LPMSG)&stack0xffffffd0,hWnd,0,0);
        if ((UVar5 == 0x100) && (bVar4)) {
          tp_SetKey();
        }
        iVar1 = tp_StatusGet();
      } while (iVar1 == 0x7d2);
      FID_conflict___mbscpy(local_160,(char *)local_60);
      FID_conflict__strcat(local_160,s_VISident_avi_004d2c9c);
      tp_HaveScreen();
      do {
        iVar1 = tp_StatusGet();
      } while (iVar1 != 0x7d2);
      do {
        GetMessageA((LPMSG)&stack0xffffffd0,hWnd,0,0);
        if ((UVar5 == 0x100) && (bVar4)) {
          tp_SetKey();
        }
        iVar1 = tp_StatusGet();
      } while (iVar1 == 0x7d2);
      FID_conflict___mbscpy(local_160,(char *)local_60);
      FID_conflict__strcat(local_160,s_HDZintro_avi_004d2cb8);
      tp_HaveScreen();
      do {
        iVar1 = tp_StatusGet();
      } while (iVar1 != 0x7d2);
      do {
        GetMessageA((LPMSG)&stack0xffffffd0,hWnd,0,0);
        if ((UVar5 == 0x100) && (bVar4)) {
          tp_SetKey();
        }
        iVar1 = tp_StatusGet();
      } while (iVar1 == 0x7d2);
      FUN_004afef0();
      tp_DestroyScreen();
      FUN_00491160();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00491610(HDC param_1,char *param_2,int param_3)

{
  int nNumerator;
  int nDenominator;
  
  _memset(&DAT_00599028,0,0x3c);
  nDenominator = 0x48;
  nNumerator = GetDeviceCaps(param_1,0x5a);
  _DAT_00599028 = MulDiv(param_3,nNumerator,nDenominator);
  _DAT_00599038 = 400;
  _DAT_00599028 = -_DAT_00599028;
  FID_conflict___mbscpy(&DAT_00599044,param_2);
  CreateFontIndirectA((LOGFONTA *)&DAT_00599028);
  return;
}



void FUN_00491670(void)

{
  undefined4 *puVar1;
  byte *pbVar2;
  ushort uVar3;
  byte *pbVar4;
  uint uVar5;
  void *pvVar6;
  ushort *puVar7;
  uint uVar8;
  int iVar9;
  uint unaff_EDI;
  byte **ppbVar10;
  char local_11c [248];
  undefined4 uStackY_24;
  undefined4 *puStackY_20;
  char cVar11;
  int iVar12;
  int iVar13;
  char *_Source;
  size_t sVar14;
  int iVar15;
  
  AdjustStackForLargeAllocations();
  if (DAT_005df310 == '\0') {
    _Source = &gRootFileDirectory;
  }
  else {
    _Source = &DAT_005d54e0;
  }
  FID_conflict___mbscpy(local_11c,_Source);
  FID_conflict__strcat(local_11c,s_yfont_dat_004d2d0f + 1);
  uVar5 = OpenFileWithFixedFlags0x40();
  if (uVar5 != 0) {
    sVar14 = 0x802;
    iVar12 = 0;
    puStackY_20 = (undefined4 *)0x4916ef;
    pvVar6 = (void *)AllocateMemoryWithCallback();
    puStackY_20 = (undefined4 *)0x4916f8;
    DAT_005b9254 = _memset(pvVar6,iVar12,sVar14);
    puStackY_20 = &DAT_00599064;
    uStackY_24 = 0x49170f;
    CopyDataWithLock();
    iVar12 = 0;
    if ((char)DAT_00599064 != '\0') {
      iVar15 = 0;
      do {
        puStackY_20 = (undefined4 *)&stack0xffffffe8;
        puVar1 = (undefined4 *)((int)DAT_005b9254 + iVar15);
        uStackY_24 = 0x49173f;
        CopyDataWithLock();
        cVar11 = '\x01';
        uStackY_24 = 0x49174d;
        puStackY_20 = puVar1;
        CopyDataWithLock();
        iVar9 = 0;
        if (cVar11 != '\0') {
          do {
            puStackY_20 = (undefined4 *)&stack0xfffffff0;
            uStackY_24 = 0x49176b;
            CopyDataWithLock();
            puStackY_20 = (undefined4 *)&stack0xffffffec;
            uStackY_24 = 0x49177c;
            sVar14 = uVar5;
            CopyDataWithLock();
            if (*(int *)((int)puVar1 + (unaff_EDI & 0xff) * 4 + 1) == 0) {
              sVar14 = (sVar14 & 0xff) * (uint)*(byte *)puVar1 * 2 + 1;
              iVar13 = 0;
              puStackY_20 = (undefined4 *)0x4917af;
              pvVar6 = (void *)AllocateMemoryWithCallback();
              puStackY_20 = (undefined4 *)0x4917b8;
              pvVar6 = _memset(pvVar6,iVar13,sVar14);
              *(void **)((int)puVar1 + (unaff_EDI & 0xff) * 4 + 1) = pvVar6;
              **(undefined **)((int)puVar1 + (unaff_EDI & 0xff) * 4 + 1) = (char)sVar14;
            }
            uVar8 = (sVar14 & 0xff) * (uint)*(byte *)puVar1;
            puStackY_20 = (undefined4 *)(*(int *)((int)puVar1 + (unaff_EDI & 0xff) * 4 + 1) + 1);
            uStackY_24 = 0x491801;
            CopyDataWithLock();
            iVar9 = iVar9 + 1;
          } while (iVar9 < (int)(uVar8 & 0xff));
        }
        iVar12 = iVar12 + 1;
        iVar15 = iVar15 + 0x401;
      } while (iVar12 < (int)(DAT_00599064 & 0xff));
    }
    FUN_004adcf0();
    iVar12 = 0;
    if ((char)DAT_00599064 != '\0') {
      iVar15 = 0;
      do {
        iVar9 = 0x100;
        pbVar2 = (byte *)((int)DAT_005b9254 + iVar15);
        ppbVar10 = (byte **)(pbVar2 + 1);
        do {
          pbVar4 = *ppbVar10;
          if (pbVar4 != (byte *)0x0) {
            puVar7 = (ushort *)(pbVar4 + 1);
            for (iVar13 = (uint)*pbVar2 * (uint)*pbVar4; iVar13 != 0; iVar13 = iVar13 + -1) {
              uVar3 = *puVar7;
              if (uVar3 == 0) {
                *puVar7 = *(ushort *)(DAT_005e5010 + 0x21b4);
              }
              else if (*(int *)(DAT_005e5010 + 0x2194) != 0) {
                *puVar7 = uVar3 >> 1 & 0x7fe0 | uVar3 & 0x1f;
              }
              puVar7 = puVar7 + 1;
            }
          }
          ppbVar10 = ppbVar10 + 1;
          iVar9 = iVar9 + -1;
        } while (iVar9 != 0);
        iVar12 = iVar12 + 1;
        iVar15 = iVar15 + 0x401;
      } while (iVar12 < (int)(DAT_00599064 & 0xff));
    }
  }
  return;
}



void FUN_00491910(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  iVar1 = 0;
  iVar4 = 0;
  if ((char)DAT_00599064 != '\0') {
    do {
      iVar3 = 0x100;
      piVar2 = (int *)(DAT_005b9254 + 1 + iVar1);
      do {
        if (*piVar2 != 0) {
          FreeMemory(*piVar2);
          *piVar2 = 0;
        }
        piVar2 = piVar2 + 1;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
      iVar4 = iVar4 + 1;
      iVar1 = iVar1 + 0x401;
    } while (iVar4 < (int)(DAT_00599064 & 0xff));
  }
  if (DAT_005b9254 != 0) {
    FreeMemory(DAT_005b9254);
    DAT_005b9254 = 0;
  }
  return;
}



undefined2 *
FUN_004919a0(uint param_1,uint param_2,int param_3,uint param_4,uint param_5,int *param_6,
            uint *param_7)

{
  byte bVar1;
  int iVar2;
  ushort *puVar3;
  uint uVar4;
  size_t _Size;
  void *_Dst;
  undefined2 *puVar5;
  undefined2 *puVar6;
  int iVar7;
  byte *pbVar8;
  uint uVar9;
  int iVar10;
  bool bVar11;
  int iVar12;
  
  AdjustStackForLargeAllocations();
  pbVar8 = (byte *)(DAT_005b9254 + (param_2 & 0xff) * 0x401);
  if (param_3 == 0) {
    param_3 = -1;
  }
  puVar3 = (ushort *)FUN_00491bb0(param_2,param_1,param_3,param_5);
  if (*puVar3 < 2) {
    uVar4 = (uint)*pbVar8;
  }
  else {
    uVar4 = ((param_4 & 0xff) + (uint)*pbVar8) * (uint)*puVar3;
  }
  *param_7 = uVar4;
  iVar12 = *(int *)(puVar3 + 1);
  *param_6 = iVar12;
  _Size = *param_7 * iVar12 * 2;
  iVar12 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(_Size);
  puVar5 = (undefined2 *)_memset(_Dst,iVar12,_Size);
  uVar4 = 0;
  puVar6 = puVar5;
  if (*param_7 * *param_6 != 0) {
    do {
      uVar4 = uVar4 + 1;
      *puVar6 = *(undefined2 *)(DAT_005e5010 + 0x21b4);
      puVar6 = puVar6 + 1;
    } while (uVar4 < *param_7 * *param_6);
  }
  iVar12 = *(int *)(puVar3 + 3);
  bVar11 = *puVar3 == 0;
  param_1 = 0;
  if (!bVar11) {
    do {
      iVar7 = 0;
      uVar4 = (uint)*pbVar8;
      iVar10 = (param_4 & 0xff) + uVar4;
      param_7 = (uint *)0x0;
      iVar2 = *(int *)(puVar3 + 1);
      if (*(int *)(iVar12 + 4) != 0) {
        do {
          uVar9 = 0;
          bVar1 = *(byte *)((int)param_7 + *(int *)(iVar12 + 8));
          if (uVar4 != 0) {
            do {
              uVar4 = (uint)**(byte **)(pbVar8 + (uint)bVar1 * 4 + 1);
              FUN_004ad7a0(iVar10 * param_1 * iVar2 * 2 + uVar9 * *(int *)(puVar3 + 1) * 2 + iVar7 +
                           (int)puVar5,
                           *(byte **)(pbVar8 + (uint)bVar1 * 4 + 1) + uVar9 * uVar4 * 2 + 1,
                           uVar4 * 2);
              uVar9 = uVar9 + 1;
              uVar4 = (uint)*pbVar8;
            } while (uVar9 < uVar4);
          }
          param_7 = (uint *)((int)param_7 + 1);
          iVar7 = iVar7 + ((uint)**(byte **)(pbVar8 + (uint)bVar1 * 4 + 1) + (param_5 & 0xff)) * 2;
        } while (param_7 < *(uint *)(iVar12 + 4));
      }
      iVar12 = *(int *)(iVar12 + 0xc);
      param_1 = param_1 + 1;
    } while (param_1 < *puVar3);
    bVar11 = *puVar3 == 0;
  }
  if (!bVar11) {
    do {
      iVar12 = *(int *)(puVar3 + 3);
      *(undefined4 *)(puVar3 + 3) = *(undefined4 *)(iVar12 + 0xc);
      if (iVar12 != 0) {
        FreeMemory(iVar12);
      }
      *puVar3 = *puVar3 - 1;
    } while (*puVar3 != 0);
  }
  if (puVar3 != (ushort *)0x0) {
    FreeMemory(puVar3);
  }
  return puVar5;
}



short * FUN_00491bb0(uint param_1,byte *param_2,uint param_3,uint param_4)

{
  byte *pbVar1;
  byte bVar2;
  void *pvVar3;
  short *psVar4;
  uint *puVar5;
  byte *pbVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  size_t sVar12;
  
  AdjustStackForLargeAllocations();
  iVar8 = DAT_005b9254 + (param_1 & 0xff) * 0x401;
  sVar12 = 0xe;
  iVar11 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0xe);
  psVar4 = (short *)_memset(pvVar3,iVar11,sVar12);
  pbVar6 = param_2;
  if (*param_2 != 0) {
    do {
      if ((*pbVar6 != 0xd) && (*(int *)(iVar8 + 1 + (uint)*pbVar6 * 4) == 0)) {
        *pbVar6 = 0x20;
      }
      pbVar1 = pbVar6 + 1;
      pbVar6 = pbVar6 + 1;
    } while (*pbVar1 != 0);
    if (*param_2 != 0) {
      do {
        uVar10 = 0;
        uVar9 = 0;
        bVar2 = *param_2;
        while ((bVar2 != 0 && (bVar2 != 0xd))) {
          uVar7 = (uint)**(byte **)(iVar8 + 1 + (uint)bVar2 * 4);
          if (param_3 < uVar10 + (param_4 & 0xff) + uVar7) break;
          param_2 = param_2 + 1;
          uVar10 = uVar10 + uVar7 + (param_4 & 0xff);
          uVar9 = uVar9 + 1;
          bVar2 = *param_2;
        }
        bVar2 = *param_2;
        if (bVar2 == 0) {
          sVar12 = 0x10;
          iVar11 = 0;
          pvVar3 = (void *)AllocateMemoryWithCallback(0x10);
          puVar5 = (uint *)_memset(pvVar3,iVar11,sVar12);
          *puVar5 = uVar10;
          puVar5[1] = uVar9;
          puVar5[2] = (int)param_2 - uVar9;
          if (*(uint *)(psVar4 + 1) <= uVar10 && uVar10 != *(uint *)(psVar4 + 1)) {
            *(uint *)(psVar4 + 1) = uVar10;
          }
          if (*psVar4 == 0) {
            *psVar4 = *psVar4 + 1;
            *(uint **)(psVar4 + 5) = puVar5;
            *(uint **)(psVar4 + 3) = puVar5;
          }
          else {
            *(uint **)(*(int *)(psVar4 + 5) + 0xc) = puVar5;
            *psVar4 = *psVar4 + 1;
            *(uint **)(psVar4 + 5) = puVar5;
          }
        }
        else {
          while ((bVar2 != 0x20 && (bVar2 != 0xd))) {
            if (uVar9 == 0) {
              return (short *)0x0;
            }
            pbVar6 = param_2 + -1;
            uVar10 = (uVar10 - **(byte **)(iVar8 + 1 + (uint)bVar2 * 4)) - (param_4 & 0xff);
            uVar9 = uVar9 - 1;
            param_2 = param_2 + -1;
            bVar2 = *pbVar6;
          }
          if (uVar9 == 0) {
            return (short *)0x0;
          }
          sVar12 = 0x10;
          iVar11 = 0;
          pvVar3 = (void *)AllocateMemoryWithCallback(0x10);
          puVar5 = (uint *)_memset(pvVar3,iVar11,sVar12);
          *puVar5 = uVar10;
          puVar5[1] = uVar9;
          puVar5[2] = (int)param_2 - uVar9;
          if (*(uint *)(psVar4 + 1) < uVar10) {
            *(uint *)(psVar4 + 1) = uVar10;
          }
          if (*psVar4 == 0) {
            *(uint **)(psVar4 + 5) = puVar5;
            *(uint **)(psVar4 + 3) = puVar5;
          }
          else {
            *(uint **)(*(int *)(psVar4 + 5) + 0xc) = puVar5;
            *(uint **)(psVar4 + 5) = puVar5;
          }
          *psVar4 = *psVar4 + 1;
          param_2 = param_2 + 1;
        }
        if (*param_2 == 0) {
          return psVar4;
        }
      } while( true );
    }
  }
  return psVar4;
}



void FUN_00491d80(HDC param_1)

{
  byte bVar1;
  char cVar2;
  short sVar3;
  int *piVar4;
  int iVar5;
  HGDIOBJ h;
  HGDIOBJ h_00;
  uint unaff_ESI;
  uint uVar6;
  undefined4 unaff_EDI;
  uint uVar7;
  undefined4 local_8c;
  undefined4 local_88;
  int local_7c;
  undefined4 uStackY_54;
  LPRECT lprc;
  UINT format;
  
  AdjustStackForLargeAllocations();
  bVar1 = *(byte *)((int)&param_1->unused + 3);
  *(undefined4 *)((int)&param_1[0xd].unused + 1) = *(undefined4 *)((int)&param_1[4].unused + 2);
  if (bVar1 < 2) {
    iVar5 = FUN_004919a0();
    if ((iVar5 != 0) && (piVar4 = (int *)FUN_00492070(), piVar4 != (int *)0x0)) {
      _memset(&local_8c,0,0x6c);
      local_8c = 0x6c;
      local_88 = 0xff9ee;
      (**(code **)(*piVar4 + 0x58))();
      _memset(&local_8c,0,0x6c);
      local_8c = 0x6c;
      (**(code **)(*piVar4 + 100))();
      uVar7 = 0;
      if (unaff_ESI != 0) {
        do {
          FUN_004ad7a0();
          uVar7 = uVar7 + 1;
        } while (uVar7 < unaff_ESI);
      }
      (**(code **)(*piVar4 + 0x80))();
      FreeMemory();
      cVar2 = *(char *)((int)&param_1[5].unused + 2);
      *(undefined4 *)((int)&param_1[0xb].unused + 1) = unaff_EDI;
      *(uint *)((int)&param_1[0xc].unused + 1) = unaff_ESI;
      *(int **)((int)&param_1[0xe].unused + 1) = piVar4;
      if (cVar2 == '\r') {
        *(short *)((int)&param_1[9].unused + 1) = *(short *)((int)&param_1[8].unused + 1) + -0x14;
      }
    }
  }
  else {
    piVar4 = (int *)FUN_00492070();
    _memset(&local_8c,0,0x6c);
    local_8c = 0x6c;
    local_88 = 0xff9ee;
    (**(code **)(*piVar4 + 0x58))();
    _memset(&local_8c,0,0x6c);
    local_8c = 0x6c;
    (**(code **)(*piVar4 + 100))();
    uVar7 = 0;
    iVar5 = local_7c;
    if (*(int *)((int)&param_1[2].unused + 2) != 0) {
      do {
        uVar6 = 0;
        if (iVar5 >> 1 != 0) {
          do {
            FUN_004ad7a0();
            uVar6 = uVar6 + 1;
            iVar5 = local_7c;
          } while (uVar6 < (uint)(local_7c >> 1));
        }
        uVar7 = uVar7 + 1;
      } while (uVar7 < *(uint *)((int)&param_1[2].unused + 2));
    }
    (**(code **)(*piVar4 + 0x80))();
    iVar5 = (**(code **)(*piVar4 + 0x44))();
    if (iVar5 == 0) {
      h = (HGDIOBJ)FUN_00491610();
      h_00 = SelectObject(param_1,h);
      SetBkColor(param_1,(-(uint)(DAT_005e72d0 != 0) & 0xff000000) + 0xff00ff);
      SetTextColor(param_1,0xff00);
      format = *(UINT *)((int)&param_1[3].unused + 2);
      lprc = (LPRECT)&stack0xffffffe0;
      iVar5 = lstrlenA(*(LPCSTR *)((int)&param_1[0xd].unused + 1));
      uStackY_54 = 0x491f04;
      DrawTextA(param_1,*(LPCSTR *)((int)&param_1[0xd].unused + 1),iVar5,lprc,format);
      SelectObject(param_1,h_00);
      (**(code **)(*piVar4 + 0x68))();
      DeleteObject(h);
    }
    cVar2 = *(char *)((int)&param_1[5].unused + 2);
    *(int **)((int)&param_1[0xe].unused + 1) = piVar4;
    if (cVar2 == '\r') {
      sVar3 = *(short *)((int)&param_1[8].unused + 1);
      *(undefined *)((int)&param_1->unused + 2) = 3;
      *(short *)((int)&param_1[9].unused + 1) = sVar3 + -0x14;
      return;
    }
  }
  *(undefined *)((int)&param_1->unused + 2) = 3;
  return;
}



uint FUN_00492070(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_14;
  int *piVar2;
  undefined *puVar3;
  
  AdjustStackForLargeAllocations();
  local_14 = 0x49208a;
  _memset(&local_7c,0,0x6c);
  local_70 = param_1;
  piVar2 = (int *)&stack0xfffffff8;
  local_7c = 0x6c;
  local_78 = 7;
  local_14 = 0x1800;
  local_74 = param_2;
  iVar1 = FUN_00413f70();
  if (iVar1 != 0) {
    return 0;
  }
  puVar3 = &stack0xfffffff0;
  local_14 = 0x4920ee;
  iVar1 = (**(code **)(*piVar2 + 0x74))();
  return ~-(uint)(iVar1 != 0) & (uint)puVar3;
}



void FUN_00492100(short param_1,LPCSTR param_2,undefined param_3,undefined4 param_4,
                 undefined param_5,undefined param_6,short *param_7,undefined4 param_8,
                 undefined4 param_9)

{
  char cVar1;
  bool bVar2;
  int iVar3;
  size_t _Size;
  void *pvVar4;
  bool bVar5;
  short *psVar6;
  int _Val;
  
  AdjustStackForLargeAllocations();
  bVar2 = false;
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  if (param_1 != 0) {
    bVar5 = false;
    bVar2 = false;
    psVar6 = *(short **)((int)DAT_00599020 + 6);
    do {
      if (psVar6 == (short *)0x0) break;
      if (*psVar6 == param_1) {
        cVar1 = *(char *)(psVar6 + 1);
        if (cVar1 != '\x01') {
          if (cVar1 == '\x02') {
            *psVar6 = 0;
          }
          else if (cVar1 == '\x03') {
            *psVar6 = 0;
            *(undefined *)(psVar6 + 1) = 2;
          }
          goto LAB_00492163;
        }
        bVar5 = true;
        bVar2 = bVar5;
      }
      else {
LAB_00492163:
        psVar6 = *(short **)((int)psVar6 + 0x3d);
      }
    } while (!bVar5);
    if ((bVar5) && (param_7 = psVar6, *(int *)(psVar6 + 9) != 0)) {
      FreeMemory(*(int *)(psVar6 + 9));
      *(undefined4 *)(psVar6 + 9) = 0;
    }
  }
  *(undefined *)((int)param_7 + 3) = param_3;
  *(undefined4 *)(param_7 + 2) = param_4;
  *(undefined *)(param_7 + 4) = param_5;
  *param_7 = param_1;
  *(undefined *)(param_7 + 1) = 1;
  *(undefined *)((int)param_7 + 9) = param_6;
  *(undefined4 *)(param_7 + 5) = param_8;
  *(undefined4 *)(param_7 + 7) = param_9;
  iVar3 = lstrlenA(param_2);
  _Size = iVar3 + 1;
  _Val = 0;
  iVar3 = lstrlenA(param_2);
  pvVar4 = (void *)AllocateMemoryWithCallback(iVar3 + 1);
  pvVar4 = _memset(pvVar4,_Val,_Size);
  *(void **)(param_7 + 9) = pvVar4;
  iVar3 = lstrlenA(param_2);
  FUN_004ad7a0(*(undefined4 *)(param_7 + 9),param_2,iVar3 + 1);
  ReleaseMutex(*DAT_00599020);
  if (!bVar2) {
    FUN_004922a0(DAT_00599020,param_7);
  }
  return;
}



void FUN_00492230(void)

{
  void *_Dst;
  HANDLE pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0xe;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0xe);
  DAT_00599020 = (HANDLE *)_memset(_Dst,_Val,_Size);
  pvVar1 = CreateMutexA((LPSECURITY_ATTRIBUTES)0x0,0,(LPCSTR)0x0);
  *DAT_00599020 = pvVar1;
  FUN_00492d70();
  return;
}



void FUN_00492270(void)

{
  FUN_00492780();
  if (DAT_00599020 != 0) {
    FreeMemory(DAT_00599020);
    DAT_00599020 = 0;
  }
  return;
}



void FUN_004922a0(int param_1,undefined4 param_2)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x45;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x45);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  FUN_004ad7a0(pvVar1,param_2,0x3d);
  if (*(short *)(param_1 + 4) == 0) {
    *(short *)(param_1 + 4) = *(short *)(param_1 + 4) + 1;
    *(void **)(param_1 + 10) = pvVar1;
    *(void **)(param_1 + 6) = pvVar1;
    return;
  }
  *(undefined4 *)((int)pvVar1 + 0x41) = *(undefined4 *)(param_1 + 10);
  *(void **)(*(int *)(param_1 + 10) + 0x3d) = pvVar1;
  *(short *)(param_1 + 4) = *(short *)(param_1 + 4) + 1;
  *(void **)(param_1 + 10) = pvVar1;
  return;
}



void FUN_00492300(void)

{
  int iVar1;
  byte bVar2;
  
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  iVar1 = *(int *)((int)DAT_00599020 + 6);
  do {
    if (iVar1 == 0) {
      ReleaseMutex(*DAT_00599020);
      return;
    }
    if (*(char *)(iVar1 + 2) == '\x03') {
      switch(*(undefined *)(iVar1 + 0x16)) {
      case 2:
        if (*(byte *)(iVar1 + 0x18) <= *(byte *)(iVar1 + 0x19)) {
          *(byte *)(iVar1 + 0x18) = *(byte *)(iVar1 + 0x18) + 1;
        }
        break;
      case 3:
      case 0xd:
        bVar2 = *(byte *)(iVar1 + 0x18);
        if (bVar2 == *(byte *)(iVar1 + 0x19)) {
          if ((uint)*(ushort *)(iVar1 + 0x25) + (uint)*(byte *)(iVar1 + 0x1a) <
              (uint)*(ushort *)(iVar1 + 0x21) + *(int *)(iVar1 + 0x2d)) {
            *(short *)(iVar1 + 0x25) = *(short *)(iVar1 + 0x25) + (ushort)*(byte *)(iVar1 + 0x1a);
          }
          else {
            *(undefined2 *)(iVar1 + 0x25) = 0;
          }
          goto LAB_00492387;
        }
LAB_004923ad:
        *(byte *)(iVar1 + 0x18) = bVar2 + 1;
        break;
      case 8:
        bVar2 = *(byte *)(iVar1 + 0x18);
        if (bVar2 <= *(byte *)(iVar1 + 0x19)) goto LAB_004923ad;
LAB_00492387:
        *(undefined *)(iVar1 + 0x18) = 0;
      }
    }
    iVar1 = *(int *)(iVar1 + 0x3d);
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004923e0(void)

{
  char cVar1;
  int iVar2;
  
  AdjustStackForLargeAllocations();
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  iVar2 = *(int *)((int)DAT_00599020 + 6);
  while (iVar2 != 0) {
    if (*(char *)(iVar2 + 2) == '\x01') {
      FUN_00491d80(iVar2);
    }
    else if (*(char *)(iVar2 + 2) == '\x02') {
      iVar2 = *(int *)(iVar2 + 0x3d);
      FUN_00492550(&stack0xfffffff8);
    }
    else {
      iVar2 = *(int *)(iVar2 + 0x3d);
    }
  }
  for (iVar2 = *(int *)((int)DAT_00599020 + 6); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x3d)) {
    switch(*(undefined *)(iVar2 + 0x16)) {
    case 1:
    case 3:
    case 10:
    case 0xd:
switchD_0049245c_caseD_1:
      FUN_00492840(iVar2);
      break;
    case 2:
      FUN_00492840(iVar2);
      if (*(byte *)(iVar2 + 0x19) <= *(byte *)(iVar2 + 0x18)) {
        iVar2 = *(int *)(iVar2 + 0x3d);
        FUN_00492630(&stack0xfffffff8);
      }
      break;
    case 7:
    case 9:
      goto switchD_0049245c_caseD_7;
    case 8:
      if (*(char *)(iVar2 + 0x18) == *(char *)(iVar2 + 0x19)) goto switchD_0049245c_caseD_1;
      break;
    case 0xb:
      cVar1 = *(char *)(iVar2 + 0x18);
      if (cVar1 == '\x06') {
        *(undefined *)(iVar2 + 0x18) = 0;
        FUN_00492840(iVar2);
      }
      else {
LAB_004924e6:
        *(char *)(iVar2 + 0x18) = cVar1 + '\x01';
      }
      break;
    case 0xc:
      cVar1 = *(char *)(iVar2 + 0x18);
      if (cVar1 != '\x06') goto LAB_004924e6;
      *(undefined *)(iVar2 + 0x18) = 0;
      FUN_00492ba0(iVar2);
      break;
    case 0xf:
      cVar1 = *(char *)(iVar2 + 0x18);
      if (cVar1 != '\x01') goto LAB_004924e6;
      *(undefined *)(iVar2 + 0x18) = 0;
    case 0xe:
      if (_DAT_00599068 != 0) {
switchD_0049245c_caseD_7:
        FUN_00492ba0(iVar2);
      }
    }
    if (iVar2 == 0) break;
  }
  ReleaseMutex(*DAT_00599020);
  return;
}



void FUN_00492550(int *param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = *param_1;
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  if (*(short *)(DAT_00599020 + 1) != 0) {
    if (*(short *)(DAT_00599020 + 1) == 1) {
      *(undefined4 *)((int)DAT_00599020 + 10) = 0;
      *(undefined4 *)((int)DAT_00599020 + 6) = 0;
    }
    else if (iVar2 == *(int *)((int)DAT_00599020 + 6)) {
      *(undefined4 *)((int)DAT_00599020 + 6) = *(undefined4 *)(iVar2 + 0x3d);
      *(undefined4 *)(*(int *)((int)DAT_00599020 + 6) + 0x41) = 0;
    }
    else if (iVar2 == *(int *)((int)DAT_00599020 + 10)) {
      *(int *)((int)DAT_00599020 + 10) = *(int *)(iVar2 + 0x41);
      *(undefined4 *)(*(int *)((int)DAT_00599020 + 10) + 0x3d) = 0;
    }
    else {
      *(undefined4 *)(*(int *)(iVar2 + 0x41) + 0x3d) = *(undefined4 *)(iVar2 + 0x3d);
      *(undefined4 *)(*(int *)(iVar2 + 0x3d) + 0x41) = *(undefined4 *)(iVar2 + 0x41);
    }
    piVar1 = (int *)(iVar2 + 0x39);
    *(short *)(DAT_00599020 + 1) = *(short *)(DAT_00599020 + 1) + -1;
    if (*piVar1 != 0) {
      FUN_00413eb0(piVar1);
      *piVar1 = 0;
    }
    if (*(int *)(iVar2 + 0x35) != 0) {
      FreeMemory(*(int *)(iVar2 + 0x35));
      *(undefined4 *)(iVar2 + 0x35) = 0;
    }
    if (iVar2 != 0) {
      FreeMemory(iVar2);
    }
  }
  *param_1 = 0;
  ReleaseMutex(*DAT_00599020);
  return;
}



void FUN_00492630(int *param_1)

{
  int iVar1;
  
  iVar1 = *param_1;
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  *(undefined *)(iVar1 + 2) = 2;
  ReleaseMutex(*DAT_00599020);
  return;
}



void FUN_00492660(short param_1,undefined param_2)

{
  short *psVar1;
  ushort uVar2;
  HANDLE *ppvVar3;
  
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  uVar2 = 0;
  psVar1 = *(short **)((int)DAT_00599020 + 6);
  ppvVar3 = DAT_00599020;
  if (*(short *)(DAT_00599020 + 1) != 0) {
    do {
      if (*psVar1 == param_1) {
        *(undefined *)(psVar1 + 0xb) = param_2;
        ppvVar3 = DAT_00599020;
      }
      psVar1 = *(short **)((int)psVar1 + 0x3d);
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(ushort *)(ppvVar3 + 1));
  }
  ReleaseMutex(*ppvVar3);
  return;
}



void FUN_004926c0(short param_1,undefined2 param_2)

{
  short *psVar1;
  ushort uVar2;
  HANDLE *ppvVar3;
  
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  uVar2 = 0;
  psVar1 = *(short **)((int)DAT_00599020 + 6);
  ppvVar3 = DAT_00599020;
  if (*(short *)(DAT_00599020 + 1) != 0) {
    do {
      if (*psVar1 == param_1) {
        *(undefined2 *)((int)psVar1 + 0x1b) = param_2;
        ppvVar3 = DAT_00599020;
      }
      psVar1 = *(short **)((int)psVar1 + 0x3d);
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(ushort *)(ppvVar3 + 1));
  }
  ReleaseMutex(*ppvVar3);
  return;
}



void FUN_00492720(short param_1)

{
  short *psVar1;
  ushort uVar2;
  
  WaitForSingleObject(*DAT_00599020,0xffffffff);
  uVar2 = 0;
  psVar1 = *(short **)((int)DAT_00599020 + 6);
  if (*(ushort *)(DAT_00599020 + 1) != 0) {
    while (*psVar1 != param_1) {
      psVar1 = *(short **)((int)psVar1 + 0x3d);
      uVar2 = uVar2 + 1;
      if (*(ushort *)(DAT_00599020 + 1) <= uVar2) {
        ReleaseMutex(*DAT_00599020);
        return;
      }
    }
    *(undefined *)(psVar1 + 1) = 2;
  }
  ReleaseMutex(*DAT_00599020);
  return;
}



void FUN_00492780(void)

{
  int iVar1;
  
  AdjustStackForLargeAllocations();
  if (DAT_00599020 != (HANDLE *)0x0) {
    WaitForSingleObject(*DAT_00599020,0xffffffff);
    iVar1 = *(int *)((int)DAT_00599020 + 6);
    while (iVar1 != 0) {
      iVar1 = *(int *)(iVar1 + 0x3d);
      FUN_00492630(&stack0xfffffff8);
    }
    ReleaseMutex(*DAT_00599020);
    FUN_004923e0();
  }
  return;
}



void FUN_004927e0(void)

{
  int iVar1;
  
  AdjustStackForLargeAllocations();
  if (DAT_00599020 != (HANDLE *)0x0) {
    WaitForSingleObject(*DAT_00599020,0xffffffff);
    iVar1 = *(int *)((int)DAT_00599020 + 6);
    while (iVar1 != 0) {
      iVar1 = *(int *)(iVar1 + 0x3d);
      FUN_00492630(&stack0xfffffff8);
    }
    ReleaseMutex(*DAT_00599020);
    FUN_004923e0();
  }
  return;
}



undefined4 FUN_00492840(int param_1)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  undefined4 uVar4;
  int unaff_EBX;
  uint unaff_ESI;
  undefined4 *unaff_EDI;
  undefined4 local_94;
  undefined4 local_90;
  undefined2 local_8c;
  undefined2 local_88;
  undefined4 uStackY_2c;
  int *local_28;
  undefined4 ******local_24;
  int *local_20;
  undefined4 *_Dst;
  int *piVar5;
  int *piVar6;
  undefined4 *puVar7;
  
  AdjustStackForLargeAllocations();
  piVar6 = *(int **)(param_1 + 0x39);
  local_20 = (int *)0x492866;
  local_28 = piVar6;
  _memset(&stack0xffffffec,0,0x10);
  local_20 = (int *)0x492876;
  _memset(&local_24,0,0x10);
  if (piVar6 == (int *)0x0) {
    return 0;
  }
  puVar7 = (undefined4 *)0x6c;
  _Dst = &local_94;
  piVar5 = (int *)0x0;
  local_20 = (int *)0x492891;
  _memset(_Dst,0,0x6c);
  if ((*(short *)(param_1 + 0x2b) == 0) || (*(short *)(param_1 + 0x29) == 0)) {
    puVar7 = &local_94;
    local_94 = 0x6c;
    local_90 = 0xff9ee;
    _Dst = (undefined4 *)0x4928c4;
    piVar5 = piVar6;
    (**(code **)(*piVar6 + 0x58))();
    *(undefined2 *)(param_1 + 0x2b) = local_8c;
    *(undefined2 *)(param_1 + 0x29) = local_88;
  }
  if ((*(short *)(param_1 + 0x23) == 0) || (*(short *)(param_1 + 0x21) == 0)) {
    puVar7 = &local_94;
    local_94 = 0x6c;
    local_90 = 0xff9ee;
    _Dst = (undefined4 *)0x492905;
    (**(code **)(*piVar6 + 0x58))();
    *(undefined2 *)(param_1 + 0x23) = local_8c;
    *(undefined2 *)(param_1 + 0x21) = local_88;
    piVar5 = piVar6;
  }
  switch(*(undefined *)(param_1 + 0x16)) {
  case 3:
  case 0xd:
    uVar1 = *(ushort *)(param_1 + 0x25);
    uVar2 = *(ushort *)(param_1 + 0x21);
    if (uVar2 < uVar1) {
      unaff_ESI = (uint)uVar1;
      puVar7 = (undefined4 *)(unaff_ESI - uVar2);
      if (*(ushort *)(param_1 + 0x29) < uVar1) {
        local_24 = (undefined4 ******)(uint)*(ushort *)(param_1 + 0x1d);
        unaff_ESI = (uint)*(ushort *)(param_1 + 0x29);
      }
      else {
        local_24 = (undefined4 ******)(uint)*(ushort *)(param_1 + 0x1d);
      }
    }
    else {
      puVar7 = (undefined4 *)0x0;
      uVar3 = *(ushort *)(param_1 + 0x29);
      if (uVar1 <= *(ushort *)(param_1 + 0x29)) {
        uVar3 = uVar1;
      }
      unaff_ESI = (uint)uVar3;
      if (unaff_ESI == 0) break;
      local_24 = (undefined4 ******)
                 (((uint)*(ushort *)(param_1 + 0x1d) - (uint)uVar1) + (uint)uVar2);
    }
    unaff_EDI = (undefined4 *)(uint)*(ushort *)(param_1 + 0x27);
    local_20 = (int *)(uint)*(ushort *)(param_1 + 0x1f);
    unaff_EBX = (int)unaff_EDI + (uint)*(ushort *)(param_1 + 0x2b);
    piVar5 = (int *)((unaff_EBX - (int)unaff_EDI) + (int)local_20);
    _Dst = (undefined4 *)((int)local_24 + (unaff_ESI - (int)puVar7));
    break;
  case 4:
  case 5:
  case 6:
    break;
  default:
    unaff_EDI = (undefined4 *)(uint)*(ushort *)(param_1 + 0x27);
    unaff_EBX = (int)unaff_EDI + (uint)*(ushort *)(param_1 + 0x2b);
    unaff_ESI = (int)unaff_EDI + (uint)*(ushort *)(param_1 + 0x29);
    local_24 = (undefined4 ******)(uint)*(ushort *)(param_1 + 0x1d);
    local_20 = (int *)(uint)*(ushort *)(param_1 + 0x1f);
    piVar5 = (int *)((unaff_EBX - (int)unaff_EDI) + (int)local_20);
    _Dst = (undefined4 *)((unaff_ESI - (int)unaff_EDI) + (int)local_24);
    puVar7 = unaff_EDI;
  }
  if (((((((-1 < (int)puVar7) && (-1 < (int)unaff_EDI)) &&
         ((int)unaff_ESI <= (int)(uint)*(ushort *)(param_1 + 0x29))) &&
        (((int)unaff_EDI <= (int)(uint)*(ushort *)(param_1 + 0x2b) && ((int)unaff_EDI < unaff_EBX)))
        ) && (((int)puVar7 < (int)unaff_ESI && ((-1 < (int)local_20 || (0 < (int)piVar5)))))) &&
      ((piVar6 = *(int **)(DAT_005e5010 + 0x253c), (int)local_20 < (int)piVar6 ||
       ((int)piVar5 <= (int)piVar6)))) &&
     (((-1 < (int)local_24 || (0 < (int)_Dst)) &&
      (((int)local_24 < *(int *)(DAT_005e5010 + 0x2538) ||
       ((int)_Dst <= *(int *)(DAT_005e5010 + 0x2538))))))) {
    if ((int)piVar6 < (int)piVar5) {
      piVar5 = piVar6;
    }
    if ((int)*(undefined4 **)(DAT_005e5010 + 0x2538) < (int)_Dst) {
      _Dst = *(undefined4 **)(DAT_005e5010 + 0x2538);
    }
    if (((int)piVar5 <= *(int *)(DAT_005e5010 + 0x253c)) &&
       ((int)_Dst <= *(int *)(DAT_005e5010 + 0x2538))) {
      local_24 = &local_24;
      local_20 = local_28;
      uStackY_2c = 0x492b5f;
      local_28 = (int *)*(undefined4 *)(DAT_005e5010 + 0x7b0);
      uVar4 = FUN_00424d60();
      return uVar4;
    }
  }
  return 0;
}



void FUN_00492ba0(int param_1)

{
  ushort uVar1;
  byte *pbVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined *puVar6;
  uint local_30;
  undefined4 local_2c;
  undefined4 local_28;
  uint *local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  uint local_18;
  int local_14;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  uVar1 = *(ushort *)(param_1 + 0x1b);
  pbVar2 = (byte *)(DAT_005b9254 + (uint)*(byte *)(param_1 + 0x17) * 0x401);
  if (uVar1 < 1000) {
    if (uVar1 < 100) {
      if (uVar1 < 10) {
        iVar4 = 1;
      }
      else {
        iVar4 = 2;
      }
    }
    else {
      iVar4 = 3;
    }
  }
  else {
    iVar4 = 4;
  }
  uVar5 = (uint)*(ushort *)(param_1 + 0x1d);
  if (iVar4 != 0) {
    puVar6 = &stack0xfffffff8 + iVar4;
    uVar7 = uVar5;
    do {
      local_30 = uVar5 & 0xffff;
      iVar3 = (uint)(byte)puVar6[-1] * 4;
      uVar5 = uVar7 + 2 + (uint)**(byte **)(pbVar2 + iVar3 + 0xc1);
      local_14 = *pbVar2 - 1;
      local_18 = (uint)**(byte **)(pbVar2 + iVar3 + 0xc1);
      local_1c = &local_20;
      local_24 = &local_30;
      local_20 = *(undefined4 *)(&DAT_005b9260)[(byte)puVar6[-1]];
      local_28 = *(undefined4 *)(DAT_005e5010 + 0x7b0);
      local_2c = 0x492d55;
      uVar7 = uVar5;
      FUN_00424d60();
      puVar6 = puVar6 + -1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  return;
}



void FUN_00492d70(void)

{
  int iVar1;
  int *piVar2;
  void *_Dst;
  int *piVar3;
  uint unaff_ESI;
  int unaff_EDI;
  uint uVar4;
  undefined4 local_84;
  undefined4 local_80;
  int local_74;
  int local_60;
  undefined4 uStackY_3c;
  int iStackY_38;
  int *piStackY_34;
  int iStackY_30;
  int *piStackY_2c;
  undefined4 uStackY_28;
  int **_Val;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  do {
    FUN_004ae5f0();
    _Val = (int **)&stack0xfffffff0;
    piStackY_2c = (int *)&stack0xfffffffa;
    uStackY_28 = 1;
    iStackY_30 = 0x492db9;
    iVar1 = FUN_004919a0();
    if (iVar1 != 0) {
      piVar2 = (int *)FUN_00492070();
      _memset(&local_84,0,0x6c);
      local_84 = 0x6c;
      local_80 = 0xff9ee;
      (**(code **)(*piVar2 + 0x58))();
      uStackY_28 = 0x492e0c;
      _memset(&local_84,0,0x6c);
      local_84 = 0x6c;
      uStackY_28 = 0;
      iStackY_30 = 0x492e22;
      piStackY_2c = piVar2;
      (**(code **)(*piVar2 + 100))();
      uVar4 = 0;
      if (unaff_ESI != 0) {
        do {
          iStackY_30 = unaff_EDI * 2;
          piStackY_34 = (int *)(iVar1 + uVar4 * unaff_EDI * 2);
          iStackY_38 = local_74 * uVar4 + local_60;
          uStackY_3c = 0x492e4c;
          FUN_004ad7a0();
          uVar4 = uVar4 + 1;
        } while (uVar4 < unaff_ESI);
      }
      iStackY_30 = 0;
      iStackY_38 = 0x492e62;
      piStackY_34 = piVar2;
      (**(code **)(*piVar2 + 0x80))();
      FreeMemory();
      _Size = 6;
      _Val = (int **)0x0;
      _Dst = (void *)AllocateMemoryWithCallback();
      piVar3 = (int *)_memset(_Dst,(int)_Val,_Size);
      *_Val = piVar3;
      *(char *)(piVar3 + 1) = (char)unaff_EDI;
      *(char *)((int)*_Val + 5) = (char)unaff_ESI;
      **_Val = (int)piVar2;
    }
  } while ((int)(_Val + 1) < 0x5b9288);
  return;
}



void FUN_00492ec0(undefined2 param_1,undefined2 param_2,undefined param_3,undefined2 param_4,
                 undefined2 param_5,int param_6)

{
  undefined2 local_44 [11];
  char local_2e;
  undefined local_2d;
  undefined2 local_29;
  undefined2 local_27;
  undefined2 local_25;
  undefined4 uStackY_14;
  
  AdjustStackForLargeAllocations();
  uStackY_14 = 0x492eda;
  _memset(local_44,0,0x3d);
  local_44[0] = param_1;
  local_2e = (-(param_6 != 1) & 0xfbU) + 0xe;
  local_27 = param_4;
  local_25 = param_5;
  local_2d = param_3;
  local_29 = param_2;
  FUN_004922a0();
  return;
}



void FUN_00492f30(uint param_1)

{
  size_t sVar1;
  ushort *puVar2;
  int *piVar3;
  int iVar4;
  void *pvVar5;
  uint uVar6;
  int unaff_EBX;
  uint uVar7;
  undefined4 local_78;
  undefined4 local_74;
  int local_68;
  int local_54;
  undefined4 uStackY_44;
  
  AdjustStackForLargeAllocations();
  uVar7 = param_1 & 0xff;
  sVar1 = _strlen(&DAT_005d7854 + uVar7 * 0x48);
  if (6 < sVar1) {
    (&DAT_005d785a)[uVar7 * 0x48] = 0;
  }
  puVar2 = (ushort *)FUN_004919a0();
  if (puVar2 != (ushort *)0x0) {
    uVar6 = 0;
    if (param_1 * unaff_EBX != 0) {
      do {
        if ((uint)*puVar2 == *(uint *)(DAT_005e5010 + 0x21b4)) {
          *puVar2 = 0;
        }
        uVar6 = uVar6 + 1;
        puVar2 = puVar2 + 1;
      } while (uVar6 < param_1 * unaff_EBX);
    }
    piVar3 = (int *)FUN_00492070();
    _memset(&local_78,0,0x6c);
    local_78 = 0x6c;
    local_74 = 0xff9ee;
    (**(code **)(*piVar3 + 0x58))();
    _memset(&local_78,0,0x6c);
    local_78 = 0x6c;
    (**(code **)(*piVar3 + 100))();
    uVar6 = 0;
    if (param_1 != 0) {
      do {
        uVar6 = uVar6 + 1;
        FUN_004ad7a0();
      } while (uVar6 < param_1);
    }
    uVar6 = 0;
    if (local_68 / 2 != 0) {
      do {
        *(undefined2 *)(local_54 + uVar6 * 2) = (&DAT_004d2cf0)[uVar7];
        *(undefined2 *)(local_54 + (local_68 / 2 + uVar6) * 2) =
             *(undefined2 *)(&DAT_004d2d00 + uVar7 * 2);
        *(undefined2 *)(local_54 + (uVar6 + (local_68 / 2) * 0xd) * 2) = (&DAT_004d2cf0)[uVar7];
        iVar4 = uVar6 + (local_68 / 2) * 0xc;
        uVar6 = uVar6 + 1;
        *(undefined2 *)(local_54 + iVar4 * 2) = *(undefined2 *)(&DAT_004d2d00 + uVar7 * 2);
      } while (uVar6 < (uint)(local_68 / 2));
    }
    uVar6 = 0;
    do {
      *(undefined2 *)(local_54 + (local_68 / 2) * uVar6 * 2) = (&DAT_004d2cf0)[uVar7];
      *(undefined2 *)(local_54 + 0x6a + (local_68 / 2) * uVar6 * 2) = (&DAT_004d2cf0)[uVar7];
      iVar4 = (local_68 / 2) * uVar6;
      uVar6 = uVar6 + 1;
      *(undefined2 *)(local_54 + 0x9e + iVar4 * 2) = (&DAT_004d2cf0)[uVar7];
    } while (uVar6 < 0xe);
    uVar6 = 1;
    do {
      *(undefined2 *)(local_54 + 0x68 + (local_68 / 2) * uVar6 * 2) =
           *(undefined2 *)(&DAT_004d2d00 + uVar7 * 2);
      iVar4 = (local_68 / 2) * uVar6;
      uVar6 = uVar6 + 1;
      *(undefined2 *)(local_54 + 0x9c + iVar4 * 2) = *(undefined2 *)(&DAT_004d2d00 + uVar7 * 2);
    } while (uVar6 < 0xd);
    (**(code **)(*piVar3 + 0x80))();
    FreeMemory();
    sVar1 = 6;
    iVar4 = 0;
    uStackY_44 = 0x493196;
    pvVar5 = (void *)AllocateMemoryWithCallback();
    uStackY_44 = 0x49319f;
    pvVar5 = _memset(pvVar5,iVar4,sVar1);
    *(void **)(&DAT_005b9288 + uVar7 * 4) = pvVar5;
    *(char *)((int)pvVar5 + 4) = (char)unaff_EBX;
    *(undefined *)(*(int *)(&DAT_005b9288 + uVar7 * 4) + 5) = (undefined)param_1;
    **(int ***)(&DAT_005b9288 + uVar7 * 4) = piVar3;
  }
  return;
}



void FUN_004931d0(byte param_1)

{
  ushort uVar1;
  undefined4 unaff_ESI;
  int iVar2;
  short local_44 [11];
  undefined local_2e;
  uint local_2c;
  undefined uStackY_28;
  short local_27;
  undefined local_25;
  undefined uStackY_24;
  undefined2 local_23;
  undefined local_21;
  undefined uStackY_20;
  undefined2 local_1f;
  undefined local_1d;
  
  AdjustStackForLargeAllocations();
  FUN_00492f30();
  uStackY_20 = 0xf9;
  local_1f = 0x4931;
  local_1d = 0;
  _memset(local_44,0,0x3d);
  uVar1 = (ushort)param_1;
  local_44[0] = uVar1 + 0x14;
  local_27 = uVar1 * 0x50;
  local_2e = 10;
  local_2c = local_2c & 0xff000000;
  local_25 = 0;
  uStackY_24 = 0;
  local_23 = 0x50;
  local_21 = 0xe;
  uStackY_20 = 0;
  local_1f = 0;
  local_1d = 0;
  FUN_004922a0();
  iVar2 = CONCAT22((short)((uint)unaff_ESI >> 0x10),uVar1) + 0x1e;
  uStackY_20 = 1;
  local_1f = 0;
  local_1d = 0;
  uStackY_24 = 0;
  local_23 = 0;
  local_21 = 0;
  uStackY_28 = (undefined)iVar2;
  local_27 = (short)((uint)iVar2 >> 8);
  local_25 = (undefined)((uint)iVar2 >> 0x18);
  local_2c = 0x493275;
  FUN_00492ec0();
  return;
}



void FUN_00493280(void)

{
  int *piVar1;
  
  piVar1 = &DAT_005b9260;
  do {
    if (*piVar1 != 0) {
      FreeMemory(*piVar1);
      *piVar1 = 0;
    }
    piVar1 = piVar1 + 1;
  } while ((int)piVar1 < 0x5b92a9);
  return;
}



int * FUN_004932c0(LPCSTR param_1,undefined4 param_2,HDC param_3,uint param_4,COLORREF param_5,
                  UINT param_6)

{
  int *piVar1;
  int iVar2;
  HGDIOBJ h;
  HGDIOBJ h_00;
  uint uVar3;
  uint uVar4;
  undefined4 local_84;
  undefined4 local_80;
  int local_74;
  undefined4 uStackY_54;
  LPRECT lprc;
  
  AdjustStackForLargeAllocations();
  uVar4 = 0;
  piVar1 = (int *)FUN_00492070();
  _memset(&local_84,0,0x6c);
  local_84 = 0x6c;
  local_80 = 0xff9ee;
  (**(code **)(*piVar1 + 0x58))();
  _memset(&local_84,0,0x6c);
  local_84 = 0x6c;
  (**(code **)(*piVar1 + 100))();
  iVar2 = local_74;
  if (param_4 != 0) {
    do {
      uVar3 = 0;
      if (iVar2 >> 1 != 0) {
        do {
          FUN_004ad7a0();
          uVar3 = uVar3 + 1;
          iVar2 = local_74;
        } while (uVar3 < (uint)(local_74 >> 1));
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < param_4);
  }
  (**(code **)(*piVar1 + 0x80))();
  iVar2 = (**(code **)(*piVar1 + 0x44))();
  if (iVar2 == 0) {
    h = (HGDIOBJ)FUN_00491610();
    h_00 = SelectObject(param_3,h);
    SetBkColor(param_3,(-(uint)(DAT_005e72d0 != 0) & 0xff000000) + 0xff00ff);
    SetTextColor(param_3,param_5);
    lprc = (LPRECT)&stack0xffffffe8;
    iVar2 = lstrlenA(param_1);
    uStackY_54 = 0x493417;
    DrawTextA(param_3,param_1,iVar2,lprc,param_6);
    SelectObject(param_3,h_00);
    (**(code **)(*piVar1 + 0x68))();
    DeleteObject(h);
  }
  return piVar1;
}



void FUN_00493450(void)

{
  void *_Dst;
  int _Val;
  size_t _Size;
  
  _Size = 6;
  _Val = 0;
  _Dst = (void *)AllocateMemoryWithCallback(6);
  DAT_00599070 = _memset(_Dst,_Val,_Size);
  return;
}



void FUN_00493470(void)

{
  int iVar1;
  ushort uVar2;
  
  if (DAT_00599070 != (ushort *)0x0) {
    uVar2 = 0;
    if (*DAT_00599070 != 0) {
      do {
        iVar1 = *(int *)(DAT_00599070 + 1);
        *(undefined4 *)(DAT_00599070 + 1) = *(undefined4 *)(iVar1 + 0x11);
        if (iVar1 != 0) {
          FreeMemory(iVar1);
        }
        uVar2 = uVar2 + 1;
      } while (uVar2 < *DAT_00599070);
    }
    if (DAT_00599070 != (ushort *)0x0) {
      FreeMemory(DAT_00599070);
      DAT_00599070 = (ushort *)0x0;
    }
  }
  return;
}



void FUN_004934c0(undefined2 param_1,undefined4 param_2)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x15;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x15);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  FUN_004ad7a0(pvVar1,param_2,0x15);
  *(undefined2 *)((int)pvVar1 + 1) = param_1;
  if (DAT_00599070 == (short *)0x0) {
    FUN_00493450();
  }
  if (*DAT_00599070 != 0) {
    *(undefined4 *)((int)pvVar1 + 0x11) = *(undefined4 *)(DAT_00599070 + 1);
  }
  *(void **)(DAT_00599070 + 1) = pvVar1;
  *DAT_00599070 = *DAT_00599070 + 1;
  return;
}



void FUN_00493530(void)

{
  byte bVar1;
  uint *puVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint unaff_ESI;
  undefined4 *puVar6;
  
  AdjustStackForLargeAllocations();
  iVar4 = *(int *)(DAT_00599070 + 1);
  if (*DAT_00599070 != 0) {
    do {
      if (*(char *)(iVar4 + 5) == '\0') {
        puVar2 = *(uint **)(*(int *)(*(int *)(DAT_00598d90 + 0x230) +
                                    (uint)*(ushort *)(iVar4 + 1) * 4) + 0x56);
        uVar3 = puVar2[0xf];
        *(undefined *)(iVar4 + 5) = *(undefined *)(iVar4 + 4);
        bVar1 = *(byte *)(iVar4 + 6);
        *(byte *)(iVar4 + 6) = bVar1 + 1;
        if ((byte)(bVar1 + 1) == *(char *)(iVar4 + 7)) {
          *(undefined *)(iVar4 + 6) = 0;
        }
        if ((*(byte *)(iVar4 + 3) & 0xc) == 0) {
          uVar5 = 0;
          if (*puVar2 != 0) {
            puVar6 = (undefined4 *)(uVar3 + 0x18);
            do {
              uVar5 = uVar5 + 1;
              *puVar6 = *(undefined4 *)
                         (*(int *)(*(int *)(iVar4 + 9) + (uint)bVar1 * 4) + -4 + uVar5 * 4);
              puVar6 = puVar6 + 8;
            } while (uVar5 < *puVar2);
          }
        }
        else {
          uVar5 = 0;
          if (*puVar2 != 0) {
            puVar6 = (undefined4 *)(uVar3 + 0x1c);
            do {
              uVar5 = uVar5 + 1;
              *puVar6 = *(undefined4 *)
                         (*(int *)(*(int *)(iVar4 + 9) + (uint)bVar1 * 4) + -4 + uVar5 * 4);
              puVar6 = puVar6 + 8;
            } while (uVar5 < *puVar2);
          }
        }
      }
      else {
        *(char *)(iVar4 + 5) = *(char *)(iVar4 + 5) + -1;
      }
      iVar4 = *(int *)(iVar4 + 0x11);
      unaff_ESI = unaff_ESI + 1;
    } while (unaff_ESI < *DAT_00599070);
  }
  return;
}



void FUN_00493630(undefined2 param_1,undefined4 *param_2,undefined4 *param_3,undefined4 *param_4)

{
  switch(param_1) {
  case 2:
    *param_2 = 0xbdcccccd;
    *param_4 = 0x40000000;
    *param_3 = 0x3e6b851f;
    return;
  default:
    *param_2 = 0x3f000000;
    *param_4 = 0x3f99999a;
    *param_3 = 0;
    return;
  case 0x27:
    *param_2 = 0;
    *param_4 = 0x3fcccccd;
    *param_3 = 0x3f266666;
    return;
  case 0x34:
    *param_2 = 0xbdcccccd;
    *param_4 = 0x3f99999a;
    *param_3 = 0x3e800000;
    return;
  case 0x86:
    *param_2 = 0x3fc66666;
    *param_4 = 0x40133333;
    *param_3 = 0x3e6b851f;
    return;
  case 0xd3:
    *param_2 = 0x3f800000;
    *param_4 = 0x40466666;
    *param_3 = 0x3e4ccccd;
    return;
  }
}



void FUN_00493800(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  int *piVar12;
  undefined4 *puVar13;
  float local_88;
  float local_84;
  float local_80;
  float local_78;
  float local_74;
  float local_70;
  float local_68;
  float local_64;
  float local_60;
  float local_58;
  float local_54;
  float local_50;
  int *local_48;
  float local_44;
  float local_40;
  int local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  int local_20;
  float *local_1c;
  float *local_18;
  float *local_14;
  
  AdjustStackForLargeAllocations();
  piVar12 = *(int **)(DAT_005df318 + 4);
  DAT_005b7866 = 0;
  DAT_005b8e00 = 0;
  if (DAT_005b33dc != -1) {
    local_3c = 10;
    local_20 = DAT_005b33dc;
    puVar10 = DAT_005b33d8;
    iVar8 = DAT_005b33dc;
    local_48 = piVar12;
    do {
      if (local_20 == 10) {
        local_20 = 0;
      }
      iVar7 = local_20 * 0x35;
      if (*(int *)((int)&DAT_005b8e51 + iVar7) != 0) {
        if (local_20 == iVar8) {
          local_14 = &local_44;
          local_18 = &local_24;
          local_1c = &local_28;
          local_20 = CONCAT22((short)((uint)local_18 >> 0x10),**(undefined2 **)(*piVar12 + 0x86));
          local_24 = 6.724283e-39;
          FUN_00493630();
          local_1c = &local_88;
          local_14 = (float *)(*piVar12 + 6);
          local_18 = (float *)(*piVar12 + 0x46);
          local_20 = 0x4938aa;
          MultiplyMatrices();
          fVar1 = local_44 - 0.1;
          local_2c = local_44 - -0.1;
          fVar2 = local_28 * local_68;
          local_38 = local_84 * fVar1;
          fVar3 = local_24 * local_78;
          local_30 = local_80 * fVar1;
          *(float *)(&DAT_005b8e20 + iVar7) = (local_58 + local_88 * fVar1 + fVar2) - fVar3;
          fVar4 = local_28 * local_64;
          local_40 = local_88 * local_2c;
          fVar5 = local_28 * local_60;
          fVar6 = local_24 * local_74;
          local_24 = local_24 * local_70;
          *(float *)((int)&DAT_005b8e24 + iVar7) = (local_54 + local_38 + fVar4) - fVar6;
          local_34 = local_84 * local_2c;
          *(float *)((int)&DAT_005b8e28 + iVar7) = (local_50 + local_30 + fVar5) - local_24;
          *(float *)((int)&DAT_005b8e2c + iVar7) = (local_58 + local_40 + fVar2) - fVar3;
          *(float *)((int)&DAT_005b8e30 + iVar7) = (local_54 + local_34 + fVar4) - fVar6;
          *(float *)((int)&DAT_005b8e34 + iVar7) =
               (local_50 + local_80 * local_2c + fVar5) - local_24;
          *(float *)(&DAT_005b9040 + iVar7) = ((local_58 - local_88 * fVar1) + fVar2) - fVar3;
          *(float *)((int)&DAT_005b9044 + iVar7) = ((local_54 - local_38) + fVar4) - fVar6;
          *(float *)((int)&DAT_005b9048 + iVar7) = ((local_50 - local_30) + fVar5) - local_24;
          *(float *)((int)&DAT_005b904c + iVar7) = ((local_58 - local_40) + fVar2) - fVar3;
          *(float *)((int)&DAT_005b9050 + iVar7) = ((local_54 - local_34) + fVar4) - fVar6;
          puVar10 = DAT_005b33d8;
          *(float *)((int)&DAT_005b9054 + iVar7) =
               ((local_50 - local_80 * local_2c) + fVar5) - local_24;
        }
        *puVar10 = *(undefined4 *)(&DAT_005b8e20 + iVar7);
        DAT_005b33d8[1] = *(undefined4 *)((int)&DAT_005b8e24 + iVar7);
        DAT_005b33d8[2] = *(undefined4 *)((int)&DAT_005b8e28 + iVar7);
        DAT_005b33d8[8] = *(undefined4 *)((int)&DAT_005b8e2c + iVar7);
        DAT_005b33d8[9] = *(undefined4 *)((int)&DAT_005b8e30 + iVar7);
        DAT_005b33d8[10] = *(undefined4 *)((int)&DAT_005b8e34 + iVar7);
        DAT_005b33d8[0x10] = *(undefined4 *)((int)&DAT_005b8e38 + iVar7);
        DAT_005b33d8[0x11] = *(undefined4 *)((int)&DAT_005b8e3c + iVar7);
        DAT_005b33d8[0x12] = *(undefined4 *)((int)&DAT_005b8e40 + iVar7);
        DAT_005b33d8[0x18] = *(undefined4 *)((int)&DAT_005b8e44 + iVar7);
        DAT_005b33d8[0x19] = *(undefined4 *)((int)&DAT_005b8e48 + iVar7);
        DAT_005b33d8[0x1a] = *(undefined4 *)((int)&DAT_005b8e4c + iVar7);
        DAT_005b33d8[4] = 0x80afafaf;
        DAT_005b33d8[0xc] = 0x80afafaf;
        DAT_005b33d8[0x14] = 0x80afafaf;
        DAT_005b33d8[0x1c] = 0x80afafaf;
        uVar9 = (uint)DAT_005b8e00;
        puVar10 = DAT_005b33d8;
        puVar11 = &DAT_005b33e0 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar10 = DAT_005b33d8 + 8;
        puVar11 = &DAT_005b3400 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar10 = DAT_005b33d8 + 0x10;
        puVar11 = &DAT_005b3420 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar10 = DAT_005b33d8 + 0x18;
        puVar11 = &DAT_005b3440 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        uVar9 = (uint)DAT_005b7866;
        (&DAT_005b2ac0)[uVar9 * 3] = DAT_005b8e00;
        (&DAT_005b2ac2)[uVar9 * 3] = DAT_005b8e00 + 1;
        (&DAT_005b2ac4)[uVar9 * 3] = DAT_005b8e00 + 2;
        uVar9 = (uint)(ushort)(DAT_005b7866 + 1);
        (&DAT_005b2ac0)[uVar9 * 3] = DAT_005b8e00 + 2;
        DAT_005b7866 = DAT_005b7866 + 2;
        (&DAT_005b2ac2)[uVar9 * 3] = DAT_005b8e00 + 3;
        (&DAT_005b2ac4)[uVar9 * 3] = DAT_005b8e00;
        DAT_005b8e00 = DAT_005b8e00 + 4;
        *DAT_005b33d8 = *(undefined4 *)(&DAT_005b9040 + iVar7);
        DAT_005b33d8[1] = *(undefined4 *)((int)&DAT_005b9044 + iVar7);
        DAT_005b33d8[2] = *(undefined4 *)((int)&DAT_005b9048 + iVar7);
        DAT_005b33d8[8] = *(undefined4 *)((int)&DAT_005b904c + iVar7);
        DAT_005b33d8[9] = *(undefined4 *)((int)&DAT_005b9050 + iVar7);
        DAT_005b33d8[10] = *(undefined4 *)((int)&DAT_005b9054 + iVar7);
        DAT_005b33d8[0x10] = *(undefined4 *)((int)&DAT_005b9058 + iVar7);
        DAT_005b33d8[0x11] = *(undefined4 *)((int)&DAT_005b905c + iVar7);
        DAT_005b33d8[0x12] = *(undefined4 *)((int)&DAT_005b9060 + iVar7);
        DAT_005b33d8[0x18] = *(undefined4 *)((int)&DAT_005b9064 + iVar7);
        DAT_005b33d8[0x19] = *(undefined4 *)((int)&DAT_005b9068 + iVar7);
        DAT_005b33d8[0x1a] = *(undefined4 *)((int)&DAT_005b906c + iVar7);
        DAT_005b33d8[4] = 0x80afafaf;
        DAT_005b33d8[0xc] = 0x80afafaf;
        DAT_005b33d8[0x14] = 0x80afafaf;
        DAT_005b33d8[0x1c] = 0x80afafaf;
        puVar10 = DAT_005b33d8;
        uVar9 = (uint)DAT_005b8e00;
        puVar11 = DAT_005b33d8;
        puVar13 = &DAT_005b33e0 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar13 = *puVar11;
          puVar11 = puVar11 + 1;
          puVar13 = puVar13 + 1;
        }
        puVar11 = puVar10 + 8;
        puVar13 = &DAT_005b3400 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar13 = *puVar11;
          puVar11 = puVar11 + 1;
          puVar13 = puVar13 + 1;
        }
        puVar11 = puVar10 + 0x10;
        puVar13 = &DAT_005b3420 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar13 = *puVar11;
          puVar11 = puVar11 + 1;
          puVar13 = puVar13 + 1;
        }
        puVar11 = puVar10 + 0x18;
        puVar13 = &DAT_005b3440 + uVar9 * 8;
        for (iVar8 = 8; iVar8 != 0; iVar8 = iVar8 + -1) {
          *puVar13 = *puVar11;
          puVar11 = puVar11 + 1;
          puVar13 = puVar13 + 1;
        }
        uVar9 = (uint)DAT_005b7866;
        (&DAT_005b2ac0)[uVar9 * 3] = DAT_005b8e00;
        (&DAT_005b2ac2)[uVar9 * 3] = DAT_005b8e00 + 1;
        (&DAT_005b2ac4)[uVar9 * 3] = DAT_005b8e00 + 2;
        uVar9 = (uint)(ushort)(DAT_005b7866 + 1);
        (&DAT_005b2ac0)[uVar9 * 3] = DAT_005b8e00 + 2;
        DAT_005b7866 = DAT_005b7866 + 2;
        (&DAT_005b2ac2)[uVar9 * 3] = DAT_005b8e00 + 3;
        iVar8 = DAT_005b33dc;
        (&DAT_005b2ac4)[uVar9 * 3] = DAT_005b8e00;
        DAT_005b8e00 = DAT_005b8e00 + 4;
        piVar12 = local_48;
      }
      local_20 = local_20 + 1;
      local_3c = local_3c + -1;
    } while (local_3c != 0);
  }
  return;
}



void FUN_00493dd0(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  DAT_005b33dc = DAT_004d2e10;
  if (DAT_004d2e10 != -1) {
    puVar3 = &DAT_005b31c0;
    iVar1 = 0;
    iVar4 = 10;
    do {
      if (*(int *)((int)&DAT_005b28d1 + iVar1) == 0) {
        *(undefined4 *)((int)&DAT_005b8e51 + iVar1) = 0;
      }
      else {
        puVar5 = (undefined4 *)((int)&DAT_005b28a0 + iVar1);
        puVar6 = (undefined4 *)(&DAT_005b8e20 + iVar1);
        for (iVar2 = 0xd; iVar2 != 0; iVar2 = iVar2 + -1) {
          *puVar6 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar6 = puVar6 + 1;
        }
        *(undefined *)puVar6 = *(undefined *)puVar5;
        puVar5 = puVar3;
        puVar6 = (undefined4 *)(&DAT_005b9040 + iVar1);
        for (iVar2 = 0xd; iVar2 != 0; iVar2 = iVar2 + -1) {
          *puVar6 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar6 = puVar6 + 1;
        }
        *(undefined *)puVar6 = *(undefined *)puVar5;
      }
      iVar1 = iVar1 + 0x35;
      puVar3 = (undefined4 *)((int)puVar3 + 0x35);
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    DAT_005b33dc = DAT_004d2e10;
  }
  DAT_004d2e10 = DAT_005b33dc;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00493e40(void)

{
  undefined4 uVar1;
  int iVar2;
  int *unaff_EBX;
  undefined4 local_50 [2];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 uStackY_3c;
  undefined4 ***local_20;
  int *local_1c;
  undefined *_Dst;
  
  AdjustStackForLargeAllocations();
  uVar1 = FUN_0045b1f0();
  local_1c = (int *)0x493e70;
  DAT_005b33d4 = uVar1;
  _memset(&local_20,0,0x14);
  local_1c = *(int **)(DAT_005e5010 + 8);
  _Dst = (undefined *)0x0;
  local_20 = (undefined4 ***)0x493ea9;
  iVar2 = (**(code **)(*local_1c + 0x18))();
  if (iVar2 == 0) {
    local_20 = &local_20;
    iVar2 = (**(code **)(*unaff_EBX + 0x10))();
    if (iVar2 == 0) {
      _memset(_Dst,0,0xb8);
      *_Dst = 8;
      _Dst[1] = 8;
      *(undefined2 *)(_Dst + 2) = 3;
      if (DAT_005d66a4 == 0) {
        *(undefined4 *)(_Dst + 4) = 0x1b;
      }
      else {
        *(undefined4 *)(_Dst + 4) = 0x21;
      }
      *(undefined4 *)(_Dst + 8) = 1;
      *(undefined4 *)(_Dst + 0xc) = 1;
      *(undefined4 *)(_Dst + 0x10) = uVar1;
      *(undefined4 *)(_Dst + 0x14) = 0x16;
      *(undefined4 *)(_Dst + 0x18) = 1;
      _Dst[0x1c] = 0xb;
      _Dst[0x1d] = 0;
      *(undefined2 *)(_Dst + 0x1e) = 0;
      (**(code **)(*unaff_EBX + 0x14))();
      uStackY_3c = 0x493f52;
      _memset(local_50,0,0x30);
      local_50[0] = 0x30;
      local_48 = 0;
      local_44 = 0;
      local_40 = 0x20;
      (**(code **)(*unaff_EBX + 0x18))();
      _DAT_005b7860 = unaff_EBX;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00493f90(void)

{
  int iVar1;
  int *unaff_EBX;
  undefined4 local_50 [2];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 uStackY_3c;
  undefined4 ***local_20;
  int *local_1c;
  undefined *_Dst;
  
  AdjustStackForLargeAllocations();
  local_1c = (int *)0x493fad;
  _memset(&local_20,0,0x14);
  local_1c = *(int **)(DAT_005e5010 + 8);
  _Dst = (undefined *)0x0;
  local_20 = (undefined4 ***)0x493fe5;
  iVar1 = (**(code **)(*local_1c + 0x18))();
  if (iVar1 == 0) {
    local_20 = &local_20;
    iVar1 = (**(code **)(*unaff_EBX + 0x10))();
    if (iVar1 == 0) {
      _memset(_Dst,0,0xb8);
      *(undefined2 *)(_Dst + 2) = 1;
      *_Dst = 8;
      _Dst[1] = 8;
      *(undefined4 *)(_Dst + 4) = 0x16;
      *(undefined4 *)(_Dst + 8) = 3;
      _Dst[0xc] = 0xb;
      _Dst[0xd] = 0;
      *(undefined2 *)(_Dst + 0xe) = 0;
      (**(code **)(*unaff_EBX + 0x14))();
      uStackY_3c = 0x494058;
      _memset(local_50,0,0x30);
      local_50[0] = 0x30;
      local_48 = 0;
      local_44 = 0;
      local_40 = 0x10;
      (**(code **)(*unaff_EBX + 0x18))();
      _DAT_005b8e04 = unaff_EBX;
    }
  }
  return;
}



void FUN_00494090(void)

{
  int iVar1;
  undefined4 *puVar2;
  int *unaff_EBX;
  undefined4 *puVar3;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  int local_40;
  undefined4 uStackY_3c;
  undefined4 local_20;
  undefined4 *local_1c;
  int *local_18;
  undefined4 *_Dst;
  
  AdjustStackForLargeAllocations();
  FUN_00493e40();
  FUN_00493f90();
  local_18 = (int *)0x4940ba;
  _memset(&DAT_005b62e0,0,0x1580);
  local_18 = (int *)0x4940c9;
  _memset(&local_20,0,0x14);
  local_20 = 0x14;
  local_18 = *(int **)(DAT_005e5010 + 8);
  _Dst = (undefined4 *)&stack0xfffffff8;
  local_1c = (undefined4 *)0x494100;
  iVar1 = (**(code **)(*local_18 + 0x18))();
  if (iVar1 == 0) {
    local_1c = &local_20;
    iVar1 = (**(code **)(*unaff_EBX + 0x10))();
    if (iVar1 == 0) {
      _memset(_Dst,0,0x1c8);
      DAT_005b33d8 = _Dst;
      *_Dst = 0xc0200000;
      _Dst[1] = 0x40a00000;
      _Dst[2] = 0;
      _Dst[4] = 0x80ffffff;
      _Dst[5] = 0;
      _Dst[6] = 0;
      _Dst[7] = 0x3f800000;
      _Dst[8] = 0x40200000;
      _Dst[9] = 0x40a00000;
      _Dst[10] = 0;
      _Dst[0xc] = 0x80ffffff;
      _Dst[0xd] = 0;
      _Dst[0xe] = 0x3f800000;
      _Dst[0xf] = 0x3f800000;
      _Dst[0x10] = 0x40200000;
      _Dst[0x11] = 0;
      _Dst[0x12] = 0;
      _Dst[0x14] = 0x80ffffff;
      _Dst[0x15] = 0;
      _Dst[0x16] = 0x3f800000;
      _Dst[0x17] = 0;
      _Dst[0x18] = 0xc0200000;
      _Dst[0x19] = 0;
      _Dst[0x1a] = 0;
      _Dst[0x1c] = 0x80ffffff;
      _Dst[0x1d] = 0;
      _Dst[0x1e] = 0;
      _Dst[0x1f] = 0;
      puVar3 = _Dst + 0x20;
      *(undefined *)puVar3 = 9;
      *(undefined *)((int)_Dst + 0x81) = 0x10;
      *(undefined2 *)((int)_Dst + 0x82) = 1;
      _Dst[0x21] = 1;
      *(undefined2 *)(_Dst + 0x22) = 0;
      *(undefined2 *)((int)_Dst + 0x8a) = 0;
      _Dst[0x23] = 4;
      _Dst[0x24] = 0;
      puVar2 = _Dst + 0x25;
      if (((uint)puVar2 & 7) == 0) {
        *(undefined *)puVar2 = 3;
        *(undefined *)((int)_Dst + 0x95) = 8;
        *(undefined2 *)((int)_Dst + 0x96) = 0;
        puVar2 = _Dst + 0x26;
      }
      *(undefined *)puVar2 = 3;
      *(undefined *)((int)puVar2 + 1) = 8;
      *(undefined2 *)((int)puVar2 + 2) = 2;
      *(undefined2 *)((int)puVar2 + 6) = 1;
      *(undefined2 *)(puVar2 + 1) = 0;
      *(undefined2 *)(puVar2 + 2) = 2;
      *(undefined2 *)((int)puVar2 + 10) = 0x700;
      *(undefined2 *)(puVar2 + 3) = 2;
      *(undefined2 *)((int)puVar2 + 0xe) = 3;
      *(undefined2 *)(puVar2 + 4) = 0;
      *(undefined2 *)((int)puVar2 + 0x12) = 0x700;
      *(undefined *)(puVar2 + 5) = 0xb;
      *(undefined *)((int)puVar2 + 0x15) = 0;
      *(undefined2 *)((int)puVar2 + 0x16) = 0;
      puVar2 = puVar2 + 6;
      (**(code **)(*unaff_EBX + 0x14))();
      uStackY_3c = 0x494258;
      _memset(local_50,0,0x30);
      local_40 = (int)puVar2 - (int)puVar3;
      local_44 = (int)puVar3 - (int)_Dst;
      local_50[0] = 0x30;
      local_48 = 4;
      (**(code **)(*unaff_EBX + 0x18))();
      DAT_005cff4c = unaff_EBX;
    }
  }
  return;
}



void FUN_004942a0(float param_1)

{
  int iVar1;
  float fVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  float local_68;
  float local_64;
  float local_60;
  float local_58;
  float local_54;
  float local_50;
  float local_48;
  float local_44;
  float local_40;
  float local_38;
  float local_34;
  float local_30;
  undefined4 local_20;
  float local_1c;
  float **local_18;
  float *local_14;
  undefined4 *local_10;
  
  AdjustStackForLargeAllocations();
  fVar2 = param_1;
  iVar3 = DAT_004d2e10;
  iVar1 = *(int *)((int)param_1 + 4);
  if (*(int *)(*(int *)(iVar1 + 0x98) + 0x10) != 4) {
    DAT_004d2e10 = 0xffffffff;
    puVar4 = &DAT_005b28d1;
    do {
      *puVar4 = 0;
      puVar4 = (undefined4 *)((int)puVar4 + 0x35);
    } while ((int)puVar4 < 0x5b2ae3);
    return;
  }
  if (DAT_004d2e10 != -1) {
    if ((&DAT_005b28d0)[DAT_004d2e10 * 0x35] != '\0') {
      (&DAT_005b28d0)[DAT_004d2e10 * 0x35] = (&DAT_005b28d0)[DAT_004d2e10 * 0x35] + -1;
      return;
    }
  }
  local_10 = (undefined4 *)(iVar1 + 6);
  local_14 = (float *)(iVar1 + 0x46);
  local_18 = (float **)&local_68;
  local_1c = 6.728081e-39;
  MultiplyMatrices();
  DAT_004d2e10 = DAT_004d2e10 + 1;
  if (DAT_004d2e10 == 10) {
    DAT_004d2e10 = 0;
  }
  local_10 = &param_1;
  local_14 = &local_1c;
  local_18 = &local_14;
  local_1c = (float)CONCAT22((short)((uint)local_14 >> 0x10),
                             **(undefined2 **)(*(int *)((int)fVar2 + 4) + 0x86));
  local_20 = 0x494362;
  FUN_00493630();
  fVar2 = param_1 - 0.2;
  param_1 = param_1 - -0.2;
  local_48 = (float)local_14 * local_48;
  local_58 = local_1c * local_58;
  iVar1 = DAT_004d2e10 * 0x35;
  *(float *)((int)&DAT_005b28a0 + iVar1) = (local_38 + local_68 * fVar2 + local_48) - local_58;
  local_44 = (float)local_14 * local_44;
  local_40 = (float)local_14 * local_40;
  local_54 = local_1c * local_54;
  local_1c = local_1c * local_50;
  *(float *)((int)&DAT_005b28a4 + iVar1) = (local_34 + local_64 * fVar2 + local_44) - local_54;
  *(float *)((int)&DAT_005b28a8 + iVar1) = (local_30 + local_60 * fVar2 + local_40) - local_1c;
  *(float *)((int)&DAT_005b28ac + iVar1) = (local_38 + local_68 * param_1 + local_48) - local_58;
  *(float *)((int)&DAT_005b28b0 + iVar1) = (local_34 + local_64 * param_1 + local_44) - local_54;
  *(float *)((int)&DAT_005b28b4 + iVar1) = (local_30 + local_60 * param_1 + local_40) - local_1c;
  *(float *)((int)&DAT_005b31c0 + iVar1) = ((local_38 - local_68 * fVar2) + local_48) - local_58;
  *(float *)((int)&DAT_005b31c4 + iVar1) = ((local_34 - local_64 * fVar2) + local_44) - local_54;
  *(float *)((int)&DAT_005b31c8 + iVar1) = ((local_30 - local_60 * fVar2) + local_40) - local_1c;
  *(float *)((int)&DAT_005b31cc + iVar1) = ((local_38 - local_68 * param_1) + local_48) - local_58;
  *(float *)((int)&DAT_005b31d0 + iVar1) = ((local_34 - local_64 * param_1) + local_44) - local_54;
  *(float *)((int)&DAT_005b31d4 + iVar1) = ((local_30 - local_60 * param_1) + local_40) - local_1c;
  if (iVar3 == -1) {
    puVar4 = &DAT_005b2906;
    do {
      *puVar4 = 0;
      puVar4 = (undefined4 *)((int)puVar4 + 0x35);
    } while ((int)puVar4 < 0x5b2ae3);
    *(undefined4 *)((int)&DAT_005b28b8 + iVar1) = *(undefined4 *)((int)&DAT_005b28ac + iVar1);
    *(undefined4 *)((int)&DAT_005b28bc + iVar1) = *(undefined4 *)((int)&DAT_005b28b0 + iVar1);
    *(undefined4 *)((int)&DAT_005b28c0 + iVar1) = *(undefined4 *)((int)&DAT_005b28b4 + iVar1);
    *(undefined4 *)((int)&DAT_005b28c4 + iVar1) = *(undefined4 *)((int)&DAT_005b28a0 + iVar1);
    *(undefined4 *)((int)&DAT_005b28c8 + iVar1) = *(undefined4 *)((int)&DAT_005b28a4 + iVar1);
    *(undefined4 *)((int)&DAT_005b28cc + iVar1) = *(undefined4 *)((int)&DAT_005b28a8 + iVar1);
    *(undefined4 *)((int)&DAT_005b31d8 + iVar1) = *(undefined4 *)((int)&DAT_005b31cc + iVar1);
    *(undefined4 *)((int)&DAT_005b31dc + iVar1) = *(undefined4 *)((int)&DAT_005b31d0 + iVar1);
    *(undefined4 *)((int)&DAT_005b31e0 + iVar1) = *(undefined4 *)((int)&DAT_005b31d4 + iVar1);
    *(undefined4 *)((int)&DAT_005b31e4 + iVar1) = *(undefined4 *)((int)&DAT_005b31c0 + iVar1);
    *(undefined4 *)((int)&DAT_005b31e8 + iVar1) = *(undefined4 *)((int)&DAT_005b31c4 + iVar1);
    uVar5 = *(undefined4 *)((int)&DAT_005b31c8 + iVar1);
  }
  else {
    iVar3 = iVar3 * 0x35;
    *(undefined4 *)((int)&DAT_005b28b8 + iVar1) = *(undefined4 *)((int)&DAT_005b28ac + iVar3);
    *(undefined4 *)((int)&DAT_005b28bc + iVar1) = *(undefined4 *)((int)&DAT_005b28b0 + iVar3);
    *(undefined4 *)((int)&DAT_005b28c0 + iVar1) = *(undefined4 *)((int)&DAT_005b28b4 + iVar3);
    *(undefined4 *)((int)&DAT_005b28c4 + iVar1) = *(undefined4 *)((int)&DAT_005b28a0 + iVar3);
    *(undefined4 *)((int)&DAT_005b28c8 + iVar1) = *(undefined4 *)((int)&DAT_005b28a4 + iVar3);
    *(undefined4 *)((int)&DAT_005b28cc + iVar1) = *(undefined4 *)((int)&DAT_005b28a8 + iVar3);
    *(undefined4 *)((int)&DAT_005b31d8 + iVar1) = *(undefined4 *)((int)&DAT_005b31cc + iVar3);
    *(undefined4 *)((int)&DAT_005b31dc + iVar1) = *(undefined4 *)((int)&DAT_005b31d0 + iVar3);
    *(undefined4 *)((int)&DAT_005b31e0 + iVar1) = *(undefined4 *)((int)&DAT_005b31d4 + iVar3);
    *(undefined4 *)((int)&DAT_005b31e4 + iVar1) = *(undefined4 *)((int)&DAT_005b31c0 + iVar3);
    *(undefined4 *)((int)&DAT_005b31e8 + iVar1) = *(undefined4 *)((int)&DAT_005b31c4 + iVar3);
    uVar5 = *(undefined4 *)((int)&DAT_005b31c8 + iVar3);
  }
  *(undefined4 *)((int)&DAT_005b28d1 + iVar1) = 1;
  *(undefined4 *)((int)&DAT_005b31ec + iVar1) = uVar5;
  (&DAT_005b28d0)[iVar1] = 0;
  return;
}



void FUN_00494670(char *param_1,char *param_2,float *param_3,int param_4,int param_5,int param_6)

{
  int iVar1;
  char **ppcVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  float *pfVar6;
  float fVar7;
  int iVar8;
  float *pfVar9;
  float10 fVar10;
  float local_9c [4];
  float local_8c;
  float local_88;
  float local_84;
  undefined local_5c [12];
  int local_50;
  int local_4c;
  float local_40;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  undefined *local_20;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  int iVar15;
  float fVar16;
  
  AdjustStackForLargeAllocations();
  iVar5 = -1;
  iVar8 = 0;
  iVar4 = 0;
  piVar3 = &DAT_005b631c;
  do {
    iVar1 = *piVar3;
    iVar15 = iVar4;
    if (iVar1 == 0) break;
    if (iVar5 < iVar1) {
      iVar5 = iVar1;
      iVar8 = iVar4;
    }
    piVar3 = (int *)((int)piVar3 + 0x56);
    iVar4 = iVar4 + 1;
    iVar15 = -1;
  } while ((int)piVar3 < 0x5b789c);
  if (iVar15 == -1) {
    iVar15 = iVar8;
  }
  fVar16 = 0.2;
  if (param_1 == (char *)0x0) {
    iVar5 = iVar15 * 0x56;
    *(char **)((int)&DAT_005b6331 + iVar5) = param_2;
    if (param_5 == 1) {
      *(undefined4 *)((int)&DAT_005b631c + iVar5) = 4;
    }
    else if (param_5 == 3) {
      *(undefined4 *)((int)&DAT_005b631c + iVar5) = 2;
      fVar16 = 0.1;
    }
    else {
      *(undefined4 *)((int)&DAT_005b631c + iVar5) = 6;
    }
  }
  else {
    *(char **)((int)&DAT_005b6331 + iVar15 * 0x56) = param_1;
    *(undefined4 *)((int)&DAT_005b631c + iVar15 * 0x56) = 1;
  }
  iVar5 = iVar15 * 0x56;
  *(int *)((int)&DAT_005b6324 + iVar5) = param_4;
  *(int *)((int)&DAT_005b6328 + iVar5) = param_5;
  *(int *)((int)&DAT_005b632c + iVar5) = param_6;
  (&DAT_005b6330)[iVar5] = 1;
  *(float *)((int)&DAT_005b6310 + iVar5) = *param_3;
  *(float *)((int)&DAT_005b6314 + iVar5) = param_3[1];
  *(float *)((int)&DAT_005b6318 + iVar5) = param_3[2];
  *(undefined4 *)((int)&DAT_005b6320 + iVar5) = 0;
  local_50 = iVar5;
  if (param_1 == (char *)0x0) {
    (&DAT_005b6335)[iVar5] = *param_2;
  }
  else {
    local_24 = param_3[2];
    local_28 = *param_3;
    local_20 = local_5c;
    local_2c = 6.729716e-39;
    FUN_0041c650();
    local_40 = *(float *)(*(int *)(param_1 + 4) + 0x19d);
    fVar10 = (float10)FUN_004ad3c0();
    if ((float10)0.1000000014901161 < fVar10) {
      local_20 = (undefined *)0x49480a;
      _memset(&DAT_005b62e0 + iVar15 * 0x2b,0,0x56);
      *(ushort *)(*(int *)(param_1 + 4) + 0x8e) = *(ushort *)(*(int *)(param_1 + 4) + 0x8e) & 0xfff7
      ;
      return;
    }
    *(float *)((int)&DAT_005b6314 + iVar5) = local_40 - -0.05;
    if (param_1 != (char *)0x0) {
      pfVar6 = (float *)(*(int *)(param_1 + 4) + 6);
      goto LAB_00494841;
    }
  }
  pfVar6 = (float *)(param_2 + 7);
LAB_00494841:
  pfVar9 = local_9c;
  iVar8 = iVar15;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar9 = *pfVar6;
    pfVar6 = pfVar6 + 1;
    pfVar9 = pfVar9 + 1;
  }
  if (param_6 == 1) {
    local_34 = local_9c[0];
    local_30 = local_9c[1];
    local_2c = local_9c[2];
  }
  else {
    local_34 = local_8c;
    local_30 = local_88;
    local_2c = local_84;
  }
  if ((param_1 == (char *)0x0) || ((*(byte *)(*(int *)(param_1 + 4) + 0x8e) & 0x10) != 0)) {
    local_4c = -1;
    ppcVar2 = (char **)&DAT_005b6331;
    iVar4 = (-(uint)(param_1 != (char *)0x0) & 100000) - 1;
    local_28 = 0.0;
    do {
      if ((((param_1 == (char *)0x0) || (local_28 == (float)iVar8)) || (*ppcVar2 != param_1)) ||
         ((*(int *)((int)ppcVar2 + -0xd) != param_4 || (*(int *)((int)ppcVar2 + -5) != param_6)))) {
        if ((((param_2 != (char *)0x0) && ((local_28 != (float)iVar8 && (*ppcVar2 == param_2)))) &&
            (*(char *)(ppcVar2 + 1) == *param_2)) &&
           ((*(int *)((int)ppcVar2 + -0xd) == param_4 && (*(int *)((int)ppcVar2 + -5) == param_6))))
        {
          *(undefined *)((int)ppcVar2 + -1) = 0;
          *(int *)((int)&DAT_005b6320 + iVar5) = *(int *)((int)&DAT_005b6320 + iVar5) + 1;
          if (iVar4 < *(int *)((int)ppcVar2 + -0x15)) {
            local_4c = (int)local_28;
            iVar4 = *(int *)((int)ppcVar2 + -0x15);
          }
        }
      }
      else {
        *(int *)((int)&DAT_005b6320 + iVar5) = *(int *)((int)&DAT_005b6320 + iVar5) + 1;
        *(undefined *)((int)ppcVar2 + -1) = 0;
        if (*(int *)((int)ppcVar2 + -0x15) < iVar4) {
          iVar4 = *(int *)((int)ppcVar2 + -0x15);
          local_4c = (int)local_28;
        }
      }
      ppcVar2 = (char **)((int)ppcVar2 + 0x56);
      local_28 = (float)((int)local_28 + 1);
    } while ((int)ppcVar2 < 0x5b78b1);
    if (local_4c == -1) {
      if (param_5 == 3) {
        fVar12 = *param_3;
        fVar13 = param_3[1];
        fVar14 = param_3[2];
        fVar7 = *param_3;
        local_20 = (undefined *)param_3[1];
        fVar11 = param_3[2];
      }
      else {
        fVar7 = *param_3 + fVar16 * local_34;
        fVar12 = *param_3 - fVar16 * local_34;
        local_20 = (undefined *)(param_3[1] + fVar16 * local_30);
        fVar11 = param_3[2] + fVar16 * local_2c;
        fVar13 = param_3[1] - fVar16 * local_30;
        fVar14 = param_3[2] - fVar16 * local_2c;
      }
      if (param_1 != (char *)0x0) {
        local_20 = local_5c;
        local_24 = param_3[2];
        local_28 = *param_3;
        local_2c = 6.730991e-39;
        FUN_0041c650();
        iVar8 = *(int *)(param_1 + 4);
        local_40 = *(float *)(iVar8 + 0x19d);
        fVar12 = SUB84((double)(local_40 -
                               (*(float *)(iVar8 + 0x3a) -
                               *(float *)(iVar8 + 0x1a) *
                               *(float *)(*(int *)(*(int *)(iVar8 + 0x86) + 0x13) + 0x88))),0);
        fVar10 = (float10)FUN_004ad3c0();
        if ((float10)0.1000000014901161 < fVar10) {
          local_20 = (undefined *)0x494b9b;
          _memset(&DAT_005b62e0 + iVar15 * 0x2b,0,0x56);
          *(ushort *)(*(int *)(param_1 + 4) + 0x8e) =
               *(ushort *)(*(int *)(param_1 + 4) + 0x8e) & 0xfff7;
          return;
        }
        local_20 = (undefined *)(local_40 - -0.05);
        fVar13 = (float)local_20;
      }
    }
    else {
      if (param_5 == 3) {
        iVar8 = local_4c * 0x56;
        *(undefined4 *)(&DAT_005b62e0 + local_4c * 0x2b) =
             *(undefined4 *)((int)&DAT_005b6310 + iVar8);
        *(undefined4 *)(&DAT_005b62e4 + iVar8) = *(undefined4 *)((int)&DAT_005b6314 + iVar8);
        *(undefined4 *)(&DAT_005b62e8 + iVar8) = *(undefined4 *)((int)&DAT_005b6318 + iVar8);
        *(undefined4 *)(&DAT_005b62ec + iVar8) = *(undefined4 *)((int)&DAT_005b6310 + iVar8);
        *(undefined4 *)(&DAT_005b62f0 + iVar8) = *(undefined4 *)((int)&DAT_005b6314 + iVar8);
        *(undefined4 *)(&DAT_005b62f4 + iVar8) = *(undefined4 *)((int)&DAT_005b6318 + iVar8);
      }
      iVar8 = local_4c * 0x56;
      fVar7 = *(float *)(&DAT_005b62ec + iVar8);
      local_20 = *(undefined **)(&DAT_005b62f0 + iVar8);
      fVar11 = *(float *)(&DAT_005b62f4 + iVar8);
      fVar12 = *(float *)(&DAT_005b62e0 + local_4c * 0x2b);
      fVar13 = *(float *)(&DAT_005b62e4 + iVar8);
      fVar14 = *(float *)(&DAT_005b62e8 + iVar8);
    }
  }
  else {
    local_28 = *param_3;
    local_24 = param_3[2];
    fVar14 = local_24 - fVar16 * local_2c;
    local_20 = local_5c;
    local_2c = 6.730254e-39;
    FUN_0041c650();
    iVar8 = *(int *)(param_1 + 4);
    local_40 = *(float *)(iVar8 + 0x19d);
    fVar12 = SUB84((double)(local_40 -
                           (*(float *)(iVar8 + 0x3a) -
                           *(float *)(iVar8 + 0x1a) *
                           *(float *)(*(int *)(*(int *)(iVar8 + 0x86) + 0x13) + 0x88))),0);
    fVar11 = 6.73033e-39;
    fVar10 = (float10)FUN_004ad3c0();
    if ((float10)0.1000000014901161 < fVar10) {
      local_20 = (undefined *)0x49498c;
      _memset(&DAT_005b62e0 + iVar15 * 0x2b,0,0x56);
      *(ushort *)(*(int *)(param_1 + 4) + 0x8e) = *(ushort *)(*(int *)(param_1 + 4) + 0x8e) & 0xfff7
      ;
      return;
    }
    local_20 = (undefined *)(local_40 - -0.05);
    fVar7 = local_24;
    fVar13 = (float)local_20;
  }
  iVar8 = local_50;
  *(float *)((int)&DAT_005b62f8 + iVar5) = fVar7;
  *(undefined **)((int)&DAT_005b62fc + iVar5) = local_20;
  *(float *)((int)&DAT_005b6300 + iVar5) = fVar11;
  *(float *)((int)&DAT_005b6304 + iVar5) = fVar12;
  *(float *)((int)&DAT_005b6308 + iVar5) = fVar13;
  pfVar6 = (float *)((int)&DAT_005b62e0 + local_50);
  *(float *)((int)&DAT_005b630c + iVar5) = fVar14;
  *pfVar6 = *param_3 + fVar16 * local_34;
  *(float *)(&DAT_005b62e4 + local_50) = param_3[1] + fVar16 * local_30;
  *(float *)(&DAT_005b62e8 + local_50) = param_3[2] + fVar16 * local_2c;
  *(float *)(&DAT_005b62ec + local_50) = *param_3 - fVar16 * local_34;
  *(float *)(&DAT_005b62f0 + local_50) = param_3[1] - fVar16 * local_30;
  *(float *)(&DAT_005b62f4 + local_50) = param_3[2] - fVar16 * local_2c;
  if (param_1 != (char *)0x0) {
    local_20 = local_5c;
    local_24 = param_3[2];
    local_28 = *param_3;
    local_2c = 6.731639e-39;
    FUN_0041c650();
    local_40 = *(float *)(*(int *)(param_1 + 4) + 0x19d);
    fVar10 = (float10)FUN_004ad3c0();
    if ((float10)0.1000000014901161 < fVar10) {
      local_20 = (undefined *)0x494d60;
      _memset(pfVar6,0,0x56);
      *(ushort *)(*(int *)(param_1 + 4) + 0x8e) = *(ushort *)(*(int *)(param_1 + 4) + 0x8e) & 0xfff7
      ;
      return;
    }
    *(float *)(&DAT_005b62f0 + iVar8) = local_40 - -0.05;
    *(float *)(&DAT_005b62e4 + iVar8) = local_40 - -0.05;
  }
  DAT_00599074 = DAT_00599074 + 1;
  return;
}



void FUN_00494da0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  undefined4 uVar5;
  
  AdjustStackForLargeAllocations();
  piVar4 = &DAT_005b631c;
  do {
    iVar1 = *piVar4;
    if (iVar1 != 0) {
      if (piVar4[3] == 2) {
        *piVar4 = iVar1 + 1;
      }
      else {
        *piVar4 = iVar1 + -1;
        if (iVar1 + -1 == 0) {
          DAT_00599074 = DAT_00599074 + -1;
        }
      }
    }
    piVar4 = (int *)((int)piVar4 + 0x56);
  } while ((int)piVar4 < 0x5b789c);
  for (iVar1 = *(int *)(DAT_005df318 + 4); iVar1 != 0; iVar1 = *(int *)(iVar1 + 0x16)) {
    iVar2 = *(int *)(iVar1 + 4);
    if ((*(int *)(iVar2 + 0x18b) == 0) || (*(int *)(*(int *)(iVar2 + 0x18b) + 0x5b) == 0)) {
      iVar3 = *(int *)(*(int *)(iVar2 + 0x98) + 0x10);
      if (((iVar3 == 2) || (iVar3 == 3)) &&
         (((*(byte *)(iVar2 + 0x8e) & 8) != 0 && (0.8 < *(float *)(iVar2 + 0xeb))))) {
        if (iVar3 == 3) {
          uVar5 = 2;
        }
        else {
          FUN_00494670(iVar1,0,&stack0xfffffff0,0,2,1);
          uVar5 = 1;
        }
        FUN_00494670(iVar1,0,&stack0xfffffff0,uVar5,2,1);
      }
    }
    else {
      *(ushort *)(iVar2 + 0x8e) = *(ushort *)(iVar2 + 0x8e) & 0xfff7;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00494f70(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  _DAT_005b7864 = DAT_00599074;
  if (DAT_00599074 != 0) {
    iVar1 = 0;
    do {
      if (*(int *)((int)&DAT_005b631c + iVar1) == 0) {
        *(undefined4 *)((int)&DAT_005b78bc + iVar1) = 0;
      }
      else {
        puVar3 = (undefined4 *)((int)&DAT_005b62e0 + iVar1);
        puVar4 = (undefined4 *)((int)&DAT_005b7880 + iVar1);
        for (iVar2 = 0x15; iVar2 != 0; iVar2 = iVar2 + -1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + 1;
          puVar4 = puVar4 + 1;
        }
        *(undefined2 *)puVar4 = *(undefined2 *)puVar3;
      }
      iVar1 = iVar1 + 0x56;
    } while (iVar1 < 0x1580);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00494fc0(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  ushort uVar7;
  int **ppiVar8;
  undefined4 *puVar9;
  int **ppiVar10;
  undefined4 *puVar11;
  int *local_54 [4];
  undefined4 uStack_44;
  int *piStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  int *piStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  int *piStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  int *piStack_1c;
  undefined4 uStack_18;
  int **local_14;
  undefined4 uVar12;
  
  AdjustStackForLargeAllocations();
  uVar12 = 0;
  ppiVar8 = (int **)&DAT_004d1ae0;
  ppiVar10 = local_54;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *ppiVar10 = *ppiVar8;
    ppiVar8 = ppiVar8 + 1;
    ppiVar10 = ppiVar10 + 1;
  }
  uVar7 = DAT_005b7866;
  if (_DAT_005b7864 != 0) {
    iVar4 = 0;
    local_14 = (int **)&DAT_005b78b0;
    puVar6 = DAT_005b33d8;
    do {
      puVar9 = local_14;
      if (local_14[3] != (int *)0x0) {
        if ((*(char *)(local_14 + 8) != '\0') && (local_14[6] == (int *)0x0)) {
          local_14[-9] = *local_14;
          local_14[-8] = local_14[1];
          local_14[-7] = local_14[2];
          local_14[-0xc] = *local_14;
          local_14[-0xb] = local_14[1];
          local_14[-10] = local_14[2];
        }
        *puVar6 = local_14[-0xc];
        DAT_005b33d8[1] = local_14[-0xb];
        DAT_005b33d8[2] = local_14[-10];
        DAT_005b33d8[8] = local_14[-9];
        DAT_005b33d8[9] = local_14[-8];
        DAT_005b33d8[10] = local_14[-7];
        DAT_005b33d8[0x10] = local_14[-6];
        DAT_005b33d8[0x11] = local_14[-5];
        DAT_005b33d8[0x12] = local_14[-4];
        DAT_005b33d8[0x18] = local_14[-3];
        DAT_005b33d8[0x19] = local_14[-2];
        DAT_005b33d8[0x1a] = local_14[-1];
        switch(local_14[6]) {
        case (int *)0x0:
          iVar5 = 0;
          iVar3 = 0;
          piVar1 = &DAT_005b78cc;
          do {
            if ((((iVar4 != iVar3) && (piVar1[-4] != 0)) &&
                (*(int *)((int)piVar1 + 5) == *(int *)((int)local_14 + 0x21))) &&
               (((local_14[7] == (int *)*piVar1 && (local_14[5] == (int *)piVar1[-2])) &&
                ((local_14[6] == (int *)piVar1[-1] && (piVar1[-4] < (int)local_14[3])))))) {
              iVar5 = iVar5 + 1;
            }
            piVar1 = (int *)((int)piVar1 + 0x56);
            iVar3 = iVar3 + 1;
          } while ((int)piVar1 < 0x5b8e4c);
          local_14 = (int **)0x495154;
          uVar2 = __ftol();
          DAT_005b33d8[4] = (uVar2 | 0xff80ff00) << 8;
          DAT_005b33d8[0xc] = DAT_005b33d8[4];
          if (iVar5 < 1) {
            DAT_005b33d8[0x1c] = DAT_005b33d8[4];
            DAT_005b33d8[0x14] = DAT_005b33d8[0x1c];
          }
          else {
            local_14 = (int **)0x495188;
            uVar2 = __ftol();
            DAT_005b33d8[0x1c] = (uVar2 | 0xff80ff00) << 8;
            DAT_005b33d8[0x14] = DAT_005b33d8[0x1c];
          }
          break;
        case (int *)0x1:
          uVar12 = 0x8000ff00;
          break;
        case (int *)0x2:
          uVar12 = 0xff0a0a0a;
          break;
        case (int *)0x3:
          uVar12 = 0x80ffa000;
          break;
        default:
          uVar12 = 0x80ffffff;
        }
        if (puVar9[6] != 0) {
          iVar5 = 0;
          do {
            iVar3 = iVar5 + 0x20;
            *(undefined4 *)((int)DAT_005b33d8 + iVar5 + 0x10) = uVar12;
            iVar5 = iVar3;
          } while (iVar3 < 0x80);
        }
        puVar6 = DAT_005b33d8;
        uVar2 = (uint)DAT_005b8e00;
        puVar9 = DAT_005b33d8;
        puVar11 = &DAT_005b33e0 + uVar2 * 8;
        for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar11 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar9 = puVar6 + 8;
        puVar11 = &DAT_005b3400 + uVar2 * 8;
        for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar11 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar9 = puVar6 + 0x10;
        puVar11 = &DAT_005b3420 + uVar2 * 8;
        for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar11 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar11 = puVar11 + 1;
        }
        puVar9 = puVar6 + 0x18;
        puVar11 = &DAT_005b3440 + uVar2 * 8;
        for (iVar5 = 8; iVar5 != 0; iVar5 = iVar5 + -1) {
          *puVar11 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar11 = puVar11 + 1;
        }
        uVar2 = (uint)DAT_005b7866;
        (&DAT_005b2ac0)[uVar2 * 3] = DAT_005b8e00;
        (&DAT_005b2ac2)[uVar2 * 3] = DAT_005b8e00 + 1;
        (&DAT_005b2ac4)[uVar2 * 3] = DAT_005b8e00 + 2;
        uVar2 = (uint)(ushort)(DAT_005b7866 + 1);
        (&DAT_005b2ac0)[uVar2 * 3] = DAT_005b8e00 + 2;
        DAT_005b7866 = DAT_005b7866 + 2;
        (&DAT_005b2ac2)[uVar2 * 3] = DAT_005b8e00 + 3;
        (&DAT_005b2ac4)[uVar2 * 3] = DAT_005b8e00;
        DAT_005b8e00 = DAT_005b8e00 + 4;
        uVar7 = DAT_005b7866;
      }
      local_14 = (int **)((int)local_14 + 0x56);
      iVar4 = iVar4 + 1;
    } while ((int)local_14 < 0x5b8e30);
  }
  if (uVar7 != 0) {
    local_14 = local_54;
    uStack_18 = 1;
    piStack_1c = *(int **)(DAT_005e5010 + 0x14);
    uStack_20 = 0x495306;
    (**(code **)(*piStack_1c + 0x68))();
    uStack_20 = DAT_005b33d4;
    uStack_24 = 1;
    piStack_28 = *(int **)(DAT_005e5010 + 0x14);
    uStack_2c = 0x49531d;
    (**(code **)(*piStack_28 + 0x5c))();
    if (DAT_005d66a4 == 0) {
      uStack_30 = 0x1b;
      piStack_34 = *(int **)(DAT_005e5010 + 0x14);
      iVar4 = *piStack_34;
    }
    else {
      uStack_30 = 0x21;
      piStack_34 = *(int **)(DAT_005e5010 + 0x14);
      iVar4 = *piStack_34;
    }
    uStack_2c = 1;
    uStack_38 = 0x495349;
    (**(code **)(iVar4 + 0x5c))();
    uStack_38 = 1;
    uStack_3c = 0x16;
    piStack_40 = *(int **)(DAT_005e5010 + 0x14);
    uStack_44 = 0x49535c;
    (**(code **)(*piStack_40 + 0x5c))();
    uStack_44 = 0x495361;
    FUN_004955a0();
    uStack_44 = 3;
    local_54[3] = (int *)0x16;
    local_54[2] = *(int **)(DAT_005e5010 + 0x14);
    local_54[1] = (int *)0x495374;
    (**(code **)(*local_54[2] + 0x5c))();
  }
  return;
}



void FUN_00495390(int param_1)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int **ppiVar5;
  int **ppiVar6;
  int *local_44 [4];
  undefined4 local_34;
  int **local_30;
  int *local_2c;
  int *piStack_28;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  undefined4 uStack_18;
  int **local_14;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(*(int *)(param_1 + 4) + 0x100);
  *DAT_005b33d8 = 0xbf000000;
  DAT_005b33d8[1] = 0xbf000000;
  DAT_005b33d8[2] = 0;
  DAT_005b33d8[8] = 0xbf000000;
  DAT_005b33d8[9] = 0x3f000000;
  DAT_005b33d8[10] = 0;
  DAT_005b33d8[0x10] = 0x3f000000;
  DAT_005b33d8[0x11] = 0x3f000000;
  DAT_005b33d8[0x12] = 0;
  DAT_005b33d8[0x18] = 0x3f000000;
  DAT_005b33d8[0x19] = 0xbf000000;
  DAT_005b33d8[0x1a] = 0;
  ppiVar5 = (int **)&DAT_004d1ae0;
  ppiVar6 = local_44;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *ppiVar6 = *ppiVar5;
    ppiVar5 = ppiVar5 + 1;
    ppiVar6 = ppiVar6 + 1;
  }
  local_44[0] = *(int **)(DAT_005e45e4 + 0x238);
  local_44[1] = *(int **)(DAT_005e45e4 + 0x248);
  local_44[2] = *(int **)(DAT_005e45e4 + 600);
  local_34 = *(undefined4 *)(DAT_005e45e4 + 0x23c);
  local_30 = *(int ***)(DAT_005e45e4 + 0x24c);
  local_2c = *(int **)(DAT_005e45e4 + 0x25c);
  local_24 = *(undefined4 *)(DAT_005e45e4 + 0x240);
  iVar4 = 4;
  iVar3 = 0;
  do {
    iVar4 = iVar4 + -1;
    *(undefined4 *)((int)DAT_005b33d8 + iVar3 + 0x10) = 0x80ff0000;
    iVar3 = iVar3 + 0x20;
  } while (iVar4 != 0);
  local_1c = *(int **)(DAT_005e5010 + 8);
  local_14 = local_44;
  uStack_18 = DAT_005b9ce0;
  local_20 = 0x4954cc;
  (**(code **)(*local_1c + 0x40))();
  local_20 = 1;
  local_2c = *(int **)(DAT_005e5010 + 8);
  local_24 = *(undefined4 *)(DAT_005e5010 + 0xc);
  piStack_28 = DAT_005cff4c;
  local_30 = (int **)0x4954e8;
  (**(code **)(*local_2c + 0x20))();
  bVar2 = 0;
  if (*(char *)(iVar1 + 0x31) != '\0') {
    do {
      local_14 = *(int ***)((uint)bVar2 * 0x10 + *(int *)(iVar1 + 0xae));
      iVar4 = 4;
      iVar3 = 0;
      do {
        iVar4 = iVar4 + -1;
        *(undefined4 *)((int)DAT_005b33d8 + iVar3 + 0x10) = 0x8000ff00;
        iVar3 = iVar3 + 0x20;
      } while (iVar4 != 0);
      local_30 = local_44;
      local_44[3] = *(int **)(DAT_005e5010 + 8);
      local_34 = DAT_005b9ce0;
      local_44[2] = (int *)0x49555d;
      (**(code **)(*local_44[3] + 0x40))();
      local_44[2] = (int *)0x1;
      local_44[1] = *(int **)(DAT_005e5010 + 0xc);
      local_44[0] = DAT_005cff4c;
      (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))(*(int **)(DAT_005e5010 + 8));
      bVar2 = bVar2 + 1;
    } while (bVar2 < *(byte *)(iVar1 + 0x31));
  }
  return;
}



bool FUN_004955a0(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 0x14) + 0x78))
                    (*(int **)(DAT_005e5010 + 0x14),4,2,&DAT_005b33e0,DAT_005b8e00,&DAT_005b2ac0,
                     (uint)DAT_005b7866 * 3,8);
  return iVar1 == 0;
}



int FUN_004955e0(undefined4 *param_1)

{
  int iVar1;
  
  *(undefined4 *)(DAT_00599078 * 0x20 + DAT_005b2740) = *param_1;
  *(undefined4 *)(DAT_00599078 * 0x20 + 4 + DAT_005b2740) = param_1[1];
  *(undefined4 *)(DAT_00599078 * 0x20 + 8 + DAT_005b2740) = param_1[2];
  (&DAT_005b2340)[DAT_00599078] = 4;
  iVar1 = DAT_00599078 + 1;
  DAT_00599078 = iVar1 % 0xff;
  return iVar1 / 0xff;
}



undefined4 FUN_004956e0(void)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0045cb80(DAT_00598ff0,-*(float *)(DAT_005e45e4 + 0x228),
                       -*(float *)(DAT_005e45e4 + 0x230));
  FUN_00424490(DAT_00598f28,&DAT_004d2e3c,10,200);
  if (iVar1 == 0) {
    uVar2 = 99999;
  }
  else {
    uVar2 = (uint)*(ushort *)(iVar1 + 0xd);
  }
  FUN_00424490(uVar2,s_UNIT_ID_004d2e44,0x78,200);
  uVar3 = __ftol(s_UNIT_X_004d2e4c,10,0xdc,*(undefined2 *)(DAT_00598ff0 + 0x10));
  FUN_00424490(uVar3);
  uVar3 = __ftol(&DAT_004d2e54,200,0xdc,*(undefined2 *)(DAT_00598ff0 + 0x10));
  FUN_00424490(uVar3);
  return 1;
}



int FUN_004957e0(char *param_1,char param_2)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  uint uVar5;
  
  AdjustStackForLargeAllocations();
  uVar5 = 0;
  if (*(uint *)(DAT_00598d90 + 0x239) != 0) {
    piVar4 = *(int **)(DAT_00598d90 + 0x230);
    do {
      iVar2 = *piVar4;
      if (((((*(byte *)(iVar2 + 0xa1) & 4) != 0) ||
           ((*(char **)(iVar2 + 0x9d) != (char *)0x0 && (**(char **)(iVar2 + 0x9d) == '\x06')))) &&
          (*(char *)(iVar2 + 0x5a) == param_2)) && (*param_1 == '\x03')) {
        uVar3 = *(uint *)(param_1 + 4);
        puVar1 = (uint *)(*(int *)(iVar2 + 0x56) + 0x2c);
        if ((*puVar1 < uVar3 || *puVar1 == uVar3) &&
           (uVar3 <= *(uint *)(*(int *)(iVar2 + 0x56) + 0x30))) {
          return iVar2;
        }
      }
      uVar5 = uVar5 + 1;
      piVar4 = piVar4 + 1;
    } while (uVar5 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return 0;
}



undefined4 FUN_00495860(uint param_1)

{
  uint uVar1;
  int **ppiVar2;
  float fVar3;
  byte bVar4;
  int iVar5;
  size_t sVar6;
  void *pvVar7;
  uint *puVar8;
  uint uVar9;
  uint uVar10;
  float *pfVar11;
  int unaff_ESI;
  int iVar12;
  undefined local_180 [256];
  undefined local_80 [22];
  undefined local_6a;
  undefined2 local_63;
  undefined2 local_61;
  undefined2 local_5d;
  uint local_40;
  uint local_3c;
  uint local_38;
  uint local_34;
  int *local_30;
  int *local_2c;
  int *local_28;
  char *local_24;
  int *local_20;
  int *piVar13;
  uint *puVar14;
  int iVar15;
  int *piVar16;
  
  AdjustStackForLargeAllocations();
  iVar15 = 0;
  FUN_00492720();
  FUN_00492720();
  DAT_00599098 = 0;
  DAT_0059909c = 0;
  puVar14 = (uint *)-*(float *)(DAT_005e45e4 + 0x230);
  local_20 = (int *)0x4958c0;
  piVar13 = DAT_00598ff0;
  iVar5 = FUN_0045cb80();
  if (iVar5 != 0) {
    bVar4 = 0;
    local_40 = param_1 & 0xffff;
    local_3c = param_1 >> 0x10;
    local_38 = local_40;
    local_34 = local_3c;
    if (*(char *)(DAT_00598d90 + 0x238) != '\0') {
      do {
        local_24 = *(char **)(DAT_005e5010 + 8);
        piVar13 = *(int **)(DAT_005e5010 + 0xc);
        puVar14 = &local_40;
        iVar12 = (uint)bVar4 * 4;
        local_20 = *(int **)(*(int *)(DAT_00598d90 + 0x228) + iVar12);
        local_28 = (int *)0x49592c;
        iVar5 = (**(code **)(*(int *)local_24 + 0x30))();
        if (iVar5 != 0) {
          return 0;
        }
        local_28 = (int *)0x0;
        local_30 = *(int **)(DAT_005e5010 + 8);
        local_2c = (int *)&stack0xfffffff4;
        local_34 = 0x495949;
        iVar5 = (**(code **)(*local_30 + 0x34))();
        if (iVar5 != 0) {
          return 0;
        }
        if (unaff_ESI != 0) {
          sVar6 = unaff_ESI * 0xc;
          iVar5 = 0;
          local_20 = (int *)0x49596b;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_20 = (int *)0x495974;
          puVar8 = (uint *)_memset(pvVar7,iVar5,sVar6);
          piVar13 = *(int **)(DAT_005e5010 + 8);
          local_20 = (int *)0x49598c;
          puVar14 = puVar8;
          iVar5 = (**(code **)(*piVar13 + 0x34))();
          if (iVar5 != 0) {
            if (puVar8 == (uint *)0x0) {
              return 0;
            }
            FreeMemory();
            return 0;
          }
          uVar1 = unaff_ESI - 1;
          fVar3 = (float)puVar8[uVar1 * 3 + 2];
          uVar10 = 0;
          uVar9 = uVar1;
          if (uVar1 != 0) {
            pfVar11 = (float *)(puVar8 + 2);
            do {
              if (*pfVar11 < fVar3) {
                fVar3 = *pfVar11;
                uVar9 = uVar10;
              }
              uVar10 = uVar10 + 1;
              pfVar11 = pfVar11 + 3;
            } while (uVar10 < uVar1);
          }
          if (puVar14 == (uint *)0x0) {
            local_24 = (char *)puVar8[uVar9 * 3];
            local_20 = (int *)puVar8[uVar9 * 3 + 1];
            piVar13 = (int *)puVar8[uVar9 * 3 + 2];
            puVar14 = *(uint **)(*(int *)(DAT_00598d90 + 0x228) + iVar12);
          }
          else {
            ppiVar2 = (int **)(puVar8 + uVar9 * 3);
            if ((float)puVar8[uVar9 * 3 + 2] < (float)piVar13) {
              local_24 = (char *)*ppiVar2;
              local_20 = ppiVar2[1];
              piVar13 = ppiVar2[2];
              puVar14 = *(uint **)(*(int *)(DAT_00598d90 + 0x228) + iVar12);
            }
          }
          if (puVar8 != (uint *)0x0) {
            FreeMemory();
            puVar14 = puVar8;
          }
        }
        bVar4 = bVar4 + 1;
      } while (bVar4 < *(byte *)(DAT_00598d90 + 0x238));
    }
    param_1 = 0;
    if (DAT_00598f2c != 0) {
      piVar16 = &DAT_005b94ec;
      do {
        puVar14 = &local_40;
        local_24 = *(char **)(DAT_005e5010 + 8);
        piVar13 = *(int **)(DAT_005e5010 + 0xc);
        local_20 = (int *)piVar16[-3];
        local_28 = (int *)0x495aa3;
        iVar5 = (**(code **)(*(int *)local_24 + 0x30))();
        if (iVar5 != 0) {
          return 0;
        }
        local_28 = (int *)0x0;
        local_30 = *(int **)(DAT_005e5010 + 8);
        local_2c = (int *)&stack0xfffffff4;
        local_34 = 0x495ac0;
        iVar5 = (**(code **)(*local_30 + 0x34))();
        if (iVar5 != 0) {
          return 0;
        }
        if (unaff_ESI != 0) {
          sVar6 = unaff_ESI * 0xc;
          iVar5 = 0;
          local_20 = (int *)0x495ae2;
          pvVar7 = (void *)AllocateMemoryWithCallback();
          local_20 = (int *)0x495aeb;
          puVar8 = (uint *)_memset(pvVar7,iVar5,sVar6);
          piVar13 = *(int **)(DAT_005e5010 + 8);
          local_20 = (int *)0x495b03;
          puVar14 = puVar8;
          iVar5 = (**(code **)(*piVar13 + 0x34))();
          if (iVar5 != 0) {
            if (puVar8 == (uint *)0x0) {
              return 0;
            }
            FreeMemory();
            return 0;
          }
          uVar1 = unaff_ESI - 1;
          fVar3 = (float)puVar8[uVar1 * 3 + 2];
          uVar10 = 0;
          uVar9 = uVar1;
          if (uVar1 != 0) {
            pfVar11 = (float *)(puVar8 + 2);
            do {
              if (*pfVar11 < fVar3) {
                fVar3 = *pfVar11;
                uVar9 = uVar10;
              }
              uVar10 = uVar10 + 1;
              pfVar11 = pfVar11 + 3;
            } while (uVar10 < uVar1);
          }
          ppiVar2 = (int **)(puVar8 + uVar9 * 3);
          if (iVar15 == 0) {
            local_30 = *ppiVar2;
            local_2c = ppiVar2[1];
LAB_00495b71:
            local_28 = ppiVar2[2];
            iVar15 = *DAT_00598ff0 + *piVar16 * 0x3e;
          }
          else if ((float)ppiVar2[2] < (float)local_28) {
            local_30 = *ppiVar2;
            local_2c = ppiVar2[1];
            goto LAB_00495b71;
          }
          if (puVar8 != (uint *)0x0) {
            FreeMemory();
            puVar14 = puVar8;
          }
        }
        param_1 = param_1 + 1;
        piVar16 = piVar16 + 4;
      } while (param_1 < DAT_00598f2c);
    }
    if (puVar14 == (uint *)0x0) {
      iVar5 = DAT_0059909c;
      if (iVar15 != 0) {
        iVar5 = iVar15;
      }
    }
    else if (((iVar15 == 0) || (iVar5 = iVar15, (float)piVar13 < (float)local_28)) &&
            (iVar15 = FUN_004957e0(), iVar5 = DAT_0059909c, iVar15 != 0)) {
      DAT_00599098 = iVar15;
    }
    DAT_0059909c = iVar5;
    if (DAT_0059909c != 0) {
      local_20 = (int *)0x495c42;
      _memset(local_80,0,0x3d);
      local_6a = 1;
      local_63 = 0x96;
      local_61 = 0x28;
      local_5d = 7;
      local_20 = *(int **)(DAT_0059909c + 0x26);
      local_28 = (int *)local_180;
      local_24 = s_PATCH__d__d_VERT__d_TRI__d_004d2f18;
      local_2c = (int *)0x495c87;
      FUN_004b0e50();
      local_30 = (int *)local_180;
      local_20 = (int *)0x1;
      local_24 = (char *)0x5;
      local_28 = (int *)0x258;
      local_2c = (int *)0x1;
      local_34 = 6;
      local_38 = 0x495cab;
      FUN_00492100();
      return 0;
    }
    if (DAT_00599098 != 0) {
      local_20 = (int *)0x495ccd;
      _memset(local_80,0,0x3d);
      local_6a = 1;
      local_63 = 0x96;
      local_61 = 0x28;
      local_5d = 7;
      local_20 = (int *)(uint)*(ushort *)(DAT_00599098 + 4);
      local_28 = (int *)local_180;
      local_24 = s_OBJECT__d_VERT__d_TRI__d_MAT__d_004d2f34;
      local_2c = (int *)0x495d12;
      FUN_004b0e50();
      local_30 = (int *)local_180;
      local_20 = (int *)0x1;
      local_24 = (char *)0x5;
      local_28 = (int *)0x258;
      local_2c = (int *)0x1;
      local_34 = 7;
      local_38 = 0x495d36;
      FUN_00492100();
    }
  }
  return 0;
}



undefined4 FUN_00495d60(undefined4 param_1,int param_2)

{
  uint uVar1;
  float fVar2;
  ushort uVar3;
  byte bVar4;
  int iVar5;
  int iVar6;
  size_t sVar7;
  void *pvVar8;
  int *piVar9;
  uint *puVar10;
  uint uVar11;
  uint uVar12;
  int *piVar13;
  float *pfVar14;
  int unaff_ESI;
  int iVar15;
  undefined *local_2c;
  float local_20;
  undefined *puVar16;
  int *piVar17;
  int iVar18;
  
  AdjustStackForLargeAllocations();
  puVar16 = (undefined *)0x0;
  iVar18 = 0;
  local_20 = 6.737578e-39;
  iVar5 = FUN_0045cb80();
  if (iVar5 == 0) {
    return 0;
  }
  bVar4 = 0;
  if (*(char *)(DAT_00598d90 + 0x238) != '\0') {
    do {
      iVar15 = (uint)bVar4 * 4;
      puVar16 = (undefined *)0x0;
      local_20 = *(float *)(*(int *)(DAT_00598d90 + 0x228) + iVar15);
      iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x30))();
      if (iVar6 != 0) {
        return 0;
      }
      local_2c = &stack0xfffffff4;
      iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x34))();
      if (iVar6 != 0) {
        return 0;
      }
      if (unaff_ESI != 0) {
        sVar7 = unaff_ESI * 0xc;
        iVar6 = 0;
        pvVar8 = (void *)AllocateMemoryWithCallback();
        pvVar8 = _memset(pvVar8,iVar6,sVar7);
        puVar16 = &stack0xfffffff4;
        local_20 = 6.737868e-39;
        iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x34))();
        if (iVar6 != 0) {
          if (pvVar8 == (void *)0x0) {
            return 0;
          }
          FreeMemory();
          return 0;
        }
        uVar1 = unaff_ESI - 1;
        fVar2 = *(float *)((int)pvVar8 + uVar1 * 0xc + 8);
        uVar12 = 0;
        uVar11 = uVar1;
        if (uVar1 != 0) {
          pfVar14 = (float *)((int)pvVar8 + 8);
          do {
            if (*pfVar14 < fVar2) {
              fVar2 = *pfVar14;
              uVar11 = uVar12;
            }
            uVar12 = uVar12 + 1;
            pfVar14 = pfVar14 + 3;
          } while (uVar12 < uVar1);
        }
        if (puVar16 == (undefined *)0x0) {
          local_20 = *(float *)((int)pvVar8 + uVar11 * 0xc + 8);
          puVar16 = *(undefined **)(*(int *)(DAT_00598d90 + 0x228) + iVar15);
        }
        else if (*(float *)((int)pvVar8 + uVar11 * 0xc + 8) < 6.737868e-39) {
          local_20 = *(float *)((int)pvVar8 + uVar11 * 0xc + 8);
          puVar16 = *(undefined **)(*(int *)(DAT_00598d90 + 0x228) + iVar15);
        }
        if (pvVar8 != (void *)0x0) {
          puVar16 = (undefined *)0x495f2e;
          FreeMemory();
        }
      }
      bVar4 = bVar4 + 1;
    } while (bVar4 < *(byte *)(DAT_00598d90 + 0x238));
  }
  param_1 = 0;
  if (DAT_00598f2c != 0) {
    piVar13 = &DAT_005b94ec;
    do {
      puVar16 = (undefined *)0x0;
      local_20 = (float)piVar13[-3];
      iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x30))();
      if (iVar6 != 0) {
        return 0;
      }
      local_2c = &stack0xfffffff4;
      iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x34))();
      if (iVar6 != 0) {
        return 0;
      }
      if (unaff_ESI != 0) {
        sVar7 = unaff_ESI * 0xc;
        iVar6 = 0;
        pvVar8 = (void *)AllocateMemoryWithCallback();
        piVar9 = (int *)_memset(pvVar8,iVar6,sVar7);
        puVar16 = &stack0xfffffff4;
        local_20 = 6.738393e-39;
        piVar17 = piVar9;
        iVar6 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x34))();
        if (iVar6 != 0) {
          if (piVar9 == (int *)0x0) {
            return 0;
          }
          FreeMemory();
          return 0;
        }
        uVar1 = unaff_ESI - 1;
        fVar2 = (float)piVar9[uVar1 * 3 + 2];
        uVar12 = 0;
        uVar11 = uVar1;
        if (uVar1 != 0) {
          pfVar14 = (float *)(piVar9 + 2);
          do {
            if (*pfVar14 < fVar2) {
              fVar2 = *pfVar14;
              uVar11 = uVar12;
            }
            uVar12 = uVar12 + 1;
            pfVar14 = pfVar14 + 3;
            piVar13 = piVar17;
          } while (uVar12 < uVar1);
        }
        if ((iVar18 == 0) || ((float)piVar9[uVar11 * 3 + 2] < (float)local_2c)) {
          local_2c = (undefined *)piVar9[uVar11 * 3 + 2];
          iVar18 = *DAT_00598ff0 + *piVar13 * 0x3e;
        }
        if (piVar9 != (int *)0x0) {
          puVar16 = (undefined *)0x49607d;
          FreeMemory();
        }
      }
      param_1 = param_1 + 1;
      piVar13 = piVar13 + 4;
    } while (param_1 < DAT_00598f2c);
  }
  if (puVar16 == (undefined *)0x0) {
    if (iVar18 == 0) {
      return 0;
    }
    if (param_2 != 0) {
      puVar10 = (uint *)(*(int *)(iVar18 + 0x3a) + (uint)(*(ushort *)(iVar5 + 0xd) >> 5) * 4);
      *puVar10 = *puVar10 | 1 << ((byte)*(ushort *)(iVar5 + 0xd) & 0x1f);
      return 1;
    }
    iVar18 = *(int *)(iVar18 + 0x3a);
    uVar3 = *(ushort *)(iVar5 + 0xd);
  }
  else {
    if (iVar18 == 0) {
      iVar18 = FUN_004957e0();
      if (iVar18 == 0) {
        return 0;
      }
      if (param_2 != 0) {
        puVar10 = (uint *)(*(int *)(iVar18 + 0xa5) + (uint)(*(ushort *)(iVar5 + 0xd) >> 5) * 4);
        *puVar10 = *puVar10 | 1 << ((byte)*(ushort *)(iVar5 + 0xd) & 0x1f);
        return 1;
      }
    }
    else {
      if ((float)local_2c <= local_20) {
        if (param_2 != 0) {
          puVar10 = (uint *)(*(int *)(iVar18 + 0x3a) + (uint)(*(ushort *)(iVar5 + 0xd) >> 5) * 4);
          *puVar10 = *puVar10 | 1 << ((byte)*(ushort *)(iVar5 + 0xd) & 0x1f);
          return 1;
        }
        uVar3 = *(ushort *)(iVar5 + 0xd);
        puVar10 = (uint *)(*(int *)(iVar18 + 0x3a) + (uint)(uVar3 >> 5) * 4);
        goto LAB_0049623a;
      }
      iVar18 = FUN_004957e0();
      if (iVar18 == 0) {
        return 1;
      }
      if (param_2 != 0) {
        puVar10 = (uint *)(*(int *)(iVar18 + 0xa5) + (uint)(*(ushort *)(iVar5 + 0xd) >> 5) * 4);
        *puVar10 = *puVar10 | 1 << ((byte)*(ushort *)(iVar5 + 0xd) & 0x1f);
        return 1;
      }
    }
    iVar18 = *(int *)(iVar18 + 0xa5);
    uVar3 = *(ushort *)(iVar5 + 0xd);
  }
  puVar10 = (uint *)(iVar18 + (uint)(uVar3 >> 5) * 4);
LAB_0049623a:
  *puVar10 = *puVar10 & ~(1 << ((byte)uVar3 & 0x1f));
  return 1;
}



undefined4 FUN_00496280(void)

{
  int iVar1;
  uint uVar2;
  ushort uVar3;
  int *piVar4;
  
  uVar3 = 0;
  DAT_00599088._0_2_ = 0;
  piVar4 = DAT_00598ff0;
  if (*(short *)(DAT_00598ff0 + 1) != 0) {
    do {
      uVar2 = 0;
      if (0 < (int)((uint)*(ushort *)((int)piVar4 + 0xe) * (uint)*(ushort *)((int)piVar4 + 0xe))) {
        do {
          iVar1 = *(int *)(*piVar4 + 0x16 + (uint)uVar3 * 0x3e);
          if (iVar1 != 0) {
            *(short *)((uVar2 & 0xffff) * 0xf + 0xd + iVar1) = (short)DAT_00599088;
            DAT_00599088._0_2_ = (short)DAT_00599088 + 1;
            piVar4 = DAT_00598ff0;
          }
          uVar2 = uVar2 + 1;
        } while ((int)(uVar2 & 0xffff) <
                 (int)((uint)*(ushort *)((int)piVar4 + 0xe) * (uint)*(ushort *)((int)piVar4 + 0xe)))
        ;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(ushort *)(piVar4 + 1));
  }
  return 1;
}



undefined4 FUN_00496310(void)

{
  int *piVar1;
  void *_Dst;
  uint uVar2;
  int iVar3;
  ushort uVar4;
  int iVar5;
  size_t sVar6;
  uint uVar7;
  int iVar8;
  size_t _Size;
  
  iVar5 = 0;
  uVar7 = ((DAT_00599088 & 0xffff) >> 3) + 4;
  iVar8 = 0;
  if ((uVar7 & 3) != 0) {
    uVar7 = uVar7 + (4 - (uVar7 & 3));
  }
  DAT_005b279e._0_2_ = (undefined2)uVar7;
  if (DAT_00599084 != (void *)0x0) {
    FreeMemory(DAT_00599084);
    DAT_00599084 = (void *)0x0;
  }
  if (*(ushort *)(DAT_00598ff0 + 1) != 0) {
    piVar1 = (int *)(*DAT_00598ff0 + 0x12);
    uVar2 = (uint)*(ushort *)(DAT_00598ff0 + 1);
    do {
      if (*piVar1 != 0) {
        iVar5 = iVar5 + uVar7;
      }
      piVar1 = (int *)((int)piVar1 + 0x3e);
      uVar2 = uVar2 - 1;
    } while (uVar2 != 0);
  }
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    iVar5 = iVar5 + uVar7 * *(int *)(DAT_00598d90 + 0x239);
  }
  sVar6 = iVar5 + 2000;
  iVar5 = 0;
  _Size = sVar6;
  _Dst = (void *)AllocateMemoryWithCallback(sVar6);
  DAT_00599084 = _memset(_Dst,iVar5,_Size);
  uVar4 = 0;
  piVar1 = DAT_00598ff0;
  DAT_005b2840 = sVar6;
  if (*(short *)(DAT_00598ff0 + 1) != 0) {
    do {
      iVar5 = *piVar1 + (uint)uVar4 * 0x3e;
      if (*(int *)(iVar5 + 0x12) != 0) {
        iVar3 = (int)DAT_00599084 + iVar8;
        iVar8 = iVar8 + uVar7;
        *(int *)(iVar5 + 0x3a) = iVar3;
        piVar1 = DAT_00598ff0;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(ushort *)(piVar1 + 1));
  }
  uVar2 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar3 = (int)DAT_00599084 + iVar8;
      iVar8 = iVar8 + uVar7;
      iVar5 = uVar2 * 4;
      uVar2 = uVar2 + 1;
      *(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + iVar5) + 0xa5) = iVar3;
    } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
  }
  FUN_00496280();
  return 1;
}



undefined4 FUN_00496450(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  ushort uVar4;
  int *piVar5;
  
  uVar4 = 0;
  uVar3 = 0;
  piVar5 = DAT_00598ff0;
  if (*(short *)(DAT_00598ff0 + 1) != 0) {
    do {
      iVar1 = *piVar5 + (uint)uVar4 * 0x3e;
      if (*(int *)(iVar1 + 0x12) != 0) {
        *(uint *)(iVar1 + 0x3a) = (uVar3 & 0xffff) + DAT_00599084;
        uVar3 = uVar3 + DAT_005b279e;
        piVar5 = DAT_00598ff0;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < *(ushort *)(piVar5 + 1));
  }
  uVar2 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      *(uint *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar2 * 4) + 0xa5) =
           (uVar3 & 0xffff) + DAT_00599084;
      uVar3 = uVar3 + DAT_005b279e;
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
  }
  FUN_00496280();
  return 1;
}



undefined4 FUN_00496500(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0045cb80();
  if (iVar1 != 0) {
    FUN_004b0ec0();
    uVar2 = 0;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        FUN_00483340();
        uVar2 = uVar2 + 1;
      } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
    }
    DAT_00598f2c = 0;
    FUN_004849a0();
    iVar1 = 0x10;
    do {
      OutputDebugStringA(&DAT_004d3074);
      __ftol();
      iVar3 = 0xc;
      do {
        __ftol();
        FUN_00495d60();
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    OutputDebugStringA(&DAT_004d3078);
  }
  uVar2 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      FUN_00483340();
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return 1;
}



undefined4 FUN_00496680(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0045cb80();
  if (iVar1 != 0) {
    FUN_004b0ec0();
    uVar2 = 0;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        FUN_00483340();
        uVar2 = uVar2 + 1;
      } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
    }
    DAT_00598f2c = 0;
    FUN_004849a0();
    iVar1 = 0x10;
    do {
      OutputDebugStringA(&DAT_004d30d8);
      __ftol();
      iVar3 = 0xc;
      do {
        __ftol();
        FUN_00495d60();
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    OutputDebugStringA(&DAT_004d30dc);
  }
  uVar2 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      FUN_00483340();
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return 1;
}



undefined4 FUN_00496a40(void)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  undefined local_8c [116];
  undefined4 uStack_18;
  undefined4 uStack_14;
  float local_10;
  undefined *local_c;
  
  AdjustStackForLargeAllocations();
  local_c = (undefined *)((float)*(int *)(DAT_005e5010 + 0x2538) * 0.0015625);
  local_10 = -*(float *)(DAT_005e45e4 + 0xc0);
  uStack_14 = DAT_00598ff0;
  uStack_18 = 0x496aa2;
  iVar2 = FUN_0045cb80();
  if (iVar2 != 0) {
    local_c = local_8c;
    local_10 = 6.742276e-39;
    FUN_004b0ec0();
    uVar3 = 0;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        local_c = (undefined *)0x0;
        uStack_14 = 0x496ad6;
        local_10 = (float)uVar3;
        FUN_00483340();
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
    }
    DAT_00598f2c = 0;
    local_c = *(undefined **)(DAT_005e5010 + 8);
    local_10 = 6.742376e-39;
    FUN_004849a0();
    local_c = (undefined *)0x1;
    local_10 = 6.742402e-39;
    uVar1 = __ftol();
    local_10 = 6.742434e-39;
    iVar2 = __ftol();
    local_10 = (float)((uint)uVar1 | iVar2 << 0x10);
    uStack_14 = 0x496b3a;
    FUN_00495d60();
  }
  uVar3 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      local_c = (undefined *)0x0;
      uStack_14 = 0x496b56;
      local_10 = (float)uVar3;
      FUN_00483340();
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00496b80(void)

{
  float fVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  float10 fVar6;
  
  AdjustStackForLargeAllocations();
  iVar2 = DAT_005e45e4;
  fVar1 = *(float *)(DAT_00598d90 + 0x108);
  if (DAT_0059908c == 0) {
    puVar4 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar5 = &DAT_005b2860;
    for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    puVar4 = (undefined4 *)(iVar2 + 8);
    puVar5 = &DAT_005b2800;
    for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    _DAT_005b27e0 = *(undefined4 *)(iVar2 + 0xc0);
    _DAT_005b27e4 = *(undefined4 *)(iVar2 + 200);
  }
  _memset((void *)(iVar2 + 0x4c),0,0x40);
  if (DAT_0059908c < 0x13a) {
    fVar6 = (float10)FUN_004ae0c4();
    *(float *)(DAT_005e45e4 + 0x74) = (float)fVar6;
    *(undefined4 *)(DAT_005e45e4 + 0x4c) = *(undefined4 *)(DAT_005e45e4 + 0x74);
    fVar6 = (float10)FUN_004ae014();
    *(float *)(DAT_005e45e4 + 0x6c) = (float)fVar6;
    *(float *)(DAT_005e45e4 + 0x54) = -*(float *)(DAT_005e45e4 + 0x6c);
    *(undefined4 *)(DAT_005e45e4 + 0x88) = 0x3f800000;
    *(undefined4 *)(DAT_005e45e4 + 0x60) = 0x3f800000;
  }
  else {
    puVar4 = &DAT_005b2860;
    puVar5 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    puVar4 = &DAT_005b2800;
    puVar5 = (undefined4 *)(DAT_005e45e4 + 8);
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
  }
  fVar6 = (float10)FUN_0041c650(-*(float *)(DAT_005e45e4 + 0xc0),-*(float *)(DAT_005e45e4 + 200),
                                &stack0xffffffe8,&stack0xfffffff4);
  *(float *)(DAT_005e45e4 + 0xc4) =
       (float)DAT_00599090 * 0.03125 * (-fVar1 - (float)fVar6) + (float)fVar6;
  FUN_00418510();
  if (0x139 < DAT_0059908c) {
    if (DAT_00599080 == 0) {
      DAT_0059907c = 0;
    }
    else {
      iVar2 = FUN_00497420();
      if (DAT_00599094 == iVar2) {
        DAT_00599080 = 0;
        DAT_0059907c = 0;
        FUN_00498670();
        DAT_0059908c = 0;
        DAT_00599090 = 0;
        goto LAB_00496d54;
      }
    }
    DAT_0059908c = 0;
    DAT_00599090 = 0;
  }
LAB_00496d54:
  if (0x1f < DAT_00599090) {
    DAT_00599090 = 0;
    DAT_0059908c = DAT_0059908c + 3;
    return 1;
  }
  DAT_00599090 = DAT_00599090 + 1;
  return 1;
}



undefined4 FUN_00496d90(void)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  undefined local_8c [116];
  undefined4 uStack_18;
  undefined4 uStack_14;
  float local_10;
  undefined *local_c;
  
  AdjustStackForLargeAllocations();
  local_c = (undefined *)((float)*(int *)(DAT_005e5010 + 0x2538) * 0.0015625);
  local_10 = -*(float *)(DAT_005e45e4 + 0xc0);
  uStack_14 = DAT_00598ff0;
  uStack_18 = 0x496df2;
  iVar2 = FUN_0045cb80();
  if (iVar2 != 0) {
    local_c = local_8c;
    local_10 = 6.743464e-39;
    FUN_004b0ec0();
    uVar3 = 0;
    if (*(int *)(DAT_00598d90 + 0x239) != 0) {
      do {
        local_c = (undefined *)0x0;
        uStack_14 = 0x496e26;
        local_10 = (float)uVar3;
        FUN_00483340();
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
    }
    DAT_00598f2c = 0;
    local_c = *(undefined **)(DAT_005e5010 + 8);
    local_10 = 6.743564e-39;
    FUN_004849a0();
    local_c = (undefined *)0x1;
    local_10 = 6.743591e-39;
    uVar1 = __ftol();
    local_10 = 6.743623e-39;
    iVar2 = __ftol();
    local_10 = (float)((uint)uVar1 | iVar2 << 0x10);
    uStack_14 = 0x496e8a;
    FUN_00495d60();
  }
  uVar3 = 0;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      local_c = (undefined *)0x0;
      uStack_14 = 0x496ea6;
      local_10 = (float)uVar3;
      FUN_00483340();
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(DAT_00598d90 + 0x239));
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00496ed0(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float10 fVar5;
  undefined local_48 [12];
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  float local_30;
  undefined4 local_2c;
  float local_28;
  float local_24;
  undefined *local_20;
  float fVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_005e45e4;
  if (DAT_0059908c == 0) {
    puVar3 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    puVar4 = &DAT_005b2860;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    puVar3 = (undefined4 *)(iVar1 + 8);
    puVar4 = &DAT_005b2800;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    puVar3 = (undefined4 *)(iVar1 + 0x90);
    puVar4 = (undefined4 *)((int)&DAT_005b279e + 2);
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    _DAT_005b27e0 = *(undefined4 *)(iVar1 + 0xc0);
    _DAT_005b27e4 = *(undefined4 *)(iVar1 + 200);
  }
  local_20 = (undefined *)0x496f54;
  _memset((void *)(iVar1 + 0x4c),0,0x40);
  if (DAT_0059908c == 0) {
LAB_0049718a:
    puVar3 = &DAT_005b2860;
    puVar4 = (undefined4 *)(DAT_005e45e4 + 0x4c);
    for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
    puVar3 = &DAT_005b2800;
    puVar4 = (undefined4 *)(DAT_005e45e4 + 8);
    for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar4 = *puVar3;
      puVar3 = puVar3 + 1;
      puVar4 = puVar4 + 1;
    }
  }
  else {
    if (*(uint *)(DAT_00598d90 + 0x239) < DAT_0059908c) {
      fVar5 = (float10)FUN_004ae014();
      fVar6 = -*(float *)(DAT_005e45e4 + 0xc4);
      local_24 = (float)(fVar5 * (float10)5.0 - (float10)*(float *)(DAT_005e45e4 + 0xc0));
      FUN_004ae0c4();
    }
    else {
      iVar1 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + -4 + DAT_0059908c * 4);
      if ((*(byte *)(iVar1 + 0xa1) & 4) == 0) goto LAB_0049718a;
      local_24 = *(float *)(iVar1 + 0x79) -
                 (*(float *)(iVar1 + 0x85) - *(float *)(iVar1 + 0x79)) * -0.5;
      fVar6 = *(float *)(iVar1 + 0x7d) -
              (*(float *)(iVar1 + 0x89) - *(float *)(iVar1 + 0x7d)) * -0.5;
    }
    local_24 = *(float *)(DAT_005e45e4 + 0xc0) + local_24;
    local_20 = (undefined *)(*(float *)(DAT_005e45e4 + 0xc4) + fVar6);
    fVar6 = 6.744374e-39;
    fVar5 = (float10)FUN_004ad534();
    if ((float10)DAT_005d669c < fVar5) goto LAB_0049718a;
    local_30 = fVar6;
    FUN_0045eab0();
    if ((local_30 == 0.0) && (local_28 = 0.0, local_24 == 0.0)) {
      local_30 = 1.0;
    }
    else {
      local_28 = -local_24;
    }
    local_2c = 0;
    FUN_0045eab0();
    puVar3 = &local_3c;
    local_20 = (undefined *)0x49710c;
    FUN_0045eb50();
    *(float *)(DAT_005e45e4 + 0x4c) = local_30;
    *(undefined4 *)(DAT_005e45e4 + 0x5c) = local_2c;
    *(float *)(DAT_005e45e4 + 0x6c) = local_28;
    *(undefined4 *)(DAT_005e45e4 + 0x50) = local_3c;
    *(undefined4 *)(DAT_005e45e4 + 0x60) = local_38;
    *(undefined4 *)(DAT_005e45e4 + 0x70) = local_34;
    *(float *)(DAT_005e45e4 + 0x54) = local_24;
    *(undefined **)(DAT_005e45e4 + 100) = local_20;
    *(undefined4 **)(DAT_005e45e4 + 0x74) = puVar3;
    *(undefined4 *)(DAT_005e45e4 + 0x88) = 0x3f800000;
  }
  fVar6 = 0.0;
  local_24 = -*(float *)(DAT_005e45e4 + 200);
  local_20 = local_48;
  local_28 = -*(float *)(DAT_005e45e4 + 0xc0);
  local_2c = 0x4971e1;
  fVar5 = (float10)FUN_0041c650();
  *(float *)(DAT_005e45e4 + 0xc4) =
       (fVar6 - (float)fVar5) * *(float *)(&DAT_004d2e20 + DAT_00599090 * 4) + (float)fVar5;
  FUN_00418510();
  if (*(int *)(DAT_00598d90 + 0x239) + 0x20U <= DAT_0059908c) {
    if (DAT_00599080 == 0) {
      DAT_0059907c = 0;
    }
    else {
      iVar1 = FUN_00497420();
      if (DAT_00599094 == iVar1) {
        DAT_00599080 = 0;
        DAT_0059907c = 0;
        puVar3 = (undefined4 *)((int)&DAT_005b279e + 2);
        puVar4 = (undefined4 *)(DAT_005e45e4 + 0x90);
        for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
          *puVar4 = *puVar3;
          puVar3 = puVar3 + 1;
          puVar4 = puVar4 + 1;
        }
        FUN_00498670();
        DAT_0059908c = 0;
        DAT_00599090 = 0;
        goto LAB_00497283;
      }
    }
    DAT_0059908c = 0;
    DAT_00599090 = 0;
  }
LAB_00497283:
  if (5 < DAT_00599090) {
    DAT_00599090 = 0;
    DAT_0059908c = DAT_0059908c + 1;
    return 1;
  }
  DAT_00599090 = DAT_00599090 + 1;
  return 1;
}



undefined4 FUN_00497320(void)

{
  FUN_00496280();
  return 1;
}



int FUN_00497420(void)

{
  int iVar1;
  int iVar2;
  float10 fVar3;
  float local_18;
  float local_14;
  
  AdjustStackForLargeAllocations();
  local_14 = -*(float *)(DAT_005e45e4 + 200);
  local_18 = -*(float *)(DAT_005e45e4 + 0xc0);
  iVar1 = FUN_0045cb80(DAT_00598ff0);
  do {
    *(float *)(DAT_005e45e4 + 0xc0) =
         *(float *)(DAT_005e45e4 + 0xc0) - (float)(uint)*(ushort *)(DAT_00598ff0 + 0x10);
    if (*(float *)(DAT_005e45e4 + 0xc0) <
        (float)-((uint)*(ushort *)(DAT_00598ff0 + 0x10) * (uint)*(ushort *)(DAT_00598ff0 + 0xe) *
                (uint)*(ushort *)(DAT_00598ff0 + 6))) {
      *(undefined4 *)(DAT_005e45e4 + 0xc0) = 0;
      *(float *)(DAT_005e45e4 + 200) =
           *(float *)(DAT_005e45e4 + 200) - (float)(uint)*(ushort *)(DAT_00598ff0 + 0x10);
      if (*(float *)(DAT_005e45e4 + 200) <
          (float)-((uint)*(ushort *)(DAT_00598ff0 + 0x10) * (uint)*(ushort *)(DAT_00598ff0 + 8) *
                  (uint)*(ushort *)(DAT_00598ff0 + 0xe))) {
        *(undefined4 *)(DAT_005e45e4 + 200) = 0;
      }
    }
    local_14 = -*(float *)(DAT_005e45e4 + 200);
    local_18 = -*(float *)(DAT_005e45e4 + 0xc0);
    iVar2 = FUN_0045cb80(DAT_00598ff0);
  } while ((iVar2 == 0) || (iVar2 == iVar1));
  local_14 = 0.0;
  local_18 = 0.0;
  fVar3 = (float10)FUN_0041c650(-*(float *)(DAT_005e45e4 + 0xc0),-*(float *)(DAT_005e45e4 + 200),
                                &local_18,&stack0xfffffff4);
  *(float *)(DAT_005e45e4 + 0xc4) = (float)fVar3;
  if (*(int *)(DAT_005e45e4 + 0xc4) == -0x39e3c000) {
    *(float *)(DAT_005e45e4 + 0xc4) = *(float *)(DAT_00598d90 + 0x10c) - 6.0;
    return iVar2;
  }
  *(float *)(DAT_005e45e4 + 0xc4) = *(float *)(DAT_005e45e4 + 0xc4) * -1.0;
  *(float *)(DAT_005e45e4 + 0xc4) = *(float *)(DAT_005e45e4 + 0xc4) - 3.0;
  return iVar2;
}



undefined4
FUN_00497630(float *param_1,float *param_2,float *param_3,float *param_4,float *param_5,
            float *param_6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float10 fVar8;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  undefined8 local_18;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  
  AdjustStackForLargeAllocations();
  local_34 = *param_5 - *param_3;
  local_28 = *param_4 - *param_3;
  local_30 = param_5[1] - param_3[1];
  local_24 = param_4[1] - param_3[1];
  local_2c = param_5[2] - param_3[2];
  local_20 = param_4[2] - param_3[2];
  fVar13 = *param_5;
  fVar1 = *param_4;
  fVar2 = param_5[1];
  fVar3 = param_4[1];
  fVar12 = param_5[2];
  fVar4 = param_4[2];
  local_1c = local_2c * local_24 - local_30 * local_20;
  fVar10 = local_34 * local_20 - local_2c * local_28;
  fVar11 = local_30 * local_28 - local_34 * local_24;
  fVar5 = local_1c * *param_2 + fVar11 * param_2[2] + fVar10 * param_2[1];
  if (0.0001 < fVar5) {
    return 0;
  }
  fVar5 = (fVar11 * (param_3[2] - param_1[2]) +
          fVar10 * (param_3[1] - param_1[1]) + local_1c * (*param_3 - *param_1)) / fVar5;
  if (fVar5 < -0.0001) {
    return 0;
  }
  local_40 = fVar5 * *param_2 + *param_1;
  local_3c = fVar5 * param_2[1] + param_1[1];
  local_38 = fVar5 * param_2[2] + param_1[2];
  fVar7 = fVar10 * local_20 - fVar11 * local_24;
  fVar9 = fVar11 * local_28 - local_1c * local_20;
  fVar6 = local_1c * local_24 - fVar10 * local_28;
  if ((local_38 * fVar6 + local_3c * fVar9 + local_40 * fVar7) -
      (fVar7 * *param_3 + fVar6 * param_3[2] + fVar9 * param_3[1]) < -0.0001) {
    return 0;
  }
  local_18._4_4_ = &stack0xfffffff0;
  fVar9 = fVar10 * local_2c - fVar11 * local_30;
  fVar11 = fVar11 * local_34 - local_1c * local_2c;
  fVar10 = local_1c * local_30 - fVar10 * local_34;
  local_18._0_4_ = 6.7472e-39;
  FUN_0045eab0();
  if (0.0001 < (local_38 * fVar10 + local_3c * fVar11 + local_40 * fVar9) -
               (fVar9 * *param_3 + fVar10 * param_3[2] + fVar11 * param_3[1])) {
    return 0;
  }
  fVar10 = (float)local_18 * (fVar12 - fVar4) - (float)local_18._4_4_ * (fVar2 - fVar3);
  fVar12 = (float)local_18._4_4_ * (fVar13 - fVar1) - local_1c * (fVar12 - fVar4);
  fVar13 = local_1c * (fVar2 - fVar3) - (float)local_18 * (fVar13 - fVar1);
  local_18 = (double)CONCAT44(&stack0xfffffff0,0x497913);
  FUN_0045eab0();
  if ((local_38 * fVar13 + local_3c * fVar12 + local_40 * fVar10) -
      (fVar10 * *param_4 + fVar13 * param_4[2] + fVar12 * param_4[1]) < -0.0001) {
    return 0;
  }
  local_18 = (double)CONCAT44(&local_40,0x497970);
  FUN_004955e0();
  local_18 = (double)(fVar5 * param_2[2] * fVar5 * param_2[2] +
                     fVar5 * param_2[1] * fVar5 * param_2[1] + fVar5 * *param_2 * fVar5 * *param_2);
  local_1c = 6.747647e-39;
  fVar8 = (float10)FUN_004ad534();
  *param_6 = (float)fVar8;
  return 1;
}



float10 FUN_004979d0(int param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  ushort *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint unaff_EDI;
  uint uVar7;
  undefined *local_1c;
  undefined **local_18;
  undefined ***local_14;
  int iVar8;
  
  AdjustStackForLargeAllocations();
  iVar5 = 0;
  iVar3 = *(int *)(param_1 + 0x56);
  uVar4 = 0;
  local_14 = (undefined ***)0x47c34f80;
  iVar8 = 0;
  iVar1 = *(int *)(iVar3 + 0x3c);
  if (*(int *)(iVar3 + 0x14) != 0) {
    do {
      uVar7 = 0;
      if (*(int *)(*(int *)(iVar3 + 0x20) + uVar4 * 4) != 0) {
        iVar6 = iVar5 * 0xc;
        iVar5 = iVar8;
        do {
          local_14 = &local_18;
          local_18 = &local_1c;
          puVar2 = (ushort *)(*(int *)(iVar3 + 0xc) + iVar6);
          local_1c = &stack0xfffffff8;
          iVar3 = FUN_00497630(param_2,param_3,(uint)*puVar2 * 0x20 + iVar1,
                               (uint)puVar2[1] * 0x20 + iVar1,(uint)puVar2[2] * 0x20 + iVar1);
          if ((iVar3 != 0) && (99999.0 < (float)local_14)) {
            local_14 = (undefined ***)0x47c34f80;
          }
          iVar5 = iVar5 + 1;
          iVar6 = iVar6 + 0xc;
          iVar3 = *(int *)(param_1 + 0x56);
          uVar7 = uVar7 + 1;
          uVar4 = unaff_EDI;
          iVar8 = iVar5;
        } while (uVar7 < *(uint *)(*(int *)(iVar3 + 0x20) + unaff_EDI * 4));
      }
      uVar4 = uVar4 + 1;
      iVar3 = *(int *)(param_1 + 0x56);
      unaff_EDI = uVar4;
    } while (uVar4 < *(uint *)(iVar3 + 0x14));
  }
  return (float10)(float)local_14;
}



float10 FUN_00497ac0(float param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  ushort *puVar3;
  int iVar4;
  int iVar5;
  undefined *local_14;
  int iVar6;
  float fVar7;
  
  AdjustStackForLargeAllocations();
  iVar2 = (int)param_1;
  param_1 = 99999.0;
  iVar1 = *(int *)(iVar2 + 0x12);
  iVar5 = 0;
  fVar7 = 99999.0;
  iVar6 = 0;
  if (0 < (int)((uint)*(ushort *)(DAT_00598ff0 + 0xe) * (uint)*(ushort *)(DAT_00598ff0 + 0xe))) {
    do {
      local_14 = &stack0xfffffff0;
      puVar3 = (ushort *)(*(int *)(iVar2 + 10) + iVar5);
      iVar4 = FUN_00497630(param_2,param_3,(uint)*puVar3 * 0x20 + iVar1,
                           (uint)puVar3[1] * 0x20 + iVar1,(uint)puVar3[2] * 0x20 + iVar1,&param_1,
                           &local_14);
      if ((iVar4 != 0) && (param_1 < fVar7)) {
        fVar7 = param_1;
      }
      local_14 = &stack0xfffffff0;
      puVar3 = (ushort *)(*(int *)(iVar2 + 10) + iVar5 + 0xc);
      iVar4 = FUN_00497630(param_2,param_3,(uint)*puVar3 * 0x20 + iVar1,
                           (uint)puVar3[1] * 0x20 + iVar1,(uint)puVar3[2] * 0x20 + iVar1,&param_1,
                           &local_14);
      if ((iVar4 != 0) && (param_1 < fVar7)) {
        fVar7 = param_1;
      }
      iVar5 = iVar5 + 0x18;
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)((uint)*(ushort *)(DAT_00598ff0 + 0xe) *
                          (uint)*(ushort *)(DAT_00598ff0 + 0xe)));
  }
  return (float10)fVar7;
}



undefined4 FUN_00497bf0(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 unaff_ESI;
  int iVar3;
  undefined local_30 [16];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined *puStack_18;
  char *pcStack_14;
  uint uVar4;
  
  AdjustStackForLargeAllocations();
  pcStack_14 = s_warehouse_vis_004d3168;
  iVar3 = 0;
  puStack_18 = (undefined *)0x497c10;
  uVar1 = OpenFileWithFixedFlags0x40();
  uVar4 = 0;
  if (DAT_005b2840 / 0x1c != 0) {
    do {
      pcStack_14 = &stack0xfffffff0;
      puStack_18 = &DAT_004d3178;
      uStack_20 = 0x497c40;
      uStack_1c = uVar1;
      FUN_004afbb0();
      iVar2 = 0x1c;
      do {
        pcStack_14 = &stack0xfffffffb;
        puStack_18 = &DAT_004d317c;
        uStack_20 = 0x497c57;
        uStack_1c = uVar1;
        FUN_004afbb0();
        *(char *)(iVar3 + DAT_00599084) = (char)((uint)unaff_ESI >> 0x18);
        iVar3 = iVar3 + 1;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
      pcStack_14 = local_30;
      puStack_18 = &DAT_004d3180;
      uStack_20 = 0x497c78;
      uStack_1c = uVar1;
      FUN_004afbb0();
      uVar4 = uVar4 + 1;
    } while (uVar4 < DAT_005b2840 / 0x1c);
  }
  pcStack_14 = (char *)0x497ca3;
  FUN_004adcf0();
  return 1;
}



undefined4 FUN_00497cc0(int param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  double dVar5;
  float fVar6;
  uint uVar7;
  uint uVar8;
  float *pfVar9;
  int iVar10;
  uint *puVar11;
  float *pfVar12;
  int iVar13;
  int iVar14;
  float *pfVar15;
  int iVar16;
  int iVar17;
  float10 fVar18;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  float local_48;
  undefined8 local_44;
  undefined8 local_3c;
  int local_34;
  uint local_30;
  int local_2c;
  int local_28;
  int local_24;
  float local_20;
  int *local_1c;
  undefined8 local_18;
  float fVar19;
  
  AdjustStackForLargeAllocations();
  DAT_0059907c = 1;
  local_34 = 0;
  local_1c = DAT_00598ff0;
  if (param_1 != 0) {
    local_18 = (double)CONCAT44(0x497cf1,(int)local_18);
    FUN_00497320();
    local_18 = (double)CONCAT44(0x497cf6,(int)local_18);
    FUN_00496310();
    iVar13 = 0;
    local_1c = DAT_00598ff0;
    iVar10 = DAT_00598d90;
    if ((short)DAT_00599088 != 0) {
      do {
        iVar17 = 0;
        if (*(short *)(local_1c + 1) != 0) {
          iVar16 = 0;
          do {
            if (*(int *)(*local_1c + iVar16 + 0x12) != 0) {
              puVar11 = (uint *)(*(int *)(*local_1c + iVar16 + 0x3a) + (iVar13 >> 5) * 4);
              *puVar11 = *puVar11 & ~(1 << ((byte)iVar13 & 0x1f));
              local_1c = DAT_00598ff0;
              iVar10 = DAT_00598d90;
            }
            iVar17 = iVar17 + 1;
            iVar16 = iVar16 + 0x3e;
          } while (iVar17 < (int)(uint)*(ushort *)(local_1c + 1));
        }
        uVar7 = 0;
        if (*(int *)(iVar10 + 0x239) != 0) {
          do {
            puVar11 = (uint *)(*(int *)(*(int *)(*(int *)(iVar10 + 0x230) + uVar7 * 4) + 0xa5) +
                              (iVar13 >> 5) * 4);
            uVar7 = uVar7 + 1;
            *puVar11 = *puVar11 & ~(1 << ((byte)iVar13 & 0x1f));
            local_1c = DAT_00598ff0;
            iVar10 = DAT_00598d90;
          } while (uVar7 < *(uint *)(DAT_00598d90 + 0x239));
        }
        iVar13 = iVar13 + 1;
      } while (iVar13 < (int)(DAT_00599088 & 0xffff));
    }
  }
  local_18 = (double)CONCAT44(-*(float *)(DAT_005e45e4 + 200),-*(float *)(DAT_005e45e4 + 0xc0));
  local_20 = 6.749161e-39;
  DAT_00599094 = FUN_0045cb80();
  iVar10 = DAT_00599094;
  do {
    local_24 = 0;
    local_20 = 0.0;
    fVar1 = *(float *)(DAT_005e45e4 + 0xc0);
    fVar6 = -*(float *)(DAT_005e45e4 + 0xc4);
    fVar2 = *(float *)(DAT_005e45e4 + 200);
    while( true ) {
      if (param_1 == 0) {
        fVar19 = 0.1;
      }
      else {
        fVar19 = 1.0;
      }
      if (fVar19 <= local_20) break;
      fVar19 = -fVar1;
      fVar3 = fVar6;
      fVar4 = -fVar2;
      if (param_1 != 0) {
        local_3c = (double)-fVar1;
        dVar5 = (double)(local_20 * 3.14);
        local_1c = (int *)0x497e73;
        local_44 = dVar5;
        local_18 = dVar5;
        fVar18 = (float10)FUN_004ae014();
        local_44 = (double)-fVar2;
        local_5c = (float)((float10)local_3c - fVar18 * (float10)3.0);
        local_58 = (*(float *)(DAT_00598d90 + 0x108) - fVar6) * local_20 + fVar6;
        local_1c = (int *)0x497eab;
        local_18 = dVar5;
        fVar18 = (float10)FUN_004ae0c4();
        fVar19 = local_5c;
        fVar3 = local_58;
        fVar4 = (float)((float10)local_44 - fVar18 * (float10)-3.0);
      }
      local_54 = fVar4;
      local_58 = fVar3;
      local_5c = fVar19;
      local_30 = 0;
      if (*(int *)(DAT_00598d90 + 0x239) != 0) {
        do {
          local_2c = *(int *)(*(int *)(DAT_00598d90 + 0x230) + local_30 * 4);
          puVar11 = (uint *)(*(int *)(local_2c + 0xa5) + (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4)
          ;
          uVar8 = 1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f);
          uVar7 = *puVar11;
          if ((uVar8 & uVar7) == 0) {
            if (((*(int *)(local_2c + 0x5b) == 0) && ((*(ushort *)(local_2c + 0xa1) & 4) != 0)) &&
               ((*(ushort *)(local_2c + 0xa1) & 0xe0) == 0)) {
              iVar13 = *(int *)(*(int *)(local_2c + 0x56) + 0x3c);
              local_3c = (double)CONCAT44(iVar13,(uint)local_3c);
              if ((iVar13 != 0) &&
                 ((iVar13 = *(int *)(local_2c + 0x9d), iVar13 == 0 ||
                  ((*(int *)(iVar13 + 0xf) != 0x100 && ((*(byte *)(iVar13 + 1) & 0x80) == 0)))))) {
                local_1c = (int *)0x0;
                if (**(int **)(*(int *)(local_2c + 0x56) + 0x20) != 0) {
                  local_28 = 0;
                  do {
                    iVar13 = 0;
                    do {
                      iVar17 = *(int *)(*(int *)(local_2c + 0x56) + 0xc);
                      iVar16 = local_28 + iVar17;
                      iVar14 = (uint)*(ushort *)(iVar16 + 4) * 0x20;
                      iVar16 = (uint)*(ushort *)(iVar16 + 2) * 0x20;
                      pfVar15 = (float *)(iVar14 + local_3c._4_4_);
                      pfVar12 = (float *)(iVar16 + local_3c._4_4_);
                      pfVar9 = (float *)((uint)*(ushort *)(local_28 + iVar17) * 0x20 +
                                        local_3c._4_4_);
                      iVar17 = 0;
                      local_50 = (*(float *)(iVar14 + local_3c._4_4_) +
                                  *(float *)(iVar16 + local_3c._4_4_) + *pfVar9) * 0.3333333;
                      local_4c = (pfVar15[1] + pfVar12[1] + pfVar9[1]) * 0.3333333;
                      local_48 = (pfVar9[2] + pfVar12[2] + pfVar15[2]) * 0.3333333;
                      if (iVar13 == 0) {
                        fVar3 = *pfVar9;
                        fVar4 = pfVar9[1];
                        fVar19 = pfVar9[2];
LAB_00498067:
                        local_50 = local_50 - (local_50 - fVar3) * -0.95;
                        local_4c = local_4c - (local_4c - fVar4) * -0.95;
                        local_48 = local_48 - (local_48 - fVar19) * -0.95;
                      }
                      else {
                        if (iVar13 == 1) {
                          fVar3 = *pfVar12;
                          fVar4 = pfVar12[1];
                          fVar19 = pfVar12[2];
                          goto LAB_00498067;
                        }
                        if (iVar13 == 2) {
                          local_50 = (local_50 - *pfVar15) * 0.95;
                          local_4c = (local_4c - pfVar15[1]) * 0.95;
                          local_48 = (local_48 - pfVar15[2]) * 0.95;
                        }
                      }
                      local_50 = local_50 - local_5c;
                      local_4c = local_4c - local_58;
                      local_48 = local_48 - local_54;
                      local_18 = (double)(local_48 * local_48 +
                                         local_4c * local_4c + local_50 * local_50);
                      local_1c = (int *)0x4980cd;
                      fVar19 = DAT_005d669c;
                      fVar18 = (float10)FUN_004ad534();
                      if (fVar18 <= (float10)DAT_005d669c) {
                        uVar7 = 0;
                        if (*(int *)(DAT_00598d90 + 0x239) != 0) {
                          do {
                            iVar16 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar7 * 4);
                            if ((((*(int *)(iVar16 + 0x5b) == 0) &&
                                 ((*(ushort *)(iVar16 + 0xa1) & 4) != 0)) &&
                                (((*(ushort *)(iVar16 + 0xa1) & 0xe0) == 0 &&
                                 (*(int *)(*(int *)(iVar16 + 0x56) + 0x3c) != 0)))) &&
                               ((iVar14 = *(int *)(iVar16 + 0x9d), iVar14 == 0 ||
                                ((*(int *)(iVar14 + 0xf) != 0x100 &&
                                 ((*(byte *)(iVar14 + 1) & 0x80) == 0)))))) {
                              local_18 = (double)CONCAT44(&local_50,&local_5c);
                              local_20 = 6.75036e-39;
                              local_1c = (int *)iVar16;
                              fVar18 = (float10)FUN_004979d0();
                              if (fVar18 < (float10)fVar19) {
                                fVar19 = (float)fVar18;
                                iVar17 = iVar16;
                              }
                            }
                            uVar7 = uVar7 + 1;
                          } while (uVar7 < *(uint *)(DAT_00598d90 + 0x239));
                          local_18 = (double)CONCAT44(iVar17,(int)local_18);
                        }
                        iVar16 = 0;
                        if (*(short *)(DAT_00598ff0 + 1) != 0) {
                          iVar17 = 0;
                          do {
                            iVar14 = *DAT_00598ff0 + iVar17;
                            if (*(int *)(*DAT_00598ff0 + 0x12 + iVar17) != 0) {
                              local_18 = (double)CONCAT44(&local_50,&local_5c);
                              local_20 = 6.750472e-39;
                              local_1c = (int *)iVar14;
                              fVar18 = (float10)FUN_00497ac0();
                              if (fVar18 < (float10)fVar19) {
                                fVar19 = (float)fVar18;
                                local_18 = (double)CONCAT44(local_18._4_4_,iVar14);
                              }
                            }
                            iVar16 = iVar16 + 1;
                            iVar17 = iVar17 + 0x3e;
                          } while (iVar16 < (int)(uint)*(ushort *)(DAT_00598ff0 + 1));
                          iVar17 = local_18._4_4_;
                        }
                        if (fVar19 != DAT_005d669c) {
                          if ((int)local_18 == 0) {
                            if (iVar17 != 0) {
                              puVar11 = (uint *)(*(int *)(iVar17 + 0xa5) +
                                                (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4);
                              uVar8 = 1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f);
                              uVar7 = *puVar11;
                              if ((uVar8 & uVar7) == 0) {
                                *puVar11 = uVar7 | uVar8;
                                local_24 = local_24 + 1;
                              }
                            }
                          }
                          else {
                            puVar11 = (uint *)(*(int *)((int)local_18 + 0x3a) +
                                              (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4);
                            *puVar11 = *puVar11 | 1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f);
                          }
                        }
                      }
                      iVar13 = iVar13 + 1;
                    } while (iVar13 < 4);
                    local_1c = (int *)((int)local_1c + 1);
                    local_28 = local_28 + 0xc;
                  } while (local_1c < **(int ***)(*(int *)(local_2c + 0x56) + 0x20));
                }
                goto LAB_00498265;
              }
            }
            *puVar11 = uVar7 | uVar8;
          }
LAB_00498265:
          local_30 = local_30 + 1;
        } while (local_30 < *(uint *)(DAT_00598d90 + 0x239));
      }
      local_3c = (double)(ulonglong)(uint)local_3c;
      if (*(short *)(DAT_00598ff0 + 1) != 0) {
        local_2c = 0;
        do {
          local_28 = *DAT_00598ff0 + local_2c;
          local_44 = (double)CONCAT44(*(int *)(local_28 + 0x12),(undefined4)local_44);
          if (((*(int *)(local_28 + 0x12) != 0) &&
              ((*(uint *)(*(int *)(local_28 + 0x3a) + (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4) &
               1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f)) == 0)) &&
             (local_1c = (int *)0x0,
             0 < (int)((uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                       (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) * 2))) {
            local_30 = 0;
            do {
              iVar13 = 0;
              do {
                iVar17 = local_30 + *(int *)(local_28 + 10);
                iVar14 = (uint)*(ushort *)(iVar17 + 4) * 0x20;
                iVar16 = (uint)*(ushort *)(iVar17 + 2) * 0x20;
                pfVar15 = (float *)(iVar14 + local_44._4_4_);
                pfVar12 = (float *)(iVar16 + local_44._4_4_);
                pfVar9 = (float *)((uint)*(ushort *)(local_30 + *(int *)(local_28 + 10)) * 0x20 +
                                  local_44._4_4_);
                iVar17 = 0;
                local_50 = (*(float *)(iVar14 + local_44._4_4_) +
                            *(float *)(iVar16 + local_44._4_4_) + *pfVar9) * 0.3333333;
                local_4c = (pfVar15[1] + pfVar12[1] + pfVar9[1]) * 0.3333333;
                local_48 = (pfVar9[2] + pfVar12[2] + pfVar15[2]) * 0.3333333;
                if (iVar13 == 0) {
                  fVar3 = *pfVar9;
                  fVar4 = pfVar9[1];
                  fVar19 = pfVar9[2];
LAB_004983d8:
                  local_50 = local_50 - (local_50 - fVar3) * -0.95;
                  local_4c = local_4c - (local_4c - fVar4) * -0.95;
                  local_48 = local_48 - (local_48 - fVar19) * -0.95;
                }
                else {
                  if (iVar13 == 1) {
                    fVar3 = *pfVar12;
                    fVar4 = pfVar12[1];
                    fVar19 = pfVar12[2];
                    goto LAB_004983d8;
                  }
                  if (iVar13 == 2) {
                    local_50 = (local_50 - *pfVar15) * 0.95;
                    local_4c = (local_4c - pfVar15[1]) * 0.95;
                    local_48 = (local_48 - pfVar15[2]) * 0.95;
                  }
                }
                local_50 = local_50 - local_5c;
                local_4c = local_4c - local_58;
                local_48 = local_48 - local_54;
                local_18 = (double)(local_48 * local_48 + local_4c * local_4c + local_50 * local_50)
                ;
                local_1c = (int *)0x49843e;
                fVar19 = DAT_005d669c;
                fVar18 = (float10)FUN_004ad534();
                if (fVar18 <= (float10)DAT_005d669c) {
                  uVar7 = 0;
                  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
                    do {
                      iVar16 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + uVar7 * 4);
                      if ((((*(int *)(iVar16 + 0x5b) == 0) &&
                           ((*(ushort *)(iVar16 + 0xa1) & 4) != 0)) &&
                          (((*(ushort *)(iVar16 + 0xa1) & 0xe0) == 0 &&
                           (*(int *)(*(int *)(iVar16 + 0x56) + 0x3c) != 0)))) &&
                         ((iVar14 = *(int *)(iVar16 + 0x9d), iVar14 == 0 ||
                          ((*(int *)(iVar14 + 0xf) != 0x100 && ((*(byte *)(iVar14 + 1) & 0x80) == 0)
                           ))))) {
                        local_18 = (double)CONCAT44(&local_50,&local_5c);
                        local_20 = 6.751595e-39;
                        local_1c = (int *)iVar16;
                        fVar18 = (float10)FUN_004979d0();
                        if (fVar18 < (float10)fVar19) {
                          fVar19 = (float)fVar18;
                          iVar17 = iVar16;
                        }
                      }
                      uVar7 = uVar7 + 1;
                    } while (uVar7 < *(uint *)(DAT_00598d90 + 0x239));
                    local_18 = (double)CONCAT44(iVar17,(int)local_18);
                  }
                  iVar16 = 0;
                  if (*(short *)(DAT_00598ff0 + 1) != 0) {
                    iVar17 = 0;
                    do {
                      iVar14 = *DAT_00598ff0 + iVar17;
                      if (*(int *)(*DAT_00598ff0 + 0x12 + iVar17) != 0) {
                        local_18 = (double)CONCAT44(&local_50,&local_5c);
                        local_20 = 6.751715e-39;
                        local_1c = (int *)iVar14;
                        fVar18 = (float10)FUN_00497ac0();
                        if (fVar18 < (float10)fVar19) {
                          fVar19 = (float)fVar18;
                          local_18 = (double)CONCAT44(local_18._4_4_,iVar14);
                        }
                      }
                      iVar16 = iVar16 + 1;
                      iVar17 = iVar17 + 0x3e;
                    } while (iVar16 < (int)(uint)*(ushort *)(DAT_00598ff0 + 1));
                    iVar17 = local_18._4_4_;
                  }
                  if (fVar19 != DAT_005d669c) {
                    if ((int)local_18 == 0) {
                      if (iVar17 != 0) {
                        puVar11 = (uint *)(*(int *)(iVar17 + 0xa5) +
                                          (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4);
                        uVar8 = 1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f);
                        uVar7 = *puVar11;
                        if ((uVar8 & uVar7) == 0) {
                          *puVar11 = uVar7 | uVar8;
                          local_24 = local_24 + 1;
                        }
                      }
                    }
                    else {
                      puVar11 = (uint *)(*(int *)((int)local_18 + 0x3a) +
                                        (uint)(*(ushort *)(iVar10 + 0xd) >> 5) * 4);
                      *puVar11 = *puVar11 | 1 << ((byte)*(ushort *)(iVar10 + 0xd) & 0x1f);
                    }
                  }
                }
                iVar13 = iVar13 + 1;
              } while (iVar13 < 4);
              local_1c = (int *)((int)local_1c + 1);
              local_30 = local_30 + 0xc;
              iVar13 = (uint)*(ushort *)((int)DAT_00598ff0 + 0xe) *
                       (uint)*(ushort *)((int)DAT_00598ff0 + 0xe);
            } while (SBORROW4((int)local_1c,iVar13 * 2) != (int)local_1c + iVar13 * -2 < 0);
          }
          iVar13 = local_3c._4_4_ + 1;
          local_2c = local_2c + 0x3e;
          local_3c = (double)CONCAT44(iVar13,(uint)local_3c);
        } while (iVar13 < (int)(uint)*(ushort *)(DAT_00598ff0 + 1));
      }
      local_20 = local_20 - -0.33;
    }
    if ((param_1 != 0) && (((byte)local_34 & 7) == 7)) {
      local_18 = (double)CONCAT44(0x49862c,(int)local_18);
      FUN_00498670();
    }
    local_34 = local_34 + 1;
    if (param_1 == 0) {
      DAT_0059907c = 0;
      return 1;
    }
    local_18 = (double)CONCAT44(0x49863c,(int)local_18);
    iVar10 = FUN_00497420();
    if (iVar10 == DAT_00599094) {
      DAT_0059907c = 0;
      return 1;
    }
  } while( true );
}



undefined4 FUN_00498670(void)

{
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00498680(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint unaff_EBX;
  int iVar5;
  undefined4 uVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005df318 + 4);
  iVar5 = 0;
  iVar2 = *(int *)(iVar1 + 4);
  iVar3 = *(int *)(*(int *)(*(int *)(iVar2 + 0x86) + 0x13) + 0x7f);
  switch(iVar3) {
  case 0:
  case 9:
  case 10:
  case 0xd:
  case 0x10:
  case 0x13:
  case 0x15:
  case 0x16:
  case 0x18:
  case 0x1a:
  case 0x1f:
    break;
  default:
    if ((iVar3 == 0x17) && ((*(uint *)(iVar2 + 0x8a) & 0x400) == 0)) {
      iVar5 = 0;
      goto LAB_00498762;
    }
    if ((iVar3 == 0x19) && ((*(uint *)(iVar2 + 0x8a) & 0x200000) == 0)) {
      iVar5 = 0;
      goto LAB_00498762;
    }
    if ((iVar3 != 0x1b) || ((*(uint *)(iVar2 + 0x8a) & 0x200000) != 0)) {
      if (DAT_005990a0 == '\0') {
        if (iVar3 == 0x1e) {
          uVar6 = 0;
        }
        else {
LAB_00498751:
          uVar6 = 1;
        }
      }
      else {
        if (*(int *)(iVar1 + 0x12) == 0) goto LAB_00498762;
        if (iVar3 != 0x1e) {
          iVar5 = FUN_0047db60(iVar1,1,0,1);
          if ((iVar5 == 0) || (iVar5 == *(int *)(iVar1 + 0x12))) goto LAB_00498762;
          goto LAB_00498751;
        }
        iVar5 = FUN_0047db60(iVar1,1,0,0);
        if ((iVar5 == 0) || (iVar5 == *(int *)(iVar1 + 0x12))) goto LAB_00498762;
        uVar6 = 0;
      }
      iVar5 = FUN_0047db60(iVar1,0,0,uVar6);
      goto LAB_00498762;
    }
  }
  iVar5 = 0;
LAB_00498762:
  if ((DAT_00598944 != 0) && (*(int *)(iVar1 + 0x12) != iVar5)) {
    if ((DAT_00598924 != 0) && (unaff_EBX = 0, DAT_005d6760 != 0)) {
      do {
        FUN_00492660(unaff_EBX + 0x14,10);
        FUN_00492660(unaff_EBX + 0x1e,9);
        unaff_EBX = unaff_EBX + 1;
      } while (unaff_EBX < DAT_005d6760);
    }
    *(int *)(iVar1 + 0x12) = iVar5;
    FUN_00466530(0x11,0,0,0,0,0);
    if (iVar5 != 0) {
      FUN_00492660(unaff_EBX + 0x14,0xb);
      FUN_00492660(unaff_EBX + 0x1e,0xc);
    }
  }
  if ((DAT_005a4b80 != 0) &&
     ((DAT_005a4b88 = iVar5, iVar5 == 0 ||
      (DAT_005a4b84 = 1,
      *(char *)(*(int *)(*(int *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x86) + 0x13) + 0x103)
      != *(char *)(*(int *)(*(int *)(*(int *)(iVar5 + 4) + 0x86) + 0x13) + 0x102))))) {
    DAT_005a4b84 = 0;
  }
  *(int *)(iVar1 + 0x12) = iVar5;
  uVar4 = (_DAT_005990a0 & 0xff) + 1;
  _DAT_005990a0 = CONCAT31(DAT_005990a0_1,(char)((ulonglong)uVar4 % 0xc));
  return uVar4 / 0xc;
}



undefined4 FUN_004988b0(void)

{
  char cVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  int iVar7;
  float fVar8;
  float fVar9;
  float10 fVar10;
  float local_20;
  float local_1c;
  float local_18;
  byte *local_14;
  
  AdjustStackForLargeAllocations();
  iVar7 = *(int *)(DAT_005df318 + 4);
  if (DAT_00598d6c == 0) {
    local_14 = (byte *)0x4988d6;
    FUN_00498680();
  }
  uVar5 = *(uint *)(*(int *)(iVar7 + 4) + 0x8a);
  if ((uVar5 & 0x20000000) == 0) {
    iVar7 = *(int *)(*(int *)(DAT_005e45e8 + 4) + 0x86);
    if (((((*(int *)(*(int *)(iVar7 + 0x13) + 0x7f) != 0x1b) ||
          ((*(byte *)(*(int *)(DAT_005e45e8 + 4) + 0xc9) & 0x20) == 0)) ||
         (*(char *)(iVar7 + 10) != '\0')) && (((uVar5 & 0x400) == 0 && (DAT_00598e18 == 0)))) &&
       (DAT_005aa0ea = 0, DAT_004d8388 == 0)) goto LAB_0049893a;
  }
  DAT_005aa0ea = 1;
LAB_0049893a:
  for (fVar2 = *(float *)(DAT_005df318 + 4); fVar2 != 0.0; fVar2 = *(float *)((int)fVar2 + 0x16)) {
    iVar7 = *(int *)((int)fVar2 + 4);
    if (((*(uint *)(iVar7 + 0x8a) & 0x400000) != 0) &&
       (((*(uint *)(iVar7 + 0x8a) & 2) == 0 || (*(int *)(*(int *)(iVar7 + 0x100) + 0x32) == 0)))) {
      iVar3 = *(int *)(iVar7 + 0x86);
      local_14 = (byte *)(iVar7 + 0xc9);
      iVar4 = *(int *)(*(int *)(iVar7 + 0x86) + 0x13);
      if ((*(byte *)(iVar7 + 0xc9) & 0x20) == 0) {
        iVar4 = iVar4 + 0x104;
      }
      else {
        iVar4 = iVar4 + 0x6b;
      }
      *(int *)(iVar7 + 0x98) = iVar4;
      iVar4 = *(int *)(*(int *)(*(int *)((int)fVar2 + 4) + 0x98) + 0x10);
      if ((((iVar4 == 2) || (iVar4 == 7)) || (iVar4 == 3)) &&
         ((*(byte *)(iVar3 + 4) < 0x19 && ((DAT_005a1124 & 3) == 0)))) {
        local_14 = (byte *)0x4989e0;
        fVar10 = (float10)FUN_0045e9e0();
        local_20 = (float)((fVar10 + (float10)*(float *)(iVar7 + 0x36)) - (float10)0.5);
        local_14 = (byte *)0x4989f1;
        fVar10 = (float10)FUN_0045e9e0();
        local_1c = (float)((fVar10 + (float10)*(float *)(iVar7 + 0x3a)) - (float10)0.5);
        local_14 = (byte *)0x498a02;
        fVar10 = (float10)FUN_0045e9e0();
        local_14 = &DAT_00000006;
        local_18 = (float)((fVar10 + (float10)*(float *)(iVar7 + 0x3e)) - (float10)0.5);
        local_1c = 6.753529e-39;
        fVar10 = (float10)FUN_0045e9e0();
        local_1c = (float)((fVar10 - (float10)-1.0) * (float10)0.25);
        local_20 = 1.401298e-45;
        FUN_0046cc80(&local_20,8);
      }
      if ((*(char *)(iVar7 + 5) == '\0') &&
         ((cVar1 = *(char *)(iVar7 + 4), cVar1 == '\x05' || (cVar1 == '\x06')))) {
        if ((DAT_00598944 == 0) && (fVar2 != *(float *)(DAT_005df318 + 4))) {
          if ((*(byte *)(*(int *)((int)fVar2 + 4) + 0x8a) & 2) == 0) {
            fVar8 = 0.0;
          }
          else {
            fVar8 = (float)(-(uint)((*(byte *)(*(int *)(*(int *)((int)fVar2 + 4) + 0x100) + 0x58) &
                                    0x10) != 0) & (uint)*(float *)(DAT_005df318 + 4));
          }
        }
        else {
          fVar8 = *(float *)((int)fVar2 + 0x12);
        }
        fVar9 = 0.0;
        *(float *)((int)fVar2 + 0x12) = fVar8;
        if ((cVar1 == '\x05') || ((*local_14 & 0x20) != 0)) {
          fVar9 = (float)(*(int *)(iVar3 + 0x13) + 0x6b);
        }
        if (fVar9 != 0.0) {
          iVar4 = *(int *)((int)fVar9 + 0x14);
          if (iVar4 == 10) {
            if ((*(byte *)((int)fVar9 + 0x80) & 0x80) != 0) {
              iVar4 = 4;
              uVar6 = 0;
              do {
                local_14 = (byte *)CONCAT22((short)((uint)uVar6 >> 0x10),
                                            *(undefined2 *)((int)fVar9 + 0x7c));
                local_18 = *(float *)((int)fVar9 + 0x6c);
                local_1c = 6.754219e-39;
                FUN_0045e9e0();
                local_14 = (byte *)(uint)*(ushort *)((int)fVar9 + 0x6a);
                local_1c = 6.754243e-39;
                local_1c = (float)__ftol();
                local_20 = 6.754252e-39;
                fVar10 = (float10)FUN_0045e9e0();
                local_20 = (float)((float10)0.05 -
                                  fVar10 * (float10)*(float *)((int)fVar9 + 0x74) * (float10)-0.1);
                fVar10 = (float10)FUN_0045e9e0();
                fVar10 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                                      fVar10 * (float10)*(float *)((int)fVar9 + 0x70
                                                                                  ) * (float10)-0.05
                                                      ));
                fVar10 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                                      fVar10 * (float10)*(float *)((int)fVar9 + 0x78
                                                                                  ) * (float10)-0.05
                                                      ));
                uVar6 = FUN_0046c880(5,1,iVar7 + 6,(float)(fVar10 * (float10)6.28));
                iVar4 = iVar4 + -1;
              } while (iVar4 != 0);
            }
            if ((*(byte *)((int)fVar9 + 0x80) & 2) != 0) {
              local_14 = (byte *)0x0;
              local_18 = 1.401298e-45;
              local_1c = 1.401298e-44;
              local_20 = 6.754427e-39;
              FUN_0046c830();
            }
          }
          else if (iVar4 == 0x1e) {
            local_14 = (byte *)0x498b71;
            fVar10 = (float10)FUN_0045e9e0();
            local_20 = (float)((float10)*(float *)(iVar7 + 0x36) - fVar10 * (float10)-1.5);
            local_14 = (byte *)0x498b82;
            fVar10 = (float10)FUN_0045e9e0();
            local_1c = (float)((float10)*(float *)(iVar7 + 0x3a) - fVar10 * (float10)-1.5);
            local_14 = (byte *)0x498b93;
            FUN_0045e9e0();
            local_14 = (byte *)((uint)*(ushort *)((int)fVar9 + 0x7e) % 3);
            local_18 = 6.754106e-39;
            uVar5 = FUN_004af640();
            local_18 = (float)(uVar5 & 7);
            local_1c = 6.754118e-39;
            fVar10 = (float10)FUN_0045e9e0();
            local_1c = (float)((float10)0.1 - fVar10 * (float10)-0.75);
            local_20 = 1.401298e-45;
            FUN_0046cc80(&local_20,8);
          }
          else if ((iVar4 == 0x1f) && (*(char *)(iVar3 + 10) == '\0')) {
            iVar4 = 4;
            do {
              local_14 = (byte *)0x498afb;
              fVar10 = (float10)FUN_0045e9e0();
              local_20 = (float)((float10)*(float *)(iVar7 + 0x36) - fVar10 * (float10)-0.5);
              local_1c = *(float *)(iVar7 + 0x3a) - 0.64;
              local_14 = (byte *)0x498b18;
              FUN_0045e9e0();
              local_14 = (byte *)((uint)*(ushort *)((int)fVar9 + 0x7e) % 3);
              local_18 = 6.753933e-39;
              uVar5 = FUN_004af640();
              local_18 = (float)(uVar5 & 0xf);
              local_1c = 6.753946e-39;
              fVar10 = (float10)FUN_0045e9e0();
              local_1c = (float)((float10)0.1 - fVar10 * (float10)-0.25);
              local_20 = 1.401298e-45;
              FUN_0046cc80(&local_20,8);
              iVar4 = iVar4 + -1;
            } while (iVar4 != 0);
          }
          switch(*(undefined4 *)((int)fVar9 + 0x14)) {
          case 0xe:
            if (fVar8 != 0.0) {
              local_20 = 6.754678e-39;
              local_1c = fVar8;
              local_18 = fVar2;
              local_14 = (byte *)fVar9;
              FUN_004a4200();
            }
            break;
          case 0x10:
            local_14 = (byte *)0x1;
            local_18 = (float)(*(int *)(*(int *)(*(int *)((int)fVar2 + 4) + 0x86) + 0x13) + 0x8d);
            local_20 = 6.754595e-39;
            local_1c = fVar2;
            iVar7 = FUN_00409bd0();
            if ((iVar7 == 1) && (*(char *)(iVar3 + 10) == '\0')) {
              local_1c = 6.75463e-39;
              local_18 = fVar2;
              local_14 = (byte *)iVar3;
              FUN_0046c550();
              local_20 = 6.75465e-39;
              local_1c = fVar8;
              local_18 = fVar2;
              local_14 = (byte *)fVar9;
              FUN_004a4320();
            }
            break;
          case 0x11:
            local_20 = fVar8;
            local_1c = fVar2;
            local_18 = fVar9;
            local_14 = (byte *)iVar3;
            FUN_004a4540();
            break;
          case 0x13:
            local_18 = 6.75455e-39;
            local_14 = (byte *)fVar2;
            FUN_0046c510();
            break;
          case 0x15:
            if (*(char *)(iVar3 + 10) == '\0') {
              local_14 = (byte *)0x0;
              local_1c = 6.754493e-39;
              local_18 = fVar2;
              FUN_0046c5a0();
            }
            break;
          case 0x16:
            if (*(char *)(iVar3 + 10) == '\0') {
              local_14 = (byte *)0x1;
              local_1c = 6.754535e-39;
              local_18 = fVar2;
              FUN_0046c5a0();
            }
          }
        }
      }
    }
  }
  return 1;
}



undefined4 FUN_00498da0(int param_1)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  
  iVar2 = *(int *)(param_1 + 4);
  if ((*(ushort *)(iVar2 + 0x8e) & 0x80) != 0) {
    *(uint *)(iVar2 + 0xc9) = *(uint *)(iVar2 + 0xc9) & 0xfffffcac;
    return 1;
  }
  if ((*(ushort *)(iVar2 + 0x8e) & 0x100) != 0) {
    if ((*(byte *)(iVar2 + 0x8a) & 0xc0) == 0) {
      uVar3 = *(uint *)(iVar2 + 0xc9) & 0xfffcbc;
    }
    else {
      uVar3 = *(uint *)(iVar2 + 0xc9) & 0xfffffcac;
    }
    *(uint *)(iVar2 + 0xc9) = uVar3;
    if (*(int *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x86) + 0x13) + 0x7f) != 0x1e) {
      puVar1 = (uint *)(*(int *)(param_1 + 4) + 0xc9);
      *puVar1 = *puVar1 & 0x20;
    }
    return 1;
  }
  return 0;
}



undefined4 FUN_00498e20(void)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 *puVar2;
  undefined4 local_4c [2];
  undefined4 local_44;
  undefined4 local_40;
  undefined *local_3c;
  
  AdjustStackForLargeAllocations();
  FUN_0048f340();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x30);
  iVar1 = *(int *)(DAT_005e5010 + 0x2190);
  *unaff_ESI = 8;
  unaff_ESI[1] = 8;
  if (iVar1 == 0) {
    *(undefined2 *)(unaff_ESI + 2) = 1;
    puVar2 = (undefined4 *)(unaff_ESI + 4);
    *puVar2 = 0x21;
  }
  else {
    *(undefined2 *)(unaff_ESI + 2) = 2;
    *(undefined4 *)(unaff_ESI + 4) = 0xe;
    *(undefined4 *)(unaff_ESI + 8) = 0;
    puVar2 = (undefined4 *)(unaff_ESI + 0xc);
    *puVar2 = 0x1b;
  }
  puVar2[1] = 1;
  *(undefined *)(puVar2 + 2) = 0xb;
  *(undefined *)((int)puVar2 + 9) = 0;
  *(undefined2 *)((int)puVar2 + 10) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  local_3c = (undefined *)0x498f22;
  _memset(local_4c,0,0x30);
  local_3c = (undefined *)((int)puVar2 + (0xc - (int)unaff_ESI));
  local_4c[0] = 0x30;
  local_44 = 0;
  local_40 = 0;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005a2880 = 0;
  return 1;
}



undefined4 FUN_00498f60(void)

{
  int iVar1;
  undefined *unaff_ESI;
  undefined4 *puVar2;
  undefined4 local_4c [2];
  undefined4 local_44;
  undefined4 local_40;
  undefined *local_3c;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffe4,0,0x14);
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_ESI,0,0x18);
  iVar1 = *(int *)(DAT_005e5010 + 0x2190);
  *unaff_ESI = 8;
  unaff_ESI[1] = 8;
  if (iVar1 == 0) {
    *(undefined2 *)(unaff_ESI + 2) = 1;
    puVar2 = (undefined4 *)(unaff_ESI + 4);
    *puVar2 = 0x21;
  }
  else {
    *(undefined2 *)(unaff_ESI + 2) = 2;
    *(undefined4 *)(unaff_ESI + 4) = 0xe;
    *(undefined4 *)(unaff_ESI + 8) = 1;
    puVar2 = (undefined4 *)(unaff_ESI + 0xc);
    *puVar2 = 0x1b;
  }
  puVar2[1] = 0;
  *(undefined *)(puVar2 + 2) = 0xb;
  *(undefined *)((int)puVar2 + 9) = 0;
  *(undefined2 *)((int)puVar2 + 10) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  local_3c = (undefined *)0x499055;
  _memset(local_4c,0,0x30);
  local_3c = (undefined *)((int)puVar2 + (0xc - (int)unaff_ESI));
  local_4c[0] = 0x30;
  local_44 = 0;
  local_40 = 0;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005a2884 = 0;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_00499090(void)

{
  uint uVar1;
  uint uVar2;
  
  _DAT_005a1124 = 0;
  DAT_004d77c4 = 0;
  DAT_004d77c0 = 0;
  uVar1 = FUN_00498e20();
  uVar2 = FUN_00498f60();
  if ((DAT_005d66c0 & 2) != 0) {
    FUN_004999d0();
  }
  if (((DAT_005d66c0 & 0x800) != 0) && (*(int *)(DAT_005e5010 + 0x790) != 0)) {
    FUN_004a29c0();
  }
  if ((DAT_005d66c0 & 8) != 0) {
    FUN_0049b660();
  }
  if ((DAT_005d66c0 & 0x10) != 0) {
    FUN_0049a420();
  }
  if ((DAT_005d66c0 & 0x80) != 0) {
    FUN_0049ae80();
  }
  if ((DAT_005d66c0 & 0x100) != 0) {
    FUN_0049b1a0();
  }
  if ((DAT_005d66c0 & 0x200) != 0) {
    FUN_0049b990();
  }
  if (((byte)DAT_005d66c4 & 1) != 0) {
    FUN_00499c10();
  }
  if (((byte)DAT_005d66c4 & 2) != 0) {
    FUN_0049a300();
  }
  FUN_0049c2d0();
  DAT_005a111c = 0;
  DAT_005a1120 = 0;
  return uVar1 & 1 & uVar2;
}



undefined4 FUN_00499160(void)

{
  if ((DAT_005a2880 != (int *)0x0) && (*DAT_005a2880 != 0)) {
    (**(code **)(*DAT_005a2880 + 8))(DAT_005a2880);
  }
  DAT_005a2880 = (int *)0x0;
  if ((DAT_005a2884 != (int *)0x0) && (*DAT_005a2884 != 0)) {
    (**(code **)(*DAT_005a2884 + 8))(DAT_005a2884);
  }
  DAT_005a2884 = (int *)0x0;
  if ((DAT_005a4bd0 != (int *)0x0) && (*DAT_005a4bd0 != 0)) {
    (**(code **)(*DAT_005a4bd0 + 8))(DAT_005a4bd0);
  }
  DAT_005a4bd0 = (int *)0x0;
  if ((DAT_005aa7d0 != (int *)0x0) && (*DAT_005aa7d0 != 0)) {
    (**(code **)(*DAT_005aa7d0 + 8))(DAT_005aa7d0);
  }
  DAT_005aa7d0 = (int *)0x0;
  if ((DAT_005a88c0 != (int *)0x0) && (*DAT_005a88c0 != 0)) {
    (**(code **)(*DAT_005a88c0 + 8))(DAT_005a88c0);
  }
  DAT_005a88c0 = (int *)0x0;
  if ((DAT_005a52cc != (int *)0x0) && (*DAT_005a52cc != 0)) {
    (**(code **)(*DAT_005a52cc + 8))(DAT_005a52cc);
  }
  DAT_005a52cc = (int *)0x0;
  if ((DAT_005a28a0 != (int *)0x0) && (*DAT_005a28a0 != 0)) {
    (**(code **)(*DAT_005a28a0 + 8))(DAT_005a28a0);
  }
  DAT_005a28a0 = (int *)0x0;
  if ((DAT_005a9f54 != (int *)0x0) && (*DAT_005a9f54 != 0)) {
    (**(code **)(*DAT_005a9f54 + 8))(DAT_005a9f54);
  }
  DAT_005a9f54 = (int *)0x0;
  return 1;
}



void FUN_00499240(void)

{
  FUN_0046ba20();
  if (((byte)DAT_005d66c0 & 0x20) != 0) {
    FUN_0049b8c0();
  }
  if (((byte)DAT_005d66c0 & 0x40) != 0) {
    FUN_0049b940();
  }
  if ((DAT_005d66c8 & 4) != 0) {
    FUN_0049a6e0();
  }
  if ((DAT_005d66c8 & 0x2000) != 0) {
    FUN_0049a930();
  }
  if ((DAT_005d66c8 & 8) != 0) {
    FUN_0049b3d0();
  }
  if ((DAT_005d66c8 & 0x20) != 0) {
    FUN_00499740();
  }
  FUN_0049a6b0();
  if ((DAT_005d66c8 & 0x10) != 0) {
    FUN_0049bbb0();
  }
  if ((DAT_005d66c8 & 2) != 0) {
    FUN_00499f50();
  }
  if ((DAT_005d66c8 & 1) != 0) {
    FUN_0049ab80();
  }
  if ((DAT_005d66c8 & 0x40) != 0) {
    FUN_0049a660();
  }
  if ((DAT_005d66c8 & 0x80) != 0) {
    FUN_0049a1b0();
  }
  if ((DAT_005d66c8 & 0x100) != 0) {
    FUN_00476a20();
  }
  if ((DAT_005d66c8 & 0x800) != 0) {
    FUN_00450ec0();
    return;
  }
  return;
}



undefined4 FUN_00499310(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046b7c0();
  local_20 = (int *)0x499351;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xbc);
  *unaff_EDI = 0xc0400000;
  unaff_EDI[1] = 0xc0400000;
  unaff_EDI[2] = 0;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0;
  unaff_EDI[7] = 0;
  unaff_EDI[9] = 0x40400000;
  unaff_EDI[0xf] = 0x3f7d70a4;
  unaff_EDI[8] = 0xc0400000;
  unaff_EDI[10] = 0;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0;
  unaff_EDI[0x10] = 0x40400000;
  unaff_EDI[0x11] = 0x40400000;
  unaff_EDI[0x12] = 0;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7d70a4;
  unaff_EDI[0x17] = 0x3f7d70a4;
  unaff_EDI[0x18] = 0x40400000;
  unaff_EDI[0x19] = 0xc0400000;
  unaff_EDI[0x1a] = 0;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f7d70a4;
  unaff_EDI[0x1f] = 0;
  puVar4 = unaff_EDI + 0x20;
  *(undefined *)puVar4 = 8;
  *(undefined *)((int)unaff_EDI + 0x81) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x22] = iVar1;
  unaff_EDI[0x21] = 1;
  *(undefined *)(unaff_EDI + 0x23) = 9;
  *(undefined *)((int)unaff_EDI + 0x8d) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x8e) = 1;
  unaff_EDI[0x24] = 1;
  *(undefined2 *)(unaff_EDI + 0x25) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 0;
  unaff_EDI[0x26] = 8;
  unaff_EDI[0x27] = 0;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 4;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 3;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 3;
  *(undefined2 *)((int)puVar3 + 0xe) = 1;
  *(undefined2 *)(puVar3 + 4) = 2;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1e;
  *(undefined *)(puVar3 + 5) = 0xb;
  *(undefined *)((int)puVar3 + 0x15) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x4994e9;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x18 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005b1eaa = 0;
  DAT_005d0450 = 4;
  return 1;
}



undefined4 FUN_00499540(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  local_20 = (int *)0x49955e;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar1 = (**(code **)(*local_20 + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xbc);
  DAT_005b1ea4 = unaff_EDI;
  *unaff_EDI = 0xc0400000;
  unaff_EDI[1] = 0xc0400000;
  unaff_EDI[2] = 0;
  unaff_EDI[4] = 0x7fffff00;
  unaff_EDI[5] = 0;
  unaff_EDI[9] = 0x43fa0000;
  unaff_EDI[0xc] = 0x7fffff00;
  unaff_EDI[8] = 0xc0400000;
  unaff_EDI[10] = 0;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0x11] = 0x43fa0000;
  unaff_EDI[0x10] = 0x40400000;
  unaff_EDI[0x12] = 0;
  unaff_EDI[0x14] = 0x7fffff00;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7d70a4;
  unaff_EDI[0x17] = 0x3f7d70a4;
  unaff_EDI[0x18] = 0x40400000;
  unaff_EDI[0x19] = 0xc0400000;
  unaff_EDI[0x1a] = 0;
  unaff_EDI[0x1c] = 0x7fffff00;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f7d70a4;
  unaff_EDI[0x1f] = 0;
  puVar3 = unaff_EDI + 0x20;
  *(undefined *)puVar3 = 8;
  *(undefined *)((int)unaff_EDI + 0x81) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  unaff_EDI[0x22] = 0;
  *(undefined *)(unaff_EDI + 0x23) = 9;
  *(undefined *)((int)unaff_EDI + 0x8d) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x8e) = 1;
  unaff_EDI[0x24] = 1;
  *(undefined2 *)(unaff_EDI + 0x25) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 0;
  unaff_EDI[0x26] = 4;
  unaff_EDI[0x27] = 0;
  puVar2 = unaff_EDI + 0x28;
  if (((uint)puVar2 & 7) == 0) {
    *(undefined *)puVar2 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar2 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar2 = 3;
  *(undefined *)((int)puVar2 + 1) = 8;
  *(undefined2 *)((int)puVar2 + 2) = 2;
  *(undefined2 *)((int)puVar2 + 6) = 1;
  *(undefined2 *)(puVar2 + 1) = 0;
  *(undefined2 *)(puVar2 + 2) = 2;
  *(undefined2 *)((int)puVar2 + 10) = 0x700;
  *(undefined2 *)(puVar2 + 3) = 0;
  *(undefined2 *)((int)puVar2 + 0xe) = 2;
  *(undefined2 *)(puVar2 + 4) = 3;
  *(undefined2 *)((int)puVar2 + 0x12) = 0x700;
  *(undefined *)(puVar2 + 5) = 0xb;
  *(undefined *)((int)puVar2 + 0x15) = 0;
  *(undefined2 *)((int)puVar2 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x4996f1;
  _memset(local_50,0,0x30);
  local_40 = (undefined *)((int)puVar2 + (0x18 - (int)puVar3));
  local_44 = (int)puVar3 - (int)unaff_EDI;
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005b1ea0 = 0;
  DAT_005d0454 = 2;
  return 1;
}



undefined4 FUN_00499740(void)

{
  int iVar1;
  
  iVar1 = FUN_00499310();
  if (iVar1 != 0) {
    iVar1 = FUN_00499540();
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00499760(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046b7e0();
  local_20 = (int *)0x4997a1;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xd4);
  DAT_005b1ca4 = unaff_EDI;
  *unaff_EDI = 0xc1000000;
  unaff_EDI[1] = 0xc0800000;
  unaff_EDI[2] = 0x3f800000;
  unaff_EDI[4] = 0x7fffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0x3ca3d70a;
  unaff_EDI[7] = 0x3ca3d70a;
  unaff_EDI[10] = 0x3f800000;
  unaff_EDI[0xf] = 0x3f7ae148;
  unaff_EDI[8] = 0xc326aaab;
  unaff_EDI[9] = 0x43fa0000;
  unaff_EDI[0xc] = 0x7fffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3ca3d70a;
  unaff_EDI[0x10] = 0x4326aaab;
  unaff_EDI[0x11] = 0x43fa0000;
  unaff_EDI[0x12] = 0x3f800000;
  unaff_EDI[0x14] = 0x7fffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7ae148;
  unaff_EDI[0x17] = 0x3f7ae148;
  unaff_EDI[0x18] = 0x41000000;
  unaff_EDI[0x19] = 0xc0800000;
  unaff_EDI[0x1a] = 0x3f800000;
  unaff_EDI[0x1c] = 0x7fffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f7ae148;
  unaff_EDI[0x1f] = 0x3ca3d70a;
  puVar4 = unaff_EDI + 0x20;
  *(undefined *)puVar4 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  *(undefined2 *)(unaff_EDI + 0x22) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  unaff_EDI[0x23] = 4;
  unaff_EDI[0x24] = 0;
  *(undefined *)(unaff_EDI + 0x25) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
  unaff_EDI[0x26] = 1;
  unaff_EDI[0x27] = iVar1;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 2;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 3;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 3;
  *(undefined2 *)((int)puVar3 + 0xe) = 1;
  *(undefined2 *)(puVar3 + 4) = 2;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1e;
  *(undefined *)(puVar3 + 5) = 0xb;
  *(undefined *)((int)puVar3 + 0x15) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x499962;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x18 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  _DAT_005b1cec = 0;
  DAT_005d0448 = 2;
  _DAT_005b1ce8 = &DAT_005b1ca8;
  _DAT_005b1cfa = FUN_0049d4b0;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004999d0(void)

{
  undefined *puVar1;
  undefined4 uVar2;
  int iVar3;
  undefined *puVar4;
  code **ppcVar5;
  int iVar6;
  void *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  uVar2 = FUN_0048f340();
  FUN_0046bc90();
  local_20 = (int *)0x499a04;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar3 = (**(code **)(*local_20 + 0x18))();
  if (iVar3 != 0) {
    return 0;
  }
  iVar3 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar3 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xd4);
  puVar1 = (undefined *)((int)unaff_EDI + 0x80);
  DAT_005b1b64 = unaff_EDI;
  *puVar1 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  *(undefined4 *)((int)unaff_EDI + 0x84) = 2;
  *(undefined2 *)((int)unaff_EDI + 0x88) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  *(undefined4 *)((int)unaff_EDI + 0x8c) = 4;
  *(undefined4 *)((int)unaff_EDI + 0x90) = 0;
  *(undefined *)((int)unaff_EDI + 0x94) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
  *(undefined4 *)((int)unaff_EDI + 0x98) = 1;
  *(undefined4 *)((int)unaff_EDI + 0x9c) = uVar2;
  puVar4 = (undefined *)((int)unaff_EDI + 0xa0);
  if (((uint)puVar4 & 7) == 0) {
    *puVar4 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar4 = (undefined *)((int)unaff_EDI + 0xa4);
  }
  *puVar4 = 3;
  puVar4[1] = 8;
  *(undefined2 *)(puVar4 + 2) = 2;
  *(undefined2 *)(puVar4 + 4) = 0;
  *(undefined2 *)(puVar4 + 6) = 2;
  *(undefined2 *)(puVar4 + 8) = 1;
  *(undefined2 *)(puVar4 + 10) = 0;
  *(undefined2 *)(puVar4 + 0xc) = 0;
  *(undefined2 *)(puVar4 + 0x12) = 0;
  *(undefined2 *)(puVar4 + 0xe) = 3;
  *(undefined2 *)(puVar4 + 0x10) = 2;
  puVar4[0x14] = 0xb;
  puVar4[0x15] = 0;
  *(undefined2 *)(puVar4 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x499b39;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar1 - (int)unaff_EDI;
  local_40 = puVar4 + 0x14 + (4 - (int)puVar1);
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  ppcVar5 = (code **)&DAT_005b1bda;
  _DAT_005b1b60 = 0;
  do {
    *(undefined4 *)((int)ppcVar5 + -0xe) = 0;
    *ppcVar5 = FUN_0049dbd0;
    ppcVar5 = (code **)((int)ppcVar5 + 0x16);
  } while ((int)ppcVar5 < 0x5b1c8a);
  _DAT_005b1a20 = 0;
  ppcVar5 = (code **)&DAT_005b1a9a;
  do {
    *(undefined4 *)((int)ppcVar5 + -0xe) = 0;
    *ppcVar5 = FUN_0049dd40;
    ppcVar5 = (code **)((int)ppcVar5 + 0x16);
  } while ((int)ppcVar5 < 0x5b1b4a);
  iVar3 = 0;
  do {
    iVar6 = iVar3 + 0x20;
    *(undefined4 *)((int)DAT_005b1b64 + iVar3 + 0xc) = 0x3f800000;
    iVar3 = iVar6;
  } while (iVar6 < 0x80);
  *(undefined4 *)((int)DAT_005b1b64 + 0x18) = 0;
  *(undefined4 *)((int)DAT_005b1b64 + 0x1c) = 0;
  *(undefined4 *)((int)DAT_005b1b64 + 0x38) = 0;
  *(undefined4 *)((int)DAT_005b1b64 + 0x3c) = 0x3f800000;
  *(undefined4 *)((int)DAT_005b1b64 + 0x58) = 0x3f800000;
  *(undefined4 *)((int)DAT_005b1b64 + 0x5c) = 0x3f800000;
  *(undefined4 *)((int)DAT_005b1b64 + 0x78) = 0x3f800000;
  *(undefined4 *)((int)DAT_005b1b64 + 0x7c) = 0;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00499c10(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  uVar1 = FUN_0048f340();
  FUN_0046b800();
  local_20 = (int *)0x499c44;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0x10c);
  DAT_005b1a04 = unaff_EDI;
  *unaff_EDI = 0x40800000;
  unaff_EDI[1] = 0xc0800000;
  unaff_EDI[2] = 0xc0800000;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0;
  unaff_EDI[7] = 0x3f7ae148;
  unaff_EDI[8] = 0x40800000;
  unaff_EDI[9] = 0xc0800000;
  unaff_EDI[10] = 0x40800000;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3f800000;
  unaff_EDI[0xf] = 0x3f7ae148;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x10] = 0x40800000;
  unaff_EDI[0x11] = 0x40800000;
  unaff_EDI[0x12] = 0x40800000;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0;
  unaff_EDI[0x17] = 0x3f7ae148;
  unaff_EDI[0x18] = 0x40800000;
  unaff_EDI[0x19] = 0x40800000;
  unaff_EDI[0x1a] = 0xc0800000;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f800000;
  unaff_EDI[0x1f] = 0x3f7ae148;
  unaff_EDI[0x20] = 0xc0800000;
  unaff_EDI[0x21] = 0;
  unaff_EDI[0x22] = 0;
  unaff_EDI[0x24] = 0xffffffff;
  unaff_EDI[0x25] = 0;
  unaff_EDI[0x26] = 0;
  unaff_EDI[0x27] = 0;
  puVar4 = unaff_EDI + 0x28;
  *(undefined *)puVar4 = 8;
  *(undefined *)((int)unaff_EDI + 0xa1) = 8;
  *(undefined2 *)((int)unaff_EDI + 0xa2) = 1;
  unaff_EDI[0x29] = 1;
  unaff_EDI[0x2a] = uVar1;
  *(undefined *)(unaff_EDI + 0x2b) = 9;
  *(undefined *)((int)unaff_EDI + 0xad) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0xae) = 1;
  unaff_EDI[0x2c] = 1;
  *(undefined2 *)(unaff_EDI + 0x2d) = 0;
  *(undefined2 *)((int)unaff_EDI + 0xb6) = 0;
  unaff_EDI[0x2e] = 5;
  unaff_EDI[0x2f] = 0;
  puVar3 = unaff_EDI + 0x30;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xc1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xc2) = 0;
    puVar3 = unaff_EDI + 0x31;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 8;
  *(undefined2 *)(puVar3 + 1) = 4;
  *(undefined2 *)((int)puVar3 + 6) = 3;
  *(undefined2 *)(puVar3 + 2) = 0;
  *(undefined2 *)((int)puVar3 + 10) = 0;
  *(undefined2 *)(puVar3 + 3) = 4;
  *(undefined2 *)((int)puVar3 + 0xe) = 0;
  *(undefined2 *)(puVar3 + 4) = 1;
  *(undefined2 *)((int)puVar3 + 0x12) = 0;
  *(undefined2 *)(puVar3 + 5) = 4;
  *(undefined2 *)((int)puVar3 + 0x16) = 1;
  *(undefined2 *)(puVar3 + 6) = 2;
  *(undefined2 *)((int)puVar3 + 0x1a) = 0;
  *(undefined2 *)(puVar3 + 7) = 4;
  *(undefined2 *)((int)puVar3 + 0x1e) = 2;
  *(undefined2 *)(puVar3 + 8) = 3;
  *(undefined2 *)((int)puVar3 + 0x22) = 0;
  *(undefined2 *)(puVar3 + 9) = 4;
  *(undefined2 *)((int)puVar3 + 0x26) = 0;
  *(undefined2 *)(puVar3 + 10) = 3;
  *(undefined2 *)((int)puVar3 + 0x2a) = 0;
  *(undefined2 *)(puVar3 + 0xb) = 4;
  *(undefined2 *)((int)puVar3 + 0x2e) = 3;
  *(undefined2 *)(puVar3 + 0xc) = 2;
  *(undefined2 *)((int)puVar3 + 0x32) = 0;
  *(undefined2 *)(puVar3 + 0xd) = 4;
  *(undefined2 *)((int)puVar3 + 0x36) = 2;
  *(undefined2 *)(puVar3 + 0xe) = 1;
  *(undefined2 *)((int)puVar3 + 0x3a) = 0;
  *(undefined2 *)(puVar3 + 0xf) = 4;
  *(undefined2 *)((int)puVar3 + 0x3e) = 1;
  *(undefined2 *)(puVar3 + 0x10) = 0;
  *(undefined2 *)((int)puVar3 + 0x42) = 0;
  *(undefined *)(puVar3 + 0x11) = 0xb;
  *(undefined *)((int)puVar3 + 0x45) = 0;
  *(undefined2 *)((int)puVar3 + 0x46) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x499e9c;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x48 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 5;
  (**(code **)(iRam00000000 + 0x18))();
  puVar3 = &DAT_005b0f04;
  _DAT_005b1a00 = 0;
  do {
    *puVar3 = puVar3 + -0x10;
    puVar3[1] = 0;
    *(code **)((int)puVar3 + 0x12) = FUN_0049df90;
    puVar3 = (undefined4 *)((int)puVar3 + 0x5a);
  } while ((int)puVar3 < 0x5b1a44);
  DAT_005d048c = 8;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00499f50(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  uVar1 = FUN_0048f340();
  FUN_0046b840();
  local_20 = (int *)0x499f84;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xd4);
  *unaff_EDI = 0xc0000000;
  unaff_EDI[1] = 0xc0000000;
  unaff_EDI[2] = 0;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0x3c75c28f;
  unaff_EDI[7] = 0x3c75c28f;
  unaff_EDI[0xf] = 0x3f7c28f6;
  unaff_EDI[8] = 0xc0000000;
  unaff_EDI[9] = 0x40000000;
  unaff_EDI[10] = 0;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3c75c28f;
  unaff_EDI[0x10] = 0x40000000;
  unaff_EDI[0x11] = 0x40000000;
  unaff_EDI[0x12] = 0;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7c28f6;
  unaff_EDI[0x17] = 0x3f7c28f6;
  unaff_EDI[0x18] = 0x40000000;
  unaff_EDI[0x19] = 0xc0000000;
  unaff_EDI[0x1a] = 0;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f7c28f6;
  unaff_EDI[0x1f] = 0x3c75c28f;
  puVar4 = unaff_EDI + 0x20;
  *(undefined *)puVar4 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  *(undefined2 *)(unaff_EDI + 0x22) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  unaff_EDI[0x23] = 4;
  unaff_EDI[0x24] = 0;
  *(undefined *)(unaff_EDI + 0x25) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
  unaff_EDI[0x26] = 1;
  unaff_EDI[0x27] = uVar1;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 2;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 3;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 3;
  *(undefined2 *)((int)puVar3 + 0xe) = 1;
  *(undefined2 *)(puVar3 + 4) = 2;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1e;
  *(undefined *)(puVar3 + 5) = 0xb;
  *(undefined *)((int)puVar3 + 0x15) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49a130;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x18 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005d0474 = 2;
  _DAT_005ae180 = 0;
  puVar4 = &DAT_005ae1b4;
  puVar3 = &DAT_005b0738;
  do {
    puVar3[1] = 0;
    *puVar3 = puVar4 + 0x561;
    puVar3[-0x560] = 0;
    puVar3[-0x561] = puVar4;
    puVar4 = puVar4 + 0x10;
    puVar3 = (undefined4 *)((int)puVar3 + 0x16);
  } while ((int)puVar4 < 0x5af1b4);
  return 1;
}



undefined4 FUN_0049a1b0(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  
  uVar2 = DAT_005ae178;
  uVar1 = DAT_005a9f54;
  puVar3 = &DAT_005adfa8;
  do {
    *(undefined4 *)(puVar3 + 0x44) = uVar1;
    *(undefined **)(puVar3 + 0x40) = puVar3;
    *(short *)(puVar3 + 0x48) = (short)uVar2;
    *(code **)(puVar3 + 0x52) = FUN_0049e940;
    puVar3 = puVar3 + 0x5e;
  } while ((int)puVar3 < 0x5ae17e);
  return 1;
}



undefined4 FUN_0049a200(void)

{
  int iVar1;
  void *_Dst;
  undefined4 *puVar2;
  int *unaff_ESI;
  undefined4 unaff_EDI;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 4) + 0x18))
                    (*(int **)(DAT_005e5010 + 4),&stack0xfffffff8,0);
  if (iVar1 != 0) {
    return 0;
  }
  _Size = 0x50;
  iVar1 = 0;
  _Dst = (void *)AllocateMemoryWithCallback(0x50);
  puVar2 = (undefined4 *)_memset(_Dst,iVar1,_Size);
  *puVar2 = 0x50;
  puVar2[1] = 0;
  puVar2[2] = 0;
  puVar2[3] = 0;
  puVar2[4] = 0;
  puVar2[5] = 0;
  puVar2[6] = 0;
  puVar2[7] = 0x3dcccccd;
  puVar2[0xd] = 0;
  puVar2[0xe] = 0;
  puVar2[0xf] = 0;
  puVar2[9] = 0;
  puVar2[10] = 0;
  puVar2[0xb] = 0;
  puVar2[0xc] = 0;
  puVar2[0x11] = 0;
  puVar2[0x13] = 1;
  iVar1 = (**(code **)(*unaff_ESI + 0x10))(unaff_ESI,puVar2);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(*unaff_ESI + 0x18))
                    (unaff_ESI,*(undefined4 *)(DAT_005e5010 + 8),&stack0xfffffff4);
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 0xc) + 0x20))
                    (*(int **)(DAT_005e5010 + 0xc),unaff_EDI);
  if (iVar1 != 0) {
    return 0;
  }
  if (puVar2 != (undefined4 *)0x0) {
    FreeMemory(puVar2);
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049a300(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  FUN_0046b8e0();
  uVar1 = DAT_005a88c0;
  puVar2 = &DAT_005aac4c;
  do {
    *puVar2 = puVar2 + -0x12;
    puVar2[1] = uVar1;
    *(code **)((int)puVar2 + 0x12) = FUN_0049f140;
    puVar2 = (undefined4 *)((int)puVar2 + 0x62);
  } while ((int)puVar2 < 0x5add4c);
  _memset(&DAT_005add00,0,0x140);
  _DAT_005add24 = 0x3ea8f5c3;
  _DAT_005add18 = 0x3ea8f5c3;
  _DAT_005add00 = 0x3ea8f5c3;
  _DAT_005add3c = 0x3f800000;
  _DAT_005add64 = 0x3ea8f5c3;
  _DAT_005add58 = 0x3ea8f5c3;
  _DAT_005add40 = 0x3ea8f5c3;
  _DAT_005add7c = 0x3f800000;
  _DAT_005adda4 = 0x3ea8f5c3;
  _DAT_005add98 = 0x3ea8f5c3;
  _DAT_005add80 = 0x3ea8f5c3;
  _DAT_005addbc = 0x3f800000;
  _DAT_005adde4 = 0x3ea8f5c3;
  _DAT_005addd8 = 0x3ea8f5c3;
  _DAT_005addc0 = 0x3ea8f5c3;
  _DAT_005addfc = 0x3f800000;
  _DAT_005ade24 = 0x3ea8f5c3;
  _DAT_005ade18 = 0x3ea8f5c3;
  _DAT_005ade00 = 0x3ea8f5c3;
  _DAT_005ade3c = 0x3f800000;
  DAT_005d048c = 2;
  return 1;
}



undefined4 FUN_0049a420(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046b960();
  local_20 = (int *)0x49a461;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xac);
  DAT_005aaaa8 = unaff_EDI;
  *unaff_EDI = 0xc2c80000;
  unaff_EDI[1] = 0xc0800000;
  unaff_EDI[2] = 0x3f800000;
  unaff_EDI[4] = 0x7fffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0x3ca3d70a;
  unaff_EDI[7] = 0x3ca3d70a;
  unaff_EDI[8] = 0;
  unaff_EDI[9] = 0x43fa0000;
  unaff_EDI[10] = 0x3f800000;
  unaff_EDI[0xc] = 0x7fffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3f000000;
  unaff_EDI[0xf] = 0x3f7ae148;
  unaff_EDI[0x10] = 0x42c80000;
  unaff_EDI[0x11] = 0xc0800000;
  unaff_EDI[0x12] = 0x3f800000;
  unaff_EDI[0x14] = 0x7fffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7ae148;
  unaff_EDI[0x17] = 0x3ca3d70a;
  puVar4 = unaff_EDI + 0x18;
  *(undefined *)puVar4 = 9;
  *(undefined *)((int)unaff_EDI + 0x61) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x62) = 1;
  unaff_EDI[0x19] = 1;
  *(undefined2 *)(unaff_EDI + 0x1a) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x6a) = 0;
  unaff_EDI[0x1b] = 3;
  unaff_EDI[0x1c] = 0;
  *(undefined *)(unaff_EDI + 0x1d) = 8;
  *(undefined *)((int)unaff_EDI + 0x75) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x76) = 1;
  unaff_EDI[0x1f] = iVar1;
  unaff_EDI[0x1e] = 1;
  puVar3 = unaff_EDI + 0x20;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0x81) = 8;
    *(undefined2 *)((int)unaff_EDI + 0x82) = 0;
    puVar3 = unaff_EDI + 0x21;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 1;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 2;
  *(undefined *)(puVar3 + 3) = 0xb;
  *(undefined *)((int)puVar3 + 0xd) = 0;
  *(undefined2 *)((int)puVar3 + 0xe) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49a5e4;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x10 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 3;
  (**(code **)(iRam00000000 + 0x18))();
  puVar3 = &DAT_005aa468;
  iVar1 = 0;
  do {
    *(undefined4 *)((int)&DAT_005aa4b0 + iVar1) = 0;
    *(undefined4 **)((int)&DAT_005aa4ac + iVar1) = puVar3;
    *(code **)((int)&DAT_005aa4be + iVar1) = FUN_0049f4a0;
    puVar3 = (undefined4 *)((int)puVar3 + 0x62);
    *(undefined4 *)((int)&DAT_005aa7d0 + iVar1) = 0;
    *(int *)((int)&DAT_005aa7cc + iVar1) = (int)&DAT_005aa788 + iVar1;
    *(code **)((int)&DAT_005aa7de + iVar1) = FUN_0049f4a0;
    iVar1 = iVar1 + 0x62;
  } while ((int)puVar3 < 0x5aa778);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049a660(void)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  
  _DAT_005aa110 = 0;
  FUN_0046b990();
  uVar2 = DAT_005aa114;
  uVar1 = DAT_005a9f54;
  puVar3 = &DAT_005aa130;
  do {
    *(undefined4 *)(puVar3 + 0x44) = uVar1;
    *(undefined **)(puVar3 + 0x40) = puVar3;
    *(short *)(puVar3 + 0x48) = (short)uVar2;
    *(code **)(puVar3 + 0x52) = FUN_0049f610;
    puVar3 = puVar3 + 0x66;
  } while ((int)puVar3 < 0x5aa460);
  return 1;
}



undefined4 FUN_0049a6b0(void)

{
  DAT_005aa0e6 = 0;
  if (((byte)DAT_005d66e0 & 2) != 0) {
    FUN_0046be20();
  }
  if ((DAT_005d66c8 & 0x10000) != 0) {
    FUN_0046bd90();
  }
  return 1;
}



undefined4 FUN_0049a6e0(void)

{
  int iVar1;
  undefined *puVar2;
  undefined *puVar3;
  code **ppcVar4;
  int unaff_EBX;
  int unaff_ESI;
  undefined2 *puVar5;
  undefined4 local_64 [3];
  int local_58;
  undefined *local_54;
  undefined4 uStackY_3c;
  int local_28 [2];
  undefined local_20 [2];
  undefined2 uStack_1e;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046b9b0();
  if (DAT_005b0cc0 == (undefined *)0x0) {
    uStackY_3c = 0x49a74e;
    puVar2 = &stack0xfffffff8;
    FUN_004a5540();
    DAT_005b0cc4 = puVar2;
    _memset(&stack0xffffffcc,0,0x14);
    puVar2 = &stack0xfffffff0;
    iVar6 = 0;
    puVar3 = &stack0xffffffcc;
    iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = (**(code **)(iRam00000000 + 0x10))();
    if (iVar1 != 0) {
      return 0;
    }
    _memset(&stack0xffffffcc,0,(unaff_ESI + unaff_EBX * 8) * 8 + 0x44);
    DAT_005b0cc0 = &stack0xffffffcc;
    if (&stack0xffffffcc != puVar2) {
      FUN_004ad7a0();
    }
    iVar1 = unaff_EBX * 0x20;
    puVar2 = &stack0xffffffcc + iVar1;
    *puVar2 = 9;
    (&stack0xffffffcd)[iVar1] = 0x10;
    *(undefined2 *)(&stack0xffffffce + iVar1) = 1;
    *(undefined4 *)(&stack0xffffffd0 + iVar1) = 1;
    *(undefined2 *)(&stack0xffffffd4 + iVar1) = 0;
    *(undefined2 *)(&stack0xffffffd6 + iVar1) = 0;
    local_28[unaff_EBX * 8] = unaff_EBX;
    local_28[unaff_EBX * 8 + 1] = 0;
    local_20[iVar1] = 8;
    local_20[iVar1 + 1] = 8;
    *(undefined2 *)(local_20 + iVar1 + 2) = 1;
    *(undefined4 *)(&stack0xffffffe4 + iVar1) = 1;
    *(undefined **)(&stack0xffffffe8 + iVar1) = puVar3;
    puVar3 = &stack0xffffffec + iVar1;
    if (((uint)puVar3 & 7) == 0) {
      *puVar3 = 3;
      (&stack0xffffffed)[iVar1] = 8;
      *(undefined2 *)(&stack0xffffffee + iVar1) = 0;
      puVar3 = &stack0xfffffff0 + iVar1;
    }
    *puVar3 = 3;
    puVar3[1] = 8;
    puVar5 = (undefined2 *)(puVar3 + 4);
    *(short *)(puVar3 + 2) = (short)unaff_ESI;
    iVar1 = 0;
    if (0 < unaff_ESI) {
      do {
        *puVar5 = *(undefined2 *)(iVar6 + iVar1 * 8);
        puVar5[1] = *(undefined2 *)(iVar6 + 2 + iVar1 * 8);
        puVar5[2] = *(undefined2 *)(iVar6 + 4 + iVar1 * 8);
        puVar5[3] = *(undefined2 *)(iVar6 + 6 + iVar1 * 8);
        puVar5 = puVar5 + 4;
        iVar1 = iVar1 + 1;
      } while (iVar1 < unaff_ESI);
    }
    *(undefined *)puVar5 = 0xb;
    *(undefined *)((int)puVar5 + 1) = 0;
    puVar5[1] = 0;
    (**(code **)(iRam00000000 + 0x14))();
    uStackY_3c = 0x49a8c9;
    _memset(local_64,0,0x30);
    local_58 = (int)puVar2 - (int)&stack0xffffffcc;
    local_54 = (undefined *)((int)puVar5 + (4 - (int)puVar2));
    local_64[0] = 0x30;
    (**(code **)(iRam00000000 + 0x18))();
    ppcVar4 = (code **)&DAT_005a9f62;
    DAT_005b0cc8 = unaff_EBX;
    DAT_005d0478 = unaff_ESI;
    do {
      *(undefined4 *)((int)ppcVar4 + -0xe) = 0;
      *ppcVar4 = FUN_0049fce0;
      ppcVar4 = (code **)((int)ppcVar4 + 0x26);
    } while ((int)ppcVar4 < 0x5aa092);
  }
  return 1;
}



undefined4 FUN_0049a930(void)

{
  int iVar1;
  undefined *puVar2;
  undefined *puVar3;
  code **ppcVar4;
  int unaff_EBX;
  int unaff_ESI;
  undefined2 *puVar5;
  undefined4 local_64 [3];
  int local_58;
  undefined *local_54;
  undefined4 uStackY_3c;
  int local_28 [2];
  undefined local_20 [2];
  undefined2 uStack_1e;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046b9d0();
  if (DAT_005b0cc0 == (undefined *)0x0) {
    uStackY_3c = 0x49a99e;
    puVar2 = &stack0xfffffff8;
    FUN_004a5540();
    DAT_005b0cc4 = puVar2;
    _memset(&stack0xffffffcc,0,0x14);
    puVar2 = &stack0xfffffff0;
    iVar6 = 0;
    puVar3 = &stack0xffffffcc;
    iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
    if (iVar1 != 0) {
      return 0;
    }
    iVar1 = (**(code **)(iRam00000000 + 0x10))();
    if (iVar1 != 0) {
      return 0;
    }
    _memset(&stack0xffffffcc,0,(unaff_ESI + unaff_EBX * 4) * 0x10 + 0x44);
    DAT_005b0cc0 = &stack0xffffffcc;
    if (&stack0xffffffcc != puVar2) {
      FUN_004ad7a0();
    }
    iVar1 = unaff_EBX * 0x20;
    puVar2 = &stack0xffffffcc + iVar1;
    *puVar2 = 9;
    (&stack0xffffffcd)[iVar1] = 0x10;
    *(undefined2 *)(&stack0xffffffce + iVar1) = 1;
    *(undefined4 *)(&stack0xffffffd0 + iVar1) = 1;
    *(undefined2 *)(&stack0xffffffd4 + iVar1) = 0;
    *(undefined2 *)(&stack0xffffffd6 + iVar1) = 0;
    local_28[unaff_EBX * 8] = unaff_EBX;
    local_28[unaff_EBX * 8 + 1] = 0;
    local_20[iVar1] = 8;
    local_20[iVar1 + 1] = 8;
    *(undefined2 *)(local_20 + iVar1 + 2) = 1;
    *(undefined4 *)(&stack0xffffffe4 + iVar1) = 1;
    *(undefined **)(&stack0xffffffe8 + iVar1) = puVar3;
    puVar3 = &stack0xffffffec + iVar1;
    if (((uint)puVar3 & 7) == 0) {
      *puVar3 = 3;
      (&stack0xffffffed)[iVar1] = 8;
      *(undefined2 *)(&stack0xffffffee + iVar1) = 0;
      puVar3 = &stack0xfffffff0 + iVar1;
    }
    *puVar3 = 3;
    puVar3[1] = 8;
    puVar5 = (undefined2 *)(puVar3 + 4);
    *(short *)(puVar3 + 2) = (short)unaff_ESI;
    iVar1 = 0;
    if (0 < unaff_ESI) {
      do {
        *puVar5 = *(undefined2 *)(iVar6 + iVar1 * 8);
        puVar5[1] = *(undefined2 *)(iVar6 + 2 + iVar1 * 8);
        puVar5[2] = *(undefined2 *)(iVar6 + 4 + iVar1 * 8);
        puVar5[3] = *(undefined2 *)(iVar6 + 6 + iVar1 * 8);
        puVar5 = puVar5 + 4;
        iVar1 = iVar1 + 1;
      } while (iVar1 < unaff_ESI);
    }
    *(undefined *)puVar5 = 0xb;
    *(undefined *)((int)puVar5 + 1) = 0;
    puVar5[1] = 0;
    (**(code **)(iRam00000000 + 0x14))();
    uStackY_3c = 0x49ab17;
    _memset(local_64,0,0x30);
    local_58 = (int)puVar2 - (int)&stack0xffffffcc;
    local_54 = (undefined *)((int)puVar5 + (4 - (int)puVar2));
    local_64[0] = 0x30;
    (**(code **)(iRam00000000 + 0x18))();
    ppcVar4 = (code **)&DAT_005a9f62;
    DAT_005b0cc8 = unaff_EBX;
    DAT_005d0478 = unaff_ESI;
    do {
      *(undefined4 *)((int)ppcVar4 + -0xe) = 0;
      *ppcVar4 = FUN_0049fce0;
      ppcVar4 = (code **)((int)ppcVar4 + 0x26);
    } while ((int)ppcVar4 < 0x5aa092);
  }
  return 1;
}



undefined4 FUN_0049ab80(void)

{
  int iVar1;
  float fVar2;
  int iVar3;
  float *pfVar4;
  undefined4 *puVar5;
  undefined *puVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  float *pfVar9;
  float *pfVar10;
  float10 fVar11;
  undefined4 local_64 [2];
  undefined4 local_5c;
  int local_58;
  undefined *local_54;
  undefined4 uStackY_3c;
  uint uVar12;
  uint uVar13;
  
  AdjustStackForLargeAllocations();
  iVar3 = FUN_0048f340();
  if (iVar3 == 0) {
    return 0;
  }
  FUN_0046b9f0();
  _memset(&stack0xffffffcc,0,0x14);
  puVar6 = &stack0xffffffcc;
  iVar3 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar3 != 0) {
    return 0;
  }
  iVar3 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar3 != 0) {
    return 0;
  }
  _memset(&stack0xffffffcc,0,0x404);
  uVar13 = 0;
  pfVar9 = (float *)&stack0xffffffcc;
  DAT_005a89a0 = (float *)&stack0xffffffcc;
  do {
    pfVar10 = pfVar9;
    fVar11 = (float10)FUN_004ae014();
    pfVar10[2] = 0.0;
    *pfVar10 = (float)(fVar11 * (float10)2.64);
    fVar11 = (float10)FUN_004ae0c4();
    pfVar10[4] = NAN;
    pfVar10[5] = 0.0;
    uVar12 = uVar13 & 1;
    pfVar10[1] = (float)(fVar11 * (float10)2.64);
    if ((uVar13 & 1) == 0) {
      fVar2 = 0.95;
    }
    else {
      fVar2 = 0.05;
    }
    pfVar10[6] = fVar2;
    pfVar10[7] = 0.05;
    fVar11 = (float10)FUN_004ae014();
    pfVar10[10] = 0.0;
    pfVar10[8] = (float)(fVar11 * (float10)4.0);
    fVar11 = (float10)FUN_004ae0c4();
    pfVar10[0xc] = NAN;
    pfVar10[0xd] = 0.0;
    pfVar10[9] = (float)(fVar11 * (float10)4.0);
    if (uVar12 == 0) {
      fVar2 = 0.95;
    }
    else {
      fVar2 = 0.05;
    }
    pfVar10[0xe] = fVar2;
    pfVar10[0xf] = 0.95;
    pfVar9 = pfVar10 + 0x10;
    uVar13 = uVar13 + 1;
  } while ((int)uVar13 < 0xc);
  *(undefined *)pfVar9 = 9;
  *(undefined *)((int)pfVar10 + 0x41) = 0x10;
  *(undefined2 *)((int)pfVar10 + 0x42) = 1;
  pfVar10[0x11] = 1.401298e-45;
  *(undefined2 *)(pfVar10 + 0x12) = 0;
  *(undefined2 *)((int)pfVar10 + 0x4a) = 0;
  pfVar10[0x13] = 3.363116e-44;
  pfVar10[0x14] = 0.0;
  *(undefined *)(pfVar10 + 0x15) = 8;
  *(undefined *)((int)pfVar10 + 0x55) = 8;
  *(undefined2 *)((int)pfVar10 + 0x56) = 1;
  pfVar10[0x16] = 1.401298e-45;
  pfVar10[0x17] = (float)puVar6;
  pfVar4 = pfVar10 + 0x18;
  if (((uint)pfVar4 & 7) == 0) {
    *(undefined *)pfVar4 = 3;
    *(undefined *)((int)pfVar10 + 0x61) = 8;
    *(undefined2 *)((int)pfVar10 + 0x62) = 0;
    pfVar4 = pfVar10 + 0x19;
  }
  *(undefined *)pfVar4 = 3;
  *(undefined *)((int)pfVar4 + 1) = 8;
  *(undefined2 *)((int)pfVar4 + 2) = 0x18;
  iVar3 = 1;
  pfVar10 = pfVar4 + 1;
  do {
    pfVar4 = pfVar10;
    pfVar10 = pfVar4 + 4;
    *(short *)pfVar4 = (short)((iVar3 + -1) % 0x18);
    uVar7 = (undefined2)(iVar3 % 0x18);
    *(undefined2 *)((int)pfVar4 + 2) = uVar7;
    uVar8 = (undefined2)((iVar3 + 1) % 0x18);
    *(undefined2 *)(pfVar4 + 1) = uVar8;
    *(undefined2 *)((int)pfVar4 + 6) = 0;
    *(undefined2 *)((int)pfVar4 + 10) = uVar7;
    *(undefined2 *)(pfVar4 + 2) = uVar8;
    *(undefined2 *)((int)pfVar4 + 0xe) = 0x1e;
    *(short *)(pfVar4 + 3) = (short)((iVar3 + 2) % 0x18);
    iVar1 = iVar3 + 1;
    iVar3 = iVar3 + 2;
  } while (iVar1 < 0x18);
  *(undefined *)pfVar10 = 0xb;
  *(undefined *)((int)pfVar4 + 0x11) = 0;
  *(undefined2 *)((int)pfVar4 + 0x12) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49ae07;
  _memset(local_64,0,0x30);
  local_58 = (int)pfVar9 - (int)&stack0xffffffcc;
  local_54 = (undefined *)((int)pfVar10 + (4 - (int)pfVar9));
  local_64[0] = 0x30;
  local_5c = 0x18;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005d044c = 0x18;
  puVar5 = &DAT_005a99b0;
  puVar6 = &DAT_005a89b0;
  do {
    puVar5[1] = 0;
    *puVar5 = puVar6;
    *(code **)((int)puVar5 + 0x12) = FUN_004a0390;
    puVar6 = puVar6 + 0x40;
    puVar5 = (undefined4 *)((int)puVar5 + 0x16);
  } while ((int)puVar6 < 0x5a99b0);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049ae80(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  _DAT_005a8950 = 0x40800000;
  _DAT_005a8954 = 0x40800000;
  _DAT_005a8958 = 0x40800000;
  _DAT_005a895c = 0x40800000;
  _DAT_005a8960 = 0x40400000;
  _DAT_005a8964 = 0x40100000;
  _DAT_005a8968 = 0x3fd70a3d;
  _DAT_005a896c = 0x3fa00000;
  _DAT_005a8970 = 0x3f800000;
  _DAT_005a8974 = 0x3f400000;
  _DAT_005a8978 = 0x3ecccccd;
  _DAT_005a897c = 0x3e99999a;
  _DAT_005a8980 = 0x3e666666;
  _DAT_005a8984 = 0x3e2c0831;
  _DAT_005a8988 = 0x3e000000;
  _DAT_005a898c = 0x3d99999a;
  _DAT_005a8990 = 0x3d23d70a;
  _DAT_005a8994 = 0x3cf5c28f;
  _DAT_005a8998 = 0x3cb851ec;
  _DAT_005a899c = 0x3c23d70a;
  uVar1 = FUN_0048f340();
  FUN_0046ba20();
  local_20 = (int *)0x49af7c;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xd4);
  DAT_005a88c4 = unaff_EDI;
  *unaff_EDI = 0xc0400000;
  unaff_EDI[1] = 0xc0400000;
  unaff_EDI[2] = 0xbf800000;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0;
  unaff_EDI[7] = 0;
  unaff_EDI[0xf] = 0x3f800000;
  unaff_EDI[8] = 0xc0400000;
  unaff_EDI[9] = 0x40400000;
  unaff_EDI[10] = 0xbf800000;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0;
  unaff_EDI[0x10] = 0x40400000;
  unaff_EDI[0x11] = 0x40400000;
  unaff_EDI[0x12] = 0xbf800000;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f800000;
  unaff_EDI[0x17] = 0x3f800000;
  unaff_EDI[0x18] = 0x40400000;
  unaff_EDI[0x19] = 0xc0400000;
  unaff_EDI[0x1a] = 0xbf800000;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f800000;
  unaff_EDI[0x1f] = 0;
  puVar4 = unaff_EDI + 0x20;
  *(undefined *)puVar4 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  *(undefined2 *)(unaff_EDI + 0x22) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  unaff_EDI[0x23] = 4;
  unaff_EDI[0x24] = 0;
  *(undefined *)(unaff_EDI + 0x25) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
  unaff_EDI[0x26] = 1;
  unaff_EDI[0x27] = uVar1;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 2;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 2;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 0;
  *(undefined2 *)((int)puVar3 + 0xe) = 2;
  *(undefined2 *)(puVar3 + 4) = 3;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1f;
  *(undefined *)(puVar3 + 5) = 0xb;
  *(undefined *)((int)puVar3 + 0x15) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49b12c;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x18 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005a88cc = 4;
  DAT_005d0458 = 2;
  DAT_005a88c0 = 0;
  puVar3 = &DAT_005a5436;
  do {
    puVar3[0x13] = 0;
    puVar3[0x12] = puVar3;
    *(code **)((int)puVar3 + 0x5a) = FUN_004a0510;
    puVar3 = puVar3 + 0x35;
  } while ((int)puVar3 < 0x5a8936);
  return 1;
}



undefined4 FUN_0049b1a0(void)

{
  int iVar1;
  int iVar2;
  undefined *puVar3;
  undefined *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int unaff_EBX;
  int unaff_ESI;
  undefined2 *puVar7;
  undefined2 *puVar8;
  undefined4 local_64 [3];
  int local_58;
  undefined *local_54;
  undefined4 uStackY_3c;
  int local_28 [2];
  undefined local_20 [2];
  undefined2 uStack_1e;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  iVar2 = FUN_0048f340();
  if (iVar2 == 0) {
    return 0;
  }
  FUN_0046b780();
  FUN_004a5340();
  _memset(&stack0xffffffcc,0,0x14);
  puVar3 = &stack0xfffffff0;
  iVar9 = 0;
  puVar4 = &stack0xffffffcc;
  iVar2 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(&stack0xffffffcc,0,(unaff_ESI + unaff_EBX * 4) * 8 + 0x44);
  if (&stack0xffffffcc != puVar3) {
    FUN_004ad7a0();
  }
  iVar2 = unaff_EBX * 0x20;
  puVar3 = &stack0xffffffcc + iVar2;
  *puVar3 = 9;
  (&stack0xffffffcd)[iVar2] = 0x10;
  *(undefined2 *)(&stack0xffffffce + iVar2) = 1;
  *(undefined4 *)(&stack0xffffffd0 + iVar2) = 1;
  *(undefined2 *)(&stack0xffffffd4 + iVar2) = 0;
  *(undefined2 *)(&stack0xffffffd6 + iVar2) = 0;
  local_28[unaff_EBX * 8] = unaff_EBX;
  local_28[unaff_EBX * 8 + 1] = 0;
  local_20[iVar2] = 8;
  local_20[iVar2 + 1] = 8;
  *(undefined2 *)(local_20 + iVar2 + 2) = 1;
  *(undefined4 *)(&stack0xffffffe4 + iVar2) = 1;
  *(undefined **)(&stack0xffffffe8 + iVar2) = puVar4;
  puVar4 = &stack0xffffffec + iVar2;
  if (((uint)puVar4 & 7) == 0) {
    *puVar4 = 3;
    (&stack0xffffffed)[iVar2] = 8;
    *(undefined2 *)(&stack0xffffffee + iVar2) = 0;
    puVar4 = &stack0xfffffff0 + iVar2;
  }
  *puVar4 = 3;
  puVar4[1] = 8;
  puVar8 = (undefined2 *)(puVar4 + 4);
  *(short *)(puVar4 + 2) = (short)unaff_ESI;
  iVar2 = 0;
  puVar7 = puVar8;
  if (0 < unaff_ESI) {
    do {
      puVar8 = puVar7 + 4;
      iVar1 = iVar2 * 8;
      iVar2 = iVar2 + 1;
      *puVar7 = *(undefined2 *)(iVar9 + iVar1);
      puVar7[1] = *(undefined2 *)(iVar9 + -6 + iVar2 * 8);
      puVar7[2] = *(undefined2 *)(iVar9 + -4 + iVar2 * 8);
      puVar7[3] = *(undefined2 *)(iVar9 + -2 + iVar2 * 8);
      puVar7 = puVar8;
    } while (iVar2 < unaff_ESI);
  }
  *(undefined *)puVar8 = 0xb;
  *(undefined *)((int)puVar8 + 1) = 0;
  puVar8[1] = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49b36a;
  _memset(local_64,0,0x30);
  local_58 = (int)puVar3 - (int)&stack0xffffffcc;
  local_54 = (undefined *)((int)puVar8 + (4 - (int)puVar3));
  local_64[0] = 0x30;
  (**(code **)(iRam00000000 + 0x18))();
  puVar6 = &DAT_005a52c8;
  puVar5 = &DAT_005a5020;
  DAT_005d0468 = unaff_ESI;
  do {
    puVar6[1] = 0;
    *puVar6 = puVar5;
    puVar5 = puVar5 + 0x10;
    puVar6 = (undefined4 *)((int)puVar6 + 0x16);
  } while ((int)puVar5 < 0x5a52a0);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049b3d0(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  int *piVar4;
  undefined4 *puVar5;
  int *piVar6;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  int local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  _DAT_005a4c98 = 0x41200000;
  uVar1 = FUN_0048f340();
  FUN_0046baa0();
  local_20 = (int *)0x49b40e;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xe4);
  DAT_005a4c40 = unaff_EDI;
  *unaff_EDI = 0;
  unaff_EDI[1] = 0;
  unaff_EDI[2] = 0;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0xffffffff;
  unaff_EDI[6] = 0;
  unaff_EDI[7] = 0;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0xffffffff;
  unaff_EDI[8] = 0;
  unaff_EDI[9] = 0x41700000;
  unaff_EDI[10] = 0;
  unaff_EDI[0xe] = 0;
  unaff_EDI[0xf] = 0x3f733333;
  unaff_EDI[0x10] = 0x40a00000;
  unaff_EDI[0x11] = 0x41700000;
  unaff_EDI[0x12] = 0;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0xffffffff;
  unaff_EDI[0x16] = 0x3f733333;
  unaff_EDI[0x17] = 0x3f733333;
  unaff_EDI[0x18] = 0x40a00000;
  unaff_EDI[0x19] = 0;
  unaff_EDI[0x1a] = 0;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0xffffffff;
  unaff_EDI[0x1e] = 0x3f733333;
  unaff_EDI[0x1f] = 0;
  puVar5 = unaff_EDI + 0x20;
  *(undefined *)puVar5 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  *(undefined2 *)(unaff_EDI + 0x22) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  unaff_EDI[0x23] = 4;
  unaff_EDI[0x24] = 0;
  *(undefined *)(unaff_EDI + 0x25) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
  unaff_EDI[0x26] = 1;
  unaff_EDI[0x27] = uVar1;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 4;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 2;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 0;
  *(undefined2 *)((int)puVar3 + 0xe) = 2;
  *(undefined2 *)(puVar3 + 4) = 3;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1f;
  *(undefined2 *)(puVar3 + 5) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 3;
  *(undefined2 *)(puVar3 + 6) = 2;
  *(undefined2 *)((int)puVar3 + 0x1a) = 1;
  *(undefined2 *)(puVar3 + 7) = 0;
  *(undefined2 *)((int)puVar3 + 0x1e) = 2;
  *(undefined2 *)(puVar3 + 8) = 1;
  *(undefined2 *)((int)puVar3 + 0x22) = 0x1f;
  *(undefined *)(puVar3 + 9) = 0xb;
  *(undefined *)((int)puVar3 + 0x25) = 0;
  *(undefined2 *)((int)puVar3 + 0x26) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49b5d7;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar5 - (int)unaff_EDI;
  local_40 = (int)puVar3 + (0x28 - (int)puVar5);
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005d0440 = 0x18;
  piVar6 = &DAT_005a4cf0;
  _DAT_005a4c44 = puVar5;
  do {
    iVar2 = 6;
    piVar4 = piVar6;
    do {
      piVar4[1] = 0;
      *piVar4 = (int)piVar6 + -0x42;
      *(code **)((int)piVar4 + 0x12) = FUN_004a0850;
      piVar4 = (int *)((int)piVar4 + 0x16);
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    piVar6 = piVar6 + 0x35;
  } while ((int)piVar6 < 0x5a5040);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049b660(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  undefined *local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  uVar1 = FUN_0048f340();
  FUN_0046bb20();
  local_20 = (int *)0x49b694;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xd4);
  DAT_005a4be8 = unaff_EDI;
  *unaff_EDI = 0xbfa3d70a;
  unaff_EDI[1] = 0x3fa3d70a;
  unaff_EDI[2] = 0xbfa3d70a;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0x3c75c28f;
  unaff_EDI[7] = 0x3c75c28f;
  unaff_EDI[8] = 0xbfa3d70a;
  unaff_EDI[10] = 0xbfa3d70a;
  unaff_EDI[9] = 0x4075c28f;
  unaff_EDI[0xf] = 0x3f7c28f6;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3c75c28f;
  unaff_EDI[0x10] = 0x3fa3d70a;
  unaff_EDI[0x11] = 0x4075c28f;
  unaff_EDI[0x12] = 0xbfa3d70a;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0x3f7c28f6;
  unaff_EDI[0x17] = 0x3f7c28f6;
  unaff_EDI[0x18] = 0x3fa3d70a;
  unaff_EDI[0x19] = 0x3fa3d70a;
  unaff_EDI[0x1a] = 0xbfa3d70a;
  unaff_EDI[0x1c] = 0xffffffff;
  unaff_EDI[0x1d] = 0;
  unaff_EDI[0x1e] = 0x3f7c28f6;
  unaff_EDI[0x1f] = 0x3c75c28f;
  puVar4 = unaff_EDI + 0x20;
  *(undefined *)puVar4 = 8;
  *(undefined *)((int)unaff_EDI + 0x81) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1;
  unaff_EDI[0x22] = uVar1;
  *(undefined *)(unaff_EDI + 0x23) = 9;
  *(undefined *)((int)unaff_EDI + 0x8d) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x8e) = 1;
  unaff_EDI[0x24] = 1;
  *(undefined2 *)(unaff_EDI + 0x25) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x96) = 0;
  unaff_EDI[0x26] = 4;
  unaff_EDI[0x27] = 0;
  puVar3 = unaff_EDI + 0x28;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0xa1) = 8;
    *(undefined2 *)((int)unaff_EDI + 0xa2) = 0;
    puVar3 = unaff_EDI + 0x29;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 2;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 3;
  *(undefined2 *)((int)puVar3 + 10) = 1;
  *(undefined2 *)(puVar3 + 3) = 3;
  *(undefined2 *)((int)puVar3 + 0xe) = 1;
  *(undefined2 *)(puVar3 + 4) = 2;
  *(undefined2 *)((int)puVar3 + 0x12) = 0x1e;
  *(undefined *)(puVar3 + 5) = 0xb;
  *(undefined *)((int)puVar3 + 0x15) = 0;
  *(undefined2 *)((int)puVar3 + 0x16) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49b852;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (undefined *)((int)puVar3 + (0x18 - (int)puVar4));
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005a4b88 = 0;
  DAT_005d047c = 2;
  DAT_005a4b80 = 1;
  DAT_005a4bd0 = 0;
  _DAT_005a4bcc = &DAT_005a4b8c;
  _DAT_005a4bde = FUN_004a0a50;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049b8c0(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  _DAT_005a4b24 = DAT_005a88c0;
  DAT_005d0480 = DAT_005d0458;
  FUN_0046bb50();
  uVar1 = DAT_005a88c0;
  puVar2 = &DAT_005a42c0;
  puVar3 = &DAT_005dfedb;
  do {
    puVar2[1] = uVar1;
    *puVar2 = puVar3;
    *(code **)((int)puVar2 + 0x12) = FUN_004a1510;
    puVar3 = puVar3 + 0x38;
    puVar2 = (undefined4 *)((int)puVar2 + 0x16);
  } while ((int)puVar3 < 0x5e21db);
  puVar2 = &DAT_005a49c0;
  puVar3 = &DAT_005cf2c7;
  do {
    puVar2[1] = uVar1;
    *puVar2 = puVar3;
    *(code **)((int)puVar2 + 0x12) = FUN_004a1770;
    puVar3 = puVar3 + 0x33;
    puVar2 = (undefined4 *)((int)puVar2 + 0x16);
  } while ((int)puVar3 < 0x5cff87);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049b940(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  uVar1 = DAT_005a88c0;
  _DAT_005a4264 = DAT_005a88c0;
  puVar2 = &DAT_005a4640;
  puVar3 = &DAT_005e21db;
  do {
    puVar2[1] = uVar1;
    *puVar2 = puVar3;
    *(code **)((int)puVar2 + 0x12) = FUN_004a1630;
    puVar3 = puVar3 + 0x38;
    puVar2 = (undefined4 *)((int)puVar2 + 0x16);
  } while ((int)puVar3 < 0x5e44db);
  _DAT_005d0484 = DAT_005d0480;
  return 1;
}



undefined4 FUN_0049b990(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *unaff_EDI;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  int local_40;
  undefined4 uStackY_3c;
  int *local_20;
  
  AdjustStackForLargeAllocations();
  iVar1 = FUN_0048f340();
  if (iVar1 == 0) {
    return 0;
  }
  FUN_0046bc40();
  local_20 = (int *)0x49b9d1;
  _memset(&local_20,0,0x14);
  local_20 = *(int **)(DAT_005e5010 + 8);
  iVar2 = (**(code **)(*local_20 + 0x18))();
  if (iVar2 != 0) {
    return 0;
  }
  iVar2 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar2 != 0) {
    return 0;
  }
  _memset(unaff_EDI,0,0xac);
  DAT_005a28c4 = unaff_EDI;
  *unaff_EDI = 0;
  unaff_EDI[1] = 0x40400000;
  unaff_EDI[2] = 0;
  unaff_EDI[4] = 0xffffffff;
  unaff_EDI[5] = 0;
  unaff_EDI[6] = 0x3f000000;
  unaff_EDI[7] = 0x3f800000;
  unaff_EDI[8] = 0x40400000;
  unaff_EDI[9] = 0xc0400000;
  unaff_EDI[10] = 0;
  unaff_EDI[0xc] = 0xffffffff;
  unaff_EDI[0xd] = 0;
  unaff_EDI[0xe] = 0x3f800000;
  unaff_EDI[0xf] = 0;
  unaff_EDI[0x10] = 0xc0400000;
  unaff_EDI[0x11] = 0xc0400000;
  unaff_EDI[0x12] = 0;
  unaff_EDI[0x14] = 0xffffffff;
  unaff_EDI[0x15] = 0;
  unaff_EDI[0x16] = 0;
  unaff_EDI[0x17] = 0;
  puVar4 = unaff_EDI + 0x18;
  *(undefined *)puVar4 = 9;
  *(undefined *)((int)unaff_EDI + 0x61) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x62) = 1;
  unaff_EDI[0x19] = 1;
  *(undefined2 *)(unaff_EDI + 0x1a) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x6a) = 0;
  unaff_EDI[0x1b] = 3;
  unaff_EDI[0x1c] = 0;
  *(undefined *)(unaff_EDI + 0x1d) = 8;
  *(undefined *)((int)unaff_EDI + 0x75) = 8;
  *(undefined2 *)((int)unaff_EDI + 0x76) = 1;
  unaff_EDI[0x1f] = iVar1;
  unaff_EDI[0x1e] = 1;
  puVar3 = unaff_EDI + 0x20;
  if (((uint)puVar3 & 7) == 0) {
    *(undefined *)puVar3 = 3;
    *(undefined *)((int)unaff_EDI + 0x81) = 8;
    *(undefined2 *)((int)unaff_EDI + 0x82) = 0;
    puVar3 = unaff_EDI + 0x21;
  }
  *(undefined *)puVar3 = 3;
  *(undefined *)((int)puVar3 + 1) = 8;
  *(undefined2 *)((int)puVar3 + 2) = 1;
  *(undefined2 *)(puVar3 + 1) = 0;
  *(undefined2 *)((int)puVar3 + 6) = 1;
  *(undefined2 *)(puVar3 + 2) = 2;
  *(undefined2 *)((int)puVar3 + 10) = 0;
  *(undefined *)(puVar3 + 3) = 0xb;
  *(undefined *)((int)puVar3 + 0xd) = 0;
  *(undefined2 *)((int)puVar3 + 0xe) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x49bb42;
  _memset(local_50,0,0x30);
  local_44 = (int)puVar4 - (int)unaff_EDI;
  local_40 = (int)puVar3 + (0x10 - (int)puVar4);
  local_50[0] = 0x30;
  local_48 = 3;
  (**(code **)(iRam00000000 + 0x18))();
  DAT_005d0488 = 1;
  DAT_005a28a0 = 0;
  puVar3 = &DAT_005a294c;
  do {
    *puVar3 = puVar3 + -0x10;
    *(code **)((int)puVar3 + 0x12) = FUN_004a2100;
    puVar3 = (undefined4 *)((int)puVar3 + 0x82);
  } while ((int)puVar3 < 0x5a42b0);
  return 1;
}



undefined4 FUN_0049bbb0(void)

{
  FUN_0046bdd0();
  return 1;
}



undefined4 FUN_0049bbc0(int param_1)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  FUN_004a2320();
  iVar4 = 0;
  if (0 < *(int *)(param_1 + 0xc)) {
    iVar2 = 0;
    do {
      iVar3 = iVar2 + 0x20;
      uVar1 = *(uint *)(*(int *)(param_1 + 0x10) + -0x10 + iVar3);
      *(uint *)((int)&DAT_005990b8 + iVar2) = uVar1;
      iVar4 = iVar4 + 1;
      *(uint *)(*(int *)(param_1 + 0x10) + -0x10 + iVar3) = uVar1 & 0x80ffffff;
      iVar2 = iVar3;
    } while (iVar4 < *(int *)(param_1 + 0xc));
  }
  return 1;
}



undefined4 FUN_0049bc10(int param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_004a2350();
  iVar2 = 0;
  if (0 < *(int *)(param_1 + 0xc)) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      *(undefined4 *)(*(int *)(param_1 + 0x10) + 0x10 + iVar1) =
           *(undefined4 *)((int)&DAT_005990b8 + iVar1);
      iVar1 = iVar1 + 0x20;
    } while (iVar2 < *(int *)(param_1 + 0xc));
  }
  return 1;
}



undefined4 FUN_0049bc50(int param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  
  FUN_004a2320();
  iVar5 = 0;
  if (0 < *(int *)(param_1 + 0xc)) {
    iVar3 = 0;
    do {
      uVar4 = DAT_005a1104;
      uVar2 = DAT_005a1104 & 0x80;
      uVar1 = *(uint *)(*(int *)(param_1 + 0x10) + 0x10 + iVar3);
      *(uint *)((int)&DAT_005990b8 + iVar3) = uVar1;
      if (uVar2 == 0) {
        uVar4 = -uVar4;
      }
      iVar3 = iVar3 + 0x20;
      iVar5 = iVar5 + 1;
      *(uint *)(*(int *)(param_1 + 0x10) + -0x10 + iVar3) = uVar1 & 0xffffff | uVar4 << 0x1d;
    } while (iVar5 < *(int *)(param_1 + 0xc));
  }
  return 1;
}



undefined4 FUN_0049bcb0(int param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_004a2350();
  iVar2 = 0;
  if (0 < *(int *)(param_1 + 0xc)) {
    iVar1 = 0;
    do {
      iVar2 = iVar2 + 1;
      *(undefined4 *)(*(int *)(param_1 + 0x10) + 0x10 + iVar1) =
           *(undefined4 *)((int)&DAT_005990b8 + iVar1);
      iVar1 = iVar1 + 0x20;
    } while (iVar2 < *(int *)(param_1 + 0xc));
  }
  return 1;
}



undefined4 FUN_0049bcf0(int *param_1)

{
  int iVar1;
  
  iVar1 = *param_1;
  if (((*(uint *)(iVar1 + 0x8a) & 0x200) != 0) || ((*(byte *)(iVar1 + 0x8f) & 4) != 0)) {
    FUN_0049bbc0(*(undefined4 *)(*(int *)(iVar1 + 0x86) + 0x13));
  }
  return 1;
}



undefined4 FUN_0049bd30(int *param_1)

{
  int iVar1;
  
  iVar1 = *param_1;
  if (((*(uint *)(iVar1 + 0x8a) & 0x200) != 0) || ((*(byte *)(iVar1 + 0x8f) & 4) != 0)) {
    FUN_0049bc10(*(undefined4 *)(*(int *)(iVar1 + 0x86) + 0x13));
  }
  return 1;
}



undefined4 FUN_0049bd70(int param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  undefined4 local_80 [4];
  int local_70;
  undefined4 local_5c;
  undefined4 uStackY_34;
  undefined4 uStackY_30;
  int *piStackY_2c;
  undefined4 uStackY_28;
  int *piStackY_24;
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  iVar3 = param_1 * 0x30;
  uStackY_20 = 0x49bd9c;
  _memset(&stack0xffffffec,0,0x10);
  iVar1 = (param_2 & 0xffff) * 0x2e;
  (&DAT_005b2178)[param_1 * 0xc] = *(undefined4 *)(DAT_005dca00 + 3 + iVar1);
  *(undefined4 *)(&DAT_005b217c + iVar3) = *(undefined4 *)(DAT_005dca00 + 0xb + iVar1);
  uStackY_20 = 0;
  piStackY_24 = (int *)0x20;
  uStackY_28 = 0x20;
  piStackY_2c = (int *)0xa;
  uStackY_30 = 1;
  uStackY_34 = 0x49bdf0;
  FUN_00458980();
  uStackY_20 = 0x49be00;
  _memset(local_80,0,0x6c);
  piStackY_24 = (int *)(&DAT_005b2174)[param_1 * 0xc];
  local_80[0] = 0x6c;
  uStackY_20 = 0;
  uStackY_28 = 0x49be1c;
  iVar1 = (**(code **)(*piStackY_24 + 100))();
  if (iVar1 != 0) {
    return 0;
  }
  piStackY_2c = (int *)(&DAT_005b2174)[param_1 * 0xc];
  *(undefined4 *)(&DAT_005b216c + iVar3) = local_5c;
  *(int *)(&DAT_005b2188 + iVar3) = local_70 >> 1;
  uStackY_28 = 0;
  uStackY_30 = 0x49be44;
  (**(code **)(*piStackY_2c + 0x80))();
  uVar2 = (uint)(param_1 == 0x20);
  *(uint *)(&DAT_005b2180 + iVar3) = uVar2;
  *(uint *)(&DAT_005b2184 + iVar3) = uVar2 * uVar2 + -1;
  (&DAT_005b2164)[param_1 * 0xc] = 1;
  return 1;
}



undefined4 FUN_0049be70(int param_1)

{
  short *psVar1;
  uint *puVar2;
  void *pvVar3;
  uint *puVar4;
  int iVar5;
  size_t _Size;
  ushort uVar6;
  
  AdjustStackForLargeAllocations();
  puVar4 = (uint *)0x0;
  _Size = 0x200;
  iVar5 = 0;
  uVar6 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0x200);
  pvVar3 = _memset(pvVar3,iVar5,_Size);
  (&DAT_005b218c)[param_1 * 0xc] = pvVar3;
  switch(param_1) {
  case 0:
    uVar6 = 1;
    break;
  case 1:
    uVar6 = 2;
    break;
  case 2:
    uVar6 = 4;
    break;
  case 3:
    uVar6 = 8;
    break;
  case 4:
    uVar6 = 0x10;
    break;
  case 5:
    uVar6 = 0x20;
    break;
  case 6:
    uVar6 = 0x40;
    break;
  case 7:
    uVar6 = 0x200;
    break;
  case 8:
    uVar6 = 0x80;
    break;
  case 9:
    uVar6 = 0x100;
  }
  iVar5 = 0;
  if (*DAT_005dcb00 != 0) {
    puVar2 = (uint *)(DAT_005dcb00 + 2);
    do {
      puVar4 = puVar2;
      if (uVar6 == *(ushort *)((int)puVar4 + 2)) break;
      iVar5 = iVar5 + 1;
      puVar2 = puVar4 + 0x101;
    } while (iVar5 < (int)(uint)*DAT_005dcb00);
  }
  iVar5 = 0;
  do {
    puVar4 = puVar4 + 1;
    *(ushort *)((&DAT_005b218c)[param_1 * 0xc] + iVar5) =
         (*(byte *)puVar4 & 0xf8) << 8 | (ushort)(*puVar4 >> 5) & 0x7e0 |
         (ushort)(*puVar4 >> 0x13) & 0x1f;
    if (*(int *)(DAT_005e5010 + 0x219c) != 0) {
      uVar6 = *(ushort *)((&DAT_005b218c)[param_1 * 0xc] + iVar5);
      *(ushort *)((&DAT_005b218c)[param_1 * 0xc] + iVar5) = uVar6 >> 1 & 0x7fe0 | uVar6 & 0x1f;
    }
    psVar1 = (short *)((&DAT_005b218c)[param_1 * 0xc] + iVar5);
    if ((uint)*(ushort *)((&DAT_005b218c)[param_1 * 0xc] + iVar5) ==
        *(uint *)(DAT_005e5010 + 0x21bc)) {
      *psVar1 = *psVar1 + -1;
    }
    iVar5 = iVar5 + 2;
  } while (iVar5 < 0x200);
  return 1;
}



undefined4 FUN_0049c010(int param_1)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 200;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(200);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  (&DAT_005b2168)[param_1 * 0xc] = pvVar1;
  *(undefined4 *)((int)pvVar1 + 0x98) = 0x3e491687;
  if (param_1 < 9) {
    *(undefined4 *)((int)pvVar1 + 0x9c) = 0x3ec91687;
    *(undefined4 *)((int)pvVar1 + 0xa0) = 0;
    *(undefined4 *)((int)pvVar1 + 0x80) = 0x3e16d0e5;
    *(undefined4 *)((int)pvVar1 + 0x84) = 0x3e491687;
    *(undefined4 *)((int)pvVar1 + 0x88) = 0;
    *(undefined4 *)((int)pvVar1 + 0xa4) = 0x3e491687;
    *(undefined4 *)((int)pvVar1 + 0xa8) = 0x3f16d0e5;
    *(undefined4 *)((int)pvVar1 + 0xac) = 0;
    *(undefined4 *)((int)pvVar1 + 0x8c) = 0x3e16d0e5;
    *(undefined4 *)((int)pvVar1 + 0x90) = 0x3e491687;
    *(undefined4 *)((int)pvVar1 + 0x94) = 0;
    return 1;
  }
  *(undefined4 *)((int)pvVar1 + 0x9c) = 0x3ec91687;
  *(undefined4 *)((int)pvVar1 + 0x84) = 0x3ec91687;
  *(undefined4 *)((int)pvVar1 + 0x8c) = 0x3ec91687;
  *(undefined4 *)((int)pvVar1 + 0xa0) = 0x3f16d0e5;
  *(undefined4 *)((int)pvVar1 + 0x80) = 0x3e491687;
  *(undefined4 *)((int)pvVar1 + 0x88) = 0x3f16d0e5;
  *(undefined4 *)((int)pvVar1 + 0xa4) = 0x3e491687;
  *(undefined4 *)((int)pvVar1 + 0xa8) = 0x3f16d0e5;
  *(undefined4 *)((int)pvVar1 + 0xac) = 0x3f491687;
  *(undefined4 *)((int)pvVar1 + 0x90) = 0x3e491687;
  *(undefined4 *)((int)pvVar1 + 0x94) = 0x3f96d0e5;
  return 1;
}



undefined4 FUN_0049c110(int param_1)

{
  byte *pbVar1;
  byte bVar2;
  void *pvVar3;
  void *pvVar4;
  int iVar5;
  uint uVar6;
  char cVar7;
  uint uVar8;
  int iVar9;
  size_t _Size;
  
  _Size = 0x440;
  iVar9 = 0;
  pvVar3 = (void *)AllocateMemoryWithCallback(0x440);
  pvVar4 = _memset(pvVar3,iVar9,_Size);
  (&DAT_005b2168)[param_1 * 0xc] = pvVar4;
  pvVar3 = (void *)((int)pvVar4 + 0x40);
  _memset(pvVar3,0,0x400);
  iVar9 = 0;
  do {
    bVar2 = FUN_0045fe00();
    *(byte *)(iVar9 + (int)pvVar4) = bVar2 & 0x1f;
    iVar9 = iVar9 + 1;
  } while (iVar9 < 0x40);
  iVar9 = 0x40;
  do {
    iVar5 = 0;
    do {
      cVar7 = *(char *)(iVar5 + (int)pvVar4) + '\x01';
      *(char *)(iVar5 + (int)pvVar4) = cVar7;
      if (cVar7 == ' ') {
        *(undefined *)(iVar5 + (int)pvVar4) = 0;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0x40);
    uVar6 = 0;
    do {
      pbVar1 = (byte *)(uVar6 + (int)pvVar4);
      uVar8 = uVar6 & 0x1f;
      uVar6 = uVar6 + 1;
      *(undefined *)(((uint)*pbVar1 * 0x20 + uVar8 & 0x3ff) + (int)pvVar3) = 0xff;
    } while ((int)uVar6 < 0x40);
    FUN_0049c8e0(pvVar3);
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  return 1;
}



undefined4 FUN_0049c1d0(int param_1)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  _Size = 0x400;
  _Val = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0x400);
  pvVar1 = _memset(pvVar1,_Val,_Size);
  (&DAT_005b2168)[param_1 * 0xc] = pvVar1;
  _memset(pvVar1,0,0x400);
  return 1;
}



undefined4 FUN_0049c220(short param_1,short param_2,short param_3)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  uint uVar7;
  
  AdjustStackForLargeAllocations();
  uVar5 = 0;
  iVar4 = DAT_00598d90;
  if (*(int *)(DAT_00598d90 + 0x239) != 0) {
    do {
      iVar2 = *(int *)(*(int *)(iVar4 + 0x230) + uVar5 * 4);
      uVar7 = 0;
      iVar3 = *(int *)(iVar2 + 0x56);
      if (*(int *)(iVar3 + 0x14) != 0) {
        do {
          sVar1 = *(short *)(*(int *)(iVar3 + 0x10) + uVar7 * 2);
          if (param_3 == sVar1) {
            uVar6 = 2;
LAB_0049c280:
            FUN_004a59d0(uVar5,uVar6);
            *(ushort *)(iVar2 + 0xa1) = *(ushort *)(iVar2 + 0xa1) & 0xfffb;
          }
          else {
            if ((param_1 == sVar1) && ((*(byte *)(iVar2 + 0xa1) & 4) != 0)) {
              uVar6 = 1;
              goto LAB_0049c280;
            }
            if (param_2 == sVar1) {
              FUN_004a59d0(uVar5,3);
            }
          }
          uVar7 = uVar7 + 1;
          iVar4 = DAT_00598d90;
        } while (uVar7 < *(uint *)(iVar3 + 0x14));
      }
      uVar5 = uVar5 + 1;
    } while (uVar5 < *(uint *)(iVar4 + 0x239));
  }
  return 1;
}



undefined4 FUN_0049c2d0(void)

{
  ushort *puVar1;
  ushort uVar2;
  uint uVar3;
  undefined2 uVar4;
  undefined2 uVar5;
  ushort uVar6;
  ushort uVar7;
  ushort uVar8;
  ushort uVar9;
  
  AdjustStackForLargeAllocations();
  uVar7 = 0;
  uVar6 = 9999;
  uVar8 = 9999;
  uVar9 = 9999;
  if (*DAT_005dcb00 != 0) {
    do {
      puVar1 = DAT_005dcb00;
      uVar3 = (uint)uVar7;
      DAT_005dcb00[uVar3 * 0x202 + 2] = DAT_005dcb00[uVar3 * 0x202 + 2] + DAT_005986e0;
      puVar1 = puVar1 + uVar3 * 0x202 + 2;
      uVar2 = puVar1[1];
      uVar5 = (undefined2)(uVar3 * 0x101 >> 0x10);
      uVar4 = (undefined2)(DAT_005d66c4 >> 0x10);
      if (uVar2 < 9) {
        if (uVar2 == 8) {
          DAT_005d66c4 = DAT_005d66c4 | 4;
          FUN_0049bd70(3,CONCAT22(uVar4,*puVar1));
          FUN_0049be70(3);
          FUN_0049c010(3);
          DAT_005b2148 = DAT_005b220c;
          uVar8 = *puVar1;
        }
        else if (uVar2 == 1) {
          DAT_005d66c4 = DAT_005d66c4 | 0x20;
          FUN_0049bd70(0,CONCAT22(uVar4,*puVar1));
          FUN_0049be70(0);
          FUN_0049c010(0);
        }
        else if (uVar2 == 2) {
          DAT_005d66c4 = DAT_005d66c4 | 0x40;
          FUN_0049bd70(1,CONCAT22(uVar5,*puVar1));
          FUN_0049be70(1);
          FUN_0049c010(1);
        }
        else if (uVar2 == 4) {
          DAT_005d66c4 = DAT_005d66c4 | 0x80;
          FUN_0049bd70(2,*puVar1);
          FUN_0049be70(2);
          FUN_0049c010(2);
        }
      }
      else if (uVar2 < 0x21) {
        if (uVar2 == 0x20) {
          DAT_005d66c4 = DAT_005d66c4 | 0x400;
          FUN_0049bd70(5,CONCAT22(uVar5,*puVar1));
          FUN_0049be70(5);
          FUN_0049c1d0(5);
        }
        else if (uVar2 == 0x10) {
          DAT_005d66c4 = DAT_005d66c4 | 8;
          FUN_0049bd70(4,*puVar1);
          FUN_0049be70(4);
          FUN_0049c010(4);
        }
      }
      else if (uVar2 < 0x81) {
        if (uVar2 == 0x80) {
          DAT_005d66c4 = DAT_005d66c4 | 0x100;
          FUN_0049bd70(8,CONCAT22(uVar4,*puVar1));
          FUN_0049be70(8);
          FUN_0049c010(8);
          DAT_005b2140 = DAT_005b22fc;
          uVar9 = *puVar1;
        }
        else if (uVar2 == 0x40) {
          DAT_005d66c4 = DAT_005d66c4 | 0x10;
          FUN_0049bd70(6,CONCAT22(uVar4,*puVar1));
          FUN_0049be70(6);
          FUN_0049c010(6);
        }
      }
      else if (uVar2 == 0x100) {
        DAT_005d66c4 = DAT_005d66c4 | 0x200;
        FUN_0049bd70(9,CONCAT22(uVar5,*puVar1));
        FUN_0049be70(9);
        FUN_0049c110(9);
        DAT_005b2144 = DAT_005b232c;
        uVar6 = *puVar1;
      }
      else if (uVar2 == 0x200) {
        DAT_005d66c4 = DAT_005d66c4 | 0x800;
        FUN_0049bd70(7,*puVar1);
        FUN_0049be70(7);
        FUN_0049c010(7);
      }
      uVar7 = uVar7 + 1;
    } while (uVar7 < *DAT_005dcb00);
  }
  FUN_0049c220(uVar8,uVar6,uVar9);
  return 1;
}



undefined4 FUN_0049c5d0(void)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_005b2168;
  iVar1 = 10;
  do {
    if (piVar2[9] != 0) {
      FreeMemory(piVar2[9]);
      piVar2[9] = 0;
    }
    if (*piVar2 != 0) {
      FreeMemory(*piVar2);
      *piVar2 = 0;
    }
    _memset(piVar2 + -2,0,0x30);
    piVar2 = piVar2 + 0xc;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  return 1;
}



undefined4 FUN_0049c630(float param_1)

{
  char cVar1;
  char cVar2;
  undefined2 *puVar3;
  undefined2 uVar4;
  undefined2 *puVar5;
  int iVar6;
  undefined *puVar7;
  undefined *puVar8;
  int iVar9;
  float fVar10;
  float fVar11;
  undefined2 *puVar12;
  int iVar13;
  
  AdjustStackForLargeAllocations();
  iVar9 = 0x20;
  iVar6 = (int)param_1 * 0x30;
  puVar3 = (undefined2 *)(&DAT_005b2168)[(int)param_1 * 0xc];
  param_1 = *(float *)(puVar3 + 0x58);
  fVar11 = *(float *)(puVar3 + 0x5a);
  fVar10 = *(float *)(puVar3 + 0x5c);
  puVar5 = puVar3;
  do {
    FUN_004ae014((double)fVar11,iVar9,fVar10);
    FUN_004ae014((double)param_1);
    FUN_004ae014((double)fVar10);
    uVar4 = __ftol();
    *puVar5 = uVar4;
    param_1 = param_1 + *(float *)(puVar3 + 0x4c);
    fVar11 = fVar11 + *(float *)(puVar3 + 0x4e);
    fVar10 = fVar10 + *(float *)(puVar3 + 0x50);
    puVar5 = puVar5 + 1;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  param_1 = *(float *)(puVar3 + 0x5e);
  fVar11 = *(float *)(puVar3 + 0x60);
  fVar10 = *(float *)(puVar3 + 0x62);
  *(float *)(puVar3 + 0x58) = *(float *)(puVar3 + 0x40) + *(float *)(puVar3 + 0x58);
  *(float *)(puVar3 + 0x5a) = *(float *)(puVar3 + 0x5a) - *(float *)(puVar3 + 0x42);
  *(float *)(puVar3 + 0x5c) = *(float *)(puVar3 + 0x44) + *(float *)(puVar3 + 0x5c);
  puVar5 = puVar3 + 0x20;
  iVar9 = 0x20;
  do {
    FUN_004ae014((double)fVar11,iVar9,fVar11,fVar10);
    FUN_004ae014((double)param_1);
    FUN_004ae014((double)fVar10);
    puVar8 = (undefined *)0x49c7cb;
    uVar4 = __ftol();
    *puVar5 = uVar4;
    param_1 = param_1 + *(float *)(puVar3 + 0x52);
    fVar11 = fVar11 + *(float *)(puVar3 + 0x54);
    fVar10 = fVar10 + *(float *)(puVar3 + 0x56);
    puVar5 = puVar5 + 1;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  *(float *)(puVar3 + 0x5e) = *(float *)(puVar3 + 0x5e) - *(float *)(puVar3 + 0x46);
  *(float *)(puVar3 + 0x60) = *(float *)(puVar3 + 0x48) + *(float *)(puVar3 + 0x60);
  puVar5 = puVar3 + 0x20;
  iVar13 = 0;
  *(float *)(puVar3 + 0x62) = *(float *)(puVar3 + 0x62) - *(float *)(puVar3 + 0x4a);
  cVar1 = *(char *)puVar5;
  iVar9 = 0;
  puVar7 = &DAT_005b2160 + iVar6;
  puVar12 = puVar3;
  while( true ) {
    do {
      cVar2 = *(char *)puVar12;
      iVar6 = iVar13 * *(int *)(puVar7 + 0x28) + iVar9;
      iVar9 = iVar9 + 1;
      puVar12 = puVar12 + 1;
      *(undefined2 *)(*(int *)(puVar7 + 0xc) + iVar6 * 2) =
           *(undefined2 *)(*(int *)(puVar7 + 0x2c) + (uint)(byte)(cVar1 + cVar2 + 0x80) * 2);
      puVar7 = puVar8;
    } while (iVar9 < 0x20);
    iVar13 = iVar13 + 1;
    puVar5 = puVar5 + 1;
    if (0x1f < iVar13) break;
    cVar1 = *(char *)puVar5;
    iVar9 = 0;
    puVar12 = puVar3;
  }
  return 1;
}



undefined4 FUN_0049c8e0(int param_1)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0x20;
  do {
    iVar3 = 0;
    do {
      if (0xf < *(byte *)(iVar3 + param_1)) {
        bVar1 = FUN_0045fe00();
        *(byte *)(iVar3 + param_1) = *(char *)(iVar3 + param_1) - (bVar1 & 0xf);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0x20);
    param_1 = param_1 + 0x20;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return 1;
}



undefined4 FUN_0049c920(int param_1)

{
  undefined2 uVar1;
  uint uVar2;
  undefined2 *puVar3;
  byte *pbVar4;
  byte bVar5;
  byte *pbVar6;
  int iVar7;
  byte *pbVar8;
  undefined2 local_24 [2];
  undefined4 uStack_20;
  int *local_1c;
  int local_18;
  undefined2 *local_14;
  int iVar9;
  byte *pbVar10;
  
  AdjustStackForLargeAllocations();
  pbVar10 = (byte *)(&DAT_005b2168)[param_1 * 0xc];
  local_1c = (int *)(&DAT_005b2178)[param_1 * 0xc];
  local_14 = local_24;
  local_18 = 8;
  uStack_20 = 0x49c962;
  pbVar4 = pbVar10;
  (**(code **)(*local_1c + 0x40))();
  pbVar8 = pbVar10 + 0x3fd;
  *(undefined4 *)(pbVar10 + 0x26) = 0xffffffff;
  *(undefined4 *)(pbVar10 + 0x2a) = 0xffffffff;
  iVar9 = 0x1f;
  *(undefined4 *)(pbVar10 + 0x2e) = 0xffffffff;
  *(undefined4 *)(pbVar10 + 0x32) = 0xffffffff;
  *(undefined4 *)(pbVar10 + 0x36) = 0xffffffff;
  do {
    uStack_20 = 0x49c989;
    pbVar10 = pbVar8;
    uVar2 = FUN_004af640();
    if ((uVar2 & 1) == 0) {
      pbVar6 = pbVar8 + -0x20;
      param_1 = 0x1b;
      do {
        if (0x1c < *pbVar6) {
          uStack_20 = 0x49c9fa;
          uVar2 = FUN_0045fe00();
          bVar5 = *pbVar6 - (char)((ulonglong)(uVar2 & 0xffff) % 0x1c);
          uStack_20 = 0x49ca10;
          uVar2 = FUN_004af640();
          if ((uVar2 & 1) == 0) {
            uStack_20 = 0x49ca26;
            uVar2 = FUN_004af640();
            pbVar8[-(uVar2 & 1)] = bVar5;
          }
          else {
            uStack_20 = 0x49ca19;
            uVar2 = FUN_004af640();
            pbVar8[uVar2 & 1] = bVar5;
          }
        }
        pbVar6 = pbVar6 + -1;
        pbVar8 = pbVar8 + -1;
        param_1 = param_1 + -1;
      } while (param_1 != 0);
    }
    else {
      pbVar6 = pbVar8 + -0x3d;
      pbVar8 = pbVar8 + -0x1b;
      param_1 = 0x1b;
      do {
        if (0x1c < *pbVar6) {
          uStack_20 = 0x49c9a4;
          uVar2 = FUN_0045fe00();
          bVar5 = *pbVar6 - (char)((ulonglong)(uVar2 & 0xffff) % 0x1c);
          uStack_20 = 0x49c9ba;
          uVar2 = FUN_004af640();
          if ((uVar2 & 1) == 0) {
            uStack_20 = 0x49c9d0;
            uVar2 = FUN_004af640();
            pbVar8[-(uVar2 & 1)] = bVar5;
          }
          else {
            uStack_20 = 0x49c9c3;
            uVar2 = FUN_004af640();
            pbVar8[uVar2 & 1] = bVar5;
          }
        }
        pbVar6 = pbVar6 + 1;
        pbVar8 = pbVar8 + 1;
        param_1 = param_1 + -1;
      } while (param_1 != 0);
    }
    pbVar8 = pbVar10 + -0x20;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  iVar9 = 0;
  *pbVar4 = 0;
  pbVar4[1] = 0;
  pbVar4[2] = 0;
  pbVar4[3] = 0;
  pbVar4[0x1c] = 0;
  pbVar4[0x1d] = 0;
  pbVar4[0x1e] = 0;
  pbVar4[0x1f] = 0;
  pbVar4[0x20] = 0;
  pbVar4[0x21] = 0;
  pbVar4[0x22] = 0;
  pbVar4[0x23] = 0;
  pbVar4[0x3c] = 0;
  pbVar4[0x3d] = 0;
  pbVar4[0x3e] = 0;
  pbVar4[0x3f] = 0;
  pbVar4[0x40] = 0;
  pbVar4[0x41] = 0;
  pbVar4[0x5e] = 0;
  pbVar4[0x5f] = 0;
  pbVar4[0x60] = 0;
  pbVar4[0x7f] = 0;
  do {
    iVar7 = 0x20;
    puVar3 = (undefined2 *)(local_18 + iVar9 * *(int *)(local_14 + 0x14) * 2);
    do {
      uVar1 = local_24[0];
      if (0x1c < *pbVar4) {
        uVar1 = *(undefined2 *)((int)local_1c + (uint)*pbVar4 * 2);
      }
      *puVar3 = uVar1;
      puVar3 = puVar3 + 1;
      pbVar4 = pbVar4 + 1;
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
    iVar9 = iVar9 + 1;
  } while (iVar9 < 0x20);
  return 1;
}



undefined4 FUN_0049caf0(int param_1)

{
  byte *pbVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  undefined2 *puVar7;
  byte *pbVar8;
  char cVar9;
  uint uVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  iVar11 = (&DAT_005b2168)[param_1 * 0xc];
  iVar3 = *(int *)(&DAT_005b216c + param_1 * 0x30);
  iVar4 = (&DAT_005b218c)[param_1 * 0xc];
  pbVar8 = (byte *)(iVar11 + 0x40);
  iVar5 = 0;
  do {
    cVar9 = *(char *)(iVar5 + iVar11) + '\x01';
    *(char *)(iVar5 + iVar11) = cVar9;
    if (cVar9 == ' ') {
      *(undefined *)(iVar5 + iVar11) = 0;
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0x40);
  uVar6 = 0;
  do {
    pbVar1 = (byte *)(uVar6 + iVar11);
    uVar10 = uVar6 & 0x1f;
    uVar6 = uVar6 + 1;
    pbVar8[uVar10 + (uint)*pbVar1 * 0x20] = 0xff;
  } while ((int)uVar6 < 0x40);
  FUN_0049c8e0(pbVar8);
  iVar5 = 0;
  do {
    cVar9 = *(char *)(iVar5 + iVar11) + '\x01';
    *(char *)(iVar5 + iVar11) = cVar9;
    if (cVar9 == ' ') {
      *(undefined *)(iVar5 + iVar11) = 0;
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0x20);
  uVar6 = 0;
  do {
    pbVar1 = (byte *)(uVar6 + iVar11);
    uVar10 = uVar6 & 0x1f;
    uVar6 = uVar6 + 1;
    pbVar8[uVar10 + (uint)*pbVar1 * 0x20] = 0xff;
  } while ((int)uVar6 < 0x20);
  FUN_0049c8e0(pbVar8);
  iVar11 = 0;
  do {
    iVar5 = 0x20;
    puVar7 = (undefined2 *)(iVar3 + iVar11 * *(int *)(&DAT_005b2188 + param_1 * 0x30) * 2);
    do {
      bVar2 = *pbVar8;
      pbVar8 = pbVar8 + 1;
      iVar5 = iVar5 + -1;
      *puVar7 = *(undefined2 *)(iVar4 + (uint)bVar2 * 2);
      puVar7 = puVar7 + 1;
    } while (iVar5 != 0);
    iVar11 = iVar11 + 1;
  } while (iVar11 < 0x20);
  return 1;
}



undefined4 FUN_0049cbf0(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  if (DAT_005df2e8 == 0) {
    return 1;
  }
  iVar3 = 0;
  puVar2 = &DAT_005b2174;
  do {
    if (puVar2[-4] != 0) {
      if (((byte)DAT_005a1104 & 1) == 0) {
        iVar1 = FUN_00424e90(puVar2[1],0,0,*puVar2,0,0x10);
        if (iVar1 != 0) {
          iVar1 = FUN_00424d60(puVar2[1],0,*puVar2,0,0x1000000,0);
          if (iVar1 != 0) {
            return 0;
          }
        }
      }
      else if (iVar3 == 5) {
        FUN_0049c920(5);
      }
      else if (iVar3 == 9) {
        FUN_0049caf0(9);
      }
      else {
        FUN_0049c630(iVar3);
      }
    }
    puVar2 = puVar2 + 0xc;
    iVar3 = iVar3 + 1;
  } while (iVar3 < 10);
  return 1;
}



undefined4 FUN_0049cca0(undefined4 param_1,int param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = &DAT_005b1ec0;
  if (param_2 == 0) {
    return 0;
  }
  iVar2 = 0;
  do {
    if (*piVar1 == 0) {
      *piVar1 = 1;
      if ((param_3 & 1) != 0) {
        piVar1[2] = 0x140;
        piVar1[3] = 0xe4;
        piVar1[4] = param_2;
        piVar1[1] = param_3;
        return 1;
      }
      piVar1[2] = 0xa0;
      piVar1[3] = 0x1ae;
      piVar1[4] = param_2;
      piVar1[1] = param_3;
      return 1;
    }
    piVar1 = piVar1 + 5;
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x20);
  return 0;
}



undefined4 FUN_0049cd10(void)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  uint *puVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  puVar5 = &DAT_005b1ec0;
  iVar6 = 0;
  uVar1 = DAT_005e5010;
  do {
    if (*puVar5 != 0) {
      if ((*(byte *)(puVar5 + 1) & 1) == 0) {
        puVar5[3] = puVar5[3] - 4;
      }
      else {
        uVar1 = *puVar5 * 8;
        uVar4 = *(uint *)(&DAT_004d3444 + uVar1);
        puVar5[2] = *(uint *)(&DAT_004d3440 + uVar1);
        puVar5[3] = uVar4;
      }
      uVar2 = __ftol(CONCAT31((int3)(uVar1 >> 8),~*(byte *)(puVar5 + 1)) & 0xffffff01,2);
      uVar2 = __ftol(uVar2);
      FUN_00427df0(puVar5[4],uVar2);
      uVar1 = puVar5[1];
      if ((uVar1 & 4) != 0) {
        if ((DAT_005df2f8 != 2) && (DAT_005df2f8 != 1)) {
          FUN_004284a0(DAT_005dee9c,*(int *)(DAT_005e5010 + 0x2538) / 2,
                       *(int *)(DAT_005e5010 + 0x253c) / 2 + *puVar5 * -4,0,2);
          *puVar5 = *puVar5 + 1 & 0xf;
          return 1;
        }
        iVar3 = *(int *)(DAT_005e5010 + 0x253c) / 2 + *puVar5 * -4;
        iVar6 = *(int *)(DAT_005e5010 + 0x2538);
        uVar2 = DAT_005dee9c;
LAB_0049cee2:
        FUN_00428d60(uVar2,iVar6 / 2,iVar3,0,2);
        *puVar5 = *puVar5 + 1 & 0xf;
        return 1;
      }
      if ((uVar1 & 2) != 0) {
        if ((DAT_005df2f8 != 2) && (DAT_005df2f8 != 1)) {
          FUN_004284a0(DAT_005deea0,*(int *)(DAT_005e5010 + 0x2538) / 2,
                       *(int *)(DAT_005e5010 + 0x253c) / 2 + *puVar5 * -4,0,2);
          *puVar5 = *puVar5 + 1 & 0xf;
          return 1;
        }
        iVar3 = *(int *)(DAT_005e5010 + 0x253c) / 2 + *puVar5 * -4;
        iVar6 = *(int *)(DAT_005e5010 + 0x2538);
        uVar2 = DAT_005deea0;
        goto LAB_0049cee2;
      }
      uVar4 = *puVar5 + 1 & 0xf;
      *puVar5 = uVar4;
      uVar1 = CONCAT31((int3)(uVar1 >> 8),*(byte *)(puVar5 + 1));
      if (((*(byte *)(puVar5 + 1) & 1) != 0) && (uVar1 = uVar4, uVar4 == 0)) {
        DAT_005a1120 = 1;
      }
    }
    puVar5 = puVar5 + 5;
    iVar6 = iVar6 + 1;
    if (0x1f < iVar6) {
      return 1;
    }
  } while( true );
}



undefined4 FUN_0049cf00(void)

{
  int *piVar1;
  undefined4 uVar2;
  uint *puVar3;
  int iVar4;
  int *piVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  float10 fVar8;
  undefined4 local_64 [4];
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  float local_44;
  undefined4 local_40;
  float local_3c;
  undefined4 uStack_34;
  float local_30;
  undefined8 *puStack_2c;
  undefined4 *local_28;
  undefined4 local_24;
  undefined4 uStack_20;
  int *piStack_1c;
  undefined8 local_18;
  
  AdjustStackForLargeAllocations();
  piVar5 = &DAT_005b1d04;
  do {
    iVar4 = piVar5[1];
    piVar1 = piVar5 + 1;
    if (iVar4 != 0) {
      switch(piVar5[-1]) {
      case 1:
        if ((piVar5[4] == 0) || (piVar5[5] == 0)) {
          local_18 = 4.940656458412465e-324;
          piStack_1c = (int *)0x1;
LAB_0049d36d:
          uStack_20 = 0x49d372;
          FUN_0046c830();
        }
        else {
          if (*piVar5 + -0x10 < iVar4) {
            local_18 = (double)CONCAT44((float)(*piVar5 - iVar4) * 0.4,0x49cf6d);
            fVar8 = (float10)FUN_0045ea60();
            fVar8 = (float10)1.0 - (float10)(*piVar5 - *piVar1) * fVar8 * (float10)-0.01;
            piVar5[0x11] = (int)(float)fVar8;
            piVar5[0xc] = (int)(float)fVar8;
            piVar5[7] = (int)(float)fVar8;
          }
          local_18 = (double)CONCAT44(&stack0xfffffff8,piVar5 + 7);
          piStack_1c = (int *)0x40c00000;
          uStack_20 = 0x49cfad;
          iVar4 = FUN_004a2710();
          if (iVar4 != 0) {
            piStack_1c = *(int **)(DAT_005e5010 + 8);
            local_18 = (double)CONCAT44(piVar5 + 7,DAT_005b9ce0);
            uStack_20 = 0x49cfcf;
            (**(code **)(*piStack_1c + 0x40))();
            iVar4 = 0;
            if (piVar5[6] < 1) goto LAB_0049d07f;
            puVar3 = (uint *)(piVar5[5] + 0x10);
            do {
              if (*piVar1 < 5) {
                *puVar3 = *piVar1 * 0x32000000 | 0xffffff;
              }
              else {
                *puVar3 = 0xffffffff;
              }
              puVar3 = puVar3 + 8;
              iVar4 = iVar4 + 1;
            } while (iVar4 < piVar5[6]);
            uStack_20 = 1;
            puStack_2c = *(undefined8 **)(DAT_005e5010 + 8);
            local_24 = *(undefined4 *)(DAT_005e5010 + 0xc);
            local_28 = (undefined4 *)piVar5[4];
            local_30 = 6.778665e-39;
            iVar4 = (**(code **)(*(int *)puStack_2c + 0x20))();
joined_r0x0049d09a:
            if (iVar4 != 0) {
              return 0;
            }
          }
        }
        break;
      case 2:
        if (piVar5[4] != 0) {
          local_18 = (double)CONCAT44(&stack0xfffffff8,piVar5 + 7);
          piStack_1c = (int *)0x40c00000;
          uStack_20 = 0x49d05e;
          iVar4 = FUN_004a2710();
          if (iVar4 != 0) {
            local_18 = (double)CONCAT44(piVar5 + 7,DAT_005b9ce0);
            piStack_1c = *(int **)(DAT_005e5010 + 8);
            uStack_20 = 0x49d07f;
            (**(code **)(*piStack_1c + 0x40))();
LAB_0049d07f:
            uStack_20 = 1;
            puStack_2c = *(undefined8 **)(DAT_005e5010 + 8);
            local_24 = *(undefined4 *)(DAT_005e5010 + 0xc);
            local_28 = (undefined4 *)piVar5[4];
            local_30 = 6.778821e-39;
            iVar4 = (**(code **)(*(int *)puStack_2c + 0x20))();
            goto joined_r0x0049d09a;
          }
        }
        break;
      case 4:
        piVar1 = (int *)piVar5[3];
        if (piVar1 == DAT_005e45e8) {
          local_18 = (double)CONCAT44(CONCAT22((short)((uint)piVar1 >> 0x10),
                                               *(undefined2 *)(piVar5 + 0x17)),1);
          piStack_1c = (int *)0x1;
          goto LAB_0049d36d;
        }
        puVar6 = (undefined4 *)(*piVar1 + 6);
        puVar7 = local_64;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar7 = *puVar6;
          puVar6 = puVar6 + 1;
          puVar7 = puVar7 + 1;
        }
        local_64[0] = *(undefined4 *)(DAT_005e45e4 + 0x238);
        local_64[1] = *(undefined4 *)(DAT_005e45e4 + 0x248);
        local_64[2] = *(undefined4 *)(DAT_005e45e4 + 600);
        local_54 = 0;
        local_50 = 0x3f800000;
        local_4c = 0;
        local_44 = *(float *)(DAT_005e45e4 + 0x240);
        local_40 = 0;
        local_3c = *(float *)(DAT_005e45e4 + 0x260);
        local_18 = (double)(local_3c * local_3c + local_44 * local_44);
        piStack_1c = (int *)0x49d136;
        fVar8 = (float10)FUN_004ad534();
        local_28 = (undefined4 *)0x3f800000;
        local_18 = (double)CONCAT44(&stack0xfffffff8,local_64);
        piStack_1c = (int *)0x40c00000;
        local_30 = local_30 - -5.0;
        local_44 = (float)(((float10)1.0 / fVar8) * (float10)local_44);
        local_3c = (float)(((float10)1.0 / fVar8) * (float10)local_3c);
        uStack_20 = 0x49d17a;
        iVar4 = FUN_004a2710();
        if (iVar4 != 0) {
          piStack_1c = *(int **)(DAT_005e5010 + 8);
          local_18 = (double)CONCAT44(local_64,DAT_005b9ce0);
          uStack_20 = 0x49d19f;
          (**(code **)(*piStack_1c + 0x40))();
          uStack_20 = 1;
          puStack_2c = *(undefined8 **)(DAT_005e5010 + 8);
          local_24 = *(undefined4 *)(DAT_005e5010 + 0xc);
          local_28 = DAT_005b1eaa;
          local_30 = 6.779228e-39;
          iVar4 = (**(code **)(*(int *)puStack_2c + 0x20))();
          if (iVar4 != 0) {
            return 0;
          }
          DAT_005d0490 = DAT_005d0490 + DAT_005d0450;
        }
        break;
      case 5:
      case 6:
        local_18._4_4_ = *(undefined4 *)(*(int *)(piVar5[3] + 4) + 0x3a);
        local_18._0_4_ = 0x49d20d;
        uVar2 = FUN_004af640();
        local_28 = &local_24;
        local_18 = (double)(CONCAT44(local_18._4_4_,uVar2) & 0xffffffff0000001f);
        piStack_1c = (int *)0x3f000000;
        uStack_20 = 1;
        local_24 = 4;
        puStack_2c = &local_18;
        local_30 = 2.802597e-45;
        uStack_34 = 0x49d229;
        FUN_0046cb20();
        piVar1 = (int *)piVar5[3];
        if (piVar1 == DAT_005e45e8) {
          local_18 = (double)CONCAT44(CONCAT22((short)((uint)piVar1 >> 0x10),
                                               *(undefined2 *)(piVar5 + 0x17)),1);
          piStack_1c = (int *)0x4;
          goto LAB_0049d36d;
        }
        puVar6 = (undefined4 *)(*piVar1 + 6);
        puVar7 = local_64;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar7 = *puVar6;
          puVar6 = puVar6 + 1;
          puVar7 = puVar7 + 1;
        }
        local_64[0] = *(undefined4 *)(DAT_005e45e4 + 0x238);
        local_64[1] = *(undefined4 *)(DAT_005e45e4 + 0x248);
        local_64[2] = *(undefined4 *)(DAT_005e45e4 + 600);
        local_54 = 0;
        local_50 = 0x3f800000;
        local_4c = 0;
        local_44 = *(float *)(DAT_005e45e4 + 0x240);
        local_40 = 0;
        local_3c = *(float *)(DAT_005e45e4 + 0x260);
        local_18 = (double)(local_3c * local_3c + local_44 * local_44);
        piStack_1c = (int *)0x49d2bd;
        fVar8 = (float10)FUN_004ad534();
        local_28 = (undefined4 *)0x3f800000;
        iVar4 = (-(uint)(piVar5[-1] != 5) & 0xff7f80ff) + 0x7fffff00;
        local_44 = (float)(((float10)1.0 / fVar8) * (float10)local_44);
        local_3c = (float)(((float10)1.0 / fVar8) * (float10)local_3c);
        *(int *)(DAT_005b1ea4 + 0x10) = iVar4;
        *(int *)(DAT_005b1ea4 + 0x30) = iVar4;
        *(int *)(DAT_005b1ea4 + 0x50) = iVar4;
        *(int *)(DAT_005b1ea4 + 0x70) = iVar4;
        piStack_1c = *(int **)(DAT_005e5010 + 8);
        local_18 = (double)CONCAT44(local_64,DAT_005b9ce0);
        uStack_20 = 0x49d331;
        (**(code **)(*piStack_1c + 0x40))();
        uStack_20 = 1;
        local_24 = *(undefined4 *)(DAT_005e5010 + 0xc);
        puStack_2c = *(undefined8 **)(DAT_005e5010 + 8);
        local_28 = DAT_005b1ea0;
        local_30 = 6.77979e-39;
        iVar4 = (**(code **)(*(int *)puStack_2c + 0x20))();
        if (iVar4 != 0) {
          return 0;
        }
        DAT_005d0490 = DAT_005d0490 + DAT_005d0454;
      }
    }
    piVar5 = (int *)((int)piVar5 + 0x62);
    if (0x5b1e8b < (int)piVar5) {
      return 1;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049d3c0(void)

{
  undefined4 ***pppuVar1;
  undefined4 ***local_8;
  
  local_8 = (undefined4 ***)0x49d3cd;
  AdjustStackForLargeAllocations();
  if (0 < DAT_005b1ca0) {
    _DAT_005b1ca8 = *(undefined4 *)(DAT_005e45e4 + 0x238);
    _DAT_005b1cac = *(undefined4 *)(DAT_005e45e4 + 0x248);
    _DAT_005b1cb0 = *(undefined4 *)(DAT_005e45e4 + 600);
    _DAT_005b1cb8 = 0;
    _DAT_005b1cbc = 0x3f800000;
    _DAT_005b1cc0 = 0;
    _DAT_005b1cc8 = *(undefined4 *)(DAT_005e45e4 + 0x240);
    local_8 = &local_8;
    _DAT_005b1ccc = 0;
    _DAT_005b1cd0 = *(undefined4 *)(DAT_005e45e4 + 0x260);
    FUN_004a2710(0x43fa0000,&DAT_005b1ca8);
    pppuVar1 = local_8;
    _DAT_005b1cf2 = 1;
    local_8 = (undefined4 ***)&DAT_005b1ce8;
    FUN_00485990(pppuVar1);
    DAT_005d0490 = DAT_005d0490 + DAT_005d0448;
    DAT_005b1ca0 = (DAT_005b1ca0 + 1) % 0x60;
  }
  return 1;
}



void FUN_0049d4b0(void)

{
  uint uVar1;
  
  if (DAT_005b1ca0 < 0x51) {
    uVar1 = 0x7fffffff;
  }
  else {
    uVar1 = DAT_005b1ca0 * -0x10000000 - 0x1000000U | 0xffffff;
  }
  if (*(int *)(DAT_005e5010 + 0x2190) != 0) {
    uVar1 = 0xffffffff;
  }
  *(uint *)(DAT_005b1ca4 + 0x10) = uVar1;
  *(uint *)(DAT_005b1ca4 + 0x30) = uVar1;
  *(uint *)(DAT_005b1ca4 + 0x50) = uVar1;
  *(uint *)(DAT_005b1ca4 + 0x70) = uVar1;
  if (DAT_005b1ca0 < 10) {
    *(undefined4 *)(DAT_005b1ca4 + 0x20) = 0;
    *(float *)(DAT_005b1ca4 + 0x24) = (float)DAT_005b1ca0 * 25.0 - 4.0;
    *(undefined4 *)(DAT_005b1ca4 + 0x40) = 0;
    *(undefined4 *)(DAT_005b1ca4 + 0x44) = *(undefined4 *)(DAT_005b1ca4 + 0x24);
    return;
  }
  if (DAT_005b1ca0 < 0x14) {
    *(float *)(DAT_005b1ca4 + 0x20) = -((float)DAT_005b1ca0 * 8.333333);
    *(undefined4 *)(DAT_005b1ca4 + 0x24) = 0x43fa0000;
    *(float *)(DAT_005b1ca4 + 0x40) = (float)DAT_005b1ca0 * 8.333333;
    *(undefined4 *)(DAT_005b1ca4 + 0x44) = 0x43fa0000;
    return;
  }
  *(undefined4 *)(DAT_005b1ca4 + 0x20) = 0xc326aaab;
  *(undefined4 *)(DAT_005b1ca4 + 0x24) = 0x43fa0000;
  *(undefined4 *)(DAT_005b1ca4 + 0x40) = 0x4326aaab;
  *(undefined4 *)(DAT_005b1ca4 + 0x44) = 0x43fa0000;
  return;
}



undefined4 FUN_0049d5d0(undefined4 *param_1)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float *pfVar6;
  undefined4 *puVar7;
  int *piVar8;
  float10 fVar9;
  undefined4 local_78 [4];
  float local_68;
  float local_64;
  float local_60;
  float local_5c;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float fStack_30;
  float fStack_2c;
  float local_28;
  float fStack_24;
  undefined4 uStack_20;
  undefined4 *puStack_1c;
  undefined4 *local_18;
  undefined4 *local_14;
  float fVar10;
  int iVar11;
  float fVar12;
  float fVar13;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005e5010 + 0x2538);
  if ((DAT_005d66a4 != 0) || (DAT_005aaaac != 0)) {
    return 1;
  }
  local_18 = local_78;
  local_14 = (undefined4 *)(DAT_005e45e4 + 0x278);
  puStack_1c = local_78;
  puVar7 = local_78;
  iVar11 = iVar1;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar7 = *param_1;
    param_1 = param_1 + 1;
    puVar7 = puVar7 + 1;
  }
  uStack_20 = 0x49d638;
  FUN_0045ecb0();
  local_18 = local_78;
  puStack_1c = local_78;
  local_14 = &DAT_004d1b60;
  uStack_20 = 0x49d64d;
  FUN_0045ecb0();
  fVar10 = 1.0 / (local_3c - local_5c * -500.0);
  local_40 = local_40 - local_60 * -500.0;
  fVar13 = (float)(iVar1 >> 1);
  fVar12 = (float)((int)local_14 >> 1);
  fVar2 = ((local_48 - local_68 * -500.0) * fVar10 - -1.0) * fVar13;
  fVar10 = (1.0 - (local_44 - local_64 * -500.0) * fVar10) * fVar12;
  fVar3 = (float)iVar11 * 0.1;
  if ((((local_40 <= 600.0) && (1.0 <= local_40)) && (0.0 <= fVar2 - fVar3)) &&
     (((fVar3 + fVar2 <= (float)iVar11 && (0.0 <= fVar10 - fVar3)) &&
      (fVar3 + fVar10 <= (float)(int)local_14)))) {
    local_18 = (undefined4 *)0x0;
    puStack_1c = (undefined4 *)0x0;
    fStack_30 = -*(float *)(DAT_005e45e4 + 0x230);
    uStack_20 = 0x40a00000;
    local_38 = -*(float *)(DAT_005e45e4 + 0x228);
    local_28 = 50.0 - *(float *)(DAT_005e45e4 + 0x22c);
    local_34 = 6.0 - *(float *)(DAT_005e45e4 + 0x22c);
    local_3c = 6.781392e-39;
    fStack_2c = local_38;
    fStack_24 = fStack_30;
    local_14 = (undefined4 *)local_38;
    fVar9 = (float10)FUN_00421a70();
    if (fVar9 == (float10)-10000.0) {
      fVar10 = local_38 - fVar13;
      local_18 = (undefined4 *)(local_34 - fVar12);
      piVar8 = &DAT_005b1bd6;
      local_14 = (undefined4 *)0x0;
      pfVar6 = (float *)&DAT_005b1b6c;
      do {
        iVar11 = (int)local_14;
        iVar1 = (&DAT_004d3500)[(int)local_14];
        fVar4 = (float)(&DAT_004d34e0)[(int)local_14] * fVar10;
        fVar2 = (float)(&DAT_004d34e0)[(int)local_14] * (float)local_18;
        fVar3 = (float)local_18 + fVar12;
        local_18 = (undefined4 *)(((float)(int)local_14 - -1.0) * 0.1);
        pfVar6[-1] = (fVar10 + fVar13) - (fVar4 + fVar4);
        *pfVar6 = fVar3 - (fVar2 + fVar2);
        *(undefined2 *)((int)piVar8 + -6) = (&DAT_005b1c78)[iVar1];
        *piVar8 = (int)local_14;
        puStack_1c = (undefined4 *)0x49d87c;
        local_14 = (undefined4 *)((int)piVar8 + -0xe);
        FUN_00485990();
        DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
        pfVar6 = pfVar6 + 3;
        local_14 = (undefined4 *)(iVar11 + 1);
        piVar8 = (int *)((int)piVar8 + 0x16);
      } while ((int)pfVar6 < 0x5b1bcc);
      return 1;
    }
    return 0;
  }
  return 0;
}



undefined4 FUN_0049d8d0(float *param_1)

{
  undefined2 uVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  int *piVar8;
  float10 fVar9;
  float local_78 [4];
  float local_68;
  float local_64;
  float local_5c;
  float local_58;
  float local_54;
  float local_4c;
  float local_48;
  float local_44;
  float local_3c;
  float local_38;
  float local_34;
  float fStack_30;
  float local_2c;
  float local_28;
  float fStack_24;
  undefined4 uStack_20;
  float *pfStack_1c;
  float *local_18;
  undefined4 *local_14;
  int iVar10;
  int iVar11;
  int iVar12;
  float fVar13;
  float fVar14;
  
  AdjustStackForLargeAllocations();
  iVar11 = *(int *)(DAT_005e5010 + 0x2538);
  iVar10 = *(int *)(DAT_005e5010 + 0x253c);
  if (DAT_005d66a4 != 0) {
    return 1;
  }
  local_18 = local_78;
  local_14 = (undefined4 *)(DAT_005e45e4 + 0x278);
  pfStack_1c = local_78;
  pfVar6 = (float *)&DAT_004d1ae0;
  pfVar7 = local_78;
  iVar12 = iVar11;
  for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
    *pfVar7 = *pfVar6;
    pfVar6 = pfVar6 + 1;
    pfVar7 = pfVar7 + 1;
  }
  uStack_20 = 0x49d935;
  FUN_0045ecb0();
  local_18 = local_78;
  pfStack_1c = local_78;
  local_14 = &DAT_004d1b60;
  uStack_20 = 0x49d94a;
  FUN_0045ecb0();
  fVar2 = 1.0 / (*param_1 * local_78[3] + local_5c * param_1[1] + local_4c * param_1[2] + local_3c);
  fVar14 = (float)(iVar11 >> 1);
  fVar3 = ((*param_1 * local_78[0] + local_68 * param_1[1] + local_58 * param_1[2] + local_48) *
           fVar2 - -1.0) * fVar14;
  fVar4 = (float)iVar12 * 0.1;
  fVar13 = (float)(iVar10 >> 1);
  fVar2 = (1.0 - (*param_1 * local_78[1] + local_64 * param_1[1] + local_54 * param_1[2] + local_44)
                 * fVar2) * fVar13;
  if ((((0.0 <= fVar3 - fVar4) && (fVar4 + fVar3 <= (float)iVar12)) && (0.0 <= fVar2 - fVar4)) &&
     (fVar4 + fVar2 <= (float)iVar10)) {
    local_18 = (float *)0x0;
    pfStack_1c = (float *)0x0;
    fStack_30 = -*(float *)(DAT_005e45e4 + 0x230);
    uStack_20 = 0x40a00000;
    local_38 = -*(float *)(DAT_005e45e4 + 0x228);
    local_28 = 50.0 - *(float *)(DAT_005e45e4 + 0x22c);
    local_34 = 6.0 - *(float *)(DAT_005e45e4 + 0x22c);
    local_3c = 6.782485e-39;
    local_2c = local_38;
    fStack_24 = fStack_30;
    local_14 = (undefined4 *)local_38;
    fVar9 = (float10)FUN_00421a70();
    if (fVar9 == (float10)-10000.0) {
      local_14 = (undefined4 *)(local_38 - fVar14);
      local_18 = (float *)(local_34 - fVar13);
      piVar8 = &DAT_005b1a96;
      iVar11 = 0;
      pfVar6 = (float *)&DAT_005b1a2c;
      do {
        fVar4 = (float)(&DAT_004d34e0)[iVar11] * (float)local_14;
        fVar2 = (float)(&DAT_004d34e0)[iVar11] * (float)local_18;
        fVar3 = (float)local_18 + fVar13;
        uVar1 = (&DAT_005b1c78)[(&DAT_004d3500)[iVar11]];
        local_18 = (float *)(((float)iVar11 - -1.0) * 0.1);
        pfVar6[-1] = ((float)local_14 + fVar14) - (fVar4 + fVar4);
        *pfVar6 = fVar3 - (fVar2 + fVar2);
        *(undefined2 *)((int)piVar8 + -6) = uVar1;
        *piVar8 = iVar11;
        pfStack_1c = (float *)0x49db81;
        local_14 = (undefined4 *)((int)piVar8 + -0xe);
        FUN_00485990();
        DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
        pfVar6 = pfVar6 + 3;
        iVar11 = iVar11 + 1;
        piVar8 = (int *)((int)piVar8 + 0x16);
      } while ((int)pfVar6 < 0x5b1a8c);
      return 1;
    }
  }
  return 0;
}



void FUN_0049dbd0(int param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  iVar6 = *(int *)(param_1 + 0xe);
  fVar1 = 0.0;
  if (0.0 < *(float *)(&DAT_004d34c0 + iVar6 * 4) * 16.0) {
    fVar1 = *(float *)(&DAT_004d34c0 + iVar6 * 4) * 16.0;
  }
  fVar2 = (float)(&DAT_005b1b68)[iVar6 * 3] - fVar1;
  fVar3 = (float)(&DAT_005b1b6c)[iVar6 * 3] - fVar1;
  fVar5 = ((float)iVar6 - -1.0) * 0.1;
  fVar4 = fVar1 + (float)(&DAT_005b1b6c)[iVar6 * 3];
  fVar1 = fVar1 + (float)(&DAT_005b1b68)[iVar6 * 3];
  *DAT_005b1b64 = fVar2;
  DAT_005b1b64[1] = fVar3;
  DAT_005b1b64[2] = fVar5;
  DAT_005b1b64[8] = fVar2;
  DAT_005b1b64[9] = fVar4;
  DAT_005b1b64[10] = fVar5;
  DAT_005b1b64[0x10] = fVar1;
  DAT_005b1b64[0x11] = fVar4;
  DAT_005b1b64[0x12] = fVar5;
  DAT_005b1b64[0x18] = fVar1;
  DAT_005b1b64[0x19] = fVar3;
  DAT_005b1b64[0x1a] = fVar5;
  iVar6 = 0;
  do {
    if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
      uVar8 = *(uint *)(&DAT_004d3520 + *(int *)(param_1 + 0xe) * 4) | 0x7f000000;
    }
    else {
      uVar8 = *(uint *)(&DAT_004d3520 + *(int *)(param_1 + 0xe) * 4) | 0xff000000;
    }
    iVar7 = iVar6 + 0x20;
    *(uint *)((int)DAT_005b1b64 + iVar6 + 0x10) = uVar8;
    iVar6 = iVar7;
  } while (iVar7 < 0x80);
  return;
}



void FUN_0049dd40(int param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  
  AdjustStackForLargeAllocations();
  iVar6 = *(int *)(param_1 + 0xe);
  fVar1 = 0.0;
  if (0.0 < *(float *)(&DAT_004d34c0 + iVar6 * 4) * 16.0) {
    fVar1 = *(float *)(&DAT_004d34c0 + iVar6 * 4) * 16.0;
  }
  fVar2 = (float)(&DAT_005b1a28)[iVar6 * 3] - fVar1;
  fVar3 = (float)(&DAT_005b1a2c)[iVar6 * 3] - fVar1;
  fVar5 = ((float)iVar6 - -1.0) * 0.1;
  fVar4 = fVar1 + (float)(&DAT_005b1a2c)[iVar6 * 3];
  fVar1 = fVar1 + (float)(&DAT_005b1a28)[iVar6 * 3];
  *DAT_005b1b64 = fVar2;
  DAT_005b1b64[1] = fVar3;
  DAT_005b1b64[2] = fVar5;
  DAT_005b1b64[8] = fVar2;
  DAT_005b1b64[9] = fVar4;
  DAT_005b1b64[10] = fVar5;
  DAT_005b1b64[0x10] = fVar1;
  DAT_005b1b64[0x11] = fVar4;
  DAT_005b1b64[0x12] = fVar5;
  DAT_005b1b64[0x18] = fVar1;
  DAT_005b1b64[0x19] = fVar3;
  DAT_005b1b64[0x1a] = fVar5;
  iVar6 = 0;
  do {
    if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
      uVar8 = *(uint *)(&DAT_004d3520 + *(int *)(param_1 + 0xe) * 4) | 0x7f000000;
    }
    else {
      uVar8 = *(uint *)(&DAT_004d3520 + *(int *)(param_1 + 0xe) * 4) | 0xff000000;
    }
    iVar7 = iVar6 + 0x20;
    *(uint *)((int)DAT_005b1b64 + iVar6 + 0x10) = uVar8;
    iVar6 = iVar7;
  } while (iVar7 < 0x80);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049deb0(void)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  undefined4 unaff_ESI;
  int *piVar5;
  undefined4 *puVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  piVar5 = &DAT_005b0ec0;
  iVar7 = 0;
  puVar6 = &DAT_005b0f04;
  puVar4 = &DAT_005b0ec4;
  do {
    if ((*piVar5 != 0) &&
       ((sVar1 = *(short *)(*(int *)(*piVar5 + 0x9d) + 3), sVar1 == -1 ||
        (*(char *)(*(int *)(DAT_00598d90 + 0x247) + sVar1 * 6) != '\0')))) {
      iVar2 = FUN_004a2710(0x43480000,puVar4,&stack0xfffffff4);
      if (iVar2 != 0) {
        uVar3 = _DAT_005a1124 & 3;
        *(uint *)((int)piVar5 + 0x4e) = (iVar2 != 1) + 1;
        *(undefined2 *)(piVar5 + 0x13) = (&DAT_005b1a08)[uVar3];
        *(int *)((int)piVar5 + 0x52) = iVar7;
        FUN_00485990(unaff_ESI,puVar6);
        DAT_005d0490 = DAT_005d0490 + DAT_005d048c;
      }
    }
    piVar5 = (int *)((int)piVar5 + 0x5a);
    puVar4 = (undefined4 *)((int)puVar4 + 0x5a);
    puVar6 = (undefined4 *)((int)puVar6 + 0x5a);
    iVar7 = iVar7 + 1;
  } while (iVar7 < 0x20);
  return 1;
}



void FUN_0049df90(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  puVar2 = DAT_005b1a04;
  puVar3 = DAT_005b1a04 + 0x20;
  iVar1 = *(int *)((int)&DAT_005b0ec0 + *(int *)(param_1 + 0xe) * 0x5a);
  *DAT_005b1a04 = *(undefined4 *)(iVar1 + 0x6d);
  puVar2[1] = *(undefined4 *)(iVar1 + 0x65);
  puVar2[2] = *(undefined4 *)(iVar1 + 0x75);
  puVar2[8] = *(undefined4 *)(iVar1 + 0x6d);
  puVar2[9] = *(undefined4 *)(iVar1 + 0x71);
  puVar2[10] = *(undefined4 *)(iVar1 + 0x75);
  puVar2[0x10] = *(undefined4 *)(iVar1 + 0x6d);
  puVar2[0x11] = *(undefined4 *)(iVar1 + 0x71);
  puVar2[0x12] = *(undefined4 *)(iVar1 + 0x69);
  puVar2[0x18] = *(undefined4 *)(iVar1 + 0x6d);
  puVar2[0x19] = *(undefined4 *)(iVar1 + 0x65);
  puVar2[0x1a] = *(undefined4 *)(iVar1 + 0x69);
  *puVar3 = *(undefined4 *)(iVar1 + 0x61);
  puVar2[0x21] = 0;
  puVar2[0x22] = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049e020(void)

{
  int iVar1;
  float fVar2;
  float *pfVar3;
  float10 fVar4;
  
  AdjustStackForLargeAllocations();
  _DAT_005b0cb8 = _DAT_005b0cb8 - -0.7;
  pfVar3 = (float *)&DAT_005b0cfc;
  do {
    if (pfVar3[-7] != 0.0) {
      if (pfVar3[-6] == 0.0) {
        pfVar3[-7] = 0.0;
      }
      else {
        pfVar3[-6] = (float)((int)pfVar3[-6] + -1);
        pfVar3[7] = *(float *)(*(int *)pfVar3[-7] + 0x36);
        pfVar3[8] = *(float *)(*(int *)pfVar3[-7] + 0x3a);
        fVar2 = *(float *)(*(int *)pfVar3[-7] + 0x3e);
        pfVar3[10] = 1.0;
        pfVar3[9] = fVar2;
        fVar2 = pfVar3[-6];
        if (0xb < (int)fVar2) {
          fVar2 = (float)(0x16 - (int)fVar2);
        }
        *pfVar3 = (float)(int)fVar2 * 0.04545455;
        *pfVar3 = *pfVar3 * 3.0;
        iVar1 = FUN_004a2710(0x40800000,pfVar3 + -5,&stack0xfffffff4);
        fVar2 = _DAT_005b0cb8;
        if (iVar1 != 0) {
          *(uint *)((int)pfVar3 + 0x36) = (iVar1 != 1) + 1;
          fVar4 = (float10)FUN_004ae0c4((double)fVar2);
          fVar2 = _DAT_005b0cb8;
          pfVar3[5] = (float)(fVar4 * (float10)*pfVar3);
          pfVar3[-5] = (float)(fVar4 * (float10)*pfVar3);
          fVar4 = (float10)FUN_004ae014((double)fVar2);
          fVar2 = _DAT_005b0cb8;
          pfVar3[-3] = (float)-(fVar4 * (float10)*pfVar3);
          fVar4 = (float10)FUN_004ae014((double)fVar2);
          pfVar3[3] = (float)(fVar4 * (float10)*pfVar3);
          FUN_00485990();
          DAT_005d0490 = DAT_005d0490 + 8;
        }
      }
    }
    pfVar3 = (float *)((int)pfVar3 + 0x5e);
  } while ((int)pfVar3 < 0x5b0ed2);
  return 1;
}



void FUN_0049e170(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  
  iVar1 = DAT_005b0cc0;
  FUN_004ad7a0(DAT_005b0cc0,DAT_005b0cc4,DAT_005b0cc8 << 5);
  iVar2 = 0;
  if (0 < DAT_005b0cc8) {
    piVar3 = (int *)(iVar1 + 0x10);
    do {
      iVar2 = iVar2 + 1;
      *piVar3 = (-(uint)(*(int *)(DAT_005e5010 + 0x2190) != 0) & 0xf000000) + 0xf0ffffff;
      piVar3 = piVar3 + 8;
    } while (iVar2 < DAT_005b0cc8);
  }
  return;
}



undefined4 FUN_0049e1e0(void)

{
  int iVar1;
  undefined4 unaff_EBX;
  undefined4 *puVar2;
  int *piVar3;
  
  AdjustStackForLargeAllocations();
  piVar3 = &DAT_005af1be;
  puVar2 = &DAT_005ae1bc;
  do {
    iVar1 = DAT_005e45e4;
    if (piVar3[1] != 0) {
      puVar2[-2] = *(undefined4 *)(DAT_005e45e4 + 0x238);
      puVar2[-1] = *(undefined4 *)(iVar1 + 0x248);
      *puVar2 = *(undefined4 *)(iVar1 + 600);
      puVar2[2] = *(undefined4 *)(iVar1 + 0x23c);
      puVar2[3] = *(undefined4 *)(iVar1 + 0x24c);
      puVar2[4] = *(undefined4 *)(iVar1 + 0x25c);
      puVar2[6] = *(undefined4 *)(iVar1 + 0x240);
      puVar2[7] = *(undefined4 *)(iVar1 + 0x250);
      puVar2[8] = *(undefined4 *)(iVar1 + 0x260);
      puVar2[0xd] = 0x3f800000;
      iVar1 = FUN_004a2710(0x40000000,puVar2 + -2,&stack0xfffffff8);
      if (iVar1 != 0) {
        *(undefined2 *)((int)piVar3 + -2) = DAT_005ae1ac._2_2_;
        *piVar3 = (iVar1 != 1) + 1;
        FUN_00485990(unaff_EBX,(int)piVar3 + -10);
      }
      piVar3[1] = 0;
    }
    puVar2 = puVar2 + 0x10;
    piVar3 = (int *)((int)piVar3 + 0x16);
  } while ((int)puVar2 < 0x5af1bc);
  return 1;
}



undefined4 FUN_0049e2d0(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = DAT_005af734;
  if (DAT_005af734 < 0x40) {
    iVar1 = DAT_005af734 * 0x40;
    *(undefined4 *)(&DAT_005af768 + iVar1) = *(undefined4 *)(param_1 + 0x30);
    *(undefined4 *)(&DAT_005af76c + iVar1) = *(undefined4 *)(param_1 + 0x34);
    *(undefined4 *)(&DAT_005af770 + iVar1) = *(undefined4 *)(param_1 + 0x38);
    *(undefined4 *)(&DAT_005af738 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x238);
    *(undefined4 *)(&DAT_005af73c + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x248);
    *(undefined4 *)(&DAT_005af740 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 600);
    *(undefined4 *)(&DAT_005af748 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x23c);
    *(undefined4 *)(&DAT_005af74c + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x24c);
    *(undefined4 *)(&DAT_005af750 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x25c);
    *(undefined4 *)(&DAT_005af758 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x240);
    *(undefined4 *)(&DAT_005af75c + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x250);
    *(undefined4 *)(&DAT_005af760 + iVar1) = *(undefined4 *)(DAT_005e45e4 + 0x260);
    *(undefined4 *)(&DAT_005af774 + iVar1) = 0x3f800000;
    iVar1 = FUN_004a2710(0x40000000,&DAT_005af738 + iVar1,&param_1);
    if (iVar1 != 0) {
      iVar2 = iVar2 * 0x16;
      *(undefined2 *)(&DAT_005b0740 + iVar2) = DAT_005ae1ac._2_2_;
      *(uint *)(&DAT_005b0742 + iVar2) = (iVar1 != 1) + 1;
      FUN_00485990(param_1,(int)&DAT_005b0738 + iVar2);
      DAT_005af734 = DAT_005af734 + 1;
    }
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049e3f0(int param_1,float *param_2)

{
  bool bVar1;
  bool bVar2;
  int iVar3;
  undefined2 uVar4;
  undefined4 unaff_ESI;
  int iVar5;
  float *pfVar6;
  float10 fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  iVar3 = DAT_005af734;
  fVar8 = 0.5;
  if (0x3f < DAT_005af734) {
    return 1;
  }
  iVar5 = DAT_005af734 * 0x40;
  pfVar6 = (float *)(&DAT_005af738 + iVar5);
  *(float *)(&DAT_005af768 + iVar5) = param_2[0xc];
  *(float *)(&DAT_005af76c + iVar5) = param_2[0xd];
  *(float *)(&DAT_005af770 + iVar5) = param_2[0xe];
  *(undefined4 *)(&DAT_005af774 + iVar5) = 0x3f800000;
  if ((((param_1 != 0xb) && (param_1 != 0x12)) && (param_1 != 0x18)) ||
     (fVar7 = (float10)FUN_004ad3c0((double)(*(float *)(DAT_005e45e4 + 0x260) * param_2[10] +
                                            *(float *)(DAT_005e45e4 + 0x250) * param_2[9] +
                                            *(float *)(DAT_005e45e4 + 0x240) * param_2[8])),
     (float10)0.8999999761581421 < fVar7)) {
    bVar2 = true;
    if ((param_1 == 0xf) || (param_1 == 0xe)) {
      fVar8 = 1.0;
    }
    *pfVar6 = *(float *)(DAT_005e45e4 + 0x238) * fVar8;
    *(float *)(&DAT_005af73c + iVar5) = *(float *)(DAT_005e45e4 + 0x248) * fVar8;
    *(float *)(&DAT_005af740 + iVar5) = *(float *)(DAT_005e45e4 + 600) * fVar8;
    *(float *)(&DAT_005af748 + iVar5) = *(float *)(DAT_005e45e4 + 0x23c) * fVar8;
    *(float *)(&DAT_005af74c + iVar5) = *(float *)(DAT_005e45e4 + 0x24c) * fVar8;
    *(float *)(&DAT_005af750 + iVar5) = *(float *)(DAT_005e45e4 + 0x25c) * fVar8;
    *(float *)(&DAT_005af758 + iVar5) = *(float *)(DAT_005e45e4 + 0x240) * fVar8;
    *(float *)(&DAT_005af75c + iVar5) = *(float *)(DAT_005e45e4 + 0x250) * fVar8;
    fVar8 = *(float *)(DAT_005e45e4 + 0x260) * fVar8;
LAB_0049e5cd:
    *(float *)(&DAT_005af760 + iVar5) = fVar8;
  }
  else {
    bVar2 = false;
    fVar7 = (float10)FUN_004ad3c0((double)(*(float *)(DAT_005e45e4 + 0x22c) +
                                          *(float *)(&DAT_005af76c + iVar5)));
    bVar1 = *(float *)(DAT_005e45e4 + 0x240) * param_2[4] +
            *(float *)(DAT_005e45e4 + 0x250) * param_2[5] +
            *(float *)(DAT_005e45e4 + 0x260) * param_2[6] < 0.0;
    if ((float10)1.0 <= fVar7) {
      *pfVar6 = *param_2 * 0.25;
      *(float *)(&DAT_005af73c + iVar5) = param_2[1] * 0.25;
      *(float *)(&DAT_005af740 + iVar5) = param_2[2] * 0.25;
      fVar8 = param_2[8];
      if (bVar1) {
        fVar8 = -fVar8;
      }
      *(float *)(&DAT_005af748 + iVar5) = fVar8;
      fVar8 = param_2[9];
      if (bVar1) {
        fVar8 = -fVar8;
      }
      *(float *)(&DAT_005af74c + iVar5) = fVar8;
      fVar8 = param_2[10];
      if (bVar1) {
        fVar8 = -fVar8;
      }
      *(float *)(&DAT_005af750 + iVar5) = fVar8;
      *(float *)(&DAT_005af758 + iVar5) = param_2[4] * 0.25;
      *(float *)(&DAT_005af75c + iVar5) = param_2[5] * 0.25;
      fVar8 = param_2[6] * 0.25;
      goto LAB_0049e5cd;
    }
    *(float *)(&DAT_005af758 + iVar5) = *param_2;
    *(float *)(&DAT_005af75c + iVar5) = param_2[1];
    *(float *)(&DAT_005af760 + iVar5) = param_2[2];
    fVar8 = param_2[8];
    if (bVar1) {
      fVar8 = -fVar8;
    }
    *(float *)(&DAT_005af748 + iVar5) = fVar8;
    fVar8 = param_2[9];
    if (bVar1) {
      fVar8 = -fVar8;
    }
    *(float *)(&DAT_005af74c + iVar5) = fVar8;
    fVar8 = param_2[10];
    if (bVar1) {
      fVar8 = -fVar8;
    }
    *(float *)(&DAT_005af750 + iVar5) = fVar8;
    *pfVar6 = param_2[4];
    *(float *)(&DAT_005af73c + iVar5) = param_2[5];
    *(float *)(&DAT_005af740 + iVar5) = param_2[6];
  }
  iVar5 = FUN_004a2710(0x40000000,pfVar6,&stack0xfffffff4);
  if (iVar5 == 0) {
    return 1;
  }
  switch(param_1) {
  case 0xb:
    if (bVar2) {
      *(undefined2 *)(&DAT_005b0740 + iVar3 * 0x16) = DAT_005ae1ac._2_2_;
    }
    else {
      *(short *)(&DAT_005b0740 + iVar3 * 0x16) = (short)DAT_005ae1ac;
    }
    goto LAB_0049e69b;
  default:
    uVar4 = *(undefined2 *)(&DAT_005ae19c + (_DAT_005a1124 & 3) * 2);
    break;
  case 0xe:
    uVar4 = *(undefined2 *)(&DAT_005ae1a4 + (_DAT_005a1124 & 3) * 2);
    break;
  case 0x12:
  case 0x18:
    *(undefined2 *)(&DAT_005b0740 + iVar3 * 0x16) = DAT_005ae1b2;
    goto LAB_0049e69b;
  }
  *(undefined2 *)(&DAT_005b0740 + iVar3 * 0x16) = uVar4;
LAB_0049e69b:
  *(uint *)(&DAT_005b0742 + iVar3 * 0x16) = (iVar5 != 1) + 1;
  FUN_00485990(unaff_ESI,(int)&DAT_005b0738 + iVar3 * 0x16);
  DAT_005d0490 = DAT_005d0490 + DAT_005d0474;
  DAT_005af734 = DAT_005af734 + 1;
  return 1;
}



void FUN_0049e7d0(void)

{
  float fVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = DAT_005af734;
  if (DAT_005af734 < 0x40) {
    iVar3 = DAT_005af734 * 0x40;
    *(float *)(&DAT_005af768 + iVar3) = -*(float *)(DAT_005e45e4 + 0x228);
    *(float *)(&DAT_005af76c + iVar3) = -*(float *)(DAT_005e45e4 + 0x22c) - 2.0;
    *(float *)(&DAT_005af770 + iVar3) = -*(float *)(DAT_005e45e4 + 0x230);
    *(undefined4 *)(&DAT_005af774 + iVar3) = 0x3f800000;
    *(float *)(&DAT_005af738 + iVar3) = *(float *)(DAT_005e45e4 + 0x238) * 0.035;
    *(float *)(&DAT_005af73c + iVar3) = *(float *)(DAT_005e45e4 + 0x248) * 0.035;
    fVar1 = *(float *)(DAT_005e45e4 + 600);
    *(undefined4 *)(&DAT_005af744 + iVar3) = 0;
    *(float *)(&DAT_005af740 + iVar3) = fVar1 * 0.035;
    *(float *)(&DAT_005af748 + iVar3) = *(float *)(DAT_005e45e4 + 0x23c) * 0.035;
    *(float *)(&DAT_005af74c + iVar3) = *(float *)(DAT_005e45e4 + 0x24c) * 0.035;
    fVar1 = *(float *)(DAT_005e45e4 + 0x25c);
    *(undefined4 *)(&DAT_005af754 + iVar3) = 0;
    *(float *)(&DAT_005af750 + iVar3) = fVar1 * 0.035;
    *(float *)(&DAT_005af758 + iVar3) = *(float *)(DAT_005e45e4 + 0x240) * 0.035;
    *(float *)(&DAT_005af75c + iVar3) = *(float *)(DAT_005e45e4 + 0x250) * 0.035;
    fVar1 = *(float *)(DAT_005e45e4 + 0x260);
    *(undefined4 *)(&DAT_005af764 + iVar3) = 0;
    *(float *)(&DAT_005af760 + iVar3) = fVar1 * 0.035;
    *(undefined2 *)(&DAT_005b0740 + iVar2 * 0x16) = DAT_005a28ac;
    FUN_00485990(0,(int)&DAT_005b0738 + iVar2 * 0x16);
    DAT_005af734 = DAT_005af734 + 1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0049e940(int param_1)

{
  uint uVar1;
  int iVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  
  iVar2 = DAT_005b0cc0;
  FUN_004ad7a0(DAT_005b0cc0,DAT_005b0cc4,DAT_005b0cc8 << 5);
  iVar5 = 0;
  if (0 < DAT_005b0cc8) {
    iVar4 = 0;
    puVar3 = (uint *)(iVar2 + 0x10);
    do {
      iVar4 = iVar4 + 0x20;
      puVar3[3] = (uint)(*(float *)(DAT_005b0cc4 + -4 + iVar4) - (float)_DAT_005a1124 * -0.1);
      uVar1 = *(uint *)(param_1 + 0xe);
      iVar5 = iVar5 + 1;
      *puVar3 = ((uVar1 | 0x7f00) << 8 | uVar1) << 8 | uVar1;
      puVar3 = puVar3 + 8;
    } while (iVar5 < DAT_005b0cc8);
  }
  return;
}



float10 FUN_0049e9c0(float param_1,float param_2)

{
  float10 fVar1;
  
  if (0.0 < param_1) {
    fVar1 = (float10)FUN_004af934((double)param_2);
    return fVar1;
  }
  fVar1 = (float10)FUN_004af934((double)param_2);
  return (float10)4.7239 - fVar1;
}



undefined4 FUN_0049ea00(void)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  float10 fVar6;
  float local_90 [8];
  float local_70;
  float local_68;
  float local_50 [5];
  float local_3c;
  float local_38;
  float local_30;
  undefined4 uStack_20;
  int *piStack_1c;
  float *pfStack_18;
  undefined8 local_14;
  float fVar7;
  
  AdjustStackForLargeAllocations();
  if (DAT_005a10a8 == 0) {
    return 0;
  }
  pfVar3 = (float *)(DAT_005e45e4 + 0x238);
  pfVar4 = local_50;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar4 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar4 = pfVar4 + 1;
  }
  local_14 = (double)(local_30 * local_30 + local_50[0] * local_50[0]);
  pfStack_18 = (float *)0x49ea50;
  fVar5 = (float10)FUN_004ad534();
  local_90[0] = (float)fVar5;
  local_70 = local_30 / local_90[0];
  local_14 = (double)ZEXT48(local_50);
  pfVar3 = (float *)&DAT_004d1ae0;
  pfVar4 = local_90;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar4 = *pfVar3;
    pfVar3 = pfVar3 + 1;
    pfVar4 = pfVar4 + 1;
  }
  pfStack_18 = local_50;
  local_90[0] = local_50[0] / local_90[0];
  local_14 = (double)CONCAT44(local_90[0],(float)local_14);
  local_90[2] = -local_70;
  piStack_1c = (int *)0x49eab2;
  local_68 = local_90[0];
  fVar7 = local_70;
  FUN_0045ecb0();
  local_14 = (double)(local_38 * local_38 + local_3c * local_3c);
  pfStack_18 = (float *)0x49ead0;
  fVar5 = (float10)FUN_004ad534();
  local_3c = local_3c / (float)fVar5;
  local_14._4_4_ = local_38 / (float)fVar5;
  pfStack_18 = (float *)0x49eafb;
  local_14._0_4_ = fVar7;
  FUN_0049e9c0();
  local_14._0_4_ = local_14._4_4_;
  pfStack_18 = (float *)0x49eb10;
  local_14._4_4_ = local_3c;
  fVar5 = (float10)FUN_0049e9c0();
  fVar6 = -fVar5 - (float10)2.0;
  *(float *)(DAT_005adf84 + 0x18) = local_14._4_4_ - 2.0;
  fVar7 = (float)-fVar5 - -2.0;
  *(float *)(DAT_005adf84 + 0x1c) = (float)fVar6;
  *(float *)(DAT_005adf84 + 0x38) = local_14._4_4_ - 2.0;
  *(float *)(DAT_005adf84 + 0x3c) = fVar7;
  *(float *)(DAT_005adf84 + 0x58) = local_14._4_4_ - -2.0;
  *(float *)(DAT_005adf84 + 0x5c) = fVar7;
  *(float *)(DAT_005adf84 + 0x78) = local_14._4_4_ - -2.0;
  *(float *)(DAT_005adf84 + 0x7c) = (float)fVar6;
  if (DAT_00598d54 == 0) {
    fVar7 = 65536.0 - DAT_005d669c;
    fVar1 = DAT_005d669c;
  }
  else {
    fVar7 = 65536.0 - 65536.0 / (DAT_005d669c - 1.0);
    fVar1 = fVar7;
  }
  iVar2 = 0;
  do {
    iVar2 = iVar2 + 0x20;
    *(float *)(DAT_005adf84 + -0x18 + iVar2) = fVar7;
    *(float *)(DAT_005adf84 + -0x14 + iVar2) = 1.0 / fVar1;
  } while (iVar2 < 0x80);
  piStack_1c = *(int **)(DAT_005e5010 + 8);
  local_14 = (double)CONCAT44(2,*(undefined4 *)(DAT_005e5010 + 0xc));
  pfStack_18 = (float *)DAT_005adf80;
  uStack_20 = 0x49ec2f;
  iVar2 = (**(code **)(*piStack_1c + 0x20))();
  if (iVar2 != 0) {
    return 0;
  }
  DAT_005d0490 = DAT_005d0490 + 2;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049ec60(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  undefined2 *puVar7;
  float *pfVar8;
  undefined4 unaff_EDI;
  
  AdjustStackForLargeAllocations();
  puVar7 = &DAT_005debc8;
  pfVar8 = (float *)&DAT_005de7c3;
  do {
    iVar5 = DAT_005e45e4;
    if (*(int *)((int)pfVar8 + -0x53) != 0) {
      pfVar1 = pfVar8 + -2;
      iVar6 = (_DAT_005a1124 & 0xf) * 4;
      fVar3 = *(float *)(&DAT_004d3578 + iVar6) * 0.42;
      fVar2 = *(float *)(&DAT_004d35b8 + iVar6) * 0.42;
      *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * fVar3;
      pfVar8[-1] = *(float *)(iVar5 + 0x248) * fVar3;
      fVar4 = (fVar2 - 0.3) * -3.33;
      *pfVar8 = *(float *)(iVar5 + 600) * fVar3;
      pfVar8[2] = *(float *)(iVar5 + 0x23c) * fVar2;
      pfVar8[3] = *(float *)(iVar5 + 0x24c) * fVar2;
      pfVar8[4] = *(float *)(iVar5 + 0x25c) * fVar2;
      pfVar8[6] = *(float *)(iVar5 + 0x240) * fVar3;
      pfVar8[7] = *(float *)(iVar5 + 0x250) * fVar3;
      fVar2 = *(float *)(iVar5 + 0x260);
      pfVar8[0xb] = (pfVar8[0xb] - (fVar4 - -0.5)) - (fVar4 - -0.75);
      pfVar8[8] = fVar2 * fVar3;
      iVar6 = FUN_004a2710(0x40400000,pfVar1,&stack0xfffffff0);
      iVar5 = DAT_00598944;
      if (iVar6 != 0) {
        *(uint *)(puVar7 + 1) = (iVar6 != 1) + 1;
        *(undefined4 *)(puVar7 + 3) = 0;
        if (iVar5 == 0) {
          *puVar7 = DAT_005aab10;
        }
        else {
          *puVar7 = DAT_005aab12;
        }
        FUN_00485990(unaff_EDI,puVar7 + -4);
        FUN_0049ee00(unaff_EDI,pfVar1);
        DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
      }
      pfVar8 = pfVar8 + 0x38;
    }
    puVar7 = puVar7 + 0xb;
  } while ((int)puVar7 < 0x5dec36);
  return 1;
}



float10 FUN_0049ee00(float param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  float10 fVar4;
  undefined4 local_1c;
  undefined4 *puStack_18;
  float *pfStack_14;
  float local_10;
  undefined4 ****local_c;
  
  AdjustStackForLargeAllocations();
  if (DAT_005a10ac < 10) {
    local_c = (undefined4 ****)0x0;
    local_10 = 0.0;
    pfStack_14 = (float *)0x0;
    iVar2 = DAT_005a10ac * 0x16;
    iVar3 = DAT_005a10ac * 0x40;
    *(undefined2 *)(&DAT_005aab28 + iVar2) = DAT_005b1c80;
    uVar1 = DAT_005a88c0;
    *(undefined4 *)(&DAT_005aab2a + iVar2) = 0;
    *(undefined4 *)(&DAT_005aab2e + iVar2) = 0;
    *(code **)(&DAT_005aab32 + iVar2) = FUN_0049f260;
    *(undefined4 *)(&DAT_005aab24 + iVar2) = uVar1;
    *(undefined **)(&DAT_005aab20 + iVar2) = &DAT_005add00 + iVar3;
    puStack_18 = (undefined4 *)0x3f99999a;
    uVar1 = *(undefined4 *)(param_2 + 0x30);
    *(undefined4 *)(&DAT_005add30 + iVar3) = uVar1;
    local_1c = *(undefined4 *)(param_2 + 0x38);
    *(undefined4 *)(&DAT_005add38 + iVar3) = local_1c;
    fVar4 = (float10)FUN_00421a70(uVar1,*(float *)(param_2 + 0x34) - -1.0,local_1c,uVar1,
                                  *(float *)(param_2 + 0x34) - 6.0);
    *(float *)(&DAT_005add34 + iVar3) = (float)fVar4;
    if (fVar4 == (float10)-10000.0) {
      local_c = &local_c;
      pfStack_14 = &local_10;
      local_1c = *(undefined4 *)(&DAT_005add38 + iVar3);
      local_10 = 0.0;
      puStack_18 = &local_1c;
      fVar4 = (float10)FUN_0041c650(*(undefined4 *)(&DAT_005add30 + iVar3));
      *(float *)(&DAT_005add34 + iVar3) = (float)fVar4;
      if (fVar4 == (float10)0.0) goto LAB_0049ef3c;
    }
    *(float *)(&DAT_005add34 + iVar3) = *(float *)(&DAT_005add34 + iVar3) - -0.03;
    local_10 = param_1 - -0.5;
    local_c = (undefined4 ****)(&DAT_005aab20 + DAT_005a10ac * 0x16);
    pfStack_14 = (float *)0x49ef26;
    FUN_00485990();
    DAT_005a10ac = DAT_005a10ac + 1;
    return (float10)*(float *)(&DAT_005add34 + iVar3);
  }
LAB_0049ef3c:
  return (float10)-10000.0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049ef50(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  int iVar5;
  undefined4 unaff_EBX;
  int unaff_ESI;
  float *pfVar6;
  bool bVar7;
  
  AdjustStackForLargeAllocations();
  if (DAT_005dca0c != 0) {
    pfVar6 = (float *)&DAT_005aac0c;
    do {
      iVar4 = DAT_005e45e4;
      if (pfVar6[-3] != 0.0) {
        fVar2 = *(float *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0xb4);
        if (((*(uint *)(DAT_00598ff0 + 0x26 + (int)fVar2 * 4) & 1 << (SUB41(pfVar6[0xf],0) & 0x1f) |
             (uint)(fVar2 == pfVar6[0xf])) != 0) && ((*(byte *)((int)pfVar6[-3] + 0xa1) & 1) != 0))
        {
          pfVar1 = pfVar6 + -2;
          iVar5 = (unaff_ESI + _DAT_005a1124 & 0xfU) * 4;
          fVar2 = *(float *)(&DAT_004d3578 + iVar5) * 0.42;
          fVar3 = *(float *)(&DAT_004d35b8 + iVar5) * 0.42;
          *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar6[-1] = *(float *)(iVar4 + 0x248) * fVar2;
          *pfVar6 = *(float *)(iVar4 + 600) * fVar2;
          pfVar6[2] = *(float *)(iVar4 + 0x23c) * fVar3;
          pfVar6[3] = *(float *)(iVar4 + 0x24c) * fVar3;
          pfVar6[4] = *(float *)(iVar4 + 0x25c) * fVar3;
          pfVar6[6] = *(float *)(iVar4 + 0x240) * fVar2;
          pfVar6[7] = *(float *)(iVar4 + 0x250) * fVar2;
          pfVar6[8] = *(float *)(iVar4 + 0x260) * fVar2;
          iVar4 = FUN_004a2710(0x40400000,pfVar1,&stack0xfffffff0);
          if (iVar4 != 0) {
            pfVar6[0xe] = pfVar6[0xb];
            FUN_0049ee00(unaff_EBX,pfVar1);
            fVar2 = 0.5 - (fVar3 - 0.3) * 3.33;
            pfVar6[0xb] = (pfVar6[0xb] - fVar2) - fVar2;
            *(int *)((int)pfVar6 + 0x4e) = unaff_ESI;
            bVar7 = DAT_00598944 == 0;
            *(uint *)((int)pfVar6 + 0x4a) = (iVar4 != 1) + 1;
            if (bVar7) {
              *(undefined2 *)(pfVar6 + 0x12) = DAT_005aab10;
            }
            else {
              *(undefined2 *)(pfVar6 + 0x12) = DAT_005aab12;
            }
            FUN_00485990(unaff_EBX,pfVar6 + 0x10);
            DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
          }
        }
        pfVar6 = (float *)((int)pfVar6 + 0x62);
      }
      unaff_ESI = unaff_ESI + 1;
    } while (unaff_ESI < (int)(uint)DAT_005dca0c);
  }
  return 1;
}



void FUN_0049f140(int param_1)

{
  char cVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  iVar2 = DAT_005a88c4;
  cVar1 = (char)DAT_005a4b74;
  uVar4 = DAT_005a4b74 | 0xffffff00;
  *(undefined4 *)(DAT_005a88c4 + 8) = 0;
  *(uint *)(iVar2 + 0x10) = (uint)CONCAT11(cVar1 + -0x80,cVar1 + '<') | uVar4 << 0x10;
  *(undefined4 *)(iVar2 + 0x18) = 0x3c75c28f;
  *(undefined4 *)(iVar2 + 0x1c) = 0x3c75c28f;
  cVar1 = (char)DAT_005a4b74;
  iVar3 = DAT_005a4b74 + 0x10;
  *(undefined4 *)(iVar2 + 0x38) = 0x3c75c28f;
  *(uint *)(iVar2 + 0x30) = iVar3 * 0x10000 | (uint)CONCAT11(cVar1 + -0x70,cVar1 + 'L') | 0xff000000
  ;
  *(undefined4 *)(iVar2 + 0x28) = 0;
  *(undefined4 *)(iVar2 + 0x3c) = 0x3f7c28f6;
  cVar1 = (char)DAT_005a4b74;
  iVar3 = DAT_005a4b74 + 0x20;
  *(undefined4 *)(iVar2 + 0x48) = 0;
  *(undefined4 *)(iVar2 + 0x58) = 0x3f7c28f6;
  *(uint *)(iVar2 + 0x50) =
       iVar3 * 0x10000 | (uint)CONCAT11(cVar1 + -0x62,cVar1 + '\\') | 0xff000000;
  *(undefined4 *)(iVar2 + 0x5c) = 0x3f7c28f6;
  cVar1 = (char)DAT_005a4b74;
  iVar3 = DAT_005a4b74 + 0x30;
  *(undefined4 *)(iVar2 + 0x68) = 0;
  *(undefined4 *)(iVar2 + 0x78) = 0x3f7c28f6;
  *(uint *)(iVar2 + 0x70) = iVar3 * 0x10000 | (uint)CONCAT11(cVar1 + -0x50,cVar1 + 'l') | 0xff000000
  ;
  *(undefined4 *)(iVar2 + 0x7c) = 0x3c75c28f;
  iVar3 = *(int *)(param_1 + 0xe) * 0x62;
  *(undefined4 *)((int)&DAT_005aac38 + iVar3) = *(undefined4 *)((int)&DAT_005aac44 + iVar3);
  return;
}



void FUN_0049f260(void)

{
  int iVar1;
  int iVar2;
  
  iVar1 = DAT_005a88c4;
  iVar2 = (-(uint)(DAT_005d66a4 != 0) & 0x80000000) - 1;
  *(int *)(DAT_005a88c4 + 0x10) = iVar2;
  *(undefined4 *)(iVar1 + 8) = 0;
  *(undefined4 *)(iVar1 + 0x18) = 0x3c75c28f;
  *(undefined4 *)(iVar1 + 0x1c) = 0x3c75c28f;
  *(int *)(iVar1 + 0x30) = iVar2;
  *(undefined4 *)(iVar1 + 0x28) = 0;
  *(undefined4 *)(iVar1 + 0x38) = 0x3c75c28f;
  *(undefined4 *)(iVar1 + 0x3c) = 0x3f7c28f6;
  *(int *)(iVar1 + 0x50) = iVar2;
  *(undefined4 *)(iVar1 + 0x48) = 0;
  *(undefined4 *)(iVar1 + 0x58) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x5c) = 0x3f7c28f6;
  *(undefined4 *)(iVar1 + 0x68) = 0;
  *(undefined4 *)(iVar1 + 0x7c) = 0x3c75c28f;
  *(int *)(iVar1 + 0x70) = iVar2;
  *(undefined4 *)(iVar1 + 0x78) = 0x3f7c28f6;
  return;
}



undefined4 FUN_0049f2d0(void)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  float unaff_EBX;
  undefined4 *puVar4;
  bool bVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  puVar4 = &DAT_005aa794;
  iVar6 = 8;
  do {
    iVar3 = DAT_005e45e4;
    if (0 < (int)puVar4[-5]) {
      puVar4[0xc] = 0x3f800000;
      *puVar4 = 0;
      puVar4[4] = 0;
      puVar4[8] = 0;
      puVar1 = puVar4 + -3;
      *puVar1 = *(undefined4 *)(iVar3 + 0x238);
      puVar4[-2] = *(undefined4 *)(iVar3 + 0x248);
      puVar4[-1] = *(undefined4 *)(iVar3 + 600);
      puVar4[1] = 0;
      puVar4[2] = 0x3f800000;
      puVar4[3] = 0;
      uVar2 = *(undefined4 *)(iVar3 + 0x240);
      puVar4[6] = 0;
      puVar4[5] = uVar2;
      puVar4[7] = *(undefined4 *)(iVar3 + 0x260);
      FUN_004a2710(0x43fa0000,puVar1,&stack0xfffffff8);
      *(undefined2 *)(puVar4 + 0x10) = (undefined2)DAT_005aaaa4;
      bVar5 = puVar4[-4] == DAT_005e45e8;
      *(undefined4 *)((int)puVar4 + 0x46) = puVar4[-5];
      if (bVar5) {
        unaff_EBX = (float)DAT_005d669c;
      }
      FUN_00485990(unaff_EBX,puVar4 + 0xe);
      DAT_005d0490 = DAT_005d0490 + 1;
      FUN_0049d5d0(puVar1);
    }
    puVar4 = (undefined4 *)((int)puVar4 + 0x62);
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  puVar4 = &DAT_005aa474;
  iVar6 = 8;
  do {
    iVar3 = DAT_005e45e4;
    if (0 < (int)puVar4[-5]) {
      puVar4[0xc] = 0x3f800000;
      *puVar4 = 0;
      puVar4[4] = 0;
      puVar4[8] = 0;
      puVar1 = puVar4 + -3;
      *puVar1 = *(undefined4 *)(iVar3 + 0x238);
      puVar4[-2] = *(undefined4 *)(iVar3 + 0x248);
      puVar4[-1] = *(undefined4 *)(iVar3 + 600);
      puVar4[1] = 0;
      puVar4[2] = 0x3f800000;
      puVar4[3] = 0;
      uVar2 = *(undefined4 *)(iVar3 + 0x240);
      puVar4[6] = 0;
      puVar4[5] = uVar2;
      puVar4[7] = *(undefined4 *)(iVar3 + 0x260);
      FUN_004a2710(0x43fa0000,puVar1,&stack0xfffffff8);
      *(undefined2 *)(puVar4 + 0x10) = (undefined2)DAT_005aaaa0;
      bVar5 = puVar4[-4] == DAT_005e45e8;
      *(undefined4 *)((int)puVar4 + 0x46) = puVar4[-5];
      if (bVar5) {
        unaff_EBX = (float)DAT_005d669c;
      }
      FUN_00485990(unaff_EBX,puVar4 + 0xe);
      DAT_005d0490 = DAT_005d0490 + 1;
      FUN_0049d5d0(puVar1);
    }
    puVar4 = (undefined4 *)((int)puVar4 + 0x62);
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  return 1;
}



void FUN_0049f4a0(int param_1)

{
  uint uVar1;
  float fVar2;
  
  AdjustStackForLargeAllocations();
  if (*(uint *)(param_1 + 0xe) < 0x51) {
    fVar2 = NAN;
  }
  else {
    fVar2 = (float)(*(uint *)(param_1 + 0xe) * -0x10000000 - 0x1000000 | 0xffffff);
  }
  if (*(int *)(DAT_005e5010 + 0x2190) != 0) {
    fVar2 = -NAN;
  }
  DAT_005aaaa8[4] = fVar2;
  DAT_005aaaa8[0xc] = fVar2;
  DAT_005aaaa8[0x14] = fVar2;
  uVar1 = *(uint *)(param_1 + 0xe);
  if (uVar1 < 10) {
    fVar2 = (float)(ulonglong)uVar1;
  }
  else if (uVar1 < 0x14) {
    fVar2 = 21.0 - (float)(ulonglong)uVar1;
  }
  else {
    fVar2 = 1.0;
  }
  *DAT_005aaaa8 = -fVar2;
  DAT_005aaaa8[0x10] = fVar2;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049f550(void)

{
  float *pfVar1;
  float fVar2;
  float *pfVar3;
  
  _DAT_005aa110 = _DAT_005aa110 - -0.7;
  pfVar3 = (float *)&DAT_005aa164;
  do {
    if ((int *)pfVar3[-0x11] != (int *)0x0) {
      pfVar1 = pfVar3 + -0xd;
      pfVar3[-1] = *(float *)(*(int *)pfVar3[-0x11] + 0x36);
      *pfVar3 = *(float *)(*(int *)pfVar3[-0x11] + 0x3a);
      fVar2 = *(float *)(*(int *)pfVar3[-0x11] + 0x3e);
      pfVar3[2] = 1.0;
      pfVar3[1] = fVar2;
      FUN_004a00f0(pfVar1,(int)pfVar3[-0xf] + 4,8,1);
      *pfVar3 = *pfVar3 - -1.28;
      FUN_004a00f0(pfVar1,(int)pfVar3[-0xf] + 3,8,1);
      *pfVar3 = *pfVar3 - -1.28;
      FUN_004a00f0(pfVar1,pfVar3[-0xf],8,1);
      pfVar3[-0xf] = (float)((int)pfVar3[-0xf] + 1U & 0x1f);
    }
    pfVar3 = (float *)((int)pfVar3 + 0x66);
  } while ((int)pfVar3 < 0x5aa494);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0049f610(int param_1)

{
  int iVar1;
  uint *puVar2;
  int iVar3;
  
  iVar1 = DAT_005b0cc0;
  FUN_004ad7a0(DAT_005b0cc0,DAT_005b0cc4,DAT_005b0cc8 << 5);
  iVar3 = 0;
  if (0 < DAT_005b0cc8) {
    puVar2 = (uint *)(iVar1 + 0x10);
    do {
      puVar2[3] = (uint)((float)puVar2[3] - (float)(_DAT_005a1124 & 0xfff) * -0.05);
      if (*(int *)(DAT_005e5010 + 0x2190) == 0) {
        *puVar2 = *(int *)(param_1 + 0xe) << 0x18 | 0xffffff;
      }
      else {
        *puVar2 = 0xffffffff;
      }
      puVar2 = puVar2 + 8;
      iVar3 = iVar3 + 1;
    } while (iVar3 < DAT_005b0cc8);
  }
  return;
}



bool FUN_0049f6a0(void)

{
  int iVar1;
  undefined4 local_68 [18];
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 local_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 *puStack_8;
  
  puStack_8 = (undefined4 *)0x49f6ad;
  AdjustStackForLargeAllocations();
  puStack_8 = local_68;
  local_68[0] = 100;
  uStack_c = 0x1000400;
  uStack_1c = *(undefined4 *)(DAT_005e5010 + 0x7b0);
  uStack_10 = 0;
  uStack_14 = 0;
  local_18 = 0;
  uStack_20 = 0x49f6db;
  iVar1 = FUN_00424d60();
  return iVar1 == 0;
}



undefined4 FUN_0049f6f0(uint param_1)

{
  if (DAT_00598e18 != 0) {
    return 0;
  }
  if ((param_1 & 1) != 0) {
    *(float *)(DAT_005e45e4 + 0x2ac) = *(float *)(DAT_005e45e4 + 0x2ac) - (float)param_1 * -0.1;
    return 1;
  }
  *(float *)(DAT_005e45e4 + 0x2ac) = *(float *)(DAT_005e45e4 + 0x2ac) - (float)param_1 * 0.1;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049f750(int param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  
  if (param_1 != 0) {
    uVar3 = _DAT_005a1124 >> 2 & 1;
    if (DAT_005a4b88 != 0) {
      uVar3 = 2;
    }
    iVar2 = (-(uint)(DAT_005986d0 != 1) & 0x10) + 0x10;
    iVar1 = (*(int *)(DAT_005e5010 + 0x2538) >> 1) - iVar2;
    iVar2 = (*(int *)(DAT_005e5010 + 0x253c) >> 1) - iVar2;
    if (DAT_005986d0 == 1) {
      FUN_0043dcb0(iVar1,iVar2,0x20,0x20,*(undefined4 *)(&DAT_005aa0d6 + uVar3 * 4));
      return 1;
    }
    FUN_0043dcb0(iVar1,iVar2,0x40,0x40,*(undefined4 *)(&DAT_005aa0d6 + uVar3 * 4));
  }
  return 1;
}



undefined4 FUN_0049f7f0(void)

{
  undefined local_24 [8];
  undefined4 uStack_1c;
  undefined *puStack_18;
  undefined *puStack_14;
  char *pcStack_10;
  int local_c;
  int local_8;
  
  local_8 = 0x49f7fd;
  AdjustStackForLargeAllocations();
  if (DAT_005aa0e6 != (undefined4 *)0x0) {
    local_c = *DAT_005aa0e6;
    local_8 = 0x49f834;
    local_8 = __ftol();
    local_8 = local_8 % 0x3c;
    local_c = 0x49f848;
    local_c = __ftol();
    puStack_14 = local_24;
    pcStack_10 = s__d__02d_004d3540;
    puStack_18 = (undefined *)0x49f857;
    FUN_004b0e50();
    local_c = local_8;
    if (DAT_005df2f8 == 1) {
      pcStack_10 = (char *)0xd;
      puStack_14 = (undefined *)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
    }
    else if (DAT_005df2f8 == 2) {
      pcStack_10 = (char *)0x8;
      puStack_14 = (undefined *)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
    }
    else {
      pcStack_10 = (char *)0x10;
      puStack_14 = (undefined *)(*(int *)(DAT_005e5010 + 0x2538) >> 1);
    }
    if ((DAT_005df2f8 != 2) && (DAT_005df2f8 != 1)) {
      local_8 = 2;
      puStack_18 = local_24;
      uStack_1c = 0x49f8be;
      FUN_004284a0();
      return 1;
    }
    local_8 = 2;
    puStack_18 = local_24;
    uStack_1c = 0x49f8db;
    FUN_00428d60();
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_0049f8f0(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  
  if (DAT_005df2f8 == 1) {
    uVar4 = 0xd;
    iVar2 = (*(int *)(DAT_005e5010 + 0x2538) >> 1) - ((-(uint)(DAT_005986d0 != 1) & 0x10) + 0x10);
  }
  else {
    iVar2 = *(int *)(DAT_005e5010 + 0x2538) >> 1;
    if (DAT_005df2f8 == 2) {
      uVar4 = 8;
      iVar2 = iVar2 - ((-(uint)(DAT_005986d0 != 1) & 0x10) + 0x10);
    }
    else {
      uVar4 = 0x10;
      iVar2 = iVar2 - ((-(uint)(DAT_005986d0 != 1) & 0x10) + 0x10);
    }
  }
  if (DAT_005aa0ee != 0) {
    uVar3 = _DAT_005a1124 >> 0x1f;
    iVar1 = ((_DAT_005a1124 >> 1 ^ uVar3) - uVar3 & 7 ^ uVar3) - uVar3;
    if (DAT_005986d0 == 1) {
      if (4 < iVar1) {
        FUN_0043dcb0(iVar2,uVar4,0x20,0x20,(&DAT_005aa0f2)[8 - iVar1]);
        return 1;
      }
      FUN_0043dcb0(iVar2,uVar4,0x20,0x20,(&DAT_005aa0f2)[iVar1]);
      return 1;
    }
    if (4 < iVar1) {
      iVar1 = 8 - iVar1;
    }
    FUN_0043dcb0(iVar2,uVar4,0x40,0x40,(&DAT_005aa0f2)[iVar1]);
  }
  return 1;
}



void FUN_0049fa20(int param_1)

{
  char cVar1;
  int iVar2;
  bool bVar3;
  size_t sVar4;
  uint uVar5;
  int iVar6;
  undefined4 unaff_ESI;
  char local_150 [256];
  undefined local_50 [22];
  undefined local_3a;
  undefined4 local_38;
  undefined uStackY_34;
  undefined2 local_33;
  undefined local_31;
  undefined uStackY_30;
  undefined2 local_2f;
  undefined local_2d;
  undefined uStackY_2c;
  undefined2 local_2b;
  undefined local_29;
  uint uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  undefined3 uVar8;
  undefined4 uVar7;
  uint uVar9;
  
  AdjustStackForLargeAllocations();
  bVar3 = true;
  FUN_00492720();
  uStackY_20 = 0x49fa4d;
  _memset(local_50,0,0x3d);
  local_3a = 2;
  local_38 = CONCAT13(local_38._3_1_,0x6400);
  local_2f = 0;
  local_2d = 0x18;
  uStackY_2c = 0;
  local_2b = 0;
  local_29 = 0;
  uStackY_28 = uStackY_28 & 0xffffff00;
  local_33 = 0;
  uVar8 = (undefined3)((uint)unaff_ESI >> 8);
  if (DAT_00598d50 == 0) {
    local_31 = 100;
LAB_0049fb5c:
    uVar9 = 0x140;
    uVar7 = CONCAT31(uVar8,5);
  }
  else {
    iVar6 = *(int *)(DAT_005e5010 + 0x253c);
    if (iVar6 < 0xf1) {
      if (iVar6 == 0xf0) {
        local_31 = 0x3c;
        goto LAB_0049fb5c;
      }
      if (iVar6 == 200) {
        local_31 = 0x28;
        uVar9 = 0x140;
        uVar7 = CONCAT31(uVar8,6);
        goto LAB_0049fb67;
      }
    }
    else if (iVar6 < 0x259) {
      if (iVar6 == 600) {
        local_31 = 0x82;
        uVar9 = 800;
        uVar7 = CONCAT31(uVar8,0xc);
        goto LAB_0049fb67;
      }
      if (iVar6 == 0x180) {
        local_31 = 100;
        uVar9 = 0x200;
        uVar7 = CONCAT31(uVar8,10);
        goto LAB_0049fb67;
      }
    }
    else {
      if (iVar6 == 0x300) {
        local_31 = 200;
        uVar9 = 0x400;
        uVar7 = CONCAT31(uVar8,0xc);
        goto LAB_0049fb67;
      }
      if (iVar6 == 0x360) {
        local_31 = 0xf0;
        uVar9 = 0x480;
        uVar7 = CONCAT31(uVar8,0xc);
        goto LAB_0049fb67;
      }
      if (iVar6 == 0x400) {
        local_31 = 0xfa;
        uVar9 = 0x500;
        uVar7 = CONCAT31(uVar8,0xc);
        goto LAB_0049fb67;
      }
    }
    local_31 = 0x8c;
    uVar9 = 0x280;
    uVar7 = CONCAT31(uVar8,0xc);
  }
LAB_0049fb67:
  uStackY_30 = 0;
  sVar4 = _strlen(*(char **)(&DAT_005deed4 + param_1 * 4));
  iVar6 = 0;
  uVar5 = sVar4 + 1 & 0xffff;
  if (uVar5 != 0) {
    do {
      iVar2 = *(int *)(&DAT_005deed4 + param_1 * 4);
      cVar1 = *(char *)(iVar6 + iVar2);
      local_150[iVar6] = cVar1;
      if (cVar1 == '%') {
        local_150[iVar6] = '\r';
        *(undefined *)(iVar6 + iVar2 + 1) = 10;
        if (bVar3) {
          bVar3 = false;
        }
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)uVar5);
  }
  uStackY_20 = 1;
  uStackY_28 = uVar9 & 0xffff;
  uStackY_24 = 5;
  uStackY_2c = (undefined)uVar7;
  local_2b = (undefined2)((uint)uVar7 >> 8);
  local_29 = (undefined)((uint)uVar7 >> 0x18);
  uStackY_30 = SUB41(local_150,0);
  local_2f = (undefined2)((uint)local_150 >> 8);
  local_2d = (undefined)((uint)local_150 >> 0x18);
  uStackY_34 = 0xb;
  local_33 = 0;
  local_31 = 0;
  local_38 = 0x49fbfa;
  FUN_00492100();
  return;
}



undefined4 FUN_0049fc10(void)

{
  int iVar1;
  float unaff_ESI;
  int *piVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  iVar3 = 0;
  piVar2 = &DAT_005a9f44;
  do {
    if (piVar2[-1] != 0) {
      if (*piVar2 != 0) {
        *piVar2 = *piVar2 + -1;
      }
      iVar1 = FUN_004a2710(0x40800000,*(int *)piVar2[-1] + 6,&stack0xfffffff8);
      if (iVar1 != 0) {
        *(uint *)((int)piVar2 + 0x16) = (iVar1 != 1) + 1;
        if (piVar2[1] == 0) {
          *(undefined2 *)(piVar2 + 5) = DAT_005b0cd0;
        }
        else {
          *(undefined2 *)(piVar2 + 5) = DAT_005b0ccc;
        }
        piVar2[3] = *(int *)piVar2[-1] + 6;
        *(int *)((int)piVar2 + 0x1a) = iVar3;
        FUN_00485990(unaff_ESI - 0.95,piVar2 + 3);
        DAT_005d0490 = DAT_005d0490 + DAT_005d0478;
      }
    }
    piVar2 = (int *)((int)piVar2 + 0x26);
    iVar3 = iVar3 + 1;
  } while ((int)piVar2 < 0x5aa074);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0049fce0(float **param_1)

{
  int iVar1;
  float *pfVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  float *pfVar6;
  float10 fVar7;
  
  AdjustStackForLargeAllocations();
  pfVar6 = DAT_005b0cc0;
  pfVar2 = *param_1;
  iVar5 = *(int *)((int)param_1 + 0xe);
  FUN_004ad7a0();
  param_1 = (float **)0x0;
  if (0 < DAT_005b0cc8) {
    iVar5 = iVar5 * 0x26;
    do {
      iVar3 = *(int *)((int)&DAT_005a9f44 + iVar5);
      if (iVar3 == 0) {
        pfVar6[4] = NAN;
      }
      else {
        iVar1 = iVar3 + 0x28;
        uVar4 = iVar1 * 5;
        if (*(int *)((int)&DAT_005a9f48 + iVar5) == 0) {
          pfVar6[4] = (float)(((iVar1 * 0x500 | uVar4) << 8 | uVar4) << 8 | uVar4);
        }
        else {
          fVar7 = (float10)FUN_004ae014((double)((int)param_1 + iVar3));
          *pfVar6 = (float)((float10)*pfVar6 - fVar7 * (float10)-0.2);
          fVar7 = (float10)FUN_004ae0c4((double)((int)param_1 + *(int *)((int)&DAT_005a9f44 + iVar5)
                                                ));
          pfVar6[2] = (float)((float10)pfVar6[2] - fVar7 * (float10)-0.2);
          pfVar6[4] = (float)(((iVar1 * 0x500 | uVar4) << 8 | uVar4) << 8 | uVar4);
        }
      }
      _DAT_005a10b8 =
           *pfVar2 * *pfVar6 + pfVar2[4] * pfVar6[1] + pfVar2[8] * pfVar6[2] + pfVar2[0xc];
      _DAT_005a10bc =
           pfVar6[1] * pfVar2[5] + pfVar2[9] * pfVar6[2] + *pfVar6 * pfVar2[1] + pfVar2[0xd];
      _DAT_005a10c0 =
           pfVar6[1] * pfVar2[6] + pfVar2[10] * pfVar6[2] + *pfVar6 * pfVar2[2] + pfVar2[0xe];
      _DAT_005a10e8 = *(float *)(DAT_005e45e4 + 0x228) + _DAT_005a10b8;
      _DAT_005a10ec = *(float *)(DAT_005e45e4 + 0x22c) + _DAT_005a10bc;
      _DAT_005a10f0 = *(float *)(DAT_005e45e4 + 0x230) + _DAT_005a10c0;
      FUN_0045eab0();
      _DAT_005a10f8 = *pfVar6;
      _DAT_005a10fc = pfVar6[1];
      _DAT_005a1100 = pfVar6[2];
      FUN_0045eab0();
      _DAT_005a10c8 =
           _DAT_005a10f8 * *pfVar2 + _DAT_005a1100 * pfVar2[8] + _DAT_005a10fc * pfVar2[4];
      _DAT_005a10cc =
           _DAT_005a10f8 * pfVar2[1] + _DAT_005a1100 * pfVar2[9] + _DAT_005a10fc * pfVar2[5];
      _DAT_005a10d0 =
           _DAT_005a10f8 * pfVar2[2] + _DAT_005a1100 * pfVar2[10] + _DAT_005a10fc * pfVar2[6];
      FUN_0045eab0();
      _DAT_005a10d8 = _DAT_005a10e8 + _DAT_005a10e8;
      _DAT_005a10dc = _DAT_005a10ec + _DAT_005a10ec;
      _DAT_005a10e0 = _DAT_005a10f0 + _DAT_005a10f0;
      _DAT_005a10f4 =
           _DAT_005a10e0 * _DAT_005a10d0 +
           _DAT_005a10dc * _DAT_005a10cc + _DAT_005a10d8 * _DAT_005a10c8;
      _DAT_005a10b8 = _DAT_005a10e8 - _DAT_005a10f4 * _DAT_005a10c8;
      _DAT_005a10bc = _DAT_005a10f0 - _DAT_005a10f4 * _DAT_005a10d0;
      _DAT_005a10c0 = _DAT_005a10ec - _DAT_005a10f4 * _DAT_005a10cc;
      FUN_0045eab0();
      if (_DAT_005a10bc == 0.0) {
        _DAT_005a10bc = 1e-06;
      }
      fVar7 = (float10)FUN_004b0f80((double)_DAT_005a10b8,(double)_DAT_005a10bc);
      pfVar6[6] = (float)(fVar7 * (float10)0.159155);
      fVar7 = (float10)FUN_004ad534((double)(_DAT_005a10c0 * _DAT_005a10c0 +
                                            _DAT_005a10bc * _DAT_005a10bc +
                                            _DAT_005a10b8 * _DAT_005a10b8));
      _DAT_005a10b0 = (float)fVar7;
      if (fVar7 == (float10)0.0) {
        _DAT_005a10b0 = 1e-07;
      }
      fVar7 = (float10)FUN_004b0f80((double)_DAT_005a10c0,(double)_DAT_005a10b0);
      param_1 = (float **)((int)param_1 + 1);
      pfVar6[7] = (float)(fVar7 * (float10)-0.31831);
      pfVar6 = pfVar6 + 8;
    } while ((int)param_1 < DAT_005b0cc8);
  }
  return;
}



undefined4 FUN_004a00f0(int param_1,int param_2,byte param_3,int param_4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined2 uVar6;
  int iVar7;
  
  AdjustStackForLargeAllocations();
  iVar5 = param_2;
  fVar1 = (float)param_2 * 0.25;
  if (((param_3 & 4) != 0) && (DAT_005a89ac < 0x40)) {
    if (param_4 == 0) {
      uVar6 = (undefined2)DAT_005a89a4;
    }
    else {
      uVar6 = (undefined2)DAT_005aa114;
    }
    iVar7 = DAT_005a89ac * 0x16;
    iVar3 = DAT_005a89ac * 0x40;
    *(undefined2 *)(&DAT_005a99b8 + iVar7) = uVar6;
    *(undefined4 *)(&DAT_005a89e0 + iVar3) = *(undefined4 *)(param_1 + 0x30);
    *(undefined4 *)(&DAT_005a89e4 + iVar3) = *(undefined4 *)(param_1 + 0x34);
    *(undefined4 *)(&DAT_005a89e8 + iVar3) = *(undefined4 *)(param_1 + 0x38);
    *(undefined4 *)(&DAT_005a89ec + iVar3) = 0x3f800000;
    iVar4 = DAT_005e45e4;
    *(int *)(&DAT_005a99be + iVar7) = param_2;
    *(float *)(&DAT_005a89b0 + iVar3) = *(float *)(iVar4 + 0x238) * fVar1;
    *(float *)(&DAT_005a89b4 + iVar3) = *(float *)(DAT_005e45e4 + 0x248) * fVar1;
    *(float *)(&DAT_005a89b8 + iVar3) = *(float *)(DAT_005e45e4 + 600) * fVar1;
    *(float *)(&DAT_005a89c0 + iVar3) = *(float *)(DAT_005e45e4 + 0x23c) * fVar1;
    *(float *)(&DAT_005a89c4 + iVar3) = *(float *)(DAT_005e45e4 + 0x24c) * fVar1;
    *(float *)(&DAT_005a89c8 + iVar3) = *(float *)(DAT_005e45e4 + 0x25c) * fVar1;
    *(float *)(&DAT_005a89d0 + iVar3) = *(float *)(DAT_005e45e4 + 0x240) * fVar1;
    *(float *)(&DAT_005a89d4 + iVar3) = *(float *)(DAT_005e45e4 + 0x250) * fVar1;
    *(float *)(&DAT_005a89d8 + iVar3) = *(float *)(DAT_005e45e4 + 0x260) * fVar1;
    iVar4 = FUN_004a2710(0x40800000,&DAT_005a89b0 + iVar3,&param_2);
    if (iVar4 != 0) {
      *(uint *)(&DAT_005a99ba + iVar7) = (iVar4 != 1) + 1;
      FUN_00485990(param_2,(int)&DAT_005a99b0 + iVar7);
      DAT_005d0490 = DAT_005d0490 + DAT_005d044c;
    }
    DAT_005a89ac = DAT_005a89ac + 1;
  }
  if (((param_3 & 8) != 0) && (DAT_005a89ac < 0x40)) {
    if (param_4 == 0) {
      uVar6 = (undefined2)DAT_005a89a4;
    }
    else {
      uVar6 = (undefined2)DAT_005aa114;
    }
    iVar7 = DAT_005a89ac * 0x16;
    iVar3 = DAT_005a89ac * 0x40;
    *(undefined2 *)(&DAT_005a99b8 + iVar7) = uVar6;
    *(undefined4 *)(&DAT_005a89e0 + iVar3) = *(undefined4 *)(param_1 + 0x30);
    *(undefined4 *)(&DAT_005a89e4 + iVar3) = *(undefined4 *)(param_1 + 0x34);
    *(undefined4 *)(&DAT_005a89e8 + iVar3) = *(undefined4 *)(param_1 + 0x38);
    *(undefined4 *)(&DAT_005a89ec + iVar3) = 0x3f800000;
    iVar4 = DAT_005e45e4;
    *(int *)(&DAT_005a99be + iVar7) = iVar5;
    fVar2 = fVar1;
    if (*(float *)(&DAT_005a89e4 + iVar3) < -*(float *)(iVar4 + 0x22c)) {
      fVar2 = -fVar1;
    }
    *(float *)(&DAT_005a89c0 + iVar3) = fVar2;
    *(undefined4 *)(&DAT_005a89c4 + iVar3) = 0;
    *(undefined4 *)(&DAT_005a89c8 + iVar3) = 0;
    *(undefined4 *)(&DAT_005a89d0 + iVar3) = 0;
    fVar2 = fVar1;
    if (*(float *)(&DAT_005a89e4 + iVar3) < -*(float *)(DAT_005e45e4 + 0x22c)) {
      fVar2 = -fVar1;
    }
    *(float *)(&DAT_005a89d4 + iVar3) = fVar2;
    *(undefined4 *)(&DAT_005a89d8 + iVar3) = 0;
    *(undefined4 *)(&DAT_005a89b0 + iVar3) = 0;
    *(undefined4 *)(&DAT_005a89b4 + iVar3) = 0;
    *(float *)(&DAT_005a89b8 + iVar3) = fVar1;
    iVar5 = FUN_004a2710(0x40800000,&DAT_005a89b0 + iVar3,&param_2);
    if (iVar5 != 0) {
      *(uint *)(&DAT_005a99ba + iVar7) = (iVar5 != 1) + 1;
      FUN_00485990(param_2,(int)&DAT_005a99b0 + iVar7);
      DAT_005d0490 = DAT_005d0490 + DAT_005d044c;
    }
    DAT_005a89ac = DAT_005a89ac + 1;
  }
  return 1;
}



void FUN_004a0390(int param_1)

{
  uint *puVar1;
  int iVar2;
  
  iVar2 = 0x18;
  puVar1 = (uint *)(DAT_005a89a0 + 0x10);
  do {
    iVar2 = iVar2 + -1;
    *puVar1 = *(int *)(param_1 + 0xe) * -0x6000000 - 0x1000000U | 0xffffff;
    puVar1 = puVar1 + 8;
  } while (iVar2 != 0);
  return;
}



undefined4 FUN_004a03d0(void)

{
  int iVar1;
  uint uVar2;
  undefined4 unaff_EBX;
  float *pfVar3;
  int iVar4;
  
  AdjustStackForLargeAllocations();
  iVar4 = 0;
  pfVar3 = (float *)&DAT_005a543e;
  do {
    iVar1 = DAT_005e45e4;
    if ((pfVar3[-3] != 0.0) && ((int)pfVar3[0xe] < 0x1f)) {
      pfVar3[-2] = *(float *)(DAT_005e45e4 + 0x238) * pfVar3[-5];
      pfVar3[-1] = *(float *)(iVar1 + 0x248) * pfVar3[-5];
      *pfVar3 = *(float *)(iVar1 + 600) * pfVar3[-5];
      pfVar3[2] = *(float *)(iVar1 + 0x23c) * pfVar3[-5];
      pfVar3[3] = *(float *)(iVar1 + 0x24c) * pfVar3[-5];
      pfVar3[4] = *(float *)(iVar1 + 0x25c) * pfVar3[-5];
      pfVar3[6] = *(float *)(iVar1 + 0x240) * pfVar3[-5];
      pfVar3[7] = *(float *)(iVar1 + 0x250) * pfVar3[-5];
      pfVar3[8] = *(float *)(iVar1 + 0x260) * pfVar3[-5];
      iVar1 = FUN_004a2710(0x40400000,pfVar3 + -2,&stack0xfffffff8);
      if (iVar1 != 0) {
        *(uint *)((int)pfVar3 + 0x4a) = (iVar1 != 1) + 1;
        if (*(int *)((int)pfVar3 + -0x7e) == 9) {
          uVar2 = (uint)pfVar3[0xe] & 3;
        }
        else {
          uVar2 = (int)pfVar3[0xe] >> 1 & 0xf;
        }
        *(undefined2 *)(pfVar3 + 0x12) = (&DAT_005a88d0)[uVar2 + *(ushort *)((int)pfVar3 + -0x7a)];
        *(int *)((int)pfVar3 + 0x4e) = iVar4;
        FUN_00485990(unaff_EBX,pfVar3 + 0x10);
      }
      DAT_005d0490 = DAT_005d0490 + DAT_005d0458;
    }
    pfVar3 = pfVar3 + 0x35;
    iVar4 = iVar4 + 1;
  } while ((int)pfVar3 < 0x5a893e);
  return 1;
}



void FUN_004a0510(void)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < DAT_005a88cc) {
    piVar1 = (int *)(DAT_005a88c4 + 0x10);
    do {
      iVar2 = iVar2 + 1;
      *piVar1 = (-(uint)(*(int *)(DAT_005e5010 + 0x2190) != 0) & 0x80000000) + 0x7fffffff;
      piVar1 = piVar1 + 8;
    } while (iVar2 < DAT_005a88cc);
  }
  return;
}



undefined4 FUN_004a0560(void)

{
  int iVar1;
  undefined4 unaff_EBX;
  undefined4 *puVar2;
  int *piVar3;
  undefined2 *puVar4;
  
  AdjustStackForLargeAllocations();
  piVar3 = &DAT_005a52a0;
  puVar4 = &DAT_005a52d0;
  puVar2 = &DAT_005a5020;
  do {
    if (*piVar3 != 0) {
      iVar1 = FUN_004a2710(0x41700000,puVar2,&stack0xfffffff8);
      if (iVar1 != 0) {
        *(uint *)(puVar4 + 1) = (iVar1 != 1) + 1;
        iVar1 = *piVar3 >> 1;
        if (7 < iVar1) {
          iVar1 = 7;
        }
        *puVar4 = (&DAT_005a5000)[iVar1];
        FUN_00485990(unaff_EBX,puVar4 + -4);
        DAT_005d0490 = DAT_005d0490 + DAT_005d0468;
      }
      iVar1 = *piVar3;
      *piVar3 = iVar1 + 1;
      if (0x10 < iVar1 + 1) {
        *piVar3 = 0;
      }
    }
    puVar2 = puVar2 + 0x10;
    puVar4 = puVar4 + 0xb;
    piVar3 = piVar3 + 1;
  } while ((int)puVar2 < 0x5a52a0);
  return 1;
}



undefined4 FUN_004a0620(undefined4 *param_1,int param_2,undefined4 param_3,undefined4 param_4)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  
  puVar3 = &DAT_005a5020;
  if (param_2 != 1) {
    return 1;
  }
  iVar4 = 0;
  piVar1 = &DAT_005a52a0;
  do {
    if (*piVar1 == 0) {
      puVar5 = puVar3;
      for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar5 = *param_1;
        param_1 = param_1 + 1;
        puVar5 = puVar5 + 1;
      }
      puVar3[1] = 0;
      puVar3[2] = 0;
      puVar3[4] = 0;
      puVar3[6] = 0;
      puVar3[8] = 0;
      puVar3[9] = 0;
      *puVar3 = param_3;
      puVar3[10] = param_3;
      puVar3[5] = param_4;
      (&DAT_005a52a0)[iVar4] = 1;
      return 1;
    }
    puVar3 = puVar3 + 0x10;
    piVar1 = piVar1 + 1;
    iVar4 = iVar4 + 1;
  } while ((int)piVar1 < 0x5a52c8);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a06c0(undefined4 param_1,undefined4 *param_2,float *param_3)

{
  float fVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  
  iVar2 = DAT_005e45e4 + 0x278;
  puVar4 = &DAT_005a4c00;
  for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = *param_2;
    param_2 = param_2 + 1;
    puVar4 = puVar4 + 1;
  }
  FUN_0045ecb0(&DAT_005a4c00,&DAT_005a4c00,iVar2);
  FUN_0045ecb0(&DAT_005a4c00,&DAT_005a4c00,&DAT_004d1b60);
  fVar1 = DAT_005a4c38 - _DAT_005a4c18 * -10.0;
  *param_3 = fVar1;
  if ((fVar1 <= DAT_005d669c - 40.0) && (0.0 <= fVar1)) {
    return 1;
  }
  return 0;
}



undefined4 FUN_004a0760(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined4 unaff_EDI;
  uint uVar4;
  int *piVar5;
  
  AdjustStackForLargeAllocations();
  piVar5 = &DAT_005a4caa;
  do {
    iVar2 = piVar5[-2];
    if ((iVar2 != 0) && (*piVar5 != 0)) {
      iVar1 = FUN_004a06c0(0x43960000,piVar5 + 1,&stack0xfffffff0);
      if (*piVar5 == DAT_005e45e8) {
        iVar1 = 1;
      }
      if (iVar1 != 0) {
        uVar4 = 1000 - iVar2;
        iVar2 = 0;
        piVar3 = piVar5 + 0x15;
        do {
          piVar3[-1] = (iVar1 != 1) + 1;
          *piVar3 = iVar2;
          *(undefined2 *)((int)piVar3 + -6) =
               (&DAT_005a4c48)[(uVar4 & 7) + (uint)*(ushort *)((int)piVar5 + -10)];
          FUN_00485990(unaff_EDI,(int)piVar3 + -0xe);
          uVar4 = uVar4 - 1;
          iVar2 = iVar2 + 1;
          piVar3 = (int *)((int)piVar3 + 0x16);
        } while (iVar2 < 6);
        DAT_005d0490 = DAT_005d0490 + DAT_005d0440;
      }
    }
    piVar5 = piVar5 + 0x35;
  } while ((int)piVar5 < 0x5a4ffa);
  return 1;
}



void FUN_004a0850(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0xe);
  *(float *)(DAT_005a4c40 + 0x40) =
       *(float *)(&DAT_004d3548 + iVar1 * 8) + *(float *)(&DAT_004d3548 + iVar1 * 8);
  *(undefined4 *)(DAT_005a4c40 + 0x60) = *(undefined4 *)(&DAT_004d3548 + iVar1 * 8);
  *(float *)(DAT_005a4c40 + 0x48) =
       *(float *)(&DAT_004d354c + iVar1 * 8) + *(float *)(&DAT_004d354c + iVar1 * 8);
  *(undefined4 *)(DAT_005a4c40 + 0x68) = *(undefined4 *)(&DAT_004d354c + iVar1 * 8);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a08a0(int *param_1)

{
  byte bVar1;
  int *piVar2;
  int iVar3;
  byte bVar4;
  
  piVar2 = param_1;
  bVar1 = *(byte *)(*(int *)(param_1[1] + 0x86) + 4);
  bVar4 = bVar1 / 10 + 1;
  param_1 = (int *)CONCAT31(param_1._1_3_,bVar4);
  if (((DAT_005a1104 != 0) && (bVar1 < 0x5a)) && (DAT_005a1104 % (int)(uint)bVar4 == 0)) {
    return 0;
  }
  _DAT_005a4bbc = *(undefined4 *)(*piVar2 + 0x36);
  _DAT_005a4bc0 = *(undefined4 *)(*piVar2 + 0x3a);
  _DAT_005a4bc4 = *(undefined4 *)(*piVar2 + 0x3e);
  _DAT_005a4bc8 = 0x3f800000;
  _DAT_005a4b8c = *(undefined4 *)(DAT_005e45e4 + 0x238);
  _DAT_005a4b90 = *(undefined4 *)(DAT_005e45e4 + 0x248);
  _DAT_005a4b94 = *(undefined4 *)(DAT_005e45e4 + 600);
  _DAT_005a4b9c = *(undefined4 *)(DAT_005e45e4 + 0x23c);
  _DAT_005a4ba0 = *(undefined4 *)(DAT_005e45e4 + 0x24c);
  _DAT_005a4ba4 = *(undefined4 *)(DAT_005e45e4 + 0x25c);
  _DAT_005a4bac = *(undefined4 *)(DAT_005e45e4 + 0x240);
  _DAT_005a4bb0 = *(undefined4 *)(DAT_005e45e4 + 0x250);
  _DAT_005a4bb4 = *(undefined4 *)(DAT_005e45e4 + 0x260);
  iVar3 = FUN_004a2710(0x3fa3d70a,&DAT_005a4b8c,&param_1);
  if (iVar3 != 0) {
    _DAT_005a4bd6 = (iVar3 != 1) + 1;
    _DAT_005a4bd4 = *(undefined2 *)(&DAT_005a4bec + (uint)(((byte)DAT_005a1104 & 4) == 4) * 2);
    if ((char)DAT_00598944 == '\0') {
      _DAT_005a4bda = DAT_005a4b84;
    }
    FUN_00485990(param_1,&DAT_005a4bcc);
    DAT_005d0490 = DAT_005d0490 + DAT_005d047c;
  }
  return 1;
}



undefined4 FUN_004a0a20(void)

{
  DAT_005a1104 = DAT_005a1104 + 1;
  if ((DAT_005a4b88 != 0) && (DAT_005a4b80 != 0)) {
    FUN_004a08a0(DAT_005a4b88);
  }
  return 1;
}



void FUN_004a0a50(int param_1)

{
  float fVar1;
  undefined4 *puVar2;
  int iVar3;
  
  AdjustStackForLargeAllocations();
  puVar2 = DAT_005a4be8;
  if ((DAT_005a1104 & 4) == 0) {
    fVar1 = 2.0 - (float)(DAT_005a1104 & 3) * 0.1;
    iVar3 = (-(uint)(*(int *)(param_1 + 0xe) != 0) & 0xffffa0a1) - 1;
  }
  else {
    fVar1 = 1.6 - (float)(DAT_005a1104 & 3) * -0.1;
    iVar3 = (-(uint)(*(int *)(param_1 + 0xe) != 0) & 0xffffa0a1) - 0x808081;
  }
  fVar1 = fVar1 * 1.28;
  DAT_005a4be8[1] = fVar1;
  puVar2[4] = iVar3;
  *puVar2 = 0xbfa3d70a;
  puVar2[9] = fVar1 - -1.28;
  puVar2[0xc] = iVar3;
  puVar2[8] = 0xbfa3d70a;
  puVar2[0x11] = fVar1 - -1.28;
  puVar2[0x14] = iVar3;
  puVar2[0x10] = 0x3fa3d70a;
  puVar2[0x19] = fVar1;
  puVar2[0x1c] = iVar3;
  puVar2[0x18] = 0x3fa3d70a;
  return;
}



void FUN_004a0b10(int param_1)

{
  (&DAT_005dfe81)[param_1 * 0xe0] = 0xfa;
  return;
}



undefined4 FUN_004a0b30(int param_1)

{
  int iVar1;
  undefined2 uVar2;
  
  if ((&DAT_005dfe86)[param_1 * 0x38] != 0) {
    return CONCAT22((short)((uint)(param_1 * 0xe0) >> 0x10),
                    *(undefined2 *)(&DAT_005a4b26 + (&DAT_005dfe86)[param_1 * 0x38] * 2));
  }
  iVar1 = (&DAT_005dfe8a)[param_1 * 0x38];
  uVar2 = (undefined2)((uint)iVar1 >> 0x10);
  if (1 < iVar1) {
    return CONCAT22(uVar2,*(undefined2 *)(&DAT_005a4b62 + iVar1 * 2));
  }
  return CONCAT22(uVar2,DAT_005a4b78);
}



undefined4 FUN_004a0b80(int param_1)

{
  int iVar1;
  undefined2 uVar2;
  
  iVar1 = *(int *)((&DAT_005e2190)[param_1 * 0x38] + 0x13);
  if (*(int *)(iVar1 + 0x7f) != 0) {
    return CONCAT22((short)((uint)iVar1 >> 0x10),
                    *(undefined2 *)(&DAT_005a4b26 + *(int *)(iVar1 + 0x7f) * 2));
  }
  iVar1 = *(int *)(iVar1 + 0x7b);
  uVar2 = (undefined2)((uint)iVar1 >> 0x10);
  if (1 < iVar1) {
    return CONCAT22(uVar2,*(undefined2 *)(&DAT_005a4b62 + iVar1 * 2));
  }
  return CONCAT22(uVar2,DAT_005a4b78);
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a0bd0(int param_1)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  undefined4 unaff_EDI;
  
  AdjustStackForLargeAllocations();
  iVar1 = DAT_004d86ac;
  iVar5 = (_DAT_005a1124 + param_1 & 0xfU) * 4;
  fVar3 = *(float *)(&DAT_004d3578 + iVar5) * 0.42;
  fVar2 = *(float *)(&DAT_004d35b8 + iVar5);
  *(float *)(param_1 * 0xe0 + 0x5b + DAT_004d86ac) = *(float *)(DAT_005e45e4 + 0x238) * fVar3;
  iVar1 = param_1 * 0xe0 + 0x5b + iVar1;
  fVar2 = fVar2 * 0.42;
  *(float *)(iVar1 + 4) = *(float *)(DAT_005e45e4 + 0x248) * fVar3;
  *(float *)(iVar1 + 8) = *(float *)(DAT_005e45e4 + 600) * fVar3;
  fVar4 = (fVar2 - 0.3) * -3.33;
  *(float *)(iVar1 + 0x10) = *(float *)(DAT_005e45e4 + 0x23c) * fVar2;
  *(float *)(iVar1 + 0x14) = *(float *)(DAT_005e45e4 + 0x24c) * fVar2;
  *(float *)(iVar1 + 0x18) = *(float *)(DAT_005e45e4 + 0x25c) * fVar2;
  *(float *)(iVar1 + 0x20) = *(float *)(DAT_005e45e4 + 0x240) * fVar3;
  *(float *)(iVar1 + 0x24) = *(float *)(DAT_005e45e4 + 0x250) * fVar3;
  fVar2 = *(float *)(DAT_005e45e4 + 0x260);
  *(float *)(iVar1 + 0x34) = (*(float *)(iVar1 + 0x34) - (fVar4 - -0.5)) - (fVar4 - -0.75);
  *(float *)(iVar1 + 0x28) = fVar2 * fVar3;
  iVar5 = FUN_004a2710(0x40c00000,iVar1,&stack0xfffffff4);
  if (iVar5 != 0) {
    *(undefined2 *)(DAT_005a1108 + 8 + param_1 * 0x16) = DAT_005a4b7a;
    FUN_00485990(unaff_EDI,DAT_005a1108 + param_1 * 0x16);
    FUN_0049ee00(unaff_EDI,iVar1);
    DAT_005d0490 = DAT_005d0490 + DAT_005d0480;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a0d70(int param_1,float param_2)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  int iVar5;
  
  iVar4 = (int)param_2;
  iVar5 = (_DAT_005a1124 + (int)param_2 & 0xfU) * 4;
  pfVar1 = (float *)(param_1 + 0x47);
  param_2 = *(float *)(&DAT_004d3578 + iVar5) * 0.42;
  fVar2 = *(float *)(&DAT_004d35b8 + iVar5) * 0.42;
  *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * param_2;
  *(float *)(param_1 + 0x4b) = *(float *)(DAT_005e45e4 + 0x248) * param_2;
  fVar3 = (fVar2 - 0.3) * -3.33;
  *(float *)(param_1 + 0x4f) = *(float *)(DAT_005e45e4 + 600) * param_2;
  *(float *)(param_1 + 0x57) = *(float *)(DAT_005e45e4 + 0x23c) * fVar2;
  *(float *)(param_1 + 0x5b) = *(float *)(DAT_005e45e4 + 0x24c) * fVar2;
  *(float *)(param_1 + 0x5f) = *(float *)(DAT_005e45e4 + 0x25c) * fVar2;
  *(float *)(param_1 + 0x67) = *(float *)(DAT_005e45e4 + 0x240) * param_2;
  *(float *)(param_1 + 0x6b) = *(float *)(DAT_005e45e4 + 0x250) * param_2;
  fVar2 = *(float *)(DAT_005e45e4 + 0x260);
  *(float *)(param_1 + 0x7b) = (*(float *)(param_1 + 0x7b) - (fVar3 - -0.5)) - (fVar3 - -0.75);
  *(float *)(param_1 + 0x6f) = fVar2 * param_2;
  iVar5 = FUN_004a2710(0x40c00000,pfVar1,&param_2);
  if (iVar5 != 0) {
    *(undefined2 *)(&DAT_005a49c8 + iVar4 * 0x16) = DAT_005a4b78;
    FUN_00485990(param_2,(int)&DAT_005a49c0 + iVar4 * 0x16);
    FUN_0049ee00(param_2,pfVar1);
    DAT_005d0490 = DAT_005d0490 + DAT_005d0480;
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a0ef0(void)

{
  float ***pppfVar1;
  float fVar2;
  byte bVar3;
  float fVar4;
  float fVar5;
  float ****ppppfVar6;
  float ***pppfVar7;
  undefined2 uVar8;
  int iVar9;
  float ****ppppfVar10;
  int iVar11;
  float *pfVar12;
  float ***pppfVar13;
  float ****local_14;
  undefined2 *puVar14;
  float ***pppfVar15;
  
  AdjustStackForLargeAllocations();
  local_14 = (float ****)0x4a0f05;
  FUN_0049ec60();
  if ((char)DAT_00598944 != '\0') {
    pppfVar13 = (float ***)0x0;
    if (DAT_005d8730 != (float ***)0x0) {
      pppfVar15 = (float ***)&DAT_005a4640;
      pfVar12 = (float *)&DAT_005e21e3;
      do {
        iVar9 = DAT_005e45e4;
        if ((pfVar12[0x12] != 0.0) && (pfVar12[0x12] != 7.006492e-45)) {
          pppfVar1 = (float ***)(pfVar12 + -2);
          local_14 = (float ****)&local_14;
          iVar11 = ((int)pppfVar13 + _DAT_005a1124 & 0xfU) * 4;
          fVar4 = *(float *)(&DAT_004d3578 + iVar11) * 0.42;
          fVar2 = *(float *)(&DAT_004d35b8 + iVar11) * 0.42;
          *pppfVar1 = (float **)(*(float *)(DAT_005e45e4 + 0x238) * fVar4);
          pfVar12[-1] = *(float *)(iVar9 + 0x248) * fVar4;
          fVar5 = (fVar2 - 0.3) * -3.33;
          *pfVar12 = *(float *)(iVar9 + 600) * fVar4;
          pfVar12[2] = *(float *)(iVar9 + 0x23c) * fVar2;
          pfVar12[3] = *(float *)(iVar9 + 0x24c) * fVar2;
          pfVar12[4] = *(float *)(iVar9 + 0x25c) * fVar2;
          pfVar12[6] = *(float *)(iVar9 + 0x240) * fVar4;
          pfVar12[7] = *(float *)(iVar9 + 0x250) * fVar4;
          fVar2 = *(float *)(iVar9 + 0x260);
          pfVar12[0xb] = (pfVar12[0xb] - (fVar5 - -0.5)) - (fVar5 - -0.75);
          pfVar12[8] = fVar2 * fVar4;
          iVar9 = FUN_004a2710(0x40c00000,pppfVar1);
          if (iVar9 != 0) {
            local_14 = (float ****)pppfVar13;
            uVar8 = FUN_004a0b80();
            pppfVar7 = (float ***)local_14;
            *(undefined2 *)(pppfVar15 + 2) = uVar8;
            local_14 = (float ****)pppfVar15;
            FUN_00485990(pppfVar7);
            pppfVar7 = (float ***)local_14;
            local_14 = (float ****)pppfVar1;
            FUN_0049ee00(pppfVar7);
            DAT_005d0490 = DAT_005d0490 + DAT_005d0480;
          }
        }
        pppfVar13 = (float ***)((int)pppfVar13 + 1);
        pfVar12 = pfVar12 + 0x38;
        pppfVar15 = (float ***)((int)pppfVar15 + 0x16);
      } while (pppfVar13 < DAT_005d8730);
    }
    return 1;
  }
  pppfVar13 = (float ***)0x0;
  if (DAT_004d86a8 != (float ***)0x0) {
    iVar11 = 0;
    iVar9 = DAT_004d86ac;
    do {
      if ((*(int *)(iVar9 + 0x10 + iVar11) == 0) && (*(int *)(iVar9 + 0xab + iVar11) != 0)) {
        local_14 = (float ****)pppfVar13;
        FUN_004a0bd0();
        iVar9 = DAT_004d86ac;
      }
      pppfVar13 = (float ***)((int)pppfVar13 + 1);
      iVar11 = iVar11 + 0xe0;
    } while (pppfVar13 < DAT_004d86a8);
  }
  ppppfVar10 = (float ****)0x0;
  puVar14 = &DAT_005a42c8;
  pfVar12 = (float *)&DAT_005dfee3;
  iVar9 = DAT_005e45e4;
  do {
    if (pfVar12[0x12] != 0.0) {
      bVar3 = *(byte *)((int)pfVar12 + -0x62);
      if (bVar3 < 0x96) {
        iVar11 = (_DAT_005a1124 + (int)ppppfVar10 & 0xfU) * 4;
        fVar4 = *(float *)(&DAT_004d3578 + iVar11) * 0.42;
        fVar2 = *(float *)(&DAT_004d35b8 + iVar11) * 0.42;
        pfVar12[-2] = *(float *)(iVar9 + 0x238) * fVar4;
        pfVar12[-1] = *(float *)(iVar9 + 0x248) * fVar4;
        fVar5 = (fVar2 - 0.3) * -3.33;
        *pfVar12 = *(float *)(iVar9 + 600) * fVar4;
        pfVar12[2] = *(float *)(iVar9 + 0x23c) * fVar2;
        pfVar12[3] = *(float *)(iVar9 + 0x24c) * fVar2;
        pfVar12[4] = *(float *)(iVar9 + 0x25c) * fVar2;
        pfVar12[6] = *(float *)(iVar9 + 0x240) * fVar4;
        pfVar12[7] = *(float *)(iVar9 + 0x250) * fVar4;
        fVar2 = *(float *)(iVar9 + 0x260);
        pfVar12[0xb] = (pfVar12[0xb] - (fVar5 - -0.5)) - (fVar5 - -0.75);
        pfVar12[8] = fVar2 * fVar4;
LAB_004a11de:
        local_14 = (float ****)&local_14;
        iVar11 = FUN_004a2710(0x40c00000,pfVar12 + -2);
        iVar9 = DAT_005e45e4;
        if (iVar11 != 0) {
          if ((char)DAT_00598944 == '\0') {
            local_14 = ppppfVar10;
            uVar8 = FUN_004a0b30();
            *puVar14 = uVar8;
          }
          else {
            *puVar14 = 0;
          }
          ppppfVar6 = local_14;
          local_14 = (float ****)(puVar14 + -4);
          FUN_00485990(ppppfVar6);
          pppfVar13 = (float ***)local_14;
          if (*(byte *)((int)pfVar12 + -0x62) < 0x96) {
            local_14 = (float ****)(pfVar12 + -2);
            FUN_0049ee00(pppfVar13);
          }
          DAT_005d0490 = DAT_005d0490 + DAT_005d0480;
          iVar9 = DAT_005e45e4;
        }
      }
      else if (bVar3 < 0xf0) {
        *(undefined *)((int)pfVar12 + -0x62) = 0;
        pfVar12[0x12] = 0.0;
        DAT_005a111c = 1;
      }
      else {
        fVar2 = 0.02 - (float)(bVar3 - 0xf0) * 0.1 * -0.1;
        pfVar12[-2] = fVar2 * *(float *)(iVar9 + 0x238);
        pfVar12[-1] = fVar2 * *(float *)(iVar9 + 0x248);
        *pfVar12 = fVar2 * *(float *)(iVar9 + 600);
        pfVar12[2] = fVar2 * *(float *)(iVar9 + 0x23c);
        pfVar12[3] = fVar2 * *(float *)(iVar9 + 0x24c);
        pfVar12[4] = fVar2 * *(float *)(iVar9 + 0x25c);
        pfVar12[6] = fVar2 * *(float *)(iVar9 + 0x240);
        pfVar12[7] = fVar2 * *(float *)(iVar9 + 0x250);
        pfVar12[8] = fVar2 * *(float *)(iVar9 + 0x260);
        iVar11 = (uint)*(byte *)((int)pfVar12 + -0x62) * -8;
        fVar4 = *(float *)(&DAT_004d3dc8 + iVar11) * 1.5;
        fVar2 = *(float *)(&DAT_004d3dcc + iVar11) * 1.7;
        pfVar12[10] = ((fVar4 * *(float *)(iVar9 + 0x238) + fVar2 * *(float *)(iVar9 + 0x23c)) -
                      *(float *)(iVar9 + 0x228)) - *(float *)(iVar9 + 0x240) * -4.0;
        iVar11 = DAT_00598e18;
        pfVar12[0xb] = ((fVar4 * *(float *)(iVar9 + 0x248) + fVar2 * *(float *)(iVar9 + 0x24c)) -
                       *(float *)(iVar9 + 0x22c)) - *(float *)(iVar9 + 0x250) * -4.0;
        pfVar12[0xc] = ((fVar2 * *(float *)(iVar9 + 0x25c) + fVar4 * *(float *)(iVar9 + 600)) -
                       *(float *)(iVar9 + 0x260) * -4.0) - *(float *)(iVar9 + 0x230);
        *(char *)((int)pfVar12 + -0x62) = *(char *)((int)pfVar12 + -0x62) + -1;
        if (iVar11 == 0) goto LAB_004a11de;
      }
    }
    pfVar12 = pfVar12 + 0x38;
    ppppfVar10 = (float ****)((int)ppppfVar10 + 1);
    puVar14 = puVar14 + 0xb;
    if ((float *)((int)&DAT_005e21df + 3) < pfVar12) {
      return 1;
    }
  } while( true );
}



void FUN_004a1410(void)

{
  undefined4 *puVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  int *piVar8;
  undefined4 *puVar9;
  int *piVar10;
  
  if ((char)DAT_00598944 == '\0') {
    puVar1 = &DAT_005dfe9b;
    do {
      if (puVar1[0x24] != 0) {
        puVar7 = puVar1;
        puVar9 = puVar1 + 0x10;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar9 = *puVar7;
          puVar7 = puVar7 + 1;
          puVar9 = puVar9 + 1;
        }
        *(undefined4 *)((int)puVar1 + -0x15) =
             *(undefined4 *)(*(int *)(*(int *)((int)puVar1 + -0xb) + 0x13) + 0x7f);
        *(undefined4 *)((int)puVar1 + -0x11) =
             *(undefined4 *)(*(int *)(*(int *)((int)puVar1 + -0xb) + 0x13) + 0x7b);
      }
      puVar1 = puVar1 + 0x38;
    } while ((int)puVar1 < 0x5e219b);
    iVar4 = 0;
    if (0 < DAT_004d86a8) {
      iVar2 = 0;
      iVar6 = DAT_004d86ac;
      do {
        if ((*(int *)(iVar6 + 0x10 + iVar2) == 0) && (*(int *)(iVar6 + 0xab + iVar2) != 0)) {
          puVar1 = (undefined4 *)(iVar6 + 0x1b + iVar2);
          puVar7 = (undefined4 *)(iVar6 + 0x5b + iVar2);
          for (iVar5 = 0x10; iVar6 = DAT_004d86ac, iVar5 != 0; iVar5 = iVar5 + -1) {
            *puVar7 = *puVar1;
            puVar1 = puVar1 + 1;
            puVar7 = puVar7 + 1;
          }
        }
        iVar4 = iVar4 + 1;
        iVar2 = iVar2 + 0xe0;
      } while (iVar4 < DAT_004d86a8);
    }
  }
  else {
    puVar1 = &DAT_005e219b;
    do {
      if (puVar1[0x24] != 0) {
        puVar7 = puVar1;
        puVar9 = puVar1 + 0x10;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar9 = *puVar7;
          puVar7 = puVar7 + 1;
          puVar9 = puVar9 + 1;
        }
      }
      puVar1 = puVar1 + 0x38;
    } while ((int)puVar1 < 0x5e449b);
  }
  piVar3 = &DAT_005de80b;
  do {
    if ((*(int *)((int)piVar3 + -0x9b) != 0) && (*piVar3 != 0)) {
      piVar8 = piVar3 + -0x24;
      piVar10 = piVar3 + -0x14;
      for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
        *piVar10 = *piVar8;
        piVar8 = piVar8 + 1;
        piVar10 = piVar10 + 1;
      }
    }
    piVar3 = piVar3 + 0x38;
  } while ((int)piVar3 < 0x5dec6b);
  return;
}



void FUN_004a1510(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  iVar3 = DAT_005a88c4;
  uVar1 = DAT_005a4b74 - 0x80;
  uVar5 = DAT_005a4b74 | 0xffffff00;
  uVar4 = DAT_005a4b74 + 0x3c;
  *(undefined4 *)(DAT_005a88c4 + 0x18) = 0x3c75c28f;
  *(uint *)(iVar3 + 0x10) = (uVar1 & 0xff) << 8 | uVar5 << 0x10 | uVar4 & 0xff;
  *(undefined4 *)(iVar3 + 8) = 0;
  *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
  uVar1 = DAT_005a4b74 - 0x70;
  iVar2 = DAT_005a4b74 + 0x10;
  uVar4 = DAT_005a4b74 + 0x4c;
  *(undefined4 *)(iVar3 + 0x28) = 0;
  *(undefined4 *)(iVar3 + 0x38) = 0x3c75c28f;
  *(uint *)(iVar3 + 0x30) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
  uVar1 = DAT_005a4b74 - 0x62;
  iVar2 = DAT_005a4b74 + 0x20;
  uVar4 = DAT_005a4b74 + 0x5c;
  *(undefined4 *)(iVar3 + 0x48) = 0;
  *(undefined4 *)(iVar3 + 0x58) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x50) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  uVar1 = DAT_005a4b74 - 0x50;
  iVar2 = DAT_005a4b74 + 0x30;
  uVar4 = DAT_005a4b74 + 0x6c;
  *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x68) = 0;
  *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x70) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  return;
}



void FUN_004a1630(uint param_1)

{
  uint uVar1;
  char cVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  iVar3 = DAT_005a88c4;
  param_1 = (uint)*(byte *)(param_1 + 0xe);
  uVar4 = DAT_005a4b74 & 0xff;
  cVar2 = (char)DAT_005a4b74;
  *(undefined4 *)(DAT_005a88c4 + 8) = 0;
  *(uint *)(iVar3 + 0x10) =
       (uVar4 | param_1 << 8) << 0x10 | (uint)CONCAT11(cVar2 + -0x80,cVar2 + -0x3c);
  *(undefined4 *)(iVar3 + 0x18) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
  uVar4 = DAT_005a4b74 + 0x70;
  uVar1 = DAT_005a4b74 + 0xfff0;
  uVar5 = DAT_005a4b74 - 0x4c;
  *(undefined4 *)(iVar3 + 0x28) = 0;
  param_1 = param_1 << 0x18;
  *(undefined4 *)(iVar3 + 0x38) = 0x3c75c28f;
  *(uint *)(iVar3 + 0x30) = (uVar4 & 0xff) << 8 | (uVar1 & 0xff) << 0x10 | uVar5 & 0xff | param_1;
  *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
  uVar4 = DAT_005a4b74 + 0x62;
  uVar1 = DAT_005a4b74 + 0xffe0;
  uVar5 = DAT_005a4b74 - 0x5c;
  *(undefined4 *)(iVar3 + 0x48) = 0;
  *(undefined4 *)(iVar3 + 0x58) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x50) = (uVar4 & 0xff) << 8 | (uVar1 & 0xff) << 0x10 | uVar5 & 0xff | param_1;
  uVar4 = DAT_005a4b74 + 0x50;
  uVar1 = DAT_005a4b74 + 0xffd0;
  uVar5 = DAT_005a4b74 - 0x6c;
  *(undefined4 *)(iVar3 + 0x68) = 0;
  *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x70) = (uVar4 & 0xff) << 8 | (uVar1 & 0xff) << 0x10 | uVar5 & 0xff | param_1;
  *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
  return;
}



void FUN_004a1770(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  iVar3 = DAT_005a88c4;
  uVar1 = DAT_005a4b74 - 0x80;
  uVar5 = DAT_005a4b74 | 0xffffff00;
  uVar4 = DAT_005a4b74 + 0x3c;
  *(undefined4 *)(DAT_005a88c4 + 0x18) = 0x3c75c28f;
  *(uint *)(iVar3 + 0x10) = (uVar1 & 0xff) << 8 | uVar5 << 0x10 | uVar4 & 0xff;
  *(undefined4 *)(iVar3 + 8) = 0;
  *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
  uVar1 = DAT_005a4b74 - 0x70;
  iVar2 = DAT_005a4b74 + 0x10;
  uVar4 = DAT_005a4b74 + 0x4c;
  *(undefined4 *)(iVar3 + 0x28) = 0;
  *(undefined4 *)(iVar3 + 0x38) = 0x3c75c28f;
  *(uint *)(iVar3 + 0x30) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
  uVar1 = DAT_005a4b74 - 0x62;
  iVar2 = DAT_005a4b74 + 0x20;
  uVar4 = DAT_005a4b74 + 0x5c;
  *(undefined4 *)(iVar3 + 0x48) = 0;
  *(undefined4 *)(iVar3 + 0x58) = 0x3f7c28f6;
  *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x50) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  uVar1 = DAT_005a4b74 - 0x50;
  iVar2 = DAT_005a4b74 + 0x30;
  uVar4 = DAT_005a4b74 + 0x6c;
  *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
  *(undefined4 *)(iVar3 + 0x68) = 0;
  *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
  *(uint *)(iVar3 + 0x70) = (uVar1 & 0xff) << 8 | iVar2 * 0x10000 | uVar4 & 0xff | 0xff000000;
  return;
}



undefined4 FUN_004a1890(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  float *pfVar7;
  float10 fVar8;
  undefined *puVar9;
  
  AdjustStackForLargeAllocations();
  pfVar7 = (float *)&DAT_005a292c;
  do {
    if (pfVar7[-10] == 0.0) {
      if (pfVar7[-0x11] != 0.0) {
        pfVar7[7] = 1.0;
        iVar6 = DAT_005e45e4;
        switch(pfVar7[-0x13]) {
        case 1.401298e-45:
          pfVar7[-7] = 0.0;
          pfVar7[-6] = 0.0;
          pfVar7[-4] = 0.0;
          pfVar7[-3] = 0.0;
          *pfVar7 = 0.0;
          pfVar7[1] = 1.0;
          pfVar7[2] = 0.0;
          fVar2 = pfVar7[-0xc] * (float)(int)pfVar7[-0x11] * 4.0;
          pfVar7[-8] = fVar2;
          pfVar7[-2] = fVar2;
          pfVar7[4] = pfVar7[-0x10];
          pfVar7[5] = pfVar7[-0xf];
          pfVar7[6] = pfVar7[-0xe];
          pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 0xf);
          *(undefined2 *)(pfVar7 + 10) = *(undefined2 *)(pfVar7 + -9);
          break;
        case 2.802597e-45:
          fVar2 = (float)(4 - (int)pfVar7[-0x11]) * pfVar7[-0xc] * 4.0;
          pfVar7[-8] = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          if (*(short *)(pfVar7 + -9) == DAT_005a28a4) {
            *(undefined2 *)(pfVar7 + 10) = DAT_005a28c2;
          }
          else {
            *(short *)(pfVar7 + 10) = *(short *)(pfVar7 + -9);
          }
          if ((int *)pfVar7[-0xd] != (int *)0x0) {
            pfVar7[4] = *(float *)(*(int *)pfVar7[-0xd] + 0x36);
            pfVar7[5] = *(float *)(*(int *)pfVar7[-0xd] + 0x3a);
            pfVar7[6] = *(float *)(*(int *)pfVar7[-0xd] + 0x3e);
            if (0.01 < pfVar7[-0x10]) {
              pfVar7[4] = (-*(float *)(iVar6 + 0xc0) - pfVar7[4]) * pfVar7[-0x10] + pfVar7[4];
              pfVar7[5] = (-*(float *)(iVar6 + 0xc4) - pfVar7[5]) * pfVar7[-0x10] + pfVar7[5];
              pfVar7[6] = (-*(float *)(iVar6 + 200) - pfVar7[6]) * pfVar7[-0x10] + pfVar7[6];
            }
          }
          if (pfVar7[-0xb] == 1.387285e-43) {
            pfVar7[-0x11] = 0.0;
          }
          else {
            pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 3);
          }
          break;
        case 4.203895e-45:
          fVar2 = pfVar7[-0xc];
          pfVar7[-8] = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          fVar2 = (float)(0x20 - (int)pfVar7[-0x11]) * 0.075;
          pfVar7[4] = pfVar7[-0x10] * fVar2 + pfVar7[4];
          pfVar7[5] = (pfVar7[-0xf] * fVar2 + pfVar7[5]) - 0.3;
          pfVar7[6] = pfVar7[-0xe] * fVar2 + pfVar7[6];
          pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 0x1f);
          *(undefined2 *)(pfVar7 + 10) = *(undefined2 *)(pfVar7 + -9);
          break;
        case 5.605194e-45:
          fVar2 = pfVar7[-0xc];
          if (pfVar7[-0x11] == 1.401298e-45) {
            pfVar7[4] = pfVar7[-0x10];
            pfVar7[5] = pfVar7[-0xf];
            pfVar7[6] = pfVar7[-0xe];
          }
          iVar6 = DAT_005e45e4;
          pfVar7[-8] = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          iVar6 = *(int *)pfVar7[-0xd];
          fVar3 = *(float *)(iVar6 + 0x3a);
          fVar2 = *(float *)(iVar6 + 0x3e);
          pfVar7[4] = *(float *)(iVar6 + 0x36) - (pfVar7[4] - *(float *)(iVar6 + 0x36)) * -0.9;
          pfVar7[5] = fVar3 - (pfVar7[5] - fVar3) * -0.9;
          pfVar7[6] = fVar2 - (pfVar7[6] - fVar2) * -0.9;
          pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 0xf);
          *(undefined2 *)(pfVar7 + 10) = *(undefined2 *)(pfVar7 + -9);
          break;
        case 7.006492e-45:
          pfVar1 = pfVar7 + -8;
          fVar2 = (float)((int)pfVar7[-0x11] - ((int)pfVar7[-0xb] >> 1));
          fVar3 = (float)(int)pfVar7[-0xb];
          fVar2 = (1.0 - (fVar3 * fVar3) / (fVar2 * fVar2 * 4.0)) * pfVar7[-0xc];
          *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          fVar8 = (float10)FUN_004ae0c4((double)((float)(int)pfVar7[-0x11] * 0.5));
          fVar2 = (float)fVar8;
          fVar8 = (float10)FUN_004ae014((double)((float)(int)pfVar7[-0x11] * 0.5));
          fVar3 = (float)fVar8;
          fVar4 = pfVar7[-4];
          fVar5 = pfVar7[-3];
          pfVar7[-4] = fVar2 * pfVar7[-4] - fVar3 * *pfVar1;
          *pfVar1 = (float)(fVar8 * (float10)fVar4 + (float10)fVar2 * (float10)*pfVar1);
          pfVar7[-3] = fVar2 * pfVar7[-3] - fVar3 * pfVar7[-7];
          fVar4 = pfVar7[-6];
          pfVar7[-6] = fVar3 * pfVar7[-2] + fVar2 * pfVar7[-6];
          pfVar7[-7] = fVar3 * fVar5 + fVar2 * pfVar7[-7];
          pfVar7[-2] = fVar2 * pfVar7[-2] - fVar3 * fVar4;
          iVar6 = *(int *)pfVar7[-0xd];
          fVar8 = (float10)FUN_004ae014((double)((float)(int)pfVar7[-0x11] * 0.2));
          pfVar7[4] = (float)((float10)*(float *)(iVar6 + 0x36) - fVar8 * (float10)-4.5);
          pfVar7[5] = *(float *)(*(int *)pfVar7[-0xd] + 0x3a);
          iVar6 = *(int *)pfVar7[-0xd];
          fVar8 = (float10)FUN_004ae0c4((double)((float)(int)pfVar7[-0x11] * 0.2));
          pfVar7[6] = (float)((float10)*(float *)(iVar6 + 0x3e) - fVar8 * (float10)-4.5);
          pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 0x1f);
          *(undefined2 *)(pfVar7 + 10) = *(undefined2 *)(pfVar7 + -9);
          break;
        case 8.407791e-45:
          fVar2 = (float)(int)pfVar7[-0x11] * pfVar7[-0xc] * 4.0;
          pfVar7[-8] = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          if (*(short *)(pfVar7 + -9) == DAT_005a28a4) {
            *(undefined2 *)(pfVar7 + 10) = DAT_005b1c7c;
          }
          else {
            *(short *)(pfVar7 + 10) = *(short *)(pfVar7 + -9);
          }
          pfVar7[4] = pfVar7[-0x10] + pfVar7[4];
          pfVar7[5] = pfVar7[-0xf] + pfVar7[5];
          pfVar7[6] = pfVar7[-0xe] + pfVar7[6];
          if (pfVar7[-0xb] == 1.387285e-43) {
            pfVar7[-0x11] = 0.0;
          }
          else {
            pfVar7[-0x11] = (float)((int)pfVar7[-0x11] + 1U & 3);
          }
          break;
        default:
          pfVar1 = pfVar7 + -8;
          pfVar7[-0xf] = pfVar7[-0xf] - 0.02;
          iVar6 = DAT_005e45e4;
          fVar2 = (float)((int)pfVar7[-0x11] - ((int)pfVar7[-0xb] >> 1));
          fVar3 = (float)(int)pfVar7[-0xb];
          fVar2 = (1.0 - (fVar3 * fVar3) / (fVar2 * fVar2 * 4.0)) * pfVar7[-0xc];
          *pfVar1 = *(float *)(DAT_005e45e4 + 0x238) * fVar2;
          pfVar7[-7] = *(float *)(iVar6 + 0x248) * fVar2;
          pfVar7[-6] = *(float *)(iVar6 + 600) * fVar2;
          pfVar7[-4] = *(float *)(iVar6 + 0x23c) * fVar2;
          pfVar7[-3] = *(float *)(iVar6 + 0x24c) * fVar2;
          pfVar7[-2] = *(float *)(iVar6 + 0x25c) * fVar2;
          *pfVar7 = *(float *)(iVar6 + 0x240) * fVar2;
          pfVar7[1] = *(float *)(iVar6 + 0x250) * fVar2;
          pfVar7[2] = *(float *)(iVar6 + 0x260) * fVar2;
          pfVar7[4] = pfVar7[-0x10];
          pfVar7[5] = pfVar7[-0xf];
          pfVar7[6] = pfVar7[-0xe];
          fVar8 = (float10)FUN_004ae0c4((double)((float)(int)pfVar7[-0x11] * 0.2));
          fVar2 = (float)fVar8;
          fVar8 = (float10)FUN_004ae014((double)((float)(int)pfVar7[-0x11] * 0.2));
          fVar3 = (float)fVar8;
          fVar4 = pfVar7[-4];
          fVar5 = pfVar7[-3];
          pfVar7[-4] = fVar2 * pfVar7[-4] - fVar3 * *pfVar1;
          pfVar7[-3] = fVar2 * pfVar7[-3] - fVar3 * pfVar7[-7];
          *pfVar1 = fVar3 * fVar4 + fVar2 * *pfVar1;
          fVar4 = pfVar7[-6];
          pfVar7[-7] = fVar3 * fVar5 + fVar2 * pfVar7[-7];
          pfVar7[-6] = fVar3 * pfVar7[-2] + fVar2 * pfVar7[-6];
          pfVar7[-2] = fVar2 * pfVar7[-2] - fVar3 * fVar4;
          pfVar7[-0x11] = (float)(((int)pfVar7[-0x11] + 1) % (int)pfVar7[-0xb]);
          *(undefined2 *)(pfVar7 + 10) = *(undefined2 *)(pfVar7 + -9);
        }
        puVar9 = &stack0xffffffec;
        iVar6 = FUN_004a2710(0x40400000,pfVar7 + -8);
        if (iVar6 != 0) {
          *(uint *)((int)pfVar7 + 0x2a) = (iVar6 != 1) + 1;
          if (pfVar7[-0x13] == 8.407791e-45) {
            puVar9 = (undefined *)((float)puVar9 - 1.0);
          }
          FUN_00485990(puVar9);
          DAT_005d0490 = DAT_005d0490 + DAT_005d0488;
        }
      }
    }
    else {
      pfVar7[-10] = (float)((int)pfVar7[-10] + -1);
    }
    pfVar7 = (float *)((int)pfVar7 + 0x82);
  } while ((int)pfVar7 < 0x5a4290);
  return 1;
}



void FUN_004a2100(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  
  iVar3 = DAT_005a88c4;
  iVar2 = *(int *)(param_1 + 0xe) * 0x82;
  iVar4 = *(int *)((int)&DAT_005a28e4 + iVar2);
  if (iVar4 == 1) {
    uVar5 = *(int *)((int)&DAT_005a28e8 + iVar2) * -0x10000000 - 0x1000000U | 0xffffff;
    *(undefined4 *)(DAT_005a88c4 + 8) = 0;
    *(undefined4 *)(iVar3 + 0x18) = 0x3c75c28f;
    *(undefined4 *)(iVar3 + 0x1c) = 0x3c75c28f;
    *(uint *)(iVar3 + 0x10) = uVar5;
    *(undefined4 *)(iVar3 + 0x28) = 0;
    *(undefined4 *)(iVar3 + 0x38) = 0x3c75c28f;
    *(undefined4 *)(iVar3 + 0x3c) = 0x3f7c28f6;
    *(uint *)(iVar3 + 0x30) = uVar5;
    *(undefined4 *)(iVar3 + 0x48) = 0;
    *(undefined4 *)(iVar3 + 0x58) = 0x3f7c28f6;
    *(undefined4 *)(iVar3 + 0x5c) = 0x3f7c28f6;
    *(uint *)(iVar3 + 0x50) = uVar5;
    *(undefined4 *)(iVar3 + 0x68) = 0;
    *(undefined4 *)(iVar3 + 0x78) = 0x3f7c28f6;
    *(undefined4 *)(iVar3 + 0x7c) = 0x3c75c28f;
    *(uint *)(iVar3 + 0x70) = uVar5;
  }
  else {
    if (iVar4 == 6) {
      iVar4 = 4;
      puVar1 = (undefined4 *)(DAT_005a88c4 + 8);
      do {
        puVar1[2] = 0xffffffff;
        *puVar1 = 0xbf800000;
        puVar1 = puVar1 + 8;
        iVar4 = iVar4 + -1;
      } while (iVar4 != 0);
      return;
    }
    if (*(int *)(param_1 + 4) == DAT_005a28a0) {
      iVar3 = 3;
      iVar4 = DAT_005a28c4;
    }
    else {
      iVar3 = 4;
      iVar4 = DAT_005a88c4;
    }
    if (iVar3 != 0) {
      puVar1 = (undefined4 *)(iVar4 + 8);
      do {
        puVar1[2] = 0xffffffff;
        *puVar1 = 0;
        puVar1 = puVar1 + 8;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
      return;
    }
  }
  return;
}



void FUN_004a2200(void)

{
  uint uVar1;
  undefined4 *puVar2;
  int *piVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  DAT_005aa0ee = DAT_005aa0ea;
  DAT_005d0490 = 0;
  DAT_005a89ac = 0;
  DAT_005a10ac = 0;
  DAT_00598e2c = 0;
  DAT_005af734 = 0;
  puVar2 = &DAT_005a28e0;
  do {
    if (puVar2[2] != 0) {
      puVar2[1] = *puVar2;
      *(undefined2 *)((int)puVar2 + 0x2a) = *(undefined2 *)(puVar2 + 10);
    }
    puVar2 = (undefined4 *)((int)puVar2 + 0x82);
  } while (puVar2 < &DAT_005a4244);
  puVar2 = &DAT_005a53ce;
  do {
    if (*(int *)((int)puVar2 + -0xe) != 0) {
      puVar2[0x19] = *(int *)((int)puVar2 + -0xe);
      puVar5 = puVar2;
      puVar6 = puVar2 + 0x1a;
      for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar6 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar6 = puVar6 + 1;
      }
      puVar2[0x17] = puVar2[0x14];
      puVar2[0x18] = puVar2[0x16];
      puVar2[0x2a] = puVar2[-2];
      puVar2[0x2b] = puVar2[0x15];
    }
    uVar1 = DAT_005d66c8;
    puVar2 = puVar2 + 0x35;
  } while (puVar2 < (undefined4 *)((int)&DAT_005a88cc + 2));
  if ((DAT_005d66c8 & 0x2004) != 0) {
    piVar3 = &DAT_005a9f40;
    do {
      if ((*piVar3 != 0) &&
         ((iVar4 = *(int *)(*piVar3 + 4), *(int *)(iVar4 + 0x86) != piVar3[3] ||
          ((*(byte *)(iVar4 + 0xc9) & 0x20) == 0)))) {
        *piVar3 = 0;
      }
      piVar3 = (int *)((int)piVar3 + 0x26);
    } while (piVar3 < &DAT_005aa070);
  }
  if ((uVar1 & 0x80) != 0) {
    piVar3 = &DAT_005adfa0;
    do {
      if (*piVar3 != 0) {
        iVar4 = *(int *)(*piVar3 + 4);
        if (((*(int *)(iVar4 + 0x86) != piVar3[1]) || (*(char *)(piVar3[1] + 4) == '\0')) ||
           ((*(byte *)(iVar4 + 0xc9) & 0x20) == 0)) {
          *piVar3 = 0;
        }
      }
      piVar3 = (int *)((int)piVar3 + 0x5e);
    } while (piVar3 < &DAT_005ae176);
  }
  return;
}



bool FUN_004a2320(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
                    (*(int **)(DAT_005e5010 + 8),DAT_005a2880,*(undefined4 *)(DAT_005e5010 + 0xc),2)
  ;
  return iVar1 == 0;
}



bool FUN_004a2350(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
                    (*(int **)(DAT_005e5010 + 8),DAT_005a2884,*(undefined4 *)(DAT_005e5010 + 0xc),2)
  ;
  return iVar1 == 0;
}



undefined4 FUN_004a2380(void)

{
  if (((byte)DAT_005d66c4 & 1) != 0) {
    FUN_0049deb0();
  }
  if (((byte)DAT_005d66c4 & 2) != 0) {
    FUN_0049ef50();
  }
  if (((DAT_005d66c0 & 0x800) != 0) && (*(int *)(DAT_005e5010 + 0x790) != 0)) {
    FUN_004a32f0();
  }
  FUN_004a1890();
  if ((DAT_005d66c8 & 8) != 0) {
    FUN_004a0760();
  }
  FUN_004a03d0();
  FUN_0049f2d0();
  FUN_004a0560();
  FUN_004a0a20();
  if ((DAT_005d66c8 & 0x40) != 0) {
    FUN_0049f550();
  }
  if ((DAT_005d66c8 & 2) != 0) {
    FUN_0049e1e0();
  }
  if ((*(uint *)(*(int *)(*(int *)(DAT_005df318 + 4) + 4) + 0x8a) & 0x400) != 0) {
    FUN_0049e7d0();
  }
  FUN_004a0ef0();
  FUN_00450f80();
  if ((DAT_005d66c8 & 0x2004) != 0) {
    FUN_0049fc10();
  }
  return 1;
}



void FUN_004a2440(int *param_1)

{
  int *piVar1;
  
  if (*param_1 != 0) {
    (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x40))
              (*(int **)(DAT_005e5010 + 8),DAT_005b9ce0,*param_1);
  }
  if (*(code **)((int)param_1 + 0x12) != (code *)0x0) {
    (**(code **)((int)param_1 + 0x12))(param_1);
  }
  piVar1 = param_1;
  if (*(short *)(param_1 + 2) != -1) {
    piVar1 = (int *)FUN_0048f3a0(DAT_005986c8,*(short *)(param_1 + 2));
  }
  (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x20))
            (*(int **)(DAT_005e5010 + 8),param_1[1],*(undefined4 *)(DAT_005e5010 + 0xc),1);
  if (*(short *)(param_1 + 2) != -1) {
    FUN_0048f4c0(DAT_005986c8,piVar1);
  }
  return;
}



undefined4 FUN_004a24d0(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  int extraout_ECX;
  int iVar3;
  float10 fVar4;
  uint local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  AdjustStackForLargeAllocations();
  if ((param_1 != 0) && (iVar1 = *(int *)(param_1 + 0x13), iVar1 != 0)) {
    iVar3 = *(int *)(*(int *)(param_2 + 0xa3) + 4);
    if ((*(byte *)(iVar3 + 0x8f) & 0x10) != 0) {
      if (*(uint *)(param_2 + 0x9b) < 3) {
        local_18 = *(uint *)(param_2 + 0x77);
        local_14 = *(undefined4 *)(param_2 + 0x7b);
        local_10 = *(undefined4 *)(param_2 + 0x7f);
        FUN_0046cb20(6,&local_18,&DAT_005a1110,4,1);
        return 1;
      }
      if ((*(byte *)(iVar1 + 0xeb) & 0x20) != 0) {
        local_10 = *(undefined4 *)(iVar1 + 0xdb);
        local_14 = *(undefined4 *)(iVar1 + 0xdf);
        local_18 = *(uint *)(param_2 + 0x9b) >> 1;
        FUN_004a0620(param_2 + 0x47);
        iVar3 = extraout_ECX;
      }
      local_18 = *(uint *)(param_2 + 0x9b);
      if (local_18 < 0x20) {
        local_14 = CONCAT31((int3)((uint)iVar3 >> 8),*(undefined *)(iVar1 + 0xeb));
        local_10 = 0;
        FUN_004a00f0(param_2 + 0x47);
      }
      if (((*(byte *)(iVar1 + 0xeb) & 0x80) != 0) && (uVar2 = *(uint *)(param_2 + 0x9b), uVar2 < 4))
      {
        local_14 = *(undefined4 *)(iVar1 + 0xd7);
        local_18 = (uint)*(ushort *)(iVar1 + 0xd5);
        local_10 = 0;
        fVar4 = (float10)FUN_0045e9e0();
        fVar4 = (float10)FUN_0045e9e0((float)((float10)(ulonglong)uVar2 -
                                             (fVar4 * (float10)*(float *)(iVar1 + 0xdf) -
                                             (float10)-1.0) * (float10)-1.5));
        fVar4 = (float10)FUN_0045e9e0(0,(float)((fVar4 * (float10)*(float *)(iVar1 + 0xdb) -
                                                (float10)-1.0) * (float10)0.5));
        FUN_0046c880(1,1,param_2 + 0x47,(float)(fVar4 * (float10)6.28));
      }
      return 1;
    }
  }
  return 0;
}



undefined4 FUN_004a2660(void)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = DAT_005aa084;
  FUN_0049f6f0(0);
  if ((DAT_005aa080 == 0xb) && (0 < (int)uVar1)) {
    FUN_0049f6f0(4 - (uVar1 & 1));
    uVar2 = (int)(uVar1 + 1) >> 0x1f;
    DAT_005aa084 = ((uVar1 + 1 ^ uVar2) - uVar2 & 3 ^ uVar2) - uVar2;
  }
  if (DAT_005aa084 == 0) {
    DAT_005aa080 = 0;
  }
  return 1;
}



undefined4 FUN_004a26c0(void)

{
  FUN_0049cd10();
  FUN_0049f7f0();
  FUN_0049f8f0();
  FUN_004a2990();
  FUN_0049ea00();
  if (((DAT_005d66e0 != 0) && ((*(uint *)(*(int *)(DAT_005e45e8 + 4) + 0x8a) & 0x40400) != 0)) &&
     (DAT_005aaaac == 0)) {
    FUN_0049f750(1);
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a2710(undefined4 param_1,undefined4 *param_2,float *param_3)

{
  int iVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  float10 extraout_ST1;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(DAT_005e5010 + 0x2538);
  iVar2 = *(int *)(DAT_005e5010 + 0x253c);
  puVar8 = &DAT_005a4c00;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar8 = *param_2;
    param_2 = param_2 + 1;
    puVar8 = puVar8 + 1;
  }
  FUN_0045ecb0(&DAT_005a4c00,&DAT_005a4c00,DAT_005e45e4 + 0x278);
  FUN_0045ecb0(&DAT_005a4c00,&DAT_005a4c00,&DAT_004d1b60);
  fVar3 = DAT_005a4c38;
  *param_3 = DAT_005a4c38;
  if ((fVar3 <= 269.0) && (0.0 <= fVar3)) {
    fVar3 = (float)(iVar2 >> 1) * (1.0 - _DAT_005a4c34 * (1.0 / _DAT_005a4c3c));
    iVar7 = __ftol();
    iVar4 = __ftol();
    iVar5 = __ftol();
    iVar6 = __ftol();
    if (((((extraout_ST1 <= (float10)0.0) || ((float10)iVar1 <= extraout_ST1)) || (fVar3 <= 0.0)) ||
        ((float)iVar2 <= fVar3)) &&
       ((((((float)iVar7 <= 0.0 || (iVar1 <= iVar7)) || (((float)iVar4 <= 0.0 || (iVar2 <= iVar4))))
         && ((((float)iVar5 <= 0.0 || (iVar1 <= iVar5)) ||
             (((float)iVar4 <= 0.0 || (iVar2 <= iVar4)))))) &&
        (((((float)iVar7 <= 0.0 || (iVar1 <= iVar7)) || ((float)iVar6 <= 0.0)) || (iVar2 <= iVar6)))
        ))) {
      if (((0.0 < (float)iVar5) && (iVar5 < iVar1)) && ((0.0 < (float)iVar6 && (iVar6 < iVar2)))) {
        return 1;
      }
      return 0;
    }
    return 1;
  }
  return 0;
}



undefined4 FUN_004a2990(void)

{
  return 1;
}



undefined4 FUN_004a29a0(void)

{
  FUN_0048f6c0(DAT_005986c8);
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a29c0(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  undefined *puVar6;
  undefined4 *puVar7;
  int iVar8;
  undefined4 *puVar9;
  float10 fVar10;
  undefined4 local_5c [2];
  undefined4 local_54;
  int local_50;
  undefined *local_4c;
  undefined4 uStackY_3c;
  undefined *_Dst;
  undefined *puVar11;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffd4,0,0x14);
  _Dst = &stack0xffffffd4;
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  puVar11 = _Dst;
  _memset(_Dst,0,0x2034);
  puVar7 = &DAT_005b2340;
  iVar1 = 0;
  DAT_005b2740 = _Dst;
  do {
    *puVar7 = 0;
    uVar2 = FUN_0045fe00();
    *(float *)(DAT_005b2740 + iVar1 + 4) = (float)(uVar2 & 0xff);
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1) = (float)(uVar2 & 0x3ff) - 512.0;
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1 + 8) = (float)(uVar2 & 0x3ff) - 512.0;
    uVar2 = FUN_0045fe00();
    uVar3 = FUN_0045fe00();
    uVar4 = FUN_0045fe00();
    puVar7 = puVar7 + 1;
    *(uint *)(DAT_005b2740 + iVar1 + 0x10) =
         ((uVar2 & 0x7f) + 0xff80) * 0x10000 | (uVar3 & 0x7f) + 0x80 |
         ((uVar4 & 0x7f) + 0x80) * 0x100 | 0xff000000;
    iVar1 = iVar1 + 0x20;
  } while ((int)puVar7 < 0x5b2540);
  iVar1 = 10;
  do {
    uVar2 = FUN_0045fe00();
    uVar2 = (uVar2 & 0xffff) % 0x76;
    (&DAT_005b2340)[uVar2] = 1;
    iVar5 = uVar2 * 0x20;
    iVar8 = (uVar2 + 1) * 0x20;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -0.25;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -0.25;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 1] = 1;
    *(float *)(DAT_005b2740 + iVar8) = *(float *)(DAT_005b2740 + iVar8) - -0.5;
    *(float *)(DAT_005b2740 + iVar8 + 8) = *(float *)(DAT_005b2740 + iVar8 + 8) - -0.5;
    iVar5 = (uVar2 + 2) * 0x20;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 2] = 1;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -1.0;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -1.0;
    iVar5 = (uVar2 + 3) * 0x20;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 3] = 1;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -2.0;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -2.0;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  puVar6 = _Dst + 0x2000;
  puVar7 = &DAT_005b2540;
  iVar1 = 0x1000;
  do {
    *puVar7 = 4;
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1 + 4) = (float)(uVar2 & 0x1ff);
    FUN_004af640();
    fVar10 = (float10)FUN_004ae014();
    *(float *)(DAT_005b2740 + iVar1) = (float)(((float10)DAT_005d669c - (float10)1.0) * fVar10);
    fVar10 = (float10)FUN_004ae0c4();
    *(float *)(DAT_005b2740 + iVar1 + 8) = (float)(((float10)DAT_005d669c - (float10)1.0) * fVar10);
    uVar2 = FUN_0045fe00();
    uVar3 = FUN_0045fe00();
    uVar4 = FUN_0045fe00();
    puVar7 = puVar7 + 1;
    *(uint *)(DAT_005b2740 + iVar1 + 0x10) =
         ((uVar2 & 0x7f) + 0xff80) * 0x10000 | (uVar3 & 0x7f) + 0x80 |
         ((uVar4 & 0x7f) + 0x80) * 0x100 | 0xff000000;
    iVar1 = iVar1 + 0x20;
  } while ((int)puVar7 < 0x5b2740);
  _DAT_005b273c = 2;
  *(undefined4 *)(DAT_005b2740 + 0x1fe4) = 0x461c4000;
  *puVar6 = 9;
  _Dst[0x2001] = 0x10;
  *(undefined2 *)(_Dst + 0x2002) = 1;
  *(undefined4 *)(_Dst + 0x2004) = 1;
  *(undefined2 *)(_Dst + 0x2008) = 0;
  *(undefined2 *)(_Dst + 0x200a) = 0;
  *(undefined4 *)(_Dst + 0x200c) = 0x100;
  *(undefined4 *)(_Dst + 0x2010) = 0;
  _Dst[0x2014] = 8;
  _Dst[0x2015] = 8;
  *(undefined2 *)(_Dst + 0x2016) = 1;
  *(undefined4 *)(_Dst + 0x2018) = 1;
  *(undefined4 *)(_Dst + 0x201c) = 0;
  local_4c = _Dst + 0x2020;
  if (((uint)local_4c & 7) == 0) {
    *local_4c = 3;
    _Dst[0x2021] = 8;
    *(undefined2 *)(_Dst + 0x2022) = 0;
    local_4c = _Dst + 0x2024;
  }
  *local_4c = 1;
  local_4c[1] = 4;
  *(undefined2 *)(local_4c + 2) = 1;
  *(undefined2 *)(local_4c + 4) = 0x100;
  *(undefined2 *)(local_4c + 6) = 0;
  local_4c[8] = 0xb;
  local_4c[9] = 0;
  *(undefined2 *)(local_4c + 10) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x4a2deb;
  _memset(local_5c,0,0x30);
  local_4c = local_4c + (0xc - (int)puVar6);
  local_50 = (int)puVar6 - (int)puVar11;
  local_5c[0] = 0x30;
  local_54 = 0x100;
  (**(code **)(iRam00000000 + 0x18))();
  puVar7 = &DAT_004d1ae0;
  puVar9 = &DAT_005b2748;
  _DAT_005b2744 = 0;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar9 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar9 = puVar9 + 1;
  }
  _DAT_005b278c = 0;
  _DAT_005b2788 = &DAT_005b2748;
  _DAT_005b279a = 0;
  _DAT_005b2790 = 0xffff;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a2e60(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  undefined *puVar6;
  undefined4 *puVar7;
  int iVar8;
  undefined4 *puVar9;
  float10 fVar10;
  undefined4 local_5c [2];
  undefined4 local_54;
  int local_50;
  undefined *local_4c;
  undefined4 uStackY_3c;
  undefined *_Dst;
  undefined *puVar11;
  
  AdjustStackForLargeAllocations();
  _memset(&stack0xffffffd4,0,0x14);
  _Dst = &stack0xffffffd4;
  iVar1 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
  if (iVar1 != 0) {
    return 0;
  }
  iVar1 = (**(code **)(iRam00000000 + 0x10))();
  if (iVar1 != 0) {
    return 0;
  }
  puVar11 = _Dst;
  _memset(_Dst,0,0x2034);
  puVar7 = &DAT_005b2340;
  iVar1 = 0;
  DAT_005b2740 = _Dst;
  do {
    *puVar7 = 0;
    uVar2 = FUN_0045fe00();
    *(float *)(DAT_005b2740 + iVar1 + 4) = (float)(uVar2 & 0xff);
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1) = (float)(uVar2 & 0x3ff) - 512.0;
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1 + 8) = (float)(uVar2 & 0x3ff) - 512.0;
    uVar2 = FUN_0045fe00();
    uVar3 = FUN_0045fe00();
    uVar4 = FUN_0045fe00();
    puVar7 = puVar7 + 1;
    *(uint *)(DAT_005b2740 + iVar1 + 0x10) =
         ((uVar2 & 0x7f) + 0xff80) * 0x10000 | (uVar3 & 0x7f) + 0x80 |
         ((uVar4 & 0x7f) + 0x80) * 0x100 | 0xff000000;
    iVar1 = iVar1 + 0x20;
  } while ((int)puVar7 < 0x5b2540);
  iVar1 = 10;
  do {
    uVar2 = FUN_0045fe00();
    uVar2 = (uVar2 & 0xffff) % 0x76;
    (&DAT_005b2340)[uVar2] = 1;
    iVar5 = uVar2 * 0x20;
    iVar8 = (uVar2 + 1) * 0x20;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -0.25;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -0.25;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 1] = 1;
    *(float *)(DAT_005b2740 + iVar8) = *(float *)(DAT_005b2740 + iVar8) - -0.5;
    *(float *)(DAT_005b2740 + iVar8 + 8) = *(float *)(DAT_005b2740 + iVar8 + 8) - -0.5;
    iVar5 = (uVar2 + 2) * 0x20;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 2] = 1;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -1.0;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -1.0;
    iVar5 = (uVar2 + 3) * 0x20;
    FUN_004ad7a0();
    (&DAT_005b2340)[uVar2 + 3] = 1;
    *(float *)(DAT_005b2740 + iVar5) = *(float *)(DAT_005b2740 + iVar5) - -2.0;
    *(float *)(DAT_005b2740 + iVar5 + 8) = *(float *)(DAT_005b2740 + iVar5 + 8) - -2.0;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  puVar6 = _Dst + 0x2000;
  puVar7 = &DAT_005b2540;
  iVar1 = 0x1000;
  do {
    *puVar7 = 4;
    uVar2 = FUN_004af640();
    *(float *)(DAT_005b2740 + iVar1 + 4) = (float)(uVar2 & 0x1ff);
    FUN_004af640();
    fVar10 = (float10)FUN_004ae014();
    *(float *)(DAT_005b2740 + iVar1) = (float)(((float10)DAT_005d669c - (float10)1.0) * fVar10);
    fVar10 = (float10)FUN_004ae0c4();
    *(float *)(DAT_005b2740 + iVar1 + 8) = (float)(((float10)DAT_005d669c - (float10)1.0) * fVar10);
    uVar2 = FUN_0045fe00();
    uVar3 = FUN_0045fe00();
    uVar4 = FUN_0045fe00();
    puVar7 = puVar7 + 1;
    *(uint *)(DAT_005b2740 + iVar1 + 0x10) =
         ((uVar2 & 0x7f) + 0xff80) * 0x10000 | (uVar3 & 0x7f) + 0x80 |
         ((uVar4 & 0x7f) + 0x80) * 0x100 | 0xff000000;
    iVar1 = iVar1 + 0x20;
  } while ((int)puVar7 < 0x5b2740);
  *puVar6 = 9;
  _Dst[0x2001] = 0x10;
  *(undefined2 *)(_Dst + 0x2002) = 1;
  *(undefined4 *)(_Dst + 0x2004) = 1;
  *(undefined2 *)(_Dst + 0x2008) = 0;
  *(undefined2 *)(_Dst + 0x200a) = 0;
  *(undefined4 *)(_Dst + 0x200c) = 0x100;
  *(undefined4 *)(_Dst + 0x2010) = 0;
  _Dst[0x2014] = 8;
  _Dst[0x2015] = 8;
  *(undefined2 *)(_Dst + 0x2016) = 1;
  *(undefined4 *)(_Dst + 0x2018) = 1;
  *(undefined4 *)(_Dst + 0x201c) = 0;
  local_4c = _Dst + 0x2020;
  if (((uint)local_4c & 7) == 0) {
    *local_4c = 3;
    _Dst[0x2021] = 8;
    *(undefined2 *)(_Dst + 0x2022) = 0;
    local_4c = _Dst + 0x2024;
  }
  *local_4c = 1;
  local_4c[1] = 4;
  *(undefined2 *)(local_4c + 2) = 1;
  *(undefined2 *)(local_4c + 4) = 0x100;
  *(undefined2 *)(local_4c + 6) = 0;
  local_4c[8] = 0xb;
  local_4c[9] = 0;
  *(undefined2 *)(local_4c + 10) = 0;
  (**(code **)(iRam00000000 + 0x14))();
  uStackY_3c = 0x4a3270;
  _memset(local_5c,0,0x30);
  local_4c = local_4c + (0xc - (int)puVar6);
  local_50 = (int)puVar6 - (int)puVar11;
  local_5c[0] = 0x30;
  local_54 = 0x100;
  (**(code **)(iRam00000000 + 0x18))();
  puVar7 = &DAT_004d1ae0;
  puVar9 = &DAT_005b2748;
  _DAT_005b2744 = 0;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar9 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar9 = puVar9 + 1;
  }
  _DAT_005b278c = 0;
  _DAT_005b2788 = &DAT_005b2748;
  _DAT_005b279a = 0;
  _DAT_005b2790 = 0xffff;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a32f0(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  undefined4 *puVar8;
  float *pfVar9;
  undefined4 *puVar10;
  float *pfVar11;
  float local_94 [4];
  float local_84;
  float local_80;
  float local_78;
  float local_74;
  float local_70;
  float local_68;
  float local_64;
  float local_60;
  float local_58;
  uint local_54;
  undefined4 uStack_50;
  uint local_4c;
  undefined4 uStack_48;
  uint local_44;
  undefined4 uStack_40;
  float local_3c;
  float local_38;
  float local_30;
  undefined4 uStack_20;
  float *local_1c;
  float *local_18;
  float *local_14;
  int *piVar12;
  
  AdjustStackForLargeAllocations();
  _DAT_005b2778 = *(undefined4 *)(*DAT_005e45e8 + 0x36);
  _DAT_005b2780 = *(undefined4 *)(*DAT_005e45e8 + 0x3e);
  if (DAT_0059907c != 0) {
    puVar8 = &DAT_004d1ae0;
    puVar10 = &DAT_005b2748;
    for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
      *puVar10 = *puVar8;
      puVar8 = puVar8 + 1;
      puVar10 = puVar10 + 1;
    }
  }
  local_14 = (float *)0x0;
  piVar12 = &DAT_005b2340;
  do {
    pfVar1 = (float *)(DAT_005b2740 + (int)local_14);
    if (*piVar12 == 1) {
      fVar2 = *pfVar1 - 2.0;
      fVar3 = pfVar1[2] - 2.0;
      *pfVar1 = fVar2;
      pfVar1[2] = fVar3;
      if (fVar2 < -256.0) {
        *pfVar1 = fVar2 - -512.0;
      }
      if (pfVar1[1] < *(float *)(DAT_00598d90 + 0x108) - -30.0) {
        pfVar1[1] = pfVar1[1] - -200.0;
      }
      if (fVar3 < -256.0) {
        pfVar1[2] = fVar3 - -512.0;
      }
    }
    if (*piVar12 == 0) {
      fVar2 = *pfVar1 - 0.1;
      fVar3 = pfVar1[2] - 0.1;
      *pfVar1 = fVar2;
      pfVar1[2] = fVar3;
      if (fVar2 < -256.0) {
        *pfVar1 = fVar2 - -512.0;
      }
      if (pfVar1[1] < *(float *)(DAT_00598d90 + 0x108) - -30.0) {
        pfVar1[1] = pfVar1[1] - -200.0;
      }
      if (fVar3 < -256.0) {
        pfVar1[2] = fVar3 - -512.0;
      }
    }
    iVar6 = *piVar12;
    if (iVar6 == 2) {
      local_18 = local_94;
      local_14 = (float *)(DAT_005e45e4 + 0x278);
      local_1c = local_94;
      pfVar9 = (float *)&DAT_004d1ae0;
      pfVar11 = local_94;
      for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
        *pfVar11 = *pfVar9;
        pfVar9 = pfVar9 + 1;
        pfVar11 = pfVar11 + 1;
      }
      uStack_20 = 0x4a3495;
      FUN_0045ecb0();
      local_18 = local_94;
      local_1c = local_94;
      local_14 = (float *)&DAT_004d1b60;
      uStack_20 = 0x4a34b0;
      FUN_0045ecb0();
      local_18 = *(float **)(DAT_005e5010 + 0x2538);
      local_30 = 1.0 / (local_94[3] * *pfVar1 + local_78 * pfVar1[1] + local_68 * pfVar1[2] +
                       local_58);
      local_1c = (float *)(*(int *)(DAT_005e5010 + 0x253c) >> 1);
      local_3c = (float)((int)local_18 >> 1) *
                 ((local_94[0] * *pfVar1 + local_84 * pfVar1[1] + local_74 * pfVar1[2] + local_64) *
                  local_30 - -1.0);
      local_38 = (float)(int)local_1c *
                 (1.0 - (local_94[1] * *pfVar1 + local_80 * pfVar1[1] + local_70 * pfVar1[2] +
                        local_60) * local_30);
      if ((((0.0 < local_3c) && (0.0 < local_38)) && (local_3c < (float)(int)local_18)) &&
         ((local_38 < (float)*(int *)(DAT_005e5010 + 0x253c) &&
          (0.0 < *(float *)(DAT_005e45e4 + 0x290))))) {
        local_18 = (float *)0x4a35f8;
        local_14 = pfVar1;
        FUN_0049d8d0();
      }
    }
    else {
      if (piVar12 == &DAT_005b2340) {
LAB_004a3650:
        if (iVar6 != 1) goto LAB_004a365d;
      }
      else {
        if (iVar6 == 1) {
          if (piVar12[-1] == 1) {
            uVar5 = *(uint *)(DAT_005b2740 + -0x10 + (int)local_14);
            pfVar1[4] = (float)((uint)CONCAT11((char)((uVar5 & 0xffffff00) - 0x3c00 >> 8),
                                               (char)uVar5 + -0x3c) | (uVar5 & 0xffff0000) - 0xa0000
                               | 0xff000000);
            goto LAB_004a3711;
          }
          goto LAB_004a3650;
        }
LAB_004a365d:
        local_14 = (float *)(((float)_DAT_005a1124 + pfVar1[1] * *pfVar1) * 0.00390625);
        local_18 = (float *)0x4a3679;
        FUN_0045ea60();
      }
      fVar2 = pfVar1[4];
      uStack_40 = 0;
      local_44 = (uint)fVar2 >> 8 & 0xff;
      local_14 = (float *)0x4a36a3;
      bVar4 = __ftol();
      uStack_48 = 0;
      local_4c = (uint)fVar2 >> 0x10 & 0xff;
      uVar7 = (uint)bVar4;
      local_14 = (float *)0x4a36cd;
      uVar5 = __ftol();
      local_54 = (uint)fVar2 & 0xff;
      uStack_50 = 0;
      uVar7 = (uVar7 | (uVar5 & 0xff | 0xffffff00) << 8) << 8;
      local_14 = (float *)0x4a36ff;
      uVar5 = __ftol();
      pfVar1[4] = (float)(uVar7 | uVar5 & 0xff);
    }
LAB_004a3711:
    piVar12 = piVar12 + 1;
    local_14 = local_14 + 8;
    if (0x5b273f < (int)piVar12) {
      local_14 = (float *)&DAT_005b2788;
      local_18 = (float *)0x0;
      local_1c = (float *)0x4a3738;
      FUN_00485990();
      return 1;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a3750(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  undefined local_74 [64];
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  uint local_28;
  undefined4 uStack_24;
  uint local_20;
  undefined4 *puStack_1c;
  undefined4 *local_18;
  undefined4 *puStack_14;
  int *piVar8;
  int iVar9;
  
  AdjustStackForLargeAllocations();
  local_18 = &local_34;
  puStack_14 = (undefined4 *)0xbb03126f;
  puStack_1c = (undefined4 *)local_74;
  _DAT_005b2778 = -*(float *)(DAT_005e45e4 + 0x38);
  _DAT_005b277c = 0xc3960000;
  _DAT_005b2780 = 0x453b8000;
  local_34 = 0;
  local_30 = 0x3f800000;
  local_2c = 0;
  local_20 = 0x4a37ab;
  FUN_0045fa30();
  local_18 = (undefined4 *)local_74;
  puStack_14 = &DAT_005b2748;
  puStack_1c = &DAT_005b2748;
  local_20 = 0x4a37c1;
  MultiplyMatrices();
  iVar9 = 0;
  piVar8 = &DAT_005b2340;
  do {
    pfVar1 = (float *)(DAT_005b2740 + iVar9);
    if (*piVar8 == 1) {
      fVar2 = *pfVar1 - 2.0;
      fVar3 = pfVar1[2] - 2.0;
      *pfVar1 = fVar2;
      pfVar1[2] = fVar3;
      if (fVar2 < -256.0) {
        *pfVar1 = fVar2 - -512.0;
      }
      if (fVar3 < -256.0) {
        pfVar1[2] = fVar3 - -512.0;
      }
    }
    if (*piVar8 == 0) {
      fVar2 = *pfVar1 - 0.1;
      fVar3 = pfVar1[2] - 0.1;
      *pfVar1 = fVar2;
      pfVar1[2] = fVar3;
      if (fVar2 < -256.0) {
        *pfVar1 = fVar2 - -512.0;
      }
      if (fVar3 < -256.0) {
        pfVar1[2] = fVar3 - -512.0;
      }
    }
    if (piVar8 == &DAT_005b2340) {
LAB_004a38e6:
      if (*piVar8 != 1) {
LAB_004a38f3:
        puStack_14 = (undefined4 *)(((float)_DAT_005a1124 + pfVar1[1] * *pfVar1) * 0.00390625);
        local_18 = (undefined4 *)0x4a390f;
        FUN_0045ea60();
      }
      fVar2 = pfVar1[4];
      local_18 = (undefined4 *)((uint)fVar2 >> 8 & 0xff);
      puStack_14 = (undefined4 *)0x4a3935;
      bVar4 = __ftol();
      puStack_1c = (undefined4 *)0x0;
      local_20 = (uint)fVar2 >> 0x10 & 0xff;
      uVar7 = (uint)bVar4;
      puStack_14 = (undefined4 *)0x4a395b;
      uVar5 = __ftol();
      local_28 = (uint)fVar2 & 0xff;
      uStack_24 = 0;
      puStack_14 = (undefined4 *)0x4a398a;
      uVar6 = __ftol();
      pfVar1[4] = (float)((uVar7 | (uVar5 & 0xff | 0xffffff00) << 8) << 8 | uVar6 & 0xff);
    }
    else {
      if (*piVar8 != 1) goto LAB_004a38f3;
      if (piVar8[-1] != 1) goto LAB_004a38e6;
      uVar5 = *(uint *)(DAT_005b2740 + -0x10 + iVar9);
      pfVar1[4] = (float)((uint)CONCAT11((char)((uVar5 & 0xffffff00) - 0x3c00 >> 8),
                                         (char)uVar5 + -0x3c) | (uVar5 & 0xffff0000) - 0xa0000 |
                         0xff000000);
    }
    piVar8 = piVar8 + 1;
    iVar9 = iVar9 + 0x20;
    if (0x5b273f < (int)piVar8) {
      puStack_14 = (undefined4 *)&DAT_005b2788;
      local_18 = (undefined4 *)0x0;
      puStack_1c = (undefined4 *)0x4a39c0;
      FUN_00485990();
      return 1;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a39d0(void)

{
  ushort *puVar1;
  uint *puVar2;
  int iVar3;
  float fVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  float *pfVar9;
  float *pfVar10;
  float10 fVar11;
  float local_60 [11];
  undefined4 uStack_34;
  undefined4 local_30;
  int *local_2c;
  undefined **local_28;
  undefined4 uStack_24;
  undefined *local_20;
  float local_1c;
  uint uStack_18;
  int local_14;
  
  AdjustStackForLargeAllocations();
  DAT_005a4b74 = DAT_005a4b74 - 10 & 0xff;
  local_14 = 0x4a39f7;
  FUN_004988b0();
  local_14 = 0x4a39fc;
  FUN_004a4840();
  local_14 = 0x4a3a01;
  FUN_004754d0();
  if (DAT_005a111c != '\0') {
    DAT_005a111c = '\0';
    local_14 = 0;
    uStack_18 = 4;
    local_1c = (float)(*(int *)(DAT_005e45e8 + 4) + 6);
    local_20 = &DAT_005e4cb8;
    uStack_24 = 0x4a3a35;
    FUN_00475bf0();
  }
  if (DAT_005a1120 != '\0') {
    DAT_005a1120 = '\0';
    local_14 = 0;
    uStack_18 = 4;
    local_1c = (float)(*(int *)(DAT_005e45e8 + 4) + 6);
    local_20 = &DAT_005e4c91;
    uStack_24 = 0x4a3a6c;
    FUN_00475bf0();
  }
  if ((DAT_005d66c8 & 0x40) != 0) {
    piVar5 = &DAT_005aa124;
    do {
      if ((piVar5[-1] != 0) &&
         (((*(int *)(*(int *)(piVar5[-1] + 4) + 0x86) != *piVar5 || (*(char *)(*piVar5 + 4) == '\0')
           ) || (piVar5[1] == 0)))) {
        piVar5[-1] = 0;
      }
      piVar5 = (int *)((int)piVar5 + 0x66);
    } while ((int)piVar5 < 0x5aa454);
  }
  if ((DAT_005d66c8 & 8) != 0) {
    piVar5 = &DAT_005a4caa;
    do {
      if ((*piVar5 != 0) && (piVar5[-2] != 0)) {
        iVar8 = *(int *)(*piVar5 + 4);
        pfVar9 = (float *)(piVar5 + 1);
        pfVar10 = local_60;
        for (iVar6 = 0x10; iVar6 != 0; iVar6 = iVar6 + -1) {
          *pfVar10 = *pfVar9;
          pfVar9 = pfVar9 + 1;
          pfVar10 = pfVar10 + 1;
        }
        *(undefined4 *)(iVar8 + 0x36) = local_30;
        *(undefined ***)(*(int *)(*piVar5 + 4) + 0x3e) = local_28;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xa4) = 0;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xd3) = 0;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xa8) = 0;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xd7) = 0;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xac) = 0;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xdb) = 0;
        if (piVar5[-1] + -10 < piVar5[-2]) {
          *(float *)(*(int *)(*piVar5 + 4) + 0x3a) =
               (float)local_2c - (_DAT_005a4c98 - -1.28) * (float)(piVar5[-1] - piVar5[-2]) * -0.1;
          fVar4 = (float)(piVar5[-1] - piVar5[-2]) * 0.1;
          piVar5[0xb] = (int)fVar4;
          piVar5[6] = (int)fVar4;
          piVar5[1] = (int)fVar4;
        }
        else {
          local_14 = 0x4a3ba0;
          fVar11 = (float10)FUN_0045e9e0();
          *(float *)(*(int *)(*piVar5 + 4) + 0x3a) =
               (float)(((float10)(float)local_2c - fVar11 * (float10)-1.28) + (float10)_DAT_005a4c98
                      );
        }
        if ((*(uint *)(*(int *)(*piVar5 + 4) + 0x8a) & 0x1800000) != 0) {
          piVar5[-2] = 1;
        }
        if (piVar5[-2] == 1) {
LAB_004a3c65:
          piVar5[-2] = 1;
          puVar1 = (ushort *)(*(int *)(*piVar5 + 4) + 0x8e);
          *puVar1 = *puVar1 & 0xff7f;
        }
        else {
          iVar8 = *(int *)(*piVar5 + 4);
          iVar6 = *(int *)(*(int *)(iVar8 + 0x98) + 0x10);
          if (((((iVar6 == 4) || (iVar6 == 5)) ||
               ((iVar6 = *(int *)(*(int *)(iVar8 + 0x86) + 0x13), *(int *)(iVar6 + 0x114) == 6 &&
                (*(char *)(iVar8 + 4) == '\x03')))) ||
              ((*(int *)(iVar6 + 0x7b) == 8 &&
               ((*(char *)(iVar8 + 4) == '\x05' || (*(char *)(iVar8 + 4) == '\x06')))))) ||
             (((*(uint *)(iVar8 + 0x8a) & 0x100000) != 0 ||
              (((*(uint *)(iVar8 + 0x8a) & 0x200000) != 0 && (*(int *)(iVar6 + 0x7f) == 0x1e)))))) {
            if ((1 < piVar5[-2]) && (DAT_005e4a64 != 0)) {
              local_14 = 0;
              uStack_18 = 1;
              local_20 = (undefined *)(DAT_005e4a64 + 0x8fd);
              local_1c = (float)(*(int *)(*piVar5 + 4) + 6);
              uStack_24 = 0x4a3c60;
              FUN_00475bf0();
            }
            goto LAB_004a3c65;
          }
        }
        if ((piVar5[-2] == 1) && (DAT_005e4a64 != 0)) {
          local_14 = *(int *)(*piVar5 + 4) + 6;
          uStack_18 = *(uint *)((uint)*(ushort *)(piVar5 + 0x11) * 0x27 + 0x20 + DAT_005e4a64);
          local_1c = 6.81759e-39;
          FUN_0048b690();
        }
        piVar5[-2] = piVar5[-2] + -1;
      }
      piVar5 = piVar5 + 0x35;
    } while ((int)piVar5 < 0x5a4ffa);
  }
  if ((DAT_005d66c8 & 0x20) != 0) {
    piVar5 = &DAT_005b1d10;
    do {
      if (*piVar5 != 0) {
        iVar8 = *(int *)(*piVar5 + 4);
        if (piVar5[-2] != 1) {
          if (((*(uint *)(iVar8 + 0x8a) & 0x200000) == 0) ||
             (*(int *)(*(int *)(*(int *)(iVar8 + 0x86) + 0x13) + 0x7f) != 0x1e)) goto LAB_004a3d41;
          if ((1 < piVar5[-2]) && (DAT_005e4a64 != 0)) {
            local_14 = 0;
            local_1c = (float)(iVar8 + 6);
            uStack_18 = 1;
            local_20 = (undefined *)(DAT_005e4a64 + 0x8fd);
            uStack_24 = 0x4a3d2f;
            FUN_00475bf0();
          }
          piVar5[-2] = 1;
          iVar8 = *(int *)(*piVar5 + 4);
        }
        *(ushort *)(iVar8 + 0x8e) = *(ushort *)(iVar8 + 0x8e) & 0xfeff;
      }
LAB_004a3d41:
      if (piVar5[-2] != 0) {
        if ((*(uint *)(*(int *)(*piVar5 + 4) + 0x8a) & 0x1800000) == 0) {
          piVar5[-2] = piVar5[-2] + -1;
        }
        else {
          piVar5[-2] = 1;
        }
      }
      piVar5 = (int *)((int)piVar5 + 0x62);
    } while ((int)piVar5 < 0x5b1e98);
  }
  if (((DAT_005d66c8 & 4) != 0) || ((DAT_005d66c8 & 0x2000) != 0)) {
    piVar5 = &DAT_005a9f40;
    do {
      if ((*piVar5 != 0) &&
         (((iVar8 = *(int *)(*piVar5 + 4), *(char *)(*(int *)(iVar8 + 0x86) + 10) != '\0' ||
           ((*(byte *)(iVar8 + 0xc9) & 0x20) == 0)) || ((*(ushort *)(iVar8 + 0x8e) & 0x1000) == 0)))
         ) {
        uVar7 = 0xfeffffff;
        if (piVar5[2] != 0) {
          uVar7 = 0xff7fffff;
        }
        *(uint *)(iVar8 + 0x8a) = *(uint *)(iVar8 + 0x8a) & uVar7;
        *piVar5 = 0;
      }
      piVar5 = (int *)((int)piVar5 + 0x26);
    } while ((int)piVar5 < 0x5aa070);
  }
  if ((DAT_005d66c8 & 0x80) != 0) {
    piVar5 = &DAT_005adfa0;
    do {
      if ((*piVar5 != 0) &&
         (uVar7 = (int)_DAT_005a1124 >> 0x1f,
         ((_DAT_005a1124 ^ uVar7) - uVar7 & 0xf ^ uVar7) - uVar7 == 1)) {
        local_14 = 0x4a3e22;
        FUN_0045e9e0();
        local_14 = 0x4a3e3e;
        FUN_0045e9e0();
        local_14 = 0x4a3e54;
        FUN_0045e9e0();
        local_14 = 3;
        uStack_18 = 0x4a3e6d;
        uStack_18 = FUN_0045fe00();
        uStack_18 = uStack_18 & 0xf;
        local_1c = 6.818233e-39;
        fVar11 = (float10)FUN_0045e9e0();
        local_28 = (undefined **)*piVar5;
        local_2c = &local_14;
        local_1c = (float)((float10)0.1 - fVar11 * (float10)-0.25);
        local_20 = (undefined *)0x1;
        uStack_24 = 0;
        local_30 = 4;
        uStack_34 = 0x4a3e98;
        FUN_0046c9f0();
      }
      piVar5 = (int *)((int)piVar5 + 0x5e);
    } while ((int)piVar5 < 0x5ae176);
  }
  piVar5 = &DAT_005aa784;
  do {
    if (*piVar5 != 0) {
      iVar8 = (piVar5[-1] + 1) % 100;
      piVar5[-1] = iVar8;
      if (iVar8 == 0) {
        local_14 = *piVar5;
        if (local_14 != DAT_005df318[1]) {
          uStack_18 = 0x4a3ee6;
          FUN_004759a0();
          if ((((*(byte *)(*(int *)(*piVar5 + 4) + 0x8a) & 2) != 0) &&
              (iVar8 = *(int *)(*(int *)(*(int *)(*piVar5 + 4) + 0x100) + 0x92), -1 < iVar8)) &&
             (iVar8 < (int)(uint)*(ushort *)(DAT_00598d90 + 0x245))) {
            *(undefined *)(*(int *)(DAT_00598d90 + 0x247) + iVar8 * 6) = 1;
            if ((DAT_00598e18 == 0) &&
               (uVar7 = *(uint *)(*(int *)(*(int *)(*piVar5 + 4) + 0x100) + 0x92),
               *(int *)(DAT_005d87e0 + uVar7 * 4) != 0)) {
              local_14 = 0;
              local_1c = (float)(DAT_005e45e4 + 0x4c);
              local_20 = (undefined *)(DAT_005e45e4 + 0x90);
              uStack_24 = 1;
              local_28 = (undefined **)0x4a3f72;
              uStack_18 = uVar7;
              FUN_004625e0();
              puVar2 = (uint *)(*(int *)(DAT_005df318[1] + 4) + 0x8a);
              *puVar2 = *puVar2 | 0x2000000;
            }
            iVar6 = 1;
            iVar8 = *(int *)(DAT_005df318[1] + 10);
            if (1 < *DAT_005df318) {
              do {
                iVar3 = *(int *)(iVar8 + 4);
                if (((*(uint *)(iVar3 + 0x8a) & 2) != 0) &&
                   (*(int *)(*(int *)(iVar3 + 0x100) + 0x7e) ==
                    *(int *)(*(int *)(*(int *)(*piVar5 + 4) + 0x100) + 0x92))) {
                  *(uint *)(iVar3 + 0x8a) = *(uint *)(iVar3 + 0x8a) | 0x400000;
                  uStack_18 = 0x4a3fde;
                  local_14 = iVar8;
                  FUN_00475860();
                  iVar3 = *(int *)(*(int *)(iVar8 + 4) + 0x100);
                  if ((*(char *)(iVar3 + 0x2a) == '\0') && (*(char *)(iVar3 + 0x36) == '\0')) {
                    *(byte *)(iVar3 + 0x58) = *(byte *)(iVar3 + 0x58) | 2;
                  }
                }
                iVar8 = *(int *)(iVar8 + 10);
                iVar6 = iVar6 + 1;
              } while (iVar6 < *DAT_005df318);
            }
          }
        }
        if (*piVar5 == DAT_005e45e8) {
          DAT_005aaaac = 0;
        }
        puVar1 = (ushort *)(*(int *)(*piVar5 + 4) + 0x8e);
        *puVar1 = *puVar1 & 0xffdf;
        *piVar5 = 0;
      }
      else {
        if (iVar8 == 0x5c) {
          uStack_18 = 0;
          local_1c = 5.0;
          local_20 = (undefined *)0x1;
          uStack_24 = 4;
          local_14 = *(int *)(*(int *)(*piVar5 + 4) + 0x36);
          local_28 = &local_20;
          local_2c = &local_14;
          local_30 = 2;
          uStack_34 = 0x4a407d;
          FUN_0046cb20();
        }
        if (*piVar5 == DAT_005e45e8) {
          DAT_005aaaac = 1;
        }
        *(int *)(*(int *)(*piVar5 + 4) + 0x36) = piVar5[0xd];
        *(int *)(*(int *)(*piVar5 + 4) + 0x3e) = piVar5[0xf];
        if (piVar5[-1] < 0x15) {
          local_14 = 0x4a40b7;
          fVar11 = (float10)FUN_0045e9e0();
          *(float *)(*(int *)(*piVar5 + 4) + 0x3a) =
               (float)((float10)(float)piVar5[0x11] - fVar11 * (float10)-0.25);
        }
        else {
          fVar4 = (float)(piVar5[-1] + -0x14 >> 1);
          *(float *)(*(int *)(*piVar5 + 4) + 0x3a) = (float)piVar5[0x11] + fVar4 * fVar4 * 0.333;
        }
      }
    }
    piVar5 = (int *)((int)piVar5 + 0x62);
  } while ((int)piVar5 < 0x5aaa94);
  piVar5 = &DAT_005aa464;
  do {
    if (*piVar5 != 0) {
      iVar8 = (piVar5[-1] + 1) % 0x1e;
      piVar5[-1] = iVar8;
      if (iVar8 == 0) {
        *(uint *)(*(int *)(*piVar5 + 4) + 0x8a) =
             *(uint *)(*(int *)(*piVar5 + 4) + 0x8a) & 0xfdffffff;
        *piVar5 = 0;
      }
      else if (iVar8 == 0x1d) {
        if (*piVar5 == DAT_005e45e8) {
          DAT_005aaaac = 0;
        }
        puVar1 = (ushort *)(*(int *)(*piVar5 + 4) + 0x8e);
        *puVar1 = *puVar1 & 0xffdf;
        *(undefined4 *)(*(int *)(*piVar5 + 4) + 0xa8) = 0xbe4ccccd;
      }
      else if (iVar8 == 0x1c) {
        *(float *)(*(int *)(*piVar5 + 4) + 0x3a) = (float)piVar5[0x11] - -6.0;
      }
      else {
        *(int *)(*(int *)(*piVar5 + 4) + 0x36) = piVar5[0xd];
        *(int *)(*(int *)(*piVar5 + 4) + 0x3e) = piVar5[0xf];
        *(float *)(*(int *)(*piVar5 + 4) + 0x3a) =
             ((float)(0x1f - piVar5[-1]) * (float)(0x1f - piVar5[-1]) + (float)piVar5[0x11]) - -6.5;
      }
    }
    piVar5 = (int *)((int)piVar5 + 0x62);
  } while ((int)piVar5 < 0x5aa774);
  _DAT_005a1124 = _DAT_005a1124 + 1;
  return 1;
}



undefined4 FUN_004a4200(int *param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  float10 fVar4;
  
  iVar3 = param_1[1];
  iVar1 = *(int *)(*(int *)(iVar3 + 0x98) + 0x10);
  if (((((iVar1 != 4) && (iVar1 != 5)) &&
       ((iVar1 = *(int *)(*(int *)(iVar3 + 0x86) + 0x13), *(int *)(iVar1 + 0x114) != 6 ||
        (*(char *)(iVar3 + 4) != '\x03')))) &&
      ((*(int *)(iVar1 + 0x7b) != 8 ||
       ((*(char *)(iVar3 + 4) != '\x05' && (*(char *)(iVar3 + 4) != '\x06')))))) &&
     (((*(uint *)(iVar3 + 0x8a) & 0x100000) == 0 && ((*(byte *)(param_3 + 0x80) & 0x80) != 0)))) {
    iVar3 = 4;
    do {
      FUN_0045e9e0(*(undefined4 *)(param_3 + 0x6c),*(undefined2 *)(param_3 + 0x7c));
      uVar2 = __ftol();
      fVar4 = (float10)FUN_0045e9e0(uVar2);
      fVar4 = (float10)FUN_0045e9e0((float)((float10)0.05 -
                                           fVar4 * (float10)*(float *)(param_3 + 0x74) *
                                           (float10)-0.1));
      fVar4 = (float10)FUN_0045e9e0((float)((float10)0.05 -
                                           fVar4 * (float10)*(float *)(param_3 + 0x70) *
                                           (float10)-0.1));
      fVar4 = (float10)FUN_0045e9e0((float)((float10)0.05 -
                                           fVar4 * (float10)*(float *)(param_3 + 0x78) *
                                           (float10)-0.1));
      FUN_0046c880(5,1,*param_1 + 6,(float)(fVar4 * (float10)6.28));
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  return 1;
}



undefined4 FUN_004a4320(undefined4 param_1,int **param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int *piVar6;
  undefined4 uVar7;
  int iVar8;
  float10 fVar9;
  
  piVar6 = (int *)param_2;
  if ((*(byte *)(param_3 + 0x80) & 0x80) != 0) {
    iVar8 = 4;
    do {
      FUN_0045e9e0(*(undefined4 *)(param_3 + 0x6c),*(undefined2 *)(param_3 + 0x7c));
      uVar7 = __ftol();
      fVar9 = (float10)FUN_0045e9e0(uVar7);
      fVar9 = (float10)FUN_0045e9e0((float)((float10)0.05 -
                                           fVar9 * (float10)*(float *)(param_3 + 0x74) *
                                           (float10)-0.2));
      fVar9 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                           fVar9 * (float10)*(float *)(param_3 + 0x70) *
                                           (float10)-0.05));
      fVar9 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                           fVar9 * (float10)*(float *)(param_3 + 0x78) *
                                           (float10)-0.05));
      FUN_0046c880(5,1,(int)*param_2 + 6,(float)(fVar9 * (float10)6.28));
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
  }
  param_2 = (int **)&DAT_005aa120;
  do {
    if ((*param_2 != (int *)0x0) && (*param_2 == piVar6)) {
      if ((piVar6 == DAT_005e45e8) && ((int)param_2[2] < 8)) {
        FUN_0046c830(0xb,1,0);
      }
      for (piVar1 = *(int **)(DAT_005df318 + 4); piVar1 != (int *)0x0;
          piVar1 = *(int **)((int)piVar1 + 0x16)) {
        iVar8 = piVar1[1];
        if (((((*(uint *)(iVar8 + 0x8a) & 0x400000) != 0) && (piVar1 != piVar6)) &&
            (((*(uint *)(iVar8 + 0x8a) & 2) == 0 || (*(int *)(*(int *)(iVar8 + 0x100) + 0x32) == 0))
            )) && (iVar2 = piVar6[1], fVar3 = *(float *)(iVar8 + 0x36) - *(float *)(iVar2 + 0x36),
                  fVar4 = *(float *)(iVar8 + 0x3a) - *(float *)(iVar2 + 0x3a),
                  fVar5 = *(float *)(iVar8 + 0x3e) - *(float *)(iVar2 + 0x3e),
                  fVar5 * fVar5 + fVar4 * fVar4 + fVar3 * fVar3 < 4096.0)) {
          if (piVar1 == DAT_005e45e8) {
            FUN_0046c830(0xb,1,0);
          }
          fVar9 = (float10)FUN_0045e9e0();
          *(float *)(piVar1[1] + 0xa8) = (float)(fVar9 - (float10)0.5);
          *(uint *)(piVar1[1] + 0x8a) = *(uint *)(piVar1[1] + 0x8a) & 0xffffffbf;
          *(uint *)(piVar1[1] + 0x8a) = *(uint *)(piVar1[1] + 0x8a) & 0xffffff7f;
          FUN_00443000(piVar6,piVar1);
          FUN_004412c0(piVar1,piVar6,*(undefined4 *)(piVar1[1] + 0x86),
                       CONCAT31((int3)((uint)piVar6[1] >> 8),
                                *(undefined *)(*(int *)(*(int *)(piVar6[1] + 0x86) + 0x13) + 0xa1)))
          ;
        }
      }
    }
    param_2 = (int **)((int)param_2 + 0x66);
  } while ((int)param_2 < 0x5aa450);
  return 1;
}



undefined4 FUN_004a4540(int *param_1,int *param_2,int param_3,undefined2 *param_4)

{
  undefined4 uVar1;
  int iVar2;
  float10 fVar3;
  
  if ((*(byte *)(param_3 + 0x80) & 0x80) != 0) {
    switch(*param_4) {
    case 0x62:
    case 0x68:
    case 0x6c:
    case 0x89:
    case 0x8e:
    case 0xb9:
      *(float *)(param_2[1] + 0x3a) = *(float *)(param_2[1] + 0x3a) - -3.0;
    }
    iVar2 = 4;
    if (param_1 == (int *)0x0) {
      do {
        FUN_0045e9e0(*(undefined4 *)(param_3 + 0x6c),*(undefined2 *)(param_3 + 0x7c));
        uVar1 = __ftol();
        fVar3 = (float10)FUN_0045e9e0(uVar1);
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.1 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x74) *
                                             (float10)-0.5));
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x70) *
                                             (float10)-0.05));
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x78) *
                                             (float10)-0.05));
        FUN_0046c880(5,1,*param_2 + 6,(float)(fVar3 * (float10)6.28));
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
    else {
      do {
        FUN_0045e9e0(*(undefined4 *)(param_3 + 0x6c),*(undefined2 *)(param_3 + 0x7c));
        uVar1 = __ftol();
        fVar3 = (float10)FUN_0045e9e0(uVar1);
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.1 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x74) *
                                             (float10)-0.5));
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x70) *
                                             (float10)-0.05));
        fVar3 = (float10)FUN_0045e9e0((float)((float10)0.01 -
                                             fVar3 * (float10)*(float *)(param_3 + 0x78) *
                                             (float10)-0.05));
        FUN_0046c880(5,1,*param_1 + 6,(float)(fVar3 * (float10)6.28));
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
    switch(*param_4) {
    case 0x62:
    case 0x68:
    case 0x6c:
    case 0x89:
    case 0x8e:
    case 0xb9:
      *(float *)(param_2[1] + 0x3a) = *(float *)(param_2[1] + 0x3a) - 3.0;
    }
    if (param_1 == DAT_005e45e8) {
      FUN_0045e9e0(*(undefined4 *)(param_3 + 0x6c),*(undefined2 *)(param_3 + 0x7c));
      uVar1 = __ftol();
      fVar3 = (float10)FUN_0045e9e0(0,0x3f800000,0x3f800000,uVar1);
      FUN_0046c880(8,1,*param_1 + 6,(float)(fVar3 * (float10)6.28));
    }
  }
  return 1;
}



undefined4 FUN_004a4840(void)

{
  int iVar1;
  float fVar2;
  float *pfVar3;
  float10 fVar4;
  
  pfVar3 = (float *)&DAT_005a5412;
  do {
    iVar1 = *(int *)((int)pfVar3 + -0x52);
    if (iVar1 != 0) {
      if ((pfVar3[-0x13] == 1.401298e-45) && (((iVar1 == 2 || (iVar1 == 5)) || (iVar1 == 1)))) {
        fVar4 = (float10)FUN_004ae014((double)*pfVar3);
        pfVar3[-5] = (float)(fVar4 * (float10)pfVar3[1] + (float10)pfVar3[-5]);
        fVar4 = (float10)FUN_0045e9e0();
        pfVar3[-4] = (float)(((fVar4 + fVar4) - (float10)1.0) * (float10)pfVar3[1] +
                            (float10)pfVar3[-4]);
        fVar4 = (float10)FUN_004ae0c4((double)*pfVar3);
        pfVar3[-3] = (float)(fVar4 * (float10)pfVar3[1] + (float10)pfVar3[-3]);
      }
      if (((int)pfVar3[-0x13] < 0x14) &&
         (((iVar1 = *(int *)((int)pfVar3 + -0x52), iVar1 == 2 || (iVar1 == 5)) || (iVar1 == 1)))) {
        if (pfVar3[1] == 0.0) {
          fVar4 = (float10)FUN_004ae014((double)*pfVar3);
          pfVar3[-5] = (float)((float10)pfVar3[-5] -
                              fVar4 * (float10)*(float *)(&DAT_005a8950 + (int)pfVar3[-0x13] * 4) *
                              (float10)-0.01);
          fVar4 = (float10)FUN_004ae0c4((double)*pfVar3);
          fVar4 = fVar4 * (float10)*(float *)(&DAT_005a8950 + (int)pfVar3[-0x13] * 4) *
                  (float10)-0.01;
        }
        else {
          fVar4 = (float10)FUN_004ae014((double)*pfVar3);
          pfVar3[-5] = (float)((float10)pfVar3[-5] -
                              fVar4 * (float10)*(float *)(&DAT_005a8950 + (int)pfVar3[-0x13] * 4) *
                              (float10)-0.25);
          fVar4 = (float10)FUN_004ae0c4((double)*pfVar3);
          fVar4 = fVar4 * (float10)*(float *)(&DAT_005a8950 + (int)pfVar3[-0x13] * 4) *
                  (float10)-0.25;
        }
        pfVar3[-3] = (float)((float10)pfVar3[-3] - fVar4);
      }
      if (*(int *)((int)pfVar3 + -0x52) == 10) {
        pfVar3[3] = pfVar3[3] * 0.25;
      }
      pfVar3[3] = pfVar3[2];
      fVar4 = (float10)FUN_0045e9e0();
      pfVar3[-5] = (float)((float10)pfVar3[-5] - ((float10)0.0005 - fVar4 * (float10)0.001));
      fVar4 = (float10)FUN_0045e9e0();
      pfVar3[-3] = (float)((float10)pfVar3[-3] - ((float10)0.0005 - fVar4 * (float10)0.001));
      fVar2 = pfVar3[-0x13];
      pfVar3[-0x13] = (float)((int)fVar2 + 1);
      if ((int)pfVar3[-0x12] < (int)fVar2 + 1) {
        *(undefined4 *)((int)pfVar3 + -0x52) = 0;
        pfVar3[8] = 0.0;
        pfVar3[-0x13] = 0.0;
      }
    }
    pfVar3 = pfVar3 + 0x35;
  } while ((int)pfVar3 < 0x5a8912);
  return 1;
}



undefined4 FUN_004a49f0(void)

{
  return 1;
}



void FUN_004a4a00(void)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float local_1c;
  float *local_18;
  float *local_14;
  float local_10;
  
  AdjustStackForLargeAllocations();
  if (DAT_00598944 != 0) {
    pfVar3 = (float *)&DAT_005e21cf;
    do {
      fVar1 = pfVar3[0x17];
      if (fVar1 != 0.0) {
        if (fVar1 == 4.203895e-45) {
          local_1c = pfVar3[-1];
          local_14 = (float *)pfVar3[1];
          local_10 = pfVar3[-1];
          local_18 = (float *)0x4a4a6e;
          iVar2 = FUN_00422ac0();
          if (iVar2 != 0) {
            pfVar3[-1] = (*(float *)(iVar2 + 0x36) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x6f)) +
                         pfVar3[-1];
            *pfVar3 = (*(float *)(iVar2 + 0x3a) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x73)) +
                      *pfVar3;
            pfVar3[1] = (*(float *)(iVar2 + 0x3e) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x77)) +
                        pfVar3[1];
          }
        }
        else if (fVar1 != 5.605194e-45) {
          local_18 = (float *)((int)pfVar3 + -0x3b);
          local_10 = 0.0;
          local_14 = (float *)0x0;
          local_1c = 6.822631e-39;
          FUN_004a4bc0();
        }
      }
      pfVar3 = pfVar3 + 0x38;
    } while ((int)pfVar3 < 0x5e44cf);
    return;
  }
  local_10 = 6.822676e-39;
  FUN_004432f0();
  local_10 = 6.822683e-39;
  FUN_00450dd0();
  pfVar3 = (float *)&DAT_005dfecf;
  do {
    if (pfVar3[0x17] != 0.0) {
      if (*(char *)((int)pfVar3 + -0x4e) != '\0') {
        *(char *)((int)pfVar3 + -0x4e) = *(char *)((int)pfVar3 + -0x4e) + -1;
      }
      iVar2 = *(int *)((int)pfVar3 + -0x4d) + 1;
      *(int *)((int)pfVar3 + -0x4d) = iVar2;
      if (pfVar3[0x17] == 4.203895e-45) {
        local_14 = &local_10;
        local_10 = 1.28;
        local_18 = &local_1c;
        local_1c = 6.822833e-39;
        iVar2 = FUN_00422ac0();
        if (iVar2 != 0) {
          pfVar3[-1] = (*(float *)(iVar2 + 0x36) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x6f)) +
                       pfVar3[-1];
          *pfVar3 = (*(float *)(iVar2 + 0x3a) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x73)) + *pfVar3
          ;
          pfVar3[1] = (*(float *)(iVar2 + 0x3e) - *(float *)(*(int *)(iVar2 + 0x5b) + 0x77)) +
                      pfVar3[1];
        }
      }
      else if (pfVar3[0x17] != 5.605194e-45) {
        local_10 = (float)CONCAT31((int3)((uint)iVar2 >> 8),*(undefined *)((int)pfVar3 + -0x4f));
        local_1c = (float)((int)pfVar3 + -0x3b);
        local_14 = (float *)0x0;
        local_18 = (float *)0x0;
        iVar2 = FUN_004a4bc0();
        if (iVar2 != 0) {
          *(byte *)((int)pfVar3 + -0x4f) = *(byte *)((int)pfVar3 + -0x4f) & 0xfb;
        }
      }
    }
    pfVar3 = pfVar3 + 0x38;
  } while ((int)pfVar3 < 0x5e21cf);
  return;
}



undefined4 FUN_004a4bc0(float param_1,int param_2,int param_3,byte param_4)

{
  float *pfVar1;
  float fVar2;
  int iVar3;
  float10 fVar4;
  float local_50;
  undefined **local_4c;
  float *local_48;
  undefined local_44 [4];
  float local_40;
  float local_38;
  undefined **local_34;
  float *local_30;
  float local_2c;
  float *local_28;
  float local_24;
  undefined *local_20;
  float *local_1c;
  float *local_18;
  float local_14;
  undefined4 uVar5;
  int iVar6;
  
  AdjustStackForLargeAllocations();
  iVar6 = 0;
  uVar5 = 0;
  if (*(int *)((int)param_1 + 0x97) == 4) {
    return 0;
  }
  if (*(int *)((int)param_1 + 0x97) == 0) {
    return 0;
  }
  pfVar1 = (float *)((int)param_1 + 0x87);
  local_38 = *(float *)((int)param_1 + 0x37);
  local_24 = *(float *)((int)param_1 + 0x8f) * 0.9 + *(float *)((int)param_1 + 0x3f);
  local_28 = (float *)(*(float *)((int)param_1 + 0x87) * 0.9 + *(float *)((int)param_1 + 0x37));
  local_34 = *(undefined ***)((int)param_1 + 0x3b);
  local_30 = *(float **)((int)param_1 + 0x3f);
  local_14 = 0.0;
  local_1c = (float *)&stack0xfffffff8;
  local_18 = (float *)0x0;
  local_20 = local_44;
  local_2c = 6.823249e-39;
  fVar4 = (float10)FUN_0041c650();
  if ((float)fVar4 <= (float)local_1c - 1.28) {
    iVar6 = 0;
  }
  else {
    uVar5 = 1;
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    if (param_2 == 0) {
      local_14 = 0.6;
    }
    else {
      local_14 = 0.05;
    }
    local_18 = &local_2c;
    local_1c = (float *)local_44;
    local_20 = (undefined *)0x4a4cfa;
    FUN_0047d970();
    local_1c = (float *)((int)param_1 + 7);
    local_14 = 0.0;
    local_18 = (float *)0x4;
    local_20 = &DAT_005e469c;
    local_24 = 6.823469e-39;
    FUN_00475bf0();
    local_14 = *(float *)((int)param_1 + 0x8b) - (float)local_28;
    local_18 = (float *)0x4a4d23;
    fVar4 = (float10)FUN_0045ec60();
    if (((fVar4 < (float10)0.75) && (0.8 <= local_40)) || (param_2 != 0)) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
    }
    else {
      local_14 = *(float *)((int)param_1 + 0x8b) - (float)local_28;
      local_18 = (float *)0x4a4d69;
      fVar4 = (float10)FUN_0045ec60();
      if ((fVar4 < (float10)0.75) && (local_40 <= 0.8)) {
        if ((0.75 <= *pfVar1) || (*pfVar1 <= 0.0)) {
          if ((-0.75 < *pfVar1) && (*pfVar1 < 0.0)) {
            fVar2 = *pfVar1 - 0.75;
            goto LAB_004a4ddf;
          }
        }
        else {
          fVar2 = *pfVar1 - -0.75;
LAB_004a4ddf:
          *pfVar1 = fVar2;
        }
        *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - -1.0;
        if ((0.75 <= *(float *)((int)param_1 + 0x8f)) || (*(float *)((int)param_1 + 0x8f) <= 0.0)) {
          if ((-0.75 < *(float *)((int)param_1 + 0x8f)) && (*(float *)((int)param_1 + 0x8f) < 0.0))
          {
            *(float *)((int)param_1 + 0x8f) = *(float *)((int)param_1 + 0x8f) - 0.75;
          }
        }
        else {
          *(float *)((int)param_1 + 0x8f) = *(float *)((int)param_1 + 0x8f) - -0.75;
        }
      }
    }
  }
  if (param_2 == 0) {
    local_14 = 0.6;
  }
  else {
    local_14 = 0.05;
  }
  local_18 = (float *)&stack0xfffffff0;
  local_1c = &local_14;
  local_2c = *(float *)((int)param_1 + 0x9f);
  local_20 = local_44;
  local_24 = 0.0;
  local_28 = (float *)0x0;
  local_30 = &local_38;
  local_34 = &local_20;
  local_38 = 6.82404e-39;
  iVar3 = FUN_00422190();
  if (iVar3 != 0) {
    uVar5 = 1;
    if (param_2 == 0) {
      local_14 = 0.6;
    }
    else {
      local_14 = 0.05;
    }
    local_18 = &local_2c;
    local_1c = (float *)local_44;
    local_20 = (undefined *)0x4a4ef4;
    FUN_0047d970();
    *(int *)((int)param_1 + 0x9b) = *(int *)((int)param_1 + 0x9b) + 1;
    if ((*(int *)(iVar3 + 0x9d) != 0) && (*(int *)(*(int *)(iVar3 + 0x9d) + 7) == 3)) {
      iVar6 = 1;
    }
    local_14 = 0.0;
    local_1c = (float *)((int)param_1 + 7);
    local_18 = (float *)0x4;
    local_20 = &DAT_005e469c;
    local_24 = 6.82423e-39;
    FUN_00475bf0();
    local_14 = *(float *)((int)param_1 + 0x8b) - (float)local_28;
    local_18 = (float *)0x4a4f42;
    fVar4 = (float10)FUN_0045ec60();
    if (((float10)0.75 <= fVar4) || (local_40 <= 0.8)) {
      local_14 = *(float *)((int)param_1 + 0x8b) - (float)local_28;
      local_18 = (float *)0x4a4fcc;
      fVar4 = (float10)FUN_0045ec60();
      if ((fVar4 < (float10)0.75) && (local_40 <= 0.8)) {
        if ((0.5 <= *pfVar1) || (*pfVar1 <= 0.0)) {
          if ((-0.5 < *pfVar1) && (*pfVar1 < 0.0)) {
            fVar2 = *pfVar1 - 0.5;
            goto LAB_004a5042;
          }
        }
        else {
          fVar2 = *pfVar1 - -0.5;
LAB_004a5042:
          *pfVar1 = fVar2;
        }
        *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - -0.5;
        if ((0.5 <= *(float *)((int)param_1 + 0x8f)) || (*(float *)((int)param_1 + 0x8f) <= 0.0)) {
          if ((*(float *)((int)param_1 + 0x8f) <= -0.5) || (0.0 <= *(float *)((int)param_1 + 0x8f)))
          goto LAB_004a50c2;
          fVar2 = *(float *)((int)param_1 + 0x8f) - 0.5;
        }
        else {
          fVar2 = *(float *)((int)param_1 + 0x8f) - -0.5;
        }
        *(float *)((int)param_1 + 0x8f) = fVar2;
      }
    }
    else if (*(int *)(iVar3 + 0x5b) == 0) {
      *(undefined4 *)((int)param_1 + 0x97) = 4;
    }
    else {
      *(undefined4 *)((int)param_1 + 0x97) = 3;
      *(int *)((int)param_1 + 0xc4) = iVar3;
      local_20 = (undefined *)
                 ((*(float *)(iVar3 + 0x36) - *(float *)(*(int *)(iVar3 + 0x5b) + 0x6f)) +
                 (float)local_20);
      local_1c = (float *)((*(float *)(iVar3 + 0x3a) - *(float *)(*(int *)(iVar3 + 0x5b) + 0x73)) +
                          (float)local_1c);
      local_18 = (float *)((*(float *)(iVar3 + 0x3e) - *(float *)(*(int *)(iVar3 + 0x5b) + 0x77)) +
                          (float)local_18);
    }
  }
LAB_004a50c2:
  *(undefined **)((int)param_1 + 0x37) = local_20;
  *(float **)((int)param_1 + 0x3b) = local_1c;
  *(float **)((int)param_1 + 0x3f) = local_18;
  *pfVar1 = local_2c;
  *(float **)((int)param_1 + 0x8b) = local_28;
  *(float *)((int)param_1 + 0x8f) = local_24;
  if (iVar6 == 0) goto LAB_004a51c0;
  if ((0.5 <= *pfVar1) || (*pfVar1 <= 0.0)) {
    if ((-0.5 < *pfVar1) && (*pfVar1 < 0.0)) {
      fVar2 = *pfVar1 - 0.5;
      goto LAB_004a5140;
    }
  }
  else {
    fVar2 = *pfVar1 - -0.5;
LAB_004a5140:
    *pfVar1 = fVar2;
  }
  *(float *)((int)param_1 + 0x8b) = *(float *)((int)param_1 + 0x8b) - -1.0;
  if ((0.5 <= *(float *)((int)param_1 + 0x8f)) || (*(float *)((int)param_1 + 0x8f) <= 0.0)) {
    if ((*(float *)((int)param_1 + 0x8f) <= -0.5) || (0.0 <= *(float *)((int)param_1 + 0x8f)))
    goto LAB_004a51c0;
    fVar2 = *(float *)((int)param_1 + 0x8f) - 0.5;
  }
  else {
    fVar2 = *(float *)((int)param_1 + 0x8f) - -0.5;
  }
  *(float *)((int)param_1 + 0x8f) = fVar2;
LAB_004a51c0:
  local_50 = local_38;
  local_4c = local_34;
  local_48 = local_30;
  local_14 = 6.825185e-39;
  fVar4 = (float10)FUN_0045e9e0();
  local_50 = (float)((fVar4 - (float10)0.5) + (float10)local_50);
  local_14 = 6.825209e-39;
  fVar4 = (float10)FUN_0045e9e0();
  local_4c = (undefined **)(float)((fVar4 - (float10)0.5) + (float10)(float)local_4c);
  local_14 = 6.825233e-39;
  fVar4 = (float10)FUN_0045e9e0();
  local_14 = 0.0;
  local_18 = (float *)0x0;
  local_48 = (float *)(float)((fVar4 - (float10)0.5) + (float10)(float)local_48);
  local_1c = (float *)0x4a520e;
  fVar4 = (float10)FUN_0045e9e0();
  local_28 = &local_50;
  local_1c = (float *)(float)((float10)0.05 - fVar4 * (float10)-0.1);
  local_20 = (undefined *)0x1;
  local_24 = 5.605194e-45;
  local_2c = 6.825303e-39;
  FUN_0046cc80();
  if (*(float *)(DAT_00598d90 + 0x108) <= *(float *)((int)param_1 + 0x3b)) {
    *(float *)((int)param_1 + 0x37) = local_38;
    *(undefined ***)((int)param_1 + 0x3b) = local_34;
    *(float **)((int)param_1 + 0x3f) = local_30;
    *(undefined4 *)((int)param_1 + 0x8b) = 0;
  }
  if (((((*(int *)((int)param_1 + 0x97) == 4) && (param_2 == 0)) && (DAT_00598944 == 0)) &&
      ((param_3 == 0 && ((param_4 & 8) == 0)))) &&
     (iVar6 = *(int *)((int)param_1 + 0xa3), iVar6 != 0)) {
    local_14 = param_1;
    local_18 = (float *)0xe2;
    local_2c = *(float *)(*(int *)(iVar6 + 4) + 0xbc);
    local_28 = *(float **)(*(int *)(iVar6 + 4) + 0xc0);
    local_1c = &local_2c;
    local_24 = *(float *)(*(int *)(iVar6 + 4) + 0xc4);
    local_20 = (undefined *)0x4a52c2;
    FUN_00451480();
  }
  local_14 = *(float *)((int)param_1 + 0x3f);
  local_18 = *(float **)((int)param_1 + 0x37);
  local_1c = (float *)DAT_00598ff0;
  local_20 = (undefined *)0x4a52d9;
  iVar6 = FUN_0045cbc0();
  if (iVar6 == 0) {
    *(float *)((int)param_1 + 0x37) = local_38;
    *(float **)((int)param_1 + 0x3f) = local_30;
  }
  return uVar5;
}



void FUN_004a5300(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0xc4);
  *(float *)(param_1 + 0x37) =
       (*(float *)(iVar1 + 0x36) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x6f)) +
       *(float *)(param_1 + 0x37);
  *(float *)(param_1 + 0x3b) =
       (*(float *)(iVar1 + 0x3a) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x73)) +
       *(float *)(param_1 + 0x3b);
  *(float *)(param_1 + 0x3f) =
       (*(float *)(iVar1 + 0x3e) - *(float *)(*(int *)(iVar1 + 0x5b) + 0x77)) +
       *(float *)(param_1 + 0x3f);
  return;
}



undefined4
FUN_004a5340(int param_1,float param_2,float param_3,float **param_4,undefined4 *param_5,
            int *param_6,int *param_7)

{
  short sVar1;
  short sVar2;
  double dVar3;
  size_t sVar4;
  void *pvVar5;
  float *pfVar6;
  undefined2 *puVar7;
  short sVar8;
  float10 fVar9;
  int iVar10;
  
  AdjustStackForLargeAllocations();
  sVar4 = param_1 << 8;
  iVar10 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
  pfVar6 = (float *)_memset(pvVar5,iVar10,sVar4);
  *param_4 = pfVar6;
  sVar4 = param_1 << 5;
  iVar10 = 0;
  pvVar5 = (void *)AllocateMemoryWithCallback(sVar4);
  puVar7 = (undefined2 *)_memset(pvVar5,iVar10,sVar4);
  *param_5 = puVar7;
  pfVar6 = *param_4;
  *param_6 = param_1 * 8;
  *param_7 = param_1 * 4;
  *pfVar6 = 0.0;
  pfVar6[1] = 0.0;
  pfVar6[2] = 0.0;
  pfVar6[4] = -NAN;
  pfVar6[5] = -NAN;
  pfVar6[6] = 0.0;
  pfVar6[7] = 0.0;
  pfVar6[0xc] = -NAN;
  pfVar6[0xd] = -NAN;
  pfVar6[8] = 0.0;
  pfVar6[9] = param_2;
  pfVar6[10] = 0.0;
  pfVar6[0xe] = 0.0;
  pfVar6[0xf] = 0.99;
  param_4 = (float **)0x0;
  if (0 < param_1) {
    param_5 = (undefined4 *)param_1;
    do {
      dVar3 = (double)(float)param_4;
      fVar9 = (float10)FUN_004ae014(dVar3);
      pfVar6[0x11] = 0.0;
      pfVar6[0x10] = (float)(fVar9 * (float10)param_3);
      fVar9 = (float10)FUN_004ae0c4(dVar3);
      pfVar6[0x16] = 0.99;
      pfVar6[0x14] = -NAN;
      pfVar6[0x12] = (float)(fVar9 * (float10)param_3);
      pfVar6[0x15] = -NAN;
      pfVar6[0x17] = 0.0;
      fVar9 = (float10)FUN_004ae014(dVar3);
      pfVar6[0x19] = param_2;
      pfVar6[0x18] = (float)(fVar9 * (float10)param_3);
      fVar9 = (float10)FUN_004ae0c4(dVar3);
      pfVar6[0x1c] = -NAN;
      pfVar6[0x1d] = -NAN;
      pfVar6[0x1a] = (float)(fVar9 * (float10)param_3);
      param_4 = (float **)(6.28 / (float)param_1 + (float)param_4);
      pfVar6[0x1e] = 0.99;
      pfVar6[0x1f] = 0.99;
      param_5 = (undefined4 *)((int)param_5 + -1);
      pfVar6 = pfVar6 + 0x10;
    } while (param_5 != (undefined4 *)0x0);
  }
  sVar8 = 0;
  if (0 < param_1) {
    param_3 = (float)param_1;
    do {
      sVar1 = sVar8 + 2;
      *puVar7 = 0;
      puVar7[1] = 1;
      puVar7[2] = sVar1;
      puVar7[3] = 0x700;
      sVar2 = sVar8 + 3;
      sVar8 = sVar8 + 2;
      puVar7[4] = 1;
      puVar7[5] = sVar2;
      puVar7[6] = sVar1;
      puVar7[7] = 0x700;
      puVar7[8] = sVar1;
      puVar7[9] = 1;
      puVar7[10] = 0;
      puVar7[0xb] = 0x700;
      puVar7[0xc] = sVar1;
      puVar7[0xd] = sVar2;
      puVar7[0xe] = 1;
      puVar7[0xf] = 0x700;
      puVar7 = puVar7 + 0x10;
      param_3 = (float)((int)param_3 + -1);
    } while (param_3 != 0.0);
  }
  return 1;
}



undefined4
FUN_004a5540(float param_1,int param_2,undefined4 *param_3,float param_4,float param_5,float param_6
            ,void **param_7,void **param_8,int *param_9,int *param_10)

{
  uint uVar1;
  float fVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  int iVar6;
  void *pvVar7;
  undefined4 *puVar8;
  short *psVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  undefined4 *puVar13;
  float10 fVar14;
  float10 fVar15;
  undefined4 local_24;
  float fStackY_20;
  undefined4 uVar16;
  longlong lVar17;
  float fVar18;
  
  iVar6 = (int)param_3;
  AdjustStackForLargeAllocations();
  if ((((0.0 < param_1) && (0 < param_2)) && (2 < (int)param_3)) &&
     (((0.0 < param_4 && (0.0 < param_5)) && (0.0 < param_6)))) {
    iVar11 = (int)param_3 * (param_2 + 1);
    iVar12 = iVar11 + 2;
    lVar17 = (ulonglong)(uint)(iVar12 * 0x20) << 0x20;
    pvVar7 = (void *)AllocateMemoryWithCallback(iVar12 * 0x20);
    pvVar7 = _memset(pvVar7,(int)lVar17,(size_t)((ulonglong)lVar17 >> 0x20));
    *param_7 = pvVar7;
    uVar1 = iVar11 * 0x10;
    lVar17 = (ulonglong)uVar1 << 0x20;
    pvVar7 = (void *)AllocateMemoryWithCallback(uVar1);
    pvVar7 = _memset(pvVar7,(int)lVar17,(size_t)((ulonglong)lVar17 >> 0x20));
    *param_8 = pvVar7;
    puVar13 = (undefined4 *)*param_7;
    *param_9 = iVar12;
    *param_10 = iVar11 * 2;
    puVar13[1] = param_5 * param_1;
    puVar13[4] = 0x7f0000ff;
    *puVar13 = 0;
    puVar13[2] = 0;
    puVar13[5] = 0;
    puVar13[6] = 0;
    puVar13[7] = 0;
    puVar13[iVar12 * 8 + -8] = 0;
    puVar13[iVar12 * 8 + -7] = -(param_5 * param_1);
    puVar13[iVar12 * 8 + -6] = 0;
    puVar13[iVar12 * 8 + -4] = 0x7f0000ff;
    puVar13[iVar12 * 8 + -3] = 0;
    puVar13[iVar12 * 8 + -2] = 0;
    puVar13[iVar12 * 8 + -1] = 0x40800000;
    fVar2 = (float)(int)param_3;
    param_8 = (void **)0x0;
    if (-1 < param_2) {
      iVar11 = (int)((ulonglong)lVar17 >> 0x20);
      param_3 = puVar13 + 9;
      do {
        fStackY_20 = (float)((ulonglong)(double)(float)param_8 >> 0x20);
        local_24 = SUB84((double)(float)param_8,0);
        FUN_004ae0c4(local_24);
        fVar14 = (float10)FUN_004ae014(local_24);
        param_7 = (void **)0x0;
        if (0 < iVar6) {
          param_10 = (int *)iVar6;
          puVar8 = param_3 + iVar6 * 8;
          puVar13 = param_3;
          do {
            fVar18 = (float)((ulonglong)(double)(float)param_7 >> 0x20);
            FUN_004ae014();
            uVar16 = 0x4a5760;
            fVar15 = (float10)FUN_004ae0c4();
            puVar13[-1] = fVar18 * param_4;
            puVar13[1] = (float)(fVar15 * (float10)(float)(fVar14 * (float10)param_1) *
                                (float10)param_6);
            *puVar13 = uVar16;
            puVar13[3] = 0x7f0000ff;
            puVar13[4] = 0;
            puVar13[6] = fStackY_20 * 4.0;
            fVar18 = (float)param_7 * 0.1592357;
            if (3.13 < (float)param_7) {
              fVar18 = 1.0 - fVar18;
            }
            param_10 = (int *)((int)param_10 + -1);
            puVar13[5] = fVar18 * 4.0;
            param_7 = (void **)(6.28 / fVar2 + (float)param_7);
            puVar13 = puVar13 + 8;
            param_3 = puVar8;
          } while (param_10 != (int *)0x0);
        }
        param_8 = (void **)(3.14 / (float)(param_2 + 2) + (float)param_8);
        iVar11 = iVar11 + -1;
      } while (iVar11 != 0);
    }
    sVar4 = (short)iVar12;
    param_5 = (float)uVar1;
    if (iVar6 < 0x1e) {
      iVar11 = 0;
      if (0 < iVar6) {
        psVar9 = (short *)((int)pvVar7 + 4);
        do {
          psVar9[-2] = 0;
          sVar3 = (short)iVar11;
          psVar9[-1] = sVar3 + 1;
          iVar11 = iVar11 + 1;
          sVar5 = (short)(iVar11 % iVar6);
          *psVar9 = sVar5 + 1;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8) = sVar4 + -1;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8 + 2) = (sVar4 - sVar3) + -2;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8 + 4) = (sVar4 - sVar5) + -2;
          psVar9 = psVar9 + 4;
          param_5 = (float)((int)param_5 + 8);
        } while (iVar11 < iVar6);
      }
    }
    else {
      iVar11 = 0;
      if (0 < iVar6) {
        psVar9 = (short *)((int)pvVar7 + 4);
        do {
          psVar9[-2] = 0;
          sVar3 = (short)iVar11;
          psVar9[-1] = sVar3 + 1;
          iVar11 = iVar11 + 1;
          sVar5 = (short)(iVar11 % iVar6);
          *psVar9 = sVar5 + 1;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8) = sVar4 + -1;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8 + 2) = (sVar4 - sVar3) + -2;
          *(short *)((int)pvVar7 + (int)param_5 + iVar6 * -8 + 4) = (sVar4 - sVar5) + -2;
          psVar9 = psVar9 + 4;
          param_5 = (float)((int)param_5 + 8);
        } while (iVar11 < iVar6);
      }
    }
    param_1 = 1.401298e-45;
    iVar11 = iVar6;
    if (0 < param_2) {
      do {
        if (0 < iVar6) {
          sVar4 = SUB42(param_1,0);
          iVar12 = iVar11 * 8;
          iVar11 = iVar11 + iVar6 * 2;
          iVar10 = 0;
          psVar9 = (short *)((int)pvVar7 + iVar12 + 4);
          do {
            iVar12 = iVar10 + 1;
            psVar9[-2] = sVar4 + (short)iVar10;
            psVar9[-1] = sVar4 + (short)iVar6 + (short)iVar10;
            sVar5 = sVar4 + (short)(iVar12 % iVar6);
            *psVar9 = (short)iVar6 + sVar5;
            psVar9[2] = psVar9[-2];
            psVar9[3] = *psVar9;
            psVar9[4] = sVar5;
            iVar10 = iVar12;
            psVar9 = psVar9 + 8;
          } while (iVar12 < iVar6);
        }
        param_1 = (float)((int)param_1 + iVar6);
        param_2 = param_2 + -1;
      } while (param_2 != 0);
    }
    return 1;
  }
  return 0;
}



undefined4 FUN_004a59d0(undefined2 param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  
  piVar2 = &DAT_005a2000;
  iVar1 = 0;
  do {
    if (*piVar2 == 0) {
      *piVar2 = param_2;
      *(undefined2 *)(piVar2 + 1) = param_1;
      return 1;
    }
    piVar2 = (int *)((int)piVar2 + 0x22);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x40);
  return 0;
}



undefined4 FUN_004a5a00(void)

{
  _memset(&DAT_005a2000,0,0x880);
  return 1;
}



undefined4 FUN_004a5a20(void)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *piVar5;
  float fVar6;
  short sVar7;
  int iVar8;
  float *pfVar9;
  float *pfVar10;
  float fVar11;
  float *pfVar12;
  short sVar13;
  size_t sVar14;
  float *pfVar15;
  short sVar16;
  float *pfVar17;
  float10 fVar18;
  undefined4 local_88 [2];
  float local_80;
  int local_7c;
  undefined *local_78;
  undefined4 local_58;
  undefined4 local_54;
  size_t local_4c;
  float *local_48;
  int local_44;
  float local_40;
  float *local_3c;
  undefined2 uVar19;
  float *pfVar20;
  float *pfVar21;
  float fVar22;
  double dVar23;
  float *local_28;
  undefined4 *local_24;
  int local_20;
  float fVar24;
  int iVar25;
  int iVar26;
  
  AdjustStackForLargeAllocations();
  local_28 = (float *)&DAT_005a2012;
  local_3c = (float *)0x0;
  do {
    iVar26 = *(int *)((int)local_28 + -0x12);
    if (iVar26 == 1) {
      iVar26 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*(ushort *)((int)local_28 + -0xe) * 4
                       );
      if (*(int *)(iVar26 + 0x5b) == 0) {
        fVar11 = *(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79);
        fVar6 = *(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81);
        if (fVar6 < fVar11) {
          fVar6 = fVar11;
        }
        *local_28 = fVar6;
        local_28[1] = *(float *)(iVar26 + 0x79) -
                      (*(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79)) * -0.5;
        local_28[2] = *(float *)(iVar26 + 0x7d);
        fVar11 = *(float *)(iVar26 + 0x81) -
                 (*(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81)) * -0.5;
      }
      else {
        fVar11 = *(float *)(iVar26 + 0x6d) - *(float *)(iVar26 + 0x61);
        fVar6 = *(float *)(iVar26 + 0x75) - *(float *)(iVar26 + 0x69);
        if (fVar6 < fVar11) {
          fVar6 = fVar11;
        }
        *local_28 = fVar6;
        local_28[1] = *(float *)(iVar26 + 0x61) -
                      (*(float *)(iVar26 + 0x6d) - *(float *)(iVar26 + 0x61)) * -0.5;
        local_28[2] = *(float *)(iVar26 + 0x65);
        fVar11 = *(float *)(iVar26 + 0x69) -
                 (*(float *)(iVar26 + 0x75) - *(float *)(iVar26 + 0x69)) * -0.5;
      }
      local_28[3] = fVar11;
      local_20 = __ftol();
      if (local_20 == 0) {
        local_20 = 1;
      }
      iVar8 = __ftol();
      if (iVar8 == 0) {
        iVar8 = 1;
      }
      iVar1 = iVar8 + 1;
      local_44 = local_20 + 1;
      local_40 = (float)(local_44 * iVar1);
      local_28[-1] = local_40;
      sVar14 = (int)local_40 * 0x20 + iVar8 * local_20 * 0x10 + 0x30;
      _memset(&local_58,0,0x14);
      local_58 = 0x14;
      local_54 = 1;
      piVar5 = *(int **)(DAT_005e5010 + 8);
      local_4c = sVar14;
      iVar8 = (**(code **)(*piVar5 + 0x18))();
      if (iVar8 != 0) {
        return 0;
      }
      iVar8 = (**(code **)(iRam00000000 + 0x10))();
      if (iVar8 != 0) {
        return 0;
      }
      pfVar21 = local_48;
      pfVar9 = local_48;
      _memset(local_48,0,sVar14);
      uVar19 = SUB42(pfVar21,0);
      iVar8 = 0;
      pfVar20 = pfVar9;
      pfRamfffffff4 = pfVar9;
      if (*(int *)(iVar26 + 0x5b) == 0) {
        if (0 < local_44) {
          do {
            iVar25 = 0;
            if (0 < iVar1) {
              fVar11 = (float)(int)&local_58;
              fVar6 = fVar11 * 4.0;
              dVar23 = (double)CONCAT44((float)(int)piVar5,(float)iVar8);
              pfVar15 = pfVar9;
              do {
                fVar24 = (float)iVar25;
                fVar22 = SUB84(dVar23,0);
                *pfVar15 = ((*(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79)) * fVar22) /
                           (float)((ulonglong)dVar23 >> 0x20) + *(float *)(iVar26 + 0x79);
                pfVar15[1] = *(float *)(iVar26 + 0x7d);
                fVar2 = *(float *)(iVar26 + 0x8d);
                fVar3 = *(float *)(iVar26 + 0x81);
                dVar23 = (double)(fVar24 / fVar6);
                fVar4 = *(float *)(iVar26 + 0x81);
                pfVar15[6] = fVar22;
                pfVar15[4] = NAN;
                pfVar15[5] = 0.0;
                pfVar15[2] = ((fVar2 - fVar3) * fVar24) / fVar11 + fVar4;
                pfVar21 = (float *)0x4a625a;
                fVar18 = (float10)FUN_004ae014();
                pfVar9 = pfVar15 + 8;
                iVar25 = iVar25 + 1;
                pfVar15[7] = (float)((float10)fVar24 - fVar18 * (float10)-0.02);
                pfVar15 = pfVar9;
              } while (iVar25 < iVar1);
            }
            uVar19 = SUB42(pfVar21,0);
            iVar8 = iVar8 + 1;
          } while (iVar8 < local_44);
        }
      }
      else if (0 < local_44) {
        do {
          iVar25 = 0;
          if (0 < iVar1) {
            fVar11 = (float)(int)&local_58;
            fVar6 = fVar11 * 4.0;
            dVar23 = (double)CONCAT44((float)(int)piVar5,(float)iVar8);
            pfVar15 = pfVar9;
            do {
              fVar24 = (float)iVar25;
              fVar22 = SUB84(dVar23,0);
              *pfVar15 = ((*(float *)(iVar26 + 0x6d) - *(float *)(iVar26 + 0x61)) * fVar22) /
                         (float)((ulonglong)dVar23 >> 0x20) + *(float *)(iVar26 + 0x61);
              pfVar15[1] = *(float *)(iVar26 + 0x65);
              fVar2 = *(float *)(iVar26 + 0x75);
              fVar3 = *(float *)(iVar26 + 0x69);
              dVar23 = (double)(fVar24 / fVar6);
              fVar4 = *(float *)(iVar26 + 0x69);
              pfVar15[6] = fVar22;
              pfVar15[4] = NAN;
              pfVar15[5] = 0.0;
              pfVar15[2] = ((fVar2 - fVar3) * fVar24) / fVar11 + fVar4;
              pfVar21 = (float *)0x4a6185;
              fVar18 = (float10)FUN_004ae014();
              pfVar9 = pfVar15 + 8;
              iVar25 = iVar25 + 1;
              pfVar15[7] = (float)((float10)fVar24 - fVar18 * (float10)-0.02);
              pfVar15 = pfVar9;
            } while (iVar25 < iVar1);
          }
          uVar19 = SUB42(pfVar21,0);
          iVar8 = iVar8 + 1;
        } while (iVar8 < local_44);
      }
      local_24 = &local_58;
      *(undefined *)pfVar9 = 9;
      *(undefined *)((int)pfVar9 + 1) = 0x10;
      *(undefined2 *)((int)pfVar9 + 2) = 1;
      pfVar9[1] = 1.401298e-45;
      *(undefined2 *)(pfVar9 + 2) = 0;
      *(undefined2 *)((int)pfVar9 + 10) = 0;
      pfVar9[3] = local_40;
      pfVar9[4] = 0.0;
      *(undefined *)(pfVar9 + 5) = 8;
      *(undefined *)((int)pfVar9 + 0x15) = 8;
      *(undefined2 *)((int)pfVar9 + 0x16) = 1;
      pfVar9[6] = 1.401298e-45;
      pfVar9[7] = DAT_005b2148;
      pfVar21 = pfVar9 + 8;
      if (((uint)pfVar21 & 7) == 0) {
        *(undefined *)pfVar21 = 3;
        *(undefined *)((int)pfVar9 + 0x21) = 8;
        *(undefined2 *)((int)pfVar9 + 0x22) = 0;
        pfVar21 = pfVar9 + 9;
      }
      *(undefined *)pfVar21 = 3;
      *(undefined *)((int)pfVar21 + 1) = 8;
      *(undefined2 *)((int)pfVar21 + 2) = uVar19;
      pfVar21 = pfVar21 + 1;
      iVar26 = 0;
      if (0 < (int)piVar5) {
        do {
          iVar8 = 0;
          if (0 < (int)local_24) {
            sVar7 = (short)&local_58 + 1;
            do {
              sVar16 = (short)iVar8 + (short)iVar26 * sVar7;
              sVar13 = (short)iVar8 + ((short)iVar26 + 1) * sVar7;
              *(short *)(pfVar21 + 1) = sVar16;
              sVar16 = sVar16 + 1;
              *(short *)((int)pfVar21 + 2) = sVar13;
              *(short *)pfVar21 = sVar16;
              *(undefined2 *)((int)pfVar21 + 6) = 0x700;
              *(short *)(pfVar21 + 3) = sVar13;
              *(short *)((int)pfVar21 + 10) = sVar13 + 1;
              *(short *)(pfVar21 + 2) = sVar16;
              *(undefined2 *)((int)pfVar21 + 0xe) = 0x700;
              pfVar21 = pfVar21 + 4;
              iVar8 = iVar8 + 1;
            } while (iVar8 < (int)local_24);
          }
          iVar26 = iVar26 + 1;
        } while (iVar26 < (int)piVar5);
      }
      *(undefined *)pfVar21 = 0xb;
      *(undefined *)((int)pfVar21 + 1) = 0;
      *(undefined2 *)((int)pfVar21 + 2) = 0;
      (**(code **)(iRam00000000 + 0x14))();
      local_3c = (float *)0x4a638c;
      _memset(local_88,0,0x30);
      local_80 = local_40;
      local_7c = (int)pfVar9 - (int)pfVar20;
      local_78 = (undefined *)((int)pfVar21 + (4 - (int)pfVar9));
      local_88[0] = 0x30;
      (**(code **)(iRam00000000 + 0x18))();
LAB_004a63c7:
      uRamfffffff8 = 0;
      local_28 = (float *)0x0;
    }
    else {
      if (iVar26 == 2) {
        iVar26 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                         (uint)*(ushort *)((int)local_28 + -0xe) * 4);
        fVar11 = *(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79);
        fVar6 = *(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81);
        local_28[1] = *(float *)(iVar26 + 0x79) - fVar11 * -0.5;
        local_28[2] = *(float *)(iVar26 + 0x7d);
        local_28[3] = *(float *)(iVar26 + 0x81) -
                      (*(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81)) * -0.5;
        if (fVar11 <= fVar6) {
          fVar11 = fVar6;
        }
        *local_28 = fVar11;
        local_28[-1] = 5.605194e-45;
        _memset(&local_58,0,0x14);
        local_58 = 0x14;
        local_54 = 1;
        local_4c = 0xc0;
        iVar8 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
        if (iVar8 != 0) {
          return 0;
        }
        iVar8 = (**(code **)(iRam00000000 + 0x10))();
        pfVar21 = local_48;
        if (iVar8 != 0) {
          return 0;
        }
        _memset(local_48,0,0xc0);
        local_28[-3] = (float)pfVar21;
        *pfVar21 = *(float *)(iVar26 + 0x79);
        pfVar21[1] = *(float *)(iVar26 + 0x7d);
        pfVar21[2] = *(float *)(iVar26 + 0x81);
        pfVar21[4] = NAN;
        pfVar21[5] = 0.0;
        pfVar21[6] = 0.0;
        pfVar21[7] = 0.0;
        pfVar21[8] = *(float *)(iVar26 + 0x79);
        pfVar21[9] = *(float *)(iVar26 + 0x7d);
        pfVar21[10] = *(float *)(iVar26 + 0x8d);
        pfVar21[0xc] = NAN;
        pfVar21[0xd] = 0.0;
        pfVar21[0xe] = 2.0;
        pfVar21[0xf] = 0.0;
        pfVar21[0x10] = *(float *)(iVar26 + 0x85);
        pfVar21[0x11] = *(float *)(iVar26 + 0x7d);
        pfVar21[0x12] = *(float *)(iVar26 + 0x8d);
        pfVar21[0x14] = NAN;
        pfVar21[0x15] = 0.0;
        pfVar21[0x16] = 2.0;
        pfVar21[0x17] = 2.0;
        pfVar21[0x18] = *(float *)(iVar26 + 0x85);
        pfVar21[0x19] = *(float *)(iVar26 + 0x7d);
        pfVar21[0x1a] = *(float *)(iVar26 + 0x81);
        pfVar21[0x1c] = NAN;
        pfVar21[0x1d] = 0.0;
        pfVar21[0x1e] = 0.0;
        pfVar21[0x1f] = 2.0;
        pfVar20 = pfVar21 + 0x20;
        *(undefined *)pfVar20 = 8;
        *(undefined *)((int)pfVar21 + 0x81) = 8;
        *(undefined2 *)((int)pfVar21 + 0x82) = 1;
        pfVar21[0x21] = 1.401298e-45;
        pfVar21[0x22] = DAT_005b2140;
        *(undefined *)(pfVar21 + 0x23) = 9;
        *(undefined *)((int)pfVar21 + 0x8d) = 0x10;
        *(undefined2 *)((int)pfVar21 + 0x8e) = 1;
        pfVar21[0x24] = 1.401298e-45;
        *(undefined2 *)(pfVar21 + 0x25) = 0;
        *(undefined2 *)((int)pfVar21 + 0x96) = 0;
        pfVar21[0x26] = 5.605194e-45;
        pfVar21[0x27] = 0.0;
        pfVar9 = pfVar21 + 0x28;
        if (((uint)pfVar9 & 7) == 0) {
          *(undefined *)pfVar9 = 3;
          *(undefined *)((int)pfVar21 + 0xa1) = 8;
          *(undefined2 *)((int)pfVar21 + 0xa2) = 0;
          pfVar9 = pfVar21 + 0x29;
        }
        *(undefined *)pfVar9 = 3;
        *(undefined *)((int)pfVar9 + 1) = 8;
        *(undefined2 *)((int)pfVar9 + 2) = 2;
        *(undefined2 *)(pfVar9 + 1) = 0;
        *(undefined2 *)((int)pfVar9 + 6) = 1;
        *(undefined2 *)(pfVar9 + 2) = 2;
        *(undefined2 *)(pfVar9 + 3) = 2;
        *(undefined2 *)((int)pfVar9 + 0xe) = 3;
        *(undefined2 *)(pfVar9 + 4) = 0;
        *(undefined *)(pfVar9 + 5) = 0xb;
        *(undefined *)((int)pfVar9 + 0x15) = 0;
        *(undefined2 *)((int)pfVar9 + 0x16) = 0;
        (**(code **)(iRam00000000 + 0x14))();
        local_3c = (float *)0x4a5ef7;
        _memset(local_88,0,0x30);
        local_7c = (int)pfVar20 - (int)pfVar21;
        local_78 = (undefined *)((int)pfVar9 + (0x18 - (int)pfVar20));
        local_88[0] = 0x30;
        local_80 = 5.605194e-45;
        (**(code **)(iRam00000000 + 0x18))();
        goto LAB_004a63c7;
      }
      if (iVar26 == 3) {
        iVar26 = *(int *)(*(int *)(DAT_00598d90 + 0x230) +
                         (uint)*(ushort *)((int)local_28 + -0xe) * 4);
        fVar11 = *(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79);
        fVar6 = *(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81);
        pfVar21 = *(float **)(iVar26 + 0x56);
        if (fVar11 <= fVar6) {
          fVar11 = fVar6;
        }
        *local_28 = fVar11;
        local_28[1] = *(float *)(iVar26 + 0x79) -
                      (*(float *)(iVar26 + 0x85) - *(float *)(iVar26 + 0x79)) * -0.5;
        local_28[2] = *(float *)(iVar26 + 0x7d);
        local_28[3] = *(float *)(iVar26 + 0x81) -
                      (*(float *)(iVar26 + 0x8d) - *(float *)(iVar26 + 0x81)) * -0.5;
        local_40 = *pfVar21;
        fVar11 = pfVar21[2];
        local_28[-1] = local_40;
        local_40 = (float)((int)local_40 * 0x20);
        sVar14 = (int)local_40 + 0x30 + (int)fVar11 * 8;
        _memset(&local_58,0,0x14);
        local_58 = 0x14;
        local_54 = 1;
        local_4c = sVar14;
        iVar8 = (**(code **)(**(int **)(DAT_005e5010 + 8) + 0x18))();
        if (iVar8 != 0) {
          return 0;
        }
        iVar8 = (**(code **)(iRam00000000 + 0x10))();
        if (iVar8 != 0) {
          return 0;
        }
        pfVar20 = local_48;
        _memset(local_48,0,sVar14);
        pfVar15 = pfVar20;
        fVar11 = local_40;
        FUN_004ad7a0();
        *(ushort *)(iVar26 + 0xa1) = *(ushort *)(iVar26 + 0xa1) & 0xfffb;
        local_28[-3] = (float)pfVar15;
        pfVar9 = pfVar15;
        if (0 < (int)fVar11) {
          do {
            pfVar9[4] = NAN;
            pfVar9 = pfVar9 + 8;
            fVar11 = (float)((int)fVar11 + -1);
          } while (fVar11 != 0.0);
        }
        *(undefined *)pfVar9 = 9;
        *(undefined *)((int)pfVar9 + 1) = 0x10;
        *(undefined2 *)((int)pfVar9 + 2) = 1;
        pfVar9[1] = 1.401298e-45;
        *(undefined2 *)(pfVar9 + 2) = 0;
        *(undefined2 *)((int)pfVar9 + 10) = 0;
        pfVar9[3] = *pfVar21;
        pfVar9[4] = 0.0;
        *(undefined *)(pfVar9 + 5) = 8;
        *(undefined *)((int)pfVar9 + 0x15) = 8;
        *(undefined2 *)((int)pfVar9 + 0x16) = 1;
        pfVar9[6] = 1.401298e-45;
        pfVar9[7] = DAT_005b2144;
        pfVar10 = pfVar9 + 8;
        if (((uint)pfVar10 & 7) == 0) {
          *(undefined *)pfVar10 = 3;
          *(undefined *)((int)pfVar9 + 0x21) = 8;
          *(undefined2 *)((int)pfVar9 + 0x22) = 0;
          pfVar10 = pfVar9 + 9;
        }
        *(undefined *)pfVar10 = 3;
        *(undefined *)((int)pfVar10 + 1) = 8;
        *(short *)((int)pfVar10 + 2) = (short)pfVar20;
        pfVar10 = pfVar10 + 1;
        local_3c = (float *)0x0;
        if (0 < (int)pfVar20) {
          iVar26 = 0;
          pfVar12 = pfVar20;
          pfVar17 = pfVar10;
          do {
            pfVar10 = pfVar17 + 2;
            *(undefined2 *)pfVar17 = *(undefined2 *)(iVar26 + (int)pfVar21[3]);
            pfVar12 = (float *)((int)pfVar12 + -1);
            *(undefined2 *)((int)pfVar17 + 2) = *(undefined2 *)(iVar26 + 2 + (int)pfVar21[3]);
            uVar19 = *(undefined2 *)(iVar26 + 4 + (int)pfVar21[3]);
            *(undefined2 *)((int)pfVar17 + 6) = 0x700;
            *(undefined2 *)(pfVar17 + 1) = uVar19;
            iVar26 = iVar26 + 0xc;
            pfVar17 = pfVar10;
            local_3c = pfVar20;
          } while (pfVar12 != (float *)0x0);
        }
        *(undefined *)pfVar10 = 0xb;
        *(undefined *)((int)pfVar10 + 1) = 0;
        *(undefined2 *)((int)pfVar10 + 2) = 0;
        fVar11 = 0.0;
        (**(code **)(iRam00000000 + 0x14))();
        local_3c = (float *)0x4a5c6b;
        _memset(local_88,0,0x30);
        local_80 = fVar11;
        local_7c = (int)pfVar9 - (int)pfVar15;
        local_78 = (undefined *)((int)pfVar10 + (4 - (int)pfVar9));
        local_88[0] = 0x30;
        (**(code **)(iRam00000000 + 0x18))();
        local_28[-2] = 0.0;
      }
    }
    local_28 = (float *)((int)local_28 + 0x22);
    local_3c = (float *)((int)local_3c + 1);
    if (0x3f < (int)local_3c) {
      return 1;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004a6400(void)

{
  undefined4 *puVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  ushort *puVar7;
  float10 fVar8;
  float local_30;
  int *piStack_2c;
  float *local_28;
  double dStack_24;
  int *piStack_1c;
  undefined4 uStack_18;
  undefined4 *puStack_14;
  float *pfVar9;
  int iVar10;
  int iVar11;
  
  AdjustStackForLargeAllocations();
  piStack_1c = *(int **)(DAT_005e5010 + 8);
  puStack_14 = &DAT_004d1ae0;
  uStack_18 = DAT_005b9ce0;
  dStack_24 = (double)CONCAT44(0x4a642a,dStack_24._0_4_);
  (**(code **)(*piStack_1c + 0x40))();
  puVar7 = &DAT_005a2004;
  iVar10 = 0x40;
  do {
    if (*(int *)(puVar7 + -2) != 0) {
      _DAT_004d3698 = *(undefined4 *)(puVar7 + 9);
      _DAT_004d369c = _DAT_004d3698;
      _DAT_004d36a0 = _DAT_004d3698;
      if (*(int *)(puVar7 + -2) == 1) {
        iVar6 = *(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*puVar7 * 4);
        if (*(int *)(iVar6 + 0x5b) == 0) {
          iVar11 = 0;
          iVar6 = 0;
          if (0 < *(int *)(puVar7 + 5)) {
            do {
              iVar2 = _DAT_005a1124;
              pfVar9 = (float *)(iVar6 + *(int *)(puVar7 + 1));
              (&DAT_005a1c00)[iVar11] = *(undefined4 *)(iVar6 + 4 + *(int *)(puVar7 + 1));
              dStack_24 = (double)((pfVar9[2] * *pfVar9 + (float)(iVar2 * 2)) * 0.1);
              local_28 = (float *)0x4a6607;
              fVar8 = (float10)FUN_004ae014();
              *(float *)(iVar6 + 4 + *(int *)(puVar7 + 1)) =
                   (float)((float10)pfVar9[1] - fVar8 * (float10)-0.2);
              fVar3 = (float)_DAT_005a1124;
              pfVar9 = (float *)(iVar6 + *(int *)(puVar7 + 1));
              (&DAT_005a1800)[iVar11] = *(undefined4 *)(iVar6 + 0x18 + *(int *)(puVar7 + 1));
              dStack_24 = (double)((fVar3 + *pfVar9) * 0.1);
              local_28 = (float *)0x4a6647;
              fVar8 = (float10)FUN_004ae014();
              *(float *)(iVar6 + 0x18 + *(int *)(puVar7 + 1)) =
                   (float)((float10)pfVar9[6] - fVar8 * (float10)-0.05);
              dStack_24 = (double)((*(float *)(iVar6 + 8 + *(int *)(puVar7 + 1)) *
                                    *(float *)(iVar6 + *(int *)(puVar7 + 1)) + (float)_DAT_005a1124)
                                  * 0.1);
              local_28 = (float *)0x4a667e;
              FUN_004ae014();
              dStack_24 = (double)CONCAT44(0x4a6692,dStack_24._0_4_);
              uVar5 = __ftol();
              *(uint *)(iVar6 + 0x10 + *(int *)(puVar7 + 1)) =
                   ((uVar5 | 0x7f00) << 8 | uVar5) << 8 | uVar5;
              iVar11 = iVar11 + 1;
              iVar6 = iVar6 + 0x20;
            } while (iVar11 < *(int *)(puVar7 + 5));
          }
        }
        else {
          local_28 = *(float **)(DAT_005e5010 + 8);
          dStack_24 = (double)CONCAT44(iVar6 + 6,DAT_005b9ce0);
          piStack_2c = (int *)0x4a6499;
          (**(code **)((int)*local_28 + 0x40))();
          iVar11 = 0;
          iVar6 = 0;
          if (0 < *(int *)(puVar7 + 5)) {
            do {
              iVar4 = DAT_00598d90;
              iVar2 = *(int *)(puVar7 + 1);
              (&DAT_005a1c00)[iVar11] = *(undefined4 *)(iVar6 + 4 + iVar2);
              local_28 = &local_30;
              dStack_24 = (double)CONCAT44(iVar6 + iVar2,
                                           *(int *)(*(int *)(iVar4 + 0x230) + (uint)*puVar7 * 4) + 6
                                          );
              piStack_2c = (int *)0x4a64db;
              FUN_0045f520();
              iVar2 = *(int *)(puVar7 + 1);
              dStack_24 = (double)((local_30 * (float)local_28 + (float)(_DAT_005a1124 * 2)) * 0.1);
              local_28 = (float *)0x4a6507;
              fVar8 = (float10)FUN_004ae014();
              *(float *)(iVar6 + 4 + *(int *)(puVar7 + 1)) =
                   (float)((float10)*(float *)(iVar6 + 4 + iVar2) - fVar8 * (float10)-0.2);
              fVar3 = (float)_DAT_005a1124;
              pfVar9 = (float *)(iVar6 + 0x18 + *(int *)(puVar7 + 1));
              (&DAT_005a1800)[iVar11] = *(undefined4 *)(iVar6 + 0x18 + *(int *)(puVar7 + 1));
              dStack_24 = (double)((fVar3 + local_30) * 0.1);
              local_28 = (float *)0x4a654d;
              fVar8 = (float10)FUN_004ae014();
              *(float *)(iVar6 + 0x18 + *(int *)(puVar7 + 1)) =
                   (float)((float10)*pfVar9 - fVar8 * (float10)-0.05);
              dStack_24 = (double)((local_30 * (float)local_28 + (float)_DAT_005a1124) * 0.1);
              local_28 = (float *)0x4a657f;
              FUN_004ae014();
              dStack_24 = (double)CONCAT44(0x4a6593,dStack_24._0_4_);
              uVar5 = __ftol();
              iVar11 = iVar11 + 1;
              *(uint *)(iVar6 + 0x10 + *(int *)(puVar7 + 1)) =
                   ((uVar5 | 0x7f00) << 8 | uVar5) << 8 | uVar5;
              iVar6 = iVar6 + 0x20;
            } while (iVar11 < *(int *)(puVar7 + 5));
          }
        }
      }
      piStack_2c = *(int **)(DAT_005e5010 + 8);
      dStack_24 = (double)CONCAT44(1,*(undefined4 *)(DAT_005e5010 + 0xc));
      local_28 = *(float **)(puVar7 + 3);
      local_30 = 6.832717e-39;
      (**(code **)(*piStack_2c + 0x20))();
      if (*(int *)(puVar7 + -2) == 1) {
        if (*(int *)(*(int *)(*(int *)(DAT_00598d90 + 0x230) + (uint)*puVar7 * 4) + 0x5b) != 0) {
          dStack_24 = (double)CONCAT44(&DAT_004d1ae0,DAT_005b9ce0);
          local_28 = *(float **)(DAT_005e5010 + 8);
          piStack_2c = (int *)0x4a6710;
          (**(code **)((int)*local_28 + 0x40))();
        }
        iVar6 = 0;
        if (0 < *(int *)(puVar7 + 5)) {
          iVar11 = 0;
          do {
            puVar1 = &DAT_005a1c00 + iVar6;
            iVar6 = iVar6 + 1;
            *(undefined4 *)(iVar11 + 4 + *(int *)(puVar7 + 1)) = *puVar1;
            *(undefined4 *)(iVar11 + 0x18 + *(int *)(puVar7 + 1)) =
                 *(undefined4 *)(iVar6 * 4 + 0x5a17fc);
            iVar11 = iVar11 + 0x20;
          } while (iVar6 < *(int *)(puVar7 + 5));
        }
      }
    }
    puVar7 = puVar7 + 0x11;
    iVar10 = iVar10 + -1;
  } while (iVar10 != 0);
  return 1;
}



void FUN_004a6760(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  bool bVar6;
  SIZE_T SStackY_1c;
  int *piStackY_18;
  int *piVar7;
  
  AdjustStackForLargeAllocations();
  piStackY_18 = (int *)0x4a677a;
  GlobalMemoryStatus((LPMEMORYSTATUS)&stack0xffffffd0);
  iVar1 = (DAT_005df2e8 != 0) + 2;
  if (**(char **)(param_1 + 8) == '\0') {
    if ((*(char *)(param_1 + 0xf8) != '\0') && (*(int *)(param_1 + 0xf0) != 0)) {
      piStackY_18 = (int *)0x4a67b7;
      FreeMemory();
      *(undefined4 *)(param_1 + 0xf0) = 0;
    }
    piVar3 = *(int **)(param_1 + 0x5b);
    iVar5 = iVar1;
    piVar7 = piVar3;
    if (piVar3 != (int *)0x0) {
      do {
        for (; iVar5 != 0; iVar5 = iVar5 + -1) {
          if (*piVar3 != 0) {
            iVar2 = 0;
            if (0 < piVar3[4]) {
              iVar4 = 0;
              do {
                if (*(int *)(*piVar3 + 0xc + iVar4) != 0) {
                  piStackY_18 = (int *)0x4a6809;
                  FreeMemory();
                }
                *(undefined4 *)(*piVar3 + 0xc + iVar4) = 0;
                if (*(int *)(*piVar3 + 0x10 + iVar4) != 0) {
                  piStackY_18 = (int *)0x4a682b;
                  FreeMemory();
                }
                iVar2 = iVar2 + 1;
                *(undefined4 *)(*piVar3 + 0x10 + iVar4) = 0;
                iVar4 = iVar4 + 0x18;
              } while (iVar2 < piVar3[4]);
            }
            if (*(int *)(*piVar3 + 0xc) != 0) {
              piStackY_18 = (int *)0x4a6852;
              FreeMemory();
            }
            *(undefined4 *)(*piVar3 + 0xc) = 0;
            if (*(int *)(*piVar3 + 0x10) != 0) {
              piStackY_18 = (int *)0x4a686d;
              FreeMemory();
            }
            *(undefined4 *)(*piVar3 + 0x10) = 0;
            if (*piVar3 != 0) {
              piStackY_18 = (int *)0x4a6885;
              FreeMemory();
            }
            *piVar3 = 0;
          }
          piVar3 = piVar3 + 1;
        }
        iVar5 = 0;
        piVar7[3] = 0;
        piVar3 = (int *)((int)piVar7 + 0x135);
        do {
          if (*(char *)(iVar5 + 0x40 + param_1) != '\0') {
            if (*(int *)((int)piVar3 + -0x29) != 0) {
              piStackY_18 = (int *)0x4a68c7;
              FreeMemory();
              *(undefined4 *)((int)piVar3 + -0x29) = 0;
            }
            if (*piVar3 != 0) {
              piStackY_18 = (int *)0x4a68dd;
              FreeMemory();
              *piVar3 = 0;
            }
          }
          iVar5 = iVar5 + 1;
          piVar3 = piVar3 + 1;
        } while (iVar5 < 7);
        iVar5 = 0;
        if (iVar1 != 0) {
          do {
            piStackY_18 = (int *)0x4a690b;
            (**(code **)(**(int **)(*(int *)((int)piVar7 + 0x155) + 0xc6 + iVar5 * 4) + 8))();
            piStackY_18 = *(int **)(*(int *)((int)piVar7 + 0x155) + 0xd6 + iVar5 * 4);
            SStackY_1c = 0x4a6921;
            (**(code **)(*piStackY_18 + 8))();
            iVar5 = iVar5 + 1;
          } while (iVar5 < iVar1);
        }
        if (*(int *)((int)piVar7 + 0x155) != 0) {
          piStackY_18 = (int *)0x4a6939;
          FreeMemory();
          *(undefined4 *)((int)piVar7 + 0x155) = 0;
        }
        piVar3 = (int *)piVar7[0x1d];
        if (piVar7 != (int *)0x0) {
          piStackY_18 = (int *)0x4a695c;
          FreeMemory();
        }
        iVar5 = iVar1;
        piVar7 = piVar3;
      } while (piVar3 != (int *)0x0);
      piStackY_18 = (int *)0x4a6971;
      GlobalMemoryStatus((LPMEMORYSTATUS)&stack0xffffffd0);
      return;
    }
  }
  else {
    iVar5 = *(int *)(param_1 + 0x5b);
    while (iVar5 != 0) {
      iVar2 = 0;
      if (iVar1 != 0) {
        do {
          piStackY_18 = (int *)0x4a6998;
          (**(code **)(**(int **)(*(int *)(iVar5 + 0x155) + 0xc6 + iVar2 * 4) + 8))();
          piStackY_18 = *(int **)(*(int *)(iVar5 + 0x155) + 0xd6 + iVar2 * 4);
          SStackY_1c = 0x4a69ab;
          (**(code **)(*piStackY_18 + 8))();
          iVar2 = iVar2 + 1;
        } while (iVar2 < iVar1);
      }
      if (*(int *)(iVar5 + 0x155) != 0) {
        piStackY_18 = (int *)0x4a69c0;
        FreeMemory();
        *(undefined4 *)(iVar5 + 0x155) = 0;
      }
      iVar2 = *(int *)(iVar5 + 0x74);
      bVar6 = iVar5 != 0;
      iVar5 = iVar2;
      if (bVar6) {
        piStackY_18 = (int *)0x4a69dc;
        FreeMemory();
      }
    }
  }
  piStackY_18 = (int *)0x4a69ed;
  GlobalMemoryStatus((LPMEMORYSTATUS)&stack0xffffffd0);
  return;
}



void FUN_004a6a00(int param_1,byte param_2,int param_3)

{
  short *psVar1;
  short sVar2;
  int iVar3;
  short sVar4;
  int unaff_ESI;
  int unaff_EDI;
  int iVar5;
  
  AdjustStackForLargeAllocations();
  iVar3 = param_1 + -1;
  if (1 < iVar3) {
    do {
      param_1 = 1;
      if (1 < iVar3) {
        do {
          iVar3 = (param_1 << (param_2 & 0x1f)) + unaff_EDI;
          sVar2 = *(short *)(param_3 + iVar3 * 2);
          psVar1 = (short *)(param_3 + iVar3 * 2);
          if (sVar2 != DAT_005a1790) goto LAB_004a6a93;
          if ((psVar1[1] == DAT_005a1790) || (psVar1[-1] == DAT_005a1790)) {
            if (sVar2 == DAT_005a1790) {
              iVar3 = 1 << (param_2 & 0x1f);
              sVar4 = psVar1[-iVar3];
              if ((sVar4 == DAT_005a1790) || (psVar1[iVar3] == DAT_005a1790)) goto LAB_004a6a93;
LAB_004a6b0a:
              *psVar1 = sVar4;
            }
            else {
LAB_004a6a93:
              iVar3 = FUN_004a9af0(sVar2,psVar1[-1]);
              if ((iVar3 != 0) && (iVar3 = FUN_004a9af0(*psVar1,psVar1[1]), iVar3 != 0)) {
                iVar5 = 1 << (param_2 & 0x1f);
                iVar3 = FUN_004a9af0(*psVar1,psVar1[-iVar5]);
                if ((iVar3 != 0) && (iVar3 = FUN_004a9af0(*psVar1,psVar1[iVar5]), iVar3 != 0)) {
                  sVar4 = psVar1[1];
                  goto LAB_004a6b0a;
                }
              }
            }
          }
          else {
            *psVar1 = psVar1[1];
          }
          param_1 = param_1 + 1;
          iVar3 = unaff_ESI;
        } while (param_1 < unaff_ESI);
      }
      unaff_EDI = unaff_EDI + 1;
    } while (unaff_EDI < iVar3);
  }
  return;
}



undefined4 FUN_004a6b40(float param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  iVar1 = *(int *)((int)param_2 + 0x155);
  if ((50.0 <= param_1) || (param_2[2] == 0)) {
    if ((110.0 <= param_1) || (param_2[1] == 0)) {
      if (*param_2 != 0) {
        uVar2 = (uint)(DAT_005df2e8 == 0);
      }
    }
    else {
      uVar2 = 1;
    }
  }
  else {
    uVar2 = (DAT_005df2e8 != 0) + 1;
  }
  if (param_2[0x1c] != uVar2) {
    param_2[0x1c] = uVar2;
    param_2[3] = param_2[uVar2];
    param_2[0xe] = param_2[uVar2 + 0xb];
    param_2[7] = param_2[uVar2 + 4];
    param_2[0x12] = param_2[uVar2 + 0xf];
    *(undefined4 *)(iVar1 + 0xf2) = *(undefined4 *)(iVar1 + 0xe6 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0x102) = *(undefined4 *)(iVar1 + 0xf6 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0x1c) = *(undefined4 *)(iVar1 + 0x10 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0x30) = *(undefined4 *)(iVar1 + 0x24 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0x4c) = *(undefined4 *)(iVar1 + 0x40 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0xd2) = *(undefined4 *)(iVar1 + 0xc6 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0xe2) = *(undefined4 *)(iVar1 + 0xd6 + uVar2 * 4);
    *(undefined4 *)(iVar1 + 0x5c) = *(undefined4 *)(iVar1 + 0x50 + uVar2 * 4);
  }
  return 1;
}



void FUN_004a6c30(void)

{
  __ftol();
  return;
}



undefined4 FUN_004a6c50(int *param_1,int param_2,int param_3,int param_4)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *(uint *)(*param_1 + 0x8a);
  if ((uVar1 & 0x200) == 0) {
    if ((uVar1 & 0x2000000) != 0) {
      uVar1 = DAT_005a1104;
      if ((DAT_005a1104 & 0x80) == 0) {
        uVar1 = -DAT_005a1104;
      }
      if (param_2 != 0) {
        uVar2 = uVar1 << 0x1d | 0xffffff;
        *(uint *)(param_2 + 0x70) = uVar2;
        *(uint *)(param_2 + 0x50) = uVar2;
        *(uint *)(param_2 + 0x30) = uVar2;
        *(uint *)(param_2 + 0x10) = uVar2;
      }
      if (param_3 == 0) {
        return 1;
      }
      uVar1 = uVar1 << 0x1d | 0xffffff;
      goto LAB_004a6cf5;
    }
    if ((*(byte *)(*param_1 + 0x8f) & 4) == 0) {
      if (param_2 != 0) {
        *(undefined4 *)(param_2 + 0x70) = 0xffffffff;
        *(undefined4 *)(param_2 + 0x50) = 0xffffffff;
        *(undefined4 *)(param_2 + 0x30) = 0xffffffff;
        *(undefined4 *)(param_2 + 0x10) = 0xffffffff;
      }
      if (param_3 != 0) {
        *(undefined4 *)(param_3 + 0x70) = 0xffffffff;
        *(undefined4 *)(param_3 + 0x50) = 0xffffffff;
        *(undefined4 *)(param_3 + 0x30) = 0xffffffff;
        *(undefined4 *)(param_3 + 0x10) = 0xffffffff;
      }
      return 0;
    }
    if (param_4 == 0) {
      return 1;
    }
    if ((uVar1 & 1) == 0) {
      return 1;
    }
    if (param_2 != 0) {
      *(undefined4 *)(param_2 + 0x70) = 0x80ffffff;
      *(undefined4 *)(param_2 + 0x50) = 0x80ffffff;
      *(undefined4 *)(param_2 + 0x30) = 0x80ffffff;
      *(undefined4 *)(param_2 + 0x10) = 0x80ffffff;
    }
  }
  else if (param_2 != 0) {
    *(undefined4 *)(param_2 + 0x70) = 0x80ffffff;
    *(undefined4 *)(param_2 + 0x50) = 0x80ffffff;
    *(undefined4 *)(param_2 + 0x30) = 0x80ffffff;
    *(undefined4 *)(param_2 + 0x10) = 0x80ffffff;
  }
  uVar1 = 0x80ffffff;
  if (param_3 == 0) {
    return 1;
  }
LAB_004a6cf5:
  *(uint *)(param_3 + 0x70) = uVar1;
  *(uint *)(param_3 + 0x50) = uVar1;
  *(uint *)(param_3 + 0x30) = uVar1;
  *(uint *)(param_3 + 0x10) = uVar1;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004a6d40(void)

{
  int iVar1;
  uint uVar2;
  undefined4 *puVar3;
  float *pfVar4;
  int *piVar5;
  undefined4 *puVar6;
  float *pfVar7;
  int *piVar8;
  float10 fVar9;
  uint local_3d4;
  uint local_3d0;
  int local_3bc [4];
  int local_3ac;
  undefined4 local_3a8;
  undefined4 local_3a4;
  undefined4 local_3a0;
  undefined4 local_39c;
  undefined4 local_398;
  int local_394;
  undefined4 local_390;
  undefined4 local_38c;
  undefined4 local_388;
  int local_384;
  undefined4 local_380;
  undefined4 local_37c;
  undefined4 local_378;
  undefined4 local_374;
  undefined4 local_370;
  undefined4 local_36c;
  undefined4 local_368;
  undefined4 local_364;
  undefined4 local_360;
  undefined4 local_35c;
  undefined4 local_358;
  undefined4 local_354;
  undefined4 local_350;
  int *local_34c;
  int local_348;
  int local_344 [4];
  int local_334;
  undefined4 local_330;
  undefined4 local_32c;
  undefined4 local_328;
  undefined4 local_324;
  undefined4 local_320;
  int local_31c;
  undefined4 local_318;
  undefined4 local_314;
  undefined4 local_310;
  int local_30c;
  undefined4 local_308;
  undefined4 local_304;
  undefined4 local_300;
  undefined4 local_2fc;
  undefined4 local_2f8;
  undefined4 local_2f4;
  undefined4 local_2f0;
  undefined4 local_2ec;
  undefined4 local_2e8;
  undefined4 local_2e4;
  undefined4 local_2e0;
  undefined4 local_2dc;
  int local_2d8;
  float local_2d4 [8];
  undefined4 local_2b4;
  float local_2b0;
  undefined4 local_2ac;
  undefined4 local_2a4;
  undefined4 local_2a0;
  float local_29c;
  undefined4 local_298;
  int local_294 [4];
  int local_284;
  undefined4 local_280;
  undefined4 local_27c;
  undefined4 local_278;
  undefined4 local_274;
  undefined4 local_270;
  int local_26c;
  undefined4 local_268;
  undefined4 local_264;
  undefined4 local_260;
  int local_25c;
  undefined4 local_258;
  undefined4 local_254;
  undefined4 local_250;
  undefined4 local_24c;
  undefined4 local_248;
  undefined4 local_244;
  undefined4 local_240;
  undefined4 local_23c;
  undefined4 local_238;
  undefined4 local_234;
  undefined4 local_230;
  undefined4 local_22c;
  int local_228;
  int *local_224;
  float local_220;
  float local_21c;
  float local_218;
  undefined4 local_214;
  undefined4 local_210;
  undefined4 local_20c;
  undefined4 local_208;
  undefined4 local_204;
  undefined4 local_200;
  undefined4 local_1fc;
  undefined4 local_1f8;
  undefined4 local_1f4;
  undefined4 local_1f0;
  float local_1ec;
  undefined4 local_1e8;
  undefined4 local_1e4;
  int local_1e0;
  float local_1dc;
  float local_1d8;
  undefined4 local_1d4;
  undefined4 local_1cc;
  int local_1c8;
  int local_1c4;
  int local_1c0;
  float local_1bc [16];
  int local_17c;
  int local_178;
  int local_174;
  int local_170;
  int local_16c;
  int local_168;
  int local_164;
  undefined4 local_160;
  undefined4 local_15c;
  float local_158;
  undefined4 local_154;
  uint local_150;
  uint local_14c;
  int local_148;
  float local_144 [4];
  float local_134;
  float local_130;
  undefined local_104 [64];
  undefined4 local_c4 [16];
  int *local_84;
  undefined4 local_80;
  int local_7c;
  int local_78;
  int local_74;
  int local_70;
  float local_6c;
  float local_68;
  undefined4 local_64;
  int local_60 [4];
  int local_50;
  int local_4c;
  int local_48;
  int local_44;
  float local_40;
  ushort local_3c;
  ushort uStack_3a;
  ushort local_38;
  ushort uStack_36;
  ushort local_34;
  ushort uStack_32;
  ushort local_30;
  ushort uStack_2e;
  ushort local_2c;
  ushort uStack_2a;
  ushort local_28;
  ushort uStack_26;
  ushort local_24;
  ushort uStack_22;
  ushort local_20;
  ushort uStack_1e;
  undefined2 local_1c;
  undefined2 uStack_1a;
  float *local_18;
  double local_14;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  if (_DAT_005a1128 != 0) {
    local_224 = *(int **)(DAT_005df318 + 4);
    while (local_224 != (int *)0x0) {
      local_348 = *local_224;
      if (((*(uint *)(local_348 + 0x8a) & 0x20) == 0) || (**(short **)(local_348 + 0x86) == 0)) {
        local_224 = *(int **)((int)local_224 + 0x1a);
      }
      else if (((*(uint *)(local_348 + 0x8a) & 1) == 0) &&
              ((*(uint *)(*local_224 + 0x8a) & 0x200) != 0)) {
        local_224 = *(int **)((int)local_224 + 0x1a);
      }
      else {
        local_16c = *(int *)(*(int *)(local_348 + 0x86) + 0x13);
        local_70 = *(int *)(local_16c + 0x5b);
        local_34c = (int *)(local_348 + 0x94);
        if (*local_34c < 5) {
          *local_34c = 0;
        }
        else {
          *local_34c = *local_34c >> 1;
        }
        while (local_70 != 0) {
          if (local_70 == *(int *)(local_348 + 0x90)) {
            local_70 = *(int *)(local_70 + 0x74);
          }
          else {
            puVar3 = (undefined4 *)
                     (*(int *)(local_70 + 0x10c + (uint)*(byte *)(local_348 + 4) * 4) +
                     (uint)*(byte *)(local_348 + 5) * 0x20);
            puVar6 = (undefined4 *)&local_3c;
            for (iVar1 = 8; iVar1 != 0; iVar1 = iVar1 + -1) {
              *puVar6 = *puVar3;
              puVar3 = puVar3 + 1;
              puVar6 = puVar6 + 1;
            }
            local_220 = *(float *)(DAT_004d77ec + (uint)local_3c * 4);
            local_21c = *(float *)(DAT_004d77ec + (uint)uStack_3a * 4);
            local_218 = *(float *)(DAT_004d77ec + (uint)local_38 * 4);
            local_214 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_36 * 4);
            local_210 = *(undefined4 *)(DAT_004d77ec + (uint)local_34 * 4);
            local_20c = *(undefined4 *)(DAT_004d77ec + (uint)uStack_32 * 4);
            local_208 = *(undefined4 *)(DAT_004d77ec + (uint)local_30 * 4);
            local_204 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_2e * 4);
            local_200 = *(undefined4 *)(DAT_004d77ec + (uint)local_2c * 4);
            local_1fc = *(undefined4 *)(DAT_004d77ec + (uint)uStack_2a * 4);
            local_1f8 = *(undefined4 *)(DAT_004d77ec + (uint)local_28 * 4);
            local_1f4 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_26 * 4);
            local_1f0 = *(undefined4 *)(DAT_004d77ec + (uint)local_24 * 4);
            local_1ec = *(float *)(DAT_004d77ec + (uint)uStack_22 * 4);
            local_1e8 = *(undefined4 *)(DAT_004d77ec + (uint)local_20 * 4);
            local_1e4 = *(undefined4 *)(DAT_004d77ec + (uint)uStack_1e * 4);
            if (((*(int *)(local_16c + 0x114) == 1) ||
                ((*(int *)(local_16c + 0x7b) == 1 &&
                 ((*(char *)(local_348 + 4) == '\x05' || (*(char *)(local_348 + 4) == '\x06'))))))
               && (*(float *)(local_16c + 0x67) != 0.0)) {
              local_1ec = local_1ec - *(float *)(local_16c + 0x67);
            }
            local_40 = local_218 * local_218 + local_21c * local_21c + local_220 * local_220;
            if (0.01 <= local_40) {
              if ((((*(int *)(*(int *)(*local_224 + 0x98) + 0x10) == 4) ||
                   (*(int *)(*(int *)(*local_224 + 0x98) + 0x10) == 5)) ||
                  ((*(int *)(*(int *)(*(int *)(local_224[1] + 0x86) + 0x13) + 0x7b) == 6 &&
                   (*(char *)(*local_224 + 4) == '\x03')))) ||
                 (*(int *)(*(int *)(*local_224 + 0x98) + 0x10) == 8)) {
                puVar3 = (undefined4 *)(local_348 + 6);
                puVar6 = local_c4;
                for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
                  *puVar6 = *puVar3;
                  puVar3 = puVar3 + 1;
                  puVar6 = puVar6 + 1;
                }
                local_14 = (double)CONCAT44(local_348 + 0x46,&local_220);
                local_18 = local_1bc;
                local_1c = 0x7165;
                uStack_1a = 0x4a;
                MultiplyMatrices();
                local_14 = (double)CONCAT44(local_c4,local_1bc);
                local_18 = local_1bc;
                local_1c = 0x7182;
                uStack_1a = 0x4a;
                MultiplyMatrices();
              }
              else {
                local_14 = (double)*(float *)(local_348 + 0x9c);
                local_18 = (float *)0x4a71a1;
                fVar9 = (float10)FUN_004ad3c0();
                if (fVar9 <= (float10)0.05000000074505806) {
                  local_14 = (double)CONCAT44(local_348 + 6,&local_220);
                  local_18 = local_1bc;
                  local_1c = 0x7283;
                  uStack_1a = 0x4a;
                  MultiplyMatrices();
                }
                else {
                  pfVar4 = (float *)&DAT_004d1ae0;
                  pfVar7 = local_144;
                  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
                    *pfVar7 = *pfVar4;
                    pfVar4 = pfVar4 + 1;
                    pfVar7 = pfVar7 + 1;
                  }
                  local_14 = (double)*(float *)(local_348 + 0x9c);
                  local_18 = (float *)0x4a71de;
                  fVar9 = (float10)FUN_004ae0c4();
                  local_6c = (float)fVar9;
                  local_14 = (double)*(float *)(local_348 + 0x9c);
                  local_18 = (float *)0x4a71fb;
                  fVar9 = (float10)FUN_004ae014();
                  local_134 = (float)fVar9;
                  local_144[0] = local_6c;
                  local_144[1] = -local_134;
                  local_130 = local_6c;
                  local_14 = (double)CONCAT44(local_348 + 6,local_144);
                  local_18 = (float *)local_104;
                  local_1c = 0x7244;
                  uStack_1a = 0x4a;
                  local_68 = local_134;
                  MultiplyMatrices();
                  local_14 = (double)CONCAT44(local_104,&local_220);
                  local_18 = local_1bc;
                  local_1c = 0x7261;
                  uStack_1a = 0x4a;
                  MultiplyMatrices();
                }
              }
              local_84 = *(int **)(local_70 + 0x155);
              pfVar4 = local_1bc;
              pfVar7 = (float *)((int)*(int **)(local_70 + 0x155) + 0x86);
              for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
                *pfVar7 = *pfVar4;
                pfVar4 = pfVar4 + 1;
                pfVar7 = pfVar7 + 1;
              }
              pfVar4 = local_1bc;
              pfVar7 = (float *)(local_70 + 200);
              for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
                *pfVar7 = *pfVar4;
                pfVar4 = pfVar4 + 1;
                pfVar7 = pfVar7 + 1;
              }
              local_14 = (double)CONCAT44(DAT_005e45e4 + 0x278,local_1bc);
              local_18 = local_1bc;
              local_1c = 0x72de;
              uStack_1a = 0x4a;
              FUN_0045ecb0();
              local_14 = (double)CONCAT44(&DAT_004d1b60,local_1bc);
              local_18 = local_2d4;
              local_1c = 0x72f9;
              uStack_1a = 0x4a;
              FUN_0045ecb0();
              if ((0.0 <= local_29c) || (*(int *)(local_16c + 0x5f) == local_70)) {
                local_160 = local_2a4;
                local_15c = local_2a0;
                local_158 = local_29c;
                local_154 = local_298;
                if (local_29c < 1.0) {
                  local_158 = 1.0;
                }
                *(int *)(local_70 + 0x130) = local_16c;
                local_80 = CONCAT31(local_80._1_3_,*(undefined *)(local_70 + 0x70));
                local_14 = (double)CONCAT44(local_70,local_158);
                local_18 = (float *)0x4a73a0;
                FUN_004a6b40();
                if ((*(int *)(local_70 + 0x70) == 0) && (*local_84 == 0)) {
                  local_70 = *(int *)(local_70 + 0x74);
                }
                else {
                  if ((local_84[0x13] < 0x40) || (local_158 < 3.0)) {
                    local_3d4 = 0;
                  }
                  else {
                    if (*(int *)(local_16c + 0x5f) == local_70) {
                      local_3d0 = (uint)*(byte *)(local_16c + 0x19d);
                    }
                    else {
                      local_3d0 = 0;
                    }
                    local_3d4 = local_3d0;
                  }
                  local_150 = local_3d4;
                  switch(local_84[0x13]) {
                  case 8:
                    local_84[0xd] = DAT_005a17a0;
                    local_84[0xf] = DAT_005a17a8;
                    local_84[0xe] = DAT_005a17a4;
                    break;
                  default:
                    local_84[0xd] = DAT_005a17d0;
                    local_84[0xf] = DAT_005a17d8;
                    local_84[0xe] = DAT_005a17d4;
                    break;
                  case 0x10:
                    local_84[0xd] = DAT_005a17c0;
                    local_84[0xf] = DAT_005a17c8;
                    local_84[0xe] = DAT_005a17c4;
                    break;
                  case 0x20:
                    local_84[0xd] = DAT_005a17b0;
                    local_84[0xf] = DAT_005a17b8;
                    local_84[0xe] = DAT_005a17b4;
                    break;
                  case 0x40:
                    local_84[0xd] = DAT_005a17e0;
                    local_84[0xf] = DAT_005a17e8;
                    local_84[0xe] = DAT_005a17e4;
                  }
                  local_84[3] = *(int *)(*(int *)(local_84[0x17] + 0x22) + 0xe +
                                        *(int *)(local_84[0x17] + 0x2e) * 0x16);
                  *local_84 = *(int *)(*(int *)(local_84[0x17] + 0x22) +
                                      *(int *)(local_84[0x17] + 0x2e) * 0x16);
                  *(undefined2 *)(local_84 + 1) = *(undefined2 *)(local_84[0x17] + 0x2e);
                  *(int *)(local_84[0x17] + 0x2e) = *(int *)(local_84[0x17] + 0x2e) + 1;
                  if (*(int *)(local_84[0x17] + 0x2e) == *(int *)(local_84[0x17] + 0x1e)) {
                    *(int *)(local_84[0x17] + 0x2e) = *(int *)(local_84[0x17] + 0x2e) + -1;
                  }
                  if (local_3d4 != 0) {
                    local_84[8] = *(int *)(*(int *)(local_84[0x17] + 0x22) + 0xe +
                                          *(int *)(local_84[0x17] + 0x2e) * 0x16);
                    *(undefined4 *)((int)local_84 + 6) =
                         *(undefined4 *)
                          (*(int *)(local_84[0x17] + 0x22) + *(int *)(local_84[0x17] + 0x2e) * 0x16)
                    ;
                    *(undefined2 *)((int)local_84 + 10) = *(undefined2 *)(local_84[0x17] + 0x2e);
                    *(int *)(local_84[0x17] + 0x2e) = *(int *)(local_84[0x17] + 0x2e) + 1;
                    if (*(int *)(local_84[0x17] + 0x2e) == *(int *)(local_84[0x17] + 0x1e)) {
                      *(int *)(local_84[0x17] + 0x2e) = *(int *)(local_84[0x17] + 0x2e) + -1;
                    }
                  }
                  local_1c = SUB42(local_224,0);
                  uStack_1a = (undefined2)((uint)local_224 >> 0x10);
                  if (local_70 == *(int *)(local_16c + 0x5f)) {
                    local_14 = (double)CONCAT44(1,*(undefined4 *)
                                                   (*(int *)(local_70 + 0x155) + 0x102));
                    local_18 = *(float **)(*(int *)(local_70 + 0x155) + 0xf2);
                    local_20 = 0x7687;
                    uStack_1e = 0x4a;
                    FUN_004a6c50();
                  }
                  else {
                    local_14 = (double)(ulonglong)*(uint *)(*(int *)(local_70 + 0x155) + 0x102);
                    local_18 = *(float **)(*(int *)(local_70 + 0x155) + 0xf2);
                    local_20 = 0x76ba;
                    uStack_1e = 0x4a;
                    FUN_004a6c50();
                  }
                  if ((((*(ushort *)(*local_224 + 0x8e) & 0x800) == 0) ||
                      (*(uint *)(local_70 + 0x70) != (local_80 & 0xff))) || (DAT_00598d6c != 0)) {
                    *(undefined *)((int)local_84 + 0x126) = 1;
                    local_2d8 = *(int *)(local_70 + 0x38) >> 1;
                    if (*(int *)(local_70 + 0xc) != 0) {
                      local_74 = local_84[0x13] - *(int *)(local_70 + 0x38);
                      local_17c = local_74 >> 1;
                      local_174 = local_84[0x13] - local_17c;
                      local_170 = local_84[0x13] - local_17c;
                      local_14 = (double)CONCAT44(local_150,local_70);
                      local_18 = (float *)&local_17c;
                      local_1c = 0x77c4;
                      uStack_1a = 0x4a;
                      local_178 = local_17c;
                      iVar1 = FUN_004ac330();
                      if (iVar1 == 0) {
                        return;
                      }
                      local_168 = local_84[3];
                      local_1c4 = local_84[0xe];
                      local_48 = local_84[8];
                      local_228 = local_84[7];
                      pfVar4 = local_1bc;
                      pfVar7 = local_2d4;
                      for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
                        *pfVar7 = *pfVar4;
                        pfVar4 = pfVar4 + 1;
                        pfVar7 = pfVar7 + 1;
                      }
                      local_14 = (double)CONCAT44(&local_64,&local_1cc);
                      local_18 = local_2d4;
                      local_1c = 0x7827;
                      uStack_1a = 0x4a;
                      local_350 = FUN_004ab290();
                      local_1dc = local_2d4[0];
                      local_1d8 = -local_2d4[1];
                      local_1d4 = local_2d4[2];
                      local_1c = (undefined2)local_2b4;
                      uStack_1a = (undefined2)((uint)local_2b4 >> 0x10);
                      local_18 = (float *)-local_2b0;
                      local_14 = (double)CONCAT44(0x4a78b5,local_2ac);
                      local_35c = __ftol();
                      local_14 = (double)CONCAT44(0x4a78d1,local_14._0_4_);
                      local_358 = __ftol();
                      local_14 = (double)CONCAT44(0x4a78f1,local_14._0_4_);
                      local_354 = __ftol();
                      local_14 = (double)CONCAT44(0x4a790d,local_14._0_4_);
                      local_380 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7923,local_14._0_4_);
                      local_37c = __ftol();
                      local_14 = (double)CONCAT44(0x4a793d,local_14._0_4_);
                      local_378 = __ftol();
                      local_14 = (double)CONCAT44(0x4a795f,local_14._0_4_);
                      local_3a4 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7979,local_14._0_4_);
                      local_3a0 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7999,local_14._0_4_);
                      local_39c = __ftol();
                      local_14 = (double)CONCAT44(0x4a79b8,local_14._0_4_);
                      local_368 = __ftol();
                      local_14 = (double)CONCAT44(0x4a79d1,local_14._0_4_);
                      local_364 = __ftol();
                      local_14 = (double)CONCAT44(0x4a79ee,local_14._0_4_);
                      local_360 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7a07,local_14._0_4_);
                      local_38c = __ftol();
                      local_388 = 0;
                      local_14 = (double)CONCAT44(0x4a7a28,local_14._0_4_);
                      local_384 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7a47,local_14._0_4_);
                      local_3bc[3] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7a5e,local_14._0_4_);
                      local_3ac = __ftol();
                      local_14 = (double)CONCAT44(0x4a7a7b,local_14._0_4_);
                      local_3a8 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7a9d,local_14._0_4_);
                      local_374 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ab7,local_14._0_4_);
                      local_370 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ad7,local_14._0_4_);
                      local_36c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7af3,local_14._0_4_);
                      local_398 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b07,local_14._0_4_);
                      local_394 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b21,local_14._0_4_);
                      local_390 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b43,local_14._0_4_);
                      local_3bc[0] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b5d,local_14._0_4_);
                      local_3bc[1] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b7d,local_14._0_4_);
                      local_3bc[2] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7b9f,local_14._0_4_);
                      local_2e4 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7bbb,local_14._0_4_);
                      local_2e0 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7bdb,local_14._0_4_);
                      local_2dc = __ftol();
                      local_14 = (double)CONCAT44(0x4a7bf7,local_14._0_4_);
                      local_308 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7c0d,local_14._0_4_);
                      local_304 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7c27,local_14._0_4_);
                      local_300 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7c49,local_14._0_4_);
                      local_32c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7c63,local_14._0_4_);
                      local_328 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7c83,local_14._0_4_);
                      local_324 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ca2,local_14._0_4_);
                      local_2f0 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7cbb,local_14._0_4_);
                      local_2ec = __ftol();
                      local_14 = (double)CONCAT44(0x4a7cd8,local_14._0_4_);
                      local_2e8 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7cf1,local_14._0_4_);
                      local_314 = __ftol();
                      local_310 = 0;
                      local_14 = (double)CONCAT44(0x4a7d12,local_14._0_4_);
                      local_30c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7d31,local_14._0_4_);
                      local_344[3] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7d48,local_14._0_4_);
                      local_334 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7d65,local_14._0_4_);
                      local_330 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7d87,local_14._0_4_);
                      local_2fc = __ftol();
                      local_14 = (double)CONCAT44(0x4a7da1,local_14._0_4_);
                      local_2f8 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7dc1,local_14._0_4_);
                      local_2f4 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ddd,local_14._0_4_);
                      local_320 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7df1,local_14._0_4_);
                      local_31c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7e0b,local_14._0_4_);
                      local_318 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7e2d,local_14._0_4_);
                      local_344[0] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7e47,local_14._0_4_);
                      local_344[1] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7e67,local_14._0_4_);
                      local_344[2] = __ftol();
                      local_14 = (double)CONCAT44(0x4a7e89,local_14._0_4_);
                      local_234 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ea5,local_14._0_4_);
                      local_230 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ec5,local_14._0_4_);
                      local_22c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ee1,local_14._0_4_);
                      local_258 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7ef7,local_14._0_4_);
                      local_254 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7f11,local_14._0_4_);
                      local_250 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7f33,local_14._0_4_);
                      local_27c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7f4d,local_14._0_4_);
                      local_278 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7f6d,local_14._0_4_);
                      local_274 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7f8c,local_14._0_4_);
                      local_240 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7fa5,local_14._0_4_);
                      local_23c = __ftol();
                      local_14 = (double)CONCAT44(0x4a7fc2,local_14._0_4_);
                      local_238 = __ftol();
                      local_14 = (double)CONCAT44(0x4a7fdb,local_14._0_4_);
                      local_264 = __ftol();
                      local_260 = 0;
                      local_14 = (double)CONCAT44(0x4a7ffc,local_14._0_4_);
                      local_25c = __ftol();
                      local_14 = (double)CONCAT44(0x4a801b,local_14._0_4_);
                      local_294[3] = __ftol();
                      local_14 = (double)CONCAT44(0x4a8032,local_14._0_4_);
                      local_284 = __ftol();
                      local_14 = (double)CONCAT44(0x4a804f,local_14._0_4_);
                      local_280 = __ftol();
                      local_14 = (double)CONCAT44(0x4a8071,local_14._0_4_);
                      local_24c = __ftol();
                      local_14 = (double)CONCAT44(0x4a808b,local_14._0_4_);
                      local_248 = __ftol();
                      local_14 = (double)CONCAT44(0x4a80ab,local_14._0_4_);
                      local_244 = __ftol();
                      local_14 = (double)CONCAT44(0x4a80c7,local_14._0_4_);
                      local_270 = __ftol();
                      local_14 = (double)CONCAT44(0x4a80db,local_14._0_4_);
                      local_26c = __ftol();
                      local_14 = (double)CONCAT44(0x4a80f5,local_14._0_4_);
                      local_268 = __ftol();
                      local_14 = (double)CONCAT44(0x4a8117,local_14._0_4_);
                      local_294[0] = __ftol();
                      local_14 = (double)CONCAT44(0x4a8131,local_14._0_4_);
                      local_294[1] = __ftol();
                      local_14 = (double)CONCAT44(0x4a8151,local_14._0_4_);
                      local_294[2] = __ftol();
                      local_1e0 = *(int *)(local_70 + 0x38);
                      local_1c8 = local_228 * local_228 + -1;
                      if (local_228 < 0x11) {
                        if (local_228 == 0x10) {
                          local_228 = 4;
                        }
                        else if (local_228 == 8) {
                          local_228 = 3;
                        }
                        else {
LAB_004a8244:
                          local_228 = 7;
                        }
                      }
                      else if (local_228 < 0x41) {
                        if (local_228 == 0x40) {
                          local_228 = 6;
                        }
                        else {
                          if (local_228 != 0x20) goto LAB_004a8244;
                          local_228 = 5;
                        }
                      }
                      else if (local_228 == 0x80) {
                        local_228 = 7;
                      }
                      else if (local_228 == 0x100) {
                        local_228 = 8;
                      }
                      else {
                        if (local_228 != 0x200) goto LAB_004a8244;
                        local_228 = 9;
                      }
                      local_148 = local_84[7] << 0x17;
                      local_78 = local_84[7] << 0x17;
                      local_7c = *(int *)(local_70 + 0x38) << 0x17;
                      local_14c = 0xd;
                      for (local_164 = 0; local_164 < *(int *)(local_70 + 0x1c);
                          local_164 = local_164 + 1) {
                        piVar5 = (int *)(*(int *)(local_70 + 0xc) + local_164 * 0x18);
                        piVar8 = local_60;
                        for (iVar1 = 6; iVar1 != 0; iVar1 = iVar1 + -1) {
                          *piVar8 = *piVar5;
                          piVar5 = piVar5 + 1;
                          piVar8 = piVar8 + 1;
                        }
                        local_148 = local_148 + local_60[0] * local_384 + local_60[1] * local_3ac +
                                    local_60[2] * local_394;
                        local_78 = local_78 + local_60[0] * local_30c + local_60[1] * local_334 +
                                   local_60[2] * local_31c;
                        local_7c = local_7c + local_60[0] * local_25c + local_60[1] * local_284 +
                                   local_60[2] * local_26c;
                        local_14c = 0xd;
                        if (local_150 == 0) {
                          for (local_1c0 = 0; local_1c0 < local_4c; local_1c0 = local_1c0 + 1) {
                            local_148 = local_148 + local_3bc[local_14c];
                            local_78 = local_78 + local_344[local_14c];
                            local_7c = local_7c + local_294[local_14c];
                            uVar2 = local_148 >> 0x18 | (local_78 >> 0x18) << (sbyte)local_228;
                            local_44 = local_7c >> 0x18;
                            iVar1 = local_44;
                            if (local_44 < (int)(uint)*(ushort *)(local_1c4 + uVar2 * 2)) {
                              if (local_44 < local_1e0) {
                                local_1e0 = local_44;
                              }
                              *(undefined2 *)(local_168 + uVar2 * 2) =
                                   *(undefined2 *)(local_50 + local_1c0 * 2);
                              local_44._0_2_ = (short)(char)((uint)local_7c >> 0x18);
                              *(short *)(local_1c4 + uVar2 * 2) = (short)local_44;
                            }
                            local_14c = (uint)*(byte *)(local_60[3] + local_1c0);
                            local_44 = iVar1;
                          }
                        }
                        else {
                          for (local_1c0 = 0; local_1c0 < local_4c; local_1c0 = local_1c0 + 1) {
                            local_148 = local_148 + local_3bc[local_14c];
                            local_78 = local_78 + local_344[local_14c];
                            local_7c = local_7c + local_294[local_14c];
                            uVar2 = local_148 >> 0x18 | (local_78 >> 0x18) << (sbyte)local_228;
                            iVar1 = local_7c >> 0x18;
                            local_44 = iVar1;
                            iVar1 = local_44;
                            if (iVar1 < (int)(uint)*(ushort *)(local_1c4 + uVar2 * 2)) {
                              if (iVar1 < local_1e0) {
                                local_1e0 = iVar1;
                              }
                              local_44._0_2_ = (short)(char)((uint)local_7c >> 0x18);
                              *(short *)(local_1c4 + uVar2 * 2) = (short)local_44;
                              if (iVar1 - local_2d8 < 0) {
                                *(undefined2 *)(local_168 + uVar2 * 2) =
                                     *(undefined2 *)(local_50 + local_1c0 * 2);
                              }
                              else {
                                *(undefined2 *)(local_48 + uVar2 * 2) =
                                     *(undefined2 *)(local_50 + local_1c0 * 2);
                              }
                            }
                            local_14c = (uint)*(byte *)(local_60[3] + local_1c0);
                            local_44 = iVar1;
                          }
                        }
                      }
                      if (((local_224 == *(int **)(DAT_005df318 + 4)) &&
                          (*(int *)(local_16c + 0x5f) == local_70)) && (_DAT_005a112c != 0)) {
                        if (DAT_004d042c != 0) {
                          local_14 = (double)CONCAT44(local_168,local_228);
                          local_18 = (float *)local_84[0x13];
                          local_1c = 0x8620;
                          uStack_1a = 0x4a;
                          FUN_004a6a00();
                        }
                        if (local_150 != 0) {
                          local_14 = (double)CONCAT44(local_48,local_228);
                          local_18 = (float *)local_84[0x13];
                          local_1c = 0x8643;
                          uStack_1a = 0x4a;
                          FUN_004a6a00();
                        }
                      }
                      switch(local_84[0x13]) {
                      case 0x10:
                        fVar10 = 1.5;
                        break;
                      default:
                        fVar10 = 0.75;
                        break;
                      case 0x20:
                        fVar10 = 3.0;
                        break;
                      case 0x40:
                        fVar10 = 6.0;
                        break;
                      case 0x80:
                        fVar10 = 12.0;
                      }
                      *(float *)((int)local_84 + 0x61) = local_158;
                      if (local_158 == 1.0) {
                        *(undefined4 *)((int)local_84 + 0x65) = 0;
                      }
                      else {
                        *(float *)((int)local_84 + 0x65) =
                             ((float)(*(int *)(local_70 + 0x48) - local_1e0) * fVar10 * -0.175) /
                             (float)(local_84[0x13] >> 1);
                      }
                      *(int *)((int)local_84 + 0x69) = local_17c;
                      *(int *)((int)local_84 + 0x6d) = local_178;
                      *(int *)((int)local_84 + 0x71) = local_174;
                      *(int *)((int)local_84 + 0x75) = local_170;
                      *(undefined4 *)((int)local_84 + 0x79) = local_1cc;
                      *(undefined4 *)((int)local_84 + 0x7d) = local_64;
                      *(int *)((int)local_84 + 0x81) = local_1e0;
                      *(bool *)((int)local_84 + 0x85) = local_150 == 0;
                      local_14 = (double)CONCAT44(local_84,local_158 +
                                                           *(float *)((int)local_84 + 0x65));
                      local_18 = (float *)0x4a8788;
                      FUN_004859e0();
                    }
                    local_70 = *(int *)(local_70 + 0x74);
                  }
                  else {
                    local_14 = (double)CONCAT44(local_84,local_158);
                    local_18 = (float *)0x4a7701;
                    FUN_004859e0();
                    *(undefined *)((int)local_84 + 0x126) = 0;
                    *(float *)((int)local_84 + 0x61) = local_158;
                    *(bool *)((int)local_84 + 0x85) = local_150 == 0;
                    local_70 = *(int *)(local_70 + 0x74);
                  }
                }
              }
              else {
                local_70 = *(int *)(local_70 + 0x74);
              }
            }
            else {
              local_70 = *(int *)(local_70 + 0x74);
            }
          }
        }
        local_224 = *(int **)((int)local_224 + 0x1a);
      }
    }
  }
  return;
}



int * FUN_004a8885(int param_1,int param_2,float param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float *pfVar6;
  float *pfVar7;
  int *unaff_EBX;
  float *pfVar8;
  float *unaff_EDI;
  bool bVar9;
  undefined4 local_50 [2];
  undefined4 local_48;
  int local_44;
  int local_40;
  undefined4 uStackY_3c;
  int *local_20;
  float fVar10;
  
  AdjustStackForLargeAllocations();
  if (param_2 == 0) {
    fVar10 = *(float *)(*(int *)(param_1 + 0x155) + 0x112);
  }
  else {
    fVar10 = *(float *)(*(int *)(param_1 + 0x155) + 0x122);
  }
  local_20 = (int *)0x4a88cd;
  _memset(&local_20,0,0x14);
  local_20 = DAT_005e5148;
  iVar5 = (**(code **)(*DAT_005e5148 + 0x18))();
  if (iVar5 != 0) {
    GetErrorStringFunc();
    return (int *)0x0;
  }
  iVar5 = (**(code **)(*unaff_EBX + 0x10))();
  if (iVar5 != 0) {
    return (int *)0x0;
  }
  _memset(unaff_EDI,0,0x110);
  if (param_2 == 0) {
    *(float **)(*(int *)(param_1 + 0x155) + 0xf2) = unaff_EDI;
  }
  else {
    *(float **)(*(int *)(param_1 + 0x155) + 0x102) = unaff_EDI;
  }
  iVar5 = *(int *)(*(int *)(param_1 + 0x155) + 0x4c);
  if (iVar5 == 0x80) {
    fVar2 = (float)(0x80 - *(int *)(param_1 + 0x38)) * 0.0078125;
    fVar1 = (1.0 - fVar2) * param_3 * 12.0;
  }
  else if (iVar5 == 0x40) {
    fVar2 = (float)(0x40 - *(int *)(param_1 + 0x38)) * 0.015625;
    fVar1 = (1.0 - fVar2) * param_3 * 6.0;
  }
  else if (iVar5 == 0x20) {
    fVar2 = (float)(0x20 - *(int *)(param_1 + 0x38)) * 0.03125;
    fVar1 = (1.0 - fVar2) * param_3 * 3.0;
  }
  else if (iVar5 == 0x10) {
    fVar2 = (float)(0x10 - *(int *)(param_1 + 0x38)) * 0.0625;
    fVar1 = (1.0 - fVar2) * param_3 * 1.5;
  }
  else {
    fVar2 = (float)(8 - *(int *)(param_1 + 0x38)) * 0.125;
    fVar1 = (1.0 - fVar2) * param_3 * 0.75;
  }
  fVar3 = 0.005 - fVar2 * -0.5;
  fVar4 = -fVar1;
  fVar2 = 1.0 - fVar2 * 0.5;
  *unaff_EDI = fVar4;
  unaff_EDI[1] = fVar4;
  unaff_EDI[6] = fVar3;
  unaff_EDI[7] = fVar3;
  unaff_EDI[2] = 0.0;
  unaff_EDI[4] = -NAN;
  unaff_EDI[5] = -NAN;
  unaff_EDI[10] = 0.0;
  unaff_EDI[8] = fVar4;
  unaff_EDI[9] = fVar1;
  unaff_EDI[0xe] = fVar3;
  unaff_EDI[0xf] = fVar2;
  unaff_EDI[0xc] = -NAN;
  unaff_EDI[0xd] = -NAN;
  unaff_EDI[0x10] = fVar1;
  unaff_EDI[0x12] = 0.0;
  unaff_EDI[0x14] = -NAN;
  unaff_EDI[0x11] = fVar1;
  unaff_EDI[0x16] = fVar2;
  unaff_EDI[0x15] = -NAN;
  unaff_EDI[0x17] = fVar2;
  unaff_EDI[0x18] = fVar1;
  unaff_EDI[0x19] = fVar4;
  unaff_EDI[0x1a] = 0.0;
  unaff_EDI[0x1c] = -NAN;
  unaff_EDI[0x1e] = fVar2;
  unaff_EDI[0x1d] = -NAN;
  unaff_EDI[0x1f] = fVar3;
  pfVar8 = unaff_EDI + 0x20;
  *(undefined *)pfVar8 = 9;
  *(undefined *)((int)unaff_EDI + 0x81) = 0x10;
  *(undefined2 *)((int)unaff_EDI + 0x82) = 1;
  unaff_EDI[0x21] = 1.401298e-45;
  *(undefined2 *)(unaff_EDI + 0x22) = 0;
  *(undefined2 *)((int)unaff_EDI + 0x8a) = 0;
  unaff_EDI[0x23] = 5.605194e-45;
  unaff_EDI[0x24] = 0.0;
  bVar9 = DAT_005e72d0 == 0;
  *(undefined *)(unaff_EDI + 0x25) = 8;
  *(undefined *)((int)unaff_EDI + 0x95) = 8;
  if (bVar9) {
    *(undefined2 *)((int)unaff_EDI + 0x96) = 1;
    pfVar6 = unaff_EDI + 0x26;
  }
  else {
    *(undefined2 *)((int)unaff_EDI + 0x96) = 2;
    unaff_EDI[0x26] = 1.961818e-44;
    unaff_EDI[0x27] = 1.401298e-45;
    pfVar6 = unaff_EDI + 0x28;
  }
  *pfVar6 = 1.401298e-45;
  pfVar6[1] = fVar10;
  pfVar7 = pfVar6 + 2;
  if (((uint)pfVar7 & 7) == 0) {
    *(undefined *)pfVar7 = 3;
    *(undefined *)((int)pfVar6 + 9) = 8;
    *(undefined2 *)((int)pfVar6 + 10) = 0;
    pfVar7 = pfVar6 + 3;
  }
  *(undefined *)pfVar7 = 3;
  *(undefined *)((int)pfVar7 + 1) = 8;
  *(undefined2 *)((int)pfVar7 + 2) = 2;
  *(undefined2 *)(pfVar7 + 1) = 0;
  *(undefined2 *)((int)pfVar7 + 6) = 1;
  *(undefined2 *)(pfVar7 + 2) = 3;
  *(undefined2 *)((int)pfVar7 + 10) = 1;
  *(undefined2 *)(pfVar7 + 3) = 3;
  *(undefined2 *)((int)pfVar7 + 0xe) = 1;
  *(undefined2 *)(pfVar7 + 4) = 2;
  *(undefined2 *)((int)pfVar7 + 0x12) = 0x1e;
  pfVar6 = pfVar7 + 5;
  if (DAT_005e72d0 != 0) {
    *(undefined *)pfVar6 = 8;
    *(undefined *)((int)pfVar7 + 0x15) = 8;
    *(undefined2 *)((int)pfVar7 + 0x16) = 1;
    pfVar7[6] = 1.961818e-44;
    pfVar7[7] = 0.0;
    pfVar6 = pfVar7 + 8;
  }
  *(undefined *)pfVar6 = 0xb;
  *(undefined *)((int)pfVar6 + 1) = 0;
  *(undefined2 *)((int)pfVar6 + 2) = 0;
  (**(code **)(*unaff_EBX + 0x14))();
  uStackY_3c = 0x4a8c23;
  _memset(local_50,0,0x30);
  local_44 = (int)pfVar8 - (int)unaff_EDI;
  local_40 = (int)pfVar6 + (4 - (int)pfVar8);
  local_50[0] = 0x30;
  local_48 = 4;
  (**(code **)(*unaff_EBX + 0x18))();
  return unaff_EBX;
}



uint FUN_004a8c65(int param_1,ushort param_2,int param_3)

{
  ushort *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  if (DAT_005e58d0 == 0) {
    uVar3 = (uint)param_2;
  }
  else {
    if (param_3 == 0) {
      uVar3 = 0;
      if (0 < *(int *)(param_1 + 0x26)) {
        puVar1 = (ushort *)(*(int *)(param_1 + 0x2a) + 0xc);
        do {
          if (param_2 == *puVar1) {
            FUN_0048f4c0(param_1,uVar3);
            return uVar3 & 0xffff;
          }
          uVar3 = uVar3 + 1;
          puVar1 = puVar1 + 0xb;
        } while ((int)uVar3 < *(int *)(param_1 + 0x26));
      }
    }
    uVar3 = *(uint *)(param_1 + 4);
    DAT_005b946c = DAT_005b946c + 1;
    iVar4 = uVar3 * 0x16;
    iVar2 = FUN_00424e90(*(undefined4 *)(*(int *)(param_1 + 0x2a) + iVar4),0,0,
                         *(undefined4 *)(*(int *)(param_1 + 0x22) + (uint)param_2 * 0x16),0,0x10);
    if (iVar2 != 0) {
      iVar2 = FUN_00424d60(*(undefined4 *)(*(int *)(param_1 + 0x2a) + iVar4),0,
                           *(undefined4 *)(*(int *)(param_1 + 0x22) + (uint)param_2 * 0x16),0,
                           0x1000000,0);
      if (iVar2 != 0) {
        return 0xffff;
      }
    }
    *(ushort *)(*(int *)(param_1 + 0x2a) + 0xc + iVar4) = param_2;
  }
  FUN_0048f4c0(param_1,uVar3);
  iVar2 = *(int *)(param_1 + 4) + 1;
  *(int *)(param_1 + 4) = iVar2;
  if (iVar2 == *(int *)(param_1 + 0x26)) {
    *(undefined4 *)(param_1 + 4) = 0;
  }
  return uVar3 & 0xffff;
}



undefined4 FUN_004a8d85(int param_1)

{
  uint uVar1;
  int iVar2;
  float extraout_EDX;
  float fVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  float10 fVar6;
  undefined4 local_138 [16];
  undefined4 local_f8 [12];
  float local_c8;
  float local_c4;
  float local_c0;
  float local_bc;
  uint local_b8;
  undefined4 local_b4;
  float local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  float local_a4;
  float local_a0;
  float local_9c;
  float local_98;
  float local_94;
  float local_90;
  float local_8c;
  float local_88;
  undefined4 local_84;
  float local_80;
  float local_7c;
  float local_78;
  undefined4 local_74;
  float local_70;
  float local_6c;
  float local_68;
  undefined4 local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_4c;
  float local_44;
  float local_40;
  float local_3c;
  undefined4 uStack_38;
  float local_34;
  undefined4 local_30;
  int *local_2c;
  float local_28;
  undefined4 local_24;
  undefined4 local_20;
  float *local_1c;
  undefined4 *local_18;
  float *local_14;
  float fVar7;
  float fVar8;
  
  AdjustStackForLargeAllocations();
  fVar7 = *(float *)(param_1 + 0x65);
  local_b4 = *(undefined4 *)(param_1 + 0x79);
  fVar3 = *(float *)(param_1 + 0x7d);
  local_b8 = (uint)*(byte *)(param_1 + 0x85);
  local_a8 = *(undefined4 *)(param_1 + 0x5c);
  local_94 = 1.0;
  local_98 = 1.0;
  local_b0 = fVar3;
  if (local_b8 == 0) {
    local_18 = (undefined4 *)CONCAT22((short)((uint)local_b4 >> 0x10),*(undefined2 *)(param_1 + 10))
    ;
    local_20 = 0x4a8df1;
    local_1c = (float *)local_a8;
    local_14 = (float *)local_b8;
    local_ac = FUN_004a8c65();
    local_58 = 0.0;
    local_5c = 0.0;
    local_60 = 0.0;
    local_64 = 0;
    local_74 = 0;
    local_84 = 0;
    local_54 = 1.0;
    local_90 = *(float *)(DAT_005e45e4 + 0x238);
    puVar4 = (undefined4 *)(param_1 + 0x86);
    puVar5 = local_f8;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    local_8c = *(float *)(DAT_005e45e4 + 0x248);
    local_88 = *(float *)(DAT_005e45e4 + 600);
    local_80 = *(float *)(DAT_005e45e4 + 0x23c);
    local_7c = *(float *)(DAT_005e45e4 + 0x24c);
    local_78 = *(float *)(DAT_005e45e4 + 0x25c);
    local_70 = *(float *)(DAT_005e45e4 + 0x240);
    local_6c = *(float *)(DAT_005e45e4 + 0x250);
    local_68 = *(float *)(DAT_005e45e4 + 0x260);
    local_28 = *(float *)(DAT_005e45e4 + 0x2b0) * local_bc +
               *(float *)(DAT_005e45e4 + 0x2a0) * local_c0 +
               *(float *)(DAT_005e45e4 + 0x290) * local_c4 +
               *(float *)(DAT_005e45e4 + 0x280) * local_c8;
    local_30 = 0;
    local_2c = (int *)0xbf000000;
    local_24 = 0x3f800000;
    local_1c = (float *)0x3f000000;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a8f48;
    local_18 = (undefined4 *)local_28;
    fVar3 = local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a8f5d;
    FUN_0045f950();
    local_14 = (float *)(local_4c / local_44 - local_3c / local_34);
    local_18 = (undefined4 *)0x4a8f78;
    fVar6 = (float10)FUN_0045fc00();
    local_30 = 0;
    local_28 = fVar3 + fVar7;
    local_98 = (float)((float10)0.25 / fVar6);
    local_2c = (int *)0xbf000000;
    local_24 = 0x3f800000;
    local_1c = (float *)0x3f000000;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a8fe9;
    local_18 = (undefined4 *)local_28;
    fVar8 = local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a8ffe;
    FUN_0045f950();
    local_14 = (float *)(local_4c / local_44 - local_3c / local_34);
    local_18 = (undefined4 *)0x4a9019;
    fVar6 = (float10)FUN_0045fc00();
    local_28 = fVar3;
    fVar3 = (float)(fVar6 * (float10)local_98);
    local_30 = 0xbf000000;
    local_2c = (int *)0x0;
    local_24 = 0x3f800000;
    local_1c = (float *)&DAT_004d1b60;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a9085;
    local_18 = (undefined4 *)local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a909a;
    FUN_0045f950();
    local_14 = (float *)(local_50 / local_44 - local_40 / local_34);
    local_18 = (undefined4 *)0x4a90b5;
    fVar6 = (float10)FUN_0045fc00();
    local_28 = fVar8;
    local_94 = (float)((float10)0.25 / fVar6);
    local_30 = 0xbf000000;
    local_2c = (int *)0x0;
    local_24 = 0x3f800000;
    local_1c = (float *)0x0;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a9124;
    local_18 = (undefined4 *)local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a9139;
    FUN_0045f950();
    local_14 = (float *)(local_50 / local_44 - local_40 / local_34);
    local_18 = (undefined4 *)0x4a9154;
    fVar6 = (float10)FUN_0045fc00();
    fVar8 = (float)(fVar6 * (float10)local_94);
    local_90 = local_90 * fVar8;
    local_8c = local_8c * fVar8;
    local_88 = local_88 * fVar8;
    local_80 = local_80 * fVar3;
    local_7c = local_7c * fVar3;
    local_78 = local_78 * fVar3;
    local_70 = local_70 * fVar3;
    local_14 = (float *)-local_b0;
    local_6c = local_6c * fVar3;
    local_1c = (float *)local_138;
    local_18 = (undefined4 *)local_b4;
    local_68 = local_68 * fVar3;
    puVar4 = &DAT_004d1ae0;
    puVar5 = local_138;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    local_20 = 0x4a9216;
    FUN_004ab9a0();
    local_14 = &local_90;
    local_18 = local_138;
    local_1c = &local_90;
    local_20 = 0x4a9233;
    FUN_0045ecb0();
    local_14 = &local_a4;
    local_a4 = local_c8 / local_bc + *(float *)(DAT_005e45e4 + 0x228);
    local_a0 = local_c4 / local_bc + *(float *)(DAT_005e45e4 + 0x22c);
    local_9c = local_c0 / local_bc + *(float *)(DAT_005e45e4 + 0x230);
    local_18 = (undefined4 *)0x4a9291;
    FUN_0045eab0();
    local_60 = local_c8 - local_a4 * fVar7;
    local_5c = local_c4 - local_a0 * fVar7;
    local_58 = local_c0 - local_9c * fVar7;
    local_14 = &local_90;
    local_54 = local_bc;
    local_18 = (undefined4 *)DAT_005b9ce0;
    local_1c = (float *)DAT_005e5148;
    local_20 = 0x4a92fc;
    iVar2 = (**(code **)(*DAT_005e5148 + 0x40))();
    if (iVar2 != 0) {
      return 0;
    }
    local_20 = 1;
    local_24 = DAT_005e514c;
    local_28 = *(float *)(param_1 + 0xe2);
    local_2c = DAT_005e5148;
    local_30 = 0x4a9324;
    (**(code **)(*DAT_005e5148 + 0x20))();
    local_14 = (float *)local_ac;
    local_18 = (undefined4 *)local_a8;
    local_1c = (float *)0x4a9337;
    FUN_0048f4c0();
    fVar3 = extraout_EDX;
  }
  uVar1 = local_b8;
  local_18 = (undefined4 *)CONCAT22((short)((uint)fVar3 >> 0x10),*(undefined2 *)(param_1 + 4));
  local_14 = (float *)0x0;
  local_20 = 0x4a9353;
  local_1c = (float *)local_a8;
  local_ac = FUN_004a8c65();
  local_58 = 0.0;
  local_5c = 0.0;
  local_60 = 0.0;
  local_64 = 0;
  local_74 = 0;
  local_84 = 0;
  local_54 = 1.0;
  puVar4 = (undefined4 *)(param_1 + 0x86);
  puVar5 = local_f8;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  fVar7 = fVar7 * -1.0;
  local_90 = *(float *)(DAT_005e45e4 + 0x238);
  local_8c = *(float *)(DAT_005e45e4 + 0x248);
  local_88 = *(float *)(DAT_005e45e4 + 600);
  local_80 = *(float *)(DAT_005e45e4 + 0x23c);
  local_7c = *(float *)(DAT_005e45e4 + 0x24c);
  local_78 = *(float *)(DAT_005e45e4 + 0x25c);
  local_70 = *(float *)(DAT_005e45e4 + 0x240);
  local_6c = *(float *)(DAT_005e45e4 + 0x250);
  local_68 = *(float *)(DAT_005e45e4 + 0x260);
  local_28 = *(float *)(DAT_005e45e4 + 0x2b0) * local_bc +
             *(float *)(DAT_005e45e4 + 0x2a0) * local_c0 +
             *(float *)(DAT_005e45e4 + 0x290) * local_c4 +
             *(float *)(DAT_005e45e4 + 0x280) * local_c8;
  fVar3 = local_28;
  if (uVar1 != 0) {
    local_2c = (int *)0xbf000000;
    local_24 = 0x3f800000;
    local_1c = (float *)&DAT_004d1b60;
    local_30 = 0;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a94c8;
    local_18 = (undefined4 *)local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a94dd;
    FUN_0045f950();
    local_14 = (float *)(local_4c / local_44 - local_3c / local_34);
    local_18 = (undefined4 *)0x4a94f8;
    fVar6 = (float10)FUN_0045fc00();
    local_98 = (float)((float10)0.25 / fVar6);
  }
  local_28 = fVar3 + fVar7;
  local_2c = (int *)0xbf000000;
  local_24 = 0x3f800000;
  local_18 = &local_30;
  local_14 = (float *)0x3f800000;
  local_1c = (float *)&DAT_004d1b60;
  local_30 = 0;
  local_20 = 0x4a956c;
  fVar8 = local_28;
  FUN_0045f950();
  local_14 = &local_50;
  local_18 = &local_20;
  local_1c = (float *)&DAT_004d1b60;
  local_20 = 0x4a9581;
  FUN_0045f950();
  local_14 = (float *)(local_4c / local_44 - local_3c / local_34);
  local_18 = (undefined4 *)0x4a959c;
  fVar6 = (float10)FUN_0045fc00();
  local_28 = fVar3;
  fVar3 = (float)(fVar6 * (float10)local_98);
  if (local_b8 != 0) {
    local_2c = (int *)0x0;
    local_24 = 0x3f800000;
    local_1c = (float *)&DAT_004d1b60;
    local_30 = 0xbf000000;
    local_14 = (float *)0x3f800000;
    local_20 = 0x4a9610;
    local_18 = (undefined4 *)local_28;
    FUN_0045f950();
    local_14 = &local_50;
    local_18 = &local_20;
    local_1c = (float *)&DAT_004d1b60;
    local_20 = 0x4a9625;
    FUN_0045f950();
    local_14 = (float *)(local_50 / local_44 - local_40 / local_34);
    local_18 = (undefined4 *)0x4a9640;
    fVar6 = (float10)FUN_0045fc00();
    local_94 = (float)((float10)0.25 / fVar6);
  }
  local_28 = fVar8;
  local_2c = (int *)0x0;
  local_24 = 0x3f800000;
  local_1c = (float *)&DAT_004d1b60;
  local_30 = 0xbf000000;
  local_14 = (float *)0x3f800000;
  local_20 = 0x4a96a9;
  local_18 = (undefined4 *)local_28;
  FUN_0045f950();
  local_14 = &local_50;
  local_18 = &local_20;
  local_1c = (float *)&DAT_004d1b60;
  local_20 = 0x4a96be;
  FUN_0045f950();
  local_14 = (float *)(local_50 / local_44 - local_40 / local_34);
  local_18 = (undefined4 *)0x4a96d9;
  fVar6 = (float10)FUN_0045fc00();
  fVar8 = (float)(fVar6 * (float10)local_94);
  local_90 = local_90 * fVar8;
  local_8c = local_8c * fVar8;
  local_88 = local_88 * fVar8;
  local_80 = local_80 * fVar3;
  local_7c = local_7c * fVar3;
  local_78 = local_78 * fVar3;
  local_70 = local_70 * fVar3;
  local_14 = (float *)-local_b0;
  local_6c = local_6c * fVar3;
  local_68 = local_68 * fVar3;
  local_1c = (float *)local_138;
  local_18 = (undefined4 *)local_b4;
  puVar4 = &DAT_004d1ae0;
  puVar5 = local_138;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  local_20 = 0x4a9795;
  FUN_004ab9a0();
  local_14 = &local_90;
  local_18 = local_138;
  local_1c = &local_90;
  local_20 = 0x4a97b2;
  FUN_0045ecb0();
  local_14 = &local_a4;
  local_a4 = local_c8 / local_bc + *(float *)(DAT_005e45e4 + 0x228);
  local_a0 = local_c4 / local_bc + *(float *)(DAT_005e45e4 + 0x22c);
  local_9c = local_c0 / local_bc + *(float *)(DAT_005e45e4 + 0x230);
  local_18 = (undefined4 *)0x4a9810;
  FUN_0045eab0();
  local_60 = local_c8 - local_a4 * fVar7;
  local_5c = local_c4 - local_a0 * fVar7;
  local_58 = local_c0 - local_9c * fVar7;
  local_14 = &local_90;
  local_54 = local_bc;
  local_18 = (undefined4 *)DAT_005b9ce0;
  local_1c = (float *)DAT_005e5148;
  local_20 = 0x4a987b;
  iVar2 = (**(code **)(*DAT_005e5148 + 0x40))();
  if (iVar2 != 0) {
    return 0;
  }
  local_20 = 1;
  local_24 = DAT_005e514c;
  local_28 = *(float *)(param_1 + 0xd2);
  local_2c = DAT_005e5148;
  local_30 = 0x4a98a3;
  (**(code **)(*DAT_005e5148 + 0x20))();
  local_30 = local_ac;
  local_34 = (float)local_a8;
  uStack_38 = 0x4a98b6;
  FUN_0048f4c0();
  return 1;
}



uint FUN_004a98c5(int param_1,ushort param_2,int param_3)

{
  ushort *puVar1;
  int iVar2;
  uint uVar3;
  
  if (param_3 == 0) {
    uVar3 = 0;
    if (0 < *(int *)(param_1 + 0x26)) {
      puVar1 = (ushort *)(*(int *)(param_1 + 0x2a) + 0xc);
      while (param_2 != *puVar1) {
        uVar3 = uVar3 + 1;
        puVar1 = puVar1 + 0xb;
        if (*(int *)(param_1 + 0x26) <= (int)uVar3) {
          return 0xffff;
        }
      }
      iVar2 = FUN_00424e90(*(undefined4 *)(*(int *)(param_1 + 0x2a) + uVar3 * 0x16),0,0,
                           *(undefined4 *)(*(int *)(param_1 + 0x22) + (uint)param_2 * 0x16),0,0x10);
      if ((iVar2 != 0) &&
         (iVar2 = FUN_00424d60(*(undefined4 *)(*(int *)(param_1 + 0x2a) + uVar3 * 0x16),0,
                               *(undefined4 *)(*(int *)(param_1 + 0x22) + (uint)param_2 * 0x16),0,
                               0x1000000,0), iVar2 != 0)) {
        return 0xffff;
      }
      return uVar3 & 0xffff;
    }
  }
  return 0xffff;
}



undefined4 FUN_004a9985(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  if (param_1 != 0) {
    piVar1 = *(int **)(param_1 + 8);
    if (((piVar1 != (int *)0x0) &&
        (iVar2 = (**(code **)(*piVar1 + 0x60))(piVar1), iVar2 == -0x7789fe3e)) &&
       (iVar2 = (**(code **)(**(int **)(param_1 + 8) + 0x6c))(*(int **)(param_1 + 8)), iVar2 != 0))
    {
      return 0;
    }
    iVar2 = 0;
    if (0 < *(int *)(param_1 + 0x26)) {
      iVar4 = 0;
      while (((piVar1 = *(int **)(*(int *)(param_1 + 0x2a) + iVar4), piVar1 == (int *)0x0 ||
              (iVar3 = (**(code **)(*piVar1 + 0x60))(piVar1), iVar3 != -0x7789fe3e)) ||
             (piVar1 = *(int **)(*(int *)(param_1 + 0x2a) + iVar4),
             iVar3 = (**(code **)(*piVar1 + 0x6c))(piVar1), iVar3 == 0))) {
        iVar2 = iVar2 + 1;
        *(undefined2 *)(*(int *)(param_1 + 0x2a) + 0xc + iVar4) = 0xffff;
        iVar4 = iVar4 + 0x16;
        if (*(int *)(param_1 + 0x26) <= iVar2) {
          return 1;
        }
      }
      return 0;
    }
  }
  return 1;
}



undefined4 FUN_004a9a15(void)

{
  if (DAT_005a1130 != 0) {
    FUN_004a9985(DAT_005a1130);
  }
  if (DAT_005a1134 != 0) {
    FUN_004a9985(DAT_005a1134);
  }
  if (DAT_005a1138 != 0) {
    FUN_004a9985(DAT_005a1138);
  }
  if (DAT_005a113c != 0) {
    FUN_004a9985(DAT_005a113c);
  }
  if (DAT_005a1140 != 0) {
    FUN_004a9985(DAT_005a1140);
  }
  if (DAT_005a1144 != 0) {
    FUN_004a9985(DAT_005a1144);
  }
  if (DAT_005a1148 != 0) {
    FUN_004a9985(DAT_005a1148);
  }
  if (DAT_005a114c != 0) {
    FUN_004a9985(DAT_005a114c);
  }
  if (DAT_005a1150 != 0) {
    FUN_004a9985(DAT_005a1150);
  }
  if (DAT_005a1154 != 0) {
    FUN_004a9985(DAT_005a1154);
  }
  return 1;
}



undefined FUN_004a9ad5(void)

{
  return 0;
}



int FUN_004a9af0(uint param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = (int)((param_1 & DAT_005a1796) - (param_2 & DAT_005a1796)) >> ((byte)DAT_005a178c & 0x1f);
  if ((iVar1 < 0xb) && (-0xb < iVar1)) {
    iVar1 = 0;
  }
  else {
    iVar1 = 1;
  }
  iVar2 = (int)((param_1 & DAT_005a1794) - (param_2 & DAT_005a1794)) >> ((byte)DAT_005a1784 & 0x1f);
  if ((iVar2 < 0xb) && (-0xb < iVar2)) {
    iVar2 = 0;
  }
  else {
    iVar2 = 1;
  }
  if (DAT_005a1788 == 0) {
    iVar3 = (param_1 & DAT_005a1792) - (param_2 & DAT_005a1792);
  }
  else {
    iVar3 = (int)((param_1 & DAT_005a1792) - (param_2 & DAT_005a1792)) >>
            ((byte)DAT_005a1788 & 0x1f);
  }
  if ((iVar3 < 0xb) && (-0xb < iVar3)) {
    return iVar1 + iVar2;
  }
  return iVar1 + iVar2 + 1;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_004a9bb0(uint param_1,undefined4 *param_2,undefined4 param_3,uint param_4)

{
  uint *puVar1;
  short sVar2;
  uint *puVar3;
  void *pvVar4;
  byte *pbVar5;
  uint uVar6;
  undefined2 *puVar7;
  int iVar8;
  uint uVar9;
  ushort *puVar10;
  ushort uVar11;
  ushort uVar12;
  uint *puVar13;
  int iVar14;
  uint uVar15;
  int iVar16;
  int iVar17;
  uint local_138 [18];
  undefined local_f0 [14];
  undefined4 local_e2;
  undefined4 local_de;
  undefined4 local_da;
  undefined4 local_d6;
  undefined local_a4 [20];
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  int local_84;
  int local_80;
  int local_7c;
  ushort local_78;
  undefined2 uStackY_76;
  undefined2 uStackY_74;
  int local_70;
  int *local_6c;
  int local_68;
  int local_64;
  uint local_60;
  uint *local_5c;
  byte *local_58;
  uint *local_54;
  undefined4 local_50;
  uint local_48;
  ushort local_44;
  ushort uStackY_42;
  byte *local_3c;
  byte *local_38;
  uint local_34;
  int local_30;
  int local_2c;
  uint *local_28;
  uint *local_24;
  int local_20;
  ulonglong uVar18;
  longlong lVar19;
  int iVar20;
  int iVar21;
  int iVar22;
  
  AdjustStackForLargeAllocations();
  local_38 = (byte *)0x0;
  local_3c = (byte *)0x0;
  local_54 = (uint *)0x0;
  local_5c = (uint *)0x0;
  local_28 = (uint *)0x0;
  local_30 = 0;
  local_70 = 0;
  local_64 = 0;
  iVar22 = 0;
  iVar21 = 0;
  iVar20 = 0;
  local_2c = 0;
  local_20 = 0x4a9c00;
  _memset((void *)0x0,0,0);
  if ((param_4 == 0) && (param_4 = FUN_00441a80(), param_4 == 0)) {
    return 0;
  }
  if (param_1 == 9999) {
    local_2c = 1;
  }
  uVar18 = (ulonglong)param_4;
  local_24 = (uint *)local_f0;
  local_20 = 0x4a;
  local_28 = (uint *)0x4a9c4c;
  FUN_00441d30();
  local_90 = local_de;
  local_8c = local_da;
  local_88 = local_d6;
  if (param_1 == 9999) {
    local_90 = local_e2;
  }
  local_84 = (DAT_005df2e8 != 0) + 2;
  local_7c = 0;
  if (local_84 != 0) {
    do {
      iVar16 = local_7c;
      uVar18 = uVar18 & 0xffffffff;
      if (local_2c == 0) {
        local_24 = &local_34;
        local_20 = 2;
        local_28 = (uint *)0x4a9cca;
        FUN_00441d30();
        iVar14 = 0;
        uVar18 = 0;
        if ((short)local_34 != 0) {
          do {
            local_24 = (uint *)&local_78;
            local_20 = 6;
            local_28 = (uint *)0x4a9ced;
            uVar15 = param_4;
            FUN_00441d30();
            if ((local_78 == param_1) && (CONCAT22(uStackY_74,uStackY_76) != 0)) {
              uVar18 = 1;
              break;
            }
            iVar14 = iVar14 + 1;
            uVar18 = (ulonglong)uVar15;
          } while (iVar14 < (int)(local_34 & 0xffff));
        }
      }
      if (((int)uVar18 != 0) || (local_2c != 0)) {
        if (local_2c == 0) {
          local_20 = 0x14;
        }
        else {
          local_20 = 0x10;
        }
        local_24 = &local_50;
        local_28 = (uint *)0x4a9d57;
        FUN_00441d30();
        if (0xff < local_50._2_2_) {
          return 0;
        }
        uVar15 = 0;
        if (local_44 != 0) {
          puVar13 = (uint *)local_a4;
          do {
            local_20 = 2;
            local_28 = (uint *)0x4a9d86;
            local_24 = puVar13;
            FUN_00441d30();
            uVar15 = uVar15 + 1;
            puVar13 = (uint *)((int)puVar13 + 2);
          } while (uVar15 < local_44);
        }
        if ((1 < local_a4[1]) && (uVar15 = 0, local_a4[1] != 0)) {
          puVar13 = local_138;
          do {
            local_20 = 8;
            local_28 = (uint *)0x4a9dc3;
            local_24 = puVar13;
            FUN_00441d30();
            uVar15 = uVar15 + 1;
            puVar13 = puVar13 + 2;
          } while (uVar15 < (local_a4._1_4_ & 0xff));
        }
        if ((short)local_50 == 0x1f2) {
          local_20 = 2;
          local_24 = (uint *)&DAT_004d38f0;
          local_28 = (uint *)0x4a9e1a;
          FUN_00441d30();
          if (DAT_004d8054 == 0) {
            lVar19 = (ulonglong)((uint)uStackY_42 * 6) << 0x20;
            local_20 = 0x4a9e66;
            pvVar4 = (void *)AllocateMemoryWithCallback();
            local_20 = 0x4a9e6f;
            puVar3 = (uint *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
            puVar13 = local_28;
            local_54 = puVar3;
          }
          else {
            lVar19 = (ulonglong)((uint)uStackY_42 * 0xc) << 0x20;
            local_20 = 0x4a9e3d;
            puVar3 = (uint *)AllocateMemoryWithCallback();
            local_20 = 0x4a9e46;
            local_5c = (uint *)_memset(puVar3,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
            puVar13 = local_5c;
          }
          lVar19 = (ulonglong)local_48 << 0x20;
          local_20 = 0x4a9e86;
          pvVar4 = (void *)AllocateMemoryWithCallback();
          local_20 = 0x4a9e8f;
          local_3c = (byte *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
          local_20 = 1;
          local_28 = (uint *)0x4a9ea6;
          local_24 = (uint *)local_3c;
          FUN_00441d30();
          if (DAT_004d8054 == 0) {
            local_20 = 6;
            local_24 = puVar3;
          }
          else {
            local_20 = 0xc;
            local_24 = puVar13;
          }
          local_28 = (uint *)0x4a9edc;
          FUN_00441d30();
          lVar19 = (ulonglong)(local_48 - uStackY_42) << 0x20;
          local_20 = 0x4a9ef6;
          pvVar4 = (void *)AllocateMemoryWithCallback();
          local_20 = 0x4a9eff;
          pbVar5 = (byte *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
          uVar15 = 0;
          iVar16 = 3;
          local_38 = pbVar5;
          if (local_48 != uStackY_42) {
            do {
              if (2 < iVar16) {
                local_24 = &local_60;
                local_20 = 2;
                iVar16 = 0;
                local_28 = (uint *)0x4a9f3a;
                FUN_00441d30();
              }
              if (iVar16 == 0) {
                *pbVar5 = (byte)local_60 & 0x1f;
              }
              else if (iVar16 == 1) {
                *pbVar5 = (byte)(local_60 >> 5) & 0x1f;
              }
              else if (iVar16 == 2) {
                *pbVar5 = (byte)(local_60 >> 10) & 0x1f;
              }
              iVar16 = iVar16 + 1;
              pbVar5 = pbVar5 + 1;
              uVar15 = uVar15 + 1;
            } while (uVar15 < local_48 - uStackY_42);
          }
        }
        lVar19 = (ulonglong)((uint)uStackY_42 * 0x18) << 0x20;
        local_20 = 0x4a9f97;
        pvVar4 = (void *)AllocateMemoryWithCallback();
        local_20 = 0x4a9fa0;
        local_6c = (int *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
        if (local_6c == (int *)0x0) {
          return 0;
        }
        local_24 = (uint *)local_3c;
        local_28 = local_5c;
        local_58 = local_38;
        iVar16 = 0;
        puVar13 = local_54;
        if (uStackY_42 != 0) {
          do {
            puVar3 = local_28;
            if (DAT_004d8054 == 0) {
              uVar15 = *puVar13;
              uVar9 = uVar15 & 0x7f;
              uVar6 = uVar15 >> 7 & 0x7f;
              uVar15 = uVar15 >> 0xe & 0x7f;
            }
            else {
              uVar15 = *local_28;
              uVar9 = uVar15 & 0x1ff;
              uVar6 = uVar15 >> 9 & 0x1ff;
              uVar15 = uVar15 >> 0x12 & 0x1ff;
            }
            puVar1 = (uint *)(local_6c + iVar16 * 6);
            *puVar1 = uVar9;
            puVar1[1] = uVar6;
            puVar1[2] = uVar15;
            if (DAT_004d8054 == 0) {
              if ((*puVar13 & 0x200000) != 0) {
                *puVar1 = -*puVar1;
              }
              if ((*puVar13 & 0x400000) != 0) {
                puVar1[1] = -puVar1[1];
              }
              if ((*puVar13 & 0x800000) != 0) {
                puVar1[2] = -puVar1[2];
              }
            }
            else {
              if ((*local_28 & 0x8000000) != 0) {
                *puVar1 = -*puVar1;
              }
              if ((*local_28 & 0x10000000) != 0) {
                puVar1[1] = -puVar1[1];
              }
              if ((*local_28 & 0x20000000) != 0) {
                puVar1[2] = -puVar1[2];
              }
            }
            if (iVar16 == 0) {
              *local_6c = *local_6c - (uint)(local_50._2_2_ >> 1);
              local_6c[1] = local_6c[1] - (uint)(local_50._2_2_ >> 1);
              local_6c[2] = local_6c[2] - (uint)(local_50._2_2_ >> 1);
            }
            iVar22 = iVar22 + *puVar1;
            iVar21 = iVar21 + puVar1[1];
            iVar20 = iVar20 + puVar1[2];
            if (DAT_004d8054 == 0) {
              puVar1[5] = (uint)*(ushort *)(puVar13 + 1);
              lVar19 = (ulonglong)*(ushort *)(puVar13 + 1) << 0x20;
              local_20 = 0x4aa18b;
              pvVar4 = (void *)AllocateMemoryWithCallback();
              local_20 = 0x4aa194;
              pbVar5 = (byte *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
              puVar1[3] = (uint)pbVar5;
              *pbVar5 = (byte)(*puVar13 >> 0x18) & 0x1f;
              lVar19 = (ulonglong)(uint)((int)*(short *)(puVar13 + 1) << 1) << 0x20;
              local_20 = 0x4aa1b3;
              puVar3 = (uint *)AllocateMemoryWithCallback();
              local_20 = 0x4aa1bc;
              puVar7 = (undefined2 *)_memset(puVar3,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20))
              ;
              iVar16 = (int)lVar19;
              puVar1[4] = (uint)puVar7;
              *puVar7 = *(undefined2 *)(&DAT_004d38f0 + (uint)*(byte *)local_24 * 2);
              if (DAT_005e72d0 == 0) {
                if (DAT_005e72dc != 0) {
                  puVar10 = (ushort *)puVar1[4];
                  uVar12 = *puVar10 >> 1 & 0x7fe0 | *puVar10 & 0x1f;
                  goto LAB_004aa26c;
                }
              }
              else {
                if (DAT_005e72e0 == 0) {
                  puVar10 = (ushort *)puVar1[4];
                  uVar12 = *puVar10;
                  uVar11 = uVar12 >> 1 & 0xf807 | uVar12 & 0x780;
                  uVar12 = CONCAT11((byte)(uVar11 >> 0xb),
                                    (char)((ushort)(uVar11 >> 2 | uVar12 & 0x1e) >> 1)) | 0xf000;
                }
                else {
                  if (DAT_005e72e4 == 0) {
                    pbVar5 = (byte *)(puVar1[4] + (local_20 - local_30) * 2);
                    *pbVar5 = *pbVar5 | 1;
                    goto LAB_004aa26f;
                  }
                  puVar10 = (ushort *)puVar1[4];
                  uVar15 = *puVar10 >> 1 & 0xffe0;
                  uVar12 = CONCAT11((char)(uVar15 >> 8),(byte)uVar15 | (byte)*puVar10 & 0x1f) |
                           0x8000;
                }
LAB_004aa26c:
                *puVar10 = uVar12;
              }
LAB_004aa26f:
              sVar2 = *(short *)puVar1[4];
              if (sVar2 == DAT_005a1790) {
                *(short *)puVar1[4] = sVar2 + 1;
              }
              uVar15 = (uint)*(short *)(puVar13 + 1);
              puVar13 = puVar3;
            }
            else {
              puVar1[5] = local_28[2];
              lVar19 = (ulonglong)local_28[2] << 0x20;
              local_20 = 0x4aa0f1;
              pvVar4 = (void *)AllocateMemoryWithCallback();
              local_20 = 0x4aa0fa;
              pbVar5 = (byte *)_memset(pvVar4,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
              puVar1[3] = (uint)pbVar5;
              *pbVar5 = *(byte *)(puVar3 + 1) & 0x1f;
              lVar19 = (ulonglong)(puVar3[2] << 1) << 0x20;
              local_20 = 0x4aa116;
              puVar13 = (uint *)AllocateMemoryWithCallback();
              local_20 = 0x4aa11f;
              puVar7 = (undefined2 *)
                       _memset(puVar13,(int)lVar19,(size_t)((ulonglong)lVar19 >> 0x20));
              iVar16 = (int)lVar19;
              puVar1[4] = (uint)puVar7;
              *puVar7 = *(undefined2 *)(&DAT_004d38f0 + (uint)*(byte *)local_24 * 2);
              if (DAT_005e72d4 != 0) {
                uVar12 = *(ushort *)puVar1[4];
                *(ushort *)puVar1[4] = uVar12 >> 1 & 0x7fe0 | uVar12 & 0x1f;
              }
              sVar2 = *(short *)puVar1[4];
              if (sVar2 == DAT_005a1790) {
                *(short *)puVar1[4] = sVar2 + 1;
              }
              uVar15 = puVar3[2];
            }
            iVar14 = local_30;
            local_20 = local_30 + 1;
            local_24 = (uint *)((int)local_24 + 1);
            local_80 = uVar15 + local_30;
            if (local_20 < (int)(uVar15 + local_30)) {
              iVar17 = local_20 * 2;
              do {
                switch(*local_58) {
                case 0:
                  iVar22 = iVar22 + -1;
                case 1:
                  goto switchD_004aa2bc_caseD_1;
                case 2:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_1:
                  iVar21 = iVar21 + 1;
                  goto switchD_004aa2bc_caseD_a;
                case 3:
                  iVar22 = iVar22 + -1;
                  iVar21 = iVar21 + 1;
                  break;
                case 4:
                  goto switchD_004aa2bc_caseD_4;
                case 5:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_4:
                  iVar21 = iVar21 + 1;
                  break;
                case 6:
                  iVar22 = iVar22 + -1;
                  iVar21 = iVar21 + 1;
                  iVar20 = iVar20 + -1;
                  break;
                case 7:
                  goto switchD_004aa2bc_caseD_7;
                case 8:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_7:
                  iVar21 = iVar21 + 1;
switchD_004aa2bc_caseD_10:
                  iVar20 = iVar20 + -1;
                  break;
                case 9:
                  iVar22 = iVar22 + -1;
                case 10:
                  goto switchD_004aa2bc_caseD_a;
                case 0xb:
                  iVar22 = iVar22 + 1;
                  goto switchD_004aa2bc_caseD_a;
                case 0xc:
                  iVar22 = iVar22 + -1;
                  break;
                case 0xe:
                  iVar22 = iVar22 + 1;
                  break;
                case 0xf:
                  iVar22 = iVar22 + -1;
                  iVar20 = iVar20 + -1;
                  break;
                case 0x10:
                  goto switchD_004aa2bc_caseD_10;
                case 0x11:
                  iVar22 = iVar22 + 1;
                  iVar20 = iVar20 + -1;
                  break;
                case 0x12:
                  iVar22 = iVar22 + -1;
                  iVar21 = iVar21 + -1;
                  goto switchD_004aa2bc_caseD_a;
                case 0x13:
                  goto switchD_004aa2bc_caseD_13;
                case 0x14:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_13:
                  iVar21 = iVar21 + -1;
switchD_004aa2bc_caseD_a:
                  iVar20 = iVar20 + 1;
                  break;
                case 0x15:
                  iVar22 = iVar22 + -1;
                  iVar21 = iVar21 + -1;
                  break;
                case 0x16:
                  goto switchD_004aa2bc_caseD_16;
                case 0x17:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_16:
                  iVar21 = iVar21 + -1;
                  break;
                case 0x18:
                  iVar22 = iVar22 + -1;
                  iVar21 = iVar21 + -1;
                  iVar20 = iVar20 + -1;
                  break;
                case 0x19:
                  goto switchD_004aa2bc_caseD_19;
                case 0x1a:
                  iVar22 = iVar22 + 1;
switchD_004aa2bc_caseD_19:
                  iVar21 = iVar21 + -1;
                  iVar20 = iVar20 + -1;
                }
                local_68 = iVar22 * iVar22;
                FUN_004ad534();
                iVar16 = __ftol();
                if (local_70 < iVar16) {
                  local_70 = iVar16;
                }
                local_68 = iVar21 * iVar21;
                iVar16 = SUB84((double)((float)local_68 + (float)(iVar20 * iVar20)),0);
                puVar13 = (uint *)0x4aa3fb;
                FUN_004ad534();
                iVar8 = __ftol();
                if (local_64 < iVar8) {
                  local_64 = iVar8;
                }
                *(byte *)((local_20 - local_30) + puVar1[3]) = *local_58;
                *(undefined2 *)(iVar17 + iVar14 * -2 + puVar1[4]) =
                     *(undefined2 *)(&DAT_004d38f0 + (uint)*(byte *)local_24 * 2);
                if ((DAT_005e72d0 == 0) || (DAT_004d8054 != 0)) {
                  if (((DAT_005e72d4 != 0) && (DAT_004d8054 != 0)) ||
                     ((DAT_005e72dc != 0 && (DAT_004d8054 == 0)))) {
                    iVar8 = iVar17 + iVar14 * -2;
                    uVar12 = *(ushort *)(iVar8 + puVar1[4]) >> 1 & 0x7fe0 |
                             *(byte *)(iVar8 + puVar1[4]) & 0x1f;
                    goto LAB_004aa543;
                  }
                }
                else {
                  if (DAT_005e72e0 == 0) {
                    iVar8 = iVar17 + iVar14 * -2;
                    uVar12 = *(ushort *)(iVar8 + puVar1[4]) >> 1 & 0xf807 |
                             *(ushort *)(iVar8 + puVar1[4]) & 0x780;
                    uVar12 = CONCAT11((byte)(uVar12 >> 0xb),
                                      (char)((ushort)(uVar12 >> 2 |
                                                     *(byte *)(iVar8 + puVar1[4]) & 0x1e) >> 1)) |
                             0xf000;
LAB_004aa543:
                    uVar15 = puVar1[4];
                  }
                  else {
                    if (DAT_005e72e4 != 0) {
                      iVar8 = iVar17 + iVar14 * -2;
                      uVar15 = *(ushort *)(iVar8 + puVar1[4]) >> 1 & 0xffe0;
                      uVar12 = CONCAT11((char)(uVar15 >> 8),
                                        (byte)uVar15 | *(byte *)(iVar8 + puVar1[4]) & 0x1f) | 0x8000
                      ;
                      goto LAB_004aa543;
                    }
                    uVar15 = puVar1[4];
                    iVar8 = iVar17 + iVar14 * -2;
                    uVar12 = *(ushort *)(iVar8 + uVar15) | 1;
                  }
                  *(ushort *)(iVar8 + uVar15) = uVar12;
                }
                uVar15 = puVar1[4];
                if (*(short *)(iVar17 + iVar14 * -2 + uVar15) == DAT_005a1790) {
                  iVar8 = iVar17 + iVar14 * -2;
                  *(short *)(iVar8 + uVar15) = *(short *)(iVar8 + uVar15) + 1;
                }
                local_58 = local_58 + 1;
                local_20 = local_20 + 1;
                iVar17 = iVar17 + 2;
                local_24 = (uint *)((int)local_24 + 1);
              } while (local_20 < local_80);
            }
            if (DAT_004d8054 == 0) {
              puVar13 = (uint *)((int)puVar13 + 6);
            }
            else {
              local_28 = local_28 + 3;
            }
            local_30 = local_20;
            iVar16 = iVar16 + 1;
          } while (iVar16 < (int)(uint)uStackY_42);
        }
        puVar13 = local_54;
        iVar16 = local_7c;
        param_2[local_7c + 8] = local_48;
        param_2[local_7c + 0xb] = (uint)local_50._2_2_;
        param_2[local_7c + 0xf] = (int)(uint)local_50._2_2_ >> 1;
        param_2[local_7c] = local_6c;
        param_2[local_7c + 4] = (uint)uStackY_42;
        *(undefined *)(param_2 + 0x4d) = 1;
        param_2[0x4a] = local_70 * 2 + 1;
        param_2[0x4b] = local_64 * 2 + 1;
        if (local_5c != (uint *)0x0) {
          FreeMemory();
          local_5c = (uint *)0x0;
        }
        if (puVar13 != (uint *)0x0) {
          FreeMemory();
          local_54 = (uint *)0x0;
        }
        if (local_38 != (byte *)0x0) {
          FreeMemory();
          local_38 = (byte *)0x0;
        }
        if (local_3c != (byte *)0x0) {
          FreeMemory();
          local_3c = (byte *)0x0;
        }
        if (local_2c != 0) break;
        uVar18 = 0;
        param_2[3] = param_2[iVar16];
        param_2[0xe] = param_2[iVar16 + 0xb];
        param_2[7] = param_2[iVar16 + 4];
        param_2[0x12] = param_2[iVar16 + 0xf];
      }
      local_7c = iVar16 + 1;
    } while (iVar16 + 1 < local_84);
  }
  if (local_2c != 0) {
    param_2[3] = *param_2;
    param_2[0xe] = param_2[0xb];
    param_2[7] = param_2[4];
    param_2[0x12] = param_2[0xf];
  }
  if ((DAT_005df2e8 == 0) && (local_2c == 0)) {
    local_24 = &local_34;
    local_20 = 2;
    local_28 = (uint *)0x4aa70e;
    FUN_00441d30();
    iVar21 = 0;
    if ((short)local_34 != 0) {
      do {
        local_24 = (uint *)&local_78;
        local_20 = 6;
        local_28 = (uint *)0x4aa72b;
        FUN_00441d30();
        if ((local_78 == param_1) && (CONCAT22(uStackY_74,uStackY_76) != 0)) break;
        iVar21 = iVar21 + 1;
      } while (iVar21 < (int)(local_34 & 0xffff));
    }
    local_24 = &local_50;
    local_20 = 0x14;
    local_28 = (uint *)0x4aa76c;
    FUN_00441d30();
    param_2[0xd] = (uint)local_50._2_2_;
  }
  return 1;
}



undefined4 FUN_004aa830(int param_1,int param_2)

{
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xe6 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xf2);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xf6 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x102);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x10 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x1c);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x24 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x30);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x40 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x4c);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xc6 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xd2);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xd6 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xe2);
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x50 + param_1 * 4) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x5c);
  return 1;
}



void * FUN_004aa8d0(undefined4 param_1,undefined4 param_2,undefined4 param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  float fVar3;
  void *pvVar4;
  undefined4 uVar5;
  bool bVar6;
  int iVar7;
  undefined4 uVar8;
  size_t _Size;
  
  _Size = 0x159;
  iVar7 = 0;
  pvVar4 = (void *)AllocateMemoryWithCallback(0x159);
  pvVar4 = _memset(pvVar4,iVar7,_Size);
  FUN_004a9bb0(param_1,pvVar4,param_3,param_4);
  *(undefined4 *)((int)pvVar4 + 0x74) = 0;
  *(undefined4 *)((int)pvVar4 + 0x130) = param_2;
  bVar6 = DAT_005df2e8 != 0;
  iVar7 = 0;
  if (bVar6 != 0xfffffffe) {
    param_4 = (int *)((int)pvVar4 + 0x2c);
    do {
      iVar2 = *param_4;
      *(int *)((int)pvVar4 + 0x70) = iVar7;
      *(int *)((int)pvVar4 + 0x38) = iVar2;
      iVar2 = *(int *)((int)pvVar4 + 0x38);
      if (DAT_005d66a4 == 0) {
        if (iVar2 < 8) {
          FUN_004abf70(pvVar4,8);
          uVar5 = DAT_005a1144;
          uVar8 = DAT_005a1130;
        }
        else if (iVar2 < 0x10) {
          FUN_004abf70(pvVar4,0x10);
          uVar5 = DAT_005a1134;
          uVar8 = DAT_005a1148;
        }
        else {
          if (iVar2 < 0x20) {
            FUN_004abf70(pvVar4,0x20);
            uVar8 = DAT_005a1138;
            if (DAT_005e72d0 != 0) {
              uVar8 = DAT_005a114c;
            }
            goto LAB_004aaac4;
          }
          if (iVar2 < 0x40) {
            FUN_004abf70(pvVar4,0x40);
            uVar5 = DAT_005a1150;
            uVar8 = DAT_005a113c;
          }
          else {
            FUN_004abf70(pvVar4,0x80);
            uVar5 = DAT_005a1140;
            uVar8 = DAT_005a1154;
          }
        }
joined_r0x004aaab3:
        if (DAT_005e72d0 == 0) {
          uVar8 = uVar5;
        }
      }
      else {
        if (iVar2 < 0x20) {
          FUN_004abf70(pvVar4,0x20);
          uVar5 = DAT_005a114c;
          uVar8 = DAT_005a1138;
          goto joined_r0x004aaab3;
        }
        if (iVar2 < 0x40) {
          FUN_004abf70(pvVar4,0x40);
          uVar5 = DAT_005a113c;
          uVar8 = DAT_005a1150;
          goto joined_r0x004aaab3;
        }
        FUN_004abf70(pvVar4,0x80);
        uVar8 = DAT_005a1140;
        if (DAT_005e72d0 != 0) {
          uVar8 = DAT_005a1154;
        }
      }
LAB_004aaac4:
      FUN_004ac0c0(uVar8,pvVar4);
      iVar2 = *(int *)((int)pvVar4 + 0x34);
      iVar1 = *param_4;
      *(undefined4 *)(*(int *)((int)pvVar4 + 0x155) + 0x102) = 0;
      fVar3 = (float)iVar2 / (float)iVar1;
      *(undefined4 *)(*(int *)((int)pvVar4 + 0x155) + 0xf2) = 0;
      uVar5 = FUN_004a8885(pvVar4,0,fVar3);
      *(undefined4 *)(*(int *)((int)pvVar4 + 0x155) + 0xd2) = uVar5;
      uVar5 = FUN_004a8885(pvVar4,1,fVar3);
      *(undefined4 *)(*(int *)((int)pvVar4 + 0x155) + 0xe2) = uVar5;
      FUN_004aa830(iVar7,pvVar4);
      iVar7 = iVar7 + 1;
      param_4 = param_4 + 1;
    } while (iVar7 < (int)(bVar6 + 2));
  }
  return pvVar4;
}



void FUN_004aab50(int param_1,int param_2)

{
  int iVar1;
  float fVar2;
  void *pvVar3;
  undefined4 uVar4;
  int *piVar5;
  int iVar6;
  void **ppvVar7;
  bool bVar8;
  int iVar9;
  size_t _Size;
  
  AdjustStackForLargeAllocations();
  piVar5 = (int *)(param_2 + 0x5b);
  bVar8 = DAT_005df2e8 != 0;
  ppvVar7 = (void **)(param_1 + 0x5b);
  iVar6 = *piVar5;
  while (iVar6 != 0) {
    iVar6 = 0;
    _Size = 0x159;
    iVar9 = 0;
    pvVar3 = (void *)AllocateMemoryWithCallback(0x159);
    pvVar3 = _memset(pvVar3,iVar9,_Size);
    *ppvVar7 = pvVar3;
    FUN_004ad7a0(pvVar3,*piVar5,0x159);
    *(undefined4 *)((int)*ppvVar7 + 0x74) = 0;
    *(undefined4 *)((int)*ppvVar7 + 0x155) = 0;
    *(int *)((int)*ppvVar7 + 0x130) = param_1;
    if (bVar8 != 0xfffffffe) {
      iVar9 = 0x2c;
      do {
        *(undefined4 *)((int)*ppvVar7 + 0x38) = *(undefined4 *)(iVar9 + (int)*ppvVar7);
        *(int *)((int)*ppvVar7 + 0x70) = iVar6;
        pvVar3 = *ppvVar7;
        iVar1 = *(int *)((int)pvVar3 + 0x38);
        if (DAT_005d66a4 == 0) {
          if (iVar1 < 8) {
            FUN_004abf70(pvVar3,8);
            if (DAT_005e72d0 == 0) {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1130;
            }
            else {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1144;
            }
          }
          else if (iVar1 < 0x10) {
            FUN_004abf70(pvVar3,0x10);
            if (DAT_005e72d0 == 0) {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1134;
            }
            else {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1148;
            }
          }
          else if (iVar1 < 0x20) {
            FUN_004abf70(pvVar3,0x20);
            if (DAT_005e72d0 == 0) {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1138;
            }
            else {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a114c;
            }
          }
          else if (iVar1 < 0x40) {
            FUN_004abf70(pvVar3,0x40);
            if (DAT_005e72d0 == 0) {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a113c;
            }
            else {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1150;
            }
          }
          else {
            FUN_004abf70(pvVar3,0x80);
            if (DAT_005e72d0 == 0) {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1140;
            }
            else {
              pvVar3 = *ppvVar7;
              uVar4 = DAT_005a1154;
            }
          }
        }
        else if (iVar1 < 0x20) {
          FUN_004abf70(pvVar3,0x20);
          if (DAT_005e72d0 == 0) {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a1138;
          }
          else {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a114c;
          }
        }
        else if (iVar1 < 0x40) {
          FUN_004abf70(pvVar3,0x40);
          if (DAT_005e72d0 == 0) {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a113c;
          }
          else {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a1150;
          }
        }
        else {
          FUN_004abf70(pvVar3,0x80);
          if (DAT_005e72d0 == 0) {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a1140;
          }
          else {
            pvVar3 = *ppvVar7;
            uVar4 = DAT_005a1154;
          }
        }
        FUN_004ac0c0(uVar4,pvVar3);
        pvVar3 = *ppvVar7;
        fVar2 = (float)*(int *)((int)pvVar3 + 0x34) / (float)*(int *)(iVar9 + (int)pvVar3);
        *(undefined4 *)(*(int *)((int)pvVar3 + 0x155) + 0x102) = 0;
        *(undefined4 *)(*(int *)((int)*ppvVar7 + 0x155) + 0xf2) = 0;
        uVar4 = FUN_004a8885(*ppvVar7,0,fVar2);
        *(undefined4 *)(*(int *)((int)*ppvVar7 + 0x155) + 0xd2) = uVar4;
        uVar4 = FUN_004a8885(*ppvVar7,1,fVar2);
        *(undefined4 *)(*(int *)((int)*ppvVar7 + 0x155) + 0xe2) = uVar4;
        FUN_004aa830(iVar6,*ppvVar7);
        iVar6 = iVar6 + 1;
        iVar9 = iVar9 + 4;
      } while (iVar6 < (int)(bVar8 + 2));
    }
    if (*piVar5 == *(int *)(param_2 + 0x5f)) {
      *(void **)(param_1 + 0x5f) = *ppvVar7;
    }
    piVar5 = (int *)(*piVar5 + 0x74);
    ppvVar7 = (void **)((int)*ppvVar7 + 0x74);
    iVar6 = *piVar5;
  }
  return;
}



undefined4
FUN_004aae70(float *param_1,float *param_2,float *param_3,float *param_4,float *param_5,
            float *param_6,float *param_7)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  float local_84 [4];
  float local_74;
  float local_70;
  float local_6c;
  float local_60;
  float local_5c;
  float local_44 [4];
  float local_34;
  float local_30;
  float local_2c;
  undefined4 uStack_20;
  float *local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  pfVar3 = local_44;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar3 = *param_1;
    param_1 = param_1 + 1;
    pfVar3 = pfVar3 + 1;
  }
  fVar1 = -local_44[2];
  *param_5 = fVar1;
  local_18 = (double)(1.0 - fVar1 * fVar1);
  local_1c = (float *)0x4aaec3;
  fVar5 = (float10)FUN_004ad534();
  *param_4 = (float)fVar5;
  if (local_30 < 0.0) {
    *param_4 = (float)-fVar5;
  }
  if ((float)local_1c < 0.0) {
    *param_4 = -*param_4;
  }
  *param_3 = -(local_2c / *param_4);
  *param_2 = (float)local_1c / *param_4;
  *param_7 = -(local_44[1] / *param_4);
  *param_6 = local_44[0] / *param_4;
  if ((*param_4 <= 0.8) && (-0.8 <= *param_4)) {
    local_18 = (double)(local_30 * local_30 + local_34 * local_34);
    local_1c = (float *)0x4aaf6e;
    fVar5 = (float10)FUN_004ad534();
    local_84[0] = local_30 / (float)fVar5;
    local_18 = (double)CONCAT44(local_84,local_44);
    local_1c = local_44;
    *param_7 = local_34 / (float)fVar5;
    *param_6 = local_84[0];
    local_84[1] = *param_7;
    local_74 = -*param_7;
    pfVar3 = (float *)&DAT_004d1ae0;
    pfVar4 = local_84;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pfVar4 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar4 = pfVar4 + 1;
    }
    uStack_20 = 0x4aafcf;
    local_70 = local_84[0];
    FUN_0045ecb0();
    local_18 = (double)(local_2c * local_2c + local_30 * local_30);
    local_1c = (float *)0x4aafed;
    fVar5 = (float10)FUN_004ad534();
    local_60 = local_2c / (float)fVar5;
    local_1c = local_44;
    local_18 = (double)CONCAT44(local_84,local_44);
    *param_2 = local_30 / (float)fVar5;
    *param_3 = local_60;
    local_70 = *param_2;
    local_5c = *param_2;
    local_6c = -local_60;
    pfVar3 = (float *)&DAT_004d1ae0;
    pfVar4 = local_84;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pfVar4 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar4 = pfVar4 + 1;
    }
    uStack_20 = 0x4ab052;
    FUN_0045ecb0();
    *param_4 = local_44[0];
    *param_5 = local_44[2];
    return 0;
  }
  return 1;
}



undefined4
FUN_004ab080(float *param_1,float *param_2,float *param_3,float *param_4,float *param_5,
            float *param_6,float *param_7)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  float local_84 [4];
  float local_74;
  float local_70;
  float local_6c;
  float local_60;
  float local_5c;
  float local_44 [4];
  float local_34;
  float local_30;
  float local_2c;
  undefined4 uStack_20;
  float *local_1c;
  double local_18;
  
  AdjustStackForLargeAllocations();
  pfVar3 = local_44;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *pfVar3 = *param_1;
    param_1 = param_1 + 1;
    pfVar3 = pfVar3 + 1;
  }
  fVar1 = -local_44[2];
  *param_5 = fVar1;
  local_18 = (double)(1.0 - fVar1 * fVar1);
  local_1c = (float *)0x4ab0d3;
  fVar5 = (float10)FUN_004ad534();
  *param_4 = (float)fVar5;
  if (local_30 < 0.0) {
    *param_4 = (float)-fVar5;
  }
  if ((float)local_1c < 0.0) {
    *param_4 = -*param_4;
  }
  *param_3 = -(local_2c / *param_4);
  *param_2 = (float)local_1c / *param_4;
  *param_7 = -(local_44[1] / *param_4);
  *param_6 = local_44[0] / *param_4;
  if ((*param_4 <= 0.8) && (-0.8 <= *param_4)) {
    local_18 = (double)(local_30 * local_30 + local_34 * local_34);
    local_1c = (float *)0x4ab17e;
    fVar5 = (float10)FUN_004ad534();
    local_84[0] = local_30 / (float)fVar5;
    local_18 = (double)CONCAT44(local_84,local_44);
    local_1c = local_44;
    *param_7 = local_34 / (float)fVar5;
    *param_6 = local_84[0];
    local_84[1] = *param_7;
    local_74 = -*param_7;
    pfVar3 = (float *)&DAT_004d1ae0;
    pfVar4 = local_84;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pfVar4 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar4 = pfVar4 + 1;
    }
    uStack_20 = 0x4ab1df;
    local_70 = local_84[0];
    FUN_0045ecb0();
    local_18 = (double)(local_2c * local_2c + local_30 * local_30);
    local_1c = (float *)0x4ab1fd;
    fVar5 = (float10)FUN_004ad534();
    local_60 = local_2c / (float)fVar5;
    local_1c = local_44;
    local_18 = (double)CONCAT44(local_84,local_44);
    *param_2 = local_30 / (float)fVar5;
    *param_3 = local_60;
    local_70 = *param_2;
    local_5c = *param_2;
    local_6c = -local_60;
    pfVar3 = (float *)&DAT_004d1ae0;
    pfVar4 = local_84;
    for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pfVar4 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar4 = pfVar4 + 1;
    }
    uStack_20 = 0x4ab262;
    FUN_0045ecb0();
    *param_4 = local_44[0];
    *param_5 = local_44[2];
    return 0;
  }
  return 1;
}



undefined4 FUN_004ab290(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float *pfVar3;
  int iVar4;
  float *pfVar5;
  float *pfVar6;
  float10 fVar7;
  float local_8c [4];
  float local_7c;
  float local_78;
  float local_74;
  float local_6c;
  float local_68;
  float local_64;
  float local_4c [4];
  float local_3c;
  float local_38;
  float local_34;
  float local_2c;
  float local_28;
  float local_24;
  undefined4 uStack_20;
  float *pfStack_1c;
  double local_18;
  float fVar8;
  
  pfVar3 = param_1;
  AdjustStackForLargeAllocations();
  local_8c[2] = -param_1[2];
  fVar1 = 1.0 - local_8c[2] * local_8c[2];
  if (fVar1 <= 0.0) {
    fVar1 = 0.0;
  }
  local_18 = (double)fVar1;
  pfStack_1c = (float *)0x4ab2d4;
  fVar7 = (float10)FUN_004ad534();
  pfVar5 = param_1 + 5;
  param_1 = (float *)(float)fVar7;
  if (*pfVar5 < 0.0) {
    param_1 = (float *)-(float)param_1;
  }
  if (pfVar3[10] < 0.0) {
    param_1 = (float *)-(float)param_1;
  }
  fVar1 = pfVar3[6];
  local_78 = pfVar3[10] / (float)param_1;
  *param_3 = -(pfVar3[1] / (float)param_1);
  local_74 = -(fVar1 / (float)param_1);
  *param_2 = *pfVar3 / (float)param_1;
  if (((float)param_1 < 0.8) && (-0.8 < (float)param_1)) {
    pfVar5 = pfVar3;
    pfVar6 = local_4c;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    local_18 = (double)(local_38 * local_38 + local_3c * local_3c);
    pfStack_1c = (float *)0x4ab38d;
    fVar7 = (float10)FUN_004ad534();
    local_8c[0] = local_38 / (float)fVar7;
    local_18 = (double)CONCAT44(local_8c,local_4c);
    pfStack_1c = local_4c;
    *param_3 = local_3c / (float)fVar7;
    *param_2 = local_8c[0];
    local_8c[1] = *param_3;
    local_7c = -*param_3;
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_8c;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    uStack_20 = 0x4ab3fa;
    local_78 = local_8c[0];
    FUN_0045ecb0();
    local_18 = (double)(local_34 * local_34 + local_38 * local_38);
    pfStack_1c = (float *)0x4ab418;
    fVar7 = (float10)FUN_004ad534();
    local_68 = local_34 / (float)fVar7;
    pfStack_1c = local_4c;
    local_18 = (double)CONCAT44(local_8c,local_4c);
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_8c;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    fVar2 = local_38 / (float)fVar7;
    fVar1 = -local_68;
    uStack_20 = 0x4ab478;
    local_78 = fVar2;
    local_74 = fVar1;
    local_64 = fVar2;
    fVar8 = local_68;
    FUN_0045ecb0();
    local_8c[2] = local_4c[2];
    local_64 = local_4c[0];
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_4c;
    local_6c = local_4c[2];
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    pfVar5 = local_4c;
    pfVar6 = local_8c;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    local_8c[0] = local_64;
    local_6c = -local_6c;
    pfStack_1c = local_4c;
    local_18 = (double)CONCAT44(local_8c,local_4c);
    uStack_20 = 0x4ab4ce;
    FUN_0045ecb0();
    local_68 = fVar8;
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_8c;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    pfStack_1c = local_4c;
    local_18 = (double)CONCAT44(local_8c,local_4c);
    uStack_20 = 0x4ab50c;
    local_78 = fVar2;
    local_74 = fVar1;
    local_64 = fVar2;
    FUN_0045ecb0();
    pfVar3[2] = local_4c[2];
    *pfVar3 = local_4c[0];
    pfVar3[1] = local_4c[1];
    pfVar3[6] = local_34;
    pfVar3[4] = local_3c;
    pfVar3[5] = local_38;
    pfVar3[10] = local_24;
    pfVar3[8] = local_2c;
    pfVar3[9] = local_28;
    return 1;
  }
  pfVar5 = (float *)&DAT_004d1ae0;
  pfVar6 = local_4c;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  pfVar5 = local_4c;
  pfVar6 = local_8c;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_68 = -local_74;
  pfStack_1c = local_4c;
  local_18 = (double)CONCAT44(local_8c,local_4c);
  uStack_20 = 0x4ab597;
  local_64 = local_78;
  FUN_0045ecb0();
  pfVar5 = (float *)&DAT_004d1ae0;
  pfVar6 = local_8c;
  local_6c = local_8c[2];
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_8c[2] = -local_8c[2];
  local_64 = (float)param_1;
  local_8c[0] = (float)param_1;
  pfStack_1c = local_4c;
  local_18 = (double)CONCAT44(local_8c,local_4c);
  uStack_20 = 0x4ab5dc;
  FUN_0045ecb0();
  *pfVar3 = local_4c[0];
  pfVar3[1] = local_4c[1];
  pfVar3[2] = local_4c[2];
  pfVar3[4] = local_3c;
  pfVar3[5] = local_38;
  pfVar3[6] = local_34;
  pfVar3[8] = local_2c;
  pfVar3[9] = local_28;
  pfVar3[10] = local_24;
  return 0;
}



undefined4 FUN_004ab620(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float *pfVar3;
  int iVar4;
  float *pfVar5;
  float *pfVar6;
  float10 fVar7;
  float local_88 [4];
  float local_78;
  float local_74;
  float local_70;
  float local_68;
  float local_64;
  float local_60;
  float local_48 [4];
  float local_38;
  float local_34;
  float local_30;
  float local_28;
  float local_24;
  float local_20;
  float *pfStack_1c;
  double local_18;
  
  pfVar3 = param_1;
  AdjustStackForLargeAllocations();
  local_88[2] = -param_1[2];
  local_18 = (double)(1.0 - local_88[2] * local_88[2]);
  pfStack_1c = (float *)0x4ab64f;
  fVar7 = (float10)FUN_004ad534();
  pfVar5 = param_1 + 5;
  param_1 = (float *)(float)fVar7;
  if (*pfVar5 < 0.0) {
    param_1 = (float *)-(float)param_1;
  }
  if (pfVar3[10] < 0.0) {
    param_1 = (float *)-(float)param_1;
  }
  fVar1 = pfVar3[10];
  fVar2 = pfVar3[6];
  *param_3 = -(pfVar3[1] / (float)param_1);
  local_70 = -(fVar2 / (float)param_1);
  *param_2 = *pfVar3 / (float)param_1;
  if (((float)param_1 < 0.8) && (-0.8 < (float)param_1)) {
    pfVar5 = pfVar3;
    pfVar6 = local_48;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    local_18 = (double)(local_34 * local_34 + local_38 * local_38);
    pfStack_1c = (float *)0x4ab707;
    fVar7 = (float10)FUN_004ad534();
    local_88[0] = local_34 / (float)fVar7;
    local_18 = (double)CONCAT44(local_88,local_48);
    pfStack_1c = local_48;
    *param_3 = local_38 / (float)fVar7;
    *param_2 = local_88[0];
    local_88[1] = *param_3;
    local_78 = -*param_3;
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_88;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    local_20 = 6.861633e-39;
    local_74 = local_88[0];
    FUN_0045ecb0();
    local_18 = (double)(local_30 * local_30 + local_34 * local_34);
    pfStack_1c = (float *)0x4ab78f;
    fVar7 = (float10)FUN_004ad534();
    fVar1 = local_30 / (float)fVar7;
    pfStack_1c = local_48;
    local_18 = (double)CONCAT44(local_88,local_48);
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_88;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    fVar2 = local_34 / (float)fVar7;
    local_20 = 6.86181e-39;
    local_74 = fVar2;
    local_70 = -fVar1;
    local_64 = fVar1;
    local_60 = fVar2;
    FUN_0045ecb0();
    local_88[2] = local_48[2];
    local_60 = local_48[0];
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_48;
    local_68 = local_48[2];
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    pfVar5 = local_48;
    pfVar6 = local_88;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    local_88[0] = local_60;
    local_68 = -local_68;
    pfStack_1c = local_48;
    local_18 = (double)CONCAT44(local_88,local_48);
    local_20 = 6.86193e-39;
    FUN_0045ecb0();
    pfVar5 = (float *)&DAT_004d1ae0;
    pfVar6 = local_88;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *pfVar6 = *pfVar5;
      pfVar5 = pfVar5 + 1;
      pfVar6 = pfVar6 + 1;
    }
    pfStack_1c = local_48;
    local_18 = (double)CONCAT44(local_88,local_48);
    local_20 = 6.862017e-39;
    local_74 = fVar2;
    local_70 = -fVar1;
    local_64 = fVar1;
    local_60 = fVar2;
    FUN_0045ecb0();
    pfVar3[2] = local_48[2];
    *pfVar3 = local_48[0];
    pfVar3[1] = local_48[1];
    pfVar3[6] = local_30;
    pfVar3[4] = local_38;
    pfVar3[5] = local_34;
    pfVar3[10] = local_20;
    pfVar3[8] = local_28;
    pfVar3[9] = local_24;
    return 1;
  }
  pfVar5 = (float *)&DAT_004d1ae0;
  pfVar6 = local_48;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_74 = -(fVar1 / (float)param_1);
  pfStack_1c = local_48;
  pfVar5 = local_48;
  pfVar6 = local_88;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_64 = -local_70;
  local_18 = (double)CONCAT44(local_88,local_48);
  local_20 = 6.862212e-39;
  local_60 = local_74;
  FUN_0045ecb0();
  pfVar5 = (float *)&DAT_004d1ae0;
  pfVar6 = local_88;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = *pfVar5;
    pfVar5 = pfVar5 + 1;
    pfVar6 = pfVar6 + 1;
  }
  local_68 = -local_88[2];
  local_60 = (float)param_1;
  local_88[0] = (float)param_1;
  pfStack_1c = local_48;
  local_18 = (double)CONCAT44(local_88,local_48);
  local_20 = 6.862309e-39;
  FUN_0045ecb0();
  *pfVar3 = local_48[0];
  pfVar3[1] = local_48[1];
  pfVar3[2] = local_48[2];
  pfVar3[4] = local_38;
  pfVar3[5] = local_34;
  pfVar3[6] = local_30;
  pfVar3[8] = local_28;
  pfVar3[9] = local_24;
  pfVar3[10] = local_20;
  return 0;
}



undefined4 FUN_004ab9a0(undefined4 param_1,float param_2,float param_3)

{
  int iVar1;
  float *pfVar2;
  float *pfVar3;
  float local_44 [4];
  float local_34;
  float local_30;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  float *pfStack_10;
  
  AdjustStackForLargeAllocations();
  pfVar2 = (float *)&DAT_004d1ae0;
  pfVar3 = local_44;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *pfVar3 = *pfVar2;
    pfVar2 = pfVar2 + 1;
    pfVar3 = pfVar3 + 1;
  }
  local_34 = -param_3;
  local_44[0] = param_2;
  pfStack_10 = local_44;
  uStack_14 = param_1;
  uStack_18 = param_1;
  local_44[1] = param_3;
  local_30 = param_2;
  uStack_1c = 0x4ab9e5;
  MultiplyMatrices();
  return 1;
}



void FUN_004aba00(void)

{
  if (DAT_005e72d0 == 0) {
    *(undefined4 *)(DAT_005a1130 + 0x2e) = 0;
    *(undefined4 *)(DAT_005a1134 + 0x2e) = 0;
    *(undefined4 *)(DAT_005a1138 + 0x2e) = 0;
    *(undefined4 *)(DAT_005a113c + 0x2e) = 0;
    if (DAT_005a1140 != 0) {
      *(undefined4 *)(DAT_005a1140 + 0x2e) = 0;
    }
    *(undefined4 *)(DAT_005a1130 + 4) = 0;
    *(undefined4 *)(DAT_005a1134 + 4) = 0;
    *(undefined4 *)(DAT_005a1138 + 4) = 0;
    *(undefined4 *)(DAT_005a113c + 4) = 0;
    if (DAT_005a1140 != 0) {
      *(undefined4 *)(DAT_005a1140 + 4) = 0;
    }
  }
  else {
    *(undefined4 *)(DAT_005a1144 + 0x2e) = 0;
    *(undefined4 *)(DAT_005a1148 + 0x2e) = 0;
    *(undefined4 *)(DAT_005a114c + 0x2e) = 0;
    *(undefined4 *)(DAT_005a1150 + 0x2e) = 0;
    if (DAT_005a1154 != 0) {
      *(undefined4 *)(DAT_005a1154 + 0x2e) = 0;
    }
    *(undefined4 *)(DAT_005a1144 + 4) = 0;
    *(undefined4 *)(DAT_005a1148 + 4) = 0;
    *(undefined4 *)(DAT_005a114c + 4) = 0;
    *(undefined4 *)(DAT_005a1150 + 4) = 0;
    if (DAT_005a1154 != 0) {
      *(undefined4 *)(DAT_005a1154 + 4) = 0;
      DAT_004d77b8 = 0;
      return;
    }
  }
  DAT_004d77b8 = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004abae0(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  _DAT_005a1128 = 0;
  uVar3 = (-(uint)(DAT_00598944 != 0) & 0x30) + 0x10;
  if (DAT_005e72f0 == 0) {
    if (DAT_00598944 != 0) goto joined_r0x004abb36;
    if (DAT_005df2e8 != 0) {
      uVar1 = DAT_005e7304 / 0xca80;
      goto LAB_004abb76;
    }
  }
  else if (DAT_00598944 == 0) {
    if (DAT_005df2e8 != 0) {
      uVar1 = DAT_005e7304 / 0x23bf0;
      goto LAB_004abb76;
    }
  }
  else {
joined_r0x004abb36:
    if (DAT_005df2e8 != 0) {
      uVar1 = DAT_005e7304 / 0x13a80;
      goto LAB_004abb76;
    }
  }
  uVar1 = DAT_005e7304 / 0x3280;
LAB_004abb76:
  if (uVar1 < 2) {
    uVar2 = 1;
  }
  else {
    uVar2 = uVar3;
    if (uVar1 <= uVar3) {
      uVar2 = uVar1 - 1;
    }
  }
  if (DAT_005e72d0 == 0) {
    DAT_005a1130 = FUN_0048f000(8,uVar2,uVar3,5);
    DAT_005a1134 = FUN_0048f000(0x10,uVar2,uVar3,5);
    DAT_005a1138 = FUN_0048f000(0x20,uVar2,uVar3,5);
    DAT_005a113c = FUN_0048f000(0x40,uVar2,uVar3,5);
    if (DAT_005df2e8 == 0) {
      DAT_005a1140 = 0;
    }
    else {
      DAT_005a1140 = FUN_0048f000(0x80,uVar2,uVar3,5);
    }
  }
  else {
    DAT_005a1144 = FUN_0048f000(8,uVar2,uVar3,6);
    DAT_005a1148 = FUN_0048f000(0x10,uVar2,uVar3,6);
    DAT_005a114c = FUN_0048f000(0x20,uVar2,uVar3,6);
    DAT_005a1150 = FUN_0048f000(0x40,uVar2,uVar3,6);
    if (DAT_005df2e8 == 0) {
      DAT_005a1154 = 0;
    }
    else {
      DAT_005a1154 = FUN_0048f000(0x80,uVar2,uVar3,6);
    }
  }
  DAT_004d3b3c = uVar3;
  FUN_004abfc0(&DAT_005a17a0,8);
  FUN_004abfc0(&DAT_005a17c0,0x10);
  FUN_004abfc0(&DAT_005a17b0,0x20);
  FUN_004abfc0(&DAT_005a17e0,0x40);
  FUN_004abfc0(&DAT_005a17d0,0x80);
  if (DAT_005e72d0 == 0) {
    DAT_005a1790 = 0x39e7;
    if (DAT_005e72dc == 0) {
      _DAT_005a1128 = 1;
      DAT_005a1784 = 5;
      DAT_005a1788 = 0;
      DAT_005a178c = 0xb;
      DAT_005a1790 = 0x39e7;
      DAT_005a1792 = 0x1f;
      DAT_005a1794 = 0x7e0;
      DAT_005a1796 = 0xf800;
      return;
    }
  }
  else {
    if (DAT_005e72e0 == 0) {
      DAT_005a1790 = 0x777;
      DAT_005a1796 = 0xf00;
      DAT_005a1794 = 0xf0;
      DAT_005a1792 = 0xf;
      DAT_005a178c = 8;
      DAT_005a1784 = 4;
      DAT_005a1788 = 0;
      _DAT_005a1128 = 1;
      return;
    }
    if (DAT_005e72e4 == 0) {
      DAT_005a1790 = 0xfffe;
      DAT_005a1796 = 0xf800;
      DAT_005a1794 = 0x7c0;
      DAT_005a1792 = 0x3e;
      DAT_005a178c = 0xb;
      DAT_005a1784 = 6;
      DAT_005a1788 = 1;
      _DAT_005a1128 = 1;
      return;
    }
    DAT_005a1790 = 0;
  }
  DAT_005a1796 = 0x7c00;
  DAT_005a1794 = 0x3e0;
  DAT_005a178c = 10;
  DAT_005a1792 = 0x1f;
  DAT_005a1788 = 0;
  DAT_005a1784 = 5;
  _DAT_005a1128 = 1;
  return;
}



undefined4 FUN_004abe10(void)

{
  FUN_0048f630(DAT_005a1130);
  FUN_0048f630(DAT_005a1134);
  FUN_0048f630(DAT_005a1138);
  FUN_0048f630(DAT_005a113c);
  FUN_0048f630(DAT_005a1140);
  FUN_0048f630(DAT_005a1144);
  FUN_0048f630(DAT_005a1148);
  FUN_0048f630(DAT_005a114c);
  FUN_0048f630(DAT_005a1150);
  FUN_0048f630(DAT_005a1154);
  return 1;
}



undefined4 FUN_004abf70(int param_1,undefined4 param_2)

{
  void *pvVar1;
  int _Val;
  size_t _Size;
  
  if (*(int *)(param_1 + 0x155) == 0) {
    _Size = 0x127;
    _Val = 0;
    pvVar1 = (void *)AllocateMemoryWithCallback(0x127);
    pvVar1 = _memset(pvVar1,_Val,_Size);
    *(void **)(param_1 + 0x155) = pvVar1;
  }
  *(undefined4 *)(*(int *)(param_1 + 0x155) + 0x4c) = param_2;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004abfc0(int **param_1,undefined4 param_2)

{
  uint uVar1;
  int iVar2;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  int local_60;
  undefined4 local_58;
  int *local_4c;
  undefined4 uStackY_28;
  int *piStackY_24;
  undefined4 uStackY_20;
  int *piStackY_1c;
  undefined4 uStackY_18;
  
  AdjustStackForLargeAllocations();
  uStackY_18 = 0x4abfdb;
  _memset(&local_70,0,0x6c);
  local_68 = param_2;
  local_64 = param_2;
  local_70 = 0x6c;
  local_6c = 0x47;
  uVar1 = *(uint *)(&DAT_005e5254 + DAT_005e5160 * 0x140);
  if ((uVar1 & 0x400) == 0) {
    if ((uVar1 & 0x800) == 0) {
      if ((uVar1 & 0x100) == 0) {
        if ((uVar1 & 0x200) == 0) {
          return 0;
        }
        _DAT_005a1158 = 0x18;
      }
      else {
        _DAT_005a1158 = 0x20;
      }
    }
    else {
      _DAT_005a1158 = 8;
    }
  }
  else {
    _DAT_005a1158 = 0x10;
  }
  local_58 = _DAT_005a1158;
  FUN_00413f70();
  uStackY_18 = 0x4ac067;
  _memset(&local_70,0,0x6c);
  piStackY_1c = *param_1;
  local_70 = 0x6c;
  uStackY_18 = 0;
  uStackY_20 = 0x4ac083;
  iVar2 = (**(code **)(*piStackY_1c + 100))();
  if (iVar2 != 0) {
    return 0;
  }
  param_1[1] = local_4c;
  param_1[2] = (int *)(local_60 >> 1);
  piStackY_24 = *param_1;
  uStackY_20 = 0;
  uStackY_28 = 0x4ac0a9;
  (**(code **)(*piStackY_24 + 0x80))();
  return 1;
}



undefined4 FUN_004ac0c0(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  undefined4 local_e4 [4];
  int local_d4;
  undefined4 local_c0;
  undefined4 local_78 [4];
  int local_68;
  undefined4 local_54;
  undefined4 uStackY_4c;
  int *piStackY_48;
  undefined4 uStackY_44;
  int *piStackY_40;
  undefined4 uStackY_3c;
  
  AdjustStackForLargeAllocations();
  iVar1 = *(int *)(param_1 + 0x1e);
  iVar4 = iVar1 * 0x16;
  if (*(int *)(iVar4 + *(int *)(param_1 + 0x22)) == 0) {
    FUN_00458980();
  }
  **(undefined4 **)(param_2 + 0x155) = *(undefined4 *)(iVar4 + *(int *)(param_1 + 0x22));
  *(undefined2 *)(*(int *)(param_2 + 0x155) + 4) = *(undefined2 *)(param_1 + 0x1e);
  if (*(int *)(param_1 + 0x1e) < DAT_004d3b3c + -2) {
    *(int *)(param_1 + 0x1e) = *(int *)(param_1 + 0x1e) + 1;
  }
  *(int *)(*(int *)(param_2 + 0x155) + 0x5c) = param_1;
  iVar3 = (iVar1 + 1) * 0x16;
  if ((*(int *)(iVar3 + *(int *)(param_1 + 0x22)) == 0) &&
     (0x3f < *(int *)(*(int *)(param_2 + 0x155) + 0x4c))) {
    FUN_00458980();
  }
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 6) = *(undefined4 *)(iVar3 + *(int *)(param_1 + 0x22))
  ;
  *(short *)(*(int *)(param_2 + 0x155) + 10) = (short)iVar1 + 1;
  if ((*(int *)(param_1 + 0x1e) < DAT_004d3b3c + -2) &&
     (0x3f < *(int *)(*(int *)(param_2 + 0x155) + 0x4c))) {
    *(int *)(param_1 + 0x1e) = *(int *)(param_1 + 0x1e) + 1;
  }
  _memset(local_78,0,0x6c);
  local_78[0] = 0x6c;
  iVar1 = (**(code **)(***(int ***)(param_2 + 0x155) + 100))();
  if (iVar1 != 0) {
    return 0;
  }
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xc) = local_54;
  *(undefined4 *)(iVar4 + 0xe + *(int *)(param_1 + 0x22)) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0xc);
  *(int *)(*(int *)(param_2 + 0x155) + 0x1c) = local_68 >> 1;
  (**(code **)(***(int ***)(param_2 + 0x155) + 0x80))();
  if (0x3f < *(int *)(*(int *)(param_2 + 0x155) + 0x4c)) {
    uStackY_3c = 0x4ac27c;
    _memset(local_e4,0,0x6c);
    local_e4[0] = 0x6c;
    piStackY_40 = *(int **)(*(int *)(param_2 + 0x155) + 6);
    uStackY_3c = 0;
    uStackY_44 = 0x4ac2a5;
    iVar1 = (**(code **)(*piStackY_40 + 100))();
    if (iVar1 != 0) {
      return 0;
    }
    uStackY_44 = 0;
    *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x20) = local_c0;
    *(undefined4 *)(iVar4 + 0x24 + *(int *)(param_1 + 0x22)) =
         *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x20);
    *(int *)(*(int *)(param_2 + 0x155) + 0x30) = local_d4 >> 1;
    piStackY_48 = *(int **)(*(int *)(param_2 + 0x155) + 6);
    uStackY_4c = 0x4ac2f6;
    (**(code **)(*piStackY_48 + 0x80))();
  }
  uVar2 = FUN_0048f340();
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x112) = uVar2;
  *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x122) =
       *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x112);
  return 1;
}



undefined4 FUN_004ac330(int *param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 local_68 [15];
  undefined4 uStackY_2c;
  undefined4 uStackY_28;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  
  AdjustStackForLargeAllocations();
  uStackY_20 = 0x4ac351;
  _memset(local_68,0,100);
  local_68[0] = 100;
  uStackY_28 = *(undefined4 *)(*(int *)(param_2 + 0x155) + 0x34);
  uStackY_20 = 0;
  uStackY_24 = 0;
  uStackY_2c = 0x4ac381;
  iVar2 = FUN_00424d60();
  if (iVar2 == 0) {
    uStackY_20 = 0x4ac495;
    _memset(local_68,0,100);
    local_68[0] = 100;
    uStackY_28 = **(undefined4 **)(param_2 + 0x155);
    uStackY_20 = 0;
    uStackY_24 = 0;
    uStackY_2c = 0x4ac4c2;
    FUN_00424d60();
    if (param_3 != 0) {
      uStackY_20 = 0x4ac4d8;
      _memset(local_68,0,100);
      local_68[0] = 100;
      uStackY_28 = *(undefined4 *)(*(int *)(param_2 + 0x155) + 6);
      uStackY_20 = 0;
      uStackY_24 = 0;
      uStackY_2c = 0x4ac507;
      FUN_00424d60();
    }
  }
  else {
    iVar2 = *(int *)(*(int *)(param_2 + 0x155) + 0x3c);
    iVar4 = param_1[3] * iVar2;
    if (param_3 == 0) {
      iVar2 = param_1[1] * iVar2;
      if (iVar2 < iVar4) {
        do {
          iVar1 = param_1[2];
          iVar3 = iVar2 + *param_1;
          while (iVar3 < iVar2 + iVar1) {
            iVar3 = iVar3 + 1;
            *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x155) + 0x38) + -2 + iVar3 * 2) = 0xffff;
            *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x155) + 0xc) + -2 + iVar3 * 2) =
                 DAT_005a1790;
          }
          iVar2 = iVar2 + *(int *)(*(int *)(param_2 + 0x155) + 0x3c);
        } while (iVar2 < iVar4);
        return 1;
      }
    }
    else {
      iVar2 = param_1[1] * iVar2;
      if (iVar2 < iVar4) {
        do {
          iVar1 = param_1[2];
          iVar3 = iVar2 + *param_1;
          while (iVar3 < iVar2 + iVar1) {
            iVar3 = iVar3 + 1;
            *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x155) + 0x38) + -2 + iVar3 * 2) = 0xffff;
            *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x155) + 0xc) + -2 + iVar3 * 2) =
                 DAT_005a1790;
            *(undefined2 *)(*(int *)(*(int *)(param_2 + 0x155) + 0x20) + -2 + iVar3 * 2) =
                 DAT_005a1790;
          }
          iVar2 = iVar2 + *(int *)(*(int *)(param_2 + 0x155) + 0x3c);
        } while (iVar2 < iVar4);
        return 1;
      }
    }
  }
  return 1;
}



undefined4 FUN_004ac520(undefined4 param_1,undefined4 param_2)

{
  FILE *_File;
  int iVar1;
  undefined4 param_8;
  
  _File = (FILE *)OpenFileWithFixedFlags0x40(param_1,&DAT_004d3b50);
  if (_File == (FILE *)0x0) {
    return 0;
  }
  FID_conflict__fwprintf(_File,(wchar_t *)&DAT_004d3b54,param_2);
  iVar1 = FUN_004ae3e0(&stack0x0000000c,0x12,1,_File);
  if (iVar1 != 1) {
    FUN_004adcf0();
    return 0;
  }
  iVar1 = FUN_004ae3e0(param_8,param_2,1,_File);
  if (iVar1 != 1) {
    FUN_004adcf0(_File);
    return 0;
  }
  FUN_004adcf0(_File);
  return 1;
}



undefined4 FUN_004ac5b0(uint param_1,undefined4 *param_2,void **param_3,void **param_4)

{
  uint uVar1;
  ushort uVar2;
  void *pvVar3;
  byte bVar4;
  undefined4 unaff_EDI;
  undefined local_64 [60];
  undefined2 uStackY_28;
  undefined2 local_26;
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  ushort uVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  undefined2 uVar9;
  
  AdjustStackForLargeAllocations();
  uVar2 = FUN_00441a80();
  uStackY_24 = local_64;
  uStackY_20 = 0x4a;
  uStackY_28 = 0xc5e7;
  local_26 = 0x4a;
  FUN_00441d30();
  uVar1 = CONCAT22((undefined2)uStackY_24,local_26);
  bVar4 = 0;
  if (uVar1 == 0) {
    return 0;
  }
  do {
    uStackY_24 = &stack0xffffffe8;
    uStackY_20 = 6;
    uStackY_28 = 0xc615;
    local_26 = 0x4a;
    uVar5 = uVar2;
    FUN_00441d30();
    if (param_1 == uVar5) {
      uStackY_24 = &stack0xfffffff0;
      uStackY_20 = 4;
      uStackY_28 = 0xc65f;
      local_26 = 0x4a;
      FUN_00441d30();
      *param_2 = unaff_EDI;
      uVar8 = 0x12;
      uVar9 = 0;
      uVar6 = 0;
      uVar7 = 0;
      uStackY_20 = 0x4ac675;
      pvVar3 = (void *)AllocateMemoryWithCallback();
      uStackY_20 = 0x4ac67e;
      pvVar3 = _memset(pvVar3,CONCAT22(uVar7,uVar6),CONCAT22(uVar9,uVar8));
      uStackY_20 = 0x12;
      uStackY_24._0_2_ = SUB42(pvVar3,0);
      uStackY_24._2_2_ = (undefined2)((uint)pvVar3 >> 0x10);
      *param_3 = pvVar3;
      uStackY_28 = 0xc695;
      local_26 = 0x4a;
      FUN_00441d30();
      uVar8 = (undefined2)*param_2;
      uVar9 = (undefined2)((uint)*param_2 >> 0x10);
      uVar6 = 0;
      uVar7 = 0;
      uStackY_20 = 0x4ac6a3;
      pvVar3 = (void *)AllocateMemoryWithCallback();
      uStackY_20 = 0x4ac6ac;
      pvVar3 = _memset(pvVar3,CONCAT22(uVar7,uVar6),CONCAT22(uVar9,uVar8));
      *param_4 = pvVar3;
      uStackY_20 = *param_2;
      uStackY_24._0_2_ = SUB42(pvVar3,0);
      uStackY_24._2_2_ = (undefined2)((uint)pvVar3 >> 0x10);
      uStackY_28 = 0xc6c4;
      local_26 = 0x4a;
      FUN_00441d30();
      return 1;
    }
    bVar4 = bVar4 + 1;
  } while (bVar4 < uVar1);
  return 0;
}



undefined4 FUN_004ac6e0(uint param_1,void **param_2)

{
  void *_Dst;
  byte bVar1;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined local_5c [52];
  undefined2 uStackY_28;
  undefined2 uStackY_26;
  ushort *puStackY_24;
  undefined2 uStackY_20;
  undefined2 local_1e;
  undefined2 uVar2;
  int _Val;
  size_t _Size;
  ushort local_10;
  undefined2 uStack_e;
  undefined2 uStack_c;
  undefined2 uStack_a;
  
  AdjustStackForLargeAllocations();
  uStack_c = (undefined2)unaff_ESI;
  uStack_a = (undefined2)((uint)unaff_ESI >> 0x10);
  local_10 = (ushort)unaff_EDI;
  uStack_e = (undefined2)((uint)unaff_EDI >> 0x10);
  FUN_00441a80();
  puStackY_24 = (ushort *)local_5c;
  uVar2 = 1;
  uStackY_20 = 0x4a;
  local_1e = 0;
  uStackY_28 = 0xc717;
  uStackY_26 = 0x4a;
  FUN_00441d30();
  bVar1 = 0;
  if (CONCAT22(uVar2,local_1e) == 0) {
    return 0;
  }
  do {
    puStackY_24 = &local_10;
    uVar2 = 1;
    uStackY_20 = 6;
    local_1e = 0;
    uStackY_28 = 0xc742;
    uStackY_26 = 0x4a;
    FUN_00441d30();
    if (param_1 == local_10) {
      _Size = CONCAT22(uStack_c,uStack_e);
      _Val = 0;
      uStackY_20 = 0xc786;
      local_1e = 0x4a;
      _Dst = (void *)AllocateMemoryWithCallback();
      uStackY_20 = 0xc78f;
      local_1e = 0x4a;
      puStackY_24 = (ushort *)_memset(_Dst,_Val,_Size);
      *param_2 = puStackY_24;
      uStackY_20 = 1;
      local_1e = 0;
      uStackY_28 = 0xc7a8;
      uStackY_26 = 0x4a;
      FUN_00441d30();
      return 1;
    }
    bVar1 = bVar1 + 1;
  } while ((uint)bVar1 < CONCAT22(uVar2,local_1e));
  return 0;
}



undefined4 FUN_004ac7c0(undefined4 param_1,void **param_2)

{
  uint uVar1;
  int iVar2;
  void *pvVar3;
  byte bVar4;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined local_5c [56];
  undefined4 uStackY_24;
  undefined4 uStackY_20;
  undefined2 uVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  ushort local_10;
  undefined2 uStack_e;
  undefined2 uStack_c;
  undefined2 uStack_a;
  
  AdjustStackForLargeAllocations();
  uStack_c = (undefined2)unaff_ESI;
  uStack_a = (undefined2)((uint)unaff_ESI >> 0x10);
  local_10 = (ushort)unaff_EDI;
  uStack_e = (undefined2)((uint)unaff_EDI >> 0x10);
  iVar2 = FUN_00442690();
  if (iVar2 != 0) {
    uStackY_20 = (ushort *)local_5c;
    uStackY_24 = 0x4ac7f8;
    CopyDataWithLock();
    uStackY_20._0_2_ = 0xc80c;
    uStackY_20._2_2_ = 0x4a;
    uVar5 = (short)iVar2;
    SeekInResourceWithLock();
    uVar1 = CONCAT22(uVar5,uStackY_20._2_2_);
    bVar4 = 0;
    if (uVar1 != 0) {
      do {
        uVar7 = 0;
        uStackY_20 = &local_10;
        uStackY_24 = 0x4ac82a;
        uVar5 = (short)iVar2;
        CopyDataWithLock();
        if (CONCAT22(uVar5,uVar7) == (uint)local_10) {
          uVar6 = 0;
          uVar8 = 0;
          uStackY_20._0_2_ = 0xc872;
          uStackY_20._2_2_ = 0x4a;
          uVar5 = uStack_e;
          uVar7 = uStack_c;
          pvVar3 = (void *)AllocateMemoryWithCallback();
          uStackY_20._0_2_ = 0xc87b;
          uStackY_20._2_2_ = 0x4a;
          pvVar3 = _memset(pvVar3,CONCAT22(uVar8,uVar6),CONCAT22(uVar7,uVar5));
          *param_2 = pvVar3;
          uStackY_20._0_2_ = SUB42(pvVar3,0);
          uStackY_20._2_2_ = (undefined2)((uint)pvVar3 >> 0x10);
          uStackY_24 = 0x4ac890;
          CopyDataWithLock();
          return 1;
        }
        uStackY_20._0_2_ = 0xc848;
        uStackY_20._2_2_ = 0x4a;
        SeekInResourceWithLock();
        bVar4 = bVar4 + 1;
      } while (bVar4 < uVar1);
      return 0;
    }
  }
  return 0;
}



undefined4 FUN_004ac8b0(undefined4 param_1,size_t *param_2,void **param_3,void **param_4)

{
  int iVar1;
  size_t sVar2;
  void *pvVar3;
  int iVar4;
  char local_6c [76];
  undefined4 uStackY_20;
  undefined *puStackY_1c;
  size_t _Size;
  char cVar6;
  undefined4 uVar5;
  
  AdjustStackForLargeAllocations();
  uVar5 = 0;
  iVar1 = OpenFileWithFixedFlags0x40();
  if (iVar1 == 0) {
    return 0;
  }
  iVar1 = 0;
  do {
    iVar4 = iVar1;
    puStackY_1c = &stack0xfffffffb;
    uStackY_20 = 0x4ac8f5;
    CopyDataWithLock();
    cVar6 = (char)((uint)uVar5 >> 0x18);
    local_6c[iVar4] = cVar6;
    iVar1 = iVar4 + 1;
  } while (cVar6 != '\n');
  local_6c[iVar4] = '\0';
  sVar2 = StringToInteger();
  _Size = 0x12;
  iVar1 = 0;
  *param_2 = sVar2;
  puStackY_1c = (undefined *)0x4ac925;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  puStackY_1c = (undefined *)0x4ac92e;
  puStackY_1c = (undefined *)_memset(pvVar3,iVar1,_Size);
  *param_3 = puStackY_1c;
  uStackY_20 = 0x4ac941;
  CopyDataWithLock();
  sVar2 = *param_2;
  iVar1 = 0;
  puStackY_1c = (undefined *)0x4ac94f;
  pvVar3 = (void *)AllocateMemoryWithCallback();
  puStackY_1c = (undefined *)0x4ac958;
  puStackY_1c = (undefined *)_memset(pvVar3,iVar1,sVar2);
  *param_4 = puStackY_1c;
  uStackY_20 = 0x4ac96c;
  CopyDataWithLock();
  FUN_004adcf0();
  return 1;
}



MMRESULT FUN_004ac990(LPSTR param_1,HMMIO *param_2,HGLOBAL *param_3,LPMMCKINFO param_4)

{
  HGLOBAL *ppvVar1;
  LPMMCKINFO pmmckiParent;
  HMMIO hmmio;
  LONG LVar2;
  HGLOBAL pvVar3;
  uint uVar4;
  MMRESULT MVar5;
  FOURCC local_28;
  uint local_24;
  short sVar6;
  
  AdjustStackForLargeAllocations();
  *param_3 = (HGLOBAL)0x0;
  hmmio = mmioOpenA(param_1,(LPMMIOINFO)0x0,0x10000);
  pmmckiParent = param_4;
  if (hmmio == (HMMIO)0x0) {
    MVar5 = 0xe100;
  }
  else {
    local_24 = 0x4ac9d9;
    MVar5 = mmioDescend(hmmio,param_4,(MMCKINFO *)0x0,0);
    if (MVar5 == 0) {
      if ((pmmckiParent->ckid == 0x46464952) && (pmmckiParent->fccType == 0x45564157)) {
        local_28 = 0x20746d66;
        local_24 = 0x4aca11;
        MVar5 = mmioDescend(hmmio,(LPMMCKINFO)&local_28,pmmckiParent,0x10);
        if (MVar5 != 0) goto LAB_004acaf0;
        if (0xf < local_24) {
          sVar6 = 0x10;
          LVar2 = mmioRead(hmmio,&stack0xffffffec,0x10);
          if (LVar2 != 0x10) {
            MVar5 = 0xe102;
            goto LAB_004acaf0;
          }
          if (sVar6 == 1) {
            param_1 = (LPSTR)0x0;
          }
          else {
            LVar2 = mmioRead(hmmio,(HPSTR)&param_1,2);
            if (LVar2 != 2) {
              MVar5 = 0xe102;
              goto LAB_004acaf0;
            }
          }
          pvVar3 = GlobalAlloc(0,((uint)param_1 & 0xffff) + 0x12);
          ppvVar1 = param_3;
          *param_3 = pvVar3;
          if (pvVar3 == (HGLOBAL)0x0) {
            MVar5 = 0xe000;
            goto LAB_004acaf0;
          }
          FUN_004ad7a0();
          *(short *)((int)*ppvVar1 + 0x10) = (short)param_1;
          if (((short)param_1 == 0) ||
             (uVar4 = mmioRead(hmmio,(HPSTR)((int)*ppvVar1 + 0x12),(uint)param_1 & 0xffff),
             uVar4 == ((uint)param_1 & 0xffff))) {
            MVar5 = mmioAscend(hmmio,(LPMMCKINFO)&local_28,0);
            if (MVar5 == 0) {
              *param_2 = hmmio;
              return 0;
            }
            goto LAB_004acaf0;
          }
        }
      }
      MVar5 = 0xe101;
    }
  }
LAB_004acaf0:
  ppvVar1 = param_3;
  if (*param_3 != (HGLOBAL)0x0) {
    GlobalFree(*param_3);
    *ppvVar1 = (HGLOBAL)0x0;
  }
  if (hmmio != (HMMIO)0x0) {
    mmioClose(hmmio,0);
    hmmio = (HMMIO)0x0;
  }
  *param_2 = hmmio;
  return MVar5;
}



void FUN_004acb30(HMMIO *param_1,LPMMCKINFO param_2,MMCKINFO *param_3)

{
  mmioSeek(*param_1,param_3->dwDataOffset + 4,0);
  param_2->ckid = 0x61746164;
  mmioDescend(*param_1,param_2,param_3,0x10);
  return;
}



uint FUN_004acb70(HMMIO param_1,uint param_2,int param_3,int param_4,uint *param_5,int param_6)

{
  char cVar1;
  MMRESULT MVar2;
  uint uVar3;
  HPSTR pcVar4;
  uint uVar5;
  HPSTR local_30;
  HPSTR local_2c;
  LONG LStackY_20;
  
  AdjustStackForLargeAllocations();
  LStackY_20 = 0x4acb90;
  MVar2 = mmioGetInfo(param_1,(LPMMIOINFO)&stack0xffffffb4,0);
  uVar3 = (uint)(MVar2 != 0);
  if (uVar3 == 0) {
    uVar3 = *(uint *)(param_4 + 4);
    if (uVar3 < param_2) {
      param_2 = uVar3;
    }
    *(uint *)(param_4 + 4) = uVar3 - param_2;
    if (param_6 == 0) {
      uVar5 = 0;
      pcVar4 = local_2c;
      if (param_2 != 0) {
        do {
          if (local_30 == pcVar4) {
            LStackY_20 = 0x4acc3e;
            uVar3 = mmioAdvance(param_1,(LPMMIOINFO)&stack0xffffffb4,0);
            if (uVar3 != 0) goto LAB_004acc71;
            pcVar4 = local_2c;
            if (local_30 == local_2c) goto LAB_004acc8d;
          }
          cVar1 = *local_30;
          local_30 = local_30 + 1;
          *(char *)(uVar5 + param_3) = cVar1;
          uVar5 = uVar5 + 1;
        } while (uVar5 < param_2);
      }
    }
    else {
      uVar5 = 0;
      if (param_2 != 0) {
        do {
          if (local_30 == local_2c) {
            LStackY_20 = 0x4acbdb;
            uVar3 = mmioAdvance(param_1,(LPMMIOINFO)&stack0xffffffb4,0);
            if (uVar3 != 0) goto LAB_004acc71;
            if (local_30 == local_2c) {
LAB_004acc8d:
              *param_5 = 0;
              return 0xe103;
            }
          }
          uVar3 = (int)local_2c - (int)local_30;
          if (param_2 - uVar5 < (uint)((int)local_2c - (int)local_30)) {
            uVar3 = param_2 - uVar5;
          }
          LStackY_20 = 0x4acc0b;
          FUN_004ad7a0();
          uVar5 = uVar5 + uVar3;
          local_30 = local_30 + uVar3;
        } while (uVar5 < param_2);
      }
    }
    LStackY_20 = 0x4acc6d;
    uVar3 = mmioSetInfo(param_1,(LPCMMIOINFO)&stack0xffffffb4,0);
    if (uVar3 == 0) {
      *param_5 = param_2;
      return 0;
    }
  }
LAB_004acc71:
  *param_5 = 0;
  return uVar3;
}



undefined4 FUN_004accb0(HMMIO *param_1,HGLOBAL *param_2)

{
  if (*param_2 != (HGLOBAL)0x0) {
    GlobalFree(*param_2);
    *param_2 = (HGLOBAL)0x0;
  }
  if (*param_1 != (HMMIO)0x0) {
    mmioClose(*param_1,0);
    *param_1 = (HMMIO)0x0;
  }
  return 0;
}



undefined4 FUN_004accf0(HMMIO *param_1,LPMMCKINFO param_2,MMCKINFO *param_3,undefined4 *param_4)

{
  FOURCC FVar1;
  MMCKINFO *pmmckiParent;
  LONG LVar2;
  MMRESULT MVar3;
  
  pmmckiParent = param_3;
  LVar2 = mmioSeek(*param_1,param_3->dwDataOffset + 4,0);
  if (LVar2 == -1) {
    param_3 = (MMCKINFO *)0xe102;
  }
  else {
    param_3 = (MMCKINFO *)0x0;
    MVar3 = mmioDescend(*param_1,param_2,pmmckiParent,0);
    while ((MVar3 == 0 &&
           (param_2->dwDataOffset + param_2->cksize <=
            pmmckiParent->cksize + pmmckiParent->dwDataOffset))) {
      FVar1 = param_2->ckid;
      if ((FVar1 != 0x20444150) && ((FVar1 == 0x50534944 || (FVar1 == 0x74736c70)))) {
        FUN_004acdb0(*param_1,*param_4,param_2);
      }
      mmioAscend(*param_1,param_2,0);
      MVar3 = mmioDescend(*param_1,param_2,pmmckiParent,0);
    }
  }
  mmioSeek(*param_1,pmmckiParent->dwDataOffset + 4,0);
  return param_3;
}



undefined4 FUN_004acdb0(HMMIO param_1,HMMIO param_2,int param_3)

{
  int cch;
  HGLOBAL pvVar1;
  HPSTR pch;
  MMRESULT MVar2;
  LONG LVar3;
  
  AdjustStackForLargeAllocations();
  pvVar1 = GlobalAlloc(0x42,*(SIZE_T *)(param_3 + 4));
  pch = (HPSTR)GlobalLock(pvVar1);
  if (pch == (HPSTR)0x0) {
    return 0;
  }
  MVar2 = mmioCreateChunk(param_2,(LPMMCKINFO)&stack0xffffffe8,*(UINT *)(param_3 + 4));
  if (MVar2 == 0) {
    cch = *(int *)(param_3 + 4);
    LVar3 = mmioRead(param_1,pch,cch);
    if (LVar3 == cch) {
      LVar3 = mmioWrite(param_2,pch,cch);
      if (LVar3 == *(int *)(param_3 + 4)) {
        MVar2 = mmioAscend(param_2,(LPMMCKINFO)&stack0xffffffe8,0);
        if (MVar2 == 0) {
          pvVar1 = GlobalHandle(pch);
          GlobalUnlock(pvVar1);
          pvVar1 = GlobalHandle(pch);
          GlobalFree(pvVar1);
          return 1;
        }
      }
    }
  }
  pvVar1 = GlobalHandle(pch);
  GlobalUnlock(pvVar1);
  pvVar1 = GlobalHandle(pch);
  GlobalFree(pvVar1);
  return 0;
}



int FUN_004ace90(HGLOBAL param_1,undefined4 *param_2,HGLOBAL *param_3,HMMIO param_4)

{
  HMMIO pHVar1;
  int iVar2;
  HGLOBAL pvVar3;
  undefined4 local_2c;
  HMMIO pHStackY_28;
  undefined4 uStackY_24;
  HGLOBAL pvStackY_20;
  undefined4 *puStackY_1c;
  undefined4 *dwBytes;
  
  AdjustStackForLargeAllocations();
  pHVar1 = param_4;
  param_4->unused = 0;
  *param_3 = (HGLOBAL)0x0;
  *param_2 = 0;
  puStackY_1c = &param_4;
  pvStackY_20 = param_1;
  uStackY_24 = 0x4acecd;
  iVar2 = FUN_004ac990();
  if (iVar2 == 0) {
    dwBytes = &local_2c;
    puStackY_1c = &param_4;
    pvStackY_20 = (HGLOBAL)0x4acee7;
    iVar2 = FUN_004acb30();
    if (iVar2 == 0) {
      puStackY_1c = (undefined4 *)0x4acefb;
      pvVar3 = GlobalAlloc(0,(SIZE_T)dwBytes);
      pHVar1->unused = (int)pvVar3;
      if (pvVar3 == (HGLOBAL)0x0) {
        iVar2 = 0xe000;
      }
      else {
        puStackY_1c = (undefined4 *)&stack0xffffffe8;
        uStackY_24 = 0;
        pHStackY_28 = param_4;
        local_2c = 0x4acf20;
        pvStackY_20 = pvVar3;
        iVar2 = FUN_004acb70();
        if (iVar2 == 0) {
          *param_2 = param_3;
          goto LAB_004acf59;
        }
      }
    }
  }
  if ((HGLOBAL)pHVar1->unused != (HGLOBAL)0x0) {
    GlobalFree((HGLOBAL)pHVar1->unused);
    pHVar1->unused = 0;
  }
  if (*param_3 != (HGLOBAL)0x0) {
    GlobalFree(*param_3);
    *param_3 = (HGLOBAL)0x0;
  }
LAB_004acf59:
  if (param_4 != (HMMIO)0x0) {
    puStackY_1c = (undefined4 *)0x4acf69;
    mmioClose(param_4,0);
  }
  return iVar2;
}



undefined4 FUN_004acf80(undefined4 param_1,undefined4 param_2,undefined4 *param_3)

{
  FUN_004ad7a0(param_1,*param_3,0x50);
  FUN_004ad7a0(param_2,param_3[1],0xcc);
  return 1;
}



undefined4 FUN_004acfc0(code **param_1)

{
  undefined local_180 [260];
  undefined *local_7c;
  undefined *local_78;
  code **local_74;
  undefined4 local_70;
  undefined local_6c [56];
  undefined4 uStack_34;
  code **ppcStack_30;
  code *pcStack_2c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_004c1cc0;
  puStack_10 = &LAB_004b10b8;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  AdjustStackForLargeAllocations();
  local_74 = param_1;
  local_7c = local_6c;
  local_78 = local_180;
  local_8 = 0;
  pcStack_2c = param_1[1];
  ppcStack_30 = (code **)0x4ad012;
  local_70 = (**param_1)();
  local_8 = 0xffffffff;
  if (param_1 != (code **)0x0) {
    ppcStack_30 = param_1;
    uStack_34 = 0x4ad0ce;
    FreeMemory();
  }
  ExceptionList = local_14;
  return local_70;
}



void CreateThreadFunc(LPSECURITY_ATTRIBUTES param_1,SIZE_T param_2,LPTHREAD_START_ROUTINE param_3,
                     LPVOID param_4,DWORD param_5,LPDWORD param_6)

{
  CreateThread(param_1,param_2,param_3,param_4,param_5,param_6);
  return;
}



void FUN_004ad120(code *param_1,undefined4 param_2)

{
  (*param_1)(param_2);
  return;
}



void FUN_004ad150(short *param_1,undefined4 param_2,size_t param_3)

{
  void *pvVar1;
  void **ppvVar2;
  int iVar3;
  size_t sVar4;
  
  sVar4 = 0xc;
  iVar3 = 0;
  pvVar1 = (void *)AllocateMemoryWithCallback(0xc);
  ppvVar2 = (void **)_memset(pvVar1,iVar3,sVar4);
  iVar3 = 0;
  sVar4 = param_3;
  pvVar1 = (void *)AllocateMemoryWithCallback(param_3);
  pvVar1 = _memset(pvVar1,iVar3,sVar4);
  *ppvVar2 = pvVar1;
  FUN_004ad7a0(pvVar1,param_2,param_3);
  if (*param_1 == 0) {
    *param_1 = *param_1 + 1;
    *(void ***)(param_1 + 3) = ppvVar2;
    *(void ***)(param_1 + 1) = ppvVar2;
    return;
  }
  ppvVar2[1] = *(void **)(param_1 + 1);
  *(void ***)(*(int *)(param_1 + 1) + 8) = ppvVar2;
  *param_1 = *param_1 + 1;
  *(void ***)(param_1 + 1) = ppvVar2;
  return;
}



void FUN_004ad1d0(short *param_1,undefined4 *param_2)

{
  if (*param_1 == 1) {
    *(undefined4 *)(param_1 + 3) = 0;
    *(undefined4 *)(param_1 + 1) = 0;
  }
  else if (param_2 == *(undefined4 **)(param_1 + 1)) {
    *(undefined4 *)(param_2[1] + 8) = 0;
    *(undefined4 *)(param_1 + 1) = param_2[1];
  }
  else if (param_2 == *(undefined4 **)(param_1 + 3)) {
    *(undefined4 *)(param_2[2] + 4) = 0;
    *(undefined4 *)(param_1 + 3) = param_2[2];
  }
  else {
    *(undefined4 *)(param_2[2] + 4) = param_2[1];
    *(undefined4 *)(param_2[1] + 8) = param_2[2];
  }
  *param_1 = *param_1 + -1;
  FreeMemory(*param_2);
  FreeMemory(param_2);
  return;
}



void FUN_004ad250(short *param_1)

{
  short sVar1;
  
  sVar1 = *param_1;
  while (sVar1 != 0) {
    FUN_004ad1d0(param_1,*(undefined4 *)(param_1 + 1));
    sVar1 = *param_1;
  }
  FreeMemory(param_1);
  return;
}



void DirectDrawCreate(void)

{
                    // WARNING: Could not recover jumptable at 0x004ad280. Too many branches
                    // WARNING: Treating indirect jump as call
  DirectDrawCreate();
  return;
}



void DirectDrawEnumerateA(void)

{
                    // WARNING: Could not recover jumptable at 0x004ad286. Too many branches
                    // WARNING: Treating indirect jump as call
  DirectDrawEnumerateA();
  return;
}



BOOL GetOpenFileNameA(LPOPENFILENAMEA param_1)

{
  BOOL BVar1;
  
                    // WARNING: Could not recover jumptable at 0x004ad28c. Too many branches
                    // WARNING: Treating indirect jump as call
  BVar1 = GetOpenFileNameA(param_1);
  return BVar1;
}



DWORD CommDlgExtendedError(void)

{
  DWORD DVar1;
  
                    // WARNING: Could not recover jumptable at 0x004ad292. Too many branches
                    // WARNING: Treating indirect jump as call
  DVar1 = CommDlgExtendedError();
  return DVar1;
}



BOOL GetSaveFileNameA(LPOPENFILENAMEA param_1)

{
  BOOL BVar1;
  
                    // WARNING: Could not recover jumptable at 0x004ad298. Too many branches
                    // WARNING: Treating indirect jump as call
  BVar1 = GetSaveFileNameA(param_1);
  return BVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  __fpmath
// 
// Library: Visual Studio 1998 Release

void __cdecl __fpmath(int param_1)

{
  FUN_004ad2d0();
  _DAT_005a1164 = FUN_004b1410();
  __setdefaultprecision();
  return;
}



void FUN_004ad2c0(void)

{
  return;
}



void FUN_004ad2d0(void)

{
  PTR_FUN_004d3f7c = &LAB_004b14a0;
  PTR_FUN_004d3f78 = &LAB_004b1900;
  PTR_FUN_004d3f80 = &LAB_004b1530;
  PTR_FUN_004d3f84 = FUN_004b1440;
  PTR_FUN_004d3f88 = &LAB_004b1510;
  PTR_FUN_004d3f8c = &LAB_004b1900;
  return;
}



// WARNING: Unable to track spacebase fully for stack
// /* Function: AdjustStackForLargeAllocations (originally FUN_004ad310)
//  * Description:
//  *   This function adjusts the stack pointer to handle a large allocation, effectively creating
// space on the stack for usage. If the size of the allocation (`in_EAX`) exceeds 4096 bytes
// (0xFFF), the function iteratively adjusts the stack pointer by subtracting 0x1000 bytes until the
// remaining allocation is less than or equal to 4096 bytes. Finally, it sets a return address to
// ensure the function can return properly.
//  */
// 

void AdjustStackForLargeAllocations(void)

{
  uint in_EAX;
  undefined *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &stack0x00000004;
  if (0xfff < in_EAX) {
    do {
      puVar1 = puVar1 + -0x1000;
      in_EAX = in_EAX - 0x1000;
    } while (0xfff < in_EAX);
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



// Library Function - Single Match
//  __ftol
// 
// Library: Visual Studio

longlong __ftol(void)

{
  float10 in_ST0;
  
  return (longlong)ROUND(in_ST0);
}



// Library Function - Multiple Matches With Different Base Names
//  _fprintf
//  _fwprintf
// 
// Library: Visual Studio 1998 Release

int __cdecl FID_conflict__fwprintf(FILE *_File,wchar_t *_Format,...)

{
  undefined4 uVar1;
  int iVar2;
  
  EnterConditionalCriticalSection(_File);
  uVar1 = FUN_004b1b50(_File);
  iVar2 = FUN_004b1c50(_File,_Format,&stack0x0000000c);
  FUN_004b1c10(uVar1,_File);
  LeaveCriticalSection1Param(_File);
  return iVar2;
}



float10 FUN_004ad3c0(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  int iVar2;
  float10 fVar3;
  
  uVar1 = GetFpuControlWord();
  if ((param_2._2_2_ & 0x7ff0) != 0x7ff0) {
    GetFpuControlWord();
    return (float10)(double)(CONCAT44(param_2,param_1) & 0x7fffffffffffffff);
  }
  iVar2 = FUN_004b3020();
  if (iVar2 == 1) {
    GetFpuControlWord();
    return (float10)(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
  }
  if (iVar2 == 2) {
    GetFpuControlWord();
    return -(float10)(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
  }
  if (iVar2 != 3) {
    fVar3 = (float10)FUN_004b2760(8,0x15,param_1,param_2,
                                  (double)CONCAT26(param_2._2_2_,
                                                   CONCAT24((undefined2)param_2,param_1)) - -1.0);
    return fVar3;
  }
  fVar3 = (float10)PerformCustomFloatCalculation(0x15,param_1,param_2,uVar1);
  return fVar3;
}



// /*
//  * Function: FreeMemory (originally FUN_004ad4b0)
//  * Description:
//  *   This function deallocates memory by first attempting to free it through a custom memory pool
// system.
//  *   It validates the memory block to see if it belongs to the custom memory pool. If it does, it
// updates
//  *   the memory block's metadata accordingly. If the memory block is not part of the custom pool,
// it is
//  *   freed using the system heap (`HeapFree`). The function ensures thread safety by using a
// critical section.
//  */
// 

void FreeMemory(LPVOID param_1)

{
  LPVOID lpMem;
  int iVar1;
  undefined4 local_4;
  
  lpMem = param_1;
  if (param_1 != (LPVOID)0x0) {
    EnterOrInitCriticalSection(9);
    iVar1 = ValidateMemoryBlock(lpMem,&local_4,&param_1);
    if (iVar1 != 0) {
      UpdateMemoryBlockMetadata(local_4,param_1,iVar1);
      LeaveCriticalSectionFunc(9);
      return;
    }
    LeaveCriticalSectionFunc(9);
    HeapFree(gHeapMemory,0,lpMem);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_004ad534(int param_1,uint param_2)

{
  uint uVar1;
  undefined in_ZF;
  short in_FPUControlWord;
  
  __fload_withFB();
  if ((bool)in_ZF) {
    if (((param_2 & 0xfffff) != 0) || (param_1 != 0)) {
      uVar1 = __convertTOStoQNaN();
      goto LAB_004ad5bb;
    }
    param_2 = param_2 & 0x80000000;
    if (param_2 == 0) goto LAB_004ad55e;
  }
  else {
    if (in_FPUControlWord != 0x27f) {
      param_2 = FUN_004b3cc5();
    }
    if (((param_2 & 0x80000000) == 0) ||
       ((((param_2 & 0x7ff00000) == 0 && ((param_2 & 0xfffff) == 0)) && (param_1 == 0)))) {
LAB_004ad55e:
      if (_DAT_005a1160 != 0) {
        return param_2;
      }
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  uVar1 = 1;
LAB_004ad5bb:
  if (_DAT_005a1160 != 0) {
    return uVar1;
  }
  uVar1 = __startOneArgErrorHandling();
  return uVar1;
}



// Library Function - Single Match
//  _memset
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

void * __cdecl _memset(void *_Dst,int _Val,size_t _Size)

{
  uint uVar1;
  uint uVar2;
  size_t sVar3;
  uint *puVar4;
  
  if (_Size == 0) {
    return _Dst;
  }
  uVar1 = _Val & 0xff;
  puVar4 = (uint *)_Dst;
  if (3 < _Size) {
    uVar2 = -(int)_Dst & 3;
    sVar3 = _Size;
    if (uVar2 != 0) {
      sVar3 = _Size - uVar2;
      do {
        *(undefined *)puVar4 = (undefined)_Val;
        puVar4 = (uint *)((int)puVar4 + 1);
        uVar2 = uVar2 - 1;
      } while (uVar2 != 0);
    }
    uVar1 = uVar1 * 0x1010101;
    _Size = sVar3 & 3;
    uVar2 = sVar3 >> 2;
    if (uVar2 != 0) {
      for (; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar4 = uVar1;
        puVar4 = puVar4 + 1;
      }
      if (_Size == 0) {
        return _Dst;
      }
    }
  }
  do {
    *(char *)puVar4 = (char)uVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    _Size = _Size - 1;
  } while (_Size != 0);
  return _Dst;
}



// seems to allocate something specific which I don't know what that is atm
// 
// Should return the address as a void*?
// 
// maybe a getter of some kind?
// 
// /*
//  * Function: AllocateMemoryWithCallback
//  * Description:
//  *   Attempts to allocate memory of size `param_1`. If the allocation fails, it invokes a
// callback stored in 
//  *   `DAT_005a130c` to handle the failure or manage resources.
//  */

void AllocateMemoryWithCallback(undefined4 param_1)

{
  AllocateOrInvokeCallback(param_1,DAT_005a130c);
  return;
}



// /*
//  * Function: AllocateOrInvokeCallback (originally FUN_004ad660)
//  * Description:
//  *   This function attempts to allocate memory of size `param_1`. If the allocation fails and a
// callback
//  *   function is allowed (`param_2`), it invokes the callback using `InvokeCallbackIfExists`. The
// function
//  *   will repeatedly attempt to allocate memory until successful or until it determines that no
// more attempts
//  *   should be made. It returns the allocated memory if successful or `0` if allocation fails.
//  */

int AllocateOrInvokeCallback(uint param_1,int param_2)

{
  int iVar1;
  
  if (param_1 < 0xffffffe1) {
    if (param_1 == 0) {
      param_1 = 1;
    }
    do {
      if (param_1 < 0xffffffe1) {
        iVar1 = AllocateMemory(param_1);
      }
      else {
        iVar1 = 0;
      }
      if (iVar1 != 0) {
        return iVar1;
      }
      if (param_2 == 0) {
        return 0;
      }
      iVar1 = InvokeCallbackIfExists(param_1);
    } while (iVar1 != 0);
  }
  return 0;
}



// /*
//  * Function: AllocateMemory (originally FUN_004ad6b0)
//  * Description:
//  *   This function allocates memory from either a custom memory pool or from the system heap. It
// aligns the requested
//  *   size to the nearest 16-byte boundary and attempts to allocate memory from the custom pool
// first. If the allocation
//  *   from the custom pool fails or the requested size exceeds the available memory in the pool,
// it allocates the memory
//  *   using the system heap (`HeapAlloc`). The function ensures thread safety by using a critical
// section during the custom
//  *   memory pool allocation.
//  */

LPVOID AllocateMemory(int param_1)

{
  LPVOID pvVar1;
  uint dwBytes;
  
  dwBytes = param_1 + 0xfU & 0xfffffff0;
  if (dwBytes <= DAT_004d619c) {
    EnterOrInitCriticalSection(9);
    pvVar1 = (LPVOID)AllocateCustomMemoryBlock(param_1 + 0xfU >> 4);
    LeaveCriticalSectionFunc(9);
    if (pvVar1 != (LPVOID)0x0) {
      return pvVar1;
    }
  }
  pvVar1 = HeapAlloc(gHeapMemory,0,dwBytes);
  return pvVar1;
}



// Library Function - Single Match
//  _strcmp
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

int __cdecl _strcmp(char *_Str1,char *_Str2)

{
  undefined2 uVar1;
  undefined4 uVar2;
  byte bVar3;
  byte bVar4;
  bool bVar5;
  
  if (((uint)_Str1 & 3) != 0) {
    if (((uint)_Str1 & 1) != 0) {
      bVar4 = *_Str1;
      _Str1 = _Str1 + 1;
      bVar5 = bVar4 < (byte)*_Str2;
      if (bVar4 != *_Str2) goto LAB_004ad754;
      _Str2 = _Str2 + 1;
      if (bVar4 == 0) {
        return 0;
      }
      if (((uint)_Str1 & 2) == 0) goto LAB_004ad720;
    }
    uVar1 = *(undefined2 *)_Str1;
    _Str1 = (char *)((int)_Str1 + 2);
    bVar4 = (byte)uVar1;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) goto LAB_004ad754;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((ushort)uVar1 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) goto LAB_004ad754;
    if (bVar4 == 0) {
      return 0;
    }
    _Str2 = (char *)((byte *)_Str2 + 2);
  }
LAB_004ad720:
  while( true ) {
    uVar2 = *(undefined4 *)_Str1;
    bVar4 = (byte)uVar2;
    bVar5 = bVar4 < (byte)*_Str2;
    if (bVar4 != *_Str2) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 8);
    bVar5 = bVar4 < ((byte *)_Str2)[1];
    if (bVar4 != ((byte *)_Str2)[1]) break;
    if (bVar4 == 0) {
      return 0;
    }
    bVar4 = (byte)((uint)uVar2 >> 0x10);
    bVar5 = bVar4 < ((byte *)_Str2)[2];
    if (bVar4 != ((byte *)_Str2)[2]) break;
    bVar3 = (byte)((uint)uVar2 >> 0x18);
    if (bVar4 == 0) {
      return 0;
    }
    bVar5 = bVar3 < ((byte *)_Str2)[3];
    if (bVar3 != ((byte *)_Str2)[3]) break;
    _Str2 = (char *)((byte *)_Str2 + 4);
    _Str1 = (char *)((int)_Str1 + 4);
    if (bVar3 == 0) {
      return 0;
    }
  }
LAB_004ad754:
  return (uint)bVar5 * -2 + 1;
}



undefined4 * FUN_004ad7a0(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  undefined4 *puVar2;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    param_2 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar2 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar2 & 3) == 0) {
      uVar1 = param_3 >> 2;
      param_3 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar2 = *param_2;
          param_2 = param_2 + -1;
          puVar2 = puVar2 + -1;
        }
        switch(param_3) {
        case 0:
          return param_1;
        case 2:
          goto switchD_004ad957_caseD_2;
        case 3:
          goto switchD_004ad957_caseD_3;
        }
        goto switchD_004ad957_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_004ad957_caseD_0;
      case 1:
        goto switchD_004ad957_caseD_1;
      case 2:
        goto switchD_004ad957_caseD_2;
      case 3:
        goto switchD_004ad957_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar2 & 3);
        switch((uint)puVar2 & 3) {
        case 1:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          param_2 = (undefined4 *)((int)param_2 + -1);
          uVar1 = uVar1 >> 2;
          puVar2 = (undefined4 *)((int)puVar2 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ad957_caseD_2;
            case 3:
              goto switchD_004ad957_caseD_3;
            }
            goto switchD_004ad957_caseD_1;
          }
          break;
        case 2:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
          param_2 = (undefined4 *)((int)param_2 + -2);
          puVar2 = (undefined4 *)((int)puVar2 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ad957_caseD_2;
            case 3:
              goto switchD_004ad957_caseD_3;
            }
            goto switchD_004ad957_caseD_1;
          }
          break;
        case 3:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
          param_2 = (undefined4 *)((int)param_2 + -3);
          puVar2 = (undefined4 *)((int)puVar2 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ad957_caseD_2;
            case 3:
              goto switchD_004ad957_caseD_3;
            }
            goto switchD_004ad957_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar2[7 - uVar1] = param_2[7 - uVar1];
    case 6:
      puVar2[6 - uVar1] = param_2[6 - uVar1];
    case 5:
      puVar2[5 - uVar1] = param_2[5 - uVar1];
    case 4:
      puVar2[4 - uVar1] = param_2[4 - uVar1];
    case 3:
      puVar2[3 - uVar1] = param_2[3 - uVar1];
    case 2:
      puVar2[2 - uVar1] = param_2[2 - uVar1];
    case 1:
      puVar2[1 - uVar1] = param_2[1 - uVar1];
      param_2 = param_2 + -uVar1;
      puVar2 = puVar2 + -uVar1;
    }
    switch(param_3) {
    case 1:
switchD_004ad957_caseD_1:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      return param_1;
    case 2:
switchD_004ad957_caseD_2:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
      return param_1;
    case 3:
switchD_004ad957_caseD_3:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
      *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
      return param_1;
    }
switchD_004ad957_caseD_0:
    return param_1;
  }
  puVar2 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    param_3 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar2 = *param_2;
        param_2 = param_2 + 1;
        puVar2 = puVar2 + 1;
      }
      switch(param_3) {
      case 0:
        return param_1;
      case 2:
        goto switchD_004ad7d5_caseD_2;
      case 3:
        goto switchD_004ad7d5_caseD_3;
      }
      goto switchD_004ad7d5_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_004ad7d5_caseD_0;
    case 1:
      goto switchD_004ad7d5_caseD_1;
    case 2:
      goto switchD_004ad7d5_caseD_2;
    case 3:
      goto switchD_004ad7d5_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar2 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ad7d5_caseD_2;
          case 3:
            goto switchD_004ad7d5_caseD_3;
          }
          goto switchD_004ad7d5_caseD_1;
        }
        break;
      case 2:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar2 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ad7d5_caseD_2;
          case 3:
            goto switchD_004ad7d5_caseD_3;
          }
          goto switchD_004ad7d5_caseD_1;
        }
        break;
      case 3:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar2 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ad7d5_caseD_2;
          case 3:
            goto switchD_004ad7d5_caseD_3;
          }
          goto switchD_004ad7d5_caseD_1;
        }
      }
    }
  }
                    // WARNING: Could not find normalized switch variable to match jumptable
  switch(uVar1) {
  case 0x1c:
  case 0x1d:
  case 0x1e:
  case 0x1f:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 7] = param_2[uVar1 - 7];
  case 0x18:
  case 0x19:
  case 0x1a:
  case 0x1b:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 6] = param_2[uVar1 - 6];
  case 0x14:
  case 0x15:
  case 0x16:
  case 0x17:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 5] = param_2[uVar1 - 5];
  case 0x10:
  case 0x11:
  case 0x12:
  case 0x13:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 4] = param_2[uVar1 - 4];
  case 0xc:
  case 0xd:
  case 0xe:
  case 0xf:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 3] = param_2[uVar1 - 3];
  case 8:
  case 9:
  case 10:
  case 0xb:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 2] = param_2[uVar1 - 2];
  case 4:
  case 5:
  case 6:
  case 7:
    puVar2[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar2 = puVar2 + uVar1;
  }
  switch(param_3) {
  case 1:
switchD_004ad7d5_caseD_1:
    *(undefined *)puVar2 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_004ad7d5_caseD_2:
    *(undefined *)puVar2 = *(undefined *)param_2;
    *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_004ad7d5_caseD_3:
    *(undefined *)puVar2 = *(undefined *)param_2;
    *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_004ad7d5_caseD_0:
  return param_1;
}



// // Function: StringToInteger
// // Description: This function parses a string of bytes and converts it into an integer. It skips
// leading whitespace, handles optional '+' or '-' signs, and converts a series of digits into the
// corresponding integer value.
// // Old Name: FUN_004adae0
// //
// // Arguments:
// //   param_1 (byte*): A pointer to the input string of bytes that represents a number to be
// converted to an integer.
// 

int StringToInteger(byte *param_1)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  byte *pbVar6;
  
  while( true ) {
    if (DAT_004d3f4c < 2) {
      uVar2 = (byte)PTR_DAT_004d3d40[(uint)*param_1 * 2] & 8;
    }
    else {
      uVar2 = GetCharacterType(*param_1,8);
    }
    if (uVar2 == 0) break;
    param_1 = param_1 + 1;
  }
  uVar2 = (uint)*param_1;
  pbVar6 = param_1 + 1;
  if ((uVar2 == 0x2d) || (uVar4 = uVar2, uVar2 == 0x2b)) {
    uVar4 = (uint)*pbVar6;
    pbVar6 = param_1 + 2;
  }
  iVar5 = 0;
  while( true ) {
    if (DAT_004d3f4c < 2) {
      uVar3 = (byte)PTR_DAT_004d3d40[uVar4 * 2] & 4;
    }
    else {
      uVar3 = GetCharacterType(uVar4,4);
    }
    if (uVar3 == 0) break;
    bVar1 = *pbVar6;
    pbVar6 = pbVar6 + 1;
    iVar5 = (uVar4 - 0x30) + iVar5 * 10;
    uVar4 = (uint)bVar1;
  }
  if (uVar2 == 0x2d) {
    iVar5 = -iVar5;
  }
  return iVar5;
}



void FUN_004adb80(undefined4 param_1)

{
  StringToInteger(param_1);
  return;
}



float10 FUN_004adb90(byte *param_1)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  byte *pbVar4;
  undefined local_18 [24];
  
  while( true ) {
    if (DAT_004d3f4c < 2) {
      uVar2 = (byte)PTR_DAT_004d3d40[(uint)*param_1 * 2] & 8;
    }
    else {
      uVar2 = GetCharacterType(*param_1,8);
    }
    if (uVar2 == 0) break;
    param_1 = param_1 + 1;
  }
  uVar2 = 0xffffffff;
  pbVar4 = param_1;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    bVar1 = *pbVar4;
    pbVar4 = pbVar4 + 1;
  } while (bVar1 != 0);
  iVar3 = FUN_004b3ea0(local_18,param_1,~uVar2 - 1,0,0);
  return (float10)*(double *)(iVar3 + 0x10);
}



// Library Function - Multiple Matches With Different Base Names
//  __mbscpy
//  _strcpy
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl FID_conflict___mbscpy(char *_Dest,char *_Source)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  
  uVar3 = (uint)_Source & 3;
  puVar4 = (uint *)_Dest;
  while (uVar3 != 0) {
    bVar1 = *_Source;
    uVar3 = (uint)bVar1;
    _Source = (char *)((int)_Source + 1);
    if (bVar1 == 0) goto LAB_004adce8;
    *(byte *)puVar4 = bVar1;
    puVar4 = (uint *)((int)puVar4 + 1);
    uVar3 = (uint)_Source & 3;
  }
  do {
    uVar2 = *(uint *)_Source;
    uVar3 = *(uint *)_Source;
    _Source = (char *)((int)_Source + 4);
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar3 == '\0') {
LAB_004adce8:
        *(byte *)puVar4 = (byte)uVar3;
        return _Dest;
      }
      if ((char)(uVar3 >> 8) == '\0') {
        *(short *)puVar4 = (short)uVar3;
        return _Dest;
      }
      if ((uVar3 & 0xff0000) == 0) {
        *(short *)puVar4 = (short)uVar3;
        *(byte *)((int)puVar4 + 2) = 0;
        return _Dest;
      }
      if ((uVar3 & 0xff000000) == 0) {
        *puVar4 = uVar3;
        return _Dest;
      }
    }
    *puVar4 = uVar3;
    puVar4 = puVar4 + 1;
  } while( true );
}



// Library Function - Multiple Matches With Different Base Names
//  __mbscat
//  _strcat
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl FID_conflict__strcat(char *_Dest,char *_Source)

{
  byte bVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar4 = (uint)_Dest & 3;
  puVar3 = (uint *)_Dest;
  while (uVar4 != 0) {
    bVar1 = *(byte *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (bVar1 == 0) goto LAB_004adc5f;
    uVar4 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar5 = puVar3;
      puVar3 = puVar5 + 1;
    } while (((*puVar5 ^ 0xffffffff ^ *puVar5 + 0x7efefeff) & 0x81010100) == 0);
    uVar4 = *puVar5;
    if ((char)uVar4 == '\0') goto LAB_004adc71;
    if ((char)(uVar4 >> 8) == '\0') {
      puVar5 = (uint *)((int)puVar5 + 1);
      goto LAB_004adc71;
    }
    if ((uVar4 & 0xff0000) == 0) {
      puVar5 = (uint *)((int)puVar5 + 2);
      goto LAB_004adc71;
    }
  } while ((uVar4 & 0xff000000) != 0);
LAB_004adc5f:
  puVar5 = (uint *)((int)puVar3 + -1);
LAB_004adc71:
  uVar4 = (uint)_Source & 3;
  while (uVar4 != 0) {
    bVar1 = *_Source;
    uVar4 = (uint)bVar1;
    _Source = (char *)((int)_Source + 1);
    if (bVar1 == 0) goto LAB_004adce8;
    *(byte *)puVar5 = bVar1;
    puVar5 = (uint *)((int)puVar5 + 1);
    uVar4 = (uint)_Source & 3;
  }
  do {
    uVar2 = *(uint *)_Source;
    uVar4 = *(uint *)_Source;
    _Source = (char *)((int)_Source + 4);
    if (((uVar2 ^ 0xffffffff ^ uVar2 + 0x7efefeff) & 0x81010100) != 0) {
      if ((char)uVar4 == '\0') {
LAB_004adce8:
        *(byte *)puVar5 = (byte)uVar4;
        return _Dest;
      }
      if ((char)(uVar4 >> 8) == '\0') {
        *(short *)puVar5 = (short)uVar4;
        return _Dest;
      }
      if ((uVar4 & 0xff0000) == 0) {
        *(short *)puVar5 = (short)uVar4;
        *(byte *)((int)puVar5 + 2) = 0;
        return _Dest;
      }
      if ((uVar4 & 0xff000000) == 0) {
        *puVar5 = uVar4;
        return _Dest;
      }
    }
    *puVar5 = uVar4;
    puVar5 = puVar5 + 1;
  } while( true );
}



undefined4 FUN_004adcf0(int param_1)

{
  undefined4 uVar1;
  
  if ((*(byte *)(param_1 + 0xc) & 0x40) != 0) {
    *(undefined4 *)(param_1 + 0xc) = 0;
    return 0xffffffff;
  }
  EnterConditionalCriticalSection(param_1);
  uVar1 = FUN_004add30(param_1);
  LeaveCriticalSection1Param(param_1);
  return uVar1;
}



undefined4 FUN_004add30(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  uVar2 = 0xffffffff;
  if ((*(byte *)(param_1 + 0xc) & 0x83) != 0) {
    uVar2 = FlushBufferToResource(param_1);
    FUN_004b3f40(param_1);
    iVar1 = CloseAndUnlockResource(*(undefined4 *)(param_1 + 0x10));
    if (iVar1 < 0) {
      *(undefined4 *)(param_1 + 0xc) = 0;
      return 0xffffffff;
    }
    if (*(int *)(param_1 + 0x1c) != 0) {
      FreeMemory(*(int *)(param_1 + 0x1c));
      *(undefined4 *)(param_1 + 0x1c) = 0;
    }
  }
  *(undefined4 *)(param_1 + 0xc) = 0;
  return uVar2;
}



// // Function: CopyDataWithLock
// // Description: This function copies data from a resource while holding a lock to ensure thread
// safety. It enters a critical section before copying data from the resource, and leaves the
// critical section afterward to ensure proper synchronization.
// // Old Name: FUN_004adda0
// //
// // Arguments:
// //   param_1 (undefined4): The destination buffer to copy data into.
// //   param_2 (undefined4): The size of each unit being copied.
// //   param_3 (undefined4): The number of units to copy.
// //   param_4 (undefined4): A pointer to the critical section or lock that ensures thread-safe
// access.
// //
// // Return Value:
// //   Returns the result of the data copy operation. If successful, it returns the number of units
// copied. If an error occurs, it returns a failure code.
// 

undefined4
CopyDataWithLock(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  EnterConditionalCriticalSection(param_4);
  uVar1 = CopyDataFromResource(param_1,param_2,param_3,param_4);
  LeaveCriticalSection1Param(param_4);
  return uVar1;
}



// // Function: CopyDataFromResource
// // Description: This function reads or copies data from a resource (or buffer) into the provided
// destination buffer. It processes the data in chunks based on the resource's state, handling
// special conditions such as end-of-stream or empty buffer flags. It returns the number of units
// successfully copied.
// // Old Name: FUN_004adde0
// //
// // Arguments:
// //   param_1 (undefined4 *): The destination buffer to copy data into.
// //   param_2 (uint): The size of each unit being copied.
// //   param_3 (uint): The number of units to copy.
// //   param_4 (int *): A structure or resource containing information about the data source,
// including flags and the buffer to read from.
// //
// // Return Value:
// //   Returns the number of units successfully copied.
// 

uint CopyDataFromResource(undefined4 *param_1,uint param_2,uint param_3,int *param_4)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  
  piVar1 = param_4;
  uVar6 = param_3 * param_2;
  if (uVar6 == 0) {
    return 0;
  }
  uVar7 = uVar6;
  if ((param_4[3] & 0x10cU) == 0) {
    param_4 = (int *)0x1000;
    uVar5 = 0x1000;
  }
  else {
    uVar5 = param_4[6];
    param_4 = (int *)uVar5;
  }
  do {
    if (((piVar1[3] & 0x10cU) == 0) || (uVar2 = piVar1[1], uVar2 == 0)) {
      if (uVar7 < uVar5) {
        iVar4 = ReadByteFromResource(piVar1);
        if (iVar4 == -1) {
          return (uVar6 - uVar7) / param_2;
        }
        *(char *)param_1 = (char)iVar4;
        uVar5 = piVar1[6];
        param_1 = (undefined4 *)((int)param_1 + 1);
        iVar4 = -1;
        param_4 = (int *)uVar5;
      }
      else {
        uVar2 = uVar7;
        if (uVar5 != 0) {
          uVar2 = uVar7 - uVar7 % uVar5;
        }
        iVar3 = ReadFromLockedResource(piVar1[4],param_1,uVar2);
        if (iVar3 == 0) {
          piVar1[3] = piVar1[3] | 0x10;
          return (uVar6 - uVar7) / param_2;
        }
        if (iVar3 == -1) {
          piVar1[3] = piVar1[3] | 0x20;
          return (uVar6 - uVar7) / param_2;
        }
        iVar4 = -iVar3;
        param_1 = (undefined4 *)((int)param_1 + iVar3);
      }
    }
    else {
      if (uVar7 < uVar2) {
        uVar2 = uVar7;
      }
      iVar4 = -uVar2;
      puVar8 = (undefined4 *)*piVar1;
      puVar9 = param_1;
      for (uVar5 = uVar2 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *puVar9 = *puVar8;
        puVar8 = puVar8 + 1;
        puVar9 = puVar9 + 1;
      }
      for (uVar5 = uVar2 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined *)puVar9 = *(undefined *)puVar8;
        puVar8 = (undefined4 *)((int)puVar8 + 1);
        puVar9 = (undefined4 *)((int)puVar9 + 1);
      }
      param_1 = (undefined4 *)((int)param_1 + uVar2);
      piVar1[1] = piVar1[1] - uVar2;
      *piVar1 = *piVar1 + uVar2;
      uVar5 = (uint)param_4;
    }
    uVar7 = uVar7 + iVar4;
    if (uVar7 == 0) {
      return param_3;
    }
  } while( true );
}



// // Function: OpenFileWithResource
// // Description: This function finds or allocates a resource, then uses it to open a file with
// specific flags. After the file is opened, the critical section for the resource is released.
// // Old Name: FUN_004adf20
// //
// // Arguments:
// //   param_1 (undefined4): A parameter passed to the file-opening function.
// //   param_2 (undefined4): Another parameter for the file-opening function (likely file mode or
// flags).
// //   param_3 (undefined4): A parameter that could specify additional options for file opening.
// //
// // Return Value:
// //   Returns the result of the `OpenFileWithFlags` call, or `0` if resource allocation fails.
// 

undefined4 OpenFileWithResource(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FindOrAllocateResource();
  if (iVar1 == 0) {
    return 0;
  }
  uVar2 = OpenFileWithFlags(param_1,param_2,param_3,iVar1);
  LeaveCriticalSection1Param(iVar1);
  return uVar2;
}



// // Function: OpenFileWithFixedFlags
// // Description: This function opens a file using two provided parameters (`param_1`, `param_2`)
// and a fixed set of flags (`0x40`). It calls `OpenFileWithResource` to perform the file opening.
// // Old Name: FUN_004adf60
// //
// // Arguments:
// //   param_1 (undefined4): A parameter passed to the file-opening function (likely the file
// path).
// //   param_2 (undefined4): A second parameter for the file-opening function (likely the mode or
// options).
// //
// // Return Value: None.
// 

void OpenFileWithFixedFlags0x40(undefined4 param_1,undefined4 param_2)

{
  OpenFileWithResource(param_1,param_2,0x40);
  return;
}



// Library Function - Single Match
//  _strlen
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

size_t __cdecl _strlen(char *_Str)

{
  char cVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  
  uVar2 = (uint)_Str & 3;
  puVar3 = (uint *)_Str;
  while (uVar2 != 0) {
    cVar1 = *(char *)puVar3;
    puVar3 = (uint *)((int)puVar3 + 1);
    if (cVar1 == '\0') goto LAB_004adfd3;
    uVar2 = (uint)puVar3 & 3;
  }
  do {
    do {
      puVar4 = puVar3;
      puVar3 = puVar4 + 1;
    } while (((*puVar4 ^ 0xffffffff ^ *puVar4 + 0x7efefeff) & 0x81010100) == 0);
    uVar2 = *puVar4;
    if ((char)uVar2 == '\0') {
      return (int)puVar4 - (int)_Str;
    }
    if ((char)(uVar2 >> 8) == '\0') {
      return (size_t)((int)puVar4 + (1 - (int)_Str));
    }
    if ((uVar2 & 0xff0000) == 0) {
      return (size_t)((int)puVar4 + (2 - (int)_Str));
    }
  } while ((uVar2 & 0xff000000) != 0);
LAB_004adfd3:
  return (size_t)((int)puVar3 + (-1 - (int)_Str));
}



// Library Function - Multiple Matches With Different Base Names
//  __CIsin
//  __CIsin_default
// 
// Library: Visual Studio

void FID_conflict___CIsin_default(void)

{
  float10 in_ST0;
  
  FUN_004b3d38((double)in_ST0);
  start();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ushort FUN_004ae014(int param_1)

{
  ushort uVar1;
  uint uVar2;
  undefined in_ZF;
  ushort in_FPUStatusWord;
  unkbyte10 extraout_ST0;
  float10 fVar3;
  
  uVar2 = __fload_withFB();
  if ((bool)in_ZF) {
    if (((uVar2 & 0xfffff) == 0) && (param_1 == 0)) {
      in_FPUStatusWord = 1;
    }
    else {
      in_FPUStatusWord = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar3 = (float10)fsin(extraout_ST0);
    if ((in_FPUStatusWord & 0x400) != 0) {
      do {
        fVar3 = fVar3 - (fVar3 / _DAT_004c1eba) * _DAT_004c1eba;
      } while ((in_FPUStatusWord & 0x400) != 0);
      fsin(fVar3);
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return in_FPUStatusWord;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  start
// 
// Library: Visual Studio

ushort start(int param_1)

{
  ushort uVar1;
  uint in_EAX;
  bool in_ZF;
  ushort in_FPUStatusWord;
  unkbyte10 in_ST0;
  float10 fVar2;
  
  if (in_ZF) {
    if (((in_EAX & 0xfffff) == 0) && (param_1 == 0)) {
      in_FPUStatusWord = 1;
    }
    else {
      in_FPUStatusWord = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar2 = (float10)fsin(in_ST0);
    if ((in_FPUStatusWord & 0x400) != 0) {
      do {
        fVar2 = fVar2 - (fVar2 / _DAT_004c1eba) * _DAT_004c1eba;
      } while ((in_FPUStatusWord & 0x400) != 0);
      fsin(fVar2);
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return in_FPUStatusWord;
}



// Library Function - Multiple Matches With Different Base Names
//  __CIcos
//  __CIcos_default
// 
// Library: Visual Studio

void FID_conflict___CIcos_default(void)

{
  float10 in_ST0;
  
  FUN_004b3d38((double)in_ST0);
  start();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ushort FUN_004ae0c4(int param_1)

{
  ushort uVar1;
  uint uVar2;
  undefined in_ZF;
  ushort in_FPUStatusWord;
  unkbyte10 extraout_ST0;
  float10 fVar3;
  
  uVar2 = __fload_withFB();
  if ((bool)in_ZF) {
    if (((uVar2 & 0xfffff) == 0) && (param_1 == 0)) {
      in_FPUStatusWord = 1;
    }
    else {
      in_FPUStatusWord = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar3 = (float10)fcos(extraout_ST0);
    if ((in_FPUStatusWord & 0x400) != 0) {
      do {
        fVar3 = fVar3 - (fVar3 / _DAT_004c1eba) * _DAT_004c1eba;
      } while ((in_FPUStatusWord & 0x400) != 0);
      fcos(fVar3);
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return in_FPUStatusWord;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  start
// 
// Library: Visual Studio

ushort start(int param_1)

{
  ushort uVar1;
  uint in_EAX;
  bool in_ZF;
  ushort in_FPUStatusWord;
  unkbyte10 in_ST0;
  float10 fVar2;
  
  if (in_ZF) {
    if (((in_EAX & 0xfffff) == 0) && (param_1 == 0)) {
      in_FPUStatusWord = 1;
    }
    else {
      in_FPUStatusWord = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar2 = (float10)fcos(in_ST0);
    if ((in_FPUStatusWord & 0x400) != 0) {
      do {
        fVar2 = fVar2 - (fVar2 / _DAT_004c1eba) * _DAT_004c1eba;
      } while ((in_FPUStatusWord & 0x400) != 0);
      fcos(fVar2);
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return in_FPUStatusWord;
}



void FUN_004ae160(void)

{
  __ctrandisp2();
  return;
}



void FUN_004ae1a0(uint param_1,uint param_2,uint param_3,code *param_4)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint local_100;
  uint *local_fc;
  uint *local_f8;
  int local_f4;
  uint local_f0 [30];
  uint local_78 [30];
  
  if ((param_2 < 2) || (param_3 == 0)) {
    return;
  }
  local_100 = (param_2 - 1) * param_3 + param_1;
  local_fc = local_f0;
  local_f8 = local_78;
  local_f4 = 0;
LAB_004ae1f4:
  uVar1 = (local_100 - param_1) / param_3 + 1;
  if (8 < uVar1) {
    FUN_004ae3b0((uVar1 >> 1) * param_3 + param_1,param_1,param_3);
    uVar3 = local_100 + param_3;
    uVar1 = param_1;
LAB_004ae26e:
    uVar1 = uVar1 + param_3;
    if (uVar1 <= local_100) goto code_r0x004ae278;
    goto LAB_004ae288;
  }
  FUN_004ae350(param_1,local_100,param_3,param_4);
  goto LAB_004ae215;
code_r0x004ae278:
  iVar2 = (*param_4)(uVar1,param_1);
  if (iVar2 < 1) goto LAB_004ae26e;
LAB_004ae288:
  do {
    uVar3 = uVar3 - param_3;
    if (uVar3 <= param_1) break;
    iVar2 = (*param_4)(uVar3,param_1);
  } while (-1 < iVar2);
  if (uVar1 <= uVar3) {
    FUN_004ae3b0(uVar1,uVar3,param_3);
    goto LAB_004ae26e;
  }
  FUN_004ae3b0(param_1,uVar3,param_3);
  if ((int)((uVar3 - param_1) + -1) < (int)(local_100 - uVar1)) {
    if (uVar1 < local_100) {
      *local_f8 = uVar1;
      *local_fc = local_100;
      local_f4 = local_f4 + 1;
      local_f8 = local_f8 + 1;
      local_fc = local_fc + 1;
    }
    if (param_1 + param_3 < uVar3) {
      local_100 = uVar3 - param_3;
      goto LAB_004ae1f4;
    }
  }
  else {
    if (param_1 + param_3 < uVar3) {
      *local_f8 = param_1;
      *local_fc = uVar3 - param_3;
      local_f4 = local_f4 + 1;
      local_f8 = local_f8 + 1;
      local_fc = local_fc + 1;
    }
    param_1 = uVar1;
    if (uVar1 < local_100) goto LAB_004ae1f4;
  }
LAB_004ae215:
  local_f4 = local_f4 + -1;
  local_f8 = local_f8 + -1;
  local_fc = local_fc + -1;
  if (local_f4 < 0) {
    return;
  }
  local_100 = *local_fc;
  param_1 = *local_f8;
  goto LAB_004ae1f4;
}



void FUN_004ae350(uint param_1,uint param_2,int param_3,code *param_4)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  if (param_1 < param_2) {
    uVar1 = param_3 + param_1;
    uVar3 = param_1;
    do {
      for (; uVar1 <= param_2; uVar1 = uVar1 + param_3) {
        iVar2 = (*param_4)(uVar1,uVar3);
        if (0 < iVar2) {
          uVar3 = uVar1;
        }
      }
      FUN_004ae3b0(uVar3,param_2,param_3);
      param_2 = param_2 - param_3;
      uVar1 = param_3 + param_1;
      uVar3 = param_1;
    } while (param_1 < param_2);
  }
  return;
}



void FUN_004ae3b0(undefined *param_1,undefined *param_2,int param_3)

{
  undefined uVar1;
  
  if ((param_1 != param_2) && (param_3 != 0)) {
    do {
      uVar1 = *param_1;
      *param_1 = *param_2;
      param_1 = param_1 + 1;
      *param_2 = uVar1;
      param_2 = param_2 + 1;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
  }
  return;
}



undefined4 FUN_004ae3e0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  
  EnterConditionalCriticalSection(param_4);
  uVar1 = FUN_004ae420(param_1,param_2,param_3,param_4);
  LeaveCriticalSection1Param(param_4);
  return uVar1;
}



uint FUN_004ae420(undefined4 *param_1,uint param_2,uint param_3,int *param_4)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  
  piVar1 = param_4;
  uVar5 = param_3 * param_2;
  if (uVar5 == 0) {
    return 0;
  }
  uVar6 = uVar5;
  if ((param_4[3] & 0x10cU) == 0) {
    param_4 = (int *)0x1000;
  }
  else {
    param_4 = (int *)param_4[6];
  }
  do {
    if (((piVar1[3] & 0x108U) == 0) || (uVar2 = piVar1[1], uVar2 == 0)) {
      if (uVar6 < param_4) {
        iVar3 = FUN_004b54a0((int)*(char *)param_1,piVar1);
        if (iVar3 == -1) goto LAB_004ae554;
        param_4 = (int *)piVar1[6];
        param_1 = (undefined4 *)((int)param_1 + 1);
        uVar6 = uVar6 - 1;
        if ((int)param_4 < 1) {
          param_4 = (int *)0x1;
        }
      }
      else {
        if (((piVar1[3] & 0x108U) != 0) && (iVar3 = FlushBufferToResource(piVar1), iVar3 != 0)) {
LAB_004ae554:
          return (uVar5 - uVar6) / param_2;
        }
        uVar2 = uVar6;
        if (param_4 != (int *)0x0) {
          uVar2 = uVar6 - uVar6 % (uint)param_4;
        }
        uVar4 = WriteToLockedResource(piVar1[4],param_1,uVar2);
        if (uVar4 == 0xffffffff) {
LAB_004ae539:
          piVar1[3] = piVar1[3] | 0x20;
          return (uVar5 - uVar6) / param_2;
        }
        uVar6 = uVar6 - uVar4;
        param_1 = (undefined4 *)((int)param_1 + uVar4);
        if (uVar4 < uVar2) goto LAB_004ae539;
      }
    }
    else {
      if (uVar6 < uVar2) {
        uVar2 = uVar6;
      }
      uVar6 = uVar6 - uVar2;
      puVar7 = param_1;
      puVar8 = (undefined4 *)*piVar1;
      for (uVar4 = uVar2 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
        *puVar8 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar8 = puVar8 + 1;
      }
      for (uVar4 = uVar2 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
        *(undefined *)puVar8 = *(undefined *)puVar7;
        puVar7 = (undefined4 *)((int)puVar7 + 1);
        puVar8 = (undefined4 *)((int)puVar8 + 1);
      }
      param_1 = (undefined4 *)((int)param_1 + uVar2);
      piVar1[1] = piVar1[1] - uVar2;
      *piVar1 = *piVar1 + uVar2;
    }
    if (uVar6 == 0) {
      return param_3;
    }
  } while( true );
}



// Library Function - Single Match
//  _strstr
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl _strstr(char *_Str,char *_SubStr)

{
  char *pcVar1;
  char *pcVar2;
  char cVar3;
  char *pcVar4;
  char *pcVar5;
  
  if (*_SubStr == '\0') {
    return _Str;
  }
  if (_SubStr[1] == '\0') {
    pcVar4 = (char *)FUN_004b5876();
    return pcVar4;
  }
  do {
    cVar3 = *_Str;
    do {
      while (_Str = _Str + 1, cVar3 != *_SubStr) {
        if (cVar3 == '\0') {
          return (char *)0x0;
        }
        cVar3 = *_Str;
      }
      cVar3 = *_Str;
      pcVar5 = _Str + 1;
      pcVar4 = _SubStr;
    } while (cVar3 != _SubStr[1]);
    do {
      if (pcVar4[2] == '\0') {
LAB_004ae5e3:
        return _Str + -1;
      }
      if (*pcVar5 != pcVar4[2]) break;
      pcVar1 = pcVar4 + 3;
      if (*pcVar1 == '\0') goto LAB_004ae5e3;
      pcVar2 = pcVar5 + 1;
      pcVar4 = pcVar4 + 2;
      pcVar5 = pcVar5 + 2;
    } while (*pcVar1 == *pcVar2);
  } while( true );
}



undefined4 FUN_004ae5f0(int param_1,undefined4 param_2,int param_3)

{
  if ((param_3 == 10) && (param_1 < 0)) {
    FUN_004ae630(param_1,param_2,10,1);
    return param_2;
  }
  FUN_004ae630(param_1,param_2,param_3,0);
  return param_2;
}



void FUN_004ae630(uint param_1,char *param_2,uint param_3,int param_4)

{
  ulonglong uVar1;
  char *pcVar2;
  char cVar3;
  char *pcVar4;
  
  pcVar2 = param_2;
  if (param_4 != 0) {
    *param_2 = '-';
    param_2 = param_2 + 1;
    param_1 = -param_1;
    pcVar2 = param_2;
  }
  do {
    pcVar4 = pcVar2;
    uVar1 = (ulonglong)param_1;
    param_1 = param_1 / param_3;
    cVar3 = (char)(uVar1 % (ulonglong)param_3);
    if ((uint)(uVar1 % (ulonglong)param_3) < 10) {
      cVar3 = cVar3 + '0';
    }
    else {
      cVar3 = cVar3 + 'W';
    }
    *pcVar4 = cVar3;
    pcVar2 = pcVar4 + 1;
  } while (param_1 != 0);
  pcVar4[1] = '\0';
  do {
    cVar3 = *pcVar4;
    *pcVar4 = *param_2;
    *param_2 = cVar3;
    pcVar4 = pcVar4 + -1;
    param_2 = param_2 + 1;
  } while (param_2 < pcVar4);
  return;
}



// // Function: SeekInResourceWithLock
// // Description: Locks the resource, performs a seek operation within the resource, and then
// unlocks the resource. It ensures thread safety during the seek process.
// // Old Name: FUN_004ae6a0
// //
// // Arguments:
// //   param_1 (undefined4): A handle or pointer to the resource structure, which will be locked
// before seeking.
// //   param_2 (undefined4): The offset for the seek operation (passed to the internal seek
// function).
// //   param_3 (undefined4): The mode of seeking (absolute, relative to the current position, or
// relative to the end of the resource).
// //
// // Return Value:
// //   Returns the result of the seek operation (success or failure) after unlocking the resource.
// 

undefined4 SeekInResourceWithLock(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  EnterConditionalCriticalSection(param_1);
  uVar1 = SeekInResource(param_1,param_2,param_3);
  LeaveCriticalSection1Param(param_1);
  return uVar1;
}



// // Function: SeekInResource
// // Description: Adjusts the file pointer of a resource, handling buffered data and special cases
// like newline translation. It flushes the buffer, if necessary, before performing the seek
// operation.
// // Old Name: FUN_004ae6e0
// //
// // Arguments:
// //   param_1 (int): A pointer to the resource structure containing information about the resource
// and its state (buffer, flags, etc.).
// //   param_2 (int): The offset to move the file pointer to.
// //   param_3 (int): The seek mode, where 0 indicates an absolute position, 1 is relative to the
// current position, and 2 is relative to the end of the file.
// //
// // Return Value:
// //   Returns 0 if successful, -1 if an error occurs.
// 

int SeekInResource(int param_1,int param_2,int param_3)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (((*(uint *)(param_1 + 0xc) & 0x83) != 0) &&
     (((param_3 == 0 || (param_3 == 1)) || (param_3 == 2)))) {
    *(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) & 0xffffffef;
    if (param_3 == 1) {
      iVar2 = CalculateFilePositionWithNewlines(param_1);
      param_2 = param_2 + iVar2;
      param_3 = 0;
    }
    FlushBufferToResource(param_1);
    uVar1 = *(uint *)(param_1 + 0xc);
    if ((uVar1 & 0x80) == 0) {
      if ((((uVar1 & 1) != 0) && ((uVar1 & 8) != 0)) && ((uVar1 & 0x400) == 0)) {
        *(undefined4 *)(param_1 + 0x18) = 0x200;
      }
    }
    else {
      *(uint *)(param_1 + 0xc) = uVar1 & 0xfffffffc;
    }
    iVar2 = SeekInLockedResource(*(undefined4 *)(param_1 + 0x10),param_2,param_3);
    return (iVar2 != -1) - 1;
  }
  puVar3 = (undefined4 *)GetSpecificTlsOffset();
  *puVar3 = 0x16;
  return -1;
}



uint FUN_004ae780(byte *param_1,byte *param_2)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  undefined4 *puVar6;
  undefined4 local_20 [8];
  
  iVar3 = GetOrAllocateTlsData();
  puVar6 = local_20;
  for (iVar4 = 8; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar6 = 0;
    puVar6 = puVar6 + 1;
  }
  do {
    bVar1 = *param_2;
    param_2 = param_2 + 1;
    *(byte *)((int)local_20 + (uint)(bVar1 >> 3)) =
         *(byte *)((int)local_20 + (uint)(bVar1 >> 3)) | '\x01' << (bVar1 & 7);
  } while (bVar1 != 0);
  if (param_1 == (byte *)0x0) {
    param_1 = *(byte **)(iVar3 + 0x18);
  }
  bVar1 = *param_1;
  bVar2 = *(byte *)((int)local_20 + (uint)(bVar1 >> 3)) & (byte)(1 << (bVar1 & 7));
  while ((bVar2 != 0 && (bVar1 != 0))) {
    bVar1 = param_1[1];
    param_1 = param_1 + 1;
    bVar2 = *(byte *)((int)local_20 + (uint)(bVar1 >> 3)) & (byte)(1 << (bVar1 & 7));
  }
  bVar1 = *param_1;
  pbVar5 = param_1;
  do {
    if (bVar1 == 0) {
LAB_004ae84f:
      *(byte **)(iVar3 + 0x18) = pbVar5;
      return -(uint)(param_1 != pbVar5) & (uint)param_1;
    }
    if ((*(byte *)((int)local_20 + (uint)(bVar1 >> 3)) & (byte)(1 << (bVar1 & 7))) != 0) {
      *pbVar5 = 0;
      pbVar5 = pbVar5 + 1;
      goto LAB_004ae84f;
    }
    bVar1 = pbVar5[1];
    pbVar5 = pbVar5 + 1;
  } while( true );
}



uint FUN_004ae870(byte param_1,char *param_2)

{
  char cVar1;
  int iVar2;
  int iVar3;
  char *pcVar4;
  uint uVar5;
  
  pcVar4 = param_2;
  if (param_2[1] == ':') {
    pcVar4 = param_2 + 2;
  }
  cVar1 = *pcVar4;
  if ((((cVar1 == '\\') || (cVar1 == '/')) && (pcVar4[1] == '\0')) ||
     (((param_1 & 0x10) != 0 || (uVar5 = 0x8000, cVar1 == '\0')))) {
    uVar5 = 0x4040;
  }
  uVar5 = uVar5 | (uint)(~param_1 & 1 | 2) << 7;
  iVar2 = FUN_004b60d0(param_2,0x2e);
  if (iVar2 != 0) {
    iVar3 = FUN_004b5f20(iVar2,&DAT_004c1cf0);
    if (iVar3 != 0) {
      iVar3 = FUN_004b5f20(iVar2,&DAT_004c1ce8);
      if (iVar3 != 0) {
        iVar3 = FUN_004b5f20(iVar2,&DAT_004c1ce0);
        if (iVar3 != 0) {
          iVar2 = FUN_004b5f20(iVar2,&DAT_004c1cd8);
          if (iVar2 != 0) goto LAB_004ae91a;
        }
      }
    }
    uVar5 = uVar5 | 0x40;
  }
LAB_004ae91a:
  return (uVar5 & 0x1c0) >> 6 | uVar5 | uVar5 >> 3 & 0x38;
}



undefined4 FUN_004ae940(LPCSTR param_1,int *param_2)

{
  char cVar1;
  undefined2 uVar2;
  int iVar3;
  HANDLE hFindFile;
  LPCSTR lpRootPathName;
  UINT UVar4;
  undefined4 *puVar5;
  BOOL BVar6;
  DWORD DVar7;
  LPCSTR pCVar8;
  _SYSTEMTIME _Stack_260;
  int local_250;
  _FILETIME _Stack_24c;
  _WIN32_FIND_DATAA local_244;
  undefined auStack_104 [260];
  
  iVar3 = FUN_004b6410(param_1,&DAT_004c1cfc);
  if (iVar3 != 0) goto LAB_004aea4c;
  if (param_1[1] == ':') {
    if ((*param_1 != '\0') && (param_1[2] == '\0')) goto LAB_004aea4c;
    local_250 = FUN_004b6370((int)*param_1);
    local_250 = local_250 + -0x60;
  }
  else {
    local_250 = FUN_004b6320();
  }
  hFindFile = FindFirstFileA(param_1,&local_244);
  if (hFindFile == (HANDLE)0xffffffff) {
    iVar3 = FUN_004b6410(param_1,&PTR_DAT_004c1cf8);
    if (iVar3 != 0) {
      lpRootPathName = (LPCSTR)FUN_004b6250(auStack_104,param_1,0x104);
      if (lpRootPathName != (LPCSTR)0x0) {
        iVar3 = -1;
        pCVar8 = lpRootPathName;
        do {
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          cVar1 = *pCVar8;
          pCVar8 = pCVar8 + 1;
        } while (cVar1 != '\0');
        if (iVar3 != -5) {
          iVar3 = FUN_004aec80(lpRootPathName);
          if (iVar3 == 0) goto LAB_004aea4c;
        }
        UVar4 = GetDriveTypeA(lpRootPathName);
        if (1 < UVar4) {
          local_244.dwFileAttributes = 0x10;
          local_244.nFileSizeHigh = 0;
          local_244.nFileSizeLow = 0;
          local_244.cFileName[0] = '\0';
          iVar3 = FUN_004b6160(0x7bc,1,1,0,0,0,0xffffffff);
          param_2[7] = iVar3;
          param_2[6] = iVar3;
          param_2[8] = iVar3;
          goto LAB_004aec19;
        }
      }
    }
LAB_004aea4c:
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 2;
    puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
    *puVar5 = 2;
    return 0xffffffff;
  }
  BVar6 = FileTimeToLocalFileTime(&local_244.ftLastWriteTime,&_Stack_24c);
  if (BVar6 != 0) {
    BVar6 = FileTimeToSystemTime(&_Stack_24c,&_Stack_260);
    if (BVar6 != 0) {
      iVar3 = FUN_004b6160(_Stack_260.wYear,_Stack_260.wMonth,_Stack_260.wDay,_Stack_260.wHour,
                           _Stack_260.wMinute,_Stack_260.wSecond,0xffffffff);
      param_2[7] = iVar3;
      if ((local_244.ftLastAccessTime.dwLowDateTime != 0) ||
         (local_244.ftLastAccessTime.dwHighDateTime != 0)) {
        BVar6 = FileTimeToLocalFileTime(&local_244.ftLastAccessTime,&_Stack_24c);
        if (BVar6 == 0) goto LAB_004aec5b;
        BVar6 = FileTimeToSystemTime(&_Stack_24c,&_Stack_260);
        if (BVar6 == 0) goto LAB_004aec5b;
        iVar3 = FUN_004b6160(_Stack_260.wYear,_Stack_260.wMonth,_Stack_260.wDay,_Stack_260.wHour,
                             _Stack_260.wMinute,_Stack_260.wSecond,0xffffffff);
      }
      param_2[6] = iVar3;
      if ((local_244.ftCreationTime.dwLowDateTime == 0) &&
         (local_244.ftCreationTime.dwHighDateTime == 0)) {
        param_2[8] = param_2[7];
      }
      else {
        BVar6 = FileTimeToLocalFileTime(&local_244.ftCreationTime,&_Stack_24c);
        if (BVar6 == 0) goto LAB_004aec5b;
        BVar6 = FileTimeToSystemTime(&_Stack_24c,&_Stack_260);
        if (BVar6 == 0) goto LAB_004aec5b;
        iVar3 = FUN_004b6160(_Stack_260.wYear,_Stack_260.wMonth,_Stack_260.wDay,_Stack_260.wHour,
                             _Stack_260.wMinute,_Stack_260.wSecond,0xffffffff);
        param_2[8] = iVar3;
      }
      FindClose(hFindFile);
LAB_004aec19:
      uVar2 = FUN_004ae870(local_244.dwFileAttributes,param_1);
      *(undefined2 *)((int)param_2 + 6) = uVar2;
      *(undefined2 *)(param_2 + 2) = 1;
      *param_2 = local_250 + -1;
      param_2[4] = local_250 + -1;
      param_2[5] = local_244.nFileSizeLow;
      *(undefined2 *)(param_2 + 1) = 0;
      *(undefined2 *)(param_2 + 3) = 0;
      *(undefined2 *)((int)param_2 + 10) = 0;
      return 0;
    }
  }
LAB_004aec5b:
  DVar7 = GetLastError();
  SetErrorCode(DVar7);
  FindClose(hFindFile);
  return 0xffffffff;
}



undefined4 FUN_004aec80(char *param_1)

{
  char cVar1;
  uint uVar2;
  char *pcVar3;
  char *pcVar4;
  
  uVar2 = 0xffffffff;
  pcVar3 = param_1;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    cVar1 = *pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (cVar1 != '\0');
  if (((4 < ~uVar2 - 1) && ((*param_1 == '\\' || (*param_1 == '/')))) &&
     ((param_1[1] == '\\' || (param_1[1] == '/')))) {
    pcVar3 = param_1 + 3;
    cVar1 = param_1[3];
    while (((cVar1 != '\0' && (cVar1 != '\\')) && (cVar1 != '/'))) {
      pcVar4 = pcVar3 + 1;
      pcVar3 = pcVar3 + 1;
      cVar1 = *pcVar4;
    }
    if ((*pcVar3 != '\0') && (pcVar4 = pcVar3 + 1, pcVar3[1] != '\0')) {
      cVar1 = *pcVar4;
      while (((cVar1 != '\0' && (cVar1 != '\\')) && (cVar1 != '/'))) {
        pcVar3 = pcVar4 + 1;
        pcVar4 = pcVar4 + 1;
        cVar1 = *pcVar3;
      }
      if ((*pcVar4 == '\0') || (pcVar4[1] == '\0')) {
        return 1;
      }
    }
  }
  return 0;
}



int FUN_004aed00(int param_1)

{
  if (param_1 < 0) {
    param_1 = -param_1;
  }
  return param_1;
}



// // Function: CloseAndUnlockResource
// // Description: This function checks if a resource identified by `param_1` is valid and in use,
// locks the resource, closes it using CloseResource, and then unlocks it. If the resource is
// invalid, it sets error codes in thread-local storage and returns an error.
// // Old Name: FUN_004aed10
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to close and unlock.
// //
// // Return Value:
// //   0 on success, or 0xFFFFFFFF if the resource is invalid or closing fails.
// 

undefined4 CloseAndUnlockResource(uint param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  if ((param_1 < DAT_005f8ea0) &&
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    InitializeAndLockResource(param_1);
    uVar1 = CloseResource(param_1);
    ReleaseResourceLock(param_1);
    return uVar1;
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: CloseResource
// // Description: This function closes a resource identified by `param_1`. It handles special cases
// for resources 1 and 2 (likely stdout and stderr), ensuring that they are not the same. If the
// resource is successfully closed, it clears the resource data. If an error occurs, it sets the
// error code in thread-local storage and returns an error code (0xFFFFFFFF).
// // Old Name: FUN_004aed80
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to be closed.
// //
// // Return Value:
// //   0 on success, or 0xFFFFFFFF if an error occurs.
// 

undefined4 CloseResource(uint param_1)

{
  int iVar1;
  int iVar2;
  HANDLE hObject;
  BOOL BVar3;
  DWORD DVar4;
  
  iVar1 = GetResourceById(param_1);
  if (iVar1 != -1) {
    if ((param_1 == 1) || (param_1 == 2)) {
      iVar1 = GetResourceById(1);
      iVar2 = GetResourceById(2);
      if (iVar1 == iVar2) goto LAB_004aedd6;
    }
    hObject = (HANDLE)GetResourceById(param_1);
    BVar3 = CloseHandle(hObject);
    if (BVar3 == 0) {
      DVar4 = GetLastError();
      goto LAB_004aedd8;
    }
  }
LAB_004aedd6:
  DVar4 = 0;
LAB_004aedd8:
  ResetResource(param_1);
  *(undefined *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) = 0;
  if (DVar4 != 0) {
    SetErrorCode(DVar4);
    return 0xffffffff;
  }
  return 0;
}



// // Function: ReadFromLockedResource
// // Description: This function checks if the specified resource (identified by `param_1`) is valid
// and locked for access. If so, it reads data from the resource into the buffer (`param_2`) up to a
// size of `param_3`. The resource is locked, read, and unlocked during this operation. If the
// resource is invalid, it sets an error code and returns a failure value.
// // Old Name: FUN_004aee10
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to read from.
// //   param_2 (undefined4): The buffer where the data should be written.
// //   param_3 (undefined4): The size of the data to read.
// //
// // Return Value:
// //   Returns the number of bytes read if successful. If the resource is invalid, it returns
// `0xffffffff`.
// 

undefined4 ReadFromLockedResource(uint param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  if ((param_1 < DAT_005f8ea0) &&
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    InitializeAndLockResource(param_1);
    uVar1 = ReadFromResource(param_1,param_2,param_3);
    ReleaseResourceLock(param_1);
    return uVar1;
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: ReadFromResource
// // Description: This function reads data from the resource identified by `param_1` into the
// buffer `param_2` up to `param_3` bytes. It handles special cases for newline and carriage return
// characters, updating internal flags accordingly. If reading fails, it sets error codes in
// thread-local storage and returns -1.
// // Old Name: FUN_004aee90
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to read from.
// //   param_2 (char*): A pointer to the buffer where the read data will be stored.
// //   param_3 (DWORD): The maximum number of bytes to read.
// //
// // Return Value:
// //   The number of bytes read on success, or -1 if an error occurs.
// 

int ReadFromResource(uint param_1,char *param_2,DWORD param_3)

{
  int *piVar1;
  char cVar2;
  byte bVar3;
  BOOL BVar4;
  DWORD DVar5;
  undefined4 *puVar6;
  int iVar7;
  int iVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  char cStack_9;
  DWORD local_8;
  int *local_4;
  
  iVar8 = 0;
  if (param_3 != 0) {
    piVar1 = &DAT_005f8da0 + ((int)param_1 >> 5);
    iVar7 = (param_1 & 0x1f) * 0x24;
    bVar3 = *(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)param_1 >> 5]);
    if ((bVar3 & 2) == 0) {
      pcVar10 = param_2;
      if (((bVar3 & 0x48) != 0) &&
         (cVar2 = *(char *)(iVar7 + (&DAT_005f8da0)[(int)param_1 >> 5] + 5), cVar2 != '\n')) {
        *param_2 = cVar2;
        param_3 = param_3 - 1;
        pcVar10 = param_2 + 1;
        iVar8 = 1;
        *(undefined *)(iVar7 + 5 + *piVar1) = 10;
      }
      local_4 = piVar1;
      BVar4 = ReadFile(*(HANDLE *)(iVar7 + *piVar1),pcVar10,param_3,&local_8,(LPOVERLAPPED)0x0);
      if (BVar4 != 0) {
        iVar8 = iVar8 + local_8;
        bVar3 = *(byte *)(iVar7 + 4 + *piVar1);
        if ((bVar3 & 0x80) != 0) {
          if ((local_8 == 0) || (*param_2 != '\n')) {
            bVar3 = bVar3 & 0xfb;
          }
          else {
            bVar3 = bVar3 | 4;
          }
          *(byte *)(iVar7 + 4 + *piVar1) = bVar3;
          pcVar9 = param_2 + iVar8;
          pcVar10 = param_2;
          pcVar11 = param_2;
          if (param_2 < pcVar9) {
            while (cVar2 = *pcVar11, cVar2 != '\x1a') {
              if (cVar2 == '\r') {
                if (pcVar11 < pcVar9 + -1) {
                  if (pcVar11[1] == '\n') {
                    pcVar11 = pcVar11 + 2;
                    *pcVar10 = '\n';
                    goto LAB_004af068;
                  }
                  *pcVar10 = '\r';
                  pcVar10 = pcVar10 + 1;
                  pcVar11 = pcVar11 + 1;
                }
                else {
                  DVar5 = 0;
                  pcVar11 = pcVar11 + 1;
                  BVar4 = ReadFile(*(HANDLE *)(iVar7 + *local_4),&cStack_9,1,&local_8,
                                   (LPOVERLAPPED)0x0);
                  if (BVar4 == 0) {
                    DVar5 = GetLastError();
                  }
                  if ((DVar5 == 0) && (local_8 != 0)) {
                    if ((*(byte *)(iVar7 + 4 + *local_4) & 0x48) == 0) {
                      if ((pcVar10 == param_2) && (cStack_9 == '\n')) {
                        *pcVar10 = '\n';
                        goto LAB_004af068;
                      }
                      SeekFilePointer(param_1,0xffffffff,1);
                      if (cStack_9 != '\n') goto LAB_004af065;
                    }
                    else {
                      if (cStack_9 == '\n') {
                        *pcVar10 = '\n';
                        goto LAB_004af068;
                      }
                      *pcVar10 = '\r';
                      pcVar10 = pcVar10 + 1;
                      *(char *)(iVar7 + 5 + *local_4) = cStack_9;
                    }
                  }
                  else {
LAB_004af065:
                    *pcVar10 = '\r';
LAB_004af068:
                    pcVar10 = pcVar10 + 1;
                  }
                }
              }
              else {
                *pcVar10 = cVar2;
                pcVar10 = pcVar10 + 1;
                pcVar11 = pcVar11 + 1;
              }
              if (pcVar9 <= pcVar11) {
                return (int)pcVar10 - (int)param_2;
              }
            }
            bVar3 = *(byte *)(iVar7 + 4 + *local_4);
            if ((bVar3 & 0x40) == 0) {
              *(byte *)(iVar7 + 4 + *local_4) = bVar3 | 2;
            }
          }
          iVar8 = (int)pcVar10 - (int)param_2;
        }
        return iVar8;
      }
      DVar5 = GetLastError();
      if (DVar5 == 5) {
        puVar6 = (undefined4 *)GetSpecificTlsOffset();
        *puVar6 = 9;
        puVar6 = (undefined4 *)GetSpecificTlsOffset0xc();
        *puVar6 = 5;
        return -1;
      }
      if (DVar5 != 0x6d) {
        SetErrorCode(DVar5);
        return -1;
      }
    }
  }
  return 0;
}



undefined4 FUN_004af0c0(uint param_1,int param_2,DWORD param_3)

{
  uint uVar1;
  DWORD DVar2;
  HANDLE pvVar3;
  int iVar4;
  undefined4 *puVar5;
  DWORD *pDVar6;
  DWORD DVar7;
  DWORD DVar8;
  DWORD dwFileOffsetHigh;
  DWORD DVar9;
  DWORD nNumberOfBytesToLockHigh;
  
  uVar1 = param_1;
  if ((DAT_005f8ea0 <= param_1) ||
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) == 0)) {
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 9;
    puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
    *puVar5 = 0;
    return 0xffffffff;
  }
  InitializeAndLockResource(param_1);
  DVar2 = SeekFilePointer(param_1,0,1);
  if (DVar2 == 0xffffffff) {
    ReleaseResourceLock(param_1);
    return 0xffffffff;
  }
  if ((param_2 == 1) || (param_1 = 0, param_2 == 3)) {
    param_1 = 9;
  }
  while( true ) {
    DVar7 = 0;
    nNumberOfBytesToLockHigh = 0;
    dwFileOffsetHigh = 0;
    if (param_2 == 0) {
      DVar8 = DVar2;
      DVar9 = param_3;
      pvVar3 = (HANDLE)GetResourceById(uVar1);
      iVar4 = UnlockFile(pvVar3,DVar8,dwFileOffsetHigh,DVar9,nNumberOfBytesToLockHigh);
    }
    else {
      DVar8 = DVar2;
      DVar9 = param_3;
      pvVar3 = (HANDLE)GetResourceById(uVar1);
      iVar4 = LockFile(pvVar3,DVar8,dwFileOffsetHigh,DVar9,nNumberOfBytesToLockHigh);
    }
    if (iVar4 == 0) {
      DVar7 = GetLastError();
    }
    if (((int)param_1 < 1) || (DVar7 == 0)) break;
    Sleep(1000);
    param_1 = param_1 + -1;
  }
  ReleaseResourceLock(uVar1);
  if (DVar7 != 0) {
    if ((param_2 != 1) && (param_2 != 3)) {
      SetErrorCode(DVar7);
      return 0xffffffff;
    }
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 0x24;
    pDVar6 = (DWORD *)GetSpecificTlsOffset0xc();
    *pDVar6 = DVar7;
    return 0xffffffff;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// // Function: OpenFileHandle
// // Description: This function opens a file with specific access modes, creation flags, and
// attributes. It uses the Windows API `CreateFileA` to open the file and performs additional checks
// on the file type and handles errors. If successful, it returns a file descriptor; otherwise, it
// returns `0xFFFFFFFF`.
// // Old Name: FUN_004af210
// //
// // Arguments:
// //   param_1 (LPCSTR): The file path to open.
// //   param_2 (uint): A bitmask specifying the access mode, sharing mode, and attributes.
// //   param_3 (uint): Additional file attributes or options.
// //   param_4 (undefined4): Additional flags (possibly related to file security or permissions).
// 

uint OpenFileHandle(LPCSTR param_1,uint param_2,uint param_3,undefined4 param_4)

{
  uint uVar1;
  HANDLE hFile;
  int iVar2;
  int *piVar3;
  int iVar4;
  undefined4 *puVar5;
  DWORD DVar6;
  DWORD dwCreationDisposition;
  DWORD dwFlagsAndAttributes;
  int iVar7;
  bool bVar8;
  byte local_11;
  uint local_10;
  _SECURITY_ATTRIBUTES local_c;
  
  bVar8 = (param_2 & 0x80) == 0;
  local_c.nLength = 0xc;
  local_c.lpSecurityDescriptor = (LPVOID)0x0;
  if (bVar8) {
    local_11 = 0;
  }
  else {
    local_11 = 0x10;
  }
  local_c.bInheritHandle = (BOOL)bVar8;
  if (((param_2 & 0x8000) == 0) && (((param_2 & 0x4000) != 0 || (_DAT_005a1314 != 0x8000)))) {
    local_11 = local_11 | 0x80;
  }
  uVar1 = param_2 & 3;
  if (uVar1 == 0) {
    local_10 = 0x80000000;
  }
  else if (uVar1 == 1) {
    local_10 = 0x40000000;
  }
  else {
    if (uVar1 != 2) goto switchD_004af2a8_caseD_11;
    local_10 = 0xc0000000;
  }
  switch(param_3) {
  case 0x10:
    DVar6 = 0;
    break;
  default:
    goto switchD_004af2a8_caseD_11;
  case 0x20:
    DVar6 = 1;
    break;
  case 0x30:
    DVar6 = 2;
    break;
  case 0x40:
    DVar6 = 3;
  }
  uVar1 = param_2 & 0x700;
  if (uVar1 < 0x101) {
    if (uVar1 == 0x100) {
      dwCreationDisposition = 4;
    }
    else {
      if (uVar1 != 0) goto switchD_004af2a8_caseD_11;
LAB_004af316:
      dwCreationDisposition = 3;
    }
  }
  else if (uVar1 < 0x301) {
    if (uVar1 == 0x300) {
      dwCreationDisposition = 2;
    }
    else {
      if (uVar1 != 0x200) goto switchD_004af2a8_caseD_11;
LAB_004af336:
      dwCreationDisposition = 5;
    }
  }
  else {
    if (uVar1 < 0x501) {
      if (uVar1 != 0x500) {
        if (uVar1 != 0x400) {
switchD_004af2a8_caseD_11:
          puVar5 = (undefined4 *)GetSpecificTlsOffset();
          *puVar5 = 0x16;
          puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
          *puVar5 = 0;
          return 0xffffffff;
        }
        goto LAB_004af316;
      }
    }
    else {
      if (uVar1 == 0x600) goto LAB_004af336;
      if (uVar1 != 0x700) goto switchD_004af2a8_caseD_11;
    }
    dwCreationDisposition = 1;
  }
  dwFlagsAndAttributes = 0x80;
  if (((param_2 & 0x100) != 0) && (((byte)param_4 & ~(byte)DAT_005a124c & 0x80) == 0)) {
    dwFlagsAndAttributes = 1;
  }
  if ((param_2 & 0x40) != 0) {
    dwFlagsAndAttributes = dwFlagsAndAttributes | 0x4000000;
    local_10 = local_10 | 0x10000;
  }
  if ((param_2 & 0x1000) != 0) {
    dwFlagsAndAttributes = dwFlagsAndAttributes | 0x100;
  }
  if ((param_2 & 0x20) == 0) {
    if ((param_2 & 0x10) != 0) {
      dwFlagsAndAttributes = dwFlagsAndAttributes | 0x10000000;
    }
  }
  else {
    dwFlagsAndAttributes = dwFlagsAndAttributes | 0x8000000;
  }
  uVar1 = AllocateOrGetResource();
  if (uVar1 == 0xffffffff) {
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 0x18;
    puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
    *puVar5 = 0;
    return 0xffffffff;
  }
  hFile = CreateFileA(param_1,local_10,DVar6,&local_c,dwCreationDisposition,dwFlagsAndAttributes,
                      (HANDLE)0x0);
  if (hFile != (HANDLE)0xffffffff) {
    DVar6 = GetFileType(hFile);
    if (DVar6 != 0) {
      if (DVar6 == 2) {
        local_11 = local_11 | 0x40;
      }
      else if (DVar6 == 3) {
        local_11 = local_11 | 8;
      }
      FUN_004b6630(uVar1,hFile);
      iVar7 = (uVar1 & 0x1f) * 0x24;
      *(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)uVar1 >> 5]) = local_11 | 1;
      if ((((local_11 & 0x48) == 0) && ((local_11 & 0x80) != 0)) && ((param_2 & 2) != 0)) {
        iVar2 = SeekFilePointer(uVar1,0xffffffff,2);
        if (iVar2 == -1) {
          piVar3 = (int *)GetSpecificTlsOffset0xc();
          if (*piVar3 != 0x83) {
LAB_004af4f6:
            CloseAndUnlockResource(uVar1);
            ReleaseResourceLock(uVar1);
            return 0xffffffff;
          }
        }
        else {
          param_3 = param_3 & 0xffffff00;
          iVar4 = ReadFromResource(uVar1,&param_3,1);
          if ((((iVar4 == 0) && ((char)param_3 == '\x1a')) &&
              (iVar2 = AdjustResourceSize(uVar1,iVar2), iVar2 == -1)) ||
             (iVar2 = SeekFilePointer(uVar1,0,0), iVar2 == -1)) goto LAB_004af4f6;
        }
      }
      if (((local_11 & 0x48) == 0) && ((param_2 & 8) != 0)) {
        *(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)uVar1 >> 5]) =
             *(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)uVar1 >> 5]) | 0x20;
      }
      ReleaseResourceLock(uVar1);
      return uVar1;
    }
    CloseHandle(hFile);
  }
  DVar6 = GetLastError();
  SetErrorCode(DVar6);
  ReleaseResourceLock(uVar1);
  return 0xffffffff;
}



void FUN_004af5b0(int param_1)

{
  uint uVar1;
  undefined *puVar2;
  
  uVar1 = *(uint *)(param_1 + 0x10);
  EnterConditionalCriticalSection(param_1);
  FlushBufferToResource(param_1);
  *(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) & 0xffffffcf;
  if (uVar1 == 0xffffffff) {
    puVar2 = &DAT_004d64a0;
  }
  else {
    puVar2 = (undefined *)((&DAT_005f8da0)[(int)uVar1 >> 5] + (uVar1 & 0x1f) * 0x24);
  }
  puVar2[4] = puVar2[4] & 0xfd;
  if ((*(uint *)(param_1 + 0xc) & 0x80) != 0) {
    *(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) & 0xfffffffc;
  }
  SeekInLockedResource(uVar1,0,0);
  LeaveCriticalSection1Param(param_1);
  return;
}



void FUN_004af630(undefined4 param_1)

{
  int iVar1;
  
  iVar1 = GetOrAllocateTlsData();
  *(undefined4 *)(iVar1 + 0x14) = param_1;
  return;
}



uint FUN_004af640(void)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = GetOrAllocateTlsData();
  uVar1 = *(int *)(iVar2 + 0x14) * 0x343fd + 0x269ec3;
  *(uint *)(iVar2 + 0x14) = uVar1;
  return uVar1 >> 0x10 & 0x7fff;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004af670(undefined4 *param_1)

{
  DWORD DVar1;
  undefined4 uVar2;
  _SYSTEMTIME _Stack_cc;
  _SYSTEMTIME local_bc;
  _TIME_ZONE_INFORMATION _Stack_ac;
  
  GetLocalTime(&local_bc);
  GetSystemTime(&_Stack_cc);
  if (_Stack_cc.wMinute == _DAT_005a117a) {
    if (_Stack_cc.wHour == _DAT_005a1178) {
      if (_Stack_cc.wDay == _DAT_005a1176) {
        if (_Stack_cc.wMonth == _DAT_005a1172) {
          if (_Stack_cc.wYear == _DAT_005a1170) goto LAB_004af73f;
        }
      }
    }
  }
  DVar1 = GetTimeZoneInformation(&_Stack_ac);
  if (DVar1 == 0xffffffff) {
    DAT_005a1168 = 0xffffffff;
  }
  else if (((DVar1 == 2) && (_Stack_ac.DaylightDate.wMonth != 0)) && (_Stack_ac.DaylightBias != 0))
  {
    DAT_005a1168 = 1;
  }
  else {
    DAT_005a1168 = 0;
  }
  _DAT_005a1170 = _Stack_cc.wYear;
  _DAT_005a1172 = _Stack_cc.wMonth;
  _DAT_005a1174 = _Stack_cc.wDayOfWeek;
  _DAT_005a1176 = _Stack_cc.wDay;
  _DAT_005a1178 = _Stack_cc.wHour;
  _DAT_005a117a = _Stack_cc.wMinute;
  _DAT_005a117c = _Stack_cc.wSecond;
  DAT_005a117c_2 = _Stack_cc.wMilliseconds;
LAB_004af73f:
  uVar2 = FUN_004b6160(local_bc.wYear,local_bc.wMonth,local_bc.wDay,local_bc.wHour,local_bc.wMinute,
                       local_bc.wSecond,DAT_005a1168);
  if (param_1 != (undefined4 *)0x0) {
    *param_1 = uVar2;
  }
  return;
}



// /*
//  * Function: ToUpperCase (originally FUN_004af7a0)
//  * Description:
//  *   This function converts a string to uppercase, either directly (if no locale-specific mapping
// is required)
//  *   or using locale-specific string mapping functions. If the locale-specific mapping is
// enabled, the function
//  *   handles critical sections for thread safety and manages memory for intermediate conversions.
// It returns
//  *   a pointer to the modified input string.
//  *
//  * Parameters:
//  *   param_1 - Pointer to the string to be converted to uppercase
//  *
//  * Returns:
//  *   A pointer to the input string, which has been converted to uppercase.
//  */

undefined4 * ToUpperCase(undefined4 *param_1)

{
  char cVar1;
  undefined4 *puVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  char *pcVar7;
  char *pcVar8;
  undefined4 *puVar9;
  bool bVar10;
  
  pcVar6 = (char *)0x0;
  if (DAT_005a1338 == 0) {
    puVar2 = param_1;
    if (*(char *)param_1 != '\0') {
      do {
        cVar1 = *(char *)param_1;
        if (('`' < cVar1) && (cVar1 < '{')) {
          *(char *)param_1 = cVar1 + -0x20;
        }
        pcVar6 = (char *)((int)param_1 + 1);
        param_1 = (undefined4 *)((int)param_1 + 1);
      } while (*pcVar6 != '\0');
      return puVar2;
    }
  }
  else {
    InterlockedIncrement((LONG *)&DAT_005f8d8c);
    bVar10 = DAT_005f8d88 != 0;
    if (bVar10) {
      InterlockedDecrement((LONG *)&DAT_005f8d8c);
      EnterOrInitCriticalSection(0x13);
    }
    if (DAT_005a1338 == 0) {
      if (bVar10) {
        LeaveCriticalSectionFunc(0x13);
      }
      else {
        InterlockedDecrement((LONG *)&DAT_005f8d8c);
      }
      puVar2 = param_1;
      if (*(char *)param_1 != '\0') {
        do {
          cVar1 = *(char *)param_1;
          if (('`' < cVar1) && (cVar1 < '{')) {
            *(char *)param_1 = cVar1 + -0x20;
          }
          pcVar6 = (char *)((int)param_1 + 1);
          param_1 = (undefined4 *)((int)param_1 + 1);
        } while (*pcVar6 != '\0');
        return puVar2;
      }
    }
    else {
      iVar3 = MapLocaleString(DAT_005a1338,0x200,param_1,0xffffffff,0,0,0,1);
      if (((iVar3 != 0) &&
          (pcVar6 = (char *)AllocateMemoryWithCallback(iVar3), pcVar6 != (char *)0x0)) &&
         (iVar3 = MapLocaleString(DAT_005a1338,0x200,param_1,0xffffffff,pcVar6,iVar3,0,1),
         iVar3 != 0)) {
        uVar4 = 0xffffffff;
        pcVar7 = pcVar6;
        do {
          pcVar8 = pcVar7;
          if (uVar4 == 0) break;
          uVar4 = uVar4 - 1;
          pcVar8 = pcVar7 + 1;
          cVar1 = *pcVar7;
          pcVar7 = pcVar8;
        } while (cVar1 != '\0');
        uVar4 = ~uVar4;
        puVar2 = (undefined4 *)(pcVar8 + -uVar4);
        puVar9 = param_1;
        for (uVar5 = uVar4 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *puVar9 = *puVar2;
          puVar2 = puVar2 + 1;
          puVar9 = puVar9 + 1;
        }
        for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *(undefined *)puVar9 = *(undefined *)puVar2;
          puVar2 = (undefined4 *)((int)puVar2 + 1);
          puVar9 = (undefined4 *)((int)puVar9 + 1);
        }
      }
      if (bVar10) {
        LeaveCriticalSectionFunc(0x13);
        FreeMemory(pcVar6);
        return param_1;
      }
      InterlockedDecrement((LONG *)&DAT_005f8d8c);
      FreeMemory(pcVar6);
    }
  }
  return param_1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_004af934(uint param_1,uint param_2)

{
  uint uVar1;
  undefined in_ZF;
  short in_FPUControlWord;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 fVar2;
  
  uVar1 = __fload_withFB();
  if ((bool)in_ZF) {
    if (((uVar1 & 0xfffff) == 0) && (param_1 == 0)) {
LAB_004af9bf:
      uVar1 = 1;
    }
    else {
      uVar1 = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar2 = extraout_ST0;
    if (in_FPUControlWord != 0x27f) {
      uVar1 = FUN_004b3cc5();
      fVar2 = extraout_ST0_00;
    }
    if (uVar1 < 0x3ff00000) {
      fpatan(SQRT(((float10)1 - fVar2) * ((float10)1 + fVar2)),fVar2);
    }
    else {
      if ((0x3ff00000 < uVar1) || ((param_2 & 0xfffff | param_1) != 0)) goto LAB_004af9bf;
      uVar1 = 0;
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return uVar1;
}



float10 FUN_004af9f0(undefined4 param_1,undefined4 param_2,double *param_3)

{
  double dVar1;
  undefined4 uVar2;
  int iVar3;
  float10 fVar4;
  float10 fVar5;
  
  uVar2 = GetFpuControlWord(0,0);
  GetFpuControlWord(DAT_004d3d08,0xffff);
  if ((param_2._2_2_ & 0x7ff0) == 0x7ff0) {
    *(undefined4 *)param_3 = DAT_004d4138;
    *(undefined4 *)((int)param_3 + 4) = DAT_004d413c;
    iVar3 = FUN_004b3020(param_1,param_2);
    if (iVar3 < 1) {
LAB_004afa94:
      dVar1 = (double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)) - -1.0;
      *param_3 = dVar1;
      fVar4 = (float10)FUN_004b2760(8,0x1c,param_1,param_2,dVar1,uVar2);
      return fVar4;
    }
    if (2 < iVar3) {
      if (iVar3 == 3) {
        *(undefined4 *)param_3 = param_1;
        *(undefined4 *)((int)param_3 + 4) = param_2;
        fVar4 = (float10)PerformCustomFloatCalculation(0x1c,param_1,param_2,uVar2);
        return fVar4;
      }
      goto LAB_004afa94;
    }
    *(undefined4 *)param_3 = param_1;
    *(undefined4 *)((int)param_3 + 4) = param_2;
    fVar5 = (float10)FUN_004b6e20(0,0,param_1,param_2);
  }
  else {
    if ((double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)) == 0.0) {
      *(undefined4 *)param_3 = param_1;
      *(undefined4 *)((int)param_3 + 4) = param_2;
      goto LAB_004afb27;
    }
    fVar4 = (float10)FUN_004b6e00(param_1,param_2);
    fVar5 = (float10)(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)) -
            (float10)(double)fVar4;
    *param_3 = (double)fVar4;
  }
  dVar1 = (double)fVar5;
  param_1 = SUB84(dVar1,0);
  param_2._0_2_ = (undefined2)((ulonglong)dVar1 >> 0x20);
  param_2._2_2_ = (ushort)((ulonglong)dVar1 >> 0x30);
LAB_004afb27:
  GetFpuControlWord(uVar2,0xffff);
  return (float10)(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
}



int FUN_004afb50(void)

{
  int local_c;
  uint local_8;
  
  FUN_004b6e50(&local_c);
  return ((local_8 & 0xffff) + (local_c - DAT_005a1180) * 1000) - (DAT_005a1184 & 0xffff);
}



undefined4 FUN_004afbb0(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  EnterConditionalCriticalSection(param_1);
  uVar1 = FUN_004b6f10(param_1,param_2,&stack0x0000000c);
  LeaveCriticalSection1Param(param_1);
  return uVar1;
}



uint FUN_004afbf0(byte **param_1)

{
  byte bVar1;
  byte *pbVar2;
  uint uVar3;
  
  EnterConditionalCriticalSection(param_1);
  pbVar2 = param_1[1];
  param_1[1] = pbVar2 + -1;
  if (-1 < (int)(pbVar2 + -1)) {
    bVar1 = **param_1;
    *param_1 = *param_1 + 1;
    LeaveCriticalSection1Param(param_1);
    return (uint)bVar1;
  }
  uVar3 = ReadByteFromResource(param_1);
  LeaveCriticalSection1Param(param_1);
  return uVar3;
}



void FUN_004afc40(undefined4 param_1)

{
  FUN_004afbf0(param_1);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint FUN_004afc64(uint param_1,uint param_2)

{
  uint uVar1;
  undefined in_ZF;
  short in_FPUControlWord;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 fVar2;
  
  uVar1 = __fload_withFB();
  if ((bool)in_ZF) {
    if (((uVar1 & 0xfffff) == 0) && (param_1 == 0)) {
LAB_004afcef:
      uVar1 = 1;
    }
    else {
      uVar1 = __convertTOStoQNaN();
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __startOneArgErrorHandling();
      return uVar1;
    }
  }
  else {
    fVar2 = extraout_ST0;
    if (in_FPUControlWord != 0x27f) {
      uVar1 = FUN_004b3cc5();
      fVar2 = extraout_ST0_00;
    }
    if (uVar1 < 0x3ff00000) {
      fpatan(fVar2,SQRT(((float10)1 - fVar2) * ((float10)1 + fVar2)));
    }
    else {
      if ((0x3ff00000 < uVar1) || ((param_2 & 0xfffff | param_1) != 0)) goto LAB_004afcef;
      uVar1 = 0;
    }
    if (_DAT_005a1160 == 0) {
      uVar1 = __math_exit();
      return uVar1;
    }
  }
  return uVar1;
}



// FUN_004afd20: Looks like some thread creation for initializing structures

HANDLE FUN_004afd20(undefined4 param_1,SIZE_T param_2,undefined4 param_3)

{
  LPVOID lpThreadId;
  HANDLE hThread;
  DWORD DVar1;
  
  DVar1 = 0;
  lpThreadId = (LPVOID)AllocateAndInitializeMemory(1,0x74);
  if (lpThreadId != (LPVOID)0x0) {
    InitializeTlsData(lpThreadId);
    *(undefined4 *)((int)lpThreadId + 0x48) = param_1;
    *(undefined4 *)((int)lpThreadId + 0x4c) = param_3;
    hThread = CreateThread((LPSECURITY_ATTRIBUTES)0x0,param_2,FUN_004afda0,lpThreadId,4,
                           (LPDWORD)lpThreadId);
    *(HANDLE *)((int)lpThreadId + 4) = hThread;
    if (hThread != (HANDLE)0x0) {
      DVar1 = ResumeThread(hThread);
      if (DVar1 != 0xffffffff) {
        return hThread;
      }
    }
    DVar1 = GetLastError();
  }
  FreeMemory(lpThreadId);
  if (DVar1 != 0) {
    SetErrorCode(DVar1);
  }
  return (HANDLE)0xffffffff;
}



// Thread function: SEH

undefined4 FUN_004afda0(LPVOID param_1)

{
  BOOL BVar1;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
                    // Setting some structured exception handling for thread local storage
  local_8 = 0xffffffff;
  puStack_c = &DAT_004c1d10;
  puStack_10 = &LAB_004b10b8;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  BVar1 = TlsSetValue(DAT_004d6498,param_1);
  if (BVar1 == 0) {
    __amsg_exit(0x10);
  }
  if (PTR_FUN_004d3c6c != (undefined *)0x0) {
    (*(code *)PTR_FUN_004d3c6c)();
  }
  local_8 = 0;
  (**(code **)((int)param_1 + 0x48))(*(undefined4 *)((int)param_1 + 0x4c));
  FUN_004afe50();
  ExceptionList = local_14;
  return 0;
}



void FUN_004afe50(void)

{
  int iVar1;
  
  if (PTR_FUN_004d3c70 != (undefined *)0x0) {
    (*(code *)PTR_FUN_004d3c70)();
  }
  iVar1 = GetOrAllocateTlsData();
  if (iVar1 == 0) {
    __amsg_exit(0x10);
  }
  if (*(HANDLE *)(iVar1 + 4) != (HANDLE)0xffffffff) {
    CloseHandle(*(HANDLE *)(iVar1 + 4));
  }
  FreeTlsMemory(iVar1);
                    // WARNING: Subroutine does not return
  ExitThread(0);
}



// Library Function - Single Match
//  __allshl
// 
// Library: Visual Studio

longlong __fastcall __allshl(byte param_1,int param_2)

{
  uint in_EAX;
  
  if (0x3f < param_1) {
    return 0;
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 << (param_1 & 0x1f) | in_EAX >> 0x20 - (param_1 & 0x1f),
                    in_EAX << (param_1 & 0x1f));
  }
  return (ulonglong)(in_EAX << (param_1 & 0x1f)) << 0x20;
}



undefined4 FUN_004afec0(LPCSTR param_1)

{
  BOOL BVar1;
  DWORD DVar2;
  
  BVar1 = CreateDirectoryA(param_1,(LPSECURITY_ATTRIBUTES)0x0);
  if (BVar1 == 0) {
    DVar2 = GetLastError();
  }
  else {
    DVar2 = 0;
  }
  if (DVar2 != 0) {
    SetErrorCode(DVar2);
    return 0xffffffff;
  }
  return 0;
}



undefined4 FUN_004afef0(LPCSTR param_1)

{
  char cVar1;
  BOOL BVar2;
  DWORD DVar3;
  CHAR CStack_10c;
  undefined uStack_10b;
  undefined uStack_10a;
  undefined uStack_109;
  uint auStack_108 [66];
  
  BVar2 = SetCurrentDirectoryA(param_1);
  if (BVar2 != 0) {
    DVar3 = GetCurrentDirectoryA(0x105,(LPSTR)auStack_108);
    if (DVar3 != 0) {
      cVar1 = (char)auStack_108[0];
      if (((cVar1 == '\\') || (cVar1 == '/')) && (cVar1 == (char)(auStack_108[0] >> 8))) {
        return 0;
      }
      CStack_10c = '=';
      uStack_10b = FUN_004b8030(auStack_108[0] & 0xff);
      uStack_10a = 0x3a;
      uStack_109 = 0;
      BVar2 = SetEnvironmentVariableA(&CStack_10c,(LPCSTR)auStack_108);
      if (BVar2 != 0) {
        return 0;
      }
    }
  }
  DVar3 = GetLastError();
  SetErrorCode(DVar3);
  return 0xffffffff;
}



undefined4 FUN_004aff90(undefined4 param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = FUN_004b8200(param_1);
  if (iVar1 != 0) {
    uVar2 = FUN_004b80d0(iVar1);
    return uVar2;
  }
  return 0;
}



void FUN_004affb0(void)

{
  if (DAT_005a1248 == 0) {
    EnterOrInitCriticalSection(0xb);
    if (DAT_005a1248 == 0) {
      FUN_004b0010();
      DAT_005a1248 = DAT_005a1248 + 1;
    }
    LeaveCriticalSectionFunc(0xb);
  }
  return;
}



void FUN_004afff0(void)

{
  EnterOrInitCriticalSection(0xb);
  FUN_004b0010();
  LeaveCriticalSectionFunc(0xb);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004b0010(void)

{
  byte bVar1;
  byte bVar2;
  byte *pbVar3;
  DWORD DVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  byte *pbVar8;
  undefined4 *puVar9;
  byte *pbVar10;
  undefined4 *puVar11;
  bool bVar12;
  
  EnterOrInitCriticalSection(0xc);
  DAT_005a1190 = 0;
  _DAT_004d3d30 = 0xffffffff;
  DAT_004d3d20 = 0xffffffff;
  pbVar3 = (byte *)FUN_004b86a0(&DAT_004c1d1c);
  if (pbVar3 == (byte *)0x0) {
    LeaveCriticalSectionFunc(0xc);
    DVar4 = GetTimeZoneInformation((LPTIME_ZONE_INFORMATION)&DAT_005a1198);
    if (DVar4 == 0xffffffff) {
      return;
    }
    DAT_005a1190 = 1;
    DAT_004d66b8 = DAT_005a1198 * 0x3c;
    if (DAT_005a11de != 0) {
      DAT_004d66b8 = DAT_004d66b8 + DAT_005a11ec * 0x3c;
    }
    if ((DAT_005a1232 == 0) || (DAT_005a1240 == 0)) {
      DAT_004d66bc = 0;
      DAT_004d66c0 = 0;
    }
    else {
      DAT_004d66bc = 1;
      DAT_004d66c0 = (DAT_005a1240 - DAT_005a11ec) * 0x3c;
    }
    FUN_004b83f0(PTR_DAT_004d6748,&DAT_005a119c,0x40);
    FUN_004b83f0(PTR_DAT_004d674c,&DAT_005a11f0,0x40);
    PTR_DAT_004d674c[0x3f] = 0;
    PTR_DAT_004d6748[0x3f] = 0;
    return;
  }
  if (*pbVar3 != 0) {
    pbVar8 = pbVar3;
    puVar9 = DAT_005a1244;
    if (DAT_005a1244 != (undefined4 *)0x0) {
      do {
        bVar1 = *pbVar8;
        bVar12 = bVar1 < *(byte *)puVar9;
        if (bVar1 != *(byte *)puVar9) {
LAB_004b0167:
          iVar5 = (1 - (uint)bVar12) - (uint)(bVar12 != 0);
          goto LAB_004b016c;
        }
        if (bVar1 == 0) break;
        bVar1 = pbVar8[1];
        bVar12 = bVar1 < *(byte *)((int)puVar9 + 1);
        if (bVar1 != *(byte *)((int)puVar9 + 1)) goto LAB_004b0167;
        pbVar8 = pbVar8 + 2;
        puVar9 = (undefined4 *)((int)puVar9 + 2);
      } while (bVar1 != 0);
      iVar5 = 0;
LAB_004b016c:
      if (iVar5 == 0) goto LAB_004b02d9;
    }
    FreeMemory(DAT_005a1244);
    uVar6 = 0xffffffff;
    pbVar8 = pbVar3;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      bVar1 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    } while (bVar1 != 0);
    DAT_005a1244 = (undefined4 *)AllocateMemoryWithCallback(~uVar6);
    if (DAT_005a1244 != (undefined4 *)0x0) {
      uVar6 = 0xffffffff;
      pbVar8 = pbVar3;
      do {
        pbVar10 = pbVar8;
        if (uVar6 == 0) break;
        uVar6 = uVar6 - 1;
        pbVar10 = pbVar8 + 1;
        bVar1 = *pbVar8;
        pbVar8 = pbVar10;
      } while (bVar1 != 0);
      uVar6 = ~uVar6;
      puVar9 = (undefined4 *)(pbVar10 + -uVar6);
      puVar11 = DAT_005a1244;
      for (uVar7 = uVar6 >> 2; uVar7 != 0; uVar7 = uVar7 - 1) {
        *puVar11 = *puVar9;
        puVar9 = puVar9 + 1;
        puVar11 = puVar11 + 1;
      }
      for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(undefined *)puVar11 = *(undefined *)puVar9;
        puVar9 = (undefined4 *)((int)puVar9 + 1);
        puVar11 = (undefined4 *)((int)puVar11 + 1);
      }
      LeaveCriticalSectionFunc(0xc);
      _strncpy(PTR_DAT_004d6748,(char *)pbVar3,3);
      pbVar8 = pbVar3 + 3;
      PTR_DAT_004d6748[3] = 0;
      bVar1 = *pbVar8;
      if (bVar1 == 0x2d) {
        pbVar8 = pbVar3 + 4;
      }
      iVar5 = StringToInteger(pbVar8);
      DAT_004d66b8 = iVar5 * 0xe10;
      for (; (bVar2 = *pbVar8, bVar2 == 0x2b || (('/' < (char)bVar2 && ((char)bVar2 < ':'))));
          pbVar8 = pbVar8 + 1) {
      }
      if (*pbVar8 == 0x3a) {
        pbVar8 = pbVar8 + 1;
        iVar5 = StringToInteger(pbVar8);
        DAT_004d66b8 = DAT_004d66b8 + iVar5 * 0x3c;
        bVar2 = *pbVar8;
        while (('/' < (char)bVar2 && ((char)bVar2 < ':'))) {
          pbVar3 = pbVar8 + 1;
          pbVar8 = pbVar8 + 1;
          bVar2 = *pbVar3;
        }
        if (*pbVar8 == 0x3a) {
          pbVar8 = pbVar8 + 1;
          iVar5 = StringToInteger(pbVar8);
          DAT_004d66b8 = DAT_004d66b8 + iVar5;
          bVar2 = *pbVar8;
          while (('/' < (char)bVar2 && ((char)bVar2 < ':'))) {
            pbVar3 = pbVar8 + 1;
            pbVar8 = pbVar8 + 1;
            bVar2 = *pbVar3;
          }
        }
      }
      if (bVar1 == 0x2d) {
        DAT_004d66b8 = -DAT_004d66b8;
      }
      DAT_004d66bc = (int)(char)*pbVar8;
      if (DAT_004d66bc == 0) {
        *PTR_DAT_004d674c = 0;
        return;
      }
      _strncpy(PTR_DAT_004d674c,(char *)pbVar8,3);
      PTR_DAT_004d674c[3] = 0;
      return;
    }
  }
LAB_004b02d9:
  LeaveCriticalSectionFunc(0xc);
  return;
}



// Library Function - Single Match
//  __isindst
// 
// Library: Visual Studio 1998 Release

int __cdecl __isindst(tm *_Time)

{
  int iVar1;
  
  EnterOrInitCriticalSection(0xb);
  iVar1 = FUN_004b0320(_Time);
  LeaveCriticalSectionFunc(0xb);
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_004b0320(int *param_1)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined4 uVar5;
  int iVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  undefined2 uVar9;
  undefined2 uVar10;
  undefined2 uVar11;
  
  if (DAT_004d66bc == 0) {
    return false;
  }
  iVar6 = param_1[5];
  if ((iVar6 == DAT_004d3d20) && (iVar6 == _DAT_004d3d30)) goto LAB_004b04f4;
  if (DAT_005a1190 == 0) {
    FUN_004b0590(1,1,iVar6,4,1,0,0,2,0,0,0);
    iVar6 = param_1[5];
    uVar8 = 0;
    uVar3 = 0;
    uVar10 = 0;
    uVar4 = 2;
    uVar1 = 0;
    uVar9 = 5;
    uVar7 = 10;
LAB_004b04e8:
    uVar5 = 1;
    uVar11 = 0;
  }
  else {
    if (_DAT_005a1230 != 0) {
      uVar3 = 0;
      uVar8 = 0;
      uVar10 = DAT_005a1234._2_2_;
    }
    else {
      uVar3 = DAT_005a1234 & 0xffff;
      uVar8 = DAT_005a1234._2_2_;
      uVar10 = 0;
    }
    FUN_004b0590(1,_DAT_005a1230 == 0,iVar6,DAT_005a1232,uVar8,uVar3,uVar10,DAT_005a1238 & 0xffff,
                 DAT_005a1238 >> 0x10,DAT_005a123c & 0xffff,DAT_005a123c >> 0x10);
    uVar8 = DAT_005a11e8._2_2_;
    uVar10 = DAT_005a11e4._2_2_;
    uVar7 = DAT_005a11de;
    if (_DAT_005a11dc == 0) {
      uVar3 = DAT_005a11e8 & 0xffff;
      uVar4 = DAT_005a11e4 & 0xffff;
      uVar1 = DAT_005a11e0 & 0xffff;
      iVar6 = param_1[5];
      uVar9 = DAT_005a11e0._2_2_;
      goto LAB_004b04e8;
    }
    uVar3 = DAT_005a11e8 & 0xffff;
    uVar4 = DAT_005a11e4 & 0xffff;
    iVar6 = param_1[5];
    uVar1 = 0;
    uVar9 = 0;
    uVar5 = 0;
    uVar11 = DAT_005a11e0._2_2_;
  }
  FUN_004b0590(0,uVar5,iVar6,uVar7,uVar9,uVar1,uVar11,uVar4,uVar10,uVar3,uVar8);
LAB_004b04f4:
  iVar6 = param_1[7];
  if (DAT_004d3d24 < DAT_004d3d34) {
    if ((iVar6 < DAT_004d3d24) || (DAT_004d3d34 < iVar6)) {
      return false;
    }
    if ((DAT_004d3d24 < iVar6) && (iVar6 < DAT_004d3d34)) {
      return true;
    }
  }
  else {
    if ((iVar6 < DAT_004d3d34) || (DAT_004d3d24 < iVar6)) {
      return true;
    }
    if ((DAT_004d3d34 < iVar6) && (iVar6 < DAT_004d3d24)) {
      return false;
    }
  }
  iVar2 = (*param_1 + (param_1[1] + param_1[2] * 0x3c) * 0x3c) * 1000;
  if (iVar6 != DAT_004d3d24) {
    return iVar2 < DAT_004d3d38;
  }
  return DAT_004d3d28 <= iVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004b0590(int param_1,int param_2,uint param_3,int param_4,int param_5,int param_6,
                 int param_7,int param_8,int param_9,int param_10,int param_11)

{
  undefined *puVar1;
  int iVar2;
  
  if (param_2 == 1) {
    if ((param_3 & 3) == 0) {
      puVar1 = (&PTR_DAT_004d674c)[param_4];
    }
    else {
      puVar1 = *(undefined **)(&DAT_004d6784 + param_4 * 4);
    }
    iVar2 = (int)(puVar1 + ((int)(param_3 - 1) >> 2) + param_3 * 0x16d + -0x63da) % 7;
    if (iVar2 < param_6) {
      iVar2 = (param_5 * 7 - iVar2) + param_6 + -6;
    }
    else {
      iVar2 = (param_5 * 7 - iVar2) + param_6 + 1;
    }
    puVar1 = puVar1 + iVar2;
    if (param_5 == 5) {
      if ((param_3 & 3) == 0) {
        iVar2 = *(int *)(&DAT_004d6750 + param_4 * 4);
      }
      else {
        iVar2 = (&DAT_004d6788)[param_4];
      }
      if (iVar2 < (int)puVar1) {
        puVar1 = puVar1 + -7;
      }
    }
  }
  else {
    if ((param_3 & 3) == 0) {
      puVar1 = (&PTR_DAT_004d674c)[param_4];
    }
    else {
      puVar1 = *(undefined **)(&DAT_004d6784 + param_4 * 4);
    }
    puVar1 = puVar1 + param_7;
  }
  if (param_1 == 1) {
    DAT_004d3d24 = puVar1;
    DAT_004d3d20 = param_3;
    DAT_004d3d28 = param_11 + (param_10 + (param_9 + param_8 * 0x3c) * 0x3c) * 1000;
    return;
  }
  DAT_004d3d34 = puVar1;
  DAT_004d3d38 = param_11 + (param_10 + (param_9 + param_8 * 0x3c) * 0x3c + DAT_004d66c0) * 1000;
  if (DAT_004d3d38 < 0) {
    _DAT_004d3d30 = param_3;
    DAT_004d3d38 = DAT_004d3d38 + 86399999;
    return;
  }
  if (86399999 < DAT_004d3d38) {
    DAT_004d3d38 = DAT_004d3d38 + -86399999;
  }
  _DAT_004d3d30 = param_3;
  return;
}



// Library Function - Single Match
//  __allshr
// 
// Library: Visual Studio

undefined8 __fastcall __allshr(byte param_1,int param_2)

{
  uint in_EAX;
  int iVar1;
  
  iVar1 = param_2 >> 0x1f;
  if (0x3f < param_1) {
    return CONCAT44(iVar1,iVar1);
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 >> (param_1 & 0x1f),
                    in_EAX >> (param_1 & 0x1f) | param_2 << 0x20 - (param_1 & 0x1f));
  }
  return CONCAT44(iVar1,param_2 >> (param_1 & 0x1f));
}



// Library Function - Single Match
//  _memcmp
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

int __cdecl _memcmp(void *_Buf1,void *_Buf2,size_t _Size)

{
  uint uVar1;
  size_t sVar2;
  int iVar3;
  byte bVar4;
  uint uVar5;
  byte bVar6;
  uint *puVar7;
  uint *puVar8;
  bool bVar9;
  
  sVar2 = _Size;
  if (_Size != 0) {
    if ((((uint)_Buf1 | (uint)_Buf2) & 3) == 0) {
      sVar2 = _Size & 3;
      uVar5 = _Size >> 2;
      bVar9 = uVar5 == 0;
      puVar7 = (uint *)_Buf1;
      puVar8 = (uint *)_Buf2;
      if (!bVar9) {
        do {
          _Buf1 = puVar7;
          _Buf2 = puVar8;
          if (uVar5 == 0) break;
          uVar5 = uVar5 - 1;
          _Buf2 = puVar8 + 1;
          _Buf1 = puVar7 + 1;
          bVar9 = *puVar7 == *puVar8;
          puVar7 = (uint *)_Buf1;
          puVar8 = (uint *)_Buf2;
        } while (bVar9);
        if (!bVar9) {
          uVar5 = *(uint *)((int)_Buf1 + -4);
          uVar1 = *(uint *)((int)_Buf2 + -4);
          bVar9 = (byte)uVar5 < (byte)uVar1;
          if ((((byte)uVar5 == (byte)uVar1) &&
              (bVar4 = (byte)(uVar5 >> 8), bVar6 = (byte)(uVar1 >> 8), bVar9 = bVar4 < bVar6,
              bVar4 == bVar6)) &&
             (bVar4 = (byte)(uVar5 >> 0x10), bVar6 = (byte)(uVar1 >> 0x10), bVar9 = bVar4 < bVar6,
             bVar4 == bVar6)) {
            bVar9 = (byte)(uVar5 >> 0x18) < (byte)(uVar1 >> 0x18);
          }
          goto LAB_004b07da;
        }
      }
      if (sVar2 != 0) {
                    // WARNING: Load size is inaccurate
        uVar5 = *_Buf1;
                    // WARNING: Load size is inaccurate
        uVar1 = *_Buf2;
        bVar9 = (byte)uVar5 < (byte)uVar1;
        if ((byte)uVar5 != (byte)uVar1) {
LAB_004b07da:
          return (1 - (uint)bVar9) - (uint)(bVar9 != 0);
        }
        iVar3 = sVar2 - 1;
        if (iVar3 != 0) {
          bVar4 = (byte)(uVar1 >> 8);
          bVar6 = (byte)(uVar5 >> 8);
          bVar9 = bVar6 < bVar4;
          if (bVar6 != bVar4) goto LAB_004b07da;
          iVar3 = sVar2 - 2;
          if (iVar3 != 0) {
            bVar9 = (uVar5 & 0xff0000) < (uVar1 & 0xff0000);
            if ((uVar5 & 0xff0000) != (uVar1 & 0xff0000)) goto LAB_004b07da;
            iVar3 = sVar2 - 3;
          }
        }
        return iVar3;
      }
    }
    else {
      if ((_Size & 1) == 0) goto LAB_004b078d;
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
      bVar9 = *_Buf1 < *_Buf2;
      if (*_Buf1 != *_Buf2) goto LAB_004b07da;
      _Buf1 = (void *)((int)_Buf1 + 1);
      _Buf2 = (void *)((int)_Buf2 + 1);
      for (_Size = _Size - 1; sVar2 = _Size, _Size != 0; _Size = _Size - 2) {
LAB_004b078d:
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
        bVar9 = *_Buf1 < *_Buf2;
        if ((*_Buf1 != *_Buf2) ||
           (bVar9 = *(byte *)((int)_Buf1 + 1) < *(byte *)((int)_Buf2 + 1),
           *(byte *)((int)_Buf1 + 1) != *(byte *)((int)_Buf2 + 1))) goto LAB_004b07da;
        _Buf2 = (void *)((int)_Buf2 + 2);
        _Buf1 = (void *)((int)_Buf1 + 2);
      }
    }
  }
  return sVar2;
}



// /*
//  * Function: PerformCleanupOrInitialization
//  * Description:
//  *   This function first checks if a floating-point math cleanup function is defined. If it is,
// the function is called.
//  *   It then proceeds to invoke a series of functions within predefined ranges, potentially to
// clean up or initialize
//  *   various aspects of the runtime environment.
//  */

void PerformCleanupOrInitialization(void)

{
  if (PTR___fpmath_004d3c68 != (undefined *)0x0) {
    (*(code *)PTR___fpmath_004d3c68)();
  }
  CallFunctionRange(&DAT_004c5008,&DAT_004c5014);
  CallFunctionRange(&DAT_004c5000,&DAT_004c5004);
  return;
}



//  * Function: TerminateWithCode (originally FUN_004b0840)
//  * Description:
//  *   This function is a wrapper around `TerminateProgram`, allowing for the termination of the
// program with a specific exit code. 
//  *   It passes the provided exit code to `TerminateProgram` and performs a graceful exit by
// invoking the cleanup routines (indicated by the 0 values for the other parameters).
//  *
//  * Parameters:
//  *   param_1: The exit code for terminating the program.
//  *
//  * Returns:
//  *   void (Note: The program will terminate as a result of this function).

void TerminateWithCode(undefined4 param_1)

{
  TerminateProgram(param_1,0,0);
  return;
}



// Library Function - Single Match
//  __exit
// 
// Library: Visual Studio 1998 Release

void __cdecl __exit(int _Code)

{
  TerminateProgram(_Code,1,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
//  * Function: TerminateProgram (originally FUN_004b0880)
//  * Description:
//  *   This function is responsible for handling the program's exit or termination process.
//  *   It checks global states to determine whether to call the `TerminateProcess` function
// directly
//  *   or to perform a more graceful shutdown, calling any registered cleanup functions first.
//  *
//  * Parameters:
//  *   param_1: The exit code for the program.
//  *   param_2: Indicates whether or not certain cleanup routines should be skipped (when `param_2
// == 0`, extra cleanup happens).
//  *   param_3: Determines whether the function should proceed to a full program termination (if
// non-zero).
//  *
//  * Returns:
//  *   void (Note: May cause the process to exit or terminate, depending on conditions).

void TerminateProgram(UINT param_1,int param_2,int param_3)

{
  HANDLE hProcess;
  code **ppcVar1;
  code **ppcVar2;
  UINT uExitCode;
  
  FUN_004b0940();
  if (DAT_005a128c == 1) {
    uExitCode = param_1;
    hProcess = GetCurrentProcess();
    TerminateProcess(hProcess,uExitCode);
  }
  _DAT_005a1288 = 1;
  DAT_005a1284 = (undefined)param_3;
  if (param_2 == 0) {
    if ((DAT_005f8eb0 != (code **)0x0) &&
       (ppcVar2 = (code **)(DAT_005f8eac + -4), ppcVar1 = DAT_005f8eb0, DAT_005f8eb0 <= ppcVar2)) {
      do {
        if (*ppcVar2 != (code *)0x0) {
          (**ppcVar2)();
          ppcVar1 = DAT_005f8eb0;
        }
        ppcVar2 = ppcVar2 + -1;
      } while (ppcVar1 <= ppcVar2);
    }
    CallFunctionRange(&DAT_004c5018,&DAT_004c5020);
  }
  CallFunctionRange(&DAT_004c5024,&DAT_004c5028);
  if (param_3 != 0) {
    FUN_004b0950();
    return;
  }
  DAT_005a128c = 1;
                    // WARNING: Subroutine does not return
  ExitProcess(param_1);
}



void FUN_004b0940(void)

{
  EnterOrInitCriticalSection(0xd);
  return;
}



void FUN_004b0950(void)

{
  LeaveCriticalSectionFunc(0xd);
  return;
}



//  * Function: CallFunctionRange (originally FUN_004b0960)
//  * Description:
//  *   This function takes two pointers (`param_1` and `param_2`) to arrays of function pointers.
//  *   It iterates over the array from `param_1` to `param_2` (exclusive), and for each valid
// (non-null)
//  *   function pointer, it calls the function.
//  *
//  * Parameters:
//  *   param_1: Pointer to the first function pointer in the array.
//  *   param_2: Pointer to the end of the range (exclusive).
//  *
//  * Returns:
//  *   void

void CallFunctionRange(code **param_1,code **param_2)

{
  if (param_1 < param_2) {
    do {
      if (*param_1 != (code *)0x0) {
        (**param_1)();
      }
      param_1 = param_1 + 1;
    } while (param_1 < param_2);
  }
  return;
}



int FUN_004b0980(int param_1)

{
  bool bVar1;
  
  if (DAT_005a1338 == 0) {
    if ((0x60 < param_1) && (param_1 < 0x7b)) {
      return param_1 + -0x20;
    }
  }
  else {
    InterlockedIncrement((LONG *)&DAT_005f8d8c);
    bVar1 = DAT_005f8d88 != 0;
    if (bVar1) {
      InterlockedDecrement((LONG *)&DAT_005f8d8c);
      EnterOrInitCriticalSection(0x13);
    }
    param_1 = FUN_004b0a10(param_1);
    if (bVar1) {
      LeaveCriticalSectionFunc(0x13);
      return param_1;
    }
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
  }
  return param_1;
}



uint FUN_004b0a10(uint param_1)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  uint local_8 [2];
  
  uVar1 = param_1;
  if (DAT_005a1338 == 0) {
    if ((0x60 < (int)param_1) && ((int)param_1 < 0x7b)) {
      return param_1 - 0x20;
    }
  }
  else {
    if ((int)param_1 < 0x100) {
      if (DAT_004d3f4c < 2) {
        uVar2 = (byte)PTR_DAT_004d3d40[param_1 * 2] & 2;
      }
      else {
        uVar2 = GetCharacterType(param_1,2);
      }
      if (uVar2 == 0) {
        return uVar1;
      }
    }
    uVar2 = param_1;
    if ((PTR_DAT_004d3d40[((int)uVar1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      param_1._0_2_ = (ushort)(byte)uVar1;
      uVar3 = 1;
    }
    else {
      param_1._0_2_ = CONCAT11((byte)uVar1,(char)(uVar1 >> 8));
      param_1._0_3_ = (uint3)(ushort)param_1;
      uVar3 = 2;
    }
    iVar4 = MapLocaleString(DAT_005a1338,0x200,&param_1,uVar3,local_8,3,0,1);
    if (iVar4 == 0) {
      return uVar1;
    }
    if (iVar4 == 1) {
      return local_8[0] & 0xff;
    }
    param_1 = (local_8[0] >> 8 & 0xff) << 8 | local_8[0] & 0xff;
  }
  return param_1;
}



// /*
//  * Function: GetCharacterType (originally FUN_004b0b10)
//  * Description:
//  *   This function determines the character type of a given parameter. If the character is within
// the
//  *   ASCII range, it uses a lookup table to find the type. If the character is non-ASCII, it uses
// the
//  *   `GetStringTypeWrapper` function to determine its type. The resulting type is bitwise-ANDed
// with
//  *   the provided `param_2`.
//  * Parameters:
//  *   param_1 - The character or value to evaluate.
//  *   param_2 - The mask to apply to the character type.
//  * Returns:
//  *   The result of bitwise-ANDing the character type with `param_2`.
//  */

uint GetCharacterType(int param_1,uint param_2)

{
  undefined4 uVar1;
  int iVar2;
  uint local_4;
  
  iVar2 = param_1;
  if (param_1 + 1U < 0x101) {
    return *(ushort *)(PTR_DAT_004d3d40 + param_1 * 2) & param_2;
  }
  if ((PTR_DAT_004d3d40[(param_1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
    param_1._0_2_ = (ushort)(byte)param_1;
    uVar1 = 1;
  }
  else {
    param_1._0_2_ = CONCAT11((byte)param_1,(char)((uint)param_1 >> 8));
    param_1._0_3_ = (uint3)(ushort)param_1;
    uVar1 = 2;
  }
  iVar2 = GetStringTypeWrapper(1,&param_1,uVar1,&local_4,0,0,1);
  if (iVar2 == 0) {
    return 0;
  }
  return local_4 & 0xffff & param_2;
}



// /*
//  * Function: GetAbsolutePathThreadSafe (originally FUN_004b0bb0)
//  * Description:
//  *   This function obtains the absolute path for a given input, ensuring thread safety
//  *   by using a critical section lock. It calls `GetAbsolutePath` to perform the actual
//  *   path resolution and protects this operation by acquiring and releasing a critical
//  *   section lock with ID `0xc`.
//  * Parameters:
//  *   param_1 - The input parameter, typically representing a relative path or drive letter.
//  *   param_2 - The output buffer where the absolute path will be stored.
//  * Returns:
//  *   The result from `GetAbsolutePath`, which is typically a success or failure indicator.
//  */

undefined4 GetAbsolutePathThreadSafe(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  EnterOrInitCriticalSection(0xc);
  uVar1 = GetAbsolutePath(0,param_1,param_2);
  LeaveCriticalSectionFunc(0xc);
  return uVar1;
}



// /* Function: GetAbsolutePath (originally FUN_004b0be0)
//  * Description:
//  *   This function retrieves the absolute path based on a given parameter. If the parameter is 0,
// it retrieves
//  *   the current directory path. If a valid drive is specified, it converts the relative path to
// an absolute one.
//  *   If the provided buffer is NULL, the function allocates memory to store the resulting path.
// If the buffer
//  *   size is insufficient, it sets an error in the thread-local storage. Otherwise, it copies the
// retrieved path
//  *   to the provided buffer.
//  * Parameters:
//  *   param_1 - Drive identifier or 0 for current directory.
//  *   param_2 - Pointer to a buffer for storing the resulting path.
//  *   param_3 - Size of the provided buffer.
//  * Returns:
//  *   Pointer to the buffer containing the absolute path, or NULL if an error occurs.
//  */
// 

undefined4 * GetAbsolutePath(int param_1,undefined4 *param_2,uint param_3)

{
  char cVar1;
  int iVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  undefined4 *puVar9;
  char local_10c;
  undefined local_10b;
  undefined local_10a;
  undefined local_109;
  LPSTR local_108;
  CHAR local_104 [260];
  
  if (param_1 == 0) {
    DVar4 = GetCurrentDirectoryA(0x104,local_104);
  }
  else {
    iVar2 = IsValidDrive(param_1);
    if (iVar2 == 0) {
      puVar3 = (undefined4 *)GetSpecificTlsOffset0xc();
      *puVar3 = 0xf;
      puVar3 = (undefined4 *)GetSpecificTlsOffset();
      *puVar3 = 0xd;
      return (undefined4 *)0x0;
    }
    local_10c = (char)param_1 + '@';
    local_10b = 0x3a;
    local_10a = 0x2e;
    local_109 = 0;
    DVar4 = GetFullPathNameA(&local_10c,0x104,local_104,&local_108);
  }
  if ((DVar4 == 0) || (uVar5 = DVar4 + 1, 0x104 < uVar5)) {
    return (undefined4 *)0x0;
  }
  if (param_2 == (undefined4 *)0x0) {
    if ((int)uVar5 <= (int)param_3) {
      uVar5 = param_3;
    }
    param_2 = (undefined4 *)AllocateMemoryWithCallback(uVar5);
    if (param_2 == (undefined4 *)0x0) {
      puVar3 = (undefined4 *)GetSpecificTlsOffset();
      *puVar3 = 0xc;
      return (undefined4 *)0x0;
    }
  }
  else if ((int)param_3 < (int)uVar5) {
    puVar3 = (undefined4 *)GetSpecificTlsOffset();
    *puVar3 = 0x22;
    return (undefined4 *)0x0;
  }
  uVar5 = 0xffffffff;
  pcVar7 = local_104;
  do {
    pcVar8 = pcVar7;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar8 = pcVar7 + 1;
    cVar1 = *pcVar7;
    pcVar7 = pcVar8;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  puVar3 = (undefined4 *)(pcVar8 + -uVar5);
  puVar9 = param_2;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *puVar9 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar9 = puVar9 + 1;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *(undefined *)puVar9 = *(undefined *)puVar3;
    puVar3 = (undefined4 *)((int)puVar3 + 1);
    puVar9 = (undefined4 *)((int)puVar9 + 1);
  }
  return param_2;
}



// /*
//  * Function: IsValidDrive (originally FUN_004b0d10)
//  * Description:
//  *   This function checks if a given value corresponds to a valid drive letter. It constructs a
// path
//  *   using the provided parameter, then checks if the drive type is valid using the GetDriveTypeA
// function.
//  *   It returns 1 if the drive is valid and accessible, otherwise returns 0.
//  */

undefined4 IsValidDrive(uint param_1)

{
  char cVar1;
  UINT UVar2;
  
  if (param_1 == 0) {
    return 1;
  }
  cVar1 = (char)param_1;
  param_1 = (uint)CONCAT12(0x5c,CONCAT11(0x3a,cVar1 + '@'));
  UVar2 = GetDriveTypeA((LPCSTR)&param_1);
  if ((UVar2 != 0) && (UVar2 != 1)) {
    return 1;
  }
  return 0;
}



// Library Function - Single Match
//  _strncpy
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl _strncpy(char *_Dest,char *_Source,size_t _Count)

{
  uint uVar1;
  uint uVar2;
  char cVar3;
  uint uVar4;
  uint *puVar5;
  
  if (_Count == 0) {
    return _Dest;
  }
  puVar5 = (uint *)_Dest;
  if (((uint)_Source & 3) != 0) {
    while( true ) {
      cVar3 = *_Source;
      _Source = (char *)((int)_Source + 1);
      *(char *)puVar5 = cVar3;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
      if (_Count == 0) {
        return _Dest;
      }
      if (cVar3 == '\0') break;
      if (((uint)_Source & 3) == 0) {
        uVar4 = _Count >> 2;
        goto joined_r0x004b0d8e;
      }
    }
    do {
      if (((uint)puVar5 & 3) == 0) {
        uVar4 = _Count >> 2;
        cVar3 = '\0';
        if (uVar4 == 0) goto LAB_004b0dcb;
        goto LAB_004b0e39;
      }
      *(undefined *)puVar5 = 0;
      puVar5 = (uint *)((int)puVar5 + 1);
      _Count = _Count - 1;
    } while (_Count != 0);
    return _Dest;
  }
  uVar4 = _Count >> 2;
  if (uVar4 != 0) {
    do {
      uVar1 = *(uint *)_Source;
      uVar2 = *(uint *)_Source;
      _Source = (char *)((int)_Source + 4);
      if (((uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff) & 0x81010100) != 0) {
        if ((char)uVar2 == '\0') {
          *puVar5 = 0;
joined_r0x004b0e35:
          while( true ) {
            uVar4 = uVar4 - 1;
            puVar5 = puVar5 + 1;
            if (uVar4 == 0) break;
LAB_004b0e39:
            *puVar5 = 0;
          }
          cVar3 = '\0';
          _Count = _Count & 3;
          if (_Count != 0) goto LAB_004b0dcb;
          return _Dest;
        }
        if ((char)(uVar2 >> 8) == '\0') {
          *puVar5 = uVar2 & 0xff;
          goto joined_r0x004b0e35;
        }
        if ((uVar2 & 0xff0000) == 0) {
          *puVar5 = uVar2 & 0xffff;
          goto joined_r0x004b0e35;
        }
        if ((uVar2 & 0xff000000) == 0) {
          *puVar5 = uVar2;
          goto joined_r0x004b0e35;
        }
      }
      *puVar5 = uVar2;
      puVar5 = puVar5 + 1;
      uVar4 = uVar4 - 1;
joined_r0x004b0d8e:
    } while (uVar4 != 0);
    _Count = _Count & 3;
    if (_Count == 0) {
      return _Dest;
    }
  }
  do {
    cVar3 = *_Source;
    _Source = (char *)((int)_Source + 1);
    *(char *)puVar5 = cVar3;
    puVar5 = (uint *)((int)puVar5 + 1);
    if (cVar3 == '\0') {
      while (_Count = _Count - 1, _Count != 0) {
LAB_004b0dcb:
        *(char *)puVar5 = cVar3;
        puVar5 = (uint *)((int)puVar5 + 1);
      }
      return _Dest;
    }
    _Count = _Count - 1;
  } while (_Count != 0);
  return _Dest;
}



undefined4 FUN_004b0e50(undefined *param_1,undefined4 param_2)

{
  undefined4 uVar1;
  undefined *local_20;
  int local_1c;
  undefined *local_18;
  undefined4 local_14;
  
  local_18 = param_1;
  local_20 = param_1;
  local_14 = 0x42;
  local_1c = 0x7fffffff;
  uVar1 = FUN_004b1c50(&local_20,param_2,&stack0x0000000c);
  local_1c = local_1c + -1;
  if (-1 < local_1c) {
    *local_20 = 0;
    return uVar1;
  }
  FUN_004b54a0(0,&local_20);
  return uVar1;
}



char * FUN_004b0ec0(char *param_1)

{
  _SYSTEMTIME local_10;
  
  GetLocalTime(&local_10);
  param_1[5] = ':';
  param_1[2] = ':';
  *param_1 = (char)(local_10.wHour / 10) + '0';
  param_1[8] = '\0';
  param_1[1] = (char)((ulonglong)(uint)local_10.wHour % 10) + '0';
  param_1[3] = (char)(local_10.wMinute / 10) + '0';
  param_1[4] = (char)((ulonglong)(uint)local_10.wMinute % 10) + '0';
  param_1[6] = (char)(local_10.wSecond / 10) + '0';
  param_1[7] = (char)((ulonglong)(uint)local_10.wSecond % 10) + '0';
  return param_1;
}



void FUN_004b0f80(void)

{
  __ctrandisp2();
  return;
}



// Library Function - Single Match
//  __global_unwind2
// 
// Library: Visual Studio

void __global_unwind2(PVOID param_1)

{
  RtlUnwind(param_1,(PVOID)0x4b0fd8,(PEXCEPTION_RECORD)0x0,(PVOID)0x0);
  return;
}



// Library Function - Single Match
//  __local_unwind2
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release, Visual Studio 2003 Debug, Visual
// Studio 2003 Release

void __local_unwind2(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  void *pvStack_1c;
  undefined *puStack_18;
  undefined4 local_14;
  int iStack_10;
  
  iStack_10 = param_1;
  puStack_18 = &LAB_004b0fe0;
  pvStack_1c = ExceptionList;
  ExceptionList = &pvStack_1c;
  while( true ) {
    iVar1 = *(int *)(param_1 + 8);
    iVar2 = *(int *)(param_1 + 0xc);
    if ((iVar2 == -1) || (iVar2 == param_2)) break;
    local_14 = *(undefined4 *)(iVar1 + iVar2 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_14;
    if (*(int *)(iVar1 + 4 + iVar2 * 0xc) == 0) {
      FUN_004b1096(0x101);
      (**(code **)(iVar1 + 8 + iVar2 * 0xc))();
    }
  }
  ExceptionList = pvStack_1c;
  return;
}



void FUN_004b1096(void)

{
  undefined4 in_EAX;
  int unaff_EBP;
  
  DAT_004d3f68 = *(undefined4 *)(unaff_EBP + 8);
  DAT_004d3f64 = in_EAX;
  DAT_004d3f6c = unaff_EBP;
  return;
}



void FUN_004b1175(int param_1)

{
  __local_unwind2(*(undefined4 *)(param_1 + 0x18),*(undefined4 *)(param_1 + 0x1c));
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void entry(void)

{
  byte bVar1;
  DWORD DVar2;
  int iVar3;
  HMODULE pHVar4;
  byte *pbVar5;
  undefined4 uVar7;
  _STARTUPINFOA local_60;
  undefined *local_1c;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  byte *pbVar6;
  
  local_8 = 0xffffffff;
  puStack_c = &DAT_004c1d20;
  puStack_10 = &LAB_004b10b8;
  local_14 = ExceptionList;
  local_1c = &stack0xffffff88;
  ExceptionList = &local_14;
  DVar2 = GetVersion();
  _DAT_005a125c = DVar2 >> 8 & 0xff;
  _DAT_005a1258 = DVar2 & 0xff;
  _DAT_005a1254 = _DAT_005a1258 * 0x100 + _DAT_005a125c;
  _DAT_005a1250 = DVar2 >> 0x10;
  iVar3 = InitializeHeapAndMemoryPool();
  if (iVar3 == 0) {
    FUN_004b1370(0x1c);
  }
  iVar3 = InitializeThreadLocalStorage();
  if (iVar3 == 0) {
    FUN_004b1370(0x10);
  }
  local_8 = 0;
  InitializeFileHandles();
  SetDefaultCodePage();
  PTR_005f8ea8 = (byte *)GetCommandLineA();
  DAT_005a1290 = GetEnvironmentVariables();
  if ((DAT_005a1290 == 0) || (PTR_005f8ea8 == (byte *)0x0)) {
    TerminateWithCode(0xffffffff);
  }
  InitializeCommandLine();
  ParseAndStoreValidEntries();
  PerformCleanupOrInitialization();
  pbVar5 = PTR_005f8ea8;
  if (*PTR_005f8ea8 == '\"') {
    while( true ) {
      pbVar6 = pbVar5;
      pbVar5 = pbVar6 + 1;
      bVar1 = *pbVar5;
      if ((bVar1 == 0x22) || (bVar1 == 0)) break;
      iVar3 = CheckIfCharacterIsSpecial(bVar1);
      if (iVar3 != 0) {
        pbVar5 = pbVar6 + 2;
      }
    }
    if (*pbVar5 == 0x22) {
      pbVar5 = pbVar6 + 2;
    }
  }
  else {
    for (; 0x20 < *pbVar5; pbVar5 = pbVar5 + 1) {
    }
  }
  for (; (*pbVar5 != 0 && (*pbVar5 < 0x21)); pbVar5 = pbVar5 + 1) {
  }
  local_60.dwFlags = 0;
  GetStartupInfoA(&local_60);
  if ((local_60.dwFlags & 1) == 0) {
    local_60._48_4_ = 10;
  }
  else {
    local_60._48_4_ = local_60._48_4_ & 0xffff;
  }
  uVar7 = 0;
  pHVar4 = GetModuleHandleA((LPCSTR)0x0);
  uVar7 = FUN_0046da60(pHVar4,uVar7,pbVar5,local_60._48_4_);
  TerminateWithCode(uVar7);
  ExceptionList = local_14;
  return;
}



// Library Function - Single Match
//  __amsg_exit
// 
// Library: Visual Studio 1998 Release

void __cdecl __amsg_exit(int param_1)

{
  if (DAT_005a1298 == 1) {
    FUN_004b8d00();
  }
  ReportRuntimeError(param_1);
  (*(code *)PTR___exit_004d3f70)(0xff);
  return;
}



void FUN_004b1370(undefined4 param_1)

{
  if (DAT_005a1298 == 1) {
    FUN_004b8d00();
  }
  ReportRuntimeError(param_1);
                    // WARNING: Subroutine does not return
  ExitProcess(0xff);
}



// Library Function - Single Match
//  __setdefaultprecision
// 
// Library: Visual Studio 1998 Release

void __setdefaultprecision(void)

{
  FUN_004b99d0(0x10000,0x30000);
  return;
}



// WARNING: Removing unreachable block (ram,0x004b1401)

undefined4 FUN_004b13c0(void)

{
  return 0;
}



void FUN_004b1410(void)

{
  HMODULE hModule;
  FARPROC pFVar1;
  
  hModule = GetModuleHandleA("KERNEL32");
  if (hModule != (HMODULE)0x0) {
    pFVar1 = GetProcAddress(hModule,"IsProcessorFeaturePresent");
    if (pFVar1 != (FARPROC)0x0) {
      (*pFVar1)(0);
      return;
    }
  }
  FUN_004b13c0();
  return;
}



void FUN_004b1440(char *param_1)

{
  char cVar1;
  char cVar2;
  int iVar3;
  uint uVar4;
  
  iVar3 = FUN_004b9b20((int)*param_1);
  if (iVar3 != 0x65) {
    do {
      param_1 = param_1 + 1;
      if (DAT_004d3f4c < 2) {
        uVar4 = (byte)PTR_DAT_004d3d40[*param_1 * 2] & 4;
      }
      else {
        uVar4 = GetCharacterType((int)*param_1,4);
      }
    } while (uVar4 != 0);
  }
  cVar2 = *param_1;
  *param_1 = DAT_004d3f50;
  do {
    param_1 = param_1 + 1;
    cVar1 = *param_1;
    *param_1 = cVar2;
    cVar2 = cVar1;
  } while (*param_1 != '\0');
  return;
}



int FUN_004b1590(undefined4 *param_1,int param_2,int param_3,undefined4 param_4)

{
  int local_28 [4];
  undefined local_18 [24];
  
  FUN_004ba270(*param_1,param_1[1],local_28,local_18);
  FUN_004ba1d0((uint)(local_28[0] == 0x2d) + param_2 + (uint)(0 < param_3),param_3 + 1,local_28);
  FUN_004b1610(param_2,param_3,param_4,local_28,0);
  return param_2;
}



undefined * FUN_004b1610(undefined *param_1,int param_2,int param_3,int *param_4,char param_5)

{
  undefined *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (param_5 != '\0') {
    FUN_004b1970(param_1 + (*param_4 == 0x2d),0 < param_2);
  }
  puVar1 = param_1;
  if (*param_4 == 0x2d) {
    *param_1 = 0x2d;
    puVar1 = param_1 + 1;
  }
  if (0 < param_2) {
    *puVar1 = puVar1[1];
    puVar1 = puVar1 + 1;
    *puVar1 = DAT_004d3f50;
  }
  puVar3 = (undefined4 *)(puVar1 + param_2 + (uint)(param_5 == '\0'));
  *puVar3 = 0x30302b65;
  *(undefined2 *)(puVar3 + 1) = 0x30;
  if (param_3 != 0) {
    *(undefined *)puVar3 = 0x45;
  }
  if (*(char *)param_4[3] != '0') {
    iVar2 = param_4[1] + -1;
    if (iVar2 < 0) {
      iVar2 = -iVar2;
      *(undefined *)((int)puVar3 + 1) = 0x2d;
    }
    if (99 < iVar2) {
      *(char *)((int)puVar3 + 2) = *(char *)((int)puVar3 + 2) + (char)(iVar2 / 100);
      iVar2 = iVar2 % 100;
    }
    if (9 < iVar2) {
      *(char *)((int)puVar3 + 3) = *(char *)((int)puVar3 + 3) + (char)(iVar2 / 10);
      iVar2 = iVar2 % 10;
    }
    *(char *)(puVar3 + 1) = *(char *)(puVar3 + 1) + (char)iVar2;
  }
  return param_1;
}



int FUN_004b1710(undefined4 *param_1,int param_2,int param_3)

{
  int local_28;
  int local_24;
  undefined local_18 [24];
  
  FUN_004ba270(*param_1,param_1[1],&local_28,local_18);
  FUN_004ba1d0((uint)(local_28 == 0x2d) + param_2,local_24 + param_3,&local_28);
  FUN_004b1780(param_2,param_3,&local_28,0);
  return param_2;
}



undefined * FUN_004b1780(undefined *param_1,uint param_2,int *param_3,char param_4)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined *puVar4;
  undefined4 *puVar5;
  
  iVar1 = param_3[1];
  uVar3 = iVar1 - 1;
  if ((param_4 != '\0') && (iVar2 = *param_3, uVar3 == param_2)) {
    param_1[uVar3 + (iVar2 == 0x2d)] = 0x30;
    param_1[iVar1 + (uint)(iVar2 == 0x2d)] = 0;
  }
  puVar4 = param_1;
  if (*param_3 == 0x2d) {
    *param_1 = 0x2d;
    puVar4 = param_1 + 1;
  }
  if (param_3[1] < 1) {
    FUN_004b1970(puVar4,1);
    *puVar4 = 0x30;
    puVar4 = puVar4 + 1;
  }
  else {
    puVar4 = puVar4 + param_3[1];
  }
  if (0 < (int)param_2) {
    FUN_004b1970(puVar4,1);
    *puVar4 = DAT_004d3f50;
    iVar1 = param_3[1];
    if (iVar1 < 0) {
      if ((param_4 != '\0') || (SBORROW4(param_2,-iVar1) == (int)(param_2 + iVar1) < 0)) {
        param_2 = -iVar1;
      }
      FUN_004b1970(puVar4 + 1,param_2);
      puVar5 = (undefined4 *)(puVar4 + 1);
      for (uVar3 = param_2 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
        *puVar5 = 0x30303030;
        puVar5 = puVar5 + 1;
      }
      for (param_2 = param_2 & 3; param_2 != 0; param_2 = param_2 - 1) {
        *(undefined *)puVar5 = 0x30;
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      }
    }
  }
  return param_1;
}



void FUN_004b1840(undefined4 *param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  char cVar2;
  char *pcVar3;
  int local_28;
  int local_24;
  undefined local_18 [24];
  
  FUN_004ba270(*param_1,param_1[1],&local_28,local_18);
  iVar1 = local_24 + -1;
  pcVar3 = (char *)((uint)(local_28 == 0x2d) + param_2);
  FUN_004ba1d0(pcVar3,param_3,&local_28);
  local_24 = local_24 + -1;
  if ((-5 < local_24) && (local_24 < param_3)) {
    if (iVar1 < local_24) {
      cVar2 = *pcVar3;
      while (cVar2 != '\0') {
        cVar2 = pcVar3[1];
        pcVar3 = pcVar3 + 1;
      }
      pcVar3[-1] = '\0';
    }
    FUN_004b1780(param_2,param_3,&local_28,1);
    return;
  }
  FUN_004b1610(param_2,param_3,param_4,&local_28,1);
  return;
}



void FUN_004b1970(char *param_1,int param_2)

{
  char cVar1;
  uint uVar2;
  char *pcVar3;
  
  if (param_2 != 0) {
    uVar2 = 0xffffffff;
    pcVar3 = param_1;
    do {
      if (uVar2 == 0) break;
      uVar2 = uVar2 - 1;
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    FUN_004ba3c0(param_1 + param_2,param_1,~uVar2);
  }
  return;
}



// /*
//  * Function: InitializeGlobalCriticalSections (originally FUN_004b19a0)
//  * Description:
//  *   This function initializes multiple global critical sections that are used to synchronize
// access to
//  *   shared resources across different threads. Critical sections are initialized using the 
//  *   `InitializeCriticalSection` function to ensure that only one thread can access a resource at
// a time.
//  *
//  * Globals:
//  *   PTR_DAT_004d3fd4 - Pointer to a critical section structure.
//  *   PTR_DAT_004d3fc4 - Pointer to a critical section structure.
//  *   PTR_DAT_004d3fb4 - Pointer to a critical section structure.
//  *   PTR_DAT_004d3f94 - Pointer to a critical section structure.
//  */

void InitializeGlobalCriticalSections(void)

{
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_004d3fd4);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_004d3fc4);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_004d3fb4);
  InitializeCriticalSection((LPCRITICAL_SECTION)PTR_DAT_004d3f94);
  return;
}



// /*
//  * Function: EnterOrInitCriticalSection (originally FUN_004b19d0)
//  * Description:
//  *   This function initializes a critical section if it has not been initialized yet and then
// enters it.
//  *   If the critical section is already initialized, it simply enters the critical section.
//  *   It ensures thread safety by using another critical section (at index 0x11) during the
// initialization process.
//  */
// 

void EnterOrInitCriticalSection(int param_1)

{
  LPCRITICAL_SECTION lpCriticalSection;
  
  if (*(int *)(&DAT_004d3f90 + param_1 * 4) == 0) {
    lpCriticalSection = (LPCRITICAL_SECTION)AllocateMemoryWithCallback(0x18);
    if (lpCriticalSection == (LPCRITICAL_SECTION)0x0) {
      __amsg_exit(0x11);
    }
    EnterOrInitCriticalSection(0x11);
    if (*(int *)(&DAT_004d3f90 + param_1 * 4) == 0) {
      InitializeCriticalSection(lpCriticalSection);
      *(LPCRITICAL_SECTION *)(&DAT_004d3f90 + param_1 * 4) = lpCriticalSection;
    }
    else {
      FreeMemory();
    }
    LeaveCriticalSectionFunc(0x11);
  }
  EnterCriticalSection(*(LPCRITICAL_SECTION *)(&DAT_004d3f90 + param_1 * 4));
  return;
}



void LeaveCriticalSectionFunc(int param_1)

{
  LeaveCriticalSection(*(LPCRITICAL_SECTION *)(&DAT_004d3f90 + param_1 * 4));
  return;
}



// // Function: EnterConditionalCriticalSection
// // Description: This function enters a critical section based on the value of `param_1`. If
// `param_1` falls within the range `0x4d69cf < param_1 < 0x4d6c31`, it calculates the critical
// section offset and enters/initializes it. Otherwise, it enters a critical section based directly
// on `param_1`.
// // Old Name: FUN_004b1a70
// //
// // Arguments:
// //   param_1 (uint): The value used to determine which critical section to enter.
// //
// // Return Value: None.
// 

void EnterConditionalCriticalSection(uint param_1)

{
  if ((0x4d69cf < param_1) && (param_1 < 0x4d6c31)) {
    EnterOrInitCriticalSection(((int)(param_1 - 0x4d69d0) >> 5) + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



// // Function: EnterResourceCriticalSection
// // Description: This function enters a critical section based on the value of `param_1`. If
// `param_1` is less than 0x14, it calls `EnterOrInitCriticalSection` with an adjusted value of
// `param_1`. Otherwise, it enters a critical section at an offset from `param_2`.
// // Old Name: FUN_004b1ab0
// //
// // Arguments:
// //   param_1 (int): A threshold value that determines which critical section method to use.
// //   param_2 (int): A pointer to a structure containing the critical section to enter.
// //
// // Return Value: None.
// 

void EnterResourceCriticalSection(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    EnterOrInitCriticalSection(param_1 + 0x1c);
    return;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



// Leaves a critical section based off 1 param

void LeaveCriticalSection1Param(uint param_1)

{
  if ((0x4d69cf < param_1) && (param_1 < 0x4d6c31)) {
    LeaveCriticalSectionFunc(((int)(param_1 - 0x4d69d0) >> 5) + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x20));
  return;
}



// Leaves a critical section based off 2 params

void LeaveCriticalSectionFunc2Params(int param_1,int param_2)

{
  if (param_1 < 0x14) {
    LeaveCriticalSectionFunc(param_1 + 0x1c);
    return;
  }
  LeaveCriticalSection((LPCRITICAL_SECTION)(param_2 + 0x20));
  return;
}



undefined4 FUN_004b1b50(undefined4 *param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = FUN_004ba7f0(param_1[4]);
  if (iVar2 == 0) {
    return 0;
  }
  if (param_1 == (undefined4 *)&DAT_004d69f0) {
    iVar2 = 0;
  }
  else {
    if (param_1 != (undefined4 *)&DAT_004d6a10) {
      return 0;
    }
    iVar2 = 1;
  }
  DAT_005a16c0 = DAT_005a16c0 + 1;
  if ((param_1[3] & 0x10c) != 0) {
    return 0;
  }
  if ((&DAT_005a1300)[iVar2] == 0) {
    iVar3 = AllocateMemoryWithCallback(0x1000);
    (&DAT_005a1300)[iVar2] = iVar3;
    if (iVar3 == 0) {
      param_1[2] = param_1 + 5;
      *param_1 = param_1 + 5;
      param_1[6] = 2;
      param_1[1] = 2;
      goto LAB_004b1bf0;
    }
  }
  uVar1 = (&DAT_005a1300)[iVar2];
  param_1[6] = 0x1000;
  param_1[2] = uVar1;
  *param_1 = uVar1;
  param_1[1] = 0x1000;
LAB_004b1bf0:
  param_1[3] = param_1[3] | 0x1102;
  return 1;
}



void FUN_004b1c10(int param_1,undefined4 *param_2)

{
  if ((param_1 != 0) && ((param_2[3] & 0x1000) != 0)) {
    FlushBufferToResource(param_2);
    param_2[6] = 0;
    param_2[3] = param_2[3] & 0xffffeeff;
    *param_2 = 0;
    param_2[2] = 0;
  }
  return;
}



int FUN_004b1c50(undefined4 param_1,char *param_2,undefined4 *param_3)

{
  short sVar1;
  uint uVar2;
  undefined4 uVar3;
  int *piVar4;
  short *psVar5;
  int iVar6;
  char cVar7;
  undefined *puVar8;
  undefined *puVar9;
  char *pcVar10;
  int iVar11;
  ulonglong uVar12;
  longlong lVar13;
  uint local_24c;
  short *local_248;
  int local_244;
  int local_240;
  undefined local_23a;
  char local_239;
  int local_238;
  int local_234;
  int local_230;
  int local_22c;
  int local_228;
  int local_224;
  int local_220;
  undefined4 local_21c;
  undefined4 local_218;
  undefined local_214 [4];
  undefined4 local_210;
  undefined4 local_20c;
  int local_204;
  undefined local_200 [511];
  undefined local_1;
  
  local_220 = 0;
  puVar9 = (undefined *)0x0;
  local_240 = 0;
  cVar7 = *param_2;
  param_2 = param_2 + 1;
  local_21c = CONCAT31(local_21c._1_3_,cVar7);
  do {
    if ((cVar7 == '\0') || (local_240 < 0)) {
      return local_240;
    }
    if ((cVar7 < ' ') || ('x' < cVar7)) {
      uVar2 = 0;
    }
    else {
      uVar2 = (byte)"?IsProcessorFeaturePresent"[cVar7 + 0x19] & 0xf;
    }
    local_220 = (int)(char)(&DAT_004c1d70)[uVar2 * 8 + local_220] >> 4;
    switch(local_220) {
    case 0:
switchD_004b1ccd_caseD_0:
      local_230 = 0;
      if ((PTR_DAT_004d3d40[(local_21c & 0xff) * 2 + 1] & 0x80) != 0) {
        FUN_004b25e0((int)cVar7,param_1,&local_240);
        cVar7 = *param_2;
        param_2 = param_2 + 1;
      }
      FUN_004b25e0((int)cVar7,param_1,&local_240);
      break;
    case 1:
      local_218 = 0;
      local_228 = 0;
      local_234 = 0;
      local_238 = 0;
      local_24c = 0;
      local_244 = -1;
      local_230 = 0;
      break;
    case 2:
      switch(cVar7) {
      case ' ':
        local_24c = local_24c | 2;
        break;
      case '#':
        local_24c = local_24c | 0x80;
        break;
      case '+':
        local_24c = local_24c | 1;
        break;
      case '-':
        local_24c = local_24c | 4;
        break;
      case '0':
        local_24c = local_24c | 8;
      }
      break;
    case 3:
      if (cVar7 == '*') {
        local_234 = FUN_004b26b0(&param_3);
        if (local_234 < 0) {
          local_24c = local_24c | 4;
          local_234 = -local_234;
        }
      }
      else {
        local_234 = cVar7 + -0x30 + local_234 * 10;
      }
      break;
    case 4:
      local_244 = 0;
      break;
    case 5:
      if (cVar7 == '*') {
        local_244 = FUN_004b26b0(&param_3);
        if (local_244 < 0) {
          local_244 = -1;
        }
      }
      else {
        local_244 = cVar7 + -0x30 + local_244 * 10;
      }
      break;
    case 6:
      switch(cVar7) {
      case 'I':
        if ((*param_2 != '6') || (param_2[1] != '4')) {
          local_220 = 0;
          goto switchD_004b1ccd_caseD_0;
        }
        param_2 = param_2 + 2;
        local_24c = local_24c | 0x8000;
        break;
      case 'h':
        local_24c = local_24c | 0x20;
        break;
      case 'l':
        local_24c = local_24c | 0x10;
        break;
      case 'w':
        local_24c = local_24c | 0x800;
      }
      break;
    case 7:
      switch(cVar7) {
      case 'C':
        if ((local_24c & 0x830) == 0) {
          local_24c = local_24c | 0x800;
        }
      case 'c':
        if ((local_24c & 0x810) == 0) {
          local_200[0] = FUN_004b26b0(&param_3);
          puVar9 = (undefined *)0x1;
        }
        else {
          uVar3 = FUN_004b26f0(&param_3);
          puVar9 = (undefined *)FUN_004ba820(local_200,uVar3);
          if ((int)puVar9 < 0) {
            local_248 = (short *)local_200;
            local_228 = 1;
            break;
          }
        }
        local_248 = (short *)local_200;
        break;
      case 'E':
      case 'G':
        local_218 = 1;
        cVar7 = cVar7 + ' ';
      case 'e':
      case 'f':
      case 'g':
        local_248 = (short *)local_200;
        if (local_244 < 0) {
          local_244 = 6;
        }
        else if ((local_244 == 0) && (cVar7 == 'g')) {
          local_244 = 1;
        }
        local_210 = *param_3;
        local_20c = param_3[1];
        param_3 = param_3 + 2;
        (*(code *)PTR_FUN_004d3f78)(&local_210,local_200,(int)cVar7,local_244,local_218);
        if (((local_24c & 0x80) != 0) && (local_244 == 0)) {
          (*(code *)PTR_FUN_004d3f84)(local_200);
        }
        if ((cVar7 == 'g') && ((local_24c & 0x80) == 0)) {
          (*(code *)PTR_FUN_004d3f7c)(local_200);
        }
        uVar2 = local_24c | 0x40;
        if (local_200[0] == '-') {
          local_248 = (short *)(local_200 + 1);
          uVar2 = local_24c | 0x140;
        }
        local_24c = uVar2;
        uVar2 = 0xffffffff;
        psVar5 = local_248;
        do {
          if (uVar2 == 0) break;
          uVar2 = uVar2 - 1;
          cVar7 = *(char *)psVar5;
          psVar5 = (short *)((int)psVar5 + 1);
        } while (cVar7 != '\0');
        puVar9 = (undefined *)(~uVar2 - 1);
        break;
      case 'S':
        if ((local_24c & 0x830) == 0) {
          local_24c = local_24c | 0x800;
        }
      case 's':
        iVar11 = 0x7fffffff;
        if (local_244 != -1) {
          iVar11 = local_244;
        }
        local_248 = (short *)FUN_004b26b0(&param_3);
        if ((local_24c & 0x810) == 0) {
          psVar5 = local_248;
          if (local_248 == (short *)0x0) {
            psVar5 = (short *)PTR_DAT_004d4050;
            local_248 = (short *)PTR_DAT_004d4050;
          }
          for (; (iVar11 != 0 && (iVar11 = iVar11 + -1, *(char *)psVar5 != '\0'));
              psVar5 = (short *)((int)psVar5 + 1)) {
          }
          puVar9 = (undefined *)((int)psVar5 - (int)local_248);
        }
        else {
          if (local_248 == (short *)0x0) {
            local_248 = (short *)PTR_DAT_004d4054;
          }
          local_230 = 1;
          for (psVar5 = local_248; (iVar11 != 0 && (iVar11 = iVar11 + -1, *psVar5 != 0));
              psVar5 = psVar5 + 1) {
          }
          puVar9 = (undefined *)((int)psVar5 - (int)local_248 >> 1);
        }
        break;
      case 'X':
        goto switchD_004b1ee1_caseD_58;
      case 'Z':
        psVar5 = (short *)FUN_004b26b0(&param_3);
        if ((psVar5 == (short *)0x0) ||
           (local_248 = *(short **)(psVar5 + 2), local_248 == (short *)0x0)) {
          uVar2 = 0xffffffff;
          local_248 = (short *)PTR_DAT_004d4050;
          pcVar10 = PTR_DAT_004d4050;
          do {
            if (uVar2 == 0) break;
            uVar2 = uVar2 - 1;
            cVar7 = *pcVar10;
            pcVar10 = pcVar10 + 1;
          } while (cVar7 != '\0');
          puVar9 = (undefined *)(~uVar2 - 1);
        }
        else if ((local_24c & 0x800) == 0) {
          puVar9 = (undefined *)(int)*psVar5;
          local_230 = 0;
        }
        else {
          local_230 = 1;
          puVar9 = (undefined *)((uint)(int)*psVar5 >> 1);
        }
        break;
      case 'd':
      case 'i':
        local_22c = 10;
        local_24c = local_24c | 0x40;
        goto LAB_004b2217;
      case 'n':
        piVar4 = (int *)FUN_004b26b0(&param_3);
        if ((local_24c & 0x20) == 0) {
          local_228 = 1;
          *piVar4 = local_240;
        }
        else {
          local_228 = 1;
          *(undefined2 *)piVar4 = (undefined2)local_240;
        }
        break;
      case 'o':
        local_22c = 8;
        if ((local_24c & 0x80) != 0) {
          local_24c = local_24c | 0x200;
        }
        goto LAB_004b2217;
      case 'p':
        local_244 = 8;
switchD_004b1ee1_caseD_58:
        local_224 = 7;
LAB_004b21d2:
        local_22c = 0x10;
        if ((local_24c & 0x80) != 0) {
          local_23a = 0x30;
          local_239 = (char)local_224 + 'Q';
          local_238 = 2;
        }
        goto LAB_004b2217;
      case 'u':
        local_22c = 10;
LAB_004b2217:
        if ((local_24c & 0x8000) == 0) {
          if ((local_24c & 0x20) == 0) {
            if ((local_24c & 0x40) == 0) {
              uVar2 = FUN_004b26b0(&param_3);
              uVar12 = (ulonglong)uVar2;
            }
            else {
              iVar11 = FUN_004b26b0(&param_3);
              uVar12 = (ulonglong)iVar11;
            }
          }
          else if ((local_24c & 0x40) == 0) {
            uVar2 = FUN_004b26b0(&param_3);
            uVar12 = (ulonglong)(uVar2 & 0xffff);
          }
          else {
            sVar1 = FUN_004b26b0(&param_3);
            uVar12 = (ulonglong)(int)sVar1;
          }
        }
        else {
          uVar12 = FUN_004b26d0(&param_3);
        }
        if ((((local_24c & 0x40) != 0) && ((longlong)uVar12 < 0x100000000)) &&
           ((longlong)uVar12 < 0)) {
          uVar12 = CONCAT44(-((int)(uVar12 >> 0x20) + (uint)((int)uVar12 != 0)),-(int)uVar12);
          local_24c = local_24c | 0x100;
        }
        uVar2 = (uint)(uVar12 >> 0x20);
        if ((local_24c & 0x8000) == 0) {
          uVar2 = 0;
        }
        lVar13 = CONCAT44(uVar2,(uint)uVar12);
        if (local_244 < 0) {
          local_244 = 1;
        }
        else {
          local_24c = local_24c & 0xfffffff7;
        }
        if (((uint)uVar12 | uVar2) == 0) {
          local_238 = 0;
        }
        psVar5 = (short *)&local_1;
        iVar11 = local_244;
        while ((iVar6 = local_22c, local_244 = iVar11 + -1, 0 < iVar11 || (lVar13 != 0))) {
          local_204 = local_22c >> 0x1f;
          iVar11 = __aullrem(lVar13,local_22c,local_204);
          iVar11 = iVar11 + 0x30;
          lVar13 = __aulldiv(lVar13,iVar6,local_204);
          if (0x39 < iVar11) {
            iVar11 = iVar11 + local_224;
          }
          *(char *)psVar5 = (char)iVar11;
          psVar5 = (short *)((int)psVar5 + -1);
          iVar11 = local_244;
        }
        puVar9 = &local_1 + -(int)psVar5;
        local_248 = (short *)((int)psVar5 + 1);
        if (((local_24c & 0x200) != 0) &&
           ((*(char *)local_248 != '0' || (puVar9 == (undefined *)0x0)))) {
          puVar9 = &stack0x00000000 + -(int)psVar5;
          *(char *)psVar5 = '0';
          local_248 = psVar5;
        }
        break;
      case 'x':
        local_224 = 0x27;
        goto LAB_004b21d2;
      }
      if (local_228 == 0) {
        if ((local_24c & 0x40) != 0) {
          if ((local_24c & 0x100) == 0) {
            if ((local_24c & 1) == 0) {
              if ((local_24c & 2) == 0) goto LAB_004b23af;
              local_23a = 0x20;
            }
            else {
              local_23a = 0x2b;
            }
          }
          else {
            local_23a = 0x2d;
          }
          local_238 = 1;
        }
LAB_004b23af:
        iVar11 = (local_234 - (int)puVar9) - local_238;
        if ((local_24c & 0xc) == 0) {
          FUN_004b2630(0x20,iVar11,param_1,&local_240);
        }
        FUN_004b2670(&local_23a,local_238,param_1,&local_240);
        if (((local_24c & 8) != 0) && ((local_24c & 4) == 0)) {
          FUN_004b2630(0x30,iVar11,param_1,&local_240);
        }
        if ((local_230 == 0) || (psVar5 = local_248, puVar8 = puVar9, (int)puVar9 < 1)) {
          FUN_004b2670(local_248,puVar9,param_1,&local_240);
        }
        else {
          do {
            puVar8 = puVar8 + -1;
            iVar6 = FUN_004ba820(local_214,*psVar5);
            if (iVar6 < 1) break;
            FUN_004b2670(local_214,iVar6,param_1,&local_240);
            psVar5 = psVar5 + 1;
          } while (puVar8 != (undefined *)0x0);
        }
        if ((local_24c & 4) != 0) {
          FUN_004b2630(0x20,iVar11,param_1,&local_240);
        }
      }
    }
    cVar7 = *param_2;
    param_2 = param_2 + 1;
    local_21c = CONCAT31(local_21c._1_3_,cVar7);
  } while( true );
}



void FUN_004b25e0(uint param_1,int *param_2,int *param_3)

{
  int iVar1;
  
  iVar1 = param_2[1];
  param_2[1] = iVar1 + -1;
  if (iVar1 + -1 < 0) {
    param_1 = FUN_004b54a0(param_1,param_2);
  }
  else {
    *(char *)*param_2 = (char)param_1;
    param_1 = param_1 & 0xff;
    *param_2 = *param_2 + 1;
  }
  if (param_1 == 0xffffffff) {
    *param_3 = -1;
    return;
  }
  *param_3 = *param_3 + 1;
  return;
}



void FUN_004b2630(undefined4 param_1,int param_2,undefined4 param_3,int *param_4)

{
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      FUN_004b25e0(param_1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



void FUN_004b2670(char *param_1,int param_2,undefined4 param_3,int *param_4)

{
  char cVar1;
  
  if (0 < param_2) {
    do {
      param_2 = param_2 + -1;
      cVar1 = *param_1;
      param_1 = param_1 + 1;
      FUN_004b25e0((int)cVar1,param_3,param_4);
      if (*param_4 == -1) {
        return;
      }
    } while (0 < param_2);
  }
  return;
}



undefined4 FUN_004b26b0(int *param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)*param_1;
  *param_1 = (int)(puVar1 + 1);
  return *puVar1;
}



undefined8 FUN_004b26d0(int *param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)*param_1;
  *param_1 = (int)(puVar1 + 1);
  return *puVar1;
}



undefined4 FUN_004b26f0(undefined4 *param_1)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  
  puVar1 = (undefined2 *)*param_1;
  puVar2 = puVar1 + 2;
  *param_1 = puVar2;
  return CONCAT22((short)((uint)puVar2 >> 0x10),*puVar1);
}



// /*
//  * Function: PerformCustomFloatCalculation
//  * Description:
//  *   This function performs a complex calculation based on the global state. If the state value
// (`DAT_004d6c50`)
//  *   is `0`, it invokes `PerformComplexCalculation` to compute a floating-point value. If the
// state is non-zero,
//  *   it uses thread-local storage and floating-point unit control to return a calculated result.
//  * Parameters:
//  *   param_1 - The first parameter to the calculation function.
//  *   param_2 - The second parameter to the calculation function.
//  *   param_3_00 - An additional parameter used during the calculation.
//  *   param_3 - The final parameter to be used.
//  * Returns:
//  *   A 10-byte floating-point result of the computation.
//  */

float10 PerformCustomFloatCalculation
                  (undefined4 param_1,undefined4 param_2,undefined4 param_3_00,undefined4 param_3)

{
  undefined4 *puVar1;
  float10 fVar2;
  
  if (DAT_004d6c50 == 0) {
    fVar2 = (float10)PerformComplexCalculation
                               (1,param_1,param_2,param_3_00,0,0,param_2,param_3_00,param_3);
    return fVar2;
  }
  puVar1 = (undefined4 *)GetSpecificTlsOffset();
  *puVar1 = 0x21;
  GetFpuControlWord(param_3,0xffff);
  return (float10)(double)CONCAT44(param_3_00,param_2);
}



float10 FUN_004b2760(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                    undefined4 param_5,undefined4 param_6_00,undefined4 param_6)

{
  int iVar1;
  float10 fVar2;
  undefined local_58 [56];
  uint local_20;
  
  iVar1 = FUN_004b2b60(param_1,&param_5,param_6);
  if (iVar1 == 0) {
    local_20 = local_20 & 0xfffffffe;
    FUN_004b2820(local_58,&param_6,param_1,param_2,&param_3,&param_5);
  }
  iVar1 = FUN_004b2fa0(param_1);
  if ((DAT_004d6c50 == 0) && (iVar1 != 0)) {
    fVar2 = (float10)PerformComplexCalculation
                               (iVar1,param_2,param_3,param_4,0,0,param_5,param_6_00,param_6);
    return fVar2;
  }
  UpdateTlsValueBasedOnParam(iVar1);
  GetFpuControlWord(param_6,0xffff);
  return (float10)(double)CONCAT44(param_6_00,param_5);
}



void FUN_004b2820(uint *param_1,uint *param_2,byte param_3,uint param_4,uint *param_5,uint *param_6)

{
  uint *puVar1;
  uint *puVar2;
  byte bVar3;
  uint uVar4;
  uint *dwExceptionCode;
  
  puVar1 = param_2;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  dwExceptionCode = param_1;
  if ((param_3 & 0x10) != 0) {
    param_1[1] = param_1[1] | 1;
    dwExceptionCode = (uint *)0xc000008f;
  }
  if ((param_3 & 2) != 0) {
    dwExceptionCode = (uint *)0xc0000093;
    param_1[1] = param_1[1] | 2;
  }
  if ((param_3 & 1) != 0) {
    dwExceptionCode = (uint *)0xc0000091;
    param_1[1] = param_1[1] | 4;
  }
  if ((param_3 & 4) != 0) {
    dwExceptionCode = (uint *)0xc000008e;
    param_1[1] = param_1[1] | 8;
  }
  if ((param_3 & 8) != 0) {
    dwExceptionCode = (uint *)0xc0000090;
    param_1[1] = param_1[1] | 0x10;
  }
  param_1[2] = (~*param_2 & 1) << 4 | param_1[2] & 0xffffffef;
  param_1[2] = (~*param_2 & 4) << 1 | param_1[2] & 0xfffffff7;
  param_1[2] = ~*param_2 >> 1 & 4 | param_1[2] & 0xfffffffb;
  param_1[2] = ~*param_2 >> 3 & 2 | param_1[2] & 0xfffffffd;
  param_1[2] = ~*param_2 >> 5 & 1 | param_1[2] & 0xfffffffe;
  bVar3 = FUN_004b3190();
  puVar2 = param_6;
  if ((bVar3 & 1) != 0) {
    param_1[3] = param_1[3] | 0x10;
  }
  if ((bVar3 & 4) != 0) {
    param_1[3] = param_1[3] | 8;
  }
  if ((bVar3 & 8) != 0) {
    param_1[3] = param_1[3] | 4;
  }
  if ((bVar3 & 0x10) != 0) {
    param_1[3] = param_1[3] | 2;
  }
  if ((bVar3 & 0x20) != 0) {
    param_1[3] = param_1[3] | 1;
  }
  uVar4 = *puVar1 & 0xc00;
  if (uVar4 < 0x401) {
    if (uVar4 == 0x400) {
      *param_1 = *param_1 & 0xfffffffd | 1;
    }
    else if (uVar4 == 0) {
      *param_1 = *param_1 & 0xfffffffc;
    }
  }
  else if (uVar4 == 0x800) {
    *param_1 = *param_1 & 0xfffffffe | 2;
  }
  else if (uVar4 == 0xc00) {
    *param_1 = *param_1 | 3;
  }
  uVar4 = *puVar1 & 0x300;
  if (uVar4 == 0) {
    *param_1 = *param_1 & 0xffffffeb | 8;
  }
  else if (uVar4 == 0x200) {
    *param_1 = *param_1 & 0xffffffe7 | 4;
  }
  else if (uVar4 == 0x300) {
    *param_1 = *param_1 & 0xffffffe3;
  }
  *param_1 = *param_1 & 0xfffe001f | (param_4 & 0xfff) << 5;
  param_1[8] = param_1[8] | 1;
  param_1[8] = param_1[8] & 0xffffffe3 | 2;
  param_1[4] = *param_5;
  param_1[5] = param_5[1];
  param_1[0x14] = param_1[0x14] | 1;
  param_1[0x14] = param_1[0x14] & 0xffffffe3 | 2;
  param_1[0x10] = *param_6;
  param_1[0x11] = param_6[1];
  FUN_004b31a0();
  RaiseException((DWORD)dwExceptionCode,0,1,(ULONG_PTR *)&param_1);
  if ((*(byte *)(param_1 + 2) & 0x10) != 0) {
    *puVar1 = *puVar1 & 0xfffffffe;
  }
  if ((*(byte *)(param_1 + 2) & 8) != 0) {
    *puVar1 = *puVar1 & 0xfffffffb;
  }
  if ((*(byte *)(param_1 + 2) & 4) != 0) {
    *puVar1 = *puVar1 & 0xfffffff7;
  }
  if ((*(byte *)(param_1 + 2) & 2) != 0) {
    *puVar1 = *puVar1 & 0xffffffef;
  }
  if ((*(byte *)(param_1 + 2) & 1) != 0) {
    *puVar1 = *puVar1 & 0xffffffdf;
  }
  switch(*param_1 & 3) {
  case 0:
    uVar4 = *puVar1 & 0xfffff3ff;
    break;
  case 1:
    *puVar1 = *puVar1 & 0xfffff7ff | 0x400;
    goto switchD_004b2abb_caseD_4;
  case 2:
    uVar4 = *puVar1 & 0xfffffbff | 0x800;
    break;
  case 3:
    uVar4 = *puVar1 | 0xc00;
    break;
  default:
    goto switchD_004b2abb_caseD_4;
  }
  *puVar1 = uVar4;
switchD_004b2abb_caseD_4:
  uVar4 = *param_1 >> 2 & 7;
  if (uVar4 == 0) {
    *puVar1 = *puVar1 & 0xfffff3ff | 0x300;
  }
  else {
    if (uVar4 == 1) {
      *puVar1 = *puVar1 & 0xfffff3ff | 0x200;
      *puVar2 = param_1[0x10];
      puVar2[1] = param_1[0x11];
      return;
    }
    if (uVar4 == 2) {
      *puVar1 = *puVar1 & 0xfffff3ff;
      *puVar2 = param_1[0x10];
      puVar2[1] = param_1[0x11];
      return;
    }
  }
  *puVar2 = param_1[0x10];
  puVar2[1] = param_1[0x11];
  return;
}



bool FUN_004b2b60(uint param_1,double *param_2,uint param_3)

{
  ulonglong uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  uint uVar4;
  bool bVar5;
  float10 fVar6;
  int local_14;
  undefined8 local_10;
  
  uVar4 = param_1 & 0x1f;
  if (((param_1 & 8) == 0) || ((param_3 & 1) == 0)) {
    if (((param_1 & 4) == 0) || ((param_3 & 4) == 0)) {
      if (((param_1 & 1) == 0) || ((param_3 & 8) == 0)) {
        if (((param_1 & 2) != 0) && ((param_3 & 0x10) != 0)) {
          bVar5 = (param_1 & 0x10) != 0;
          local_10 = *param_2;
          if (local_10 == 0.0) {
            bVar5 = true;
          }
          else {
            fVar6 = (float10)FUN_004b3080(*(undefined4 *)param_2,*(undefined4 *)((int)param_2 + 4),
                                          &local_14);
            local_14 = local_14 + -0x600;
            if (local_14 < -0x432) {
              bVar5 = true;
              *(undefined4 *)param_2 = 0;
              local_10 = 0.0;
              *(undefined4 *)((int)param_2 + 4) = 0;
            }
            else {
              local_10 = (double)(ulonglong)
                                 (SUB87((double)fVar6,0) & 0xfffffffffffff | 0x10000000000000);
              if (local_14 < -0x3fd) {
                local_14 = -0x3fd - local_14;
                do {
                  if ((((ulonglong)local_10 & 1) != 0) && (!bVar5)) {
                    bVar5 = true;
                  }
                  uVar4 = (uint)local_10 >> 1;
                  uVar1 = (ulonglong)local_10 & 0x100000000;
                  local_10._0_4_ = uVar4;
                  if (uVar1 != 0) {
                    local_10._0_4_ = uVar4 | 0x80000000;
                  }
                  local_14 = local_14 + -1;
                  local_10 = (double)CONCAT44(local_10._4_4_ >> 1,(uint)local_10);
                } while (local_14 != 0);
              }
              if ((double)fVar6 < 0.0) {
                local_10 = -local_10;
              }
              *(uint *)param_2 = (uint)local_10;
              *(uint *)((int)param_2 + 4) = local_10._4_4_;
            }
          }
          if (bVar5) {
            FUN_004b31f0(0x10);
          }
          uVar4 = param_1 & 0x1d;
        }
      }
      else {
        FUN_004b31f0(8);
        uVar3 = DAT_004d4144;
        uVar2 = DAT_004d4134;
        uVar4 = param_3 & 0xc00;
        if (uVar4 < 0x401) {
          if (uVar4 == 0x400) {
            if (*param_2 <= 0.0) {
              local_10 = -(double)CONCAT44(DAT_004d4134,DAT_004d4130);
              *param_2 = local_10;
              uVar4 = param_1 & 0x1e;
            }
            else {
              *(undefined4 *)param_2 = DAT_004d4140;
              *(undefined4 *)((int)param_2 + 4) = uVar3;
              uVar4 = param_1 & 0x1e;
            }
            goto LAB_004b2e6b;
          }
          if (uVar4 == 0) {
            if (*param_2 <= 0.0) {
              local_10 = -(double)CONCAT44(DAT_004d4134,DAT_004d4130);
              *param_2 = local_10;
              uVar4 = param_1 & 0x1e;
            }
            else {
              *(undefined4 *)param_2 = DAT_004d4130;
              *(undefined4 *)((int)param_2 + 4) = uVar2;
              uVar4 = param_1 & 0x1e;
            }
            goto LAB_004b2e6b;
          }
        }
        else if (uVar4 == 0x800) {
          if (0.0 < *param_2) {
            *(undefined4 *)param_2 = DAT_004d4130;
            *(undefined4 *)((int)param_2 + 4) = uVar2;
            uVar4 = param_1 & 0x1e;
            goto LAB_004b2e6b;
          }
          local_10 = -(double)CONCAT44(DAT_004d4144,DAT_004d4140);
          *param_2 = local_10;
        }
        else if (uVar4 == 0xc00) {
          if (*param_2 <= 0.0) {
            local_10 = -(double)CONCAT44(DAT_004d4144,DAT_004d4140);
            *param_2 = local_10;
            uVar4 = param_1 & 0x1e;
          }
          else {
            *(undefined4 *)param_2 = DAT_004d4140;
            *(undefined4 *)((int)param_2 + 4) = uVar3;
            uVar4 = param_1 & 0x1e;
          }
          goto LAB_004b2e6b;
        }
        uVar4 = param_1 & 0x1e;
      }
    }
    else {
      FUN_004b31f0(4);
      uVar4 = param_1 & 0x1b;
    }
  }
  else {
    FUN_004b31f0(1);
    uVar4 = param_1 & 0x17;
  }
LAB_004b2e6b:
  if (((param_1 & 0x10) != 0) && ((param_3 & 0x20) != 0)) {
    FUN_004b31f0(0x20);
    uVar4 = uVar4 & 0xffffffef;
  }
  return uVar4 == 0;
}



// /*
//  * Function: PerformComplexCalculation
//  * Description:
//  *   This function takes several parameters and performs a complex calculation involving
// floating-point
//  *   unit operations, control word management, and TLS (Thread Local Storage) updates.
//  * Parameters:
//  *   param_1 to param_8 - Parameters used for the computation, including control values and data.
//  * Returns:
//  *   A 10-byte floating-point result of the computation.
//  */

float10 PerformComplexCalculation
                  (undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                  undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8_00,
                  undefined4 param_8)

{
  int iVar1;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 uStack_4;
  
  local_1c = FindDataBasedOnParam(param_2);
  if (local_1c != 0) {
    local_18 = param_3;
    local_c = param_6;
    local_14 = param_4;
    local_10 = param_5;
    local_20 = param_1;
    local_8 = param_7;
    uStack_4 = param_8_00;
    GetFpuControlWord(param_8,0xffff);
    iVar1 = ReturnZero(&local_20);
    if (iVar1 == 0) {
      UpdateTlsValueBasedOnParam(param_1);
    }
    return (float10)(double)CONCAT44(uStack_4,local_8);
  }
  GetFpuControlWord(param_8,0xffff);
  UpdateTlsValueBasedOnParam(param_1);
  return (float10)(double)CONCAT44(param_8_00,param_7);
}



// /*
//  * Function: UpdateTlsValueBasedOnParam (originally FUN_004b2f40)
//  * Description:
//  *   This function updates a specific value in the TLS (Thread Local Storage) for the current
// thread,
//  *   depending on the value of the input parameter.
//  * Parameters:
//  *   param_1 - Determines which value to store at the specific TLS offset.
//  *              If param_1 is 1, it stores 0x21.
//  *              If param_1 is 2 or 3, it stores 0x22.
//  */

void UpdateTlsValueBasedOnParam(int param_1)

{
  undefined4 *puVar1;
  
  if (param_1 == 1) {
    puVar1 = (undefined4 *)GetSpecificTlsOffset();
    *puVar1 = 0x21;
  }
  else if ((1 < param_1) && (param_1 < 4)) {
    puVar1 = (undefined4 *)GetSpecificTlsOffset();
    *puVar1 = 0x22;
    return;
  }
  return;
}



// /*
//  * Function: FindDataBasedOnParam
//  * Description:
//  *   Searches for a specific integer (`param_1`) in a global array of integers and returns a
// pointer
//  *   to a corresponding data entry.
//  * Parameters:
//  *   param_1 - The integer to search for in the global data.
//  * Returns:
//  *   A pointer to the associated data if found, otherwise a null pointer (`undefined *`).
//  */

undefined * FindDataBasedOnParam(int param_1)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = 0;
  piVar1 = &DAT_004d4058;
  do {
    if (*piVar1 == param_1) {
      return (&PTR_DAT_004d405c)[iVar2 * 2];
    }
    piVar1 = piVar1 + 2;
    iVar2 = iVar2 + 1;
  } while ((int)piVar1 < 0x4d4130);
  return (undefined *)0x0;
}



int FUN_004b2fa0(uint param_1)

{
  if ((param_1 & 0x20) != 0) {
    return 5;
  }
  if ((param_1 & 8) != 0) {
    return 1;
  }
  if ((param_1 & 4) != 0) {
    return 2;
  }
  if ((param_1 & 1) != 0) {
    return 3;
  }
  return (param_1 & 2) << 1;
}



float10 FUN_004b2fe0(undefined4 param_1,undefined4 param_2,short param_3)

{
  return (float10)(double)CONCAT26(param_2._2_2_ & 0x800f | (param_3 + 0x3fe) * 0x10,
                                   CONCAT24((undefined2)param_2,param_1));
}



undefined4 FUN_004b3020(int param_1,uint param_2)

{
  if ((param_2 == 0x7ff00000) && (param_1 == 0)) {
    return 1;
  }
  if ((param_2 == 0xfff00000) && (param_1 == 0)) {
    return 2;
  }
  if ((param_2._2_2_ & 0x7ff8) == 0x7ff8) {
    return 3;
  }
  if (((param_2._2_2_ & 0x7ff8) == 0x7ff0) && (((param_2 & 0x7ffff) != 0 || (param_1 != 0)))) {
    return 4;
  }
  return 0;
}



float10 FUN_004b3080(uint param_1,uint param_2,int *param_3)

{
  ushort uVar1;
  double dVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  float10 fVar6;
  
  if ((double)CONCAT17(param_2._3_1_,CONCAT16(param_2._2_1_,CONCAT24((undefined2)param_2,param_1)))
      == 0.0) {
    *param_3 = 0;
    return (float10)0.0;
  }
  if (((param_2 & 0x7ff00000) == 0) && (((param_2 & 0xfffff) != 0 || (param_1 != 0)))) {
    dVar2 = (double)CONCAT17(param_2._3_1_,
                             CONCAT16(param_2._2_1_,CONCAT24((undefined2)param_2,param_1)));
    iVar5 = -0x3fd;
    uVar4 = param_2;
    for (uVar3 = param_2 & 0x100000; uVar3 == 0; uVar3 = uVar3 & 0x100000) {
      uVar3 = uVar4 << 1;
      param_2._0_2_ = (undefined2)uVar3;
      param_2._2_1_ = (undefined)(uVar3 >> 0x10);
      param_2._3_1_ = (byte)(uVar3 >> 0x18);
      uVar4 = uVar3;
      if ((param_1 & 0x80000000) != 0) {
        uVar4 = uVar3 | 1;
        param_2._0_2_ = (undefined2)uVar4;
      }
      param_1 = param_1 << 1;
      iVar5 = iVar5 + -1;
    }
    uVar1 = CONCAT11(param_2._3_1_,param_2._2_1_) & 0xffef;
    param_2._2_1_ = (undefined)uVar1;
    param_2._3_1_ = (byte)(uVar1 >> 8);
    if (dVar2 < 0.0) {
      param_2._3_1_ = param_2._3_1_ | 0x80;
    }
    fVar6 = (float10)FUN_004b2fe0(param_1,CONCAT13(param_2._3_1_,
                                                   CONCAT12(param_2._2_1_,(undefined2)param_2)),0);
    *param_3 = iVar5;
    return (float10)(double)fVar6;
  }
  fVar6 = (float10)FUN_004b2fe0(param_1,param_2,0);
  *param_3 = (short)((ushort)(param_2 >> 0x14) & 0x7ff) + -0x3fe;
  return (float10)(double)fVar6;
}



int FUN_004b3190(void)

{
  short in_FPUStatusWord;
  
  return (int)in_FPUStatusWord;
}



int FUN_004b31a0(void)

{
  short in_FPUStatusWord;
  
  return (int)in_FPUStatusWord;
}



// /*
//  * Function: GetFpuControlWord
//  * Description:
//  *   Returns the current value of the FPU (Floating Point Unit) control word.
//  * Returns:
//  *   The value of the FPU control word.
//  */

int GetFpuControlWord(void)

{
  short in_FPUControlWord;
  
  return (int)in_FPUControlWord;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004b31f0(void)

{
  return;
}



// /*
//  * Function: InitializeHeapAndMemoryPool (originally FUN_004b3250)
//  * Description:
//  *   This function creates a heap using `HeapCreate` and then allocates an initial memory pool
// using
//  *   `AllocateMemoryPool`. If the heap creation or memory pool allocation fails, the function
// returns `0`
//  *   (failure). If both succeed, it returns `1` (success). If memory pool allocation fails after
// heap creation,
//  *   the heap is destroyed to clean up.
//  *
//  * Returns:
//  *   `1` if the heap and memory pool were successfully created, `0` otherwise.
//  */

undefined4 InitializeHeapAndMemoryPool(void)

{
  int iVar1;
  
  gHeapMemory = HeapCreate(0,0x1000,0);
  if (gHeapMemory == (HANDLE)0x0) {
    return 0;
  }
  iVar1 = AllocateMemoryPool();
  if (iVar1 == 0) {
    HeapDestroy(gHeapMemory);
    return 0;
  }
  return 1;
}



// /*
//  * Function: AllocateMemoryPool (originally FUN_004b3290)
//  * Description:
//  *   This function allocates a new memory pool or reuses an existing one. It attempts to allocate
//  *   a large block of memory using `VirtualAlloc` and initializes the memory management
// structure.
//  *   The function sets up a linked list for memory blocks and initializes metadata for managing
//  *   allocations within the pool. If allocation fails at any point, it cleans up and returns
// `nullptr`.
//  *
//  * Returns:
//  *   A pointer to the newly allocated memory pool, or `nullptr` if allocation fails.
//  */

undefined ** AllocateMemoryPool(void)

{
  bool bVar1;
  undefined4 *lpAddress;
  LPVOID pvVar2;
  int iVar3;
  undefined **ppuVar4;
  undefined **lpMem;
  undefined4 *puVar5;
  
  if (DAT_004d4188 == -1) {
    lpMem = &PTR_LOOP_004d4178;
  }
  else {
    lpMem = (undefined **)HeapAlloc(gHeapMemory,0,0x2020);
    if (lpMem == (undefined **)0x0) {
      return (undefined **)0x0;
    }
  }
  lpAddress = (undefined4 *)VirtualAlloc((LPVOID)0x0,0x400000,0x2000,4);
  if (lpAddress != (undefined4 *)0x0) {
    pvVar2 = VirtualAlloc(lpAddress,0x10000,0x1000,4);
    if (pvVar2 != (LPVOID)0x0) {
      if (lpMem == &PTR_LOOP_004d4178) {
        if (PTR_LOOP_004d4178 == (undefined *)0x0) {
          PTR_LOOP_004d4178 = (undefined *)&PTR_LOOP_004d4178;
        }
        if (PTR_LOOP_004d417c == (undefined *)0x0) {
          PTR_LOOP_004d417c = (undefined *)&PTR_LOOP_004d4178;
        }
      }
      else {
        *lpMem = (undefined *)&PTR_LOOP_004d4178;
        lpMem[1] = PTR_LOOP_004d417c;
        PTR_LOOP_004d417c = (undefined *)lpMem;
        *(undefined ***)lpMem[1] = lpMem;
      }
      lpMem[5] = (undefined *)(lpAddress + 0x100000);
      lpMem[4] = (undefined *)lpAddress;
      lpMem[2] = (undefined *)(lpMem + 6);
      lpMem[3] = (undefined *)(lpMem + 0x26);
      iVar3 = 0;
      ppuVar4 = lpMem + 6;
      do {
        bVar1 = 0xf < iVar3;
        iVar3 = iVar3 + 1;
        *ppuVar4 = (undefined *)((bVar1 - 1 & 0xf1) - 1);
        ppuVar4[1] = (undefined *)0xf1;
        ppuVar4 = ppuVar4 + 2;
      } while (iVar3 < 0x400);
      puVar5 = lpAddress;
      for (iVar3 = 0x4000; iVar3 != 0; iVar3 = iVar3 + -1) {
        *puVar5 = 0;
        puVar5 = puVar5 + 1;
      }
      if (lpAddress < lpMem[4] + 0x10000) {
        do {
          lpAddress[1] = 0xf0;
          *lpAddress = lpAddress + 2;
          *(undefined *)(lpAddress + 0x3e) = 0xff;
          lpAddress = lpAddress + 0x400;
        } while (lpAddress < lpMem[4] + 0x10000);
      }
      return lpMem;
    }
    VirtualFree(lpAddress,0,0x8000);
  }
  if (lpMem != &PTR_LOOP_004d4178) {
    HeapFree(gHeapMemory,0,lpMem);
  }
  return (undefined **)0x0;
}



// /*
//  * Function: FreeMemoryPool (originally FUN_004b3400)
//  * Description:
//  *   This function frees a memory pool by releasing its allocated memory using `VirtualFree` and
//  *   removing it from a linked list of memory pools. If the pool being freed is the current
// memory pool,
//  *   it updates the pool pointer. If the pool is not the head of the list, it adjusts the linked
// list pointers
//  *   and frees the pool's control structure. Otherwise, it marks the list as empty by setting a
// global flag.
//  */

void FreeMemoryPool(undefined **param_1)

{
  VirtualFree(param_1[4],0,0x8000);
  if ((undefined **)PTR_LOOP_004d6198 == param_1) {
    PTR_LOOP_004d6198 = param_1[1];
  }
  if (param_1 != &PTR_LOOP_004d4178) {
    *(undefined **)param_1[1] = *param_1;
    *(undefined **)(*param_1 + 4) = param_1[1];
    HeapFree(gHeapMemory,0,param_1);
    return;
  }
  DAT_004d4188 = 0xffffffff;
  return;
}



// /*
//  * Function: FreeMemoryBlocks (originally FUN_004b3460)
//  * Description:
//  *   This function frees individual memory blocks in a custom memory pool system. It iterates
// through memory pools,
//  *   releasing memory blocks marked as fully free (`0xf0`) using `VirtualFree`. It updates
// internal tracking structures
//  *   and, if all blocks in a pool are free, it calls `FreeMemoryPool` to release the entire pool.
// The function processes
//  *   up to `param_1` blocks before terminating.
//  */

void FreeMemoryBlocks(int param_1)

{
  BOOL BVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined *puVar5;
  undefined *puVar6;
  
  puVar5 = PTR_LOOP_004d417c;
  do {
    puVar6 = puVar5;
    if (*(int *)(puVar5 + 0x10) != -1) {
      iVar4 = 0;
      piVar2 = (int *)(puVar5 + 0x2010);
      iVar3 = 0x3ff000;
      do {
        if (*piVar2 == 0xf0) {
          BVar1 = VirtualFree((LPVOID)(*(int *)(puVar5 + 0x10) + iVar3),0x1000,0x4000);
          if (BVar1 != 0) {
            *piVar2 = -1;
            DAT_005a1308 = DAT_005a1308 + -1;
            if ((*(int **)(puVar5 + 0xc) == (int *)0x0) || (piVar2 < *(int **)(puVar5 + 0xc))) {
              *(int **)(puVar5 + 0xc) = piVar2;
            }
            iVar4 = iVar4 + 1;
            param_1 = param_1 + -1;
            if (param_1 == 0) break;
          }
        }
        iVar3 = iVar3 + -0x1000;
        piVar2 = piVar2 + -2;
      } while (-1 < iVar3);
      puVar6 = *(undefined **)(puVar5 + 4);
      if ((iVar4 != 0) && (*(int *)(puVar5 + 0x18) == -1)) {
        iVar3 = 1;
        piVar2 = (int *)(puVar5 + 0x20);
        do {
          if (*piVar2 != -1) break;
          iVar3 = iVar3 + 1;
          piVar2 = piVar2 + 2;
        } while (iVar3 < 0x400);
        if (iVar3 == 0x400) {
          FreeMemoryPool(puVar5);
        }
      }
    }
    if ((puVar6 == PTR_LOOP_004d417c) || (puVar5 = puVar6, param_1 < 1)) {
      return;
    }
  } while( true );
}



// /*
//  * Function: ValidateMemoryBlock (originally FUN_004b3530)
//  * Description:
//  *   This function validates a memory block address (`param_1`) by checking if it falls within a
// valid memory
//  *   region and is aligned to specific constraints. If valid, it stores the corresponding memory
// pool pointer in `param_2`
//  *   and calculates the block's base address, storing it in `param_3`. The function returns an
// index or offset related
//  *   to the block.
//  */

int ValidateMemoryBlock(undefined *param_1,int **param_2,uint *param_3)

{
  undefined **ppuVar1;
  uint uVar2;
  
  ppuVar1 = &PTR_LOOP_004d4178;
  while ((param_1 < ppuVar1[4] || param_1 == ppuVar1[4] || (ppuVar1[5] <= param_1))) {
    ppuVar1 = (undefined **)*ppuVar1;
    if (ppuVar1 == &PTR_LOOP_004d4178) {
      return 0;
    }
  }
  if (((uint)param_1 & 0xf) != 0) {
    return 0;
  }
  if (((uint)param_1 & 0xfff) < 0x100) {
    return 0;
  }
  *param_2 = (int *)ppuVar1;
  uVar2 = (uint)param_1 & 0xfffff000;
  *param_3 = uVar2;
  return ((int)(param_1 + (-0x100 - uVar2)) >> 4) + 8 + uVar2;
}



// /*
//  * Function: UpdateMemoryBlockMetadata (originally FUN_004b3590)
//  * Description:
//  *   This function updates the metadata for a memory block in a custom memory pool system after a
// partial release.
//  *   It adjusts the block size in the pool's metadata, marks the block as available, and resets
// the block's status.
//  *   If the block becomes fully free (`0xf0`), it increments a global free block counter
// (`DAT_005a1308`). Once the
//  *   counter reaches a threshold (e.g., `0x20`), the function triggers the `FreeMemoryBlocks`
// function to free
//  *   additional blocks.
//  */

void UpdateMemoryBlockMetadata(int param_1,int param_2,byte *param_3)

{
  int *piVar1;
  int iVar2;
  
  iVar2 = param_2 - *(int *)(param_1 + 0x10) >> 0xc;
  piVar1 = (int *)(param_1 + 0x18 + iVar2 * 8);
  *piVar1 = *(int *)(param_1 + 0x18 + iVar2 * 8) + (uint)*param_3;
  *param_3 = 0;
  piVar1[1] = 0xf1;
  if ((*piVar1 == 0xf0) && (DAT_005a1308 = DAT_005a1308 + 1, DAT_005a1308 == 0x20)) {
    FreeMemoryBlocks(0x10);
  }
  return;
}



// /*
//  * Function: AllocateCustomMemoryBlock (originally FUN_004b35f0)
//  * Description:
//  *   This function allocates a memory block of the requested size (`param_1`) from a custom
// memory pool.
//  *   It searches through available memory blocks, and if none are found, it tries to allocate new
// memory
//  *   using `VirtualAlloc`. If successful, it adjusts memory metadata and returns a pointer to the
// allocated memory.
//  */
// 

int * AllocateCustomMemoryBlock(uint param_1)

{
  undefined **ppuVar1;
  undefined **ppuVar2;
  int *piVar3;
  int *piVar4;
  undefined *puVar5;
  undefined **ppuVar6;
  undefined **ppuVar7;
  int iVar8;
  int *piVar9;
  bool bVar10;
  int *local_4;
  
  local_4 = (int *)PTR_LOOP_004d6198;
  do {
    if (local_4[4] != -1) {
      piVar9 = (int *)local_4[2];
      iVar8 = ((int)piVar9 + (-0x18 - (int)local_4) >> 3) * 0x1000 + local_4[4];
      for (; piVar9 < local_4 + 0x806; piVar9 = piVar9 + 2) {
        if (((int)param_1 <= *piVar9) && (param_1 <= (uint)piVar9[1] && piVar9[1] != param_1)) {
          piVar3 = (int *)AllocateMemoryBlock(iVar8,*piVar9,param_1);
          if (piVar3 != (int *)0x0) {
            PTR_LOOP_004d6198 = (undefined *)local_4;
            *piVar9 = *piVar9 - param_1;
            local_4[2] = (int)piVar9;
            return piVar3;
          }
          piVar9[1] = param_1;
        }
        iVar8 = iVar8 + 0x1000;
      }
      piVar3 = (int *)local_4[2];
      iVar8 = local_4[4];
      for (piVar9 = local_4 + 6; piVar9 < piVar3; piVar9 = piVar9 + 2) {
        if (((int)param_1 <= *piVar9) && (param_1 <= (uint)piVar9[1] && piVar9[1] != param_1)) {
          piVar4 = (int *)AllocateMemoryBlock(iVar8,*piVar9,param_1);
          if (piVar4 != (int *)0x0) {
            PTR_LOOP_004d6198 = (undefined *)local_4;
            *piVar9 = *piVar9 - param_1;
            local_4[2] = (int)piVar9;
            return piVar4;
          }
          piVar9[1] = param_1;
        }
        iVar8 = iVar8 + 0x1000;
      }
    }
    local_4 = (int *)*local_4;
  } while (local_4 != (int *)PTR_LOOP_004d6198);
  ppuVar7 = &PTR_LOOP_004d4178;
  while ((ppuVar7[4] == (undefined *)0xffffffff || (ppuVar7[3] == (undefined *)0x0))) {
    ppuVar7 = (undefined **)*ppuVar7;
    if (ppuVar7 == &PTR_LOOP_004d4178) {
      puVar5 = (undefined *)AllocateMemoryPool();
      if (puVar5 == (undefined *)0x0) {
        return (int *)0x0;
      }
      piVar9 = *(int **)(puVar5 + 0x10);
      *(char *)(piVar9 + 2) = (char)param_1;
      PTR_LOOP_004d6198 = puVar5;
      *piVar9 = (int)piVar9 + param_1 + 8;
      piVar9[1] = 0xf0 - param_1;
      *(uint *)(puVar5 + 0x18) = *(int *)(puVar5 + 0x18) - (param_1 & 0xff);
      return piVar9 + 0x40;
    }
  }
  ppuVar2 = (undefined **)ppuVar7[3];
  puVar5 = *ppuVar2;
  piVar9 = (int *)(ppuVar7[4] + ((int)ppuVar2 + (-0x18 - (int)ppuVar7) >> 3) * 0x1000);
  ppuVar6 = ppuVar2;
  for (iVar8 = 0; (puVar5 == (undefined *)0xffffffff && (iVar8 < 0x10)); iVar8 = iVar8 + 1) {
    puVar5 = ppuVar6[2];
    ppuVar6 = ppuVar6 + 2;
  }
  piVar3 = (int *)VirtualAlloc(piVar9,iVar8 << 0xc,0x1000,4);
  if (piVar3 != piVar9) {
    return (int *)0x0;
  }
  ppuVar6 = ppuVar2;
  if (0 < iVar8) {
    piVar3 = piVar9 + 1;
    do {
      *piVar3 = 0xf0;
      piVar3[-1] = (int)(piVar3 + 1);
      *(undefined *)(piVar3 + 0x3d) = 0xff;
      *ppuVar6 = (undefined *)0xf0;
      ppuVar6[1] = (undefined *)0xf1;
      piVar3 = piVar3 + 0x400;
      ppuVar6 = ppuVar6 + 2;
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
  }
  ppuVar1 = ppuVar7 + 0x806;
  bVar10 = ppuVar6 < ppuVar1;
  if (bVar10) {
    do {
      if (*ppuVar6 == (undefined *)0xffffffff) break;
      ppuVar6 = ppuVar6 + 2;
    } while (ppuVar6 < ppuVar1);
    bVar10 = ppuVar6 < ppuVar1;
  }
  PTR_LOOP_004d6198 = (undefined *)ppuVar7;
  ppuVar7[3] = (undefined *)(-(uint)bVar10 & (uint)ppuVar6);
  *(char *)(piVar9 + 2) = (char)param_1;
  ppuVar7[2] = (undefined *)ppuVar2;
  *ppuVar2 = *ppuVar2 + -param_1;
  piVar9[1] = piVar9[1] - param_1;
  *piVar9 = (int)piVar9 + param_1 + 8;
  return piVar9 + 0x40;
}



// /*
//  * Function: AllocateMemoryBlock (originally FUN_004b3830)
//  * Description:
//  *   This function allocates a block of memory of the requested size (`param_3`) from a custom
// memory pool (`param_1`).
//  *   It searches for available free blocks within the pool and marks the allocated memory block
// as used.
//  *   If no suitable block is found, the function returns `0`.
//  */

int AllocateMemoryBlock(int **param_1,int *param_2,int *param_3)

{
  char cVar1;
  int **ppiVar2;
  int **ppiVar3;
  int **ppiVar4;
  int *piVar5;
  int **ppiVar6;
  
  ppiVar2 = (int **)*param_1;
  if (param_3 <= param_1[1]) {
    *(char *)ppiVar2 = (char)param_3;
    if ((int **)((int)ppiVar2 + (int)param_3) < param_1 + 0x3e) {
      *param_1 = (int *)((int)*param_1 + (int)param_3);
      param_1[1] = (int *)((int)param_1[1] - (int)param_3);
    }
    else {
      param_1[1] = (int *)0x0;
      *param_1 = (int *)(param_1 + 2);
    }
    return (int)(ppiVar2 + 2) * 0x10 + (int)param_1 * -0xf;
  }
  ppiVar3 = (int **)((int)param_1[1] + (int)ppiVar2);
  ppiVar6 = ppiVar2;
  if (*(char *)ppiVar3 != '\0') {
    ppiVar6 = ppiVar3;
  }
  if ((int **)((int)ppiVar6 + (int)param_3) < param_1 + 0x3e) {
    do {
      if (*(byte *)ppiVar6 == 0) {
        ppiVar3 = (int **)((int)ppiVar6 + 1);
        piVar5 = (int *)0x1;
        cVar1 = *(char *)((int)ppiVar6 + 1);
        while (cVar1 == '\0') {
          ppiVar3 = (int **)((int)ppiVar3 + 1);
          piVar5 = (int *)((int)piVar5 + 1);
          cVar1 = *(char *)ppiVar3;
        }
        if (param_3 <= piVar5) {
          if (param_1 + 0x3e <= (int **)((int)ppiVar6 + (int)param_3)) {
            *param_1 = (int *)(param_1 + 2);
            goto LAB_004b397f;
          }
          *param_1 = (int *)(int **)((int)ppiVar6 + (int)param_3);
          param_1[1] = (int *)((int)piVar5 - (int)param_3);
          goto LAB_004b3986;
        }
        if (ppiVar6 == ppiVar2) {
          param_1[1] = piVar5;
        }
        else {
          param_2 = (int *)((int)param_2 - (int)piVar5);
          if (param_2 < param_3) {
            return 0;
          }
        }
      }
      else {
        ppiVar3 = (int **)((int)ppiVar6 + (uint)*(byte *)ppiVar6);
      }
      ppiVar6 = ppiVar3;
    } while ((int **)((int)ppiVar3 + (int)param_3) < param_1 + 0x3e);
  }
  ppiVar3 = param_1 + 2;
  ppiVar6 = ppiVar3;
  if (ppiVar3 < ppiVar2) {
    while ((int **)((int)ppiVar6 + (int)param_3) < param_1 + 0x3e) {
      if (*(byte *)ppiVar6 == 0) {
        ppiVar4 = (int **)((int)ppiVar6 + 1);
        piVar5 = (int *)0x1;
        cVar1 = *(char *)((int)ppiVar6 + 1);
        while (cVar1 == '\0') {
          ppiVar4 = (int **)((int)ppiVar4 + 1);
          piVar5 = (int *)((int)piVar5 + 1);
          cVar1 = *(char *)ppiVar4;
        }
        if (param_3 <= piVar5) {
          if ((int **)((int)ppiVar6 + (int)param_3) < param_1 + 0x3e) {
            *param_1 = (int *)(int **)((int)ppiVar6 + (int)param_3);
            param_1[1] = (int *)((int)piVar5 - (int)param_3);
          }
          else {
            *param_1 = (int *)ppiVar3;
LAB_004b397f:
            param_1[1] = (int *)0x0;
          }
LAB_004b3986:
          *(char *)ppiVar6 = (char)param_3;
          return (int)(ppiVar6 + 2) * 0x10 + (int)param_1 * -0xf;
        }
        param_2 = (int *)((int)param_2 - (int)piVar5);
        if (param_2 < param_3) {
          return 0;
        }
      }
      else {
        ppiVar4 = (int **)((int)ppiVar6 + (uint)*(byte *)ppiVar6);
      }
      ppiVar6 = ppiVar4;
      if (ppiVar2 <= ppiVar4) {
        return 0;
      }
    }
  }
  return 0;
}



undefined4 FUN_004b39b0(int param_1,int **param_2,int **param_3,uint param_4)

{
  int **ppiVar1;
  int iVar2;
  int *piVar3;
  char cVar4;
  undefined4 uVar5;
  int *piVar6;
  uint uVar7;
  int **ppiVar8;
  
  uVar5 = 0;
  piVar3 = (int *)(param_1 + 0x18 + ((int)param_2 - *(int *)(param_1 + 0x10) >> 0xc) * 8);
  uVar7 = (uint)*(byte *)param_3;
  if (uVar7 <= param_4) {
    if ((uVar7 < param_4) && (ppiVar1 = (int **)(param_4 + (int)param_3), ppiVar1 <= param_2 + 0x3e)
       ) {
      for (ppiVar8 = (int **)(uVar7 + (int)param_3);
          (ppiVar8 < ppiVar1 && (*(char *)ppiVar8 == '\0')); ppiVar8 = (int **)((int)ppiVar8 + 1)) {
      }
      if (ppiVar8 == ppiVar1) {
        *(char *)param_3 = (char)param_4;
        if ((param_3 <= *param_2) && (*param_2 < ppiVar1)) {
          if (ppiVar1 < param_2 + 0x3e) {
            *param_2 = (int *)ppiVar1;
            piVar6 = (int *)0x0;
            cVar4 = *(char *)ppiVar1;
            while (cVar4 == '\0') {
              iVar2 = (int)piVar6 + 1;
              piVar6 = (int *)((int)piVar6 + 1);
              cVar4 = *(char *)(iVar2 + (int)ppiVar1);
            }
            param_2[1] = piVar6;
          }
          else {
            param_2[1] = (int *)0x0;
            *param_2 = (int *)(param_2 + 2);
          }
        }
        *piVar3 = *piVar3 + (uVar7 - param_4);
        uVar5 = 1;
      }
    }
    return uVar5;
  }
  *(char *)param_3 = (char)param_4;
  piVar3[1] = 0xf1;
  *piVar3 = *piVar3 + (uVar7 - param_4);
  return 1;
}



// Library Function - Single Match
//  __trandisp1
// 
// Library: Visual Studio

void __fastcall __trandisp1(undefined4 param_1,int param_2)

{
  float10 fVar1;
  byte bVar2;
  undefined2 uVar3;
  int unaff_EBP;
  float10 in_ST0;
  
  if (*(char *)(param_2 + 0xe) == '\x05') {
    uVar3 = (undefined2)
            CONCAT31((uint3)((byte)((ushort)*(undefined2 *)(unaff_EBP + -0xa4) >> 8) & 0xfe | 2),
                     0x3f);
  }
  else {
    uVar3 = 0x133f;
  }
  *(undefined2 *)(unaff_EBP + -0xa2) = uVar3;
  fVar1 = (float10)0;
  *(int *)(unaff_EBP + -0x94) = param_2;
  *(ushort *)(unaff_EBP + -0xa0) =
       (ushort)(in_ST0 < fVar1) << 9 | (ushort)(in_ST0 != fVar1) << 10 |
       (ushort)(in_ST0 == fVar1) << 0xe;
  *(undefined *)(unaff_EBP + -0x90) = 0;
  bVar2 = (char)(*(char *)(unaff_EBP + -0x9f) << 1) >> 1;
                    // WARNING: Could not recover jumptable at 0x004b3ae5. Too many branches
                    // WARNING: Treating indirect jump as call
  (**(code **)(param_2 + (char)(&DAT_004d61bc)[(byte)((bVar2 & 7) << 1 | (char)bVar2 < '\0')] + 0x10
              ))();
  return;
}



// Library Function - Single Match
//  __trandisp2
// 
// Libraries: Visual Studio 1998, Visual Studio 2003, Visual Studio 2005, Visual Studio 2008

void __fastcall __trandisp2(undefined4 param_1,int param_2)

{
  float10 fVar1;
  char cVar2;
  byte bVar3;
  undefined2 uVar4;
  int unaff_EBP;
  float10 in_ST0;
  float10 in_ST1;
  
  if (*(char *)(param_2 + 0xe) == '\x05') {
    uVar4 = (undefined2)
            CONCAT31((uint3)((byte)((ushort)*(undefined2 *)(unaff_EBP + -0xa4) >> 8) & 0xfe | 2),
                     0x3f);
  }
  else {
    uVar4 = 0x133f;
  }
  *(undefined2 *)(unaff_EBP + -0xa2) = uVar4;
  fVar1 = (float10)0;
  *(int *)(unaff_EBP + -0x94) = param_2;
  *(ushort *)(unaff_EBP + -0xa0) =
       (ushort)(in_ST0 < fVar1) << 9 | (ushort)(in_ST0 != fVar1) << 10 |
       (ushort)(in_ST0 == fVar1) << 0xe;
  *(undefined *)(unaff_EBP + -0x90) = 0;
  fVar1 = (float10)0;
  *(ushort *)(unaff_EBP + -0xa0) =
       (ushort)(in_ST1 < fVar1) << 9 | (ushort)(in_ST1 != fVar1) << 10 |
       (ushort)(in_ST1 == fVar1) << 0xe;
  bVar3 = (char)(*(char *)(unaff_EBP + -0x9f) << 1) >> 1;
  cVar2 = (char)(*(char *)(unaff_EBP + -0x9f) << 1) >> 1;
                    // WARNING: Could not recover jumptable at 0x004b3b71. Too many branches
                    // WARNING: Treating indirect jump as call
  (**(code **)(param_2 + (char)((&DAT_004d61bc)[(byte)(cVar2 << 1 | cVar2 < '\0') & 0xf] |
                               (&DAT_004d61bc)[(byte)((bVar3 & 7) << 1 | (char)bVar3 < '\0')] << 2)
              + 0x10))();
  return;
}



float10 FUN_004b3b86(void)

{
  return (float10)0;
}



void FUN_004b3c43(void)

{
  return;
}



float10 __fastcall
FUN_004b3c50(undefined4 param_1_00,undefined4 param_2_00,undefined2 param_1,undefined4 param_2,
            undefined4 param_3,undefined4 param_4,undefined4 param_5,undefined4 param_6)

{
  float10 in_ST0;
  undefined local_24 [8];
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 local_14;
  undefined4 local_10;
  double dStack_c;
  
  local_14 = param_5;
  local_10 = param_6;
  dStack_c = (double)in_ST0;
  uStack_1c = param_3;
  uStack_18 = param_4;
  FUN_004ba920(param_2_00,local_24,&param_1);
  return (float10)dStack_c;
}



// Library Function - Single Match
//  __startOneArgErrorHandling
// 
// Library: Visual Studio

float10 __fastcall
__startOneArgErrorHandling
          (undefined4 param_1_00,undefined4 param_2_00,undefined2 param_1,undefined4 param_2,
          undefined4 param_3,undefined4 param_4)

{
  float10 in_ST0;
  undefined local_24 [8];
  undefined4 local_1c;
  undefined4 local_18;
  double local_c;
  
  local_c = (double)in_ST0;
  local_1c = param_3;
  local_18 = param_4;
  FUN_004ba920(param_2_00,local_24,&param_1);
  return (float10)local_c;
}



void FUN_004b3cc5(void)

{
  return;
}



// Library Function - Single Match
//  __convertTOStoQNaN
// 
// Library: Visual Studio

undefined4 __convertTOStoQNaN(void)

{
  uint in_EAX;
  
  if ((in_EAX & 0x80000) != 0) {
    return 7;
  }
  return 1;
}



// Library Function - Single Match
//  __fload_withFB
// 
// Library: Visual Studio

uint __fastcall __fload_withFB(undefined4 param_1,int param_2)

{
  uint uVar1;
  
  uVar1 = *(uint *)(param_2 + 4) & 0x7ff00000;
  if (uVar1 != 0x7ff00000) {
    return uVar1;
  }
  return *(uint *)(param_2 + 4);
}



uint FUN_004b3d38(undefined4 param_1,uint param_2)

{
  if ((param_2 & 0x7ff00000) != 0x7ff00000) {
    return param_2 & 0x7ff00000;
  }
  return param_2;
}



// Library Function - Single Match
//  __math_exit
// 
// Library: Visual Studio

void __math_exit(void)

{
  ushort in_FPUStatusWord;
  ushort unaff_retaddr;
  
  if (((unaff_retaddr != 0x27f) && ((unaff_retaddr & 0x20) != 0)) &&
     ((in_FPUStatusWord & 0x20) != 0)) {
    __startOneArgErrorHandling();
    return;
  }
  return;
}



// /*
//  * Function: InvokeCallbackIfExists (originally FUN_004b3e40)
//  * Description:
//  *   This function checks if a callback function (`DAT_005a1310`) is defined. If the callback
// exists,
//  *   it invokes the callback with the given parameter (`param_1`). If the callback function
// returns
//  *   a non-zero result, this function returns `1`. If the callback is not set or returns `0`, it
// returns `0`.
//  */

undefined4 InvokeCallbackIfExists(undefined4 param_1)

{
  int iVar1;
  
  if (DAT_005a1310 != (code *)0x0) {
    iVar1 = (*DAT_005a1310)(param_1);
    if (iVar1 != 0) {
      return 1;
    }
  }
  return 0;
}



// Library Function - Single Match
//  __allmul
// 
// Library: Visual Studio

longlong __allmul(uint param_1,uint param_2,uint param_3,uint param_4)

{
  if ((param_4 | param_2) == 0) {
    return (ulonglong)param_1 * (ulonglong)param_3;
  }
  return CONCAT44((int)((ulonglong)param_1 * (ulonglong)param_3 >> 0x20) +
                  param_2 * param_3 + param_1 * param_4,
                  (int)((ulonglong)param_1 * (ulonglong)param_3));
}



void FUN_004b3ea0(uint *param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint local_14;
  uint local_10;
  undefined local_c [12];
  
  iVar1 = param_2;
  uVar4 = 0;
  uVar2 = FUN_004baa40(local_c,&param_2,param_2,0,0,0,0);
  if ((uVar2 & 4) == 0) {
    iVar3 = FUN_004ba110(local_c,&local_14);
    if (((uVar2 & 2) != 0) || (iVar3 == 1)) {
      uVar4 = 0x80;
    }
    if (((uVar2 & 1) != 0) || (iVar3 == 2)) {
      uVar4 = uVar4 | 0x100;
    }
  }
  else {
    uVar4 = 0x200;
    local_14 = 0;
    local_10 = 0;
  }
  *param_1 = uVar4;
  param_1[1] = param_2 - iVar1;
  param_1[4] = local_14;
  param_1[5] = local_10;
  return;
}



void FUN_004b3f40(undefined4 *param_1)

{
  if (((param_1[3] & 0x83) != 0) && ((param_1[3] & 8) != 0)) {
    FreeMemory(param_1[2]);
    param_1[3] = param_1[3] & 0xfffffbf7;
    *param_1 = 0;
    param_1[2] = 0;
    param_1[1] = 0;
  }
  return;
}



// // Function: FlushBufferToResource
// // Description: This function flushes the contents of the buffer to a resource if there is data
// to be written. It checks the flags to determine if the buffer needs to be written, performs the
// write operation using `WriteToLockedResource`, and updates the buffer pointers and flags based on
// the success of the write.
// // Old Name: FUN_004b3fc0
// //
// // Arguments:
// //   param_1 (int*): A pointer to an array of integers representing the file or resource state.
// This includes buffer pointers, flags, and resource identifiers.
// //
// // Return Value:
// //   Returns 0 if the buffer is successfully written or if no data needed to be written. Returns
// `0xffffffff` if the write operation fails.
// 

undefined4 FlushBufferToResource(int *param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  
  uVar3 = 0;
  if ((((byte)param_1[3] & 3) == 2) && ((param_1[3] & 0x108U) != 0)) {
    iVar4 = *param_1 - param_1[2];
    if (0 < iVar4) {
      iVar2 = WriteToLockedResource(param_1[4],param_1[2],iVar4);
      uVar1 = param_1[3];
      if (iVar2 == iVar4) {
        if ((uVar1 & 0x80) != 0) {
          param_1[1] = 0;
          param_1[3] = uVar1 & 0xfffffffd;
          *param_1 = param_1[2];
          return 0;
        }
      }
      else {
        uVar3 = 0xffffffff;
        param_1[3] = uVar1 | 0x20;
      }
    }
  }
  param_1[1] = 0;
  *param_1 = param_1[2];
  return uVar3;
}



// // Function: ReadByteFromResource
// // Description: This function reads a single byte from a resource, managing internal buffer
// pointers and resource state flags. It checks for specific flags (e.g., end-of-resource, error)
// and adjusts the buffer as necessary. If the resource is empty or an error occurs, it returns
// `0xffffffff`. If successful, it returns the byte read.
// // Old Name: FUN_004b4100
// //
// // Arguments:
// //   param_1 (byte **): An array of pointers managing the state of the resource being read. It
// includes buffer pointers, state flags, and resource identifiers.
// //
// // Return Value:
// //   Returns the byte read from the resource if successful. If no data is available or an error
// occurs, it returns `0xffffffff`.
// 

uint ReadByteFromResource(byte **param_1)

{
  byte bVar1;
  byte *pbVar2;
  byte *pbVar3;
  undefined *puVar4;
  
  pbVar3 = param_1[3];
  if ((((uint)pbVar3 & 0x83) != 0) && (((uint)pbVar3 & 0x40) == 0)) {
    if (((uint)pbVar3 & 2) != 0) {
      param_1[3] = (byte *)((uint)pbVar3 | 0x20);
      return 0xffffffff;
    }
    param_1[3] = (byte *)((uint)pbVar3 | 1);
    if (((uint)pbVar3 & 0x10c) == 0) {
      FUN_004bb270(param_1);
    }
    else {
      *param_1 = param_1[2];
    }
    pbVar3 = (byte *)ReadFromLockedResource(param_1[4],param_1[2],param_1[6]);
    param_1[1] = pbVar3;
    if ((pbVar3 != (byte *)0x0) && (pbVar3 != (byte *)0xffffffff)) {
      if (((uint)param_1[3] & 0x82) == 0) {
        pbVar2 = param_1[4];
        if (pbVar2 == (byte *)0xffffffff) {
          puVar4 = &DAT_004d64a0;
        }
        else {
          puVar4 = (undefined *)((&DAT_005f8da0)[(int)pbVar2 >> 5] + ((uint)pbVar2 & 0x1f) * 0x24);
        }
        if ((puVar4[4] & 0x82) == 0x82) {
          param_1[3] = (byte *)((uint)param_1[3] | 0x2000);
        }
      }
      if (((param_1[6] == (byte *)0x200) && (((uint)param_1[3] & 8) != 0)) &&
         (((uint)param_1[3] & 0x400) == 0)) {
        param_1[6] = (byte *)0x1000;
      }
      param_1[1] = pbVar3 + -1;
      bVar1 = **param_1;
      *param_1 = *param_1 + 1;
      return (uint)bVar1;
    }
    param_1[1] = (byte *)0x0;
    param_1[3] = (byte *)((uint)param_1[3] | (-(uint)(pbVar3 != (byte *)0x0) & 0x10) + 0x10);
  }
  return 0xffffffff;
}



// // Function: OpenFileWithFlags
// // Description: This function parses a string to determine the file access mode and flags. It
// then attempts to open a file based on these options, and if successful, it updates the file
// information structure and returns it. If the file cannot be opened, it returns NULL.
// // Old Name: FUN_004b41f0
// //
// // Arguments:
// //   param_1 (undefined4): File identifier or handle to be used in the file opening process.
// //   param_2 (char*): String specifying the file access modes and flags (e.g., "r", "w", "a").
// //   param_3 (undefined4): An additional parameter, possibly specifying file permissions or
// another option.
// //   param_4 (undefined4*): A structure or array that will be updated with file information if
// the file is successfully opened.
// 

undefined4 *
OpenFileWithFlags(undefined4 param_1,char *param_2,undefined4 param_3,undefined4 *param_4)

{
  char cVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  
  cVar1 = *param_2;
  bVar3 = false;
  bVar4 = false;
  if (cVar1 == 'a') {
    uVar5 = 0x109;
  }
  else {
    if (cVar1 == 'r') {
      uVar5 = 0;
      uVar7 = DAT_005a16c4 | 1;
      goto LAB_004b422d;
    }
    if (cVar1 != 'w') {
      return (undefined4 *)0x0;
    }
    uVar5 = 0x301;
  }
  uVar7 = DAT_005a16c4 | 2;
LAB_004b422d:
  param_2 = param_2 + 1;
  bVar2 = true;
  cVar1 = *param_2;
  do {
    if ((cVar1 == '\0') || (!bVar2)) {
      iVar6 = OpenFileHandle(param_1,uVar5,param_3,0x1a4);
      if (-1 < iVar6) {
        DAT_005a16c0 = DAT_005a16c0 + 1;
        param_4[3] = uVar7;
        param_4[1] = 0;
        *param_4 = 0;
        param_4[2] = 0;
        param_4[7] = 0;
        param_4[4] = iVar6;
        return param_4;
      }
      return (undefined4 *)0x0;
    }
    switch(cVar1) {
    case '+':
      if ((uVar5 & 2) != 0) break;
      uVar5 = uVar5 & 0xfffffffe | 2;
      uVar7 = uVar7 & 0xfffffffc | 0x80;
      goto LAB_004b42de;
    case 'D':
      if ((uVar5 & 0x40) == 0) {
        uVar5 = uVar5 | 0x40;
        goto LAB_004b42de;
      }
      break;
    case 'R':
      if (!bVar4) {
        bVar4 = true;
        uVar5 = uVar5 | 0x10;
        goto LAB_004b42de;
      }
      break;
    case 'S':
      if (!bVar4) {
        bVar4 = true;
        uVar5 = uVar5 | 0x20;
        goto LAB_004b42de;
      }
      break;
    case 'T':
      if ((uVar5 & 0x1000) == 0) {
        uVar5 = uVar5 | 0x1000;
        goto LAB_004b42de;
      }
      break;
    case 'b':
      if ((uVar5 & 0xc000) == 0) {
        uVar5 = uVar5 | 0x8000;
        goto LAB_004b42de;
      }
      break;
    case 'c':
      if (!bVar3) {
        bVar3 = true;
        uVar7 = uVar7 | 0x4000;
        goto LAB_004b42de;
      }
      break;
    case 'n':
      if (!bVar3) {
        bVar3 = true;
        uVar7 = uVar7 & 0xffffbfff;
        goto LAB_004b42de;
      }
      break;
    case 't':
      if ((uVar5 & 0xc000) == 0) {
        uVar5 = uVar5 | 0x4000;
        goto LAB_004b42de;
      }
    }
    bVar2 = false;
LAB_004b42de:
    param_2 = param_2 + 1;
    cVar1 = *param_2;
  } while( true );
}



// // Function: FindOrAllocateResource
// // Description: This function searches for an available memory resource. If one is found, it
// initializes and returns a pointer to it. If none is found, it allocates a new memory block, sets
// up a critical section, and returns a pointer to the new resource.
// // Old Name: FUN_004b43c0
// //
// // Arguments: None.
// //
// // Return Value: A pointer to the allocated or found resource, or `NULL` if no resource could be
// found or allocated.
// 

undefined4 * FindOrAllocateResource(void)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  
  puVar4 = (undefined4 *)0x0;
  EnterOrInitCriticalSection(2);
  iVar3 = 0;
  if (0 < DAT_005f8d80) {
    do {
      iVar1 = *(int *)(DAT_005f7d64 + iVar3 * 4);
      if (iVar1 == 0) {
        iVar3 = iVar3 * 4;
        uVar2 = AllocateMemoryWithCallback(0x38);
        *(undefined4 *)(DAT_005f7d64 + iVar3) = uVar2;
        if (*(int *)(DAT_005f7d64 + iVar3) != 0) {
          InitializeCriticalSection((LPCRITICAL_SECTION)(*(int *)(DAT_005f7d64 + iVar3) + 0x20));
          EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(DAT_005f7d64 + iVar3) + 0x20));
          puVar4 = *(undefined4 **)(DAT_005f7d64 + iVar3);
        }
        break;
      }
      if ((*(byte *)(iVar1 + 0xc) & 0x83) == 0) {
        EnterResourceCriticalSection(iVar3,iVar1);
        iVar1 = *(int *)(DAT_005f7d64 + iVar3 * 4);
        if ((*(byte *)(iVar1 + 0xc) & 0x83) == 0) {
          puVar4 = *(undefined4 **)(DAT_005f7d64 + iVar3 * 4);
          break;
        }
        LeaveCriticalSectionFunc2Params(iVar3,iVar1);
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < DAT_005f8d80);
  }
  if (puVar4 != (undefined4 *)0x0) {
    puVar4[1] = 0;
    puVar4[3] = 0;
    puVar4[2] = 0;
    *puVar4 = 0;
    puVar4[7] = 0;
    puVar4[4] = 0xffffffff;
  }
  LeaveCriticalSectionFunc(2);
  return puVar4;
}



// Library Function - Single Match
//  __cintrindisp2
// 
// Library: Visual Studio

void __cintrindisp2(void)

{
  __trandisp2();
  FUN_004b456a();
  return;
}



// Library Function - Single Match
//  __cintrindisp1
// 
// Library: Visual Studio

void __cintrindisp1(void)

{
  __trandisp1();
  FUN_004b456a();
  return;
}



// Library Function - Single Match
//  __ctrandisp2
// 
// Libraries: Visual Studio 1998, Visual Studio 2003, Visual Studio 2005, Visual Studio 2008

void __ctrandisp2(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  __fload(param_1,param_2);
  __fload(param_3,param_4);
  __trandisp2();
  FUN_004b4563();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004b4563(void)

{
  char cVar1;
  ushort uVar2;
  int unaff_EBP;
  ushort in_FPUStatusWord;
  float10 in_ST0;
  
  *(byte *)(unaff_EBP + -0x2c8) = *(byte *)(unaff_EBP + -0x2c8) & 0xfe;
  if (_DAT_005a1160 != 0) {
    return;
  }
  *(double *)(unaff_EBP + -0x2d0) = (double)in_ST0;
  cVar1 = *(char *)(unaff_EBP + -0x90);
  if (cVar1 != '\0') {
    if ((cVar1 != -1) && (cVar1 != -2)) {
      if (cVar1 == '\0') {
        return;
      }
      *(int *)(unaff_EBP + -0x8e) = (int)cVar1;
      goto LAB_004b4639;
    }
    uVar2 = *(ushort *)(unaff_EBP + -0x2ca) & 0x7ff0;
    if (uVar2 == 0) {
      *(undefined4 *)(unaff_EBP + -0x8e) = 4;
      in_ST0 = (float10)fscale(in_ST0,(float10)1536.0);
      if (ABS(in_ST0) < (float10)2.225073858507201e-308) {
        in_ST0 = in_ST0 * (float10)0.0;
      }
      goto LAB_004b4639;
    }
    if (uVar2 == 0x7ff0) {
      *(undefined4 *)(unaff_EBP + -0x8e) = 3;
      in_ST0 = (float10)fscale(in_ST0,(float10)-1536.0);
      if ((float10)1.797693134862316e+308 < ABS(in_ST0)) {
        in_ST0 = in_ST0 * (float10)INFINITY;
      }
      goto LAB_004b4639;
    }
  }
  if ((*(ushort *)(unaff_EBP + -0xa4) & 0x20) != 0) {
    return;
  }
  if ((in_FPUStatusWord & 0x20) == 0) {
    return;
  }
  *(undefined4 *)(unaff_EBP + -0x8e) = 8;
LAB_004b4639:
  *(int *)(unaff_EBP + -0x8a) = *(int *)(unaff_EBP + -0x94) + 1;
  if ((*(byte *)(unaff_EBP + -0x2c8) & 1) == 0) {
    *(undefined4 *)(unaff_EBP + -0x86) = *(undefined4 *)(unaff_EBP + 8);
    *(undefined4 *)(unaff_EBP + -0x82) = *(undefined4 *)(unaff_EBP + 0xc);
    if (*(char *)(*(int *)(unaff_EBP + -0x94) + 0xd) != '\x01') {
      *(undefined4 *)(unaff_EBP + -0x7e) = *(undefined4 *)(unaff_EBP + 0x10);
      *(undefined4 *)(unaff_EBP + -0x7a) = *(undefined4 *)(unaff_EBP + 0x14);
    }
  }
  *(double *)(unaff_EBP + -0x76) = (double)in_ST0;
  FUN_004ba920((int)*(char *)(*(int *)(unaff_EBP + -0x94) + 0xe),unaff_EBP + -0x8e,unaff_EBP + -0xa4
              );
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_004b456a(void)

{
  char cVar1;
  ushort uVar2;
  int unaff_EBP;
  ushort in_FPUStatusWord;
  float10 in_ST0;
  
  if (_DAT_005a1160 != 0) {
    return;
  }
  *(double *)(unaff_EBP + -0x2d0) = (double)in_ST0;
  cVar1 = *(char *)(unaff_EBP + -0x90);
  if (cVar1 != '\0') {
    if ((cVar1 != -1) && (cVar1 != -2)) {
      if (cVar1 == '\0') {
        return;
      }
      *(int *)(unaff_EBP + -0x8e) = (int)cVar1;
      goto LAB_004b4639;
    }
    uVar2 = *(ushort *)(unaff_EBP + -0x2ca) & 0x7ff0;
    if (uVar2 == 0) {
      *(undefined4 *)(unaff_EBP + -0x8e) = 4;
      in_ST0 = (float10)fscale(in_ST0,(float10)1536.0);
      if (ABS(in_ST0) < (float10)2.225073858507201e-308) {
        in_ST0 = in_ST0 * (float10)0.0;
      }
      goto LAB_004b4639;
    }
    if (uVar2 == 0x7ff0) {
      *(undefined4 *)(unaff_EBP + -0x8e) = 3;
      in_ST0 = (float10)fscale(in_ST0,(float10)-1536.0);
      if ((float10)1.797693134862316e+308 < ABS(in_ST0)) {
        in_ST0 = in_ST0 * (float10)INFINITY;
      }
      goto LAB_004b4639;
    }
  }
  if ((*(ushort *)(unaff_EBP + -0xa4) & 0x20) != 0) {
    return;
  }
  if ((in_FPUStatusWord & 0x20) == 0) {
    return;
  }
  *(undefined4 *)(unaff_EBP + -0x8e) = 8;
LAB_004b4639:
  *(int *)(unaff_EBP + -0x8a) = *(int *)(unaff_EBP + -0x94) + 1;
  if ((*(byte *)(unaff_EBP + -0x2c8) & 1) == 0) {
    *(undefined4 *)(unaff_EBP + -0x86) = *(undefined4 *)(unaff_EBP + 8);
    *(undefined4 *)(unaff_EBP + -0x82) = *(undefined4 *)(unaff_EBP + 0xc);
    if (*(char *)(*(int *)(unaff_EBP + -0x94) + 0xd) != '\x01') {
      *(undefined4 *)(unaff_EBP + -0x7e) = *(undefined4 *)(unaff_EBP + 0x10);
      *(undefined4 *)(unaff_EBP + -0x7a) = *(undefined4 *)(unaff_EBP + 0x14);
    }
  }
  *(double *)(unaff_EBP + -0x76) = (double)in_ST0;
  FUN_004ba920((int)*(char *)(*(int *)(unaff_EBP + -0x94) + 0xe),unaff_EBP + -0x8e,unaff_EBP + -0xa4
              );
  return;
}



// Library Function - Single Match
//  __ctrandisp1
// 
// Library: Visual Studio

void __ctrandisp1(undefined4 param_1,undefined4 param_2)

{
  __fload(param_1,param_2);
  __trandisp1();
  FUN_004b4563();
  return;
}



// Library Function - Single Match
//  __fload
// 
// Libraries: Visual Studio 1998, Visual Studio 2003, Visual Studio 2005, Visual Studio 2008

float10 __fload(uint param_1,int param_2)

{
  float10 fVar1;
  
  if ((param_2._2_2_ & 0x7ff0) == 0x7ff0) {
    fVar1 = (float10)(CONCAT28(param_2._2_2_,CONCAT44(param_2 << 0xb | param_1 >> 0x15,param_1)) |
                     0x7fff);
  }
  else {
    fVar1 = (float10)(double)CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1));
  }
  return fVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_004b4f16(undefined4 param_1,uint param_2,ushort param_3_00)

{
  undefined4 in_EAX;
  int iVar1;
  float10 fVar2;
  float10 fVar3;
  undefined4 param_3;
  undefined2 uStack00000020;
  undefined2 uStack00000022;
  ushort in_stack_00000024;
  
  if ((((((CONCAT22(param_3_00,param_2._2_2_) ^ 0x700) & 0x700) == 0) &&
       ((&DAT_004d61ec)[(param_2._2_2_ & 0x7800) >> 0xb] != '\0')) &&
      ((param_3_00 & 0x7fff) != 0x7fff)) &&
     ((((in_stack_00000024 & 0x7fff) != 0 && ((in_stack_00000024 & 0x7fff) != 0x7fff)) &&
      (((_uStack00000020 & 0x7fffffff) == 0 && ((param_2 & 0x7fffffff) == 0)))))) {
    if ((ushort)((param_3_00 & 0x7fff) + 0x3f) < (in_stack_00000024 & 0x7fff)) {
      iVar1 = ((in_stack_00000024 & 0x7fff) - (param_3_00 & 0x7fff) & 0x3f | 0x20) + 1;
      fVar3 = ABS((float10)CONCAT28(in_stack_00000024 & 0x7fff | param_3_00 & 0x8000,
                                    CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1))));
      fVar2 = ABS((float10)CONCAT28(in_stack_00000024,
                                    CONCAT26(uStack00000022,CONCAT24(uStack00000020,param_3))));
      do {
        if (fVar3 <= fVar2) {
          fVar2 = fVar2 - fVar3;
        }
        fVar3 = fVar3 * (float10)_DAT_004d621c;
        iVar1 = iVar1 + -1;
      } while (iVar1 != 0);
    }
    else {
      while (-1 < (int)((in_stack_00000024 & 0x7fff) - ((param_3_00 & 0x7fff) + 10))) {
        fVar2 = (float10)CONCAT28(in_stack_00000024,
                                  CONCAT26(uStack00000022,CONCAT24(uStack00000020,param_3)));
        fVar3 = (float10)CONCAT28((in_stack_00000024 & 0x7fff) -
                                  ((in_stack_00000024 & 0x7fff) - param_3_00 & 7 | 4) |
                                  param_3_00 & 0x8000,
                                  CONCAT26(param_2._2_2_,CONCAT24((undefined2)param_2,param_1)));
        fVar2 = fVar2 - (fVar2 / fVar3) * fVar3;
        param_3 = SUB104(fVar2,0);
        uStack00000020 = (undefined2)((unkuint10)fVar2 >> 0x20);
        uStack00000022 = (undefined2)((unkuint10)fVar2 >> 0x30);
        in_stack_00000024 = (ushort)((unkuint10)fVar2 >> 0x40);
      }
    }
  }
  return in_EAX;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

float10 FUN_004b511c(void)

{
  float10 in_ST0;
  float10 fVar1;
  float10 in_ST1;
  
  if (((unkuint10)in_ST1 & 0) != 0) {
    fVar1 = (float10)FUN_004b4f16();
    return fVar1;
  }
  if ((SUB104(in_ST1,0) | (uint)((unkuint10)in_ST1 >> 0x20)) != 0) {
    fVar1 = (float10)FUN_004b4f16(in_ST1 * (float10)_DAT_004d6204);
    return fVar1;
  }
  return in_ST0 - (in_ST0 / in_ST1) * in_ST1;
}



uint FUN_004b54a0(uint param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  undefined *puVar6;
  int iVar7;
  
  piVar4 = param_2;
  uVar1 = param_2[3];
  uVar2 = param_2[4];
  if (((uVar1 & 0x82) == 0) || ((uVar1 & 0x40) != 0)) {
LAB_004b55c3:
    param_2[3] = uVar1 | 0x20;
    return 0xffffffff;
  }
  iVar7 = 0;
  if ((uVar1 & 1) != 0) {
    param_2[1] = 0;
    if ((uVar1 & 0x10) == 0) goto LAB_004b55c3;
    *param_2 = param_2[2];
    param_2[3] = uVar1 & 0xfffffffe;
  }
  uVar1 = param_2[3];
  param_2[1] = 0;
  param_2[3] = uVar1 & 0xffffffef | 2;
  if ((uVar1 & 0x10c) == 0) {
    if ((param_2 == (int *)&DAT_004d69f0) || (param_2 == (int *)&DAT_004d6a10)) {
      iVar5 = FUN_004ba7f0(uVar2);
      if (iVar5 != 0) goto LAB_004b5513;
    }
    FUN_004bb270(piVar4);
  }
LAB_004b5513:
  if ((piVar4[3] & 0x108U) == 0) {
    iVar5 = 1;
    iVar7 = WriteToLockedResource(uVar2,&param_1,1);
  }
  else {
    iVar3 = piVar4[2];
    iVar5 = *piVar4 - iVar3;
    *piVar4 = iVar3 + 1;
    piVar4[1] = piVar4[6] + -1;
    if (iVar5 < 1) {
      if (uVar2 == 0xffffffff) {
        puVar6 = &DAT_004d64a0;
      }
      else {
        puVar6 = (undefined *)((&DAT_005f8da0)[(int)uVar2 >> 5] + (uVar2 & 0x1f) * 0x24);
      }
      if ((puVar6[4] & 0x20) != 0) {
        SeekInLockedResource(uVar2,0,2);
      }
      *(undefined *)piVar4[2] = (undefined)param_1;
    }
    else {
      iVar7 = WriteToLockedResource(uVar2,iVar3,iVar5);
      *(undefined *)piVar4[2] = (undefined)param_1;
    }
  }
  if (iVar7 != iVar5) {
    piVar4[3] = piVar4[3] | 0x20;
    return 0xffffffff;
  }
  return param_1 & 0xff;
}



// // Function: WriteToLockedResource
// // Description: This function writes data to a resource while ensuring thread-safe access by
// locking the resource. After writing the data, it releases the lock. If the resource is invalid,
// it sets an error code and returns a failure value.
// // Old Name: FUN_004b55d0
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource where data should be written.
// //   param_2 (undefined4): A pointer to the data to be written to the resource.
// //   param_3 (undefined4): The size of the data to be written.
// //
// // Return Value:
// //   Returns the result of the write operation. If successful, it returns the number of bytes
// written. If the resource is invalid or the operation fails, it returns `0xffffffff`.
// 

undefined4 WriteToLockedResource(uint param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  if ((param_1 < DAT_005f8ea0) &&
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    InitializeAndLockResource(param_1);
    uVar1 = WriteToResource(param_1,param_2,param_3);
    ReleaseResourceLock(param_1);
    return uVar1;
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: WriteToResource
// // Description: This function writes data from the buffer `param_2` to the resource identified by
// `param_1`. It handles special cases like newline translation (where `\n` is converted to `\r\n`)
// and processes the data in chunks. The function returns the number of bytes successfully written,
// or -1 if an error occurs.
// // Old Name: FUN_004b5650
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to write to.
// //   param_2 (char*): A pointer to the buffer containing the data to write.
// //   param_3 (uint): The number of bytes to write from the buffer.
// //
// // Return Value:
// //   The number of bytes successfully written, or -1 if an error occurs.
// 

int WriteToResource(uint param_1,char *param_2,uint param_3)

{
  int *piVar1;
  char cVar2;
  char *pcVar3;
  BOOL BVar4;
  undefined4 *puVar5;
  int iVar6;
  char *pcVar7;
  DWORD local_41c;
  DWORD local_414;
  DWORD local_410;
  int local_40c;
  int *local_408;
  char local_404 [1028];
  
  local_41c = 0;
  local_40c = 0;
  if (param_3 == 0) {
    return 0;
  }
  piVar1 = &DAT_005f8da0 + ((int)param_1 >> 5);
  iVar6 = (param_1 & 0x1f) * 0x24;
  local_408 = piVar1;
  if ((*(byte *)(iVar6 + 4 + *piVar1) & 0x20) != 0) {
    SeekFilePointer(param_1,0,2);
  }
  if ((*(byte *)((HANDLE *)(*piVar1 + iVar6) + 1) & 0x80) == 0) {
    BVar4 = WriteFile(*(HANDLE *)(*piVar1 + iVar6),param_2,param_3,&local_410,(LPOVERLAPPED)0x0);
    if (BVar4 == 0) {
      local_414 = GetLastError();
    }
    else {
      local_41c = local_410;
      local_414 = 0;
    }
  }
  else {
    local_414 = 0;
    pcVar7 = param_2;
    if (param_3 != 0) {
      do {
        pcVar3 = local_404;
        do {
          if (param_3 <= (uint)((int)pcVar7 - (int)param_2)) break;
          cVar2 = *pcVar7;
          pcVar7 = pcVar7 + 1;
          if (cVar2 == '\n') {
            *pcVar3 = '\r';
            local_40c = local_40c + 1;
            pcVar3 = pcVar3 + 1;
          }
          *pcVar3 = cVar2;
          pcVar3 = pcVar3 + 1;
        } while ((int)pcVar3 - (int)local_404 < 0x400);
        BVar4 = WriteFile(*(HANDLE *)(iVar6 + *local_408),local_404,(int)pcVar3 - (int)local_404,
                          &local_410,(LPOVERLAPPED)0x0);
        if (BVar4 == 0) {
          local_414 = GetLastError();
          break;
        }
        local_41c = local_41c + local_410;
        if (((int)local_410 < (int)pcVar3 - (int)local_404) ||
           (param_3 <= (uint)((int)pcVar7 - (int)param_2))) break;
      } while( true );
    }
  }
  if (local_41c != 0) {
    return local_41c - local_40c;
  }
  if (local_414 == 0) {
    if (((*(byte *)(iVar6 + 4 + *local_408) & 0x40) != 0) && (*param_2 == '\x1a')) {
      return 0;
    }
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 0x1c;
    puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
    *puVar5 = 0;
    return -1;
  }
  if (local_414 != 5) {
    SetErrorCode(local_414);
    return -1;
  }
  puVar5 = (undefined4 *)GetSpecificTlsOffset();
  *puVar5 = 9;
  puVar5 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar5 = 5;
  return -1;
}



uint * FUN_004b5870(uint *param_1,char param_2)

{
  uint uVar1;
  char cVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  
  uVar1 = (uint)param_1 & 3;
  while (uVar1 != 0) {
    if (*(char *)param_1 == param_2) {
      return param_1;
    }
    if (*(char *)param_1 == '\0') {
      return (uint *)0x0;
    }
    uVar1 = (uint)(uint *)((int)param_1 + 1) & 3;
    param_1 = (uint *)((int)param_1 + 1);
  }
  while( true ) {
    while( true ) {
      uVar1 = *param_1;
      uVar4 = uVar1 ^ CONCAT22(CONCAT11(param_2,param_2),CONCAT11(param_2,param_2));
      uVar3 = uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff;
      puVar5 = param_1 + 1;
      if (((uVar4 ^ 0xffffffff ^ uVar4 + 0x7efefeff) & 0x81010100) != 0) break;
      param_1 = puVar5;
      if ((uVar3 & 0x81010100) != 0) {
        if ((uVar3 & 0x1010100) != 0) {
          return (uint *)0x0;
        }
        if ((uVar1 + 0x7efefeff & 0x80000000) == 0) {
          return (uint *)0x0;
        }
      }
    }
    uVar1 = *param_1;
    if ((char)uVar1 == param_2) {
      return param_1;
    }
    if ((char)uVar1 == '\0') {
      return (uint *)0x0;
    }
    cVar2 = (char)(uVar1 >> 8);
    if (cVar2 == param_2) {
      return (uint *)((int)param_1 + 1);
    }
    if (cVar2 == '\0') break;
    cVar2 = (char)(uVar1 >> 0x10);
    if (cVar2 == param_2) {
      return (uint *)((int)param_1 + 2);
    }
    if (cVar2 == '\0') {
      return (uint *)0x0;
    }
    cVar2 = (char)(uVar1 >> 0x18);
    if (cVar2 == param_2) {
      return (uint *)((int)param_1 + 3);
    }
    param_1 = puVar5;
    if (cVar2 == '\0') {
      return (uint *)0x0;
    }
  }
  return (uint *)0x0;
}



uint * FUN_004b5876(uint *param_1)

{
  uint uVar1;
  char cVar2;
  uint in_EAX;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  char cVar6;
  uint uVar7;
  
  cVar6 = (char)in_EAX;
  uVar7 = (uint)param_1 & 3;
  while (uVar7 != 0) {
    if (*(char *)param_1 == cVar6) {
      return param_1;
    }
    if (*(char *)param_1 == '\0') {
      return (uint *)0x0;
    }
    uVar7 = (uint)(uint *)((int)param_1 + 1) & 3;
    param_1 = (uint *)((int)param_1 + 1);
  }
  uVar7 = in_EAX | in_EAX << 8;
  while( true ) {
    while( true ) {
      uVar1 = *param_1;
      uVar4 = uVar1 ^ (uVar7 << 0x10 | uVar7);
      uVar3 = uVar1 ^ 0xffffffff ^ uVar1 + 0x7efefeff;
      puVar5 = param_1 + 1;
      if (((uVar4 ^ 0xffffffff ^ uVar4 + 0x7efefeff) & 0x81010100) != 0) break;
      param_1 = puVar5;
      if ((uVar3 & 0x81010100) != 0) {
        if ((uVar3 & 0x1010100) != 0) {
          return (uint *)0x0;
        }
        if ((uVar1 + 0x7efefeff & 0x80000000) == 0) {
          return (uint *)0x0;
        }
      }
    }
    uVar1 = *param_1;
    if ((char)uVar1 == cVar6) {
      return param_1;
    }
    if ((char)uVar1 == '\0') {
      return (uint *)0x0;
    }
    cVar2 = (char)(uVar1 >> 8);
    if (cVar2 == cVar6) {
      return (uint *)((int)param_1 + 1);
    }
    if (cVar2 == '\0') break;
    cVar2 = (char)(uVar1 >> 0x10);
    if (cVar2 == cVar6) {
      return (uint *)((int)param_1 + 2);
    }
    if (cVar2 == '\0') {
      return (uint *)0x0;
    }
    cVar2 = (char)(uVar1 >> 0x18);
    if (cVar2 == cVar6) {
      return (uint *)((int)param_1 + 3);
    }
    param_1 = puVar5;
    if (cVar2 == '\0') {
      return (uint *)0x0;
    }
  }
  return (uint *)0x0;
}



// Library Function - Single Match
//  __aulldiv
// 
// Library: Visual Studio

undefined8 __aulldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  
  uVar3 = param_1;
  uVar8 = param_4;
  uVar6 = param_2;
  uVar9 = param_3;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar5 = uVar8 >> 1;
      uVar9 = uVar9 >> 1 | (uint)((uVar8 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar8 = uVar5;
      uVar6 = uVar7;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar9;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar8 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar8)) ||
       ((param_2 <= uVar8 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  return CONCAT44(uVar3,iVar4);
}



// Library Function - Single Match
//  __aullrem
// 
// Library: Visual Studio

undefined8 __aullrem(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;
  
  uVar3 = param_1;
  uVar4 = param_4;
  uVar9 = param_2;
  uVar10 = param_3;
  if (param_4 == 0) {
    iVar6 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) %
                 (ulonglong)param_3);
    iVar7 = 0;
  }
  else {
    do {
      uVar5 = uVar4 >> 1;
      uVar10 = uVar10 >> 1 | (uint)((uVar4 & 1) != 0) << 0x1f;
      uVar8 = uVar9 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar4 = uVar5;
      uVar9 = uVar8;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar8,uVar3) / (ulonglong)uVar10;
    uVar3 = (int)uVar1 * param_4;
    lVar2 = (uVar1 & 0xffffffff) * (ulonglong)param_3;
    uVar9 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar4 = (uint)lVar2;
    uVar10 = uVar9 + uVar3;
    if (((CARRY4(uVar9,uVar3)) || (param_2 < uVar10)) || ((param_2 <= uVar10 && (param_1 < uVar4))))
    {
      bVar11 = uVar4 < param_3;
      uVar4 = uVar4 - param_3;
      uVar10 = (uVar10 - param_4) - (uint)bVar11;
    }
    iVar6 = -(uVar4 - param_1);
    iVar7 = -(uint)(uVar4 - param_1 != 0) - ((uVar10 - param_2) - (uint)(uVar4 < param_1));
  }
  return CONCAT44(iVar7,iVar6);
}



// // Function: SetErrorCode
// // Description: This function maps the provided error code to an internal error value and sets it
// in thread-local storage (TLS). It checks predefined error codes and, if no match is found,
// assigns a generic error based on certain ranges of the input error code.
// // Old Name: FUN_004b5a20
// //
// // Arguments:
// //   param_1 (uint): The error code to be mapped to an internal error value.
// 

void SetErrorCode(uint param_1)

{
  uint *puVar1;
  undefined4 *puVar2;
  int iVar3;
  
  puVar1 = (uint *)GetSpecificTlsOffset0xc();
  iVar3 = 0;
  *puVar1 = param_1;
  puVar1 = &DAT_004d6330;
  do {
    if (param_1 == *puVar1) {
      puVar2 = (undefined4 *)GetSpecificTlsOffset();
      *puVar2 = (&DAT_004d6334)[iVar3 * 2];
      return;
    }
    puVar1 = puVar1 + 2;
    iVar3 = iVar3 + 1;
  } while (puVar1 < &DAT_004d6498);
  if ((0x12 < param_1) && (param_1 < 0x25)) {
    puVar2 = (undefined4 *)GetSpecificTlsOffset();
    *puVar2 = 0xd;
    return;
  }
  if ((0xbb < param_1) && (param_1 < 0xcb)) {
    puVar2 = (undefined4 *)GetSpecificTlsOffset();
    *puVar2 = 8;
    return;
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 0x16;
  return;
}



// /*
//  * Function: GetSpecificTlsOffset
//  * Description:
//  *   This function retrieves the TLS (Thread Local Storage) data for the current thread and
// returns
//  *   an address with an 8-byte offset from the start of the TLS data. This is used to access
//  *   a specific element within the thread-local storage structure.
//  * Returns:
//  *   The address of a specific offset within the TLS data.
//  */

int GetSpecificTlsOffset(void)

{
  int iVar1;
  
  iVar1 = GetOrAllocateTlsData();
  return iVar1 + 8;
}



// // Function: GetSpecificTlsOffset
// // Description: This function retrieves the thread-local storage (TLS) for the current thread,
// allocating it if necessary, and returns a pointer to a specific offset within the TLS block (12
// bytes from the base).
// // Old Name: FUN_004b5ab0
// //
// // Arguments: None (works with thread-local storage)
// 

int GetSpecificTlsOffset0xc(void)

{
  int iVar1;
  
  iVar1 = GetOrAllocateTlsData();
  return iVar1 + 0xc;
}



// // Function: SeekInLockedResource
// // Description: This function moves the file pointer within a resource while ensuring thread-safe
// access by locking the resource. After seeking the file pointer to the specified position, it
// releases the lock. If the resource is invalid, it sets an error code and returns a failure value.
// // Old Name: FUN_004b5ac0
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource whose file pointer should be moved.
// //   param_2 (undefined4): The offset to move the file pointer.
// //   param_3 (undefined4): The mode used for seeking (e.g., start, current position, end).
// //
// // Return Value:
// //   Returns the result of the file pointer seek operation. If successful, it returns the new
// file pointer position. If the resource is invalid or the operation fails, it returns
// `0xffffffff`.
// 

undefined4 SeekInLockedResource(uint param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  if ((param_1 < DAT_005f8ea0) &&
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    InitializeAndLockResource(param_1);
    uVar1 = SeekFilePointer(param_1,param_2,param_3);
    ReleaseResourceLock(param_1);
    return uVar1;
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: SeekFilePointer
// // Description: This function moves the file pointer of a resource identified by `param_1`. It
// uses the `SetFilePointer` function to seek within the file and updates internal flags upon
// success. If an error occurs, it sets an error code in thread-local storage and returns
// `0xFFFFFFFF`.
// // Old Name: FUN_004b5b40
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource (file handle or similar) to seek.
// //   param_2 (LONG): The offset to move the file pointer by.
// //   param_3 (DWORD): The seek method (e.g., `FILE_BEGIN`, `FILE_CURRENT`, `FILE_END`).
// //
// // Return Value:
// //   The new file pointer position if successful, or `0xFFFFFFFF` if an error occurs.
// 

DWORD SeekFilePointer(uint param_1,LONG param_2,DWORD param_3)

{
  HANDLE hFile;
  undefined4 *puVar1;
  DWORD DVar2;
  DWORD DVar3;
  
  hFile = (HANDLE)GetResourceById(param_1);
  if (hFile == (HANDLE)0xffffffff) {
    puVar1 = (undefined4 *)GetSpecificTlsOffset();
    *puVar1 = 9;
    return 0xffffffff;
  }
  DVar2 = SetFilePointer(hFile,param_2,(PLONG)0x0,param_3);
  if (DVar2 == 0xffffffff) {
    DVar3 = GetLastError();
  }
  else {
    DVar3 = 0;
  }
  if (DVar3 != 0) {
    SetErrorCode(DVar3);
    return 0xffffffff;
  }
  *(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) =
       *(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 0xfd;
  return DVar2;
}



// // Function: CalculateFilePositionWithNewlines
// // Description: This function calculates the current file position within a file or buffer,
// adjusting for newline characters if the file is in text mode. It uses the file pointer position,
// processes buffered data, and accounts for any newline conversions, especially when the file is
// opened in text mode.
// // Old Name: FUN_004b5bc0
// //
// // Arguments:
// //   param_1 (char **): An array of pointers representing file or buffer state. This includes the
// file handle, buffer pointers, and various flags indicating the mode (e.g., text or binary).
// //
// // Return Value:
// //   Returns the calculated file position, adjusted for newline characters if applicable. If an
// error occurs, it returns `-1`.
// 

int CalculateFilePositionWithNewlines(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  int iVar3;
  char *pcVar4;
  undefined4 *puVar5;
  char *pcVar6;
  int iVar7;
  int local_8;
  int local_4;
  
  pcVar1 = param_1[4];
  if ((int)param_1[1] < 0) {
    param_1[1] = (char *)0x0;
  }
  local_4 = SeekInLockedResource(pcVar1,0,1);
  if (local_4 < 0) {
    return -1;
  }
  pcVar6 = param_1[3];
  if (((uint)pcVar6 & 0x108) == 0) {
    return local_4 - (int)param_1[1];
  }
  pcVar4 = *param_1;
  pcVar2 = param_1[2];
  local_8 = (int)pcVar4 - (int)pcVar2;
  if (((uint)pcVar6 & 3) == 0) {
    if (((uint)pcVar6 & 0x80) == 0) {
      puVar5 = (undefined4 *)GetSpecificTlsOffset();
      *puVar5 = 0x16;
      return -1;
    }
  }
  else {
    pcVar6 = pcVar2;
    if ((*(byte *)((&DAT_005f8da0)[(int)pcVar1 >> 5] + 4 + ((uint)pcVar1 & 0x1f) * 0x24) & 0x80) !=
        0) {
      for (; pcVar6 < pcVar4; pcVar6 = pcVar6 + 1) {
        if (*pcVar6 == '\n') {
          local_8 = local_8 + 1;
        }
      }
    }
  }
  if (local_4 == 0) {
    return local_8;
  }
  if ((*(byte *)(param_1 + 3) & 1) == 0) goto LAB_004b5d37;
  if (param_1[1] == (char *)0x0) {
    return local_4;
  }
  pcVar6 = pcVar4 + (int)param_1[1] + -(int)pcVar2;
  iVar7 = ((uint)pcVar1 & 0x1f) * 0x24;
  if ((*(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)pcVar1 >> 5]) & 0x80) != 0) {
    iVar3 = SeekInLockedResource(pcVar1,0,2);
    if (iVar3 == local_4) {
      pcVar4 = param_1[2];
      pcVar1 = pcVar6 + (int)pcVar4;
      for (; pcVar4 < pcVar1; pcVar4 = pcVar4 + 1) {
        if (*pcVar4 == '\n') {
          pcVar6 = pcVar6 + 1;
        }
      }
      if (((uint)param_1[3] & 0x2000) != 0) {
LAB_004b5d2e:
        pcVar6 = pcVar6 + 1;
      }
    }
    else {
      SeekInLockedResource(pcVar1,local_4,0);
      if (((pcVar6 < (char *)0x201) && (((uint)param_1[3] & 8) != 0)) &&
         (((uint)param_1[3] & 0x400) == 0)) {
        pcVar6 = (char *)0x200;
      }
      else {
        pcVar6 = param_1[6];
      }
      if ((*(byte *)(iVar7 + 4 + (&DAT_005f8da0)[(int)pcVar1 >> 5]) & 4) != 0) goto LAB_004b5d2e;
    }
  }
  local_4 = local_4 - (int)pcVar6;
LAB_004b5d37:
  return local_4 + local_8;
}



// /*
//  * Function: InitializeThreadLocalStorage (originally FUN_004b5d70)
//  * Description:
//  *   This function initializes thread-local storage (TLS) for the current thread. It allocates a
// TLS index
//  *   using `TlsAlloc`, allocates memory for thread-specific data, and stores the memory in TLS
// using
//  *   `TlsSetValue`. It also initializes the allocated memory with thread-related information,
// such as
//  *   the current thread ID.
//  *
//  * Returns:
//  *   1 on success, 0 on failure.
//  */

undefined4 InitializeThreadLocalStorage(void)

{
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  InitializeGlobalCriticalSections();
  DAT_004d6498 = TlsAlloc();
  if (DAT_004d6498 != 0xffffffff) {
    lpTlsValue = (DWORD *)AllocateAndInitializeMemory(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_004d6498,lpTlsValue);
      if (BVar1 != 0) {
        InitializeTlsData(lpTlsValue);
        DVar2 = GetCurrentThreadId();
        *lpTlsValue = DVar2;
        lpTlsValue[1] = 0xffffffff;
        return 1;
      }
    }
  }
  return 0;
}



// /*
//  * Function: InitializeTlsData
//  * Description:
//  *   This function initializes a specific part of the TLS (Thread Local Storage) data structure.
//  *   It sets a pointer to a global variable and marks a flag as active.
//  * Parameters:
//  *   - param_1: Pointer to the TLS data structure.
//  */

void InitializeTlsData(int param_1)

{
  *(undefined **)(param_1 + 0x50) = &DAT_004d6630;
  *(undefined4 *)(param_1 + 0x14) = 1;
  return;
}



// /*
//  * Function: GetOrAllocateTlsData
//  * Description:
//  *   This function retrieves the current thread's TLS (Thread Local Storage) data. If no TLS data
// exists for the current thread,
//  *   it allocates and initializes a new block of memory for it. It also handles setting and
// restoring the last error code.
//  * Returns:
//  *   A pointer to the thread's TLS data.
//  */

DWORD * GetOrAllocateTlsData(void)

{
  DWORD dwErrCode;
  DWORD *lpTlsValue;
  BOOL BVar1;
  DWORD DVar2;
  
  dwErrCode = GetLastError();
  lpTlsValue = (DWORD *)TlsGetValue(DAT_004d6498);
  if (lpTlsValue == (DWORD *)0x0) {
    lpTlsValue = (DWORD *)AllocateAndInitializeMemory(1,0x74);
    if (lpTlsValue != (DWORD *)0x0) {
      BVar1 = TlsSetValue(DAT_004d6498,lpTlsValue);
      if (BVar1 != 0) {
        InitializeTlsData(lpTlsValue);
        DVar2 = GetCurrentThreadId();
        *lpTlsValue = DVar2;
        lpTlsValue[1] = 0xffffffff;
        SetLastError(dwErrCode);
        return lpTlsValue;
      }
    }
    __amsg_exit(0x10);
  }
  SetLastError(dwErrCode);
  return lpTlsValue;
}



// /*
//  * Function: FreeTlsMemory (originally FUN_004b5e70)
//  * Description:
//  *   This function frees memory associated with a thread-local storage (TLS) object. It checks if
// the
//  *   TLS index (`DAT_004d6498`) is valid. If a `param_1` pointer is provided or can be retrieved
// from
//  *   TLS, it iterates through various memory blocks associated with `param_1` and frees them if
// they are
//  *   not null. It finally clears the TLS value.
//  *
//  * Parameters:
//  *   param_1 - Pointer to the TLS structure. If null, the function retrieves the TLS structure
// using
//  *             `TlsGetValue` and frees its associated memory.
//  */

void FreeTlsMemory(LPVOID param_1)

{
  if (DAT_004d6498 != 0xffffffff) {
    if ((param_1 != (LPVOID)0x0) || (param_1 = TlsGetValue(DAT_004d6498), param_1 != (LPVOID)0x0)) {
      if (*(int *)((int)param_1 + 0x24) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x24));
      }
      if (*(int *)((int)param_1 + 0x28) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x28));
      }
      if (*(int *)((int)param_1 + 0x30) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x30));
      }
      if (*(int *)((int)param_1 + 0x38) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x38));
      }
      if (*(int *)((int)param_1 + 0x40) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x40));
      }
      if (*(int *)((int)param_1 + 0x44) != 0) {
        FreeMemory(*(int *)((int)param_1 + 0x44));
      }
      if (*(undefined **)((int)param_1 + 0x50) != &DAT_004d6630) {
        FreeMemory(*(undefined **)((int)param_1 + 0x50));
      }
      FreeMemory(param_1);
    }
    TlsSetValue(DAT_004d6498,(LPVOID)0x0);
    return;
  }
  return;
}



int FUN_004b5f20(byte *param_1,byte *param_2)

{
  int iVar1;
  byte *pbVar2;
  byte *pbVar3;
  ushort uVar4;
  ushort uVar5;
  uint uVar6;
  uint local_4;
  
  if (DAT_005a16a8 == 0) {
    iVar1 = FUN_004bb2d0(param_1,param_2);
    return iVar1;
  }
  EnterOrInitCriticalSection(0x19);
  do {
    uVar6 = (uint)*param_1;
    pbVar2 = param_1 + 1;
    if (((&DAT_005a14a1)[uVar6] & 4) == 0) {
      if (((&DAT_005a14a1)[uVar6] & 0x10) == 0x10) {
        uVar6 = (uint)(byte)(&DAT_005a15a8)[uVar6];
      }
    }
    else if (*pbVar2 == 0) {
      uVar6 = 0;
    }
    else {
      iVar1 = MapLocaleString(DAT_005a16ac,0x200,param_1,2,&local_4,2,DAT_005a16a8,1);
      if (iVar1 == 1) {
        uVar6 = local_4 & 0xff;
        pbVar2 = param_1 + 2;
      }
      else {
        if (iVar1 != 2) goto LAB_004b6085;
        uVar6 = (local_4 & 0xff) * 0x100 + (local_4 >> 8 & 0xff);
        pbVar2 = param_1 + 2;
      }
    }
    uVar4 = (ushort)*param_2;
    pbVar3 = param_2 + 1;
    if (((&DAT_005a14a1)[uVar4] & 4) == 0) {
      if (((&DAT_005a14a1)[uVar4] & 0x10) == 0x10) {
        uVar4 = (ushort)(byte)(&DAT_005a15a8)[uVar4];
      }
    }
    else if (*pbVar3 == 0) {
      uVar4 = 0;
    }
    else {
      iVar1 = MapLocaleString(DAT_005a16ac,0x200,param_2,2,&local_4,2,DAT_005a16a8,1);
      if (iVar1 == 1) {
        uVar4 = (ushort)local_4 & 0xff;
        pbVar3 = param_2 + 2;
      }
      else {
        if (iVar1 != 2) {
LAB_004b6085:
          LeaveCriticalSectionFunc(0x19);
          return 0x7fffffff;
        }
        uVar4 = (ushort)local_4 * 0x100 + ((ushort)(local_4 >> 8) & 0xff);
        pbVar3 = param_2 + 2;
      }
    }
    uVar5 = (ushort)uVar6;
    if (uVar5 != uVar4) {
      LeaveCriticalSectionFunc(0x19);
      return (-(uint)(uVar4 < uVar5) & 2) - 1;
    }
    param_1 = pbVar2;
    param_2 = pbVar3;
    if (uVar5 == 0) {
      LeaveCriticalSectionFunc(0x19);
      return 0;
    }
  } while( true );
}



byte * FUN_004b60d0(byte *param_1,uint param_2)

{
  ushort uVar1;
  byte bVar2;
  byte bVar3;
  byte *pbVar4;
  byte *pbVar5;
  
  pbVar5 = (byte *)0x0;
  if (DAT_005a16a8 == 0) {
    pbVar5 = (byte *)_strrchr((char *)param_1,param_2);
    return pbVar5;
  }
  EnterOrInitCriticalSection(0x19);
  do {
    bVar3 = *param_1;
    if (((&DAT_005a14a1)[bVar3] & 4) == 0) {
      pbVar4 = param_1;
      bVar2 = bVar3;
      if (param_2 == bVar3) {
LAB_004b6148:
        pbVar5 = pbVar4;
        bVar3 = bVar2;
      }
    }
    else {
      bVar2 = param_1[1];
      pbVar4 = param_1 + 1;
      if (bVar2 == 0) {
        bVar3 = bVar2;
        if (pbVar5 == (byte *)0x0) goto LAB_004b6148;
      }
      else {
        uVar1 = CONCAT11(bVar3,bVar2);
        bVar3 = bVar2;
        if (param_2 == uVar1) {
          pbVar5 = param_1;
        }
      }
    }
    param_1 = pbVar4 + 1;
    if (bVar3 == 0) {
      LeaveCriticalSectionFunc(0x19);
      return pbVar5;
    }
  } while( true );
}



int FUN_004b6160(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7
                )

{
  int iVar1;
  int iVar2;
  tm local_24;
  
  local_24.tm_year = param_1 - 0x76c;
  if ((local_24.tm_year < 0x46) || (0x8a < local_24.tm_year)) {
    return -1;
  }
  local_24.tm_yday = *(int *)(&DAT_004d6784 + param_2 * 4) + param_3;
  if (((local_24.tm_year & 3U) == 0) && (2 < param_2)) {
    local_24.tm_yday = local_24.tm_yday + 1;
  }
  FUN_004affb0();
  local_24.tm_hour = param_4;
  local_24.tm_mon = param_2 + -1;
  iVar1 = param_6 + (param_5 +
                    (param_4 +
                    ((param_1 + -0x76d >> 2) + local_24.tm_year * 0x16d + local_24.tm_yday) * 0x18)
                    * 0x3c) * 0x3c + 0x7c558180 + DAT_004d66b8;
  if (param_7 != 1) {
    if (param_7 != -1) {
      return iVar1;
    }
    if (DAT_004d66bc == 0) {
      return iVar1;
    }
    iVar2 = __isindst(&local_24);
    if (iVar2 == 0) {
      return iVar1;
    }
  }
  return iVar1 + DAT_004d66c0;
}



LPSTR FUN_004b6250(LPSTR param_1,LPCSTR param_2,LPSTR param_3)

{
  LPSTR pCVar1;
  undefined4 *puVar2;
  LPSTR pCVar3;
  DWORD DVar4;
  LPSTR nBufferLength;
  
  if ((param_2 == (LPCSTR)0x0) || (*param_2 == '\0')) {
    pCVar1 = (LPSTR)GetAbsolutePathThreadSafe(param_1,param_3);
    return pCVar1;
  }
  pCVar1 = param_1;
  nBufferLength = param_3;
  if (param_1 == (LPSTR)0x0) {
    pCVar1 = (LPSTR)AllocateMemoryWithCallback(0x104);
    if (pCVar1 == (LPSTR)0x0) {
      puVar2 = (undefined4 *)GetSpecificTlsOffset();
      *puVar2 = 0xc;
      return (LPSTR)0x0;
    }
    nBufferLength = (LPSTR)0x104;
  }
  pCVar3 = (LPSTR)GetFullPathNameA(param_2,(DWORD)nBufferLength,pCVar1,&param_3);
  if (pCVar3 < nBufferLength) {
    if (pCVar3 != (LPSTR)0x0) {
      return pCVar1;
    }
    if (param_1 == (LPSTR)0x0) {
      FreeMemory(pCVar1);
    }
    DVar4 = GetLastError();
    SetErrorCode(DVar4);
    return (LPSTR)0x0;
  }
  if (param_1 == (LPSTR)0x0) {
    FreeMemory(pCVar1);
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 0x22;
  return (LPSTR)0x0;
}



int FUN_004b6320(void)

{
  DWORD DVar1;
  int iVar2;
  uint local_104 [65];
  
  iVar2 = 0;
  DVar1 = GetCurrentDirectoryA(0x104,(LPSTR)local_104);
  if ((DVar1 != 0) && ((char)(local_104[0] >> 8) == ':')) {
    iVar2 = FUN_004b0980(local_104[0] & 0xff);
    iVar2 = iVar2 + -0x40;
  }
  return iVar2;
}



uint FUN_004b6370(uint param_1)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  uint local_8 [2];
  
  uVar1 = param_1;
  if (param_1 < 0x100) {
    if (((&DAT_005a14a1)[param_1] & 0x10) == 0x10) {
      return (uint)(byte)(&DAT_005a15a8)[param_1];
    }
  }
  else {
    bVar2 = (byte)(param_1 >> 8);
    param_1 = CONCAT31(CONCAT21(param_1._2_2_,(char)param_1),bVar2);
    if (((&DAT_005a14a1)[bVar2] & 4) != 0) {
      iVar3 = MapLocaleString(DAT_005a16ac,0x100,&param_1,2,local_8,2,DAT_005a16a8,1);
      if (iVar3 != 0) {
        return (local_8[0] & 0xff) * 0x100 + (local_8[0] >> 8 & 0xff);
      }
    }
  }
  return uVar1;
}



char * FUN_004b6410(byte *param_1,byte *param_2)

{
  byte *pbVar1;
  byte bVar2;
  char *pcVar3;
  byte *pbVar4;
  
  if (DAT_005a16a8 == 0) {
    pcVar3 = _strpbrk((char *)param_1,(char *)param_2);
    return pcVar3;
  }
  EnterOrInitCriticalSection(0x19);
  if (*param_1 == 0) {
LAB_004b64a9:
    LeaveCriticalSectionFunc(0x19);
    return (char *)(-(uint)(*param_1 != 0) & (uint)param_1);
  }
  pbVar4 = param_2;
  bVar2 = *param_2;
joined_r0x004b644f:
  do {
    if (bVar2 != 0) {
      bVar2 = *pbVar4;
      if (((&DAT_005a14a1)[bVar2] & 4) == 0) {
        if (bVar2 != *param_1) goto LAB_004b647d;
      }
      else if (((bVar2 != *param_1) || (pbVar4[1] != param_1[1])) && (pbVar4[1] != 0)) {
        pbVar4 = pbVar4 + 1;
LAB_004b647d:
        pbVar1 = pbVar4 + 1;
        pbVar4 = pbVar4 + 1;
        bVar2 = *pbVar1;
        goto joined_r0x004b644f;
      }
    }
    if (((*pbVar4 != 0) ||
        ((((&DAT_005a14a1)[*param_1] & 4) != 0 &&
         (pbVar4 = param_1 + 1, param_1 = param_1 + 1, *pbVar4 == 0)))) ||
       (pbVar1 = param_1 + 1, param_1 = param_1 + 1, pbVar4 = param_2, bVar2 = *param_2,
       *pbVar1 == 0)) goto LAB_004b64a9;
  } while( true );
}



// // Function: AllocateOrGetResource
// // Description: This function searches for an available resource from a pool of resources. If no
// resource is available, it allocates a new block of memory for additional resources. It uses
// critical sections to ensure thread-safe access to the resource pool. The function returns the
// index of the available resource or `-1` if it fails.
// // Old Name: FUN_004b64c0
// //
// // Arguments: None (internally manages resources and memory)
// 

int AllocateOrGetResource(void)

{
  undefined4 *puVar1;
  int iVar2;
  int *piVar3;
  int local_8;
  int local_4;
  
  local_8 = -1;
  EnterOrInitCriticalSection(0x12);
  local_4 = 0;
  iVar2 = 0;
  piVar3 = &DAT_005f8da0;
  do {
    puVar1 = (undefined4 *)*piVar3;
    if (puVar1 == (undefined4 *)0x0) {
      puVar1 = (undefined4 *)AllocateMemoryWithCallback(0x480);
      if (puVar1 != (undefined4 *)0x0) {
        DAT_005f8ea0 = DAT_005f8ea0 + 0x20;
        (&DAT_005f8da0)[local_4] = puVar1;
        if (puVar1 < puVar1 + 0x120) {
          do {
            *(undefined *)(puVar1 + 1) = 0;
            *puVar1 = 0xffffffff;
            *(undefined *)((int)puVar1 + 5) = 10;
            puVar1[2] = 0;
            puVar1 = puVar1 + 9;
          } while (puVar1 < (undefined4 *)((&DAT_005f8da0)[local_4] + 0x480));
        }
        local_8 = local_4 << 5;
        InitializeAndLockResource(local_8);
      }
      break;
    }
    if (puVar1 < puVar1 + 0x120) {
      do {
        if ((*(byte *)(puVar1 + 1) & 1) == 0) {
          if (puVar1[2] == 0) {
            EnterOrInitCriticalSection(0x11);
            if (puVar1[2] == 0) {
              InitializeCriticalSection((LPCRITICAL_SECTION)(puVar1 + 3));
              puVar1[2] = puVar1[2] + 1;
            }
            LeaveCriticalSectionFunc(0x11);
          }
          EnterCriticalSection((LPCRITICAL_SECTION)(puVar1 + 3));
          if ((*(byte *)(puVar1 + 1) & 1) == 0) {
            *puVar1 = 0xffffffff;
            local_8 = ((int)puVar1 - *piVar3) / 0x24 + iVar2;
            break;
          }
          LeaveCriticalSection((LPCRITICAL_SECTION)(puVar1 + 3));
        }
        puVar1 = puVar1 + 9;
      } while (puVar1 < (undefined4 *)(*piVar3 + 0x480));
    }
    if (local_8 != -1) break;
    piVar3 = piVar3 + 1;
    local_4 = local_4 + 1;
    iVar2 = iVar2 + 0x20;
  } while ((int)piVar3 < 0x5f8ea0);
  LeaveCriticalSectionFunc(0x12);
  return local_8;
}



undefined4 FUN_004b6630(uint param_1,HANDLE param_2)

{
  int *piVar1;
  undefined4 *puVar2;
  int iVar3;
  
  if (param_1 < DAT_005f8ea0) {
    piVar1 = &DAT_005f8da0 + ((int)param_1 >> 5);
    iVar3 = (param_1 & 0x1f) * 0x24;
    if (*(int *)(*piVar1 + iVar3) == -1) {
      if (DAT_004d3f74 == 1) {
        if (param_1 == 0) {
          SetStdHandle(0xfffffff6,param_2);
        }
        else {
          if (param_1 == 1) {
            SetStdHandle(0xfffffff5,param_2);
            *(HANDLE *)(*piVar1 + iVar3) = param_2;
            return 0;
          }
          if (param_1 == 2) {
            SetStdHandle(0xfffffff4,param_2);
            *(HANDLE *)(*piVar1 + iVar3) = param_2;
            return 0;
          }
        }
      }
      *(HANDLE *)(*piVar1 + iVar3) = param_2;
      return 0;
    }
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: ResetResource
// // Description: This function checks if a resource identified by `param_1` is valid and, if so,
// clears it. If the resource is a standard handle (stdin, stdout, stderr), it resets the standard
// handle using `SetStdHandle`. If the resource is invalid, it sets error codes in thread-local
// storage and returns an error code (0xFFFFFFFF).
// // Old Name: FUN_004b66e0
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource to reset.
// //
// // Return Value:
// //   0 on success, or 0xFFFFFFFF if the resource is invalid.
// 

undefined4 ResetResource(uint param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  DWORD nStdHandle;
  
  if (param_1 < DAT_005f8ea0) {
    iVar1 = (&DAT_005f8da0)[(int)param_1 >> 5];
    iVar3 = (param_1 & 0x1f) * 0x24;
    if (((*(byte *)(iVar1 + 4 + iVar3) & 1) != 0) && (*(int *)(iVar1 + iVar3) != -1)) {
      if (DAT_004d3f74 == 1) {
        if (param_1 == 0) {
          nStdHandle = 0xfffffff6;
        }
        else if (param_1 == 1) {
          nStdHandle = 0xfffffff5;
        }
        else {
          if (param_1 != 2) goto LAB_004b6747;
          nStdHandle = 0xfffffff4;
        }
        SetStdHandle(nStdHandle,(HANDLE)0x0);
      }
LAB_004b6747:
      *(undefined4 *)((&DAT_005f8da0)[(int)param_1 >> 5] + iVar3) = 0xffffffff;
      return 0;
    }
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 9;
  puVar2 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar2 = 0;
  return 0xffffffff;
}



// // Function: GetResourceById
// // Description: This function retrieves a resource or handle based on the identifier `param_1`.
// It checks if `param_1` is within a valid range and if the resource is active. If valid, it
// returns a pointer to the resource. Otherwise, it sets an error in thread-local storage and
// returns `0xFFFFFFFF`.
// // Old Name: FUN_004b6780
// //
// // Arguments:
// //   param_1 (uint): The identifier (likely an index) of the resource or handle to retrieve.
// 

undefined4 GetResourceById(uint param_1)

{
  undefined4 *puVar1;
  
  if ((param_1 < DAT_005f8ea0) &&
     ((*(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 1) != 0)) {
    return *(undefined4 *)((&DAT_005f8da0)[(int)param_1 >> 5] + (param_1 & 0x1f) * 0x24);
  }
  puVar1 = (undefined4 *)GetSpecificTlsOffset();
  *puVar1 = 9;
  puVar1 = (undefined4 *)GetSpecificTlsOffset0xc();
  *puVar1 = 0;
  return 0xffffffff;
}



// // Function: InitializeAndLockResource
// // Description: This function initializes the critical section for a resource if it hasn't been
// initialized yet, and then enters the critical section to lock the resource. This ensures that the
// resource is accessed in a thread-safe manner.
// // Old Name: FUN_004b67d0
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource that needs to be locked.
// //
// // Return Value:
// //   None
// 

void InitializeAndLockResource(uint param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = (param_1 & 0x1f) * 0x24;
  iVar1 = (&DAT_005f8da0)[(int)param_1 >> 5] + iVar2;
  if (*(int *)(iVar1 + 8) == 0) {
    EnterOrInitCriticalSection(0x11);
    if (*(int *)(iVar1 + 8) == 0) {
      InitializeCriticalSection((LPCRITICAL_SECTION)(iVar1 + 0xc));
      *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
    }
    LeaveCriticalSectionFunc(0x11);
  }
  EnterCriticalSection((LPCRITICAL_SECTION)((&DAT_005f8da0)[(int)param_1 >> 5] + 0xc + iVar2));
  return;
}



// // Function: ReleaseResourceLock
// // Description: This function releases the critical section (lock) for the resource identified by
// `param_1`. It allows other threads to access the resource by calling `LeaveCriticalSection`.
// // Old Name: FUN_004b6840
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource whose lock needs to be released.
// 

void ReleaseResourceLock(uint param_1)

{
  LeaveCriticalSection
            ((LPCRITICAL_SECTION)
             ((&DAT_005f8da0)[(int)param_1 >> 5] + 0xc + (param_1 & 0x1f) * 0x24));
  return;
}



// /*
//  * Function: InitializeFileHandles (originally FUN_004b6870)
//  * Description:
//  *   This function initializes file handles, including stdin, stdout, and stderr, by allocating
// memory for
//  *   handle descriptors, setting up handle attributes, and populating the handle table. It
// retrieves the
//  *   standard file handles (e.g., stdin, stdout) if needed and configures them based on file
// types.
//  *
//  * Globals:
//  *   DAT_005f8da0 - Pointer to the handle descriptor table.
//  *   DAT_005f8ea0 - Number of file handles.
//  */
// 

void InitializeFileHandles(void)

{
  HANDLE *ppvVar1;
  byte bVar2;
  undefined4 *puVar3;
  DWORD DVar4;
  HANDLE hFile;
  HANDLE *ppvVar5;
  int iVar6;
  int *piVar7;
  uint uVar8;
  UINT UStack_48;
  _STARTUPINFOA local_44;
  
  puVar3 = (undefined4 *)AllocateMemoryWithCallback(0x480);
  if (puVar3 == (undefined4 *)0x0) {
    __amsg_exit(0x1b);
  }
  DAT_005f8ea0 = 0x20;
  DAT_005f8da0 = puVar3;
  if (puVar3 < puVar3 + 0x120) {
    do {
      *(undefined *)(puVar3 + 1) = 0;
      *puVar3 = 0xffffffff;
      *(undefined *)((int)puVar3 + 5) = 10;
      puVar3[2] = 0;
      puVar3 = puVar3 + 9;
    } while (puVar3 < DAT_005f8da0 + 0x120);
  }
  GetStartupInfoA(&local_44);
  if ((local_44.cbReserved2 != 0) && ((UINT *)local_44.lpReserved2 != (UINT *)0x0)) {
    UStack_48 = *(UINT *)local_44.lpReserved2;
    local_44.lpReserved2 = (LPBYTE)((int)local_44.lpReserved2 + 4);
    ppvVar5 = (HANDLE *)((int)local_44.lpReserved2 + UStack_48);
    if (0x7ff < (int)UStack_48) {
      UStack_48 = 0x800;
    }
    if ((int)DAT_005f8ea0 < (int)UStack_48) {
      piVar7 = &DAT_005f8da4;
      do {
        puVar3 = (undefined4 *)AllocateMemoryWithCallback(0x480);
        if (puVar3 == (undefined4 *)0x0) {
          UStack_48 = DAT_005f8ea0;
          break;
        }
        *piVar7 = (int)puVar3;
        DAT_005f8ea0 = DAT_005f8ea0 + 0x20;
        if (puVar3 < puVar3 + 0x120) {
          do {
            *(undefined *)(puVar3 + 1) = 0;
            *puVar3 = 0xffffffff;
            *(undefined *)((int)puVar3 + 5) = 10;
            puVar3[2] = 0;
            puVar3 = puVar3 + 9;
          } while (puVar3 < (undefined4 *)(*piVar7 + 0x480));
        }
        piVar7 = piVar7 + 1;
      } while ((int)DAT_005f8ea0 < (int)UStack_48);
    }
    uVar8 = 0;
    if (0 < (int)UStack_48) {
      do {
        if (((*ppvVar5 != (HANDLE)0xffffffff) && ((*local_44.lpReserved2 & 1) != 0)) &&
           (((*local_44.lpReserved2 & 8) != 0 || (DVar4 = GetFileType(*ppvVar5), DVar4 != 0)))) {
          ppvVar1 = (HANDLE *)((int)(&DAT_005f8da0)[(int)uVar8 >> 5] + (uVar8 & 0x1f) * 0x24);
          *ppvVar1 = *ppvVar5;
          *(BYTE *)(ppvVar1 + 1) = *local_44.lpReserved2;
        }
        uVar8 = uVar8 + 1;
        local_44.lpReserved2 = (LPBYTE)((int)local_44.lpReserved2 + 1);
        ppvVar5 = ppvVar5 + 1;
      } while ((int)uVar8 < (int)UStack_48);
    }
  }
  iVar6 = 0;
  do {
    ppvVar5 = (HANDLE *)(DAT_005f8da0 + iVar6 * 9);
    if (DAT_005f8da0[iVar6 * 9] == -1) {
      *(undefined *)(ppvVar5 + 1) = 0x81;
      if (iVar6 == 0) {
        DVar4 = 0xfffffff6;
      }
      else {
        DVar4 = 0xfffffff5 - (iVar6 != 1);
      }
      hFile = GetStdHandle(DVar4);
      if ((hFile == (HANDLE)0xffffffff) || (DVar4 = GetFileType(hFile), DVar4 == 0)) {
        bVar2 = *(byte *)(ppvVar5 + 1) | 0x40;
        goto LAB_004b6a5e;
      }
      *ppvVar5 = hFile;
      if ((DVar4 & 0xff) == 2) {
        bVar2 = *(byte *)(ppvVar5 + 1) | 0x40;
        goto LAB_004b6a5e;
      }
      if ((DVar4 & 0xff) == 3) {
        bVar2 = *(byte *)(ppvVar5 + 1) | 8;
        goto LAB_004b6a5e;
      }
    }
    else {
      bVar2 = *(byte *)(ppvVar5 + 1) | 0x80;
LAB_004b6a5e:
      *(byte *)(ppvVar5 + 1) = bVar2;
    }
    iVar6 = iVar6 + 1;
    if (2 < iVar6) {
      SetHandleCount(DAT_005f8ea0);
      return;
    }
  } while( true );
}



// // Function: AdjustResourceSize
// // Description: This function adjusts the size of a resource (likely a file) to match a target
// size. It truncates the file if it's larger than the target size or extends it by writing zeros if
// smaller. The function handles errors using thread-local storage and returns -1 if an error
// occurs, 0 on success.
// // Old Name: FUN_004b6a80
// //
// // Arguments:
// //   None. (Uses `in_stack_00001008` as the resource identifier and `in_stack_0000100c` as the
// target size.)
// //
// // Return Value:
// //   0 on success, or -1 on failure.
// 

int AdjustResourceSize(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  undefined4 *puVar5;
  HANDLE hFile;
  BOOL BVar6;
  DWORD DVar7;
  DWORD *pDVar8;
  int iVar9;
  int iVar10;
  undefined4 in_stack_00001008;
  int in_stack_0000100c;
  
  AdjustStackForLargeAllocations();
  iVar10 = 0;
  iVar1 = SeekFilePointer(in_stack_00001008,0,1);
  if ((iVar1 == -1) || (iVar2 = SeekFilePointer(in_stack_00001008,0,2), iVar2 == -1)) {
    return -1;
  }
  iVar2 = in_stack_0000100c - iVar2;
  if (iVar2 < 1) {
    if (iVar2 < 0) {
      SeekFilePointer(in_stack_00001008,in_stack_0000100c,0);
      hFile = (HANDLE)GetResourceById(in_stack_00001008);
      BVar6 = SetEndOfFile(hFile);
      iVar10 = (BVar6 != 0) - 1;
      if (iVar10 == -1) {
        puVar5 = (undefined4 *)GetSpecificTlsOffset();
        *puVar5 = 0xd;
        DVar7 = GetLastError();
        pDVar8 = (DWORD *)GetSpecificTlsOffset0xc();
        *pDVar8 = DVar7;
      }
    }
    SeekFilePointer(in_stack_00001008,iVar1,0);
    return iVar10;
  }
  puVar5 = (undefined4 *)&stack0x00000004;
  for (iVar9 = 0x400; iVar9 != 0; iVar9 = iVar9 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + 1;
  }
  uVar3 = SetResourceMode(in_stack_00001008,0x8000);
  while( true ) {
    iVar9 = 0x1000;
    if (iVar2 < 0x1000) {
      iVar9 = iVar2;
    }
    iVar9 = WriteToResource(in_stack_00001008,&stack0x00000004,iVar9);
    if (iVar9 == -1) break;
    iVar2 = iVar2 - iVar9;
    if (iVar2 < 1) {
LAB_004b6b3a:
      SetResourceMode(in_stack_00001008,uVar3);
      SeekFilePointer(in_stack_00001008,iVar1,0);
      return iVar10;
    }
  }
  piVar4 = (int *)GetSpecificTlsOffset0xc();
  if (*piVar4 == 5) {
    puVar5 = (undefined4 *)GetSpecificTlsOffset();
    *puVar5 = 0xd;
  }
  iVar10 = -1;
  goto LAB_004b6b3a;
}



// /*
//  * Function: MapLocaleString (originally FUN_004b6bd0)
//  * Description:
//  *   This function maps strings between different locales or encodings using `LCMapStringA` or
// `LCMapStringW`.
//  *   Depending on the system configuration, it determines whether to use the ANSI or
// wide-character version.
//  *   If necessary, it converts between multi-byte and wide-character formats using
// `MultiByteToWideChar` and
//  *   `WideCharToMultiByte`. It handles memory management for dynamically allocated buffers.
//  *
//  * Parameters:
//  *   param_1 - Locale identifier (LCID) for the locale-specific string mapping
//  *   param_2 - Mapping flags for the desired string transformation
//  *   param_3 - Input multi-byte string to be mapped
//  *   param_4 - Input wide-character string (may be null)
//  *   param_5 - Output buffer for the mapped string
//  *   param_6 - Size of the output buffer (in characters)
//  *   param_7 - Code page used for the conversion between multi-byte and wide characters
//  *   param_8 - Flag indicating whether to use a special conversion option
//  *
//  * Returns:
//  *   The length of the mapped string on success, or 0 on failure.
//  */
// 

int MapLocaleString(LCID param_1,uint param_2,LPCSTR param_3,LPCWSTR param_4,LPWSTR param_5,
                   int param_6,UINT param_7,int param_8)

{
  int iVar1;
  int iVar2;
  LPCWSTR lpWideCharStr;
  
  if (DAT_005a131c == 0) {
    iVar1 = LCMapStringW(0,0x100,L"",1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = LCMapStringA(0,0x100,"",1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        return 0;
      }
      DAT_005a131c = 2;
    }
    else {
      DAT_005a131c = 1;
    }
  }
  iVar1 = (int)param_4;
  if (0 < (int)param_4) {
    iVar1 = SafeStrnlen(param_3,param_4);
  }
  if (DAT_005a131c == 2) {
    iVar1 = LCMapStringA(param_1,param_2,param_3,iVar1,(LPSTR)param_5,param_6);
    return iVar1;
  }
  if (DAT_005a131c != 1) {
    return DAT_005a131c;
  }
  param_4 = (LPCWSTR)0x0;
  if (param_7 == 0) {
    param_7 = DAT_005a1348;
  }
  iVar2 = MultiByteToWideChar(param_7,(-(uint)(param_8 != 0) & 8) + 1,param_3,iVar1,(LPWSTR)0x0,0);
  if (iVar2 == 0) {
    return 0;
  }
  lpWideCharStr = (LPCWSTR)AllocateMemoryWithCallback(iVar2 * 2);
  if (lpWideCharStr == (LPCWSTR)0x0) {
    return 0;
  }
  iVar1 = MultiByteToWideChar(param_7,1,param_3,iVar1,lpWideCharStr,iVar2);
  if ((iVar1 != 0) &&
     (iVar1 = LCMapStringW(param_1,param_2,lpWideCharStr,iVar2,(LPWSTR)0x0,0), iVar1 != 0)) {
    if ((param_2 & 0x400) == 0) {
      param_4 = (LPCWSTR)AllocateMemoryWithCallback(iVar1 * 2);
      if ((param_4 == (LPCWSTR)0x0) ||
         (iVar2 = LCMapStringW(param_1,param_2,lpWideCharStr,iVar2,param_4,iVar1), iVar2 == 0))
      goto LAB_004b6dd8;
      if (param_6 == 0) {
        iVar1 = WideCharToMultiByte(param_7,0x220,param_4,iVar1,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0
                                   );
        iVar2 = iVar1;
      }
      else {
        iVar1 = WideCharToMultiByte(param_7,0x220,param_4,iVar1,(LPSTR)param_5,param_6,(LPCSTR)0x0,
                                    (LPBOOL)0x0);
        iVar2 = iVar1;
      }
    }
    else {
      if (param_6 == 0) goto LAB_004b6d3f;
      if (param_6 < iVar1) goto LAB_004b6dd8;
      iVar2 = LCMapStringW(param_1,param_2,lpWideCharStr,iVar2,param_5,param_6);
    }
    if (iVar2 != 0) {
LAB_004b6d3f:
      FreeMemory(lpWideCharStr);
      FreeMemory(param_4);
      return iVar1;
    }
  }
LAB_004b6dd8:
  FreeMemory(lpWideCharStr);
  FreeMemory(param_4);
  return 0;
}



float10 FUN_004b6e00(double param_1)

{
  return (float10)ROUND(param_1);
}



float10 FUN_004b6e20(undefined4 param_1,uint param_2,undefined4 param_3,uint param_4)

{
  return (float10)(double)CONCAT44((param_4 ^ param_2) & 0x7fffffff ^ param_4,param_1);
}



void FUN_004b6e50(undefined4 *param_1)

{
  undefined4 uVar1;
  _SYSTEMTIME local_34;
  uint uStack_24;
  uint uStack_20;
  uint uStack_1c;
  uint uStack_18;
  int iStack_14;
  int iStack_10;
  undefined4 uStack_4;
  
  FUN_004affb0();
  *(short *)((int)param_1 + 6) =
       ((short)(DAT_004d66b8 / 0x3c) + (short)(DAT_004d66b8 >> 0x1f)) -
       (short)((longlong)DAT_004d66b8 * 0x88888889 >> 0x3f);
  GetLocalTime(&local_34);
  *(WORD *)(param_1 + 1) = local_34.wMilliseconds;
  iStack_10 = local_34.wYear - 0x76c;
  uStack_18 = (uint)local_34.wDay;
  iStack_14 = local_34.wMonth - 1;
  uStack_1c = (uint)local_34.wHour;
  uStack_20 = (uint)local_34.wMinute;
  uStack_24 = (uint)local_34.wSecond;
  uStack_4 = 0xffffffff;
  uVar1 = FUN_004bc420(&uStack_24);
  *param_1 = uVar1;
  *(undefined2 *)(param_1 + 2) = (undefined2)uStack_4;
  return;
}



int FUN_004b6f10(undefined4 param_1,byte *param_2,longlong **param_3)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  longlong **pplVar4;
  longlong *plVar5;
  uint uVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  longlong **pplVar10;
  uint uVar11;
  byte bVar12;
  byte *pbVar13;
  int iVar14;
  char *pcVar15;
  longlong *plVar16;
  char *pcVar17;
  undefined4 *puVar18;
  longlong *plVar19;
  bool bVar20;
  longlong lVar21;
  char local_1cd;
  uint local_1cc;
  char local_1c7;
  char local_1c6;
  char local_1c5;
  int local_1c4;
  char local_1c0;
  char local_1bf;
  char local_1be;
  byte local_1bd;
  uint local_1bc;
  longlong *local_1b8;
  undefined4 local_1b4;
  int local_1b0;
  int local_1ac;
  int local_1a8;
  uint local_1a4;
  byte local_19e;
  undefined local_19d;
  undefined8 local_19c;
  undefined4 local_194;
  undefined2 local_18e;
  longlong **local_18c;
  int local_188;
  undefined4 local_184;
  undefined4 local_180 [2];
  undefined local_175;
  char local_160;
  char local_15f [351];
  
  local_1bf = '\0';
  local_1cc = 0;
  local_1ac = 0;
  bVar12 = *param_2;
  pplVar10 = local_18c;
  do {
    if (bVar12 == 0) {
LAB_004b7b66:
      if ((pplVar10 == (longlong **)0xffffffff) && ((local_1ac == 0 && (local_1bf == '\0')))) {
        local_1ac = -1;
      }
      return local_1ac;
    }
    iVar14 = 0;
    if (DAT_004d3f4c < 2) {
      uVar6 = (byte)PTR_DAT_004d3d40[(uint)bVar12 * 2] & 8;
    }
    else {
      uVar6 = GetCharacterType(bVar12,8);
    }
    if (uVar6 != 0) {
      local_1cc = local_1cc - 1;
      uVar7 = FUN_004b7ce0(&local_1cc,param_1,param_1);
      FUN_004b7cc0(uVar7);
      param_2 = param_2 + 1;
      iVar8 = FUN_004bc7f0(*param_2);
      while (iVar8 != 0) {
        param_2 = param_2 + 1;
        iVar8 = FUN_004bc7f0(*param_2);
      }
    }
    if (*param_2 != 0x25) {
      local_1cc = local_1cc + 1;
      pplVar10 = (longlong **)FUN_004b7c90(param_1);
      if ((longlong **)(uint)*param_2 != pplVar10) goto LAB_004b7b4d;
      pbVar13 = param_2 + 1;
      if ((PTR_DAT_004d3d40[((uint)pplVar10 & 0xff) * 2 + 1] & 0x80) != 0) {
        local_1cc = local_1cc + 1;
        uVar6 = FUN_004b7c90(param_1);
        if (param_2[1] != uVar6) {
          local_1cc = local_1cc - 1;
          FUN_004b7cc0(uVar6,param_1);
          goto LAB_004b7b4d;
        }
        local_1cc = local_1cc - 1;
        pbVar13 = param_2 + 2;
      }
      goto LAB_004b7b13;
    }
    local_1a4 = 0;
    local_1b4 = local_1b4 & 0xffffff00;
    local_1a8 = 0;
    local_1b0 = 0;
    local_1c4 = 0;
    local_1bd = 0;
    local_1be = '\0';
    local_1c5 = '\0';
    local_1cd = '\0';
    local_1c0 = '\0';
    local_1c7 = '\0';
    local_1c6 = '\x01';
    local_188 = 0;
    do {
      pbVar13 = param_2 + 1;
      uVar6 = (uint)*pbVar13;
      if (DAT_004d3f4c < 2) {
        uVar9 = (byte)PTR_DAT_004d3d40[uVar6 * 2] & 4;
      }
      else {
        uVar9 = GetCharacterType(uVar6,4);
      }
      if (uVar9 == 0) {
        switch(uVar6) {
        case 0x2a:
          local_1c5 = local_1c5 + '\x01';
          break;
        default:
switchD_004b7090_caseD_2b:
          local_1cd = local_1cd + '\x01';
          break;
        case 0x46:
        case 0x4e:
          break;
        case 0x49:
          if ((param_2[2] != 0x36) || (param_2[3] != 0x34)) goto switchD_004b7090_caseD_2b;
          iVar14 = iVar14 + 1;
          local_19c = 0;
          pbVar13 = param_2 + 3;
          break;
        case 0x4c:
          local_1c6 = local_1c6 + '\x01';
          break;
        case 0x68:
          local_1c6 = local_1c6 + -1;
          local_1c7 = local_1c7 + -1;
          break;
        case 0x6c:
          local_1c6 = local_1c6 + '\x01';
        case 0x77:
          local_1c7 = local_1c7 + '\x01';
        }
      }
      else {
        local_1b0 = local_1b0 + 1;
        local_1c4 = (uVar6 - 0x30) + local_1c4 * 10;
      }
      param_2 = pbVar13;
    } while (local_1cd == '\0');
    pplVar4 = param_3;
    if (local_1c5 == '\0') {
      local_1b8 = *param_3;
      pplVar4 = param_3 + 1;
      local_18c = param_3;
    }
    param_3 = pplVar4;
    bVar20 = false;
    if ((local_1c7 == '\0') && ((*param_2 == 0x53 || (local_1c7 = -1, *param_2 == 0x43)))) {
      local_1c7 = '\x01';
    }
    local_1bc = *param_2 | 0x20;
    local_188 = iVar14;
    lVar21 = local_19c;
    if (local_1bc != 0x6e) {
      if ((local_1bc == 99) || (local_1bc == 0x7b)) {
        local_1cc = local_1cc + 1;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        lVar21 = local_19c;
      }
      else {
        pplVar10 = (longlong **)FUN_004b7ce0(&local_1cc,param_1);
        lVar21 = local_19c;
      }
    }
    plVar16 = local_1b8;
    uVar6 = local_1bc;
    local_19c = lVar21;
    if ((local_1b0 != 0) && (local_1c4 == 0)) {
LAB_004b7b4d:
      local_1cc = local_1cc - 1;
      FUN_004b7cc0(pplVar10,param_1);
      goto LAB_004b7b66;
    }
    switch(local_1bc) {
    case 99:
      if (local_1b0 == 0) {
        local_1b0 = 1;
        local_1c4 = local_1c4 + 1;
      }
      if ('\0' < local_1c7) {
        local_1c0 = '\x01';
      }
      pcVar15 = &DAT_004d662c;
      goto LAB_004b720e;
    case 100:
    case 0x6f:
    case 0x75:
      goto switchD_004b71a8_caseD_64;
    case 0x65:
    case 0x66:
    case 0x67:
      pcVar15 = &local_160;
      if (pplVar10 == (longlong **)0x2d) {
        local_160 = '-';
        pcVar15 = local_15f;
LAB_004b7853:
        local_1c4 = local_1c4 + -1;
        local_1cc = local_1cc + 1;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        lVar21 = local_19c;
      }
      else if (pplVar10 == (longlong **)0x2b) goto LAB_004b7853;
      iVar14 = local_1a8;
      if ((local_1b0 == 0) || (0x15d < local_1c4)) {
        local_1c4 = 0x15d;
      }
      while( true ) {
        if (DAT_004d3f4c < 2) {
          uVar6 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 4;
        }
        else {
          local_19c = lVar21;
          uVar6 = GetCharacterType(pplVar10,4);
          lVar21 = local_19c;
        }
        local_19c = lVar21;
        if ((uVar6 == 0) ||
           (iVar8 = local_1c4 + -1, bVar20 = local_1c4 == 0, local_1c4 = iVar8, bVar20)) break;
        *pcVar15 = (char)pplVar10;
        pcVar15 = pcVar15 + 1;
        local_1cc = local_1cc + 1;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        iVar14 = iVar14 + 1;
        lVar21 = local_19c;
      }
      if ((DAT_004d3f50 == (char)pplVar10) &&
         (iVar8 = local_1c4 + -1, bVar20 = local_1c4 != 0, local_1c4 = iVar8, bVar20)) {
        local_1cc = local_1cc + 1;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        *pcVar15 = DAT_004d3f50;
        while( true ) {
          pcVar15 = pcVar15 + 1;
          if (DAT_004d3f4c < 2) {
            uVar6 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 4;
            lVar21 = local_19c;
          }
          else {
            uVar6 = GetCharacterType(pplVar10,4);
            lVar21 = local_19c;
          }
          if ((uVar6 == 0) ||
             (iVar8 = local_1c4 + -1, bVar20 = local_1c4 == 0, local_1c4 = iVar8, bVar20)) break;
          *pcVar15 = (char)pplVar10;
          iVar14 = iVar14 + 1;
          local_1cc = local_1cc + 1;
          local_19c = lVar21;
          pplVar10 = (longlong **)FUN_004b7c90(param_1);
        }
      }
      pcVar17 = pcVar15;
      if ((iVar14 != 0) &&
         (((pplVar10 == (longlong **)0x65 || (pplVar10 == (longlong **)0x45)) &&
          (iVar8 = local_1c4 + -1, bVar20 = local_1c4 != 0, local_1c4 = iVar8, bVar20)))) {
        *pcVar15 = 'e';
        pcVar17 = pcVar15 + 1;
        local_1cc = local_1cc + 1;
        local_19c = lVar21;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        if (pplVar10 == (longlong **)0x2d) {
          *pcVar17 = '-';
          pcVar17 = pcVar15 + 2;
LAB_004b79ae:
          iVar8 = local_1c4 + -1;
          lVar21 = local_19c;
          if (local_1c4 != 0) goto LAB_004b79c3;
        }
        else if (pplVar10 == (longlong **)0x2b) goto LAB_004b79ae;
        while( true ) {
          if (DAT_004d3f4c < 2) {
            uVar6 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 4;
            lVar21 = local_19c;
          }
          else {
            uVar6 = GetCharacterType(pplVar10,4);
            lVar21 = local_19c;
          }
          if ((uVar6 == 0) ||
             (iVar8 = local_1c4 + -1, bVar20 = local_1c4 == 0, local_1c4 = iVar8, bVar20)) break;
          iVar14 = iVar14 + 1;
          *pcVar17 = (char)pplVar10;
          pcVar17 = pcVar17 + 1;
LAB_004b79c3:
          local_1c4 = iVar8;
          local_1cc = local_1cc + 1;
          local_19c = lVar21;
          pplVar10 = (longlong **)FUN_004b7c90(param_1);
        }
      }
      local_1cc = local_1cc - 1;
      local_19c = lVar21;
      FUN_004b7cc0(pplVar10,param_1);
      if (iVar14 == 0) goto LAB_004b7b66;
      lVar21 = local_19c;
      if (local_1c5 == '\0') {
        local_1ac = local_1ac + 1;
        *pcVar17 = '\0';
        (*(code *)PTR_FUN_004d3f80)(local_1c6 + -1,local_1b8,&local_160);
        lVar21 = local_19c;
      }
      break;
    default:
      if ((longlong **)(uint)*param_2 != pplVar10) goto LAB_004b7b4d;
      local_1bf = local_1bf + -1;
      if (local_1c5 == '\0') {
        param_3 = local_18c;
      }
      break;
    case 0x69:
      local_1bc = 100;
    case 0x78:
      uVar6 = local_1bc;
      if (pplVar10 == (longlong **)0x2d) {
        local_1be = '\x01';
LAB_004b7462:
        local_1c4 = local_1c4 + -1;
        if ((local_1c4 == 0) && (local_1b0 != 0)) {
          bVar20 = true;
        }
        else {
          local_1cc = local_1cc + 1;
          pplVar10 = (longlong **)FUN_004b7c90(param_1);
          lVar21 = local_19c;
        }
      }
      else if (pplVar10 == (longlong **)0x2b) goto LAB_004b7462;
      if (pplVar10 == (longlong **)0x30) {
        local_1cc = local_1cc + 1;
        local_19c = lVar21;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        if (((char)pplVar10 == 'x') || ((char)pplVar10 == 'X')) {
          local_1cc = local_1cc + 1;
          pplVar10 = (longlong **)FUN_004b7c90(param_1);
          uVar6 = 0x78;
          local_1bc = 0x78;
          lVar21 = local_19c;
        }
        else {
          local_1a8 = 1;
          if (uVar6 == 0x78) {
            local_1cc = local_1cc - 1;
            FUN_004b7cc0(pplVar10,param_1);
            pplVar10 = (longlong **)0x30;
            lVar21 = local_19c;
          }
          else {
            uVar6 = 0x6f;
            local_1bc = 0x6f;
            lVar21 = local_19c;
          }
        }
      }
      goto LAB_004b7544;
    case 0x6e:
      uVar6 = local_1cc;
      if (local_1c5 != '\0') break;
      goto LAB_004b7805;
    case 0x70:
      local_1c6 = '\x01';
switchD_004b71a8_caseD_64:
      if (pplVar10 == (longlong **)0x2d) {
        local_1be = '\x01';
LAB_004b751a:
        local_1c4 = local_1c4 + -1;
        if ((local_1c4 == 0) && (local_1b0 != 0)) {
          bVar20 = true;
        }
        else {
          local_1cc = local_1cc + 1;
          pplVar10 = (longlong **)FUN_004b7c90(param_1);
          lVar21 = local_19c;
        }
      }
      else if (pplVar10 == (longlong **)0x2b) goto LAB_004b751a;
LAB_004b7544:
      uVar9 = local_1a4;
      local_19c = lVar21;
      if (iVar14 == 0) {
        while (!bVar20) {
          local_19c = lVar21;
          if ((uVar6 == 0x78) || (uVar6 == 0x70)) {
            if (DAT_004d3f4c < 2) {
              uVar11 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 0x80;
            }
            else {
              uVar11 = GetCharacterType(pplVar10,0x80);
              lVar21 = local_19c;
            }
            if (uVar11 != 0) {
              uVar9 = uVar9 << 4;
              local_19c = lVar21;
              pplVar10 = (longlong **)FUN_004b7c50(pplVar10);
              goto LAB_004b773a;
            }
LAB_004b7736:
            bVar20 = true;
            local_19c = lVar21;
          }
          else {
            if (DAT_004d3f4c < 2) {
              uVar11 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 4;
            }
            else {
              uVar11 = GetCharacterType(pplVar10,4);
              lVar21 = local_19c;
            }
            if (uVar11 == 0) goto LAB_004b7736;
            local_19c = lVar21;
            if (uVar6 == 0x6f) {
              if (0x37 < (int)pplVar10) goto LAB_004b7736;
              uVar9 = uVar9 << 3;
            }
            else {
              uVar9 = uVar9 * 10;
            }
          }
LAB_004b773a:
          if (bVar20) {
            local_1cc = local_1cc - 1;
            FUN_004b7cc0(pplVar10,param_1);
            lVar21 = local_19c;
          }
          else {
            local_1a8 = local_1a8 + 1;
            uVar9 = (uVar9 - 0x30) + (int)pplVar10;
            if ((local_1b0 == 0) || (local_1c4 = local_1c4 + -1, local_1c4 != 0)) {
              local_1cc = local_1cc + 1;
              pplVar10 = (longlong **)FUN_004b7c90(param_1);
              lVar21 = local_19c;
            }
            else {
              bVar20 = true;
              lVar21 = local_19c;
            }
          }
        }
        local_1a4 = uVar9;
        if (local_1be != '\0') {
          local_1a4 = -uVar9;
        }
      }
      else {
        while (!bVar20) {
          if (local_1bc == 0x78) {
            if (DAT_004d3f4c < 2) {
              uVar6 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 0x80;
            }
            else {
              uVar6 = GetCharacterType(pplVar10,0x80);
            }
            if (uVar6 != 0) {
              lVar21 = __allshl();
              pplVar10 = (longlong **)FUN_004b7c50(pplVar10);
              goto LAB_004b7611;
            }
LAB_004b760d:
            bVar20 = true;
          }
          else {
            if (DAT_004d3f4c < 2) {
              uVar6 = (byte)PTR_DAT_004d3d40[(int)pplVar10 * 2] & 4;
            }
            else {
              uVar6 = GetCharacterType(pplVar10,4);
            }
            if (uVar6 == 0) goto LAB_004b760d;
            if (local_1bc == 0x6f) {
              if (0x37 < (int)pplVar10) goto LAB_004b760d;
              lVar21 = __allshl();
            }
            else {
              lVar21 = __allmul(lVar21,10,0);
            }
          }
LAB_004b7611:
          if (bVar20) {
            local_1cc = local_1cc - 1;
            FUN_004b7cc0(pplVar10,param_1);
          }
          else {
            pplVar4 = pplVar10 + -0xc;
            local_1a8 = local_1a8 + 1;
            if ((local_1b0 == 0) || (local_1c4 = local_1c4 + -1, local_1c4 != 0)) {
              local_1cc = local_1cc + 1;
              pplVar10 = (longlong **)FUN_004b7c90(param_1);
              lVar21 = lVar21 + (int)pplVar4;
            }
            else {
              bVar20 = true;
              lVar21 = lVar21 + (int)pplVar4;
            }
          }
        }
        local_19c._4_4_ = (int)((ulonglong)lVar21 >> 0x20);
        local_19c._0_4_ = (int)lVar21;
        if (local_1be != '\0') {
          lVar21 = CONCAT44(-(local_19c._4_4_ + (uint)((int)local_19c != 0)),-(int)local_19c);
        }
      }
      iVar14 = local_1a8;
      if (local_1bc == 0x46) {
        iVar14 = 0;
      }
      if (iVar14 == 0) goto LAB_004b7b66;
      if (local_1c5 == '\0') {
        local_1ac = local_1ac + 1;
        uVar6 = local_1a4;
        iVar14 = local_188;
LAB_004b7805:
        if (iVar14 == 0) {
          if (local_1c6 == '\0') {
            *(short *)local_1b8 = (short)uVar6;
          }
          else {
            *(uint *)local_1b8 = uVar6;
          }
        }
        else {
          *local_1b8 = lVar21;
        }
      }
      break;
    case 0x73:
      if ('\0' < local_1c7) {
        local_1c0 = '\x01';
      }
      pcVar15 = s______004d6624;
LAB_004b720e:
      local_1bd = 0xff;
      pbVar13 = param_2;
LAB_004b7213:
      param_2 = pbVar13;
      puVar18 = local_180;
      for (iVar14 = 8; iVar14 != 0; iVar14 = iVar14 + -1) {
        *puVar18 = 0;
        puVar18 = puVar18 + 1;
      }
      if ((local_1bc == 0x7b) && (*pcVar15 == 0x5d)) {
        local_1b4 = CONCAT31(local_1b4._1_3_,0x5d);
        pcVar15 = (char *)((byte *)pcVar15 + 1);
        local_175 = 0x20;
      }
      bVar12 = *pcVar15;
      uVar6 = local_1b4;
      while (bVar12 != 0x5d) {
        pbVar13 = (byte *)pcVar15 + 1;
        uVar9 = (uint)local_184 >> 8;
        local_184 = CONCAT31((int3)uVar9,bVar12);
        local_1b4._1_3_ = (undefined3)(uVar6 >> 8);
        if (((bVar12 == 0x2d) &&
            (local_1b4._0_1_ = (byte)uVar6, bVar3 = (byte)local_1b4, (byte)local_1b4 != 0)) &&
           (bVar2 = *pbVar13, bVar2 != 0x5d)) {
          pbVar13 = (byte *)pcVar15 + 2;
          uVar9 = (uint)local_194 >> 8;
          bVar12 = (byte)local_1b4;
          if (bVar2 <= (byte)local_1b4) {
            local_1b4 = CONCAT31(local_1b4._1_3_,bVar2);
            bVar12 = bVar2;
            uVar6 = local_1b4;
            bVar2 = bVar3;
          }
          local_1b4 = uVar6;
          local_194 = CONCAT31((int3)uVar9,bVar2);
          if (bVar12 <= bVar2) {
            uVar6 = local_1b4 & 0xff;
            iVar14 = (bVar2 - uVar6) + 1;
            do {
              bVar12 = (byte)uVar6;
              pbVar1 = (byte *)((int)local_180 + (uVar6 >> 3));
              uVar6 = uVar6 + 1;
              iVar14 = iVar14 + -1;
              *pbVar1 = *pbVar1 | '\x01' << (bVar12 & 7);
            } while (iVar14 != 0);
          }
          local_1b4 = local_1b4 & 0xffffff00;
        }
        else {
          local_1b4 = CONCAT31(local_1b4._1_3_,bVar12);
          pbVar1 = (byte *)((int)local_180 + (uint)(bVar12 >> 3));
          *pbVar1 = *pbVar1 | '\x01' << (bVar12 & 7);
        }
        pcVar15 = (char *)pbVar13;
        uVar6 = local_1b4;
        bVar12 = *pbVar13;
      }
      if (*pcVar15 == 0) goto LAB_004b7b66;
      if (local_1bc == 0x7b) {
        param_2 = (byte *)pcVar15;
      }
      local_1cc = local_1cc - 1;
      local_1b4 = uVar6;
      FUN_004b7cc0(pplVar10,param_1);
      plVar19 = plVar16;
      while( true ) {
        if ((local_1b0 != 0) &&
           (iVar14 = local_1c4 + -1, bVar20 = local_1c4 == 0, local_1c4 = iVar14, plVar5 = plVar19,
           bVar20)) goto LAB_004b73fc;
        local_1cc = local_1cc + 1;
        pplVar10 = (longlong **)FUN_004b7c90(param_1);
        if ((pplVar10 == (longlong **)0xffffffff) ||
           (bVar12 = (byte)pplVar10,
           ((int)(char)(*(byte *)((int)local_180 + ((int)pplVar10 >> 3)) ^ local_1bd) &
           1 << (bVar12 & 7)) == 0)) break;
        if (local_1c5 == '\0') {
          if (local_1c0 == '\0') {
            *(byte *)plVar19 = bVar12;
            plVar19 = (longlong *)((int)plVar19 + 1);
          }
          else {
            local_19e = bVar12;
            if ((PTR_DAT_004d3d40[((uint)pplVar10 & 0xff) * 2 + 1] & 0x80) != 0) {
              local_1cc = local_1cc + 1;
              local_19d = FUN_004b7c90(param_1);
            }
            FUN_004bc670(&local_18e,&local_19e,DAT_004d3f4c);
            *(undefined2 *)plVar19 = local_18e;
            plVar19 = (longlong *)((int)plVar19 + 2);
          }
        }
        else {
          plVar16 = (longlong *)((int)plVar16 + 1);
        }
      }
      local_1cc = local_1cc - 1;
      local_1b8 = plVar19;
      FUN_004b7cc0(pplVar10,param_1);
      plVar5 = local_1b8;
LAB_004b73fc:
      local_1b8 = plVar5;
      if (plVar16 == plVar19) goto LAB_004b7b66;
      lVar21 = local_19c;
      if ((local_1c5 == '\0') && (local_1ac = local_1ac + 1, local_1bc != 99)) {
        if (local_1c0 == '\0') {
          *(undefined *)local_1b8 = 0;
        }
        else {
          *(undefined2 *)local_1b8 = 0;
        }
      }
      break;
    case 0x7b:
      if ('\0' < local_1c7) {
        local_1c0 = '\x01';
      }
      pbVar13 = param_2 + 1;
      pcVar15 = (char *)pbVar13;
      if (*pbVar13 == 0x5e) {
        pcVar15 = (char *)(param_2 + 2);
        param_2 = pbVar13;
        goto LAB_004b720e;
      }
      goto LAB_004b7213;
    }
    local_1bf = local_1bf + '\x01';
    pbVar13 = param_2 + 1;
    local_19c = lVar21;
LAB_004b7b13:
    param_2 = pbVar13;
    if ((pplVar10 == (longlong **)0xffffffff) && ((*param_2 != 0x25 || (param_2[1] != 0x6e))))
    goto LAB_004b7b66;
    bVar12 = *param_2;
  } while( true );
}



uint FUN_004b7c50(uint param_1)

{
  uint uVar1;
  
  if (DAT_004d3f4c < 2) {
    uVar1 = (byte)PTR_DAT_004d3d40[param_1 * 2] & 4;
  }
  else {
    uVar1 = GetCharacterType(param_1,4);
  }
  if (uVar1 == 0) {
    param_1 = (param_1 & 0xffffffdf) - 7;
  }
  return param_1;
}



uint FUN_004b7c90(byte **param_1)

{
  byte bVar1;
  byte *pbVar2;
  uint uVar3;
  
  pbVar2 = param_1[1];
  param_1[1] = pbVar2 + -1;
  if (-1 < (int)(pbVar2 + -1)) {
    bVar1 = **param_1;
    *param_1 = *param_1 + 1;
    return (uint)bVar1;
  }
  uVar3 = ReadByteFromResource(param_1);
  return uVar3;
}



void FUN_004b7cc0(int param_1,undefined4 param_2)

{
  if (param_1 != -1) {
    FUN_004bc820(param_1,param_2);
  }
  return;
}



undefined4 FUN_004b7ce0(int *param_1,undefined4 param_2)

{
  undefined4 uVar1;
  int iVar2;
  
  *param_1 = *param_1 + 1;
  uVar1 = FUN_004b7c90(param_2);
  iVar2 = FUN_004bc7f0(uVar1);
  while (iVar2 != 0) {
    *param_1 = *param_1 + 1;
    uVar1 = FUN_004b7c90(param_2);
    iVar2 = FUN_004bc7f0(uVar1);
  }
  return uVar1;
}



// /*
//  * Function: AllocateAndInitializeMemory (originally FUN_004b7d30)
//  * Description:
//  *   This function allocates a block of memory of size `param_1 * param_2`, either from a custom
// memory pool
//  *   or from the system heap. If the custom memory pool is insufficient, it tries the heap. The
// function also
//  *   ensures that the allocated memory is zero-initialized. If the allocation fails, and a memory
// callback is
//  *   allowed, it invokes the callback.
//  *
//  * Parameters:
//  *   param_1 - The number of elements.
//  *   param_2 - The size of each element.
//  *
//  * Returns:
//  *   A pointer to the allocated memory, or `nullptr` if the allocation fails.
//  */
// 

undefined4 * AllocateAndInitializeMemory(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  uint dwBytes;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  dwBytes = param_2 * param_1;
  if (dwBytes < 0xffffffe1) {
    if (dwBytes == 0) {
      dwBytes = 0x10;
    }
    else {
      dwBytes = dwBytes + 0xf & 0xfffffff0;
    }
  }
  do {
    puVar3 = (undefined4 *)0x0;
    if (dwBytes < 0xffffffe1) {
      if (DAT_004d619c < dwBytes) {
LAB_004b7da4:
        if (puVar3 != (undefined4 *)0x0) {
          return puVar3;
        }
      }
      else {
        EnterOrInitCriticalSection(9);
        puVar3 = (undefined4 *)AllocateCustomMemoryBlock(dwBytes >> 4);
        LeaveCriticalSectionFunc(9);
        if (puVar3 != (undefined4 *)0x0) {
          puVar4 = puVar3;
          for (uVar2 = dwBytes >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
            *puVar4 = 0;
            puVar4 = puVar4 + 1;
          }
          for (uVar2 = dwBytes & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
            *(undefined *)puVar4 = 0;
            puVar4 = (undefined4 *)((int)puVar4 + 1);
          }
          goto LAB_004b7da4;
        }
      }
      puVar3 = (undefined4 *)HeapAlloc(gHeapMemory,8,dwBytes);
    }
    if ((puVar3 != (undefined4 *)0x0) || (DAT_005a130c == 0)) {
      return puVar3;
    }
    iVar1 = InvokeCallbackIfExists(dwBytes);
    if (iVar1 == 0) {
      return (undefined4 *)0x0;
    }
  } while( true );
}



uint FUN_004b8030(uint param_1)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  uint local_8 [2];
  
  uVar1 = param_1;
  if (param_1 < 0x100) {
    if (((&DAT_005a14a1)[param_1] & 0x20) == 0x20) {
      return (uint)(byte)(&DAT_005a15a8)[param_1];
    }
  }
  else {
    bVar2 = (byte)(param_1 >> 8);
    param_1 = CONCAT31(CONCAT21(param_1._2_2_,(char)param_1),bVar2);
    if (((&DAT_005a14a1)[bVar2] & 4) != 0) {
      iVar3 = MapLocaleString(DAT_005a16ac,0x200,&param_1,2,local_8,2,DAT_005a16a8,1);
      if (iVar3 != 0) {
        return (local_8[0] & 0xff) * 0x100 + (local_8[0] >> 8 & 0xff);
      }
    }
  }
  return uVar1;
}



char * FUN_004b80d0(undefined4 *param_1)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  char *pcVar4;
  char *pcVar5;
  undefined *puVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  
  iVar2 = GetOrAllocateTlsData();
  if (*(int *)(iVar2 + 0x38) == 0) {
    iVar3 = AllocateMemoryWithCallback(0x1a);
    *(int *)(iVar2 + 0x38) = iVar3;
    pcVar4 = &DAT_005a1350;
    if (iVar3 == 0) goto LAB_004b80fb;
  }
  pcVar4 = *(char **)(iVar2 + 0x38);
LAB_004b80fb:
  iVar2 = param_1[6];
  iVar3 = param_1[4];
  pcVar1 = pcVar4;
  iVar8 = 0;
  do {
    pcVar5 = pcVar1;
    iVar9 = iVar8 + 1;
    *pcVar5 = "SunMonTueWedThuFriSat"[iVar2 * 3 + iVar8];
    pcVar5[4] = "JanFebMarAprMayJunJulAugSepOctNovDec"[iVar3 * 3 + iVar8];
    pcVar1 = pcVar5 + 1;
    iVar8 = iVar9;
  } while (iVar9 < 3);
  pcVar5[1] = ' ';
  pcVar5[5] = ' ';
  puVar6 = (undefined *)FUN_004b81c0(pcVar5 + 6,param_1[3]);
  *puVar6 = 0x20;
  puVar6 = (undefined *)FUN_004b81c0(puVar6 + 1,param_1[2]);
  *puVar6 = 0x3a;
  puVar6 = (undefined *)FUN_004b81c0(puVar6 + 1,param_1[1]);
  *puVar6 = 0x3a;
  puVar6 = (undefined *)FUN_004b81c0(puVar6 + 1,*param_1);
  *puVar6 = 0x20;
  uVar7 = FUN_004b81c0(puVar6 + 1,(int)param_1[5] / 100 + 0x13);
  puVar6 = (undefined *)FUN_004b81c0(uVar7,(int)param_1[5] % 100);
  *puVar6 = 10;
  puVar6[1] = 0;
  return pcVar4;
}



char * FUN_004b81c0(char *param_1,int param_2)

{
  *param_1 = (char)(param_2 / 10) + '0';
  param_1[1] = (char)(param_2 % 10) + '0';
  return param_1 + 2;
}



tm * FUN_004b8200(int *param_1)

{
  int *piVar1;
  tm *ptVar2;
  int iVar3;
  int iVar4;
  
  piVar1 = param_1;
  if (*param_1 < 0) {
    return (tm *)0x0;
  }
  FUN_004affb0();
  iVar3 = *piVar1;
  if ((iVar3 < 0x3f481) || (0x7ffc0b7e < iVar3)) {
    ptVar2 = (tm *)FUN_004bc8b0(piVar1);
    iVar4 = __isindst(ptVar2);
    iVar3 = ptVar2->tm_sec;
    if (iVar4 != 0) {
      iVar3 = iVar3 - DAT_004d66c0;
    }
    param_1 = (int *)(iVar3 - DAT_004d66b8);
    iVar3 = (int)param_1 % 0x3c;
    ptVar2->tm_sec = iVar3;
    if (iVar3 < 0) {
      ptVar2->tm_sec = iVar3 + 0x3c;
      param_1 = (int *)((int)param_1 + -0x3c);
    }
    param_1 = (int *)((int)param_1 / 0x3c + ptVar2->tm_min);
    iVar3 = (int)param_1 % 0x3c;
    ptVar2->tm_min = iVar3;
    if (iVar3 < 0) {
      ptVar2->tm_min = iVar3 + 0x3c;
      param_1 = (int *)((int)param_1 + -0x3c);
    }
    param_1 = (int *)((int)param_1 / 0x3c + ptVar2->tm_hour);
    iVar3 = (int)param_1 % 0x18;
    ptVar2->tm_hour = iVar3;
    if (iVar3 < 0) {
      ptVar2->tm_hour = iVar3 + 0x18;
      param_1 = (int *)((int)param_1 + -0x18);
    }
    iVar3 = (int)param_1 / 0x18;
    if (0 < iVar3) {
      ptVar2->tm_wday = (iVar3 + ptVar2->tm_wday) % 7;
      ptVar2->tm_mday = ptVar2->tm_mday + iVar3;
      ptVar2->tm_yday = ptVar2->tm_yday + iVar3;
      return ptVar2;
    }
    if (iVar3 < 0) {
      ptVar2->tm_wday = (iVar3 + 7 + ptVar2->tm_wday) % 7;
      iVar4 = ptVar2->tm_mday + iVar3;
      ptVar2->tm_mday = iVar4;
      if (iVar4 < 1) {
        ptVar2->tm_yday = 0x16c;
        ptVar2->tm_mday = iVar4 + 0x1f;
        ptVar2->tm_mon = 0xb;
        ptVar2->tm_year = ptVar2->tm_year + -1;
        return ptVar2;
      }
      ptVar2->tm_yday = ptVar2->tm_yday + iVar3;
    }
  }
  else {
    param_1 = (int *)(iVar3 - DAT_004d66b8);
    ptVar2 = (tm *)FUN_004bc8b0(&param_1);
    if (DAT_004d66bc != 0) {
      iVar3 = __isindst(ptVar2);
      if (iVar3 != 0) {
        param_1 = (int *)((int)param_1 - DAT_004d66c0);
        ptVar2 = (tm *)FUN_004bc8b0(&param_1);
        ptVar2->tm_isdst = 1;
        return ptVar2;
      }
    }
  }
  return ptVar2;
}



undefined4 FUN_004b83f0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_005f8d8c);
  bVar2 = DAT_005f8d88 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    EnterOrInitCriticalSection(0x13);
  }
  uVar1 = FUN_004b8470(param_1,param_2,param_3);
  if (!bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    return uVar1;
  }
  LeaveCriticalSectionFunc(0x13);
  return uVar1;
}



uint FUN_004b8470(LPSTR param_1,LPCWSTR param_2,uint param_3)

{
  char cVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  DWORD DVar5;
  undefined4 *puVar6;
  LPCWSTR pWVar7;
  int iVar8;
  int local_4;
  
  uVar3 = param_3;
  pWVar7 = param_2;
  uVar2 = 0;
  local_4 = 0;
  if ((param_1 != (LPSTR)0x0) && (param_3 == 0)) {
    return uVar2;
  }
  if (param_1 == (LPSTR)0x0) {
    if (DAT_005a1338 == 0) {
      uVar3 = FUN_004bca20(param_2);
      return uVar3;
    }
    iVar4 = WideCharToMultiByte(DAT_005a1348,0x220,param_2,-1,(LPSTR)0x0,0,(LPCSTR)0x0,&local_4);
    if ((iVar4 != 0) && (local_4 == 0)) {
      return iVar4 - 1;
    }
  }
  else if (DAT_005a1338 == 0) {
    if (param_3 == 0) {
      return 0;
    }
    while ((ushort)*pWVar7 < 0x100) {
      param_1[uVar2] = *(CHAR *)pWVar7;
      if (*pWVar7 == L'\0') {
        return uVar2;
      }
      uVar2 = uVar2 + 1;
      pWVar7 = pWVar7 + 1;
      if (param_3 <= uVar2) {
        return uVar2;
      }
    }
  }
  else if (DAT_004d3f4c == 1) {
    if (param_3 != 0) {
      uVar3 = FUN_004b8660(param_2,param_3);
    }
    uVar3 = WideCharToMultiByte(DAT_005a1348,0x220,pWVar7,uVar3,param_1,uVar3,(LPCSTR)0x0,&local_4);
    if ((uVar3 != 0) && (local_4 == 0)) {
      if (param_1[uVar3 - 1] != '\0') {
        return uVar3;
      }
      return uVar3 - 1;
    }
  }
  else {
    iVar4 = WideCharToMultiByte(DAT_005a1348,0x220,param_2,-1,param_1,param_3,(LPCSTR)0x0,&local_4);
    if (iVar4 == 0) {
      if ((local_4 == 0) && (DVar5 = GetLastError(), DVar5 == 0x7a)) {
        uVar2 = 0;
        if (uVar3 != 0) {
          do {
            iVar4 = WideCharToMultiByte(DAT_005a1348,0,pWVar7,1,(LPSTR)&param_2,DAT_004d3f4c,
                                        (LPCSTR)0x0,&local_4);
            if ((iVar4 == 0) || (local_4 != 0)) goto LAB_004b8646;
            if (uVar3 < iVar4 + uVar2) {
              return uVar2;
            }
            iVar8 = 0;
            if (0 < iVar4) {
              do {
                cVar1 = *(char *)((int)&param_2 + iVar8);
                param_1[uVar2] = cVar1;
                if (cVar1 == '\0') {
                  return uVar2;
                }
                iVar8 = iVar8 + 1;
                uVar2 = uVar2 + 1;
              } while (iVar8 < iVar4);
            }
            pWVar7 = pWVar7 + 1;
          } while (uVar2 < uVar3);
        }
        return uVar2;
      }
    }
    else if (local_4 == 0) {
      return iVar4 - 1;
    }
  }
LAB_004b8646:
  puVar6 = (undefined4 *)GetSpecificTlsOffset();
  *puVar6 = 0x2a;
  return 0xffffffff;
}



int FUN_004b8660(short *param_1,int param_2)

{
  short *psVar1;
  int iVar2;
  
  psVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      if (*psVar1 == 0) break;
      psVar1 = psVar1 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    if ((iVar2 != 0) && (*psVar1 == 0)) {
      return ((int)psVar1 - (int)param_1 >> 1) + 1;
    }
  }
  return param_2;
}



char * FUN_004b86a0(char *param_1)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  char **ppcVar7;
  char *pcVar8;
  
  if (((DAT_005a126c != (char **)0x0) ||
      (((DAT_005a1274 == 0 || (iVar2 = FUN_004bca80(), iVar2 == 0)) &&
       (DAT_005a126c != (char **)0x0)))) && (param_1 != (char *)0x0)) {
    uVar3 = 0xffffffff;
    pcVar6 = *DAT_005a126c;
    pcVar8 = param_1;
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      cVar1 = *pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (cVar1 != '\0');
    uVar4 = ~uVar3 - 1;
    ppcVar7 = DAT_005a126c;
    if (pcVar6 != (char *)0x0) {
      do {
        uVar5 = 0xffffffff;
        pcVar8 = pcVar6;
        do {
          if (uVar5 == 0) break;
          uVar5 = uVar5 - 1;
          cVar1 = *pcVar8;
          pcVar8 = pcVar8 + 1;
        } while (cVar1 != '\0');
        if (((uVar4 < ~uVar5 - 1) && (pcVar6[uVar4] == '=')) &&
           (iVar2 = FUN_004bca40(pcVar6,param_1,uVar4), iVar2 == 0)) {
          return *ppcVar7 + ~uVar3;
        }
        pcVar6 = ppcVar7[1];
        ppcVar7 = ppcVar7 + 1;
        if (pcVar6 == (char *)0x0) {
          return (char *)0x0;
        }
      } while( true );
    }
  }
  return (char *)0x0;
}



BOOL FUN_004b8730(DWORD param_1,LPCWSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6
                 )

{
  BOOL BVar1;
  int cbMultiByte;
  LPCSTR lpMultiByteStr;
  int iVar2;
  LPWORD lpCharType;
  int local_4;
  
  lpCharType = (LPWORD)0x0;
  if (DAT_005a136c == 0) {
    BVar1 = GetStringTypeW(1,L"",1,(LPWORD)&local_4);
    if (BVar1 == 0) {
      BVar1 = GetStringTypeA(0,1,"",1,(LPWORD)&local_4);
      if (BVar1 == 0) {
        return 0;
      }
      DAT_005a136c = 2;
    }
    else {
      DAT_005a136c = 1;
    }
  }
  if (DAT_005a136c != 1) {
    local_4 = DAT_005a136c;
    if (DAT_005a136c == 2) {
      local_4 = 0;
      if (param_5 == 0) {
        param_5 = DAT_005a1348;
      }
      cbMultiByte = WideCharToMultiByte(param_5,0x220,param_2,param_3,(LPSTR)0x0,0,(LPCSTR)0x0,
                                        (LPBOOL)0x0);
      if (cbMultiByte == 0) {
        return 0;
      }
      lpMultiByteStr = (LPCSTR)AllocateAndInitializeMemory(1,cbMultiByte);
      if (lpMultiByteStr == (LPCSTR)0x0) {
        return 0;
      }
      iVar2 = WideCharToMultiByte(param_5,0x220,param_2,param_3,lpMultiByteStr,cbMultiByte,
                                  (LPCSTR)0x0,(LPBOOL)0x0);
      if ((iVar2 != 0) &&
         (lpCharType = (LPWORD)AllocateMemoryWithCallback(cbMultiByte * 2 + 2),
         lpCharType != (LPWORD)0x0)) {
        if (param_6 == 0) {
          param_6 = DAT_005a1338;
        }
        lpCharType[param_3] = 0xffff;
        lpCharType[param_3 + -1] = 0xffff;
        local_4 = GetStringTypeA(param_6,param_1,lpMultiByteStr,cbMultiByte,lpCharType);
        if ((lpCharType[param_3 + -1] == 0xffff) || (lpCharType[param_3] != 0xffff)) {
          local_4 = 0;
        }
        else {
          FUN_004ba3c0(param_4,lpCharType,param_3 * 2);
        }
      }
      FreeMemory(lpMultiByteStr);
      FreeMemory(lpCharType);
    }
    return local_4;
  }
  BVar1 = GetStringTypeW(param_1,param_2,param_3,param_4);
  return BVar1;
}



// /*
//  * Function: GetStringTypeWrapper (originally FUN_004b88c0)
//  * Description:
//  *   This function provides a wrapper around Windows API calls to retrieve string type
// information,
//  *   converting the string between ANSI and Unicode formats as necessary. It checks if the string
//  *   type is available in Unicode or ANSI and uses the appropriate API (GetStringTypeW or
// GetStringTypeA).
//  *   If the conversion is required, it uses MultiByteToWideChar to handle the conversion.
//  *
//  * Globals:
//  *   DAT_005a1370 - Used to track whether the string type is Unicode (1) or ANSI (2).
//  *   DAT_005a1338 - The default LCID (Locale Identifier).
//  *   DAT_005a1348 - The default code page for string conversion.
//  *
//  * Parameters:
//  *   param_1 - String type flags (e.g., CT_CTYPE1, CT_CTYPE2).
//  *   param_2 - Pointer to the string to analyze.
//  *   param_3 - Length of the string to analyze.
//  *   param_4 - Pointer to the buffer that receives the string type information.
//  *   param_5 - Code page identifier for MultiByteToWideChar.
//  *   param_6 - Locale identifier (LCID), used for GetStringTypeA if needed.
//  *   param_7 - Flag indicating whether the string is null-terminated.
//  *
//  * Returns:
//  *   TRUE if the string type information was successfully retrieved, otherwise FALSE.
//  */

BOOL GetStringTypeWrapper
               (DWORD param_1,LPCSTR param_2,int param_3,LPWORD param_4,UINT param_5,LCID param_6,
               int param_7)

{
  BOOL BVar1;
  int iVar2;
  LPCWSTR lpWideCharStr;
  WORD local_2;
  
  lpWideCharStr = (LPCWSTR)0x0;
  if (DAT_005a1370 == 0) {
    BVar1 = GetStringTypeW(1,L"",1,&local_2);
    if (BVar1 == 0) {
      BVar1 = GetStringTypeA(0,1,"",1,&local_2);
      if (BVar1 == 0) {
        return 0;
      }
      DAT_005a1370 = 2;
    }
    else {
      DAT_005a1370 = 1;
    }
  }
  if (DAT_005a1370 == 2) {
    if (param_6 == 0) {
      param_6 = DAT_005a1338;
    }
    BVar1 = GetStringTypeA(param_6,param_1,param_2,param_3,param_4);
    return BVar1;
  }
  param_6 = DAT_005a1370;
  if (DAT_005a1370 == 1) {
    param_6 = 0;
    if (param_5 == 0) {
      param_5 = DAT_005a1348;
    }
    iVar2 = MultiByteToWideChar(param_5,(-(uint)(param_7 != 0) & 8) + 1,param_2,param_3,(LPWSTR)0x0,
                                0);
    if (iVar2 != 0) {
      lpWideCharStr = (LPCWSTR)AllocateAndInitializeMemory(2,iVar2);
      if (lpWideCharStr != (LPCWSTR)0x0) {
        iVar2 = MultiByteToWideChar(param_5,1,param_2,param_3,lpWideCharStr,iVar2);
        if (iVar2 != 0) {
          BVar1 = GetStringTypeW(param_1,lpWideCharStr,iVar2,param_4);
          FreeMemory(lpWideCharStr);
          return BVar1;
        }
      }
    }
    FreeMemory(lpWideCharStr);
  }
  return param_6;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

unkbyte10 FUN_004b8a6c(void)

{
  return _DAT_004d61aa;
}



undefined4 FUN_004b8ab0(int param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  code **ppcVar7;
  bool bVar8;
  undefined4 local_4;
  
  iVar2 = param_1;
  bVar1 = false;
  iVar3 = param_1;
  switch(param_1) {
  case 2:
    ppcVar7 = &DAT_005a1374;
    bVar1 = true;
    pcVar6 = DAT_005a1374;
    break;
  default:
    return 0xffffffff;
  case 4:
  case 8:
  case 0xb:
    iVar3 = GetOrAllocateTlsData();
    iVar4 = FUN_004b8cc0(param_1,*(undefined4 *)(iVar3 + 0x50));
    ppcVar7 = (code **)(iVar4 + 8);
    pcVar6 = *ppcVar7;
    break;
  case 0xf:
    ppcVar7 = &DAT_005a1380;
    bVar1 = true;
    pcVar6 = DAT_005a1380;
    break;
  case 0x15:
    ppcVar7 = &DAT_005a1378;
    bVar1 = true;
    pcVar6 = DAT_005a1378;
    break;
  case 0x16:
    ppcVar7 = &DAT_005a137c;
    bVar1 = true;
    pcVar6 = DAT_005a137c;
  }
  if (bVar1) {
    EnterOrInitCriticalSection(1);
  }
  if (pcVar6 == (code *)0x1) {
    if (!bVar1) {
      return 0;
    }
    LeaveCriticalSectionFunc(1);
    return 0;
  }
  if (pcVar6 == (code *)0x0) {
    if (bVar1) {
      LeaveCriticalSectionFunc(1);
    }
                    // WARNING: Subroutine does not return
    __exit(3);
  }
  if (((param_1 == 8) || (param_1 == 0xb)) || (param_1 == 4)) {
    iVar4 = *(int *)(iVar3 + 0x54);
    bVar8 = param_1 == 8;
    *(undefined4 *)(iVar3 + 0x54) = 0;
    param_1 = iVar4;
    if (bVar8) {
      local_4 = *(undefined4 *)(iVar3 + 0x58);
      *(undefined4 *)(iVar3 + 0x58) = 0x8c;
      goto LAB_004b8be3;
    }
  }
  else {
LAB_004b8be3:
    if (iVar2 == 8) {
      if (DAT_004d66a8 < DAT_004d66ac + DAT_004d66a8) {
        iVar5 = DAT_004d66a8 * 0xc;
        iVar4 = DAT_004d66a8;
        do {
          iVar4 = iVar4 + 1;
          *(undefined4 *)(*(int *)(iVar3 + 0x50) + 8 + iVar5) = 0;
          iVar5 = iVar5 + 0xc;
        } while (iVar4 < DAT_004d66ac + DAT_004d66a8);
      }
      goto LAB_004b8c28;
    }
  }
  *ppcVar7 = (code *)0x0;
LAB_004b8c28:
  if (bVar1) {
    LeaveCriticalSectionFunc(1);
  }
  if (iVar2 == 8) {
    (*pcVar6)(8,*(undefined4 *)(iVar3 + 0x58));
  }
  else {
    (*pcVar6)(iVar2);
    if ((iVar2 != 0xb) && (iVar2 != 4)) {
      return 0;
    }
  }
  *(int *)(iVar3 + 0x54) = param_1;
  if (iVar2 == 8) {
    *(undefined4 *)(iVar3 + 0x58) = local_4;
  }
  return 0;
}



uint FUN_004b8cc0(int param_1,uint param_2)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = param_2;
  if (*(int *)(param_2 + 4) != param_1) {
    uVar3 = param_2;
    do {
      uVar2 = uVar3 + 0xc;
      if (param_2 + DAT_004d66b4 * 0xc <= uVar2) break;
      piVar1 = (int *)(uVar3 + 0x10);
      uVar3 = uVar2;
    } while (*piVar1 != param_1);
  }
  if ((param_2 + DAT_004d66b4 * 0xc <= uVar2) || (*(int *)(uVar2 + 4) != param_1)) {
    uVar2 = 0;
  }
  return uVar2;
}



void FUN_004b8d00(void)

{
  if ((DAT_005a1298 == 1) || ((DAT_005a1298 == 0 && (DAT_004d3f74 == 1)))) {
    ReportRuntimeError(0xfc);
    if (DAT_005a1388 != (code *)0x0) {
      (*DAT_005a1388)();
    }
    ReportRuntimeError(0xff);
  }
  return;
}



// /*
//  * Function: ReportRuntimeError (originally FUN_004b8d40)
//  * Description:
//  *   This function reports a runtime error based on the input `param_1`. It first checks if the
// error is
//  *   part of a predefined set of error codes. If the error is to be reported, it attempts to
// write the
//  *   error message to a file or to the console (if no file handle is available). If the error
// code
//  *   corresponds to a critical failure, it formats a detailed error message including the program
// name
//  *   and displays it in a message box.
//  *
//  * Parameters:
//  *   param_1 - Error code that determines the specific error to report.
//  */

void ReportRuntimeError(int param_1)

{
  char cVar1;
  int *piVar2;
  DWORD DVar3;
  HANDLE hFile;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *puVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  char *pcVar11;
  char *pcVar12;
  DWORD local_1a8;
  undefined4 auStack_1a4 [25];
  undefined4 auStack_140 [15];
  undefined4 local_104;
  
  piVar2 = &DAT_004d6810;
  iVar8 = 0;
  do {
    if (param_1 == *piVar2) break;
    piVar2 = piVar2 + 2;
    iVar8 = iVar8 + 1;
  } while (piVar2 < &DAT_004d68a0);
  if (param_1 == (&DAT_004d6810)[iVar8 * 2]) {
    if ((DAT_005a1298 == 1) || ((DAT_005a1298 == 0 && (DAT_004d3f74 == 1)))) {
      if ((DAT_005f8da0 == 0) ||
         (hFile = *(HANDLE *)(DAT_005f8da0 + 0x48), hFile == (HANDLE)0xffffffff)) {
        hFile = GetStdHandle(0xfffffff4);
      }
      pcVar11 = *(char **)(iVar8 * 8 + 0x4d6814);
      uVar5 = 0xffffffff;
      pcVar12 = pcVar11;
      do {
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        cVar1 = *pcVar12;
        pcVar12 = pcVar12 + 1;
      } while (cVar1 != '\0');
      WriteFile(hFile,pcVar11,~uVar5 - 1,&local_1a8,(LPOVERLAPPED)0x0);
    }
    else if (param_1 != 0xfc) {
      DVar3 = GetModuleFileNameA((HMODULE)0x0,(LPSTR)&local_104,0x104);
      if (DVar3 == 0) {
        puVar7 = (undefined4 *)"<program name unknown>";
        puVar9 = &local_104;
        for (iVar4 = 5; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar9 = *puVar7;
          puVar7 = puVar7 + 1;
          puVar9 = puVar9 + 1;
        }
        *(undefined2 *)puVar9 = *(undefined2 *)puVar7;
        *(undefined *)((int)puVar9 + 2) = *(undefined *)((int)puVar7 + 2);
      }
      uVar5 = 0xffffffff;
      puVar7 = &local_104;
      puVar9 = &local_104;
      do {
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        cVar1 = *(char *)puVar9;
        puVar9 = (undefined4 *)((int)puVar9 + 1);
      } while (cVar1 != '\0');
      if (0x3c < ~uVar5) {
        uVar5 = 0xffffffff;
        puVar7 = &local_104;
        do {
          if (uVar5 == 0) break;
          uVar5 = uVar5 - 1;
          cVar1 = *(char *)puVar7;
          puVar7 = (undefined4 *)((int)puVar7 + 1);
        } while (cVar1 != '\0');
        puVar7 = (undefined4 *)((int)auStack_140 + ~uVar5);
        _strncpy((char *)puVar7,"...",3);
      }
      puVar9 = (undefined4 *)"Runtime Error!\n\nProgram: ";
      puVar10 = auStack_1a4;
      for (iVar4 = 6; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar10 = *puVar9;
        puVar9 = puVar9 + 1;
        puVar10 = puVar10 + 1;
      }
      *(undefined2 *)puVar10 = *(undefined2 *)puVar9;
      uVar5 = 0xffffffff;
      do {
        puVar9 = puVar7;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        puVar9 = (undefined4 *)((int)puVar7 + 1);
        cVar1 = *(char *)puVar7;
        puVar7 = puVar9;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar4 = -1;
      puVar7 = auStack_1a4;
      do {
        puVar10 = puVar7;
        if (iVar4 == 0) break;
        iVar4 = iVar4 + -1;
        puVar10 = (undefined4 *)((int)puVar7 + 1);
        cVar1 = *(char *)puVar7;
        puVar7 = puVar10;
      } while (cVar1 != '\0');
      puVar7 = (undefined4 *)((int)puVar9 - uVar5);
      puVar9 = (undefined4 *)((int)puVar10 + -1);
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *puVar9 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar9 = puVar9 + 1;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined *)puVar9 = *(undefined *)puVar7;
        puVar7 = (undefined4 *)((int)puVar7 + 1);
        puVar9 = (undefined4 *)((int)puVar9 + 1);
      }
      uVar5 = 0xffffffff;
      pcVar11 = "\n\n";
      do {
        pcVar12 = pcVar11;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar12 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar12;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar4 = -1;
      puVar7 = auStack_1a4;
      do {
        puVar9 = puVar7;
        if (iVar4 == 0) break;
        iVar4 = iVar4 + -1;
        puVar9 = (undefined4 *)((int)puVar7 + 1);
        cVar1 = *(char *)puVar7;
        puVar7 = puVar9;
      } while (cVar1 != '\0');
      puVar7 = (undefined4 *)(pcVar12 + -uVar5);
      puVar9 = (undefined4 *)((int)puVar9 + -1);
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *puVar9 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar9 = puVar9 + 1;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined *)puVar9 = *(undefined *)puVar7;
        puVar7 = (undefined4 *)((int)puVar7 + 1);
        puVar9 = (undefined4 *)((int)puVar9 + 1);
      }
      uVar5 = 0xffffffff;
      pcVar11 = *(char **)(iVar8 * 8 + 0x4d6814);
      do {
        pcVar12 = pcVar11;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar12 = pcVar11 + 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar12;
      } while (cVar1 != '\0');
      uVar5 = ~uVar5;
      iVar8 = -1;
      puVar7 = auStack_1a4;
      do {
        puVar9 = puVar7;
        if (iVar8 == 0) break;
        iVar8 = iVar8 + -1;
        puVar9 = (undefined4 *)((int)puVar7 + 1);
        cVar1 = *(char *)puVar7;
        puVar7 = puVar9;
      } while (cVar1 != '\0');
      puVar7 = (undefined4 *)(pcVar12 + -uVar5);
      puVar9 = (undefined4 *)((int)puVar9 + -1);
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *puVar9 = *puVar7;
        puVar7 = puVar7 + 1;
        puVar9 = puVar9 + 1;
      }
      for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined *)puVar9 = *(undefined *)puVar7;
        puVar7 = (undefined4 *)((int)puVar7 + 1);
        puVar9 = (undefined4 *)((int)puVar9 + 1);
      }
      ShowMessageBoxFunc(auStack_1a4,"Microsoft Visual C++ Runtime Library");
      return;
    }
  }
  return;
}



// /*
//  * Function: CheckIfCharacterIsSpecial (originally FUN_004b8f20)
//  * Description:
//  *   This function calls the `CheckCharacterAttributes` function to check if a given character
// has a "special" attribute,
//  *   as defined by the bitmask `4`. It uses `param_1` as the character to check and does not
// provide any additional attribute checks (passes `0` for `param_2`).
//  *
//  * Parameters:
//  *   - param_1: The character to check.
//  *
//  * Returns:
//  *   - The result from `CheckCharacterAttributes`, which checks if the character has the
// attribute specified by the bitmask `4`.
//  */

void CheckIfCharacterIsSpecial(undefined4 param_1)

{
  CheckCharacterAttributes(param_1,0,4);
  return;
}



// /*
//  * Function: CheckCharacterAttributes (originally FUN_004b8f40)
//  * Description:
//  *   This function checks if the character (given by `param_1`) matches specific attributes. It
// does so by
//  *   examining the global `DAT_005a14a1` array (which might represent character attributes, such
// as upper/lower case
//  *   or control characters) and compares it to a bitmask (`param_3`).
//  *   
//  *   If the character's attributes don't match, it then checks another set of attributes (likely
// stored in `DAT_004d3d4a`)
//  *   using the `param_2` bitmask. If either condition is met, it returns `1`; otherwise, it
// returns `0`.
//  *
//  * Parameters:
//  *   - param_1: The character code (probably an ASCII value).
//  *   - param_2: A bitmask for additional attribute checks.
//  *   - param_3: A bitmask to check against the `DAT_005a14a1` global array.
//  *
//  * Returns:
//  *   - `1` if the character matches the attributes specified by `param_3` or `param_2`.
//  *   - `0` otherwise.
//  */

undefined4 CheckCharacterAttributes(uint param_1,uint param_2,byte param_3)

{
  if (((&DAT_005a14a1)[param_1 & 0xff] & param_3) == 0) {
    if (param_2 == 0) {
      param_2 = 0;
    }
    else {
      param_2 = *(ushort *)(&DAT_004d3d4a + (param_1 & 0xff) * 2) & param_2;
    }
    if (param_2 == 0) {
      return 0;
    }
  }
  return 1;
}



// /*
//  * Function: ParseAndStoreValidEntries
//  * Description:
//  *   This function processes the global environment variable or input string `DAT_005a1290`,
// counting valid
//  *   entries (those not containing `=`), allocating memory for them, and copying them into newly
// allocated memory.
//  *   The allocated addresses are stored in a global array.
//  */

void ParseAndStoreValidEntries(void)

{
  char cVar1;
  char cVar2;
  int *piVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  int iVar8;
  undefined4 *puVar9;
  char *pcVar10;
  char *pcVar11;
  undefined4 *puVar12;
  int *local_4;
  
  iVar8 = 0;
  cVar2 = *DAT_005a1290;
  pcVar7 = DAT_005a1290;
  while (cVar2 != '\0') {
    if (cVar2 != '=') {
      iVar8 = iVar8 + 1;
    }
    uVar4 = 0xffffffff;
    pcVar10 = pcVar7;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar2 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar2 != '\0');
    pcVar10 = pcVar7 + ~uVar4;
    pcVar7 = pcVar7 + ~uVar4;
    cVar2 = *pcVar10;
  }
  piVar3 = (int *)AllocateMemoryWithCallback(iVar8 * 4 + 4);
  DAT_005a126c = piVar3;
  if (piVar3 == (int *)0x0) {
    __amsg_exit(9);
  }
  cVar2 = *DAT_005a1290;
  local_4 = piVar3;
  pcVar7 = DAT_005a1290;
  do {
    if (cVar2 == '\0') {
      FreeMemory(DAT_005a1290);
      DAT_005a1290 = (char *)0x0;
      *piVar3 = 0;
      return;
    }
    uVar4 = 0xffffffff;
    pcVar10 = pcVar7;
    do {
      if (uVar4 == 0) break;
      uVar4 = uVar4 - 1;
      cVar1 = *pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (cVar1 != '\0');
    uVar4 = ~uVar4;
    if (cVar2 != '=') {
      iVar8 = AllocateMemoryWithCallback(uVar4);
      *piVar3 = iVar8;
      if (iVar8 == 0) {
        __amsg_exit(9);
      }
      uVar5 = 0xffffffff;
      pcVar10 = pcVar7;
      do {
        pcVar11 = pcVar10;
        if (uVar5 == 0) break;
        uVar5 = uVar5 - 1;
        pcVar11 = pcVar10 + 1;
        cVar2 = *pcVar10;
        pcVar10 = pcVar11;
      } while (cVar2 != '\0');
      uVar5 = ~uVar5;
      puVar9 = (undefined4 *)(pcVar11 + -uVar5);
      puVar12 = (undefined4 *)*local_4;
      for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *puVar12 = *puVar9;
        puVar9 = puVar9 + 1;
        puVar12 = puVar12 + 1;
      }
      piVar3 = local_4 + 1;
      for (uVar5 = uVar5 & 3; local_4 = piVar3, uVar5 != 0; uVar5 = uVar5 - 1) {
        *(undefined *)puVar12 = *(undefined *)puVar9;
        puVar9 = (undefined4 *)((int)puVar9 + 1);
        puVar12 = (undefined4 *)((int)puVar12 + 1);
      }
    }
    cVar2 = pcVar7[uVar4];
    pcVar7 = pcVar7 + uVar4;
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// /*
//  * Function: InitializeCommandLine
//  * Description:
//  *   This function retrieves the module file name, prepares the command-line arguments by parsing
// them,
//  *   and stores the parsed arguments for later use. If memory allocation fails, it terminates the
// program.
//  */

void InitializeCommandLine(void)

{
  int iVar1;
  byte *pbVar2;
  int iStack_8;
  int iStack_4;
  
  GetModuleFileNameA((HMODULE)0x0,&DAT_005a1390,0x104);
  _DAT_005a127c = &DAT_005a1390;
  pbVar2 = PTR_005f8ea8;
  if (*PTR_005f8ea8 == '\0') {
    pbVar2 = &DAT_005a1390;
  }
  ParseCommandLine(pbVar2,0,0,&iStack_8,&iStack_4);
  iVar1 = AllocateMemoryWithCallback(iStack_4 + iStack_8 * 4);
  if (iVar1 == 0) {
    __amsg_exit(8);
  }
  ParseCommandLine(pbVar2,iVar1,iVar1 + iStack_8 * 4,&iStack_8,&iStack_4);
  _DAT_005a1264 = iVar1;
  _DAT_005a1260 = iStack_8 + -1;
  return;
}



//  * Function: ParseCommandLine
//  * Description:
//  *   This function parses a command-line string, handling spaces, quotes, and escape characters
//  *   to separate arguments properly. It updates the argument count and stores pointers to each
//  *   argument in the provided array. Handles both quoted and unquoted arguments.

void ParseCommandLine(byte *param_1,byte **param_2,byte *param_3,int *param_4,int *param_5)

{
  byte *pbVar1;
  byte bVar2;
  bool bVar3;
  bool bVar4;
  bool bVar5;
  int *piVar6;
  byte *pbVar7;
  uint uVar8;
  
  piVar6 = param_5;
  *param_5 = 0;
  *param_4 = 1;
  if (param_2 != (byte **)0x0) {
    *param_2 = param_3;
    param_2 = param_2 + 1;
  }
  if (*param_1 == 0x22) {
    pbVar7 = param_1 + 1;
    bVar2 = param_1[1];
    while ((bVar2 != 0x22 && (bVar2 != 0))) {
      if ((((&DAT_005a14a1)[bVar2] & 4) != 0) && (*param_5 = *param_5 + 1, param_3 != (byte *)0x0))
      {
        *param_3 = *pbVar7;
        param_3 = param_3 + 1;
        pbVar7 = pbVar7 + 1;
      }
      *param_5 = *param_5 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *pbVar7;
        param_3 = param_3 + 1;
      }
      pbVar1 = pbVar7 + 1;
      pbVar7 = pbVar7 + 1;
      bVar2 = *pbVar1;
    }
    *param_5 = *param_5 + 1;
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    if (*pbVar7 == 0x22) {
      pbVar7 = pbVar7 + 1;
    }
  }
  else {
    do {
      *piVar6 = *piVar6 + 1;
      if (param_3 != (byte *)0x0) {
        *param_3 = *param_1;
        param_3 = param_3 + 1;
      }
      bVar2 = *param_1;
      pbVar7 = param_1 + 1;
      param_5 = (int *)(uint)bVar2;
      if (((&DAT_005a14a1)[(int)param_5] & 4) != 0) {
        *piVar6 = *piVar6 + 1;
        if (param_3 != (byte *)0x0) {
          *param_3 = *pbVar7;
          param_3 = param_3 + 1;
        }
        pbVar7 = param_1 + 2;
      }
      if (bVar2 == 0x20) break;
      if (bVar2 == 0) goto LAB_004b91e9;
      param_1 = pbVar7;
    } while (bVar2 != 9);
    if (bVar2 == 0) {
LAB_004b91e9:
      pbVar7 = pbVar7 + -1;
    }
    else if (param_3 != (byte *)0x0) {
      param_3[-1] = 0;
    }
  }
  bVar4 = false;
  bVar5 = false;
  while (*pbVar7 != 0) {
    for (; (*pbVar7 == 0x20 || (*pbVar7 == 9)); pbVar7 = pbVar7 + 1) {
    }
    if (*pbVar7 == 0) break;
    if (param_2 != (byte **)0x0) {
      *param_2 = param_3;
      param_2 = param_2 + 1;
    }
    *param_4 = *param_4 + 1;
    while( true ) {
      uVar8 = 0;
      bVar3 = true;
      bVar2 = *pbVar7;
      while (bVar2 == 0x5c) {
        pbVar1 = pbVar7 + 1;
        pbVar7 = pbVar7 + 1;
        uVar8 = uVar8 + 1;
        bVar2 = *pbVar1;
      }
      if (*pbVar7 == 0x22) {
        if ((uVar8 & 1) == 0) {
          if ((bVar4) && (pbVar7[1] == 0x22)) {
            pbVar7 = pbVar7 + 1;
          }
          else {
            bVar3 = false;
          }
          bVar4 = !bVar5;
          bVar5 = bVar4;
        }
        uVar8 = uVar8 >> 1;
      }
      for (; uVar8 != 0; uVar8 = uVar8 - 1) {
        if (param_3 != (byte *)0x0) {
          *param_3 = 0x5c;
          param_3 = param_3 + 1;
        }
        *piVar6 = *piVar6 + 1;
      }
      bVar2 = *pbVar7;
      if ((bVar2 == 0) || ((!bVar4 && ((bVar2 == 0x20 || (bVar2 == 9)))))) break;
      if (bVar3) {
        if (param_3 == (byte *)0x0) {
          if (((&DAT_005a14a1)[bVar2] & 4) != 0) {
            pbVar7 = pbVar7 + 1;
            *piVar6 = *piVar6 + 1;
          }
          *piVar6 = *piVar6 + 1;
          goto LAB_004b92e5;
        }
        if (((&DAT_005a14a1)[bVar2] & 4) != 0) {
          *param_3 = bVar2;
          param_3 = param_3 + 1;
          pbVar7 = pbVar7 + 1;
          *piVar6 = *piVar6 + 1;
        }
        *param_3 = *pbVar7;
        param_3 = param_3 + 1;
        *piVar6 = *piVar6 + 1;
        pbVar7 = pbVar7 + 1;
      }
      else {
LAB_004b92e5:
        pbVar7 = pbVar7 + 1;
      }
    }
    if (param_3 != (byte *)0x0) {
      *param_3 = 0;
      param_3 = param_3 + 1;
    }
    *piVar6 = *piVar6 + 1;
  }
  if (param_2 != (byte **)0x0) {
    *param_2 = (byte *)0x0;
  }
  *param_4 = *param_4 + 1;
  return;
}



// /*
//  * Function: GetEnvironmentVariables (originally FUN_004b9320)
//  * Description:
//  *   This function retrieves the environment variables for the current process. It first attempts
// to use
//  *   Unicode environment strings (via `GetEnvironmentStringsW`), and if that fails, it falls back
// to
//  *   ANSI environment strings (via `GetEnvironmentStrings`). The function returns a pointer to a
//  *   block of memory containing the environment variables, or `NULL` on failure.
//  */

undefined4 * GetEnvironmentVariables(void)

{
  char cVar1;
  WCHAR WVar2;
  WCHAR *pWVar3;
  int iVar5;
  int cbMultiByte;
  undefined4 *puVar6;
  uint uVar7;
  uint uVar8;
  undefined4 *puVar9;
  LPWCH lpWideCharStr;
  undefined4 *puVar10;
  undefined4 *puVar11;
  WCHAR *pWVar4;
  
  lpWideCharStr = (LPWCH)0x0;
  puVar9 = (undefined4 *)0x0;
  if (DAT_005a1498 == 0) {
    lpWideCharStr = GetEnvironmentStringsW();
    if (lpWideCharStr == (LPWCH)0x0) {
      puVar9 = (undefined4 *)GetEnvironmentStrings();
      if (puVar9 == (undefined4 *)0x0) {
        return (undefined4 *)0x0;
      }
      DAT_005a1498 = 2;
    }
    else {
      DAT_005a1498 = 1;
    }
  }
  if (DAT_005a1498 == 1) {
    if ((lpWideCharStr != (LPWCH)0x0) ||
       (lpWideCharStr = GetEnvironmentStringsW(), lpWideCharStr != (LPWCH)0x0)) {
      WVar2 = *lpWideCharStr;
      pWVar3 = lpWideCharStr;
      while (WVar2 != L'\0') {
        do {
          pWVar4 = pWVar3;
          pWVar3 = pWVar4 + 1;
        } while (*pWVar3 != L'\0');
        pWVar3 = pWVar4 + 2;
        WVar2 = *pWVar3;
      }
      iVar5 = ((int)pWVar3 - (int)lpWideCharStr >> 1) + 1;
      cbMultiByte = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0
                                       );
      if ((cbMultiByte != 0) &&
         (puVar9 = (undefined4 *)AllocateMemoryWithCallback(cbMultiByte),
         puVar9 != (undefined4 *)0x0)) {
        iVar5 = WideCharToMultiByte(0,0,lpWideCharStr,iVar5,(LPSTR)puVar9,cbMultiByte,(LPCSTR)0x0,
                                    (LPBOOL)0x0);
        if (iVar5 == 0) {
          FreeMemory(puVar9);
          puVar9 = (undefined4 *)0x0;
        }
        FreeEnvironmentStringsW(lpWideCharStr);
        return puVar9;
      }
      FreeEnvironmentStringsW(lpWideCharStr);
      return (undefined4 *)0x0;
    }
  }
  else if ((DAT_005a1498 == 2) &&
          ((puVar9 != (undefined4 *)0x0 ||
           (puVar9 = (undefined4 *)GetEnvironmentStrings(), puVar9 != (undefined4 *)0x0)))) {
    cVar1 = *(char *)puVar9;
    puVar6 = puVar9;
    while (cVar1 != '\0') {
      do {
        puVar10 = puVar6;
        puVar6 = (undefined4 *)((int)puVar10 + 1);
      } while (*(char *)((int)puVar10 + 1) != '\0');
      puVar6 = (undefined4 *)((int)puVar10 + 2);
      cVar1 = *(char *)((int)puVar10 + 2);
    }
    uVar7 = (int)puVar6 + (1 - (int)puVar9);
    puVar6 = (undefined4 *)AllocateMemoryWithCallback(uVar7);
    if (puVar6 != (undefined4 *)0x0) {
      puVar10 = puVar9;
      puVar11 = puVar6;
      for (uVar8 = uVar7 >> 2; uVar8 != 0; uVar8 = uVar8 - 1) {
        *puVar11 = *puVar10;
        puVar10 = puVar10 + 1;
        puVar11 = puVar11 + 1;
      }
      for (uVar7 = uVar7 & 3; uVar7 != 0; uVar7 = uVar7 - 1) {
        *(undefined *)puVar11 = *(undefined *)puVar10;
        puVar10 = (undefined4 *)((int)puVar10 + 1);
        puVar11 = (undefined4 *)((int)puVar11 + 1);
      }
      FreeEnvironmentStringsA((LPCH)puVar9);
      return puVar6;
    }
    FreeEnvironmentStringsA((LPCH)puVar9);
    return (undefined4 *)0x0;
  }
  return (undefined4 *)0x0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
//  * Function: ChangeCodePage (originally FUN_004b9480)
//  * Description:
//  *   This function changes the global code page to a new one specified by `param_1`. It handles
// the initialization
//  *   of character mappings and related data based on the new code page. If the code page is
// already set, it does nothing.
//  *   If the code page is not recognized, it initializes global data and mappings.
//  *
//  * Parameters:
//  *   param_1 - The new code page to switch to.
//  *
//  * Returns:
//  *   - 0 on success.
//  *   - 0xFFFFFFFF if an error occurs (code page not found and no fallback available).

undefined4 ChangeCodePage(undefined4 param_1)

{
  BYTE *pBVar1;
  byte bVar2;
  byte bVar3;
  UINT CodePage;
  UINT *pUVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  BYTE *pBVar10;
  byte *pbVar11;
  byte *pbVar12;
  undefined4 *puVar13;
  _cpinfo local_14;
  
  EnterOrInitCriticalSection(0x19);
  CodePage = GetCodePage(param_1);
  if (CodePage == DAT_005a16a8) {
    LeaveCriticalSectionFunc(0x19);
    return 0;
  }
  if (CodePage == 0) {
    InitializeGlobalData();
    InitializeCharacterMapping();
    LeaveCriticalSectionFunc(0x19);
    return 0;
  }
  iVar9 = 0;
  pUVar4 = &DAT_004d68a8;
  do {
    if (*pUVar4 == CodePage) {
      puVar13 = (undefined4 *)&DAT_005a14a0;
      for (iVar8 = 0x40; iVar8 != 0; iVar8 = iVar8 + -1) {
        *puVar13 = 0;
        puVar13 = puVar13 + 1;
      }
      *(undefined *)puVar13 = 0;
      uVar6 = 0;
      pbVar11 = &DAT_004d68b8 + iVar9 * 0x30;
      do {
        bVar2 = *pbVar11;
        for (pbVar12 = pbVar11; (bVar2 != 0 && (bVar2 = pbVar12[1], bVar2 != 0));
            pbVar12 = pbVar12 + 2) {
          uVar7 = (uint)*pbVar12;
          if (uVar7 <= bVar2) {
            bVar3 = (&DAT_004d68a0)[uVar6];
            do {
              (&DAT_005a14a1)[uVar7] = (&DAT_005a14a1)[uVar7] | bVar3;
              uVar7 = uVar7 + 1;
            } while (uVar7 <= bVar2);
          }
          bVar2 = pbVar12[2];
        }
        uVar6 = uVar6 + 1;
        pbVar11 = pbVar11 + 8;
      } while (uVar6 < 4);
      _DAT_005f8d84 = 1;
      DAT_005a16a8 = CodePage;
      DAT_005a16ac = MapCodePageToLocale(CodePage);
      _DAT_005a16b0 = (&DAT_004d68ac)[iVar9 * 0xc];
      _DAT_005a16b4 = (&DAT_004d68b0)[iVar9 * 0xc];
      _DAT_005a16b8 = (&DAT_004d68b4)[iVar9 * 0xc];
      goto LAB_004b95d2;
    }
    pUVar4 = pUVar4 + 0xc;
    iVar9 = iVar9 + 1;
  } while (pUVar4 < &DAT_004d6998);
  BVar5 = GetCPInfo(CodePage,&local_14);
  if (BVar5 == 1) {
    puVar13 = (undefined4 *)&DAT_005a14a0;
    for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
      *puVar13 = 0;
      puVar13 = puVar13 + 1;
    }
    *(undefined *)puVar13 = 0;
    DAT_005a16ac = 0;
    if (local_14.MaxCharSize < 2) {
      _DAT_005f8d84 = 0;
      DAT_005a16a8 = CodePage;
    }
    else {
      DAT_005a16a8 = CodePage;
      if (local_14.LeadByte[0] != '\0') {
        pBVar10 = local_14.LeadByte + 1;
        do {
          bVar2 = *pBVar10;
          if (bVar2 == 0) break;
          for (uVar6 = (uint)pBVar10[-1]; uVar6 <= bVar2; uVar6 = uVar6 + 1) {
            (&DAT_005a14a1)[uVar6] = (&DAT_005a14a1)[uVar6] | 4;
          }
          pBVar1 = pBVar10 + 1;
          pBVar10 = pBVar10 + 2;
        } while (*pBVar1 != 0);
      }
      uVar6 = 1;
      do {
        (&DAT_005a14a1)[uVar6] = (&DAT_005a14a1)[uVar6] | 8;
        uVar6 = uVar6 + 1;
      } while (uVar6 < 0xff);
      DAT_005a16ac = MapCodePageToLocale(CodePage);
      _DAT_005f8d84 = 1;
    }
    _DAT_005a16b0 = 0;
    _DAT_005a16b4 = 0;
    _DAT_005a16b8 = 0;
  }
  else {
    if (DAT_005a16bc == 0) {
      LeaveCriticalSectionFunc(0x19);
      return 0xffffffff;
    }
    InitializeGlobalData();
  }
LAB_004b95d2:
  InitializeCharacterMapping();
  LeaveCriticalSectionFunc(0x19);
  return 0;
}



// /*
//  * Function: GetCodePage (originally FUN_004b96b0)
//  * Description:
//  *   This function returns a code page based on the value of `param_1`. It handles specific
// special cases:
//  *   - If `param_1` is -2, it retrieves the OEM code page using `GetOEMCP`.
//  *   - If `param_1` is -3, it retrieves the system's ANSI code page using `GetACP`.
//  *   - If `param_1` is -4, it returns a global value `DAT_005a1348`, representing a custom code
// page.
//  *   In all other cases, it simply returns `param_1` itself.
//  *
//  * Globals:
//  *   DAT_005a16bc - A flag set to 1 when a special code page (-2, -3, or -4) is processed.
//  *   DAT_005a1348 - Stores a custom code page, used when `param_1` is -4.
//  *
//  * Parameters:
//  *   param_1 - The code page identifier or a special value (-2, -3, -4).
//  *
//  * Returns:
//  *   The resolved code page (int).
//  */

int GetCodePage(int param_1)

{
  int iVar1;
  bool bVar2;
  
  if (param_1 == -2) {
    DAT_005a16bc = 1;
                    // WARNING: Could not recover jumptable at 0x004b96cd. Too many branches
                    // WARNING: Treating indirect jump as call
    iVar1 = GetOEMCP();
    return iVar1;
  }
  if (param_1 == -3) {
    DAT_005a16bc = 1;
                    // WARNING: Could not recover jumptable at 0x004b96e2. Too many branches
                    // WARNING: Treating indirect jump as call
    iVar1 = GetACP();
    return iVar1;
  }
  bVar2 = param_1 == -4;
  if (bVar2) {
    param_1 = DAT_005a1348;
  }
  DAT_005a16bc = (uint)bVar2;
  return param_1;
}



// /*
//  * Function: MapCodePageToLocale (originally FUN_004b9700)
//  * Description:
//  *   This function takes a code page identifier (`param_1`) and returns a corresponding locale
// identifier.
//  *   It uses a switch statement to map specific code page values to predefined locale IDs.
//  *
//  * Parameters:
//  *   param_1 - The code page identifier (e.g., 0x3A4, 0x3A8, etc.).
//  *
//  * Returns:
//  *   The corresponding locale identifier (`undefined4`). If the code page is not recognized, it
// returns 0.
//  */

undefined4 MapCodePageToLocale(undefined4 param_1)

{
  switch(param_1) {
  case 0x3a4:
    return 0x411;
  default:
    return 0;
  case 0x3a8:
    return 0x804;
  case 0x3b5:
    return 0x412;
  case 0x3b6:
    return 0x404;
  }
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// /*
//  * Function: InitializeGlobalData (originally FUN_004b9760)
//  * Description:
//  *   This function initializes various global data structures and variables to zero. It iterates
// over
//  *   a memory block, setting each element to zero, and clears several global variables.
//  *
//  * Globals:
//  *   DAT_005a14a0 - A data block of size 0x40 elements that is set to zero.
//  *   DAT_005a16a8, _DAT_005f8d84, DAT_005a16ac, _DAT_005a16b0, _DAT_005a16b4, _DAT_005a16b8 - 
//  *   Global variables cleared by this function.
//  */

void InitializeGlobalData(void)

{
  int iVar1;
  undefined4 *puVar2;
  
  puVar2 = (undefined4 *)&DAT_005a14a0;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  *(undefined *)puVar2 = 0;
  DAT_005a16a8 = 0;
  _DAT_005f8d84 = 0;
  DAT_005a16ac = 0;
  _DAT_005a16b0 = 0;
  _DAT_005a16b4 = 0;
  _DAT_005a16b8 = 0;
  return;
}



// /*
//  * Function: InitializeCharacterMapping (originally FUN_004b97a0)
//  * Description:
//  *   This function initializes character mapping tables based on the current code page
// information.
//  *   It retrieves code page information using `GetCPInfo`, and then constructs tables for
// character 
//  *   conversions, including uppercase/lowercase and character type mappings, using functions such
// as 
//  *   `GetStringTypeWrapper` and `MapLocaleString`. If `GetCPInfo` fails, it defaults to basic
// character 
//  *   mappings for ASCII letters.
//  *
//  * Globals:
//  *   DAT_005a16a8 - Current code page identifier.
//  *   DAT_005a16ac - LCID (Locale Identifier) used for string mappings.
//  *   DAT_005a14a1 - Stores character type information (e.g., uppercase or lowercase).
//  *   DAT_005a15a8 - Stores the mapped character result (e.g., corresponding uppercase/lowercase
// character).
//  *
//  * Parameters: None
//  *
//  * Returns: None
//  */

void InitializeCharacterMapping(void)

{
  BOOL BVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  BYTE *pBVar5;
  ushort *puVar6;
  undefined4 *puVar7;
  _cpinfo local_514;
  undefined4 auStack_500 [64];
  undefined auStack_400 [256];
  undefined auStack_300 [256];
  ushort auStack_200 [256];
  
  BVar1 = GetCPInfo(DAT_005a16a8,&local_514);
  if (BVar1 == 1) {
    uVar2 = 0;
    do {
      *(char *)((int)auStack_500 + uVar2) = (char)uVar2;
      uVar2 = uVar2 + 1;
    } while (uVar2 < 0x100);
    auStack_500[0]._0_1_ = 0x20;
    if (local_514.LeadByte[0] != 0) {
      pBVar5 = local_514.LeadByte + 1;
      do {
        uVar2 = (uint)local_514.LeadByte[0];
        if (uVar2 <= *pBVar5) {
          uVar3 = (*pBVar5 - uVar2) + 1;
          puVar7 = (undefined4 *)((int)auStack_500 + uVar2);
          for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
            *puVar7 = 0x20202020;
            puVar7 = puVar7 + 1;
          }
          for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
            *(undefined *)puVar7 = 0x20;
            puVar7 = (undefined4 *)((int)puVar7 + 1);
          }
        }
        local_514.LeadByte[0] = pBVar5[1];
        pBVar5 = pBVar5 + 2;
      } while (local_514.LeadByte[0] != 0);
    }
    GetStringTypeWrapper(1,auStack_500,0x100,auStack_200,DAT_005a16a8,DAT_005a16ac,0);
    MapLocaleString(DAT_005a16ac,0x100,auStack_500,0x100,auStack_400,0x100,DAT_005a16a8,0);
    MapLocaleString(DAT_005a16ac,0x200,auStack_500,0x100,auStack_300,0x100,DAT_005a16a8,0);
    uVar2 = 0;
    puVar6 = auStack_200;
    do {
      if ((*puVar6 & 1) == 0) {
        if ((*puVar6 & 2) == 0) {
          (&DAT_005a15a8)[uVar2] = 0;
        }
        else {
          (&DAT_005a14a1)[uVar2] = (&DAT_005a14a1)[uVar2] | 0x20;
          (&DAT_005a15a8)[uVar2] = auStack_300[uVar2];
        }
      }
      else {
        (&DAT_005a14a1)[uVar2] = (&DAT_005a14a1)[uVar2] | 0x10;
        (&DAT_005a15a8)[uVar2] = auStack_400[uVar2];
      }
      uVar2 = uVar2 + 1;
      puVar6 = puVar6 + 1;
    } while (uVar2 < 0x100);
    return;
  }
  uVar2 = 0;
  do {
    if ((uVar2 < 0x41) || (0x5a < uVar2)) {
      if ((uVar2 < 0x61) || (0x7a < uVar2)) {
        (&DAT_005a15a8)[uVar2] = 0;
      }
      else {
        (&DAT_005a14a1)[uVar2] = (&DAT_005a14a1)[uVar2] | 0x20;
        (&DAT_005a15a8)[uVar2] = (char)uVar2 + -0x20;
      }
    }
    else {
      (&DAT_005a14a1)[uVar2] = (&DAT_005a14a1)[uVar2] | 0x10;
      (&DAT_005a15a8)[uVar2] = (char)uVar2 + ' ';
    }
    uVar2 = uVar2 + 1;
  } while (uVar2 < 0x100);
  return;
}



//  * Function: SetDefaultCodePage (originally FUN_004b9980)
//  * Description:
//  *   This function sets the default code page for the system by calling the `ChangeCodePage`
// function
//  *   with a predefined value `0xfffffffd`. The code page value `0xfffffffd` likely corresponds to
// a
//  *   special default or system-specific code page that the system uses when no specific code page
// is
//  *   defined.

void SetDefaultCodePage(void)

{
  ChangeCodePage(0xfffffffd);
  return;
}



uint FUN_004b9990(uint param_1,uint param_2)

{
  uint uVar1;
  
  uVar1 = FUN_004b99f0();
  uVar1 = param_2 & param_1 | ~param_2 & uVar1;
  FUN_004b9a90(uVar1);
  return uVar1;
}



void FUN_004b99d0(undefined4 param_1,uint param_2)

{
  FUN_004b9990(param_1,param_2 & 0xfff7ffff);
  return;
}



uint FUN_004b99f0(uint param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = 0;
  if ((param_1 & 1) != 0) {
    uVar1 = 0x10;
  }
  if ((param_1 & 4) != 0) {
    uVar1 = uVar1 | 8;
  }
  if ((param_1 & 8) != 0) {
    uVar1 = uVar1 | 4;
  }
  if ((param_1 & 0x10) != 0) {
    uVar1 = uVar1 | 2;
  }
  if ((param_1 & 0x20) != 0) {
    uVar1 = uVar1 | 1;
  }
  if ((param_1 & 2) != 0) {
    uVar1 = uVar1 | 0x80000;
  }
  uVar2 = param_1 & 0xc00;
  if (uVar2 < 0x401) {
    if (uVar2 == 0x400) {
      uVar1 = uVar1 | 0x100;
    }
  }
  else if (uVar2 == 0x800) {
    uVar1 = uVar1 | 0x200;
  }
  else if (uVar2 == 0xc00) {
    uVar1 = uVar1 | 0x300;
  }
  if ((param_1 & 0x300) == 0) {
    uVar1 = uVar1 | 0x20000;
  }
  else if ((param_1 & 0x300) == 0x200) {
    uVar1 = uVar1 | 0x10000;
  }
  if ((param_1 & 0x1000) != 0) {
    uVar1 = uVar1 | 0x40000;
  }
  return uVar1;
}



void FUN_004b9a90(void)

{
  return;
}



int FUN_004b9b20(int param_1)

{
  bool bVar1;
  
  if (DAT_005a1338 == 0) {
    if ((0x40 < param_1) && (param_1 < 0x5b)) {
      return param_1 + 0x20;
    }
  }
  else {
    InterlockedIncrement((LONG *)&DAT_005f8d8c);
    bVar1 = DAT_005f8d88 != 0;
    if (bVar1) {
      InterlockedDecrement((LONG *)&DAT_005f8d8c);
      EnterOrInitCriticalSection(0x13);
    }
    param_1 = FUN_004b9bb0(param_1);
    if (bVar1) {
      LeaveCriticalSectionFunc(0x13);
      return param_1;
    }
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
  }
  return param_1;
}



uint FUN_004b9bb0(uint param_1)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  uint local_8 [2];
  
  uVar1 = param_1;
  if (DAT_005a1338 == 0) {
    if ((0x40 < (int)param_1) && ((int)param_1 < 0x5b)) {
      return param_1 + 0x20;
    }
  }
  else {
    if ((int)param_1 < 0x100) {
      if (DAT_004d3f4c < 2) {
        uVar2 = (byte)PTR_DAT_004d3d40[param_1 * 2] & 1;
      }
      else {
        uVar2 = GetCharacterType(param_1,1);
      }
      if (uVar2 == 0) {
        return uVar1;
      }
    }
    uVar2 = param_1;
    if ((PTR_DAT_004d3d40[((int)uVar1 >> 8 & 0xffU) * 2 + 1] & 0x80) == 0) {
      param_1._0_2_ = (ushort)(byte)uVar1;
      uVar3 = 1;
    }
    else {
      param_1._0_2_ = CONCAT11((byte)uVar1,(char)(uVar1 >> 8));
      param_1._0_3_ = (uint3)(ushort)param_1;
      uVar3 = 2;
    }
    iVar4 = MapLocaleString(DAT_005a1338,0x100,&param_1,uVar3,local_8,3,0,1);
    if (iVar4 == 0) {
      return uVar1;
    }
    if (iVar4 == 1) {
      return local_8[0] & 0xff;
    }
    param_1 = (local_8[0] >> 8 & 0xff) << 8 | local_8[0] & 0xff;
  }
  return param_1;
}



undefined4 FUN_004b9cb0(int param_1,int param_2)

{
  byte bVar1;
  int *piVar2;
  int iVar3;
  
  bVar1 = (byte)(param_2 >> 0x1f);
  iVar3 = (int)(param_2 + (param_2 >> 0x1f & 0x1fU)) >> 5;
  if ((*(uint *)(param_1 + iVar3 * 4) &
      ~(-1 << (0x1f - ((((byte)param_2 ^ bVar1) - bVar1 & 0x1f ^ bVar1) - bVar1) & 0x1f))) != 0) {
    return 0;
  }
  iVar3 = iVar3 + 1;
  if (iVar3 < 3) {
    piVar2 = (int *)(param_1 + iVar3 * 4);
    do {
      if (*piVar2 != 0) {
        return 0;
      }
      iVar3 = iVar3 + 1;
      piVar2 = piVar2 + 1;
    } while (iVar3 < 3);
    return 1;
  }
  return 1;
}



void FUN_004b9d20(int param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  
  bVar1 = (byte)(param_2 >> 0x1f);
  iVar3 = (int)(param_2 + (param_2 >> 0x1f & 0x1fU)) >> 5;
  iVar2 = AddWithOverflowCheck
                    (*(undefined4 *)(param_1 + iVar3 * 4),
                     1 << (0x1f - ((((byte)param_2 ^ bVar1) - bVar1 & 0x1f ^ bVar1) - bVar1) & 0x1f)
                     ,param_1 + iVar3 * 4);
  iVar3 = iVar3 + -1;
  if (-1 < iVar3) {
    puVar4 = (undefined4 *)(param_1 + iVar3 * 4);
    do {
      if (iVar2 == 0) {
        return;
      }
      iVar2 = AddWithOverflowCheck(*puVar4,1,puVar4);
      iVar3 = iVar3 + -1;
      puVar4 = puVar4 + -1;
    } while (-1 < iVar3);
  }
  return;
}



undefined4 FUN_004b9d90(int param_1,int param_2)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 local_4;
  
  local_4 = 0;
  bVar2 = (byte)(param_2 >> 0x1f);
  bVar2 = 0x1f - ((((byte)param_2 ^ bVar2) - bVar2 & 0x1f ^ bVar2) - bVar2);
  iVar3 = (int)(param_2 + (param_2 >> 0x1f & 0x1fU)) >> 5;
  if (((*(uint *)(param_1 + iVar3 * 4) & 1 << (bVar2 & 0x1f)) != 0) &&
     (iVar1 = FUN_004b9cb0(param_1,param_2 + 1), iVar1 == 0)) {
    local_4 = FUN_004b9d20(param_1,param_2 + -1);
  }
  *(uint *)(param_1 + iVar3 * 4) = *(uint *)(param_1 + iVar3 * 4) & -1 << (bVar2 & 0x1f);
  iVar3 = iVar3 + 1;
  if (iVar3 < 3) {
    puVar4 = (undefined4 *)(param_1 + iVar3 * 4);
    for (iVar1 = 3 - iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
      *puVar4 = 0;
      puVar4 = puVar4 + 1;
    }
  }
  return local_4;
}



void FUN_004b9e30(int param_1,undefined4 *param_2)

{
  int iVar1;
  
  param_1 = param_1 - (int)param_2;
  iVar1 = 3;
  do {
    *(undefined4 *)((int)param_2 + param_1) = *param_2;
    param_2 = param_2 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  return;
}



void FUN_004b9e50(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  return;
}



undefined4 FUN_004b9e60(int *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    if (*param_1 != 0) {
      return 0;
    }
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  } while (iVar1 < 3);
  return 1;
}



void FUN_004b9e80(uint *param_1,int param_2)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  int iVar7;
  
  iVar1 = (int)(param_2 + (param_2 >> 0x1f & 0x1fU)) >> 5;
  bVar2 = (byte)(param_2 >> 0x1f);
  uVar5 = 0;
  bVar2 = (((byte)param_2 ^ bVar2) - bVar2 & 0x1f ^ bVar2) - bVar2;
  param_2 = 3;
  puVar6 = param_1;
  do {
    uVar4 = *puVar6 >> (bVar2 & 0x1f) | uVar5;
    uVar5 = (~(-1 << (bVar2 & 0x1f)) & *puVar6) << (0x20 - bVar2 & 0x1f);
    *puVar6 = uVar4;
    param_2 = param_2 + -1;
    puVar6 = puVar6 + 1;
  } while (param_2 != 0);
  iVar7 = 2;
  iVar3 = 8;
  do {
    if (iVar7 < iVar1) {
      *(undefined4 *)((int)param_1 + iVar3) = 0;
    }
    else {
      *(undefined4 *)((int)param_1 + iVar3) = *(undefined4 *)((int)param_1 + iVar3 + iVar1 * -4);
    }
    iVar7 = iVar7 + -1;
    iVar3 = iVar3 + -4;
  } while (-1 < iVar3);
  return;
}



undefined4 FUN_004b9f40(ushort *param_1,uint *param_2,int *param_3)

{
  ushort uVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  uint local_18;
  uint local_14;
  int local_10;
  undefined local_c [12];
  
  uVar1 = param_1[5];
  local_14 = *(uint *)(param_1 + 1);
  local_18 = *(uint *)(param_1 + 3);
  uVar4 = uVar1 & 0x7fff;
  iVar5 = uVar4 - 0x3fff;
  local_10 = (uint)*param_1 << 0x10;
  if (iVar5 == -0x3fff) {
    iVar5 = 0;
    iVar2 = FUN_004b9e60(&local_18);
    if (iVar2 == 0) {
      FUN_004b9e50(&local_18);
      uVar3 = 2;
      goto LAB_004ba0c1;
    }
  }
  else {
    FUN_004b9e30(local_c,&local_18);
    iVar2 = FUN_004b9d90(&local_18,param_3[2]);
    if (iVar2 != 0) {
      iVar5 = uVar4 - 0x3ffe;
    }
    iVar2 = param_3[1];
    if (iVar5 < iVar2 - param_3[2]) {
      FUN_004b9e50(&local_18);
      iVar5 = 0;
      uVar3 = 2;
      goto LAB_004ba0c1;
    }
    if (iVar5 <= iVar2) {
      FUN_004b9e30(&local_18,local_c);
      FUN_004b9e80(&local_18,iVar2 - iVar5);
      FUN_004b9d90(&local_18,param_3[2]);
      FUN_004b9e80(&local_18,param_3[3] + 1);
      iVar5 = 0;
      uVar3 = 2;
      goto LAB_004ba0c1;
    }
    if (*param_3 <= iVar5) {
      FUN_004b9e50(&local_18);
      local_18 = local_18 | 0x80000000;
      FUN_004b9e80(&local_18,param_3[3]);
      iVar5 = param_3[5] + *param_3;
      uVar3 = 1;
      goto LAB_004ba0c1;
    }
    iVar5 = param_3[5] + iVar5;
    local_18 = local_18 & 0x7fffffff;
    FUN_004b9e80(&local_18,param_3[3]);
  }
  uVar3 = 0;
LAB_004ba0c1:
  local_18 = iVar5 << (0x1fU - (char)param_3[3] & 0x1f) |
             -(uint)((uVar1 & 0x8000) != 0) & 0x80000000 | local_18;
  if (param_3[4] == 0x40) {
    param_2[1] = local_18;
    *param_2 = local_14;
    return uVar3;
  }
  if (param_3[4] == 0x20) {
    *param_2 = local_18;
  }
  return uVar3;
}



void FUN_004ba110(undefined4 param_1,undefined4 param_2)

{
  FUN_004b9f40(param_1,param_2,&DAT_004d6998);
  return;
}



void FUN_004ba130(undefined4 param_1,undefined4 param_2)

{
  FUN_004b9f40(param_1,param_2,&DAT_004d69b0);
  return;
}



void FUN_004ba150(undefined4 param_1,undefined4 param_2)

{
  undefined local_c [12];
  
  FUN_004baa40(local_c,&param_2,param_2,0,0,0,0);
  FUN_004ba110(local_c,param_1);
  return;
}



void FUN_004ba190(undefined4 param_1,undefined4 param_2)

{
  undefined local_c [12];
  
  FUN_004baa40(local_c,&param_2,param_2,0,0,0,0);
  FUN_004ba130(local_c,param_1);
  return;
}



void FUN_004ba1d0(undefined4 *param_1,int param_2,int param_3)

{
  char *pcVar1;
  char cVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  int iVar6;
  undefined4 *puVar7;
  char *pcVar8;
  
  pcVar5 = *(char **)(param_3 + 0xc);
  pcVar8 = (char *)((int)param_1 + 1);
  *(char *)param_1 = '0';
  pcVar1 = pcVar8;
  iVar6 = param_2;
  if (0 < param_2) {
    do {
      cVar2 = *pcVar5;
      if (cVar2 == '\0') {
        cVar2 = '0';
      }
      else {
        pcVar5 = pcVar5 + 1;
      }
      *pcVar1 = cVar2;
      pcVar1 = pcVar1 + 1;
      iVar6 = iVar6 + -1;
      param_2 = param_2 + -1;
    } while (param_2 != 0);
  }
  *pcVar1 = '\0';
  if ((-1 < iVar6) && ('4' < *pcVar5)) {
    cVar2 = pcVar1[-1];
    while (pcVar5 = pcVar1 + -1, cVar2 == '9') {
      *pcVar5 = '0';
      cVar2 = pcVar1[-2];
      pcVar1 = pcVar5;
    }
    *pcVar5 = *pcVar5 + '\x01';
  }
  if (*(char *)param_1 == '1') {
    *(int *)(param_3 + 4) = *(int *)(param_3 + 4) + 1;
    return;
  }
  uVar3 = 0xffffffff;
  do {
    pcVar5 = pcVar8;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar5 = pcVar8 + 1;
    cVar2 = *pcVar8;
    pcVar8 = pcVar5;
  } while (cVar2 != '\0');
  uVar3 = ~uVar3;
  puVar7 = (undefined4 *)(pcVar5 + -uVar3);
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *param_1 = *puVar7;
    puVar7 = puVar7 + 1;
    param_1 = param_1 + 1;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *(char *)param_1 = *(char *)puVar7;
    puVar7 = (undefined4 *)((int)puVar7 + 1);
    param_1 = (undefined4 *)((int)param_1 + 1);
  }
  return;
}



int * FUN_004ba270(undefined4 param_1,undefined4 param_2,int *param_3,undefined4 *param_4)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  char *pcVar6;
  char *pcVar7;
  undefined4 *puVar8;
  undefined4 local_28;
  undefined4 local_24;
  undefined2 local_20;
  short local_1c;
  char local_1a;
  char local_18 [24];
  
  FUN_004ba300(&local_28,&param_1);
  iVar2 = FUN_004bcd90(local_28,local_24,local_20,0x11,0,&local_1c);
  param_3[2] = iVar2;
  param_3[1] = (int)local_1c;
  *param_3 = (int)local_1a;
  uVar3 = 0xffffffff;
  pcVar6 = local_18;
  do {
    pcVar7 = pcVar6;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar7 = pcVar6 + 1;
    cVar1 = *pcVar6;
    pcVar6 = pcVar7;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  puVar5 = (undefined4 *)(pcVar7 + -uVar3);
  puVar8 = param_4;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *puVar8 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar8 = puVar8 + 1;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *(undefined *)puVar8 = *(undefined *)puVar5;
    puVar5 = (undefined4 *)((int)puVar5 + 1);
    puVar8 = (undefined4 *)((int)puVar8 + 1);
  }
  param_3[3] = (int)param_4;
  return param_3;
}



void FUN_004ba300(uint *param_1,uint *param_2)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  int iVar6;
  
  uVar4 = 0x80000000;
  uVar1 = *(ushort *)((int)param_2 + 6);
  uVar2 = *param_2;
  uVar3 = (uVar1 & 0x7ff0) >> 4;
  if (uVar3 == 0) {
    uVar4 = 0;
    if (((param_2[1] & 0xfffff) == 0) && (uVar2 == 0)) {
      param_1[1] = 0;
      *param_1 = 0;
      *(undefined2 *)(param_1 + 2) = 0;
      return;
    }
    iVar6 = 0x3c01;
  }
  else if (uVar3 == 0x7ff) {
    iVar6 = 0x7fff;
  }
  else {
    iVar6 = uVar3 + 0x3c00;
  }
  uVar5 = (ushort)iVar6;
  uVar3 = uVar2 >> 0x15 | (param_2[1] & 0xfffff) << 0xb | uVar4;
  param_1[1] = uVar3;
  *param_1 = uVar2 << 0xb;
  for (; uVar4 == 0; uVar4 = uVar4 & 0x80000000) {
    uVar4 = uVar3 * 2;
    uVar3 = *param_1 >> 0x1f | uVar4;
    iVar6 = iVar6 + 0xffff;
    uVar5 = (ushort)iVar6;
    param_1[1] = uVar3;
    *param_1 = *param_1 * 2;
  }
  *(ushort *)(param_1 + 2) = uVar5 | uVar1 & 0x8000;
  return;
}



undefined4 * FUN_004ba3c0(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  uint uVar1;
  undefined4 *puVar2;
  
  if ((param_2 < param_1) && (param_1 < (undefined4 *)(param_3 + (int)param_2))) {
    param_2 = (undefined4 *)((param_3 - 4) + (int)param_2);
    puVar2 = (undefined4 *)((param_3 - 4) + (int)param_1);
    if (((uint)puVar2 & 3) == 0) {
      uVar1 = param_3 >> 2;
      param_3 = param_3 & 3;
      if (7 < uVar1) {
        for (; uVar1 != 0; uVar1 = uVar1 - 1) {
          *puVar2 = *param_2;
          param_2 = param_2 + -1;
          puVar2 = puVar2 + -1;
        }
        switch(param_3) {
        case 0:
          return param_1;
        case 2:
          goto switchD_004ba577_caseD_2;
        case 3:
          goto switchD_004ba577_caseD_3;
        }
        goto switchD_004ba577_caseD_1;
      }
    }
    else {
      switch(param_3) {
      case 0:
        goto switchD_004ba577_caseD_0;
      case 1:
        goto switchD_004ba577_caseD_1;
      case 2:
        goto switchD_004ba577_caseD_2;
      case 3:
        goto switchD_004ba577_caseD_3;
      default:
        uVar1 = param_3 - ((uint)puVar2 & 3);
        switch((uint)puVar2 & 3) {
        case 1:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          param_2 = (undefined4 *)((int)param_2 + -1);
          uVar1 = uVar1 >> 2;
          puVar2 = (undefined4 *)((int)puVar2 - 1);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ba577_caseD_2;
            case 3:
              goto switchD_004ba577_caseD_3;
            }
            goto switchD_004ba577_caseD_1;
          }
          break;
        case 2:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
          param_2 = (undefined4 *)((int)param_2 + -2);
          puVar2 = (undefined4 *)((int)puVar2 - 2);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ba577_caseD_2;
            case 3:
              goto switchD_004ba577_caseD_3;
            }
            goto switchD_004ba577_caseD_1;
          }
          break;
        case 3:
          param_3 = uVar1 & 3;
          *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
          *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
          uVar1 = uVar1 >> 2;
          *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
          param_2 = (undefined4 *)((int)param_2 + -3);
          puVar2 = (undefined4 *)((int)puVar2 - 3);
          if (7 < uVar1) {
            for (; uVar1 != 0; uVar1 = uVar1 - 1) {
              *puVar2 = *param_2;
              param_2 = param_2 + -1;
              puVar2 = puVar2 + -1;
            }
            switch(param_3) {
            case 0:
              return param_1;
            case 2:
              goto switchD_004ba577_caseD_2;
            case 3:
              goto switchD_004ba577_caseD_3;
            }
            goto switchD_004ba577_caseD_1;
          }
        }
      }
    }
    switch(uVar1) {
    case 7:
      puVar2[7 - uVar1] = param_2[7 - uVar1];
    case 6:
      puVar2[6 - uVar1] = param_2[6 - uVar1];
    case 5:
      puVar2[5 - uVar1] = param_2[5 - uVar1];
    case 4:
      puVar2[4 - uVar1] = param_2[4 - uVar1];
    case 3:
      puVar2[3 - uVar1] = param_2[3 - uVar1];
    case 2:
      puVar2[2 - uVar1] = param_2[2 - uVar1];
    case 1:
      puVar2[1 - uVar1] = param_2[1 - uVar1];
      param_2 = param_2 + -uVar1;
      puVar2 = puVar2 + -uVar1;
    }
    switch(param_3) {
    case 1:
switchD_004ba577_caseD_1:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      return param_1;
    case 2:
switchD_004ba577_caseD_2:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
      return param_1;
    case 3:
switchD_004ba577_caseD_3:
      *(undefined *)((int)puVar2 + 3) = *(undefined *)((int)param_2 + 3);
      *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
      *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
      return param_1;
    }
switchD_004ba577_caseD_0:
    return param_1;
  }
  puVar2 = param_1;
  if (((uint)param_1 & 3) == 0) {
    uVar1 = param_3 >> 2;
    param_3 = param_3 & 3;
    if (7 < uVar1) {
      for (; uVar1 != 0; uVar1 = uVar1 - 1) {
        *puVar2 = *param_2;
        param_2 = param_2 + 1;
        puVar2 = puVar2 + 1;
      }
      switch(param_3) {
      case 0:
        return param_1;
      case 2:
        goto switchD_004ba3f5_caseD_2;
      case 3:
        goto switchD_004ba3f5_caseD_3;
      }
      goto switchD_004ba3f5_caseD_1;
    }
  }
  else {
    switch(param_3) {
    case 0:
      goto switchD_004ba3f5_caseD_0;
    case 1:
      goto switchD_004ba3f5_caseD_1;
    case 2:
      goto switchD_004ba3f5_caseD_2;
    case 3:
      goto switchD_004ba3f5_caseD_3;
    default:
      uVar1 = (param_3 - 4) + ((uint)param_1 & 3);
      switch((uint)param_1 & 3) {
      case 1:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 2) = *(undefined *)((int)param_2 + 2);
        param_2 = (undefined4 *)((int)param_2 + 3);
        puVar2 = (undefined4 *)((int)param_1 + 3);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ba3f5_caseD_2;
          case 3:
            goto switchD_004ba3f5_caseD_3;
          }
          goto switchD_004ba3f5_caseD_1;
        }
        break;
      case 2:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        uVar1 = uVar1 >> 2;
        *(undefined *)((int)param_1 + 1) = *(undefined *)((int)param_2 + 1);
        param_2 = (undefined4 *)((int)param_2 + 2);
        puVar2 = (undefined4 *)((int)param_1 + 2);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ba3f5_caseD_2;
          case 3:
            goto switchD_004ba3f5_caseD_3;
          }
          goto switchD_004ba3f5_caseD_1;
        }
        break;
      case 3:
        param_3 = uVar1 & 3;
        *(undefined *)param_1 = *(undefined *)param_2;
        param_2 = (undefined4 *)((int)param_2 + 1);
        uVar1 = uVar1 >> 2;
        puVar2 = (undefined4 *)((int)param_1 + 1);
        if (7 < uVar1) {
          for (; uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar2 = puVar2 + 1;
          }
          switch(param_3) {
          case 0:
            return param_1;
          case 2:
            goto switchD_004ba3f5_caseD_2;
          case 3:
            goto switchD_004ba3f5_caseD_3;
          }
          goto switchD_004ba3f5_caseD_1;
        }
      }
    }
  }
                    // WARNING: Could not find normalized switch variable to match jumptable
  switch(uVar1) {
  case 0x1c:
  case 0x1d:
  case 0x1e:
  case 0x1f:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 7] = param_2[uVar1 - 7];
  case 0x18:
  case 0x19:
  case 0x1a:
  case 0x1b:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 6] = param_2[uVar1 - 6];
  case 0x14:
  case 0x15:
  case 0x16:
  case 0x17:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 5] = param_2[uVar1 - 5];
  case 0x10:
  case 0x11:
  case 0x12:
  case 0x13:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 4] = param_2[uVar1 - 4];
  case 0xc:
  case 0xd:
  case 0xe:
  case 0xf:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 3] = param_2[uVar1 - 3];
  case 8:
  case 9:
  case 10:
  case 0xb:
                    // WARNING: This code block may not be properly labeled as switch case
    puVar2[uVar1 - 2] = param_2[uVar1 - 2];
  case 4:
  case 5:
  case 6:
  case 7:
    puVar2[uVar1 - 1] = param_2[uVar1 - 1];
    param_2 = param_2 + uVar1;
    puVar2 = puVar2 + uVar1;
  }
  switch(param_3) {
  case 1:
switchD_004ba3f5_caseD_1:
    *(undefined *)puVar2 = *(undefined *)param_2;
    return param_1;
  case 2:
switchD_004ba3f5_caseD_2:
    *(undefined *)puVar2 = *(undefined *)param_2;
    *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
    return param_1;
  case 3:
switchD_004ba3f5_caseD_3:
    *(undefined *)puVar2 = *(undefined *)param_2;
    *(undefined *)((int)puVar2 + 1) = *(undefined *)((int)param_2 + 1);
    *(undefined *)((int)puVar2 + 2) = *(undefined *)((int)param_2 + 2);
    return param_1;
  }
switchD_004ba3f5_caseD_0:
  return param_1;
}



void FUN_004ba700(void)

{
  __amsg_exit(2);
  return;
}



byte FUN_004ba7f0(uint param_1)

{
  if (DAT_005f8ea0 <= param_1) {
    return 0;
  }
  return *(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) & 0x40;
}



undefined4 FUN_004ba820(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_005f8d8c);
  bVar2 = DAT_005f8d88 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    EnterOrInitCriticalSection(0x13);
  }
  uVar1 = FUN_004ba890(param_1,param_2);
  if (!bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    return uVar1;
  }
  LeaveCriticalSectionFunc(0x13);
  return uVar1;
}



LPSTR FUN_004ba890(LPSTR param_1,WCHAR param_2)

{
  LPSTR pCVar1;
  undefined4 *puVar2;
  
  pCVar1 = param_1;
  if (param_1 == (LPSTR)0x0) {
    return param_1;
  }
  if (DAT_005a1338 == 0) {
    if ((ushort)param_2 < 0x100) {
      *param_1 = (CHAR)param_2;
      return (LPSTR)0x1;
    }
  }
  else {
    param_1 = (LPSTR)0x0;
    pCVar1 = (LPSTR)WideCharToMultiByte(DAT_005a1348,0x220,&param_2,1,pCVar1,DAT_004d3f4c,
                                        (LPCSTR)0x0,(LPBOOL)&param_1);
    if ((pCVar1 != (LPSTR)0x0) && (param_1 == (LPSTR)0x0)) {
      return pCVar1;
    }
  }
  puVar2 = (undefined4 *)GetSpecificTlsOffset();
  *puVar2 = 0x2a;
  return (LPSTR)0xffffffff;
}



// /*
//  * Function: ReturnZero
//  * Description:
//  *   This function simply returns 0, which is often used to indicate a successful or default
// state.
//  *   Unsure if this is a pragma check for debug
//  */

undefined4 ReturnZero(void)

{
  return 0;
}



void FUN_004ba920(int param_1,int *param_2,ushort *param_3)

{
  int iVar1;
  undefined4 uVar2;
  undefined local_58 [40];
  int local_30;
  int local_2c;
  uint local_20;
  
  param_3 = (ushort *)(uint)*param_3;
  switch(*param_2) {
  case 1:
  case 5:
    uVar2 = 8;
    break;
  case 2:
    uVar2 = 4;
    break;
  case 3:
    uVar2 = 0x11;
    break;
  case 4:
    uVar2 = 0x12;
    break;
  default:
    goto switchD_004ba93f_caseD_6;
  case 7:
    *param_2 = 1;
    goto switchD_004ba93f_caseD_6;
  case 8:
    uVar2 = 0x10;
  }
  iVar1 = FUN_004b2b60(uVar2,param_2 + 6,param_3);
  if (iVar1 == 0) {
    if (((param_1 == 0x10) || (param_1 == 0x16)) || (param_1 == 0x1d)) {
      local_30 = param_2[4];
      local_20 = local_20 & 0xffffffe3 | 3;
      local_2c = param_2[5];
    }
    else {
      local_20 = local_20 & 0xfffffffe;
    }
    FUN_004b2820(local_58,&param_3,uVar2,param_1,param_2 + 2,param_2 + 6);
  }
switchD_004ba93f_caseD_6:
  GetFpuControlWord(param_3,0xffff);
  iVar1 = 0;
  if ((*param_2 != 8) && (DAT_004d6c50 == 0)) {
    iVar1 = ReturnZero(param_2);
  }
  if (iVar1 == 0) {
    UpdateTlsValueBasedOnParam(*param_2);
  }
  return;
}



undefined4
FUN_004baa40(ushort *param_1,byte **param_2,byte *param_3,undefined4 param_4,int param_5,int param_6
            ,int param_7)

{
  char cVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  bool bVar5;
  bool bVar6;
  ushort uVar7;
  int iVar8;
  uint uVar9;
  byte bVar10;
  byte *pbVar11;
  byte *pbVar12;
  uint uVar13;
  byte *pbVar14;
  int local_60;
  char *local_5c;
  uint local_54;
  byte *local_50;
  int local_4c;
  int local_48;
  undefined4 local_30;
  ushort local_2c;
  undefined2 uStack_2a;
  undefined2 uStack_28;
  byte *local_26;
  undefined4 local_22;
  char local_1c [23];
  char local_5;
  
  local_5c = local_1c;
  iVar8 = 0;
  uVar13 = 0;
  uVar7 = 0;
  local_4c = 1;
  local_54 = 0;
  bVar2 = false;
  bVar4 = false;
  bVar3 = false;
  bVar5 = false;
  bVar6 = false;
  local_48 = 0;
  local_60 = 0;
  local_30 = 0;
  local_50 = param_3;
  for (pbVar11 = param_3;
      (((bVar10 = *pbVar11, bVar10 == 0x20 || (bVar10 == 9)) || (bVar10 == 10)) ||
      (pbVar14 = param_3, bVar10 == 0xd)); pbVar11 = pbVar11 + 1) {
  }
  do {
    bVar10 = *pbVar11;
    pbVar12 = pbVar11 + 1;
    param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
    switch(iVar8) {
    case 0:
      if (('0' < (char)bVar10) && ((char)bVar10 < ':')) {
        iVar8 = 3;
        goto LAB_004baf12;
      }
      if (bVar10 == DAT_004d3f50) {
        iVar8 = 5;
      }
      else if (bVar10 == 0x2b) {
        iVar8 = 2;
        uVar7 = 0;
      }
      else if (bVar10 == 0x2d) {
        iVar8 = 2;
        uVar7 = 0x8000;
      }
      else {
        if (bVar10 != 0x30) goto switchD_004bad02_caseD_2c;
        iVar8 = 1;
      }
      break;
    case 1:
      bVar2 = true;
      if (('0' < (char)bVar10) && ((char)bVar10 < ':')) {
        iVar8 = 3;
        goto LAB_004baf12;
      }
      if (bVar10 == DAT_004d3f50) {
        iVar8 = 4;
      }
      else {
        switch(bVar10) {
        case 0x2b:
        case 0x2d:
          goto switchD_004bad02_caseD_2b;
        default:
          goto switchD_004bad02_caseD_2c;
        case 0x30:
switchD_004bab76_caseD_30:
          iVar8 = 1;
          break;
        case 0x44:
        case 0x45:
        case 100:
        case 0x65:
          goto switchD_004bad02_caseD_44;
        }
      }
      break;
    case 2:
      if (('0' < (char)bVar10) && ((char)bVar10 < ':')) {
        iVar8 = 3;
        goto LAB_004baf12;
      }
      if (bVar10 == DAT_004d3f50) {
        iVar8 = 5;
      }
      else {
        if (bVar10 == 0x30) goto switchD_004bab76_caseD_30;
        iVar8 = 10;
        pbVar12 = pbVar14;
      }
      break;
    case 3:
      while( true ) {
        bVar2 = true;
        if (DAT_004d3f4c < 2) {
          uVar9 = (byte)PTR_DAT_004d3d40[((uint)param_3 & 0xff) * 2] & 4;
        }
        else {
          uVar9 = GetCharacterType((uint)param_3 & 0xff,4);
        }
        if (uVar9 == 0) break;
        if (uVar13 < 0x19) {
          uVar13 = uVar13 + 1;
          *local_5c = bVar10 - 0x30;
          bVar10 = *pbVar12;
          local_5c = local_5c + 1;
          param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
          pbVar12 = pbVar12 + 1;
        }
        else {
          bVar10 = *pbVar12;
          local_60 = local_60 + 1;
          param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
          pbVar12 = pbVar12 + 1;
        }
      }
      local_54 = uVar13;
      if (bVar10 != DAT_004d3f50) {
        switch(bVar10) {
        case 0x2b:
        case 0x2d:
          goto switchD_004bad02_caseD_2b;
        case 0x44:
        case 0x45:
        case 100:
        case 0x65:
          goto switchD_004bad02_caseD_44;
        }
switchD_004bad02_caseD_2c:
        iVar8 = 10;
        goto LAB_004baf12;
      }
      iVar8 = 4;
      break;
    case 4:
      bVar4 = true;
      if (uVar13 == 0) {
        while (bVar10 == 0x30) {
          bVar10 = *pbVar12;
          local_60 = local_60 + -1;
          pbVar12 = pbVar12 + 1;
          param_3._1_3_ = (undefined3)((uint)param_3 >> 8);
          param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
        }
      }
      while( true ) {
        bVar2 = true;
        if (DAT_004d3f4c < 2) {
          uVar9 = (byte)PTR_DAT_004d3d40[((uint)param_3 & 0xff) * 2] & 4;
        }
        else {
          uVar9 = GetCharacterType((uint)param_3 & 0xff,4);
        }
        if (uVar9 == 0) break;
        if (uVar13 < 0x19) {
          uVar13 = uVar13 + 1;
          *local_5c = bVar10 - 0x30;
          local_5c = local_5c + 1;
          local_60 = local_60 + -1;
        }
        bVar10 = *pbVar12;
        pbVar12 = pbVar12 + 1;
        param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
      }
      local_54 = uVar13;
      switch(bVar10) {
      case 0x2b:
      case 0x2d:
switchD_004bad02_caseD_2b:
        bVar2 = true;
        pbVar12 = pbVar12 + -1;
        iVar8 = 0xb;
        break;
      default:
        goto switchD_004bad02_caseD_2c;
      case 0x44:
      case 0x45:
      case 100:
      case 0x65:
switchD_004bad02_caseD_44:
        bVar2 = true;
        iVar8 = 6;
      }
      break;
    case 5:
      bVar4 = true;
      if (DAT_004d3f4c < 2) {
        uVar9 = (byte)PTR_DAT_004d3d40[(uint)bVar10 * 2] & 4;
      }
      else {
        uVar9 = GetCharacterType(bVar10,4);
      }
      if (uVar9 == 0) {
        iVar8 = 10;
        pbVar12 = pbVar14;
      }
      else {
        iVar8 = 4;
        pbVar12 = pbVar11;
      }
      break;
    case 6:
      pbVar11 = pbVar11 + -1;
      pbVar14 = pbVar11;
      local_50 = pbVar11;
      if (('0' < (char)bVar10) && ((char)bVar10 < ':')) {
        iVar8 = 9;
        goto LAB_004baf12;
      }
      if (bVar10 == 0x2b) {
LAB_004baf06:
        iVar8 = 7;
        pbVar14 = pbVar11;
        local_50 = pbVar11;
      }
      else {
        if (bVar10 != 0x2d) goto LAB_004badf6;
LAB_004baef7:
        iVar8 = 7;
        local_4c = -1;
        pbVar14 = pbVar11;
        local_50 = pbVar11;
      }
      break;
    case 7:
      if (('0' < (char)bVar10) && ((char)bVar10 < ':')) {
        iVar8 = 9;
        goto LAB_004baf12;
      }
LAB_004badf6:
      if (bVar10 == 0x30) {
        iVar8 = 8;
      }
      else {
        iVar8 = 10;
        pbVar12 = pbVar14;
      }
      break;
    case 8:
      bVar3 = true;
      while (bVar10 == 0x30) {
        bVar10 = *pbVar12;
        pbVar12 = pbVar12 + 1;
      }
      if (((char)bVar10 < '1') || ('9' < (char)bVar10)) goto switchD_004bad02_caseD_2c;
      iVar8 = 9;
LAB_004baf12:
      pbVar12 = pbVar12 + -1;
      break;
    case 9:
      bVar3 = true;
      local_48 = 0;
      while( true ) {
        if (DAT_004d3f4c < 2) {
          uVar13 = (byte)PTR_DAT_004d3d40[((uint)param_3 & 0xff) * 2] & 4;
        }
        else {
          uVar13 = GetCharacterType((uint)param_3 & 0xff,4);
        }
        if (uVar13 == 0) goto LAB_004bae7a;
        local_48 = (char)bVar10 + -0x30 + local_48 * 10;
        if (0x1450 < local_48) break;
        bVar10 = *pbVar12;
        pbVar12 = pbVar12 + 1;
        param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
      }
      local_48 = 0x1451;
LAB_004bae7a:
      while( true ) {
        if (DAT_004d3f4c < 2) {
          uVar13 = (byte)PTR_DAT_004d3d40[((uint)param_3 & 0xff) * 2] & 4;
        }
        else {
          uVar13 = GetCharacterType((uint)param_3 & 0xff,4);
        }
        if (uVar13 == 0) break;
        bVar10 = *pbVar12;
        pbVar12 = pbVar12 + 1;
        param_3 = (byte *)CONCAT31(param_3._1_3_,bVar10);
      }
      iVar8 = 10;
      pbVar12 = pbVar12 + -1;
      uVar13 = local_54;
      pbVar14 = local_50;
      break;
    case 0xb:
      if (param_7 == 0) goto switchD_004bad02_caseD_2c;
      if (bVar10 == 0x2b) goto LAB_004baf06;
      if (bVar10 == 0x2d) goto LAB_004baef7;
      iVar8 = 10;
      pbVar12 = pbVar11;
      pbVar14 = pbVar11;
      local_50 = pbVar11;
    }
    pbVar11 = pbVar12;
  } while (iVar8 != 10);
  *param_2 = pbVar12;
  if (bVar2) {
    if (0x18 < uVar13) {
      if ('\x04' < local_5) {
        local_5 = local_5 + '\x01';
      }
      local_5c = local_5c + -1;
      local_60 = local_60 + 1;
      uVar13 = 0x18;
    }
    if (uVar13 == 0) {
      local_2c = 0;
      local_22._0_2_ = 0;
      param_3 = (byte *)0x0;
      pbVar11 = (byte *)0x0;
      goto LAB_004bafe4;
    }
    cVar1 = local_5c[-1];
    while (cVar1 == '\0') {
      uVar13 = uVar13 - 1;
      local_60 = local_60 + 1;
      cVar1 = local_5c[-2];
      local_5c = local_5c + -1;
    }
    ProcessModelData(local_1c,uVar13,&local_2c);
    if (local_4c < 0) {
      local_48 = -local_48;
    }
    local_48 = local_48 + local_60;
    if (!bVar3) {
      local_48 = local_48 + param_5;
    }
    if (!bVar4) {
      local_48 = local_48 - param_6;
    }
    if (local_48 < 0x1451) {
      if (-0x1451 < local_48) {
        FUN_004bd480(&local_2c,local_48,param_4);
        pbVar11 = (byte *)CONCAT22(uStack_28,uStack_2a);
        param_3 = local_26;
        goto LAB_004bafe4;
      }
      bVar6 = true;
    }
    else {
      bVar5 = true;
    }
  }
  local_2c = (ushort)param_3;
  pbVar11 = param_3;
  local_22._0_2_ = local_2c;
LAB_004bafe4:
  if (bVar2) {
    if (bVar5) {
      pbVar11 = (byte *)0x0;
      local_22._0_2_ = 0x7fff;
      param_3 = (byte *)0x80000000;
      local_2c = 0;
      local_30 = 2;
    }
    else if (bVar6) {
      local_2c = 0;
      local_22._0_2_ = 0;
      param_3 = (byte *)0x0;
      pbVar11 = (byte *)0x0;
      local_30 = 1;
    }
  }
  else {
    local_2c = 0;
    local_22._0_2_ = 0;
    param_3 = (byte *)0x0;
    pbVar11 = (byte *)0x0;
    local_30 = 4;
  }
  *param_1 = local_2c;
  *(byte **)(param_1 + 1) = pbVar11;
  *(byte **)(param_1 + 3) = param_3;
  param_1[5] = (ushort)local_22 | uVar7;
  return local_30;
}



void FUN_004bb270(int *param_1)

{
  int iVar1;
  
  DAT_005a16c0 = DAT_005a16c0 + 1;
  iVar1 = AllocateMemoryWithCallback(0x1000);
  param_1[2] = iVar1;
  if (iVar1 != 0) {
    param_1[3] = param_1[3] | 8;
    param_1[6] = 0x1000;
    *param_1 = param_1[2];
    param_1[1] = 0;
    return;
  }
  param_1[6] = 2;
  param_1[3] = param_1[3] | 4;
  param_1[2] = (int)(param_1 + 5);
  *param_1 = (int)(param_1 + 5);
  param_1[1] = 0;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

byte FUN_004bb2d0(byte *param_1,byte *param_2)

{
  bool bVar1;
  int iVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  
  iVar2 = _DAT_005f8d8c;
  if (DAT_005a1338 == 0) {
    bVar5 = 0xff;
    do {
      do {
        if (bVar5 == 0) {
          return 0;
        }
        bVar5 = *param_2;
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        param_1 = param_1 + 1;
      } while (bVar4 == bVar5);
      bVar3 = bVar5 + 0xbf + (-((byte)(bVar5 + 0xbf) < 0x1a) & 0x20U) + 0x41;
      bVar4 = bVar4 + 0xbf;
      bVar5 = bVar4 + (-(bVar4 < 0x1a) & 0x20U) + 0x41;
    } while (bVar5 == bVar3);
    bVar5 = (bVar5 < bVar3) * -2 + 1;
  }
  else {
    LOCK();
    _DAT_005f8d8c = _DAT_005f8d8c + 1;
    UNLOCK();
    bVar1 = 0 < DAT_005f8d88;
    if (bVar1) {
      LOCK();
      UNLOCK();
      _DAT_005f8d8c = iVar2;
      EnterOrInitCriticalSection(0x13);
    }
    uVar6 = (uint)bVar1;
    bVar5 = 0xff;
    do {
      do {
        if (bVar5 == 0) goto LAB_004bb37f;
        bVar5 = *param_2;
        param_2 = param_2 + 1;
        bVar4 = *param_1;
        param_1 = param_1 + 1;
      } while (bVar5 == bVar4);
      bVar4 = FUN_004b9bb0(bVar4,bVar5);
      bVar5 = FUN_004b9bb0();
    } while (bVar4 == bVar5);
    bVar5 = (bVar4 < bVar5) * -2 + 1;
LAB_004bb37f:
    if (uVar6 == 0) {
      LOCK();
      _DAT_005f8d8c = _DAT_005f8d8c + -1;
      UNLOCK();
    }
    else {
      LeaveCriticalSectionFunc(0x13);
    }
  }
  return bVar5;
}



// Library Function - Single Match
//  _strrchr
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl _strrchr(char *_Str,int _Ch)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  char *pcVar4;
  
  iVar2 = -1;
  do {
    pcVar4 = _Str;
    if (iVar2 == 0) break;
    iVar2 = iVar2 + -1;
    pcVar4 = _Str + 1;
    cVar1 = *_Str;
    _Str = pcVar4;
  } while (cVar1 != '\0');
  iVar2 = -(iVar2 + 1);
  pcVar4 = pcVar4 + -1;
  do {
    pcVar3 = pcVar4;
    if (iVar2 == 0) break;
    iVar2 = iVar2 + -1;
    pcVar3 = pcVar4 + -1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar3;
  } while ((char)_Ch != cVar1);
  pcVar3 = pcVar3 + 1;
  if (*pcVar3 != (char)_Ch) {
    pcVar3 = (char *)0x0;
  }
  return pcVar3;
}



// Library Function - Single Match
//  _strpbrk
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

char * __cdecl _strpbrk(char *_Str,char *_Control)

{
  byte bVar1;
  byte *pbVar2;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0;
  uStack_10 = 0;
  uStack_14 = 0;
  uStack_18 = 0;
  uStack_1c = 0;
  uStack_20 = 0;
  uStack_24 = 0;
  uStack_28 = 0;
  while( true ) {
    bVar1 = *_Control;
    if (bVar1 == 0) break;
    _Control = (char *)((byte *)_Control + 1);
    pbVar2 = (byte *)((int)&uStack_28 + ((int)(uint)bVar1 >> 3));
    *pbVar2 = *pbVar2 | '\x01' << (bVar1 & 7);
  }
  do {
    pbVar2 = (byte *)_Str;
    bVar1 = *pbVar2;
    if (bVar1 == 0) {
      return (char *)(uint)bVar1;
    }
    _Str = (char *)(pbVar2 + 1);
  } while ((*(byte *)((int)&uStack_28 + ((int)(char *)(uint)bVar1 >> 3)) >> (bVar1 & 7) & 1) == 0);
  return (char *)pbVar2;
}



// // Function: SetResourceMode
// // Description: This function modifies the flags of a resource identified by `param_1` based on
// the mode specified by `param_2`. It supports two modes: `0x8000` (clear flag 0x80) and `0x4000`
// (set flag 0x80). It returns a status code based on the previous state of the flag.
// // Old Name: FUN_004bb410
// //
// // Arguments:
// //   param_1 (uint): The identifier of the resource whose flags are to be modified.
// //   param_2 (int): The mode to set. This can be `0x8000` to clear flag 0x80, or `0x4000` to set
// flag 0x80.
// //
// // Return Value:
// //   A status code that is `0x8000` if flag 0x80 was not set, or `0x4000` if flag 0x80 was set.
// 

int SetResourceMode(uint param_1,int param_2)

{
  byte bVar1;
  undefined4 *puVar2;
  byte bVar3;
  
  bVar1 = *(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24);
  if (param_2 == 0x8000) {
    bVar3 = bVar1 & 0x7f;
  }
  else {
    if (param_2 != 0x4000) {
      puVar2 = (undefined4 *)GetSpecificTlsOffset();
      *puVar2 = 0x16;
      return -1;
    }
    bVar3 = bVar1 | 0x80;
  }
  *(byte *)((&DAT_005f8da0)[(int)param_1 >> 5] + 4 + (param_1 & 0x1f) * 0x24) = bVar3;
  return (-(uint)((bVar1 & 0x80) != 0) & 0xffffc000) + 0x8000;
}



uint FUN_004bb530(int param_1)

{
  undefined2 uVar1;
  undefined2 uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  uint uVar25;
  uint uVar26;
  uint uVar27;
  uint uVar28;
  uint uVar29;
  uint uVar30;
  uint uVar31;
  uint uVar32;
  uint uVar33;
  uint uVar34;
  uint uVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  uint uVar40;
  uint uVar41;
  uint uVar42;
  uint uVar43;
  uint uVar44;
  uint uVar45;
  
  uVar2 = DAT_005a1708;
  uVar1 = DAT_005a1706;
  if (param_1 == 0) {
    return 0xffffffff;
  }
  uVar3 = FUN_004bd510(1,DAT_005a1706,0x31,param_1 + 4);
  uVar4 = FUN_004bd510(1,uVar1,0x32,param_1 + 8);
  uVar5 = FUN_004bd510(1,uVar1,0x33,param_1 + 0xc);
  uVar6 = FUN_004bd510(1,uVar1,0x34,param_1 + 0x10);
  uVar7 = FUN_004bd510(1,uVar1,0x35,param_1 + 0x14);
  uVar8 = FUN_004bd510(1,uVar1,0x36,param_1 + 0x18);
  uVar9 = FUN_004bd510(1,uVar1,0x37,param_1);
  uVar10 = FUN_004bd510(1,uVar1,0x2a,param_1 + 0x20);
  uVar11 = FUN_004bd510(1,uVar1,0x2b,param_1 + 0x24);
  uVar12 = FUN_004bd510(1,uVar1,0x2c,param_1 + 0x28);
  uVar13 = FUN_004bd510(1,uVar1,0x2d,param_1 + 0x2c);
  uVar14 = FUN_004bd510(1,uVar1,0x2e,param_1 + 0x30);
  uVar15 = FUN_004bd510(1,uVar1,0x2f,param_1 + 0x34);
  uVar16 = FUN_004bd510(1,uVar1,0x30,param_1 + 0x1c);
  uVar17 = FUN_004bd510(1,uVar1,0x44,param_1 + 0x38);
  uVar18 = FUN_004bd510(1,uVar1,0x45,param_1 + 0x3c);
  uVar19 = FUN_004bd510(1,uVar1,0x46,param_1 + 0x40);
  uVar20 = FUN_004bd510(1,uVar1,0x47,param_1 + 0x44);
  uVar21 = FUN_004bd510(1,uVar1,0x48,param_1 + 0x48);
  uVar22 = FUN_004bd510(1,uVar1,0x49,param_1 + 0x4c);
  uVar23 = FUN_004bd510(1,uVar1,0x4a,param_1 + 0x50);
  uVar24 = FUN_004bd510(1,uVar1,0x4b,param_1 + 0x54);
  uVar25 = FUN_004bd510(1,uVar1,0x4c,param_1 + 0x58);
  uVar26 = FUN_004bd510(1,uVar1,0x4d,param_1 + 0x5c);
  uVar27 = FUN_004bd510(1,uVar1,0x4e,param_1 + 0x60);
  uVar28 = FUN_004bd510(1,uVar1,0x4f,param_1 + 100);
  uVar29 = FUN_004bd510(1,uVar1,0x38,param_1 + 0x68);
  uVar30 = FUN_004bd510(1,uVar1,0x39,param_1 + 0x6c);
  uVar31 = FUN_004bd510(1,uVar1,0x3a,param_1 + 0x70);
  uVar32 = FUN_004bd510(1,uVar1,0x3b,param_1 + 0x74);
  uVar33 = FUN_004bd510(1,uVar1,0x3c,param_1 + 0x78);
  uVar34 = FUN_004bd510(1,uVar1,0x3d,param_1 + 0x7c);
  uVar35 = FUN_004bd510(1,uVar1,0x3e,param_1 + 0x80);
  uVar36 = FUN_004bd510(1,uVar1,0x3f,param_1 + 0x84);
  uVar37 = FUN_004bd510(1,uVar1,0x40,param_1 + 0x88);
  uVar38 = FUN_004bd510(1,uVar1,0x41,param_1 + 0x8c);
  uVar39 = FUN_004bd510(1,uVar1,0x42,param_1 + 0x90);
  uVar40 = FUN_004bd510(1,uVar1,0x43,param_1 + 0x94);
  uVar41 = FUN_004bd510(1,uVar1,0x28,param_1 + 0x98);
  uVar42 = FUN_004bd510(1,uVar1,0x29,param_1 + 0x9c);
  uVar43 = FUN_004bd510(1,uVar2,0x1f,param_1 + 0xa0);
  uVar44 = FUN_004bd510(1,uVar2,0x20,param_1 + 0xa4);
  uVar45 = FUN_004bbaf0(uVar2,param_1);
  return uVar3 | uVar4 | uVar5 | uVar6 | uVar7 | uVar8 | uVar9 | uVar10 | uVar11 | uVar12 | uVar13 |
         uVar14 | uVar15 | uVar16 | uVar17 | uVar18 | uVar19 | uVar20 | uVar21 | uVar22 | uVar23 |
         uVar24 | uVar25 | uVar26 | uVar27 | uVar28 | uVar29 | uVar30 | uVar31 | uVar32 | uVar33 |
         uVar34 | uVar35 | uVar36 | uVar37 | uVar38 | uVar39 | uVar40 | uVar41 | uVar42 | uVar43 |
         uVar44 | uVar45;
}



void FUN_004bb8b0(undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    FreeMemory(param_1[1]);
    FreeMemory(param_1[2]);
    FreeMemory(param_1[3]);
    FreeMemory(param_1[4]);
    FreeMemory(param_1[5]);
    FreeMemory(param_1[6]);
    FreeMemory(*param_1);
    FreeMemory(param_1[8]);
    FreeMemory(param_1[9]);
    FreeMemory(param_1[10]);
    FreeMemory(param_1[0xb]);
    FreeMemory(param_1[0xc]);
    FreeMemory(param_1[0xd]);
    FreeMemory(param_1[7]);
    FreeMemory(param_1[0xe]);
    FreeMemory(param_1[0xf]);
    FreeMemory(param_1[0x10]);
    FreeMemory(param_1[0x11]);
    FreeMemory(param_1[0x12]);
    FreeMemory(param_1[0x13]);
    FreeMemory(param_1[0x14]);
    FreeMemory(param_1[0x15]);
    FreeMemory(param_1[0x16]);
    FreeMemory(param_1[0x17]);
    FreeMemory(param_1[0x18]);
    FreeMemory(param_1[0x19]);
    FreeMemory(param_1[0x1a]);
    FreeMemory(param_1[0x1b]);
    FreeMemory(param_1[0x1c]);
    FreeMemory(param_1[0x1d]);
    FreeMemory(param_1[0x1e]);
    FreeMemory(param_1[0x1f]);
    FreeMemory(param_1[0x20]);
    FreeMemory(param_1[0x21]);
    FreeMemory(param_1[0x22]);
    FreeMemory(param_1[0x23]);
    FreeMemory(param_1[0x24]);
    FreeMemory(param_1[0x25]);
    FreeMemory(param_1[0x26]);
    FreeMemory(param_1[0x27]);
    FreeMemory(param_1[0x28]);
    FreeMemory(param_1[0x29]);
    FreeMemory(param_1[0x2a]);
  }
  return;
}



uint FUN_004bbaf0(char *param_1,int param_2)

{
  char *pcVar1;
  char cVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  undefined *puVar6;
  char *pcVar7;
  char *pcVar8;
  int local_8;
  int local_4;
  
  pcVar7 = param_1;
  local_4 = 0;
  local_8 = 0;
  uVar3 = FUN_004bd510(0,param_1,0x23,&local_4);
  uVar4 = FUN_004bd510(0,pcVar7,0x25,&local_8);
  uVar5 = FUN_004bd510(1,pcVar7,0x1e,&param_1);
  uVar5 = uVar3 | uVar4 | uVar5;
  if (uVar5 != 0) {
    return uVar5;
  }
  puVar6 = (undefined *)AllocateMemoryWithCallback(0xd);
  *(undefined **)(param_2 + 0xa8) = puVar6;
  if (local_4 == 0) {
    *puVar6 = 0x68;
    pcVar7 = puVar6 + 1;
    if (local_8 == 0) goto LAB_004bbb8c;
    *pcVar7 = 'h';
  }
  else {
    *puVar6 = 0x48;
    pcVar7 = puVar6 + 1;
    if (local_8 == 0) goto LAB_004bbb8c;
    *pcVar7 = 'H';
  }
  pcVar7 = puVar6 + 2;
LAB_004bbb8c:
  cVar2 = *param_1;
  pcVar8 = param_1;
  while (cVar2 != '\0') {
    *pcVar7 = cVar2;
    pcVar1 = pcVar8 + 1;
    pcVar7 = pcVar7 + 1;
    pcVar8 = pcVar8 + 1;
    cVar2 = *pcVar1;
  }
  *pcVar7 = 'm';
  pcVar8 = pcVar7 + 1;
  if (local_8 != 0) {
    *pcVar8 = 'm';
    pcVar8 = pcVar7 + 2;
  }
  cVar2 = *param_1;
  pcVar7 = param_1;
  while (cVar2 != '\0') {
    *pcVar8 = cVar2;
    pcVar1 = pcVar7 + 1;
    pcVar8 = pcVar8 + 1;
    pcVar7 = pcVar7 + 1;
    cVar2 = *pcVar1;
  }
  *pcVar8 = 's';
  pcVar8[1] = 's';
  pcVar8[2] = '\0';
  FreeMemory(param_1);
  return 0;
}



void FUN_004bbdf0(char *param_1)

{
  char *pcVar1;
  char cVar2;
  char *pcVar3;
  
  cVar2 = *param_1;
  do {
    if (cVar2 == '\0') {
      return;
    }
    if ((cVar2 < '0') || ('9' < cVar2)) {
      pcVar3 = param_1;
      if (cVar2 != ';') goto LAB_004bbe06;
      do {
        *pcVar3 = pcVar3[1];
        pcVar1 = pcVar3 + 1;
        pcVar3 = pcVar3 + 1;
      } while (*pcVar1 != '\0');
    }
    else {
      *param_1 = cVar2 + -0x30;
LAB_004bbe06:
      param_1 = param_1 + 1;
    }
    cVar2 = *param_1;
  } while( true );
}



uint FUN_004bbf20(int param_1)

{
  undefined2 uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  
  uVar1 = DAT_005a16fc;
  if (param_1 == 0) {
    return 0xffffffff;
  }
  uVar2 = FUN_004bd510(1,DAT_005a16fc,0x15,param_1 + 0xc);
  uVar3 = FUN_004bd510(1,uVar1,0x14,param_1 + 0x10);
  uVar4 = FUN_004bd510(1,uVar1,0x16,param_1 + 0x14);
  uVar5 = FUN_004bd510(1,uVar1,0x17,param_1 + 0x18);
  uVar6 = FUN_004bd510(1,uVar1,0x18,(undefined4 *)(param_1 + 0x1c));
  FUN_004bbdf0(*(undefined4 *)(param_1 + 0x1c));
  uVar7 = FUN_004bd510(1,uVar1,0x50,param_1 + 0x20);
  uVar8 = FUN_004bd510(1,uVar1,0x51,param_1 + 0x24);
  uVar9 = FUN_004bd510(0,uVar1,0x1a,param_1 + 0x28);
  uVar10 = FUN_004bd510(0,uVar1,0x19,param_1 + 0x29);
  uVar11 = FUN_004bd510(0,uVar1,0x54,param_1 + 0x2a);
  uVar12 = FUN_004bd510(0,uVar1,0x55,param_1 + 0x2b);
  uVar13 = FUN_004bd510(0,uVar1,0x56,param_1 + 0x2c);
  uVar14 = FUN_004bd510(0,uVar1,0x57,param_1 + 0x2d);
  uVar15 = FUN_004bd510(0,uVar1,0x52,param_1 + 0x2e);
  uVar16 = FUN_004bd510(0,uVar1,0x53,param_1 + 0x2f);
  return uVar2 | uVar3 | uVar4 | uVar5 | uVar6 | uVar7 | uVar8 | uVar9 | uVar10 | uVar11 | uVar12 |
         uVar13 | uVar14 | uVar15 | uVar16;
}



void FUN_004bc070(int param_1)

{
  if ((param_1 != 0) && (*(undefined **)(param_1 + 0xc) != &DAT_005a1770)) {
    FreeMemory(*(undefined **)(param_1 + 0xc));
    FreeMemory(*(undefined4 *)(param_1 + 0x10));
    FreeMemory(*(undefined4 *)(param_1 + 0x14));
    FreeMemory(*(undefined4 *)(param_1 + 0x18));
    FreeMemory(*(undefined4 *)(param_1 + 0x1c));
    FreeMemory(*(undefined4 *)(param_1 + 0x20));
    FreeMemory(*(undefined4 *)(param_1 + 0x24));
  }
  return;
}



// Library Function - Single Match
//  _strcspn
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

size_t __cdecl _strcspn(char *_Str,char *_Control)

{
  byte bVar1;
  byte *pbVar2;
  size_t sVar3;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0;
  uStack_10 = 0;
  uStack_14 = 0;
  uStack_18 = 0;
  uStack_1c = 0;
  uStack_20 = 0;
  uStack_24 = 0;
  uStack_28 = 0;
  while( true ) {
    bVar1 = *_Control;
    if (bVar1 == 0) break;
    _Control = (char *)((byte *)_Control + 1);
    pbVar2 = (byte *)((int)&uStack_28 + ((int)(uint)bVar1 >> 3));
    *pbVar2 = *pbVar2 | '\x01' << (bVar1 & 7);
  }
  sVar3 = 0xffffffff;
  do {
    sVar3 = sVar3 + 1;
    bVar1 = *_Str;
    if (bVar1 == 0) {
      return sVar3;
    }
    _Str = (char *)((byte *)_Str + 1);
  } while ((*(byte *)((int)&uStack_28 + ((int)(uint)bVar1 >> 3)) >> (bVar1 & 7) & 1) == 0);
  return sVar3;
}



// Library Function - Single Match
//  _strncmp
// 
// Libraries: Visual Studio 1998 Debug, Visual Studio 1998 Release

int __cdecl _strncmp(char *_Str1,char *_Str2,size_t _MaxCount)

{
  char cVar1;
  char cVar2;
  byte bVar3;
  size_t sVar4;
  int iVar5;
  uint uVar6;
  char *pcVar7;
  char *pcVar8;
  bool bVar9;
  
  sVar4 = _MaxCount;
  pcVar7 = _Str1;
  if (_MaxCount != 0) {
    do {
      if (sVar4 == 0) break;
      sVar4 = sVar4 - 1;
      cVar1 = *pcVar7;
      pcVar7 = pcVar7 + 1;
    } while (cVar1 != '\0');
    iVar5 = _MaxCount - sVar4;
    do {
      pcVar7 = _Str2;
      pcVar8 = _Str1;
      if (iVar5 == 0) break;
      iVar5 = iVar5 + -1;
      pcVar8 = _Str1 + 1;
      pcVar7 = _Str2 + 1;
      cVar1 = *_Str2;
      cVar2 = *_Str1;
      _Str2 = pcVar7;
      _Str1 = pcVar8;
    } while (cVar1 == cVar2);
    bVar3 = pcVar7[-1];
    uVar6 = 0;
    bVar9 = bVar3 == pcVar8[-1];
    if (bVar3 < (byte)pcVar8[-1] || bVar9) {
      if (bVar9) {
        return 0;
      }
      uVar6 = 0xfffffffe;
    }
    _MaxCount = ~uVar6;
  }
  return _MaxCount;
}



void FUN_004bc420(undefined4 param_1)

{
  FUN_004bc430(param_1,1);
  return;
}



int FUN_004bc430(int *param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  bool bVar7;
  
  piVar6 = param_1;
  uVar3 = param_1[5];
  if ((int)uVar3 < 0x45) {
    return -1;
  }
  if (0x8b < (int)uVar3) {
    return -1;
  }
  iVar4 = param_1[4];
  if ((iVar4 < 0) || (0xb < iVar4)) {
    uVar3 = uVar3 + iVar4 / 0xc;
    iVar4 = iVar4 % 0xc;
    param_1[4] = iVar4;
    if (iVar4 < 0) {
      uVar3 = uVar3 - 1;
      param_1[4] = iVar4 + 0xc;
    }
    if ((int)uVar3 < 0x45) {
      return -1;
    }
    if (0x8b < (int)uVar3) {
      return -1;
    }
  }
  iVar4 = (&DAT_004d6788)[param_1[4]];
  if (((uVar3 & 3) == 0) && (1 < param_1[4])) {
    iVar4 = iVar4 + 1;
  }
  iVar1 = param_1[3];
  iVar5 = uVar3 * 0x16d + -0x63df + iVar4 + ((int)(uVar3 - 1) >> 2);
  iVar4 = iVar5 + iVar1;
  if (iVar5 < 0) {
LAB_004bc4e0:
    if ((iVar1 < 0) && (-1 < iVar4)) {
      return -1;
    }
  }
  else {
    if ((-1 < iVar1) && (iVar4 < 0)) {
      return -1;
    }
    if (iVar5 < 0) goto LAB_004bc4e0;
  }
  iVar5 = iVar4 * 0x18;
  if (iVar4 == 0) {
    bVar7 = false;
  }
  else {
    bVar7 = iVar5 / iVar4 != 0x18;
  }
  if (bVar7) {
    return -1;
  }
  iVar1 = param_1[2];
  iVar4 = iVar1 + iVar5;
  if (iVar5 < 0) {
LAB_004bc52b:
    if ((iVar1 < 0) && (-1 < iVar4)) {
      return -1;
    }
  }
  else {
    if ((-1 < iVar1) && (iVar4 < 0)) {
      return -1;
    }
    if (iVar5 < 0) goto LAB_004bc52b;
  }
  iVar5 = iVar4 * 0x3c;
  if (iVar4 == 0) {
    bVar7 = false;
  }
  else {
    bVar7 = iVar5 / iVar4 != 0x3c;
  }
  if (bVar7) {
    return -1;
  }
  iVar1 = param_1[1];
  iVar4 = iVar1 + iVar5;
  if (iVar5 < 0) {
LAB_004bc57a:
    if ((iVar1 < 0) && (-1 < iVar4)) {
      return -1;
    }
  }
  else {
    if ((-1 < iVar1) && (iVar4 < 0)) {
      return -1;
    }
    if (iVar5 < 0) goto LAB_004bc57a;
  }
  iVar5 = iVar4 * 0x3c;
  if (iVar4 == 0) {
    bVar7 = false;
  }
  else {
    bVar7 = iVar5 / iVar4 != 0x3c;
  }
  if (bVar7) {
    return -1;
  }
  iVar4 = *param_1;
  param_1 = (int *)(iVar4 + iVar5);
  if (-1 < iVar5) {
    if ((-1 < iVar4) && ((int)param_1 < 0)) {
      return -1;
    }
    if (-1 < iVar5) goto LAB_004bc5d8;
  }
  if ((iVar4 < 0) && (-1 < (int)param_1)) {
    return -1;
  }
LAB_004bc5d8:
  if (param_2 == 0) {
    piVar2 = (int *)FUN_004bc8b0(&param_1);
    if (piVar2 == (int *)0x0) {
      return -1;
    }
  }
  else {
    FUN_004affb0();
    param_1 = (int *)((int)param_1 + DAT_004d66b8);
    piVar2 = (int *)FUN_004b8200(&param_1);
    if (piVar2 == (int *)0x0) {
      return -1;
    }
    if ((0 < piVar6[8]) || ((piVar6[8] < 0 && (0 < piVar2[8])))) {
      param_1 = (int *)((int)param_1 + DAT_004d66c0);
      piVar2 = (int *)FUN_004b8200(&param_1);
      for (iVar4 = 9; iVar4 != 0; iVar4 = iVar4 + -1) {
        *piVar6 = *piVar2;
        piVar2 = piVar2 + 1;
        piVar6 = piVar6 + 1;
      }
      return (int)param_1;
    }
  }
  for (iVar4 = 9; iVar4 != 0; iVar4 = iVar4 + -1) {
    *piVar6 = *piVar2;
    piVar2 = piVar2 + 1;
    piVar6 = piVar6 + 1;
  }
  return (int)param_1;
}



undefined4 FUN_004bc670(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  bool bVar2;
  
  InterlockedIncrement((LONG *)&DAT_005f8d8c);
  bVar2 = DAT_005f8d88 != 0;
  if (bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    EnterOrInitCriticalSection(0x13);
  }
  uVar1 = FUN_004bc6f0(param_1,param_2,param_3);
  if (!bVar2) {
    InterlockedDecrement((LONG *)&DAT_005f8d8c);
    return uVar1;
  }
  LeaveCriticalSectionFunc(0x13);
  return uVar1;
}



uint FUN_004bc6f0(LPWSTR param_1,byte *param_2,uint param_3)

{
  byte bVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if ((param_2 != (byte *)0x0) && (param_3 != 0)) {
    bVar1 = *param_2;
    if (bVar1 != 0) {
      if (DAT_005a1338 == 0) {
        if (param_1 == (LPWSTR)0x0) {
          return 1;
        }
        *param_1 = (ushort)bVar1;
        return 1;
      }
      if ((PTR_DAT_004d3d40[(uint)bVar1 * 2 + 1] & 0x80) == 0) {
        iVar2 = MultiByteToWideChar(DAT_005a1348,9,(LPCSTR)param_2,1,param_1,
                                    (uint)(param_1 != (LPWSTR)0x0));
        if (iVar2 != 0) {
          return 1;
        }
      }
      else {
        if (((1 < (int)DAT_004d3f4c) && ((int)DAT_004d3f4c <= (int)param_3)) &&
           (iVar2 = MultiByteToWideChar(DAT_005a1348,9,(LPCSTR)param_2,DAT_004d3f4c,param_1,
                                        (uint)(param_1 != (LPWSTR)0x0)), iVar2 != 0)) {
          return DAT_004d3f4c;
        }
        if (DAT_004d3f4c <= param_3) {
          if (param_2[1] != 0) {
            return DAT_004d3f4c;
          }
          puVar3 = (undefined4 *)GetSpecificTlsOffset();
          *puVar3 = 0x2a;
          return 0xffffffff;
        }
      }
      puVar3 = (undefined4 *)GetSpecificTlsOffset();
      *puVar3 = 0x2a;
      return 0xffffffff;
    }
    if (param_1 != (LPWSTR)0x0) {
      *param_1 = L'\0';
      return 0;
    }
  }
  return 0;
}



uint FUN_004bc7f0(int param_1)

{
  uint uVar1;
  
  if (1 < DAT_004d3f4c) {
    uVar1 = GetCharacterType(param_1,8);
    return uVar1;
  }
  return (byte)PTR_DAT_004d3d40[param_1 * 2] & 8;
}



uint FUN_004bc820(uint param_1,char **param_2)

{
  char *pcVar1;
  char *pcVar2;
  
  if ((param_1 != 0xffffffff) &&
     ((pcVar1 = param_2[3], ((uint)pcVar1 & 1) != 0 ||
      ((((uint)pcVar1 & 0x80) != 0 && (((uint)pcVar1 & 2) == 0)))))) {
    if (param_2[2] == (char *)0x0) {
      FUN_004bb270(param_2);
    }
    if (*param_2 == param_2[2]) {
      if (param_2[1] != (char *)0x0) {
        return 0xffffffff;
      }
      *param_2 = *param_2 + 1;
    }
    if ((*(byte *)(param_2 + 3) & 0x40) == 0) {
      pcVar1 = *param_2;
      *param_2 = pcVar1 + -1;
      pcVar1[-1] = (char)param_1;
    }
    else {
      pcVar1 = *param_2;
      pcVar2 = pcVar1 + -1;
      *param_2 = pcVar2;
      if (*pcVar2 != (char)param_1) {
        *param_2 = pcVar1;
        return 0xffffffff;
      }
    }
    param_2[1] = param_2[1] + 1;
    param_2[3] = (char *)((uint)param_2[3] & 0xffffffef | 1);
    return param_1 & 0xff;
  }
  return 0xffffffff;
}



int * FUN_004bc8b0(int *param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int *piVar5;
  undefined4 *puVar6;
  int iVar7;
  int iVar8;
  
  bVar1 = false;
  iVar8 = *param_1;
  iVar2 = GetOrAllocateTlsData();
  if (iVar8 < 0) {
    return (int *)0x0;
  }
  if (*(int *)(iVar2 + 0x40) == 0) {
    iVar3 = AllocateMemoryWithCallback(0x24);
    *(int *)(iVar2 + 0x40) = iVar3;
    piVar4 = (int *)&DAT_005a1730;
    if (iVar3 == 0) goto LAB_004bc8ef;
  }
  piVar4 = *(int **)(iVar2 + 0x40);
LAB_004bc8ef:
  iVar7 = iVar8 % 0x7861f80;
  iVar8 = (iVar8 / 0x7861f80) * 4;
  iVar2 = iVar8 + 0x46;
  iVar3 = iVar7;
  if (0x1e1337f < iVar7) {
    iVar3 = iVar7 + -0x1e13380;
    iVar2 = iVar8 + 0x47;
    if (0x1e1337f < iVar3) {
      iVar3 = iVar7 + -0x3c26700;
      iVar2 = iVar8 + 0x48;
      if (iVar3 < 0x1e28500) {
        bVar1 = true;
      }
      else {
        iVar2 = iVar8 + 0x49;
        iVar3 = iVar7 + -0x5a4ec00;
      }
    }
  }
  piVar4[5] = iVar2;
  piVar4[7] = iVar3 / 0x15180;
  puVar6 = (undefined4 *)&DAT_004d6750;
  if (!bVar1) {
    puVar6 = &DAT_004d6788;
  }
  piVar5 = puVar6 + 1;
  iVar2 = 1;
  iVar8 = *piVar5;
  while (iVar8 < piVar4[7]) {
    piVar5 = piVar5 + 1;
    iVar2 = iVar2 + 1;
    iVar8 = *piVar5;
  }
  piVar4[4] = iVar2 + -1;
  piVar4[3] = piVar4[7] - puVar6[iVar2 + -1];
  iVar8 = *param_1;
  piVar4[8] = 0;
  piVar4[6] = (iVar8 / 0x15180 + 4) % 7;
  piVar4[2] = (iVar3 % 0x15180) / 0xe10;
  iVar8 = (iVar3 % 0x15180) % 0xe10;
  piVar4[1] = iVar8 / 0x3c;
  *piVar4 = iVar8 % 0x3c;
  return piVar4;
}



int FUN_004bca20(short *param_1)

{
  short sVar1;
  short *psVar2;
  
  sVar1 = *param_1;
  psVar2 = param_1 + 1;
  while (sVar1 != 0) {
    sVar1 = *psVar2;
    psVar2 = psVar2 + 1;
  }
  return ((int)psVar2 - (int)param_1 >> 1) + -1;
}



int FUN_004bca40(undefined4 param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  
  if (param_3 == 0) {
    return param_3;
  }
  iVar1 = FUN_004bd7d0(DAT_005a16ac,1,param_1,param_3,param_2,param_3,DAT_005a16a8);
  if (iVar1 == 0) {
    return 0x7fffffff;
  }
  return iVar1 + -2;
}



LPCWSTR FUN_004bca80(void)

{
  LPCWSTR lpWideCharStr;
  int iVar1;
  LPSTR lpMultiByteStr;
  LPCWSTR *ppWVar2;
  
  lpWideCharStr = *DAT_005a1274;
  ppWVar2 = DAT_005a1274;
  if (lpWideCharStr == (LPCWSTR)0x0) {
    return (LPCWSTR)0x0;
  }
  while (((iVar1 = WideCharToMultiByte(1,0,lpWideCharStr,-1,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0),
          iVar1 != 0 &&
          (lpMultiByteStr = (LPSTR)AllocateMemoryWithCallback(iVar1), lpMultiByteStr != (LPSTR)0x0))
         && (iVar1 = WideCharToMultiByte(1,0,*ppWVar2,-1,lpMultiByteStr,iVar1,(LPCSTR)0x0,
                                         (LPBOOL)0x0), iVar1 != 0))) {
    FUN_004bdad0(lpMultiByteStr,0);
    lpWideCharStr = ppWVar2[1];
    ppWVar2 = ppWVar2 + 1;
    if (lpWideCharStr == (LPCWSTR)0x0) {
      return lpWideCharStr;
    }
  }
  return (LPCWSTR)0xffffffff;
}



// showing a message box???

int ShowMessageBoxFunc(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  HMODULE hModule;
  int hWnd;
  
  hWnd = 0;
  if (gMessageBoxAFunc != (FARPROC)0x0) {
LAB_004bcb50:
    if (gGetActiveWindowFunc != (FARPROC)0x0) {
      hWnd = (*gGetActiveWindowFunc)();
    }
    if ((hWnd != 0) && (gGetLastActivePopupFunc != (FARPROC)0x0)) {
      hWnd = (*gGetLastActivePopupFunc)(hWnd);
    }
    hWnd = (*gMessageBoxAFunc)(hWnd,param_1,param_2,param_3);
    return hWnd;
  }
  hModule = LoadLibraryA("user32.dll");
  if (hModule != (HMODULE)0x0) {
    gMessageBoxAFunc = GetProcAddress(hModule,"MessageBoxA");
    if (gMessageBoxAFunc != (FARPROC)0x0) {
      gGetActiveWindowFunc = GetProcAddress(hModule,"GetActiveWindow");
      gGetLastActivePopupFunc = GetProcAddress(hModule,"GetLastActivePopup");
      goto LAB_004bcb50;
    }
  }
  return 0;
}



// // Function: AddWithOverflowCheck
// // Description: This function adds two unsigned 32-bit integers and checks for overflow. If an
// overflow occurs, it returns 1; otherwise, it returns 0. The result of the addition is stored in
// the memory location pointed to by `param_3`.
// // Old Name: FUN_004bcb90
// //
// // Arguments:
// //   param_1 (uint): The first unsigned 32-bit integer to add.
// //   param_2 (uint): The second unsigned 32-bit integer to add.
// //   param_3 (uint*): A pointer to store the result of the addition.
// 

undefined4 AddWithOverflowCheck(uint param_1,uint param_2,uint *param_3)

{
  uint uVar1;
  undefined4 uVar2;
  
  uVar2 = 0;
  uVar1 = param_2 + param_1;
  if ((uVar1 < param_1) || (uVar1 < param_2)) {
    uVar2 = 1;
  }
  *param_3 = uVar1;
  return uVar2;
}



// // Function: Add96BitWithOverflow
// // Description: This function performs a 96-bit addition of two multi-word integers represented
// by three 32-bit values each. It handles overflow across the individual 32-bit words and updates
// the result in-place in `param_1`.
// // Old Name: FUN_004bcbc0
// //
// // Arguments:
// //   param_1 (undefined4*): A pointer to the first 96-bit integer (as three 32-bit words) and
// where the result will be stored.
// //   param_2 (undefined4*): A pointer to the second 96-bit integer (as three 32-bit words).
// 

void Add96BitWithOverflow(undefined4 *param_1,undefined4 *param_2)

{
  int iVar1;
  
  iVar1 = AddWithOverflowCheck(*param_1,*param_2,param_1);
  if (iVar1 != 0) {
    iVar1 = AddWithOverflowCheck(param_1[1],1,param_1 + 1);
    if (iVar1 != 0) {
      param_1[2] = param_1[2] + 1;
    }
  }
  iVar1 = AddWithOverflowCheck(param_1[1],param_2[1],param_1 + 1);
  if (iVar1 != 0) {
    param_1[2] = param_1[2] + 1;
  }
  AddWithOverflowCheck(param_1[2],param_2[2],param_1 + 2);
  return;
}



// // Function: ShiftLeft96Bit
// // Description: This function performs a left shift on a 96-bit integer represented by three
// 32-bit values in an array. It shifts the values left by 1 bit, propagating the carry bit from
// each element to the next.
// // Old Name: FUN_004bcc30
// //
// // Arguments:
// //   param_1 (uint*): A pointer to an array of three 32-bit unsigned integers. These integers
// represent a 96-bit value that will be left-shifted by one bit.
// 

void ShiftLeft96Bit(uint *param_1)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *param_1;
  uVar2 = param_1[1];
  *param_1 = uVar1 * 2;
  param_1[1] = uVar2 * 2 | uVar1 >> 0x1f;
  param_1[2] = param_1[2] << 1 | uVar2 >> 0x1f;
  return;
}



void FUN_004bcc60(uint *param_1)

{
  uint uVar1;
  
  uVar1 = param_1[1];
  param_1[1] = uVar1 >> 1 | param_1[2] << 0x1f;
  param_1[2] = param_1[2] >> 1;
  *param_1 = *param_1 >> 1 | uVar1 << 0x1f;
  return;
}



// // Function: ProcessModelData
// // Description: This function processes model data, performing arithmetic operations (such as
// left shifts and additions) on 96-bit integers. It normalizes the result to maintain precision and
// stores the final result and scaling factor.
// // Old Name: FUN_004bcc90
// //
// // Arguments:
// //   param_1 (char*): A pointer to the input data (likely model-related, such as vertex data or
// index data).
// //   param_2 (int): The number of bytes in the input data.
// //   param_3 (uint*): A pointer to a 96-bit integer (represented as three 32-bit values) where
// the result will be stored.
// 

void ProcessModelData(char *param_1,int param_2,uint *param_3)

{
  uint uVar1;
  uint *puVar2;
  short sVar3;
  uint local_c;
  uint local_8;
  uint local_4;
  
  puVar2 = param_3;
  sVar3 = 0x404e;
  *param_3 = 0;
  param_3[1] = 0;
  param_3[2] = 0;
  if (param_2 != 0) {
    param_3 = (uint *)param_2;
    do {
      local_c = *puVar2;
      local_8 = puVar2[1];
      local_4 = puVar2[2];
      ShiftLeft96Bit(puVar2);
      ShiftLeft96Bit(puVar2);
      Add96BitWithOverflow(puVar2,&local_c);
      ShiftLeft96Bit(puVar2);
      local_c = (uint)*param_1;
      local_8 = 0;
      local_4 = 0;
      Add96BitWithOverflow(puVar2,&local_c);
      param_1 = param_1 + 1;
      param_3 = (uint *)((int)param_3 + -1);
    } while (param_3 != (uint *)0x0);
  }
  uVar1 = puVar2[2];
  while (uVar1 == 0) {
    sVar3 = sVar3 + -0x10;
    puVar2[2] = puVar2[1] >> 0x10;
    uVar1 = puVar2[2];
    puVar2[1] = *puVar2 >> 0x10 | puVar2[1] << 0x10;
    *puVar2 = *puVar2 << 0x10;
  }
  uVar1 = puVar2[2];
  while ((uVar1 & 0x8000) == 0) {
    ShiftLeft96Bit(puVar2);
    sVar3 = sVar3 + -1;
    uVar1 = puVar2[2];
  }
  *(short *)((int)puVar2 + 10) = sVar3;
  return;
}



undefined4
FUN_004bcd90(int param_1,uint param_2,uint param_3,int param_4,byte param_5,short *param_6)

{
  short *psVar1;
  ushort uVar2;
  char cVar3;
  uint uVar4;
  int iVar5;
  short *psVar6;
  short *psVar7;
  int iVar8;
  short sVar9;
  int iVar10;
  undefined local_1c;
  undefined local_1b;
  undefined local_1a;
  undefined local_19;
  undefined local_18;
  undefined local_17;
  undefined local_16;
  undefined local_15;
  undefined local_14;
  undefined local_13;
  undefined local_12;
  undefined local_11;
  undefined2 local_10;
  undefined2 uStack_e;
  undefined2 uStack_c;
  undefined2 uStack_a;
  undefined2 uStack_8;
  undefined local_6;
  char cStack_5;
  
  psVar1 = param_6;
  local_1c = 0xcc;
  local_1b = 0xcc;
  local_1a = 0xcc;
  local_19 = 0xcc;
  local_18 = 0xcc;
  local_17 = 0xcc;
  local_16 = 0xcc;
  local_15 = 0xcc;
  local_14 = 0xcc;
  local_13 = 0xcc;
  uVar4 = param_3 & 0x7fff;
  local_12 = 0xfb;
  local_11 = 0x3f;
  if ((param_3 & 0x8000) == 0) {
    *(undefined *)(param_6 + 1) = 0x20;
  }
  else {
    *(undefined *)(param_6 + 1) = 0x2d;
  }
  if ((((short)uVar4 == 0) && (param_2 == 0)) && (param_1 == 0)) {
    *param_6 = 0;
LAB_004bcf9f:
    *(undefined *)(psVar1 + 1) = 0x20;
    *(undefined *)((int)psVar1 + 3) = 1;
    *(undefined *)(psVar1 + 2) = 0x30;
    *(undefined *)((int)psVar1 + 5) = 0;
    return 1;
  }
  if ((short)uVar4 == 0x7fff) {
    *param_6 = 1;
    if (((param_2 != 0x80000000) || (param_1 != 0)) && ((param_2 & 0x40000000) == 0)) {
      *(undefined4 *)(param_6 + 2) = 0x4e532331;
      param_6[4] = 0x4e41;
      *(undefined *)((int)param_6 + 3) = 6;
      *(undefined *)(param_6 + 5) = 0;
      return 0;
    }
    if ((((param_3 & 0x8000) != 0) && (param_2 == 0xc0000000)) && (param_1 == 0)) {
      *(undefined4 *)(param_6 + 2) = 0x4e492331;
      *(undefined *)((int)param_6 + 3) = 5;
      param_6[4] = 0x44;
      return 0;
    }
    if ((param_2 == 0x80000000) && (param_1 == 0)) {
      *(undefined4 *)(param_6 + 2) = 0x4e492331;
      *(undefined *)((int)param_6 + 3) = 5;
      param_6[4] = 0x46;
      return 0;
    }
    *(undefined4 *)(param_6 + 2) = 0x4e512331;
    param_6[4] = 0x4e41;
    *(undefined *)((int)param_6 + 3) = 6;
    *(undefined *)(param_6 + 5) = 0;
    return 0;
  }
  local_6 = (undefined)uVar4;
  cStack_5 = (char)(uVar4 >> 8);
  uStack_a = (undefined2)param_2;
  uStack_8 = (undefined2)(param_2 >> 0x10);
  uStack_e = (undefined2)param_1;
  uStack_c = (undefined2)((uint)param_1 >> 0x10);
  local_10 = 0;
  sVar9 = (short)(((uVar4 >> 8) + (param_2 >> 0x18) * 2) * 0x4d + -0x134312f4 + uVar4 * 0x4d10 >>
                 0x10);
  FUN_004bd480(&local_10,-(int)sVar9,1);
  if (0x3ffe < CONCAT11(cStack_5,local_6)) {
    sVar9 = sVar9 + 1;
    FUN_004bd1c0(&local_10,&local_1c);
  }
  *psVar1 = sVar9;
  iVar8 = param_4;
  if (((param_5 & 1) != 0) && (iVar8 = param_4 + sVar9, param_4 + sVar9 < 1)) {
    *psVar1 = 0;
    goto LAB_004bcf9f;
  }
  if (0x15 < iVar8) {
    iVar8 = 0x15;
  }
  uVar2 = CONCAT11(cStack_5,local_6);
  local_6 = 0;
  cStack_5 = '\0';
  iVar5 = 8;
  iVar10 = uVar2 - 0x3ffe;
  do {
    ShiftLeft96Bit(&local_10);
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  if (iVar10 < 0) {
    for (uVar4 = -iVar10 & 0xff; uVar4 != 0; uVar4 = uVar4 - 1) {
      FUN_004bcc60(&local_10);
    }
  }
  psVar1 = psVar1 + 2;
  iVar8 = iVar8 + 1;
  psVar6 = psVar1;
  if (0 < iVar8) {
    do {
      param_1 = CONCAT22(uStack_e,local_10);
      param_2 = CONCAT22(uStack_a,uStack_c);
      param_3 = CONCAT13(cStack_5,CONCAT12(local_6,uStack_8));
      ShiftLeft96Bit(&local_10);
      ShiftLeft96Bit(&local_10);
      Add96BitWithOverflow(&local_10,&param_1);
      ShiftLeft96Bit(&local_10);
      cVar3 = cStack_5 + '0';
      cStack_5 = '\0';
      *(char *)psVar6 = cVar3;
      psVar6 = (short *)((int)psVar6 + 1);
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
  }
  psVar7 = psVar6 + -1;
  if (*(char *)((int)psVar6 + -1) < '5') {
    if (psVar1 <= psVar7) {
      do {
        if (*(char *)psVar7 != '0') break;
        psVar7 = (short *)((int)psVar7 + -1);
      } while (psVar1 <= psVar7);
      if (psVar1 <= psVar7) goto LAB_004bd0f6;
    }
    *(undefined *)psVar1 = 0x30;
    *param_6 = 0;
    *(undefined *)(param_6 + 1) = 0x20;
    *(undefined *)((int)param_6 + 3) = 1;
    *(undefined *)((int)param_6 + 5) = 0;
    return 1;
  }
  if (psVar1 <= psVar7) {
    do {
      if (*(char *)psVar7 != '9') break;
      *(undefined *)psVar7 = 0x30;
      psVar7 = (short *)((int)psVar7 + -1);
    } while (psVar1 <= psVar7);
    if (psVar1 <= psVar7) {
      *(char *)psVar7 = *(char *)psVar7 + '\x01';
      goto LAB_004bd0f6;
    }
  }
  psVar7 = (short *)((int)psVar7 + 1);
  *param_6 = *param_6 + 1;
  *(char *)psVar7 = *(char *)psVar7 + '\x01';
LAB_004bd0f6:
  cVar3 = ((char)psVar7 - (char)param_6) + -3;
  *(char *)((int)param_6 + 3) = cVar3;
  *(undefined *)((int)param_6 + cVar3 + 4) = 0;
  return 1;
}



void FUN_004bd1c0(int *param_1,int *param_2)

{
  ushort uVar1;
  int iVar2;
  ushort uVar3;
  ushort uVar4;
  int iVar5;
  ushort uVar6;
  ushort *puVar7;
  int *piVar8;
  short *local_20;
  int local_18;
  int local_14;
  int local_10;
  byte local_c;
  undefined uStack_b;
  undefined2 uStack_a;
  short local_8;
  undefined2 uStack_6;
  undefined2 local_4;
  ushort uStack_2;
  
  local_14 = 0;
  local_c = 0;
  uStack_b = 0;
  uStack_a = 0;
  local_8 = 0;
  uStack_6 = 0;
  uVar3 = *(ushort *)((int)param_2 + 10) & 0x7fff;
  uVar1 = *(ushort *)((int)param_1 + 10) & 0x7fff;
  uVar6 = (*(ushort *)((int)param_2 + 10) ^ *(ushort *)((int)param_1 + 10)) & 0x8000;
  uVar4 = uVar3 + uVar1;
  local_4 = 0;
  uStack_2 = 0;
  if (((0x7ffe < uVar1) || (0x7ffe < uVar3)) || (0xbffd < uVar4)) {
    param_1[1] = 0;
    *param_1 = 0;
    param_1[2] = (-(uint)(uVar6 != 0) & 0x80000000) + 0x7fff8000;
    return;
  }
  if (uVar4 < 0x3fc0) {
    param_1[2] = 0;
    param_1[1] = 0;
    *param_1 = 0;
    return;
  }
  if (((uVar1 == 0) && (uVar4 = uVar4 + 1, (param_1[2] & 0x7fffffffU) == 0)) &&
     ((param_1[1] == 0 && (*param_1 == 0)))) {
    *(undefined2 *)((int)param_1 + 10) = 0;
    return;
  }
  if (((uVar3 == 0) && (uVar4 = uVar4 + 1, (param_2[2] & 0x7fffffffU) == 0)) &&
     ((param_2[1] == 0 && (*param_2 == 0)))) {
    param_1[2] = 0;
    param_1[1] = 0;
    *param_1 = 0;
    return;
  }
  local_20 = &local_8;
  local_18 = 0;
  iVar5 = 5;
  do {
    if (0 < iVar5) {
      piVar8 = param_2 + 2;
      puVar7 = (ushort *)(local_18 * 2 + (int)param_1);
      local_10 = iVar5;
      do {
        iVar2 = AddWithOverflowCheck
                          (*(undefined4 *)(local_20 + -2),(uint)*(ushort *)piVar8 * (uint)*puVar7,
                           local_20 + -2);
        if (iVar2 != 0) {
          *local_20 = *local_20 + 1;
        }
        puVar7 = puVar7 + 1;
        piVar8 = (int *)((int)piVar8 + -2);
        local_10 = local_10 + -1;
      } while (local_10 != 0);
    }
    local_20 = local_20 + 1;
    local_18 = local_18 + 1;
    iVar5 = iVar5 + -1;
  } while (0 < iVar5);
  uVar4 = uVar4 + 0xc002;
  while ((0 < (short)uVar4 && ((uStack_2 & 0x8000) == 0))) {
    ShiftLeft96Bit(&local_c);
    uVar4 = uVar4 - 1;
  }
  if ((short)uVar4 < 1) {
    uVar4 = uVar4 - 1;
    if ((short)uVar4 < 0) {
      iVar5 = -(int)(short)uVar4;
      uVar4 = uVar4 + (short)iVar5;
      do {
        if ((local_c & 1) != 0) {
          local_14 = local_14 + 1;
        }
        FUN_004bcc60(&local_c);
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
    }
    if (local_14 != 0) {
      local_c = local_c | 1;
    }
  }
  if ((0x8000 < CONCAT11(uStack_b,local_c)) ||
     (iVar2 = CONCAT22(local_4,uStack_6), iVar5 = CONCAT22(local_8,uStack_a),
     (CONCAT22(uStack_a,CONCAT11(uStack_b,local_c)) & 0x1ffff) == 0x18000)) {
    if (CONCAT22(local_8,uStack_a) == -1) {
      iVar5 = 0;
      if (CONCAT22(local_4,uStack_6) == -1) {
        if (uStack_2 == 0xffff) {
          uStack_2 = 0x8000;
          uVar4 = uVar4 + 1;
          iVar2 = 0;
          iVar5 = 0;
        }
        else {
          uStack_2 = uStack_2 + 1;
          iVar2 = 0;
          iVar5 = 0;
        }
      }
      else {
        iVar2 = CONCAT22(local_4,uStack_6) + 1;
      }
    }
    else {
      iVar5 = CONCAT22(local_8,uStack_a) + 1;
      iVar2 = CONCAT22(local_4,uStack_6);
    }
  }
  local_8 = (short)((uint)iVar5 >> 0x10);
  uStack_a = (undefined2)iVar5;
  local_4 = (undefined2)((uint)iVar2 >> 0x10);
  uStack_6 = (undefined2)iVar2;
  if (0x7ffe < uVar4) {
    param_1[1] = 0;
    *param_1 = 0;
    param_1[2] = (-(uint)(uVar6 != 0) & 0x80000000) + 0x7fff8000;
    return;
  }
  *(undefined2 *)param_1 = uStack_a;
  *(uint *)((int)param_1 + 2) = CONCAT22(uStack_6,local_8);
  *(uint *)((int)param_1 + 6) = CONCAT22(uStack_2,local_4);
  *(ushort *)((int)param_1 + 10) = uVar4 | uVar6;
  return;
}



void FUN_004bd480(undefined2 *param_1,uint param_2,int param_3)

{
  uint uVar1;
  undefined **ppuVar2;
  undefined **ppuVar3;
  undefined2 local_c;
  undefined4 uStack_a;
  undefined2 uStack_6;
  undefined *local_4;
  
  ppuVar3 = &PTR_s_November_004d7470;
  if (param_2 != 0) {
    if ((int)param_2 < 0) {
      param_2 = -param_2;
      ppuVar3 = (undefined **)0x4d75d0;
    }
    if (param_3 == 0) {
      *param_1 = 0;
    }
    while (param_2 != 0) {
      ppuVar3 = ppuVar3 + 0x15;
      uVar1 = param_2 & 7;
      param_2 = (int)param_2 >> 3;
      if (uVar1 != 0) {
        ppuVar2 = ppuVar3 + uVar1 * 3;
        if (0x7fff < *(ushort *)(ppuVar3 + uVar1 * 3)) {
          local_c = SUB42(*ppuVar2,0);
          uStack_a._0_2_ = (undefined2)((uint)*ppuVar2 >> 0x10);
          uStack_a._2_2_ = SUB42(ppuVar2[1],0);
          uStack_6 = (undefined2)((uint)ppuVar2[1] >> 0x10);
          local_4 = ppuVar2[2];
          uStack_a = CONCAT22(uStack_a._2_2_,(undefined2)uStack_a) + -1;
          ppuVar2 = (undefined **)&local_c;
        }
        FUN_004bd1c0(param_1,ppuVar2);
      }
    }
  }
  return;
}



undefined4 FUN_004bd510(int param_1,undefined4 param_2,undefined4 param_3,char **param_4)

{
  byte bVar1;
  bool bVar2;
  size_t _Count;
  DWORD DVar3;
  int iVar4;
  char *_Source;
  char *_Dest;
  uint uVar5;
  byte *pbVar6;
  char local_80 [128];
  
  if (param_1 != 1) {
    if (param_1 != 0) {
      return 0xffffffff;
    }
    iVar4 = FUN_004bddd0(param_2,param_3,&DAT_005a1768,4,0);
    if (iVar4 != 0) {
      pbVar6 = &DAT_005a1768;
      *(char *)param_4 = '\0';
      while( true ) {
        bVar1 = *pbVar6;
        if (DAT_004d3f4c < 2) {
          uVar5 = (byte)PTR_DAT_004d3d40[(uint)bVar1 * 2] & 4;
        }
        else {
          uVar5 = GetCharacterType(bVar1,4);
        }
        if (uVar5 == 0) break;
        pbVar6 = pbVar6 + 2;
        *(byte *)param_4 = *(char *)param_4 * '\n' + bVar1 + -0x30;
        if (0x5a176f < (int)pbVar6) {
          return 0;
        }
      }
      return 0;
    }
    return 0xffffffff;
  }
  _Source = local_80;
  bVar2 = false;
  _Count = FUN_004bdf00(param_2,param_3,local_80,0x80,0);
  if (_Count == 0) {
    DVar3 = GetLastError();
    if (((DVar3 != 0x7a) || (iVar4 = FUN_004bdf00(param_2,param_3,0,0,0), iVar4 == 0)) ||
       (_Source = (char *)AllocateMemoryWithCallback(iVar4), _Source == (char *)0x0))
    goto LAB_004bd5c0;
    bVar2 = true;
    _Count = FUN_004bdf00(param_2,param_3,_Source,iVar4,0);
    if (_Count == 0) goto LAB_004bd5c0;
  }
  _Dest = (char *)AllocateMemoryWithCallback(_Count);
  *param_4 = _Dest;
  if (_Dest != (char *)0x0) {
    _strncpy(_Dest,_Source,_Count);
    if (!bVar2) {
      return 0;
    }
    FreeMemory(_Source);
    return 0;
  }
LAB_004bd5c0:
  if (!bVar2) {
    return 0xffffffff;
  }
  FreeMemory(_Source);
  return 0xffffffff;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int FUN_004bd6c0(byte *param_1,char *param_2,int param_3)

{
  char cVar1;
  int iVar2;
  byte bVar3;
  ushort uVar4;
  uint uVar5;
  uint uVar6;
  bool bVar7;
  uint uVar8;
  
  iVar2 = _DAT_005f8d8c;
  if (param_3 != 0) {
    if (DAT_005a1338 == 0) {
      do {
        bVar3 = *param_1;
        cVar1 = *param_2;
        uVar4 = CONCAT11(bVar3,cVar1);
        if (bVar3 == 0) break;
        uVar4 = CONCAT11(bVar3,cVar1);
        uVar6 = (uint)uVar4;
        if (cVar1 == '\0') break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar6 = (uint)CONCAT11(bVar3 + 0x20,cVar1);
        }
        uVar4 = (ushort)uVar6;
        bVar3 = (byte)uVar6;
        if ((0x40 < bVar3) && (bVar3 < 0x5b)) {
          uVar4 = (ushort)CONCAT31((int3)(uVar6 >> 8),bVar3 + 0x20);
        }
        bVar3 = (byte)(uVar4 >> 8);
        bVar7 = bVar3 < (byte)uVar4;
        if (bVar3 != (byte)uVar4) goto LAB_004bd71f;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
      param_3 = 0;
      bVar3 = (byte)(uVar4 >> 8);
      bVar7 = bVar3 < (byte)uVar4;
      if (bVar3 != (byte)uVar4) {
LAB_004bd71f:
        param_3 = -1;
        if (!bVar7) {
          param_3 = 1;
        }
      }
    }
    else {
      LOCK();
      _DAT_005f8d8c = _DAT_005f8d8c + 1;
      UNLOCK();
      bVar7 = 0 < DAT_005f8d88;
      if (bVar7) {
        LOCK();
        UNLOCK();
        _DAT_005f8d8c = iVar2;
        EnterOrInitCriticalSection(0x13);
      }
      uVar8 = (uint)bVar7;
      uVar6 = 0;
      uVar5 = 0;
      do {
        uVar5 = CONCAT31((int3)(uVar5 >> 8),*param_1);
        uVar6 = CONCAT31((int3)(uVar6 >> 8),*param_2);
        if ((uVar5 == 0) || (uVar6 == 0)) break;
        param_1 = param_1 + 1;
        param_2 = param_2 + 1;
        uVar6 = FUN_004b9bb0(uVar6,uVar5);
        uVar5 = FUN_004b9bb0();
        bVar7 = uVar5 < uVar6;
        if (uVar5 != uVar6) goto LAB_004bd795;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
      param_3 = 0;
      bVar7 = uVar5 < uVar6;
      if (uVar5 != uVar6) {
LAB_004bd795:
        param_3 = -1;
        if (!bVar7) {
          param_3 = 1;
        }
      }
      if (uVar8 == 0) {
        LOCK();
        _DAT_005f8d8c = _DAT_005f8d8c + -1;
        UNLOCK();
      }
      else {
        LeaveCriticalSectionFunc(0x13);
      }
    }
  }
  return param_3;
}



int FUN_004bd7d0(LCID param_1,DWORD param_2,byte *param_3,LPWSTR param_4,byte *param_5,int param_6,
                UINT param_7)

{
  int iVar1;
  BOOL BVar2;
  BYTE *pBVar3;
  int cchWideChar;
  PCNZWCH lpWideCharStr;
  int iVar4;
  int iStack_18;
  _cpinfo _Stack_14;
  
  if (DAT_005a1778 == 0) {
    iVar1 = CompareStringW(0,0,L"",1,L"",1);
    if (iVar1 == 0) {
      iVar1 = CompareStringA(0,0,"",1,"",1);
      if (iVar1 == 0) {
        return 0;
      }
      DAT_005a1778 = 2;
    }
    else {
      DAT_005a1778 = 1;
    }
  }
  iVar1 = (int)param_4;
  if (0 < (int)param_4) {
    iVar1 = SafeStrnlen(param_3,param_4);
  }
  if (0 < param_6) {
    param_6 = SafeStrnlen(param_5,param_6);
  }
  if (DAT_005a1778 == 2) {
    iVar1 = CompareStringA(param_1,param_2,(PCNZCH)param_3,iVar1,(PCNZCH)param_5,param_6);
    return iVar1;
  }
  iStack_18 = DAT_005a1778;
  if (DAT_005a1778 == 1) {
    iStack_18 = 0;
    param_4 = (LPWSTR)0x0;
    if (param_7 == 0) {
      param_7 = DAT_005a1348;
    }
    if ((iVar1 == 0) || (param_6 == 0)) {
      if (iVar1 == param_6) {
        return 2;
      }
      if (1 < param_6) {
        return 1;
      }
      if (1 < iVar1) {
        return 3;
      }
      BVar2 = GetCPInfo(param_7,&_Stack_14);
      if (BVar2 == 0) {
        return 0;
      }
      if (0 < iVar1) {
        if (_Stack_14.MaxCharSize < 2) {
          return 3;
        }
        pBVar3 = _Stack_14.LeadByte;
        while( true ) {
          if ((_Stack_14.LeadByte[0] == 0) || (pBVar3[1] == 0)) {
            return 3;
          }
          if ((*pBVar3 <= *param_3) && (*param_3 <= pBVar3[1])) break;
          _Stack_14.LeadByte[0] = pBVar3[2];
          pBVar3 = pBVar3 + 2;
        }
        return 2;
      }
      if (0 < param_6) {
        if (_Stack_14.MaxCharSize < 2) {
          return 1;
        }
        pBVar3 = _Stack_14.LeadByte;
        while( true ) {
          if ((_Stack_14.LeadByte[0] == 0) || (pBVar3[1] == 0)) {
            return 1;
          }
          if ((*pBVar3 <= *param_5) && (*param_5 <= pBVar3[1])) break;
          _Stack_14.LeadByte[0] = pBVar3[2];
          pBVar3 = pBVar3 + 2;
        }
        return 2;
      }
    }
    cchWideChar = MultiByteToWideChar(param_7,9,(LPCSTR)param_3,iVar1,(LPWSTR)0x0,0);
    if (cchWideChar == 0) {
      return 0;
    }
    lpWideCharStr = (PCNZWCH)AllocateMemoryWithCallback(cchWideChar * 2);
    if (lpWideCharStr == (PCNZWCH)0x0) {
      return 0;
    }
    iVar1 = MultiByteToWideChar(param_7,1,(LPCSTR)param_3,iVar1,lpWideCharStr,cchWideChar);
    if ((((iVar1 != 0) &&
         (iVar1 = MultiByteToWideChar(param_7,9,(LPCSTR)param_5,param_6,(LPWSTR)0x0,0), iVar1 != 0))
        && (param_4 = (LPWSTR)AllocateMemoryWithCallback(iVar1 * 2), param_4 != (LPWSTR)0x0)) &&
       (iVar4 = MultiByteToWideChar(param_7,1,(LPCSTR)param_5,param_6,param_4,iVar1), iVar4 != 0)) {
      iStack_18 = CompareStringW(param_1,param_2,lpWideCharStr,cchWideChar,param_4,iVar1);
    }
    FreeMemory(lpWideCharStr);
    FreeMemory(param_4);
  }
  return iStack_18;
}



// /*
//  * Function: SafeStrnlen (originally FUN_004bdaa0)
//  * Description:
//  *   This function calculates the length of a string (`param_1`) up to a maximum of `param_2`
// characters.
//  *   It stops either when it encounters the null terminator (`\0`) or after processing `param_2`
// characters.
//  *   The function returns the number of characters in the string or the value of `param_2` if no
// null terminator is found.
//  *
//  * Parameters:
//  *   param_1 - Pointer to the string to be processed
//  *   param_2 - Maximum number of characters to process
//  *
//  * Returns:
//  *   The length of the string, or `param_2` if no null terminator is found within the first
// `param_2` characters.
//  */
// 

int SafeStrnlen(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  
  pcVar1 = param_1;
  iVar2 = param_2;
  if (param_2 != 0) {
    do {
      iVar2 = iVar2 + -1;
      if (*pcVar1 == '\0') break;
      pcVar1 = pcVar1 + 1;
    } while (iVar2 != 0);
  }
  if (*pcVar1 == '\0') {
    return (int)pcVar1 - (int)param_1;
  }
  return param_2;
}



undefined4 FUN_004bdad0(char *param_1,int param_2)

{
  char cVar1;
  int iVar2;
  int *piVar3;
  char *pcVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  undefined4 *lpName;
  uint uVar8;
  uint uVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  bool bVar12;
  
  if (param_1 == (char *)0x0) {
    return 0xffffffff;
  }
  pcVar4 = (char *)FUN_004be1f0(param_1,0x3d);
  if (pcVar4 == (char *)0x0) {
    return 0xffffffff;
  }
  if (param_1 == pcVar4) {
    return 0xffffffff;
  }
  bVar12 = pcVar4[1] == '\0';
  if (DAT_005a126c == DAT_005a1270) {
    DAT_005a126c = (int *)FUN_004bdd60(DAT_005a126c);
  }
  if (DAT_005a126c == (int *)0x0) {
    if ((param_2 == 0) || (DAT_005a1274 == (undefined4 *)0x0)) {
      if (bVar12) {
        return 0;
      }
      DAT_005a126c = (int *)AllocateMemoryWithCallback(4);
      if (DAT_005a126c == (int *)0x0) {
        return 0xffffffff;
      }
      *DAT_005a126c = 0;
      if (DAT_005a1274 == (undefined4 *)0x0) {
        DAT_005a1274 = (undefined4 *)AllocateMemoryWithCallback(4);
        if (DAT_005a1274 == (undefined4 *)0x0) {
          return 0xffffffff;
        }
        *DAT_005a1274 = 0;
      }
    }
    else {
      iVar5 = FUN_004bca80();
      if (iVar5 != 0) {
        return 0xffffffff;
      }
    }
  }
  piVar7 = DAT_005a126c;
  iVar6 = (int)pcVar4 - (int)param_1;
  iVar5 = FUN_004bdce0(param_1,iVar6);
  if ((iVar5 < 0) || (*piVar7 == 0)) {
    if (bVar12) {
      return 0;
    }
    if (iVar5 < 0) {
      iVar5 = -iVar5;
    }
    piVar7 = (int *)FUN_004be040(piVar7,iVar5 * 4 + 8);
    if (piVar7 == (int *)0x0) {
      return 0xffffffff;
    }
    piVar7[iVar5] = (int)param_1;
    piVar7[iVar5 + 1] = 0;
    DAT_005a126c = piVar7;
  }
  else if (bVar12) {
    FreeMemory(piVar7[iVar5]);
    iVar2 = piVar7[iVar5];
    piVar3 = piVar7 + iVar5;
    while (iVar2 != 0) {
      *piVar3 = piVar3[1];
      iVar5 = iVar5 + 1;
      iVar2 = piVar3[1];
      piVar3 = piVar3 + 1;
    }
    piVar7 = (int *)FUN_004be040(piVar7,iVar5 * 4);
    if (piVar7 != (int *)0x0) {
      DAT_005a126c = piVar7;
    }
  }
  else {
    piVar7[iVar5] = (int)param_1;
  }
  if (param_2 != 0) {
    uVar8 = 0xffffffff;
    pcVar4 = param_1;
    do {
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      cVar1 = *pcVar4;
      pcVar4 = pcVar4 + 1;
    } while (cVar1 != '\0');
    lpName = (undefined4 *)AllocateMemoryWithCallback(~uVar8 + 1);
    if (lpName != (undefined4 *)0x0) {
      uVar8 = 0xffffffff;
      do {
        pcVar4 = param_1;
        if (uVar8 == 0) break;
        uVar8 = uVar8 - 1;
        pcVar4 = param_1 + 1;
        cVar1 = *param_1;
        param_1 = pcVar4;
      } while (cVar1 != '\0');
      uVar8 = ~uVar8;
      puVar10 = (undefined4 *)(pcVar4 + -uVar8);
      puVar11 = lpName;
      for (uVar9 = uVar8 >> 2; uVar9 != 0; uVar9 = uVar9 - 1) {
        *puVar11 = *puVar10;
        puVar10 = puVar10 + 1;
        puVar11 = puVar11 + 1;
      }
      for (uVar8 = uVar8 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
        *(undefined *)puVar11 = *(undefined *)puVar10;
        puVar10 = (undefined4 *)((int)puVar10 + 1);
        puVar11 = (undefined4 *)((int)puVar11 + 1);
      }
      *(undefined *)((int)lpName + iVar6) = 0;
      SetEnvironmentVariableA((LPCSTR)lpName,(LPCSTR)(~-(uint)bVar12 & (int)lpName + iVar6 + 1));
      FreeMemory(lpName);
      return 0;
    }
  }
  return 0;
}



int FUN_004bdce0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = *DAT_005a126c;
  piVar2 = DAT_005a126c;
  if (iVar1 == 0) {
    return 0;
  }
  while ((iVar1 = FUN_004bca40(param_1,iVar1,param_2), iVar1 != 0 ||
         ((*(char *)(*piVar2 + param_2) != '=' && (*(char *)(*piVar2 + param_2) != '\0'))))) {
    iVar1 = piVar2[1];
    piVar2 = piVar2 + 1;
    if (iVar1 == 0) {
      return -((int)piVar2 - (int)DAT_005a126c >> 2);
    }
  }
  return (int)piVar2 - (int)DAT_005a126c >> 2;
}



undefined4 * FUN_004bdd60(int *param_1)

{
  int iVar1;
  int *piVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  int iVar5;
  undefined4 *puVar6;
  
  iVar5 = 0;
  if (param_1 != (int *)0x0) {
    iVar1 = *param_1;
    piVar2 = param_1;
    while (iVar1 != 0) {
      piVar2 = piVar2 + 1;
      iVar5 = iVar5 + 1;
      iVar1 = *piVar2;
    }
    puVar3 = (undefined4 *)AllocateMemoryWithCallback(iVar5 * 4 + 4);
    if (puVar3 == (undefined4 *)0x0) {
      __amsg_exit(9);
    }
    iVar5 = *param_1;
    puVar6 = puVar3;
    while (iVar5 != 0) {
      param_1 = param_1 + 1;
      uVar4 = FUN_004be2c0(iVar5);
      *puVar6 = uVar4;
      puVar6 = puVar6 + 1;
      iVar5 = *param_1;
    }
    *puVar6 = 0;
    return puVar3;
  }
  return (undefined4 *)0x0;
}



int FUN_004bddd0(LCID param_1,LCTYPE param_2,LPWSTR param_3,int param_4,UINT param_5)

{
  int iVar1;
  LPSTR lpLCData;
  
  if (DAT_005a177c == 0) {
    iVar1 = GetLocaleInfoW(0,1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = GetLocaleInfoA(0,1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        return 0;
      }
      DAT_005a177c = 2;
    }
    else {
      DAT_005a177c = 1;
    }
  }
  if (DAT_005a177c == 1) {
    iVar1 = GetLocaleInfoW(param_1,param_2,param_3,param_4);
    return iVar1;
  }
  if (DAT_005a177c != 2) {
    return DAT_005a177c;
  }
  if (param_5 == 0) {
    param_5 = DAT_005a1348;
  }
  iVar1 = GetLocaleInfoA(param_1,param_2,(LPSTR)0x0,0);
  if (iVar1 != 0) {
    lpLCData = (LPSTR)AllocateMemoryWithCallback(iVar1);
    if (lpLCData == (LPSTR)0x0) {
      return 0;
    }
    iVar1 = GetLocaleInfoA(param_1,param_2,lpLCData,iVar1);
    if (iVar1 != 0) {
      if (param_4 == 0) {
        iVar1 = MultiByteToWideChar(param_5,1,lpLCData,-1,(LPWSTR)0x0,0);
        if (iVar1 != 0) {
          FreeMemory(lpLCData);
          return iVar1;
        }
      }
      else {
        iVar1 = MultiByteToWideChar(param_5,1,lpLCData,-1,param_3,param_4);
        if (iVar1 != 0) {
          FreeMemory(lpLCData);
          return iVar1;
        }
      }
    }
    FreeMemory(lpLCData);
    return 0;
  }
  return 0;
}



int FUN_004bdf00(LCID param_1,LCTYPE param_2,LPSTR param_3,int param_4,UINT param_5)

{
  int iVar1;
  LPWSTR lpLCData;
  
  if (DAT_005a1780 == 0) {
    iVar1 = GetLocaleInfoW(0,1,(LPWSTR)0x0,0);
    if (iVar1 == 0) {
      iVar1 = GetLocaleInfoA(0,1,(LPSTR)0x0,0);
      if (iVar1 == 0) {
        return 0;
      }
      DAT_005a1780 = 2;
    }
    else {
      DAT_005a1780 = 1;
    }
  }
  if (DAT_005a1780 == 2) {
    iVar1 = GetLocaleInfoA(param_1,param_2,param_3,param_4);
    return iVar1;
  }
  if (DAT_005a1780 != 1) {
    return DAT_005a1780;
  }
  if (param_5 == 0) {
    param_5 = DAT_005a1348;
  }
  iVar1 = GetLocaleInfoW(param_1,param_2,(LPWSTR)0x0,0);
  if (iVar1 != 0) {
    lpLCData = (LPWSTR)AllocateMemoryWithCallback(iVar1 * 2);
    if (lpLCData == (LPWSTR)0x0) {
      return 0;
    }
    iVar1 = GetLocaleInfoW(param_1,param_2,lpLCData,iVar1);
    if (iVar1 != 0) {
      if (param_4 == 0) {
        iVar1 = WideCharToMultiByte(param_5,0x220,lpLCData,-1,(LPSTR)0x0,0,(LPCSTR)0x0,(LPBOOL)0x0);
        if (iVar1 != 0) {
          FreeMemory(lpLCData);
          return iVar1;
        }
      }
      else {
        iVar1 = WideCharToMultiByte(param_5,0x220,lpLCData,-1,param_3,param_4,(LPCSTR)0x0,
                                    (LPBOOL)0x0);
        if (iVar1 != 0) {
          FreeMemory(lpLCData);
          return iVar1;
        }
      }
    }
    FreeMemory(lpLCData);
    return 0;
  }
  return 0;
}



undefined4 * FUN_004be040(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 local_8;
  undefined4 local_4;
  
  if (param_1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)AllocateMemoryWithCallback(param_2);
    return puVar1;
  }
  if (param_2 == 0) {
    FreeMemory(param_1);
    return (undefined4 *)0x0;
  }
  uVar4 = param_2;
  if (param_2 < 0xffffffe1) {
    if (param_2 == 0) {
      param_2 = 0x10;
      uVar4 = param_2;
    }
    else {
      param_2 = param_2 + 0xf & 0xfffffff0;
      uVar4 = param_2;
    }
  }
  do {
    puVar1 = (undefined4 *)0x0;
    if (uVar4 < 0xffffffe1) {
      EnterOrInitCriticalSection(9);
      pbVar2 = (byte *)ValidateMemoryBlock(param_1,&local_4,&local_8);
      if (pbVar2 == (byte *)0x0) {
        LeaveCriticalSectionFunc(9);
        puVar1 = (undefined4 *)HeapReAlloc(gHeapMemory,0,param_1,uVar4);
      }
      else {
        if (uVar4 < DAT_004d619c) {
          iVar3 = FUN_004b39b0(local_4,local_8,pbVar2,uVar4 >> 4);
          puVar1 = param_1;
          if (iVar3 != 0) goto LAB_004be145;
          puVar1 = (undefined4 *)AllocateCustomMemoryBlock(uVar4 >> 4);
          if (puVar1 != (undefined4 *)0x0) {
            uVar5 = (uint)*pbVar2 << 4;
            if (uVar4 <= (uint)*pbVar2 << 4) {
              uVar5 = uVar4;
            }
            puVar6 = param_1;
            puVar7 = puVar1;
            for (uVar4 = uVar5 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
              *puVar7 = *puVar6;
              puVar6 = puVar6 + 1;
              puVar7 = puVar7 + 1;
            }
            for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
              *(undefined *)puVar7 = *(undefined *)puVar6;
              puVar6 = (undefined4 *)((int)puVar6 + 1);
              puVar7 = (undefined4 *)((int)puVar7 + 1);
            }
            UpdateMemoryBlockMetadata(local_4,local_8,pbVar2);
            uVar4 = param_2;
            goto LAB_004be145;
          }
LAB_004be149:
          puVar1 = (undefined4 *)HeapAlloc(gHeapMemory,0,uVar4);
          if (puVar1 != (undefined4 *)0x0) {
            uVar5 = (uint)*pbVar2 << 4;
            if (uVar4 <= (uint)*pbVar2 << 4) {
              uVar5 = uVar4;
            }
            puVar6 = param_1;
            puVar7 = puVar1;
            for (uVar4 = uVar5 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
              *puVar7 = *puVar6;
              puVar6 = puVar6 + 1;
              puVar7 = puVar7 + 1;
            }
            for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
              *(undefined *)puVar7 = *(undefined *)puVar6;
              puVar6 = (undefined4 *)((int)puVar6 + 1);
              puVar7 = (undefined4 *)((int)puVar7 + 1);
            }
            UpdateMemoryBlockMetadata(local_4,local_8,pbVar2);
            uVar4 = param_2;
          }
        }
        else {
LAB_004be145:
          if (puVar1 == (undefined4 *)0x0) goto LAB_004be149;
        }
        LeaveCriticalSectionFunc(9);
      }
    }
    if ((puVar1 != (undefined4 *)0x0) || (DAT_005a130c == 0)) {
      return puVar1;
    }
    iVar3 = InvokeCallbackIfExists(uVar4);
    if (iVar3 == 0) {
      return (undefined4 *)0x0;
    }
  } while( true );
}



byte * FUN_004be1f0(byte *param_1,uint param_2)

{
  byte bVar1;
  uint uVar2;
  byte *pbVar3;
  
  if (DAT_005a16a8 == 0) {
    pbVar3 = (byte *)FUN_004b5870(param_1,param_2);
    return pbVar3;
  }
  EnterOrInitCriticalSection(0x19);
  bVar1 = *param_1;
  while (uVar2 = (uint)bVar1, bVar1 != 0) {
    if (((&DAT_005a14a1)[uVar2] & 4) == 0) {
      pbVar3 = param_1;
      if (param_2 == uVar2) break;
    }
    else {
      pbVar3 = param_1 + 1;
      if (param_1[1] == 0) {
        LeaveCriticalSectionFunc(0x19);
        return (byte *)0x0;
      }
      if (param_2 == CONCAT11(bVar1,param_1[1])) {
        LeaveCriticalSectionFunc(0x19);
        return param_1;
      }
    }
    param_1 = pbVar3 + 1;
    bVar1 = pbVar3[1];
  }
  LeaveCriticalSectionFunc(0x19);
  return (byte *)((param_2 != uVar2) - 1 & (uint)param_1);
}



undefined4 * FUN_004be2c0(char *param_1)

{
  char cVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  char *pcVar6;
  undefined4 *puVar7;
  
  if (param_1 != (char *)0x0) {
    uVar3 = 0xffffffff;
    pcVar6 = param_1;
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      cVar1 = *pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (cVar1 != '\0');
    puVar2 = (undefined4 *)AllocateMemoryWithCallback(~uVar3);
    if (puVar2 != (undefined4 *)0x0) {
      uVar3 = 0xffffffff;
      do {
        pcVar6 = param_1;
        if (uVar3 == 0) break;
        uVar3 = uVar3 - 1;
        pcVar6 = param_1 + 1;
        cVar1 = *param_1;
        param_1 = pcVar6;
      } while (cVar1 != '\0');
      uVar3 = ~uVar3;
      puVar5 = (undefined4 *)(pcVar6 + -uVar3);
      puVar7 = puVar2;
      for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
        *puVar7 = *puVar5;
        puVar5 = puVar5 + 1;
        puVar7 = puVar7 + 1;
      }
      for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
        *(undefined *)puVar7 = *(undefined *)puVar5;
        puVar5 = (undefined4 *)((int)puVar5 + 1);
        puVar7 = (undefined4 *)((int)puVar7 + 1);
      }
      return puVar2;
    }
  }
  return (undefined4 *)0x0;
}



void DirectInputCreateA(void)

{
                    // WARNING: Could not recover jumptable at 0x004bf3b8. Too many branches
                    // WARNING: Treating indirect jump as call
  DirectInputCreateA();
  return;
}



void tp_DestroyScreen(void)

{
                    // WARNING: Could not recover jumptable at 0x004bf69e. Too many branches
                    // WARNING: Treating indirect jump as call
  tp_DestroyScreen();
  return;
}



void tp_SetKey(void)

{
                    // WARNING: Could not recover jumptable at 0x004bf6a4. Too many branches
                    // WARNING: Treating indirect jump as call
  tp_SetKey();
  return;
}



void tp_StatusGet(void)

{
                    // WARNING: Could not recover jumptable at 0x004bf6aa. Too many branches
                    // WARNING: Treating indirect jump as call
  tp_StatusGet();
  return;
}



void tp_HaveScreen(void)

{
                    // WARNING: Could not recover jumptable at 0x004bf6b0. Too many branches
                    // WARNING: Treating indirect jump as call
  tp_HaveScreen();
  return;
}



void RtlUnwind(PVOID TargetFrame,PVOID TargetIp,PEXCEPTION_RECORD ExceptionRecord,PVOID ReturnValue)

{
                    // WARNING: Could not recover jumptable at 0x004bf6b6. Too many branches
                    // WARNING: Treating indirect jump as call
  RtlUnwind(TargetFrame,TargetIp,ExceptionRecord,ReturnValue);
  return;
}


